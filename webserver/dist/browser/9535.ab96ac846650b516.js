"use strict";(self.webpackChunkparcel_app=self.webpackChunkparcel_app||[]).push([[9535],{36592:(V,j,d)=>{d.d(j,{Q:()=>I});var g=d(85931),T=d(62208),P=d(77029),R=d(14259);class I{constructor(t=9,n){this._compareMinX=_,this._compareMinY=M,this._toBBox=e=>e,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}destroy(){this.clear(),v.prune(),W.prune(),B.prune(),F.prune()}all(t){this._all(this._data,t)}search(t,n){let e=this._data;const s=this._toBBox;if(D(t,e))for(v.clear();e;){for(let o=0,a=e.children.length;o<a;o++){const r=e.children[o],h=e.leaf?s(r):r;D(t,h)&&(e.leaf?n(r):A(t,h)?this._all(r,n):v.push(r))}e=v.pop()}}collides(t){let n=this._data;const e=this._toBBox;if(!D(t,n))return!1;for(v.clear();n;){for(let s=0,o=n.children.length;s<o;s++){const a=n.children[s],r=n.leaf?e(a):a;if(D(t,r)){if(n.leaf||A(t,r))return!0;v.push(a)}}n=v.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,s=t.length;e<s;e++)this.insert(t[e]);return this}let n=this._build(t.slice(0,t.length),0,t.length-1,0);if(this._data.children.length)if(this._data.height===n.height)this._splitRoot(this._data,n);else{if(this._data.height<n.height){const e=this._data;this._data=n,n=e}this._insert(n,this._data.height-n.height-1,!0)}else this._data=n;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new X([]),this}remove(t){if(!t)return this;let n,e=this._data,s=null,o=0,a=!1;const r=this._toBBox(t);for(B.clear(),F.clear();e||B.length>0;){if(e||(e=(0,T.j0)(B.pop()),s=B.data[B.length-1],o=F.pop()??0,a=!0),e.leaf&&(n=(0,g.cq)(e.children,t,e.children.length,e.indexHint),-1!==n))return e.children.splice(n,1),B.push(e),this._condense(B),this;a||e.leaf||!A(e,r)?s?(o++,e=s.children[o],a=!1):e=null:(B.push(e),F.push(o),o=0,s=e,e=e.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_all(t,n){let e=t;for(W.clear();e;){if(!0===e.leaf)for(const s of e.children)n(s);else W.pushArray(e.children);e=W.pop()??null}}_build(t,n,e,s){const o=e-n+1;let a=this._maxEntries;if(o<=a){const c=new X(t.slice(n,e+1));return O(c,this._toBBox),c}s||(s=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/a**(s-1)));const r=new U([]);r.height=s;const h=Math.ceil(o/a),m=h*Math.ceil(Math.sqrt(a));S(t,n,e,m,this._compareMinX);for(let c=n;c<=e;c+=m){const l=Math.min(c+m-1,e);S(t,c,l,h,this._compareMinY);for(let E=c;E<=l;E+=h){const w=Math.min(E+h-1,l);r.children.push(this._build(t,E,w,s-1))}}return O(r,this._toBBox),r}_chooseSubtree(t,n,e,s){for(;s.push(n),!0!==n.leaf&&s.length-1!==e;){let o,a=1/0,r=1/0;for(let h=0,m=n.children.length;h<m;h++){const c=n.children[h],l=p(c),E=x(t,c)-l;E<r?(r=E,a=l<a?l:a,o=c):E===r&&l<a&&(a=l,o=c)}n=o||n.children[0]}return n}_insert(t,n,e){const o=e?t:(0,this._toBBox)(t);B.clear();const a=this._chooseSubtree(o,this._data,n,B);for(a.children.push(t),u(a,o);n>=0&&B.data[n].children.length>this._maxEntries;)this._split(B,n),n--;this._adjustParentBBoxes(o,B,n)}_split(t,n){const e=t.data[n],s=e.children.length,o=this._minEntries;this._chooseSplitAxis(e,o,s);const a=this._chooseSplitIndex(e,o,s);if(!a)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const r=e.children.splice(a,e.children.length-a),h=e.leaf?new X(r):new U(r);h.height=e.height,O(e,this._toBBox),O(h,this._toBBox),n?t.data[n-1].children.push(h):this._splitRoot(e,h)}_splitRoot(t,n){this._data=new U([t,n]),this._data.height=t.height+1,O(this._data,this._toBBox)}_chooseSplitIndex(t,n,e){let s,o,a;s=o=1/0;for(let r=n;r<=e-n;r++){const h=y(t,0,r,this._toBBox),m=y(t,r,e,this._toBBox),c=Y(h,m),l=p(h)+p(m);c<s?(s=c,a=r,o=l<o?l:o):c===s&&l<o&&(o=l,a=r)}return a}_chooseSplitAxis(t,n,e){const s=t.leaf?this._compareMinX:_,o=t.leaf?this._compareMinY:M;this._allDistMargin(t,n,e,s)<this._allDistMargin(t,n,e,o)&&t.children.sort(s)}_allDistMargin(t,n,e,s){t.children.sort(s);const o=this._toBBox,a=y(t,0,n,o),r=y(t,e-n,e,o);let h=f(a)+f(r);for(let m=n;m<e-n;m++){const c=t.children[m];u(a,t.leaf?o(c):c),h+=f(a)}for(let m=e-n-1;m>=n;m--){const c=t.children[m];u(r,t.leaf?o(c):c),h+=f(r)}return h}_adjustParentBBoxes(t,n,e){for(let s=e;s>=0;s--)u(n.data[s],t)}_condense(t){for(let n=t.length-1;n>=0;n--){const e=t.data[n];if(0===e.children.length)if(n>0){const s=t.data[n-1],o=s.children;o.splice((0,g.cq)(o,e,o.length,s.indexHint),1)}else this.clear();else O(e,this._toBBox)}}_initFormat(t){const n=["return a"," - b",";"];this._compareMinX=new Function("a","b",n.join(t[0])),this._compareMinY=new Function("a","b",n.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function O(i,t){y(i,0,i.children.length,t,i)}function y(i,t,n,e,s){s||(s=new X([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let o,a=t;a<n;a++)o=i.children[a],u(s,i.leaf?e(o):o);return s}function u(i,t){i.minX=Math.min(i.minX,t.minX),i.minY=Math.min(i.minY,t.minY),i.maxX=Math.max(i.maxX,t.maxX),i.maxY=Math.max(i.maxY,t.maxY)}function _(i,t){return i.minX-t.minX}function M(i,t){return i.minY-t.minY}function p(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function f(i){return i.maxX-i.minX+(i.maxY-i.minY)}function x(i,t){return(Math.max(t.maxX,i.maxX)-Math.min(t.minX,i.minX))*(Math.max(t.maxY,i.maxY)-Math.min(t.minY,i.minY))}function Y(i,t){const n=Math.max(i.minX,t.minX),e=Math.max(i.minY,t.minY),s=Math.min(i.maxX,t.maxX),o=Math.min(i.maxY,t.maxY);return Math.max(0,s-n)*Math.max(0,o-e)}function A(i,t){return i.minX<=t.minX&&i.minY<=t.minY&&t.maxX<=i.maxX&&t.maxY<=i.maxY}function D(i,t){return t.minX<=i.maxX&&t.minY<=i.maxY&&t.maxX>=i.minX&&t.maxY>=i.minY}function S(i,t,n,e,s){const o=[t,n];for(;o.length;){const a=(0,T.j0)(o.pop()),r=(0,T.j0)(o.pop());if(a-r<=e)continue;const h=r+Math.ceil((a-r)/e/2)*e;(0,R.q)(i,h,r,a,s),o.push(r,h,h,a)}}const v=new P.Z,W=new P.Z,B=new P.Z,F=new P.Z({deallocator:void 0});class b{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class K extends b{constructor(){super(...arguments),this.height=1,this.indexHint=new g.SO}}class X extends K{constructor(t){super(),this.children=t,this.leaf=!0}}class U extends K{constructor(t){super(),this.children=t,this.leaf=!1}}},81863:(V,j,d)=>{d.d(j,{GG:()=>R,rS:()=>u,wY:()=>y});var g=d(92383),T=d(65234),P=d(37053);const R=new T.Z(g.kU),I=new T.Z(g.JL),O=new T.Z(g.mM),y=new T.Z(g.pn);function u(_){return _&&((0,P.BZ)(_)||(0,P.fS)(_,I))?I:_&&((0,P.V2)(_)||(0,P.fS)(_,O))?O:R}},28149:(V,j,d)=>{d.r(j),d.d(j,{default:()=>O});var g=d(15861),T=d(8314),P=d(62208),R=d(36592),I=d(60853);class O{createIndex(_,M){var p=this;return(0,g.Z)(function*(){const f=new Array;if(!_.vertexAttributes||!_.vertexAttributes.position)return new R.Q;const x=p._createMeshData(_),Y=(0,P.pC)(M)?yield M.invoke("createIndexThread",x,{transferList:f}):p.createIndexThread(x).result;return p._createPooledRBush().fromJSON(Y)})()}createIndexThread(_){const M=new Float64Array(_.position),p=this._createPooledRBush();return _.components?this._createIndexComponentsThread(p,M,_.components.map(f=>new Uint32Array(f))):this._createIndexAllThread(p,M)}_createIndexAllThread(_,M){const p=new Array(M.length/9);let f=0;for(let x=0;x<M.length;x+=9)p[f++]=y(M,x+0,x+3,x+6);return _.load(p),{result:_.toJSON()}}_createIndexComponentsThread(_,M,p){let f=0;for(const A of p)f+=A.length/3;const x=new Array(f);let Y=0;for(const A of p)for(let D=0;D<A.length;D+=3)x[Y++]=y(M,3*A[D+0],3*A[D+1],3*A[D+2]);return _.load(x),{result:_.toJSON()}}_createMeshData(_){const M=(_.transform?(0,I.I5)({position:_.vertexAttributes.position,normal:null,tangent:null},_.transform,_.spatialReference).position:_.vertexAttributes.position).buffer;return!_.components||_.components.some(p=>!p.faces)?{position:M}:{position:M,components:_.components.map(p=>p.faces)}}_createPooledRBush(){return new R.Q(9,(0,T.Z)("esri-csp-restrictions")?_=>_:[".minX",".minY",".maxX",".maxY"])}}function y(u,_,M,p){return{minX:Math.min(u[_+0],u[M+0],u[p+0]),maxX:Math.max(u[_+0],u[M+0],u[p+0]),minY:Math.min(u[_+1],u[M+1],u[p+1]),maxY:Math.max(u[_+1],u[M+1],u[p+1]),p0:[u[_+0],u[_+1],u[_+2]],p1:[u[M+0],u[M+1],u[M+2]],p2:[u[p+0],u[p+1],u[p+2]]}}},65231:(V,j,d)=>{d.d(j,{Iz:()=>A,M2:()=>K,To:()=>v,VS:()=>F,XO:()=>S,Yk:()=>D,w9:()=>B,wi:()=>b,zZ:()=>W});var g=d(63290),T=d(62208),P=d(30217),R=d(550),I=d(43703),O=d(84161),y=d(28093),u=d(55915),_=d(81863),M=d(37053),p=d(46367),f=d(60479),x=d(79800);const Y=g.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function A(r,h,m,c,l){return U(c)?(X(n.TO_PCPF,f.ct.fromTypedArray(r),f.fP.fromTypedArray(h),f.fP.fromTypedArray(m),c,f.ct.fromTypedArray(l)),l):(Y.error("Cannot convert spatial reference to PCPF"),l)}function D(r,h,m,c,l){return U(c)?(X(n.FROM_PCPF,f.ct.fromTypedArray(r),f.fP.fromTypedArray(h),f.fP.fromTypedArray(m),c,f.ct.fromTypedArray(l)),l):(Y.error("Cannot convert to spatial reference from PCPF"),l)}function S(r,h,m){return(0,u.CM)(r,h,0,m,(0,_.rS)(h),0,r.length/3),m}function v(r,h,m){return(0,u.CM)(r,(0,_.rS)(m),0,h,m,0,r.length/3),h}function W(r,h,m){if((0,T.Wi)(r))return h;const c=f.fP.fromTypedArray(r),l=f.fP.fromTypedArray(h);return(0,x.t)(l,c,m),h}function B(r,h,m){if((0,T.Wi)(r))return h;(0,P.b)(a,m);const c=f.ct.fromTypedArray(r),l=f.ct.fromTypedArray(h);return(0,x.a)(l,c,a),(0,P.i)(a)||(0,x.n)(l,l),h}function F(r,h,m){if((0,T.Wi)(r))return h;(0,P.b)(a,m);const c=f.ct.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),l=f.ct.fromTypedArray(h,4*Float32Array.BYTES_PER_ELEMENT);if((0,x.a)(l,c,a),(0,P.i)(a)||(0,x.n)(l,l),r!==h)for(let E=3;E<r.length;E+=4)h[E]=r[E];return h}function b(r,h,m,c,l){if(!U(c))return Y.error("Cannot convert spatial reference to PCPF"),l;X(n.TO_PCPF,f.ct.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),f.fP.fromTypedArray(h),f.fP.fromTypedArray(m),c,f.ct.fromTypedArray(l,4*Float32Array.BYTES_PER_ELEMENT));for(let E=3;E<r.length;E+=4)l[E]=r[E];return l}function K(r,h,m,c,l){if(!U(c))return Y.error("Cannot convert to spatial reference from PCPF"),l;X(n.FROM_PCPF,f.ct.fromTypedArray(r,16),f.fP.fromTypedArray(h),f.fP.fromTypedArray(m),c,f.ct.fromTypedArray(l,16));for(let E=3;E<r.length;E+=4)l[E]=r[E];return l}function X(r,h,m,c,l,E){if(!h)return;const w=m.count,Z=(0,_.rS)(l);if(i(l))for(let C=0;C<w;C++)c.getVec(C,e),h.getVec(C,s),(0,u.Bm)(Z,e,o,Z),(0,P.f)(a,o),r===n.FROM_PCPF&&(0,P.t)(a,a),(0,O.t)(s,s,a),E.setVec(C,s);else for(let C=0;C<w;C++){c.getVec(C,e),h.getVec(C,s),(0,u.Bm)(Z,e,o,Z),(0,P.f)(a,o);const N=(0,p.mZ)(m.get(C,1));let L=Math.cos(N);r===n.TO_PCPF&&(L=1/L),a[0]*=L,a[1]*=L,a[2]*=L,a[3]*=L,a[4]*=L,a[5]*=L,r===n.FROM_PCPF&&(0,P.t)(a,a),(0,O.t)(s,s,a),(0,O.n)(s,s),E.setVec(C,s)}return E}function U(r){return i(r)||function t(r){return r.isWebMercator}(r)}function i(r){return r.isWGS84||(0,M.yW)(r)||(0,M.BZ)(r)||(0,M.V2)(r)}var n,r;(r=n||(n={}))[r.TO_PCPF=0]="TO_PCPF",r[r.FROM_PCPF=1]="FROM_PCPF";const e=(0,y.c)(),s=(0,y.c)(),o=(0,I.c)(),a=(0,R.c)()}}]);