"use strict";(self.webpackChunkparcel_app=self.webpackChunkparcel_app||[]).push([[4998],{11915:(k,z,p)=>{p.d(z,{e:()=>v});var C,f,v={};C={get exports(){return v},set exports(m){v=m}},void 0!==(f=function(){function m(t,s,i){i=i||2;var n,h,d,l,P,Z,K,Q=s&&s.length,F=Q?s[0]*i:t.length,H=y(t,0,F,i,!0),I=[];if(!H||H.next===H.prev)return I;if(Q&&(H=function e(t,s,i,n){var h,d,l,P=[];for(h=0,d=s.length;h<d;h++)(l=y(t,s[h]*n,h<d-1?s[h+1]*n:t.length,n,!1))===l.next&&(l.steiner=!0),P.push(D(l));for(P.sort(r),h=0;h<P.length;h++)i=M(i=u(P[h],i),i.next);return i}(t,s,H,i)),t.length>80*i){n=d=t[0],h=l=t[1];for(var U=i;U<F;U+=i)(P=t[U])<n&&(n=P),(Z=t[U+1])<h&&(h=Z),P>d&&(d=P),Z>l&&(l=Z);K=0!==(K=Math.max(d-n,l-h))?1/K:0}return S(H,I,i,n,h,K),I}function y(t,s,i,n,h){var d,l;if(h===N(t,s,i,n)>0)for(d=s;d<i;d+=n)l=et(d,t[d],t[d+1],l);else for(d=i-n;d>=s;d-=n)l=et(d,t[d],t[d+1],l);if(l&&X(l,l.next)){var P=l.next;q(l),l=P}return l}function M(t,s){if(!t)return t;s||(s=t);var i,n=t;do{if(i=!1,n.steiner||!X(n,n.next)&&0!==R(n.prev,n,n.next))n=n.next;else{var h=n.prev;if(q(n),(n=s=h)===n.next)break;i=!0}}while(i||n!==s);return s}function S(t,s,i,n,h,d,l){if(t){!l&&d&&function c(t,s,i,n){var h=t;do{null===h.z&&(h.z=V(h.x,h.y,s,i,n)),h.prevZ=h.prev,h.nextZ=h.next,h=h.next}while(h!==t);h.prevZ.nextZ=null,h.prevZ=null,function _(t){var s,i,n,h,d,l,P,Z,K=1;do{for(i=t,t=null,d=null,l=0;i;){for(l++,n=i,P=0,s=0;s<K&&(P++,n=n.nextZ);s++);for(Z=K;P>0||Z>0&&n;)0!==P&&(0===Z||!n||i.z<=n.z)?(h=i,i=i.nextZ,P--):(h=n,n=n.nextZ,Z--),d?d.nextZ=h:t=h,h.prevZ=d,d=h;i=n}d.nextZ=null,K*=2}while(l>1)}(h)}(t,n,h,d);for(var P,Z,K=t;t.prev!==t.next;)if(P=t.prev,Z=t.next,d?B(t,n,h,d):L(t))s.push(P.i/i),s.push(t.i/i),s.push(Z.i/i),q(t),t=Z.next,K=Z.next;else if((t=Z)===K){l?1===l?S(t=j(M(t),s,i),s,i,n,h,d,2):2===l&&A(t,s,i,n,h,d):S(M(t),s,i,n,h,d,1);break}}}function L(t){var s=t.prev,i=t,n=t.next;if(R(s,i,n)>=0)return!1;for(var h=t.next.next;h!==t.prev;){if(O(s.x,s.y,i.x,i.y,n.x,n.y,h.x,h.y)&&R(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function B(t,s,i,n){var h=t.prev,d=t,l=t.next;if(R(h,d,l)>=0)return!1;for(var K=h.x>d.x?h.x>l.x?h.x:l.x:d.x>l.x?d.x:l.x,Q=h.y>d.y?h.y>l.y?h.y:l.y:d.y>l.y?d.y:l.y,F=V(h.x<d.x?h.x<l.x?h.x:l.x:d.x<l.x?d.x:l.x,h.y<d.y?h.y<l.y?h.y:l.y:d.y<l.y?d.y:l.y,s,i,n),H=V(K,Q,s,i,n),I=t.prevZ,U=t.nextZ;I&&I.z>=F&&U&&U.z<=H;){if(I!==t.prev&&I!==t.next&&O(h.x,h.y,d.x,d.y,l.x,l.y,I.x,I.y)&&R(I.prev,I,I.next)>=0||(I=I.prevZ,U!==t.prev&&U!==t.next&&O(h.x,h.y,d.x,d.y,l.x,l.y,U.x,U.y)&&R(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;I&&I.z>=F;){if(I!==t.prev&&I!==t.next&&O(h.x,h.y,d.x,d.y,l.x,l.y,I.x,I.y)&&R(I.prev,I,I.next)>=0)return!1;I=I.prevZ}for(;U&&U.z<=H;){if(U!==t.prev&&U!==t.next&&O(h.x,h.y,d.x,d.y,l.x,l.y,U.x,U.y)&&R(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function j(t,s,i){var n=t;do{var h=n.prev,d=n.next.next;!X(h,d)&&w(h,n,n.next,d)&&Y(h,d)&&Y(d,h)&&(s.push(h.i/i),s.push(n.i/i),s.push(d.i/i),q(n),q(n.next),n=t=d),n=n.next}while(n!==t);return M(n)}function A(t,s,i,n,h,d){var l=t;do{for(var P=l.next.next;P!==l.prev;){if(l.i!==P.i&&b(l,P)){var Z=$(l,P);return l=M(l,l.next),Z=M(Z,Z.next),S(l,s,i,n,h,d),void S(Z,s,i,n,h,d)}P=P.next}l=l.next}while(l!==t)}function r(t,s){return t.x-s.x}function o(t){if(t.next.prev===t)return t;let s=t;for(;;){const i=s.next;if(i.prev===s||i===s||i===t)break;s=i}return s}function u(t,s){var i=function g(t,s){var i,n=s,h=t.x,d=t.y,l=-1/0;do{if(d<=n.y&&d>=n.next.y&&n.next.y!==n.y){var P=n.x+(d-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(P<=h&&P>l){if(l=P,P===h){if(d===n.y)return n;if(d===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==s);if(!i)return null;if(h===l)return i;var Z,K=i,Q=i.x,F=i.y,H=1/0;n=i;do{h>=n.x&&n.x>=Q&&h!==n.x&&O(d<F?h:l,d,Q,F,d<F?l:h,d,n.x,n.y)&&(Z=Math.abs(d-n.y)/(h-n.x),Y(n,t)&&(Z<H||Z===H&&(n.x>i.x||n.x===i.x&&a(i,n)))&&(i=n,H=Z)),n=n.next}while(n!==K);return i}(t,s);if(!i)return s;var n=$(i,t),h=M(i,i.next);let d=o(n);return M(d,d.next),h=o(h),o(s===i?h:s)}function a(t,s){return R(t.prev,t,s.prev)<0&&R(s.next,t,t.next)<0}function V(t,s,i,n,h){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*h)|t<<8))|t<<4))|t<<2))|t<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=32767*(s-n)*h)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function D(t){var s=t,i=t;do{(s.x<i.x||s.x===i.x&&s.y<i.y)&&(i=s),s=s.next}while(s!==t);return i}function O(t,s,i,n,h,d,l,P){return(h-l)*(s-P)-(t-l)*(d-P)>=0&&(t-l)*(n-P)-(i-l)*(s-P)>=0&&(i-l)*(d-P)-(h-l)*(n-P)>=0}function b(t,s){return t.next.i!==s.i&&t.prev.i!==s.i&&!function W(t,s){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==s.i&&i.next.i!==s.i&&w(i,i.next,t,s))return!0;i=i.next}while(i!==t);return!1}(t,s)&&(Y(t,s)&&Y(s,t)&&function J(t,s){var i=t,n=!1,h=(t.x+s.x)/2,d=(t.y+s.y)/2;do{i.y>d!=i.next.y>d&&i.next.y!==i.y&&h<(i.next.x-i.x)*(d-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,s)&&(R(t.prev,t,s.prev)||R(t,s.prev,s))||X(t,s)&&R(t.prev,t,t.next)>0&&R(s.prev,s,s.next)>0)}function R(t,s,i){return(s.y-t.y)*(i.x-s.x)-(s.x-t.x)*(i.y-s.y)}function X(t,s){return t.x===s.x&&t.y===s.y}function w(t,s,i,n){var h=T(R(t,s,i)),d=T(R(t,s,n)),l=T(R(i,n,t)),P=T(R(i,n,s));return h!==d&&l!==P||!(0!==h||!G(t,i,s))||!(0!==d||!G(t,n,s))||!(0!==l||!G(i,t,n))||!(0!==P||!G(i,s,n))}function G(t,s,i){return s.x<=Math.max(t.x,i.x)&&s.x>=Math.min(t.x,i.x)&&s.y<=Math.max(t.y,i.y)&&s.y>=Math.min(t.y,i.y)}function T(t){return t>0?1:t<0?-1:0}function Y(t,s){return R(t.prev,t,t.next)<0?R(t,s,t.next)>=0&&R(t,t.prev,s)>=0:R(t,s,t.prev)<0||R(t,t.next,s)<0}function $(t,s){var i=new tt(t.i,t.x,t.y),n=new tt(s.i,s.x,s.y),h=t.next,d=s.prev;return t.next=s,s.prev=t,i.next=h,h.prev=i,n.next=i,i.prev=n,d.next=n,n.prev=d,n}function et(t,s,i,n){var h=new tt(t,s,i);return n?(h.next=n.next,h.prev=n,n.next.prev=h,n.next=h):(h.prev=h,h.next=h),h}function q(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function tt(t,s,i){this.i=t,this.x=s,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(t,s,i,n){for(var h=0,d=s,l=i-n;d<i;d+=n)h+=(t[l]-t[d])*(t[d+1]+t[l+1]),l=d;return h}return m.deviation=function(t,s,i,n){var h=s&&s.length,l=Math.abs(N(t,0,h?s[0]*i:t.length,i));if(h)for(var P=0,Z=s.length;P<Z;P++)l-=Math.abs(N(t,s[P]*i,P<Z-1?s[P+1]*i:t.length,i));var F=0;for(P=0;P<n.length;P+=3){var H=n[P]*i,I=n[P+1]*i,U=n[P+2]*i;F+=Math.abs((t[H]-t[U])*(t[I+1]-t[H+1])-(t[H]-t[I])*(t[U+1]-t[H+1]))}return 0===l&&0===F?0:Math.abs((F-l)/l)},m.flatten=function(t){for(var s=t[0][0].length,i={vertices:[],holes:[],dimensions:s},n=0,h=0;h<t.length;h++){for(var d=0;d<t[h].length;d++)for(var l=0;l<s;l++)i.vertices.push(t[h][d][l]);h>0&&i.holes.push(n+=t[h-1].length)}return i},m}())&&(C.exports=f)},50017:(k,z,p)=>{p.d(z,{Y6:()=>j});var M,A,C=p(67831),x=p(99770),f=p(84161),v=p(28093),E=p(993),m=p(4794),y=p(72642);(A=M||(M={}))[A.Z=0]="Z",A[A.M=1]="M";class S{constructor(e){this.spatialReference=e}createVector(){return this._tag((0,x.a)())}pointToVector(e){return this._tag((0,x.f)(e.x,e.y))}arrayToVector(e){return this._tag((0,x.f)(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,r=new y.Z){return r.x=e[0],r.y=e[1],r.z=void 0,r.m=void 0,r.spatialReference=this.spatialReference,r}arrayToPoint(e,r=new y.Z){return r.x=e[0],r.y=e[1],r.z=void 0,r.m=void 0,r.spatialReference=this.spatialReference,r}vectorToDehydratedPoint(e,r={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return r.x=e[0],r.y=e[1],r.z=void 0,r.m=void 0,r.hasZ=!1,r.hasM=!1,r.spatialReference=this.spatialReference,r}lerp(e,r,o,u){return(0,C.l)(u,e,r,o)}addDelta(e,r,o){e[0]+=r,e[1]+=o}distance(e,r){return(0,C.d)(e,r)}getZ(e,r){return r}hasZ(){return!1}getM(e,r){return r}hasM(){return!1}clone(e){return this._tag((0,x.b)(e))}copy(e,r){return(0,C.c)(r,e)}fromXYZ(e){return this._tag((0,x.f)(e[0],e[1]))}toXYZ(e,r=(0,v.c)()){return(0,f.s)(r,e[0],e[1],0)}pointToXYZ(e,r=(0,v.c)()){return(0,f.s)(r,e.x,e.y,0)}equals(e,r){return(0,C.o)(e,r)}_tag(e){return e}}class L{constructor(e,r){this._valueType=e,this.spatialReference=r}createVector(){return this._tag((0,v.c)())}pointToVector(e){return this._tag((0,v.f)(e.x,e.y,this._valueType===M.Z?e.z:e.m))}arrayToVector(e){return this._tag((0,v.f)(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return this._valueType===M.Z?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,r=new y.Z){return r.x=e[0],r.y=e[1],r.z=this._valueType===M.Z?e[2]:void 0,r.m=this._valueType===M.M?e[2]:void 0,r.spatialReference=this.spatialReference,r}arrayToPoint(e,r=new y.Z){return r.x=e[0],r.y=e[1],r.z=this._valueType===M.Z?e[2]:void 0,r.m=this._valueType===M.M?e[2]:void 0,r.spatialReference=this.spatialReference,r}vectorToDehydratedPoint(e,r={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){const o=this._valueType===M.Z,u=this._valueType===M.M;return r.x=e[0],r.y=e[1],r.z=o?e[2]:void 0,r.m=u?e[2]:void 0,r.hasZ=o,r.hasM=u,r.spatialReference=this.spatialReference,r}lerp(e,r,o,u){return(0,f.h)(u,e,r,o)}addDelta(e,r,o,u){e[0]+=r,e[1]+=o,this._valueType===M.Z&&(e[2]+=u)}distance(e,r){return this._valueType===M.Z?(0,f.i)(e,r):(0,C.d)(e,r)}getZ(e,r){return this._valueType===M.Z?e[2]:r}hasZ(){return this._valueType===M.Z}getM(e,r){return this._valueType===M.M?e[2]:r}hasM(){return this._valueType===M.M}clone(e){return this._tag((0,v.d)(e))}copy(e,r){return(0,f.c)(r,e)}fromXYZ(e,r=0,o=0){return this._tag((0,v.f)(e[0],e[1],this._valueType===M.Z?e.length>2?e[2]:r:o))}toXYZ(e,r=(0,v.c)()){return(0,f.s)(r,e[0],e[1],this._valueType===M.Z?e[2]:0)}pointToXYZ(e,r=(0,v.c)()){return(0,f.s)(r,e.x,e.y,this._valueType===M.Z?e.z??0:0)}equals(e,r){return(0,f.F)(e,r)}_tag(e){return e}}class B{constructor(e){this.spatialReference=e}createVector(){return this._tag((0,m.c)())}pointToVector(e){return this._tag((0,m.f)(e.x,e.y,e.z,e.m))}arrayToVector(e){return this._tag((0,m.f)(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,r=new y.Z){return r.x=e[0],r.y=e[1],r.z=e[2],r.m=e[3],r.spatialReference=this.spatialReference,r}arrayToPoint(e,r=new y.Z){return r.x=e[0],r.y=e[1],r.z=e[2],r.m=e[3],r.spatialReference=this.spatialReference,r}vectorToDehydratedPoint(e,r={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return r.x=e[0],r.y=e[1],r.z=e[2],r.m=e[3],r.hasZ=!0,r.hasM=!0,r.spatialReference=this.spatialReference,r}lerp(e,r,o,u){return(0,E.l)(u,e,r,o)}addDelta(e,r,o,u){e[0]+=r,e[1]+=o,e[2]+=u}distance(e,r){return(0,f.i)(e,r)}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this._tag((0,m.b)(e))}copy(e,r){return(0,E.c)(r,e)}fromXYZ(e,r=0,o=0){return this._tag((0,m.f)(e[0],e[1],e.length>2?e[2]:r,o))}toXYZ(e,r=(0,v.c)()){return(0,f.s)(r,e[0],e[1],e[2])}pointToXYZ(e,r=(0,v.c)()){return(0,f.s)(r,e.x,e.y,e.z??0)}equals(e,r){return(0,E.h)(e,r)}_tag(e){return e}}function j(A,e,r){return A&&e?new B(r):e?new L(M.M,r):A?new L(M.Z,r):new S(r)}},466:(k,z,p)=>{p.d(z,{wA:()=>A,kS:()=>j,XE:()=>e,Xz:()=>B});var C=p(85931),x=p(61885),f=p(62208),v=p(37118),E=p(55214),m=p(50017),y=p(37053),M=p(59617);class B{constructor(o){this.component=o,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(o){this._pos=o,this.component.unnormalizeVertexPositions()}}class j{constructor(o,u,g){this.component=o,this.leftVertex=u,this.rightVertex=g,this.type="edge",u.rightEdge=this,g.leftEdge=this}}class A{constructor(o,u){this._spatialReference=o,this._viewingMode=u,this.vertices=[],this.edges=[],this.index=null}unnormalizeVertexPositions(){this.vertices.length<=1||function S(r,o){if(!o.supported)return;let u=1/0,g=-1/0;const a=o.upperBoundX-o.lowerBoundX;r.forEach(_=>{let V=_.pos[0];for(;V<o.lowerBoundX;)V+=a;for(;V>o.upperBoundX;)V-=a;u=Math.min(u,V),g=Math.max(g,V),_.pos[0]=V});const c=g-u;a-c<c&&r.forEach(_=>{_.pos[0]<0&&(_.pos[0]+=a)})}(this.vertices,function L(r,o){const u=(0,y.C5)(r);return o===M.JY.Global&&u?{supported:!0,lowerBoundX:u.valid[0],upperBoundX:u.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}(this._spatialReference,this._viewingMode))}updateVertexIndex(o,u){if(0===this.vertices.length)return;const g=this.vertices[0];let a=null,c=o,_=u;do{a=c,a.index=_++,c=a.rightEdge?a.rightEdge.rightVertex:null}while(null!=c&&c!==g);a.leftEdge&&a!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(a),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(o,u){const g=this.vertices[o];this.vertices[o]=this.vertices[u],this.vertices[u]=g}iterateVertices(o){if(0===this.vertices.length)return;const u=this.vertices[0];let g=u;do{o(g,g.index),g=(0,f.pC)(g.rightEdge)?g.rightEdge.rightVertex:null}while(g!==u&&null!=g)}}class e extends x.Z{constructor(o,u){super(),this.type=o,this.coordinateHelper=u,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case"point":this._geometry=this._toPoint();break;case"polyline":this._geometry=this._toPolyline();break;case"polygon":this._geometry=this._toPolygon()}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(o){this._dirty=!0,this.emit("change",o)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const o=[],u=this.coordinateHelper.vectorToArray;for(const g of this.components){if(g.vertices.length<1)continue;const a=[];let c=g.vertices.find(V=>null==V.leftEdge);const _=c;do{a.push(u(c.pos)),c=c.rightEdge?c.rightEdge.rightVertex:null}while(c&&c!==_);o.push(a)}return new E.Z({paths:o,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const o=[],u=this.coordinateHelper.vectorToArray;for(const g of this.components){if(g.vertices.length<1)continue;const a=[],c=g.vertices[0];let _=c;const V=_;do{a.push(u(_.pos)),_=(0,f.pC)(_.rightEdge)?_.rightEdge.rightVertex:null}while(_&&_!==V);g.isClosed()&&a.push(u(c.pos)),o.push(a)}return new v.Z({rings:o,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(o,u){const g=o.spatialReference,a=(0,m.Y6)(o.hasZ,o.hasM,g),c=new e(o.type,a);switch(o.type){case"polygon":{const _=o.rings;for(let V=0;V<_.length;++V){const D=_[V],O=new A(g,u);O.index=V;const b=D.length>2&&(0,C.fS)(D[0],D[D.length-1]),R=b?D.length-1:D.length;for(let w=0;w<R;++w){const G=a.arrayToVector(D[w]),T=new B(O);O.vertices.push(T),T.pos=G,T.index=w}const X=O.vertices.length-1;for(let w=0;w<X;++w){const W=new j(O,O.vertices[w],O.vertices[w+1]);O.edges.push(W)}if(b){const w=new j(O,O.vertices[O.vertices.length-1],O.vertices[0]);O.edges.push(w)}c.components.push(O)}break}case"polyline":{const _=o.paths;for(let V=0;V<_.length;++V){const D=_[V],O=new A(g,u);O.index=V;const b=D.length;for(let X=0;X<b;++X){const w=a.arrayToVector(D[X]),G=new B(O);O.vertices.push(G),G.pos=w,G.index=X}const R=O.vertices.length-1;for(let X=0;X<R;++X){const T=new j(O,O.vertices[X],O.vertices[X+1]);O.edges.push(T)}c.components.push(O)}break}case"point":{const _=new A(g,u);_.index=0;const V=new B(_);V.index=0,V.pos=a.pointToVector(o),_.vertices.push(V),c.components.push(_);break}}return c}}},26777:(k,z,p)=>{p.d(z,{c:()=>u});var C=p(61885),x=p(62208),f=p(466),v=p(96926);class E{constructor(a,c,_){this._editGeometry=a,this._component=c,this._pos=_,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let a="redo";(0,x.Wi)(this._addedVertex)&&(a="apply",this._addedVertex=new f.Xz(this._component));const c=this._component.getLastVertex();if((0,x.Wi)(c))this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let _=null;c.rightEdge&&(this._originalEdge=c.rightEdge,_=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,(0,x.Wi)(this._left)&&(this._left=new f.kS(this._component,c,this._addedVertex)),this._component.edges.push(this._left),c.rightEdge=this._left,(0,x.pC)(this._originalEdge)&&(0,x.pC)(_)&&((0,x.Wi)(this._right)&&(this._right=new f.kS(this._component,this._addedVertex,_)),this._component.edges.push(this._right),_.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,c.index+1)}this._editGeometry.notifyChanges({operation:a,addedVertices:[this._addedVertex]})}undo(){(0,x.Wi)(this._addedVertex)||(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),(0,x.pC)(this._left)&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),(0,x.pC)(this._right)&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),(0,x.pC)(this._originalEdge)&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),(0,x.pC)(this._left)?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}var m=p(15708);class y{constructor(a,c,_=0){this._editGeometry=a,this._vertices=c,this._minNumberOfVertices=_,this.removedVertices=null}apply(){let a="redo";if(null==this.removedVertices){const c=this.removedVertices=[];this._vertices.forEach(_=>{const V=this._removeVertex(_);(0,x.pC)(V)&&c.push(V)}),a="apply"}else this.removedVertices.forEach(c=>{this._removeVertex(c.removedVertex)});this._editGeometry.notifyChanges({operation:a,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach(a=>{this._undoRemoveVertex(a)}),this._editGeometry.notifyChanges({operation:"undo",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(a){const c=a.component;if(c.vertices.length<=this._minNumberOfVertices)return null;const _={removedVertex:a,createdEdge:null},V=a.leftEdge,D=a.rightEdge;return c.vertices.splice(c.vertices.indexOf(a),1),V&&(c.edges.splice(c.edges.indexOf(V),1),V.leftVertex.rightEdge=null),D&&(c.edges.splice(c.edges.indexOf(D),1),D.rightVertex.leftEdge=null),0===a.index&&D&&this._vertices.length>0&&c.swapVertices(c.vertices.indexOf(D.rightVertex),0),V&&D&&(_.createdEdge=new f.kS(c,V.leftVertex,D.rightVertex),c.edges.push(_.createdEdge)),D&&c.updateVertexIndex(D.rightVertex,D.rightVertex.index-1),_}_undoRemoveVertex(a){const c=a.removedVertex,_=a.removedVertex.component,V=c.leftEdge,D=c.rightEdge;a.createdEdge&&_.edges.splice(_.edges.indexOf(a.createdEdge),1),_.vertices.push(c),V&&(_.edges.push(V),V.leftVertex.rightEdge=V),D&&(_.edges.push(D),D.rightVertex.leftEdge=D),_.updateVertexIndex(c,c.index)}}class M{constructor(a,c,_){this._editGeometry=a,this._edge=c,this._t=_,this.createdVertex=null,this._left=null,this._right=null}apply(){let a="redo";const c=this._edge,_=c.component,V=c.leftVertex,D=c.rightVertex;_.edges.splice(_.edges.indexOf(c),1),(0,x.Wi)(this.createdVertex)&&(a="apply",this.createdVertex=new f.Xz(c.component)),_.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(c.leftVertex.pos,c.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),(0,x.Wi)(this._left)&&(this._left=new f.kS(_,V,this.createdVertex)),this._left.leftVertex.leftEdge?_.edges.push(this._left):_.edges.unshift(this._left),V.rightEdge=this._left,(0,x.Wi)(this._right)&&(this._right=new f.kS(_,this.createdVertex,D)),_.edges.push(this._right),D.leftEdge=this._right,_.updateVertexIndex(this.createdVertex,V.index+1),this._editGeometry.notifyChanges({operation:a,addedVertices:[this.createdVertex]})}undo(){if((0,x.Wi)(this.createdVertex)||(0,x.Wi)(this._left)||(0,x.Wi)(this._right))return null;const a=this._edge,c=a.component,D=this.createdVertex.leftEdge?.leftVertex,O=this.createdVertex.rightEdge?.rightVertex;c.vertices.splice(c.vertices.indexOf(this.createdVertex),1),c.edges.splice(c.edges.indexOf(this._left),1),c.edges.splice(c.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?c.edges.push(this._edge):c.edges.unshift(this._edge),D&&(D.rightEdge=a),O&&(O.leftEdge=a),D&&c.updateVertexIndex(D,D.index),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}}class S{constructor(a,c,_){this._editGeometry=a,this._vertex=c,this._pos=_}apply(){const a=(0,x.Wi)(this._originalPosition);a&&(this._originalPosition=this._vertex.pos),this._apply(a?"apply":"redo")}undo(){this._vertex.pos=(0,x.Wg)(this._originalPosition),this._editGeometry.notifyChanges({operation:"undo",updatedVertices:[this._vertex]})}accumulate(a){return a instanceof S&&a._vertex===this._vertex&&(this._pos=a._pos,this._apply("apply"),!0)}_apply(a){this._vertex.pos=this._pos,this._editGeometry.components.forEach(c=>c.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:a,updatedVertices:[this._vertex]})}}var L=p(85931);class B{constructor(a,c){this._editGeometry=a,this._component=c,this._createdEdge=null}apply(){let a="redo";if((0,x.Wi)(this._createdEdge)){a="apply";const c=this._component.getFirstVertex(),_=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||(0,x.Wi)(c)||(0,x.Wi)(_))return;this._createdEdge=new f.kS(this._component,_,c)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:a})}undo(){(0,x.Wi)(this._createdEdge)||((0,L.Od)(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}}var j=p(4517),A=p(86190),e=p(67100),r=p(91672);class o{constructor(){this._operations=[],this._closed=!1}close(){this._closed=!0}apply(){for(const a of this._operations)a.apply()}undo(){for(let a=this._operations.length-1;a>=0;a--)this._operations[a].undo()}accumulate(a){if(this._closed)return!1;const c=this._operations.length?this._operations[this._operations.length-1]:null;return c&&c.accumulate(a)||(this._operations.push(a),a.apply()),!0}}class u extends C.Z{constructor(a){super(),this.data=a,this._undoStack=[],this._redoStack=[],this._listener=this.data.on("change",c=>{c.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:c.addedVertices,operation:c.operation}),c.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:c.removedVertices,operation:c.operation}),c.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:c.updatedVertices,operation:c.operation})})}destroy(){this._listener.remove()}splitEdge(a,c){return this._apply(new M(this.data,a,c))}updateVertices(a,c,_=v.O.ACCUMULATE_STEPS){return this._apply(new m.y(this.data,a,c),_)}moveVertices(a,c,_,V,D=v.O.ACCUMULATE_STEPS){return this.updateVertices(a,new j.z(this.data.coordinateHelper,c,_,V),D)}scaleVertices(a,c,_,V,D,O=v.O.ACCUMULATE_STEPS,b=m.w.CUMULATIVE){return this.updateVertices(a,new r.q(c,_,V,D,b),O)}rotateVertices(a,c,_,V=v.O.ACCUMULATE_STEPS,D=m.w.CUMULATIVE){return this.updateVertices(a,new e.S(c,_,D),V)}removeVertices(a){return this._apply(new y(this.data,a,this._minNumVerticesPerType))}appendVertex(a){return 0===this.data.components.length?null:this._apply(new E(this.data,this.data.components[0],a))}setVertexPosition(a,c){return this._apply(new S(this.data,a,c))}offsetEdge(a,c,_,V=v.O.ACCUMULATE_STEPS){return this.updateVertices([c.leftVertex,c.rightVertex],new A.A(this.data.coordinateHelper,a,c,_),V)}closeComponent(a){return this.data.components.includes(a)?this._apply(new B(this.data,a)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const a=new o;return this._apply(a),{remove:()=>a.close()}}undo(){if(this._undoStack.length>0){const a=this._undoStack.pop();return a.undo(),this._redoStack.push(a),a}return null}redo(){if(this._redoStack.length>0){const a=this._redoStack.pop();return a.apply(),this._undoStack.push(a),a}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}_apply(a,c=v.O.ACCUMULATE_STEPS){return c!==v.O.NEW_STEP&&!(0,x.Wi)(this.lastOperation)&&this.lastOperation.accumulate(a)||(a.apply(),this._undoStack.push(a),this._redoStack=[]),a}static fromGeometry(a,c){return new u(f.XE.fromGeometry(a,c))}}},96926:(k,z,p)=>{var C,x;p.d(z,{O:()=>C}),(x=C||(C={}))[x.NEW_STEP=0]="NEW_STEP",x[x.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS"},4517:(k,z,p)=>{p.d(z,{z:()=>C});class C{constructor(f,v,E,m){this._helper=f,this.dx=v,this.dy=E,this.dz=m}_move(f,v,E,m){this._helper.addDelta(f.pos,v,E,m)}apply(f){this._move(f,this.dx,this.dy,this.dz)}undo(f){this._move(f,-this.dx,-this.dy,-this.dz)}canAccumulate(f){return f instanceof C}accumulate(f,v){this._move(f,v.dx,v.dy,v.dz)}accumulateParams(f){this.dx+=f.dx,this.dy+=f.dy,this.dz+=f.dz}}},86190:(k,z,p)=>{p.d(z,{A:()=>L,v:()=>A});var C=p(21286),x=p(62208),f=p(67831),v=p(99770),E=p(84161),m=p(28093),y=p(90014),M=p(34054),S=p(396);class L{get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}constructor(o,u,g,a=0,c=e.IMMEDIATE){this._helper=o,this._planeType=u,this._edge=g,this.distance=a,this._plane=(0,y.Ue)(),this._offsetPlane=(0,y.Ue)(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,c===e.IMMEDIATE&&this._initialize()}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){const o=this._toXYZ(this._edge.leftVertex.pos),u=this._toXYZ(this._edge.leftVertex.leftEdge?.leftVertex?.pos),g=this._toXYZ(this._edge.rightVertex.pos),a=this._toXYZ(this._edge.rightVertex.rightEdge?.rightVertex?.pos);this._edgeDirection=(0,E.r)((0,m.c)(),o,g),this._left=this._computeNeighbor(o,u,this._edgeDirection),this._right=this._computeNeighbor(g,a,this._edgeDirection)}_toXYZ(o){return(0,x.pC)(o)?this._helper.toXYZ(o):null}_pointToXYZ(o){return this._toXYZ(this._helper.pointToVector(o))}_computeNeighbor(o,u,g){if((0,x.Wi)(u))return{start:o,end:u,direction:(0,m.f)(-g[1],g[0],0),isOriginalDirection:!0};const a=(0,E.r)((0,m.c)(),o,u),c=!this._passesBisectingAngleThreshold(a,g);return{start:o,end:u,direction:c?this._bisectVectorsPerpendicular(g,a):a,isOriginalDirection:!c}}_passesBisectingAngleThreshold(o,u){const g=Math.abs((0,M.EU)(u,o));return g>=B&&g<=Math.PI-B}_bisectVectorsPerpendicular(o,u){const g=(0,E.e)(o,u)<0?o:(0,E.o)((0,m.c)(),o),a=Math.abs((0,E.e)(g,u));if(!(a<j||a>1-j))return this._bisectDirection(g,u);const c=(0,E.f)((0,m.c)(),g,[0,0,1]);return(0,E.n)(c,c)}_bisectDirection(o,u){const g=(0,E.a)((0,m.c)(),o,u);return(0,E.n)(g,g)}_initializePlane(){const o=this._computeNormalDirection(this._left),u=this._computeNormalDirection(this._right);(0,E.e)(o,u)<0&&(0,E.o)(u,u),(0,y.Yq)(this._left.start,this._bisectDirection(o,u),this._plane)}_computeNormalDirection(o){const u=(0,E.f)((0,m.c)(),o.direction,this._edgeDirection);(0,E.n)(u,u);const g=(0,E.f)((0,m.c)(),this._edgeDirection,u);return this._planeType===A.XY&&(g[2]=0),(0,E.n)(g,g)}_initializeDistanceConstraints(){(0,x.pC)(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint((0,y.jH)(this._plane,this._left.end)),(0,x.pC)(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint((0,y.jH)(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(o){o<=0&&(this._minDistance=Math.max(this._minDistance,o)),o>=0&&(this._maxDistance=Math.min(this._maxDistance,o))}_updateIntersectDistanceConstraint(o){const u=(0,y.mJ)(o),g=this._edgeDirection,a=(0,E.a)((0,m.c)(),this._left.start,this._left.direction),c=(0,E.a)((0,m.c)(),this._right.start,this._right.direction),_=this._pointInBasis2D((0,v.a)(),u,g,this._left.start),V=this._pointInBasis2D((0,v.a)(),u,g,a),D=this._pointInBasis2D((0,v.a)(),u,g,this._right.start),O=this._pointInBasis2D((0,v.a)(),u,g,c),[b]=(0,S.dU)({start:V,end:_,type:S.SP.LINE},{start:O,end:D,type:S.SP.LINE});if(!b)return;const R=(0,f.a)((0,v.a)(),_,V);(0,f.f)(R,R);const X=(0,f.a)((0,v.a)(),b,V),w=(0,f.h)(R,X),G=(0,E.a)((0,m.c)(),a,(0,E.g)((0,m.c)(),this._left.direction,-w)),T=(0,y.jH)(o,G);this._updateDistanceConstraint(T)}_pointInBasis2D(o,u,g,a){return o[0]=(0,M.SR)(u,a),o[1]=(0,M.SR)(g,a),o}_offset(o,u){Number.isFinite(this._minDistance)&&(u=Math.max(this._minDistance,u)),Number.isFinite(this._maxDistance)&&(u=Math.min(this._maxDistance,u)),(0,y.JG)(this._offsetPlane,this._plane),this._offsetPlane[3]-=u;const g=(c,_,V)=>(0,x.pC)(_)&&(0,y.fn)(this._offsetPlane,c,(0,E.a)((0,m.c)(),c,_),V),a=(0,m.c)();(o===this._edge.leftVertex?g(this._left.start,this._left.direction,a):g(this._right.start,this._right.direction,a))&&this._helper.copy(this._helper.fromXYZ(a,void 0,this._helper.getM(o.pos)),o.pos)}selectArrowFromStartPoint(o){this._selectedArrow=(0,y.Ac)(this.plane,this._pointToXYZ(o))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(o){return(0,y.jH)(this.plane,this._pointToXYZ(o))}apply(o){this._offset(o,this.distance)}undo(o){this._offset(o,0)}canAccumulate(o){return o instanceof L&&this._edge.leftVertex.index===o._edge.leftVertex.index&&this._edge.rightVertex.index===o._edge.rightVertex.index&&this._edge.component===o._edge.component&&this._maybeEqualsVec3(this._left.direction,o._left.direction)&&this._maybeEqualsVec3(this._right.direction,o._right.direction)&&(0,E.F)((0,y.mJ)(this._plane),(0,y.mJ)(o._plane))}accumulate(o,u){this._offset(o,this._plane[3]-u._plane[3]+u.distance)}accumulateParams(o){this.distance=o.distance-o._plane[3]+this._plane[3]}clone(){const o=new L(this._helper,this._planeType,this._edge,this.distance,e.DEFERRED);return(0,y.JG)(o._plane,this._plane),(0,y.JG)(o._offsetPlane,this._offsetPlane),o._maxDistance=this._maxDistance,o._minDistance=this._minDistance,o._left=this._cloneNeighbor(this._left),o._right=this._cloneNeighbor(this._right),o._edgeDirection=(0,E.c)((0,m.c)(),this._edgeDirection),o}_maybeEqualsVec3(o,u){return(0,x.Wi)(o)&&(0,x.Wi)(u)||(0,x.pC)(o)&&(0,x.pC)(u)&&(0,E.F)(o,u)}_cloneNeighbor({start:o,end:u,direction:g,isOriginalDirection:a}){return{start:(0,E.c)((0,m.c)(),o),end:(0,x.pC)(u)?(0,E.c)((0,m.c)(),u):null,direction:(0,E.c)((0,m.c)(),g),isOriginalDirection:a}}}const B=(0,C.Vl)(15),j=.001;var A,e,r;(r=A||(A={}))[r.XYZ=0]="XYZ",r[r.XY=1]="XY",function(r){r[r.IMMEDIATE=0]="IMMEDIATE",r[r.DEFERRED=1]="DEFERRED"}(e||(e={}))},67100:(k,z,p)=>{p.d(z,{S:()=>v});var C=p(85931),x=p(67831),f=p(15708);class v{constructor(m,y,M=f.w.CUMULATIVE){this.origin=m,this.angle=y,this._accumulationType=M}_rotate(m,y){(0,x.r)(m.pos,m.pos,this.origin,y)}apply(m){this._rotate(m,this.angle)}undo(m){this._rotate(m,-this.angle)}canAccumulate(m){return m instanceof v&&(0,C.fS)(this.origin,m.origin)}accumulate(m,y){this._rotate(m,y._accumulationType===f.w.REPLACE?y.angle-this.angle:y.angle)}accumulateParams(m){this.angle=m._accumulationType===f.w.REPLACE?m.angle:this.angle+m.angle}}},91672:(k,z,p)=>{p.d(z,{q:()=>E});var C=p(85931),x=p(99770),f=p(67831),v=p(15708);class E{constructor(y,M,S,L,B=v.w.CUMULATIVE){this.origin=y,this.axis1=M,this.factor1=S,this.factor2=L,this._accumulationType=B,this.axis2=(0,x.f)(M[1],-M[0])}_scale(y,M,S){(0,f.u)(y.pos,y.pos,this.origin,this.axis1,M),(0,f.u)(y.pos,y.pos,this.origin,this.axis2,S)}apply(y){this._scale(y,this.factor1,this.factor2)}undo(y){this._scale(y,1/this.factor1,1/this.factor2)}canAccumulate(y){return y instanceof E&&(0,C.fS)(this.origin,y.origin)&&(0,C.fS)(this.axis1,y.axis1)}accumulate(y,M){M._accumulationType===v.w.REPLACE?this._scale(y,M.factor1/this.factor1,M.factor2/this.factor2):this._scale(y,M.factor1,M.factor2)}accumulateParams(y){const M=y._accumulationType===v.w.REPLACE;this.factor1=M?y.factor1:this.factor1*y.factor1,this.factor2=M?y.factor2:this.factor2*y.factor2}}},15708:(k,z,p)=>{p.d(z,{w:()=>x,y:()=>C});class C{constructor(v,E,m){this._editGeometry=v,this._vertices=E,this.operation=m,this._undone=!1}apply(){this._vertices.forEach(v=>this.operation.apply(v)),this._editGeometry.components.forEach(v=>v.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:this._undone?"redo":"apply",updatedVertices:this._vertices})}undo(){this._vertices.forEach(v=>this.operation.undo(v)),this._editGeometry.notifyChanges({operation:"undo",updatedVertices:this._vertices}),this._undone=!0}canAccumulate(v){if(this._undone||v._vertices.length!==this._vertices.length)return!1;for(let E=0;E<v._vertices.length;++E)if(v._vertices[E]!==this._vertices[E])return!1;return this.operation.canAccumulate(v.operation)}accumulate(v){return!!(v instanceof C&&this.canAccumulate(v))&&(this._vertices.forEach(E=>this.operation.accumulate(E,v.operation)),this.operation.accumulateParams(v.operation),this._editGeometry.components.forEach(E=>E.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:"apply",updatedVertices:this._vertices}),!0)}}var x,f;(f=x||(x={}))[f.CUMULATIVE=0]="CUMULATIVE",f[f.REPLACE=1]="REPLACE"},9773:(k,z,p)=>{p.d(z,{N:()=>C});class C{constructor(f){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=f.editGeometryOperations,this.elevationInfo=f.elevationInfo,this.pointer=f.pointer,this.vertexHandle=f.vertexHandle,this.excludeFeature=f.excludeFeature,this.visualizer=f.visualizer,this.selfSnappingZ=f.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},13459:(k,z,p)=>{p.d(z,{a:()=>y});var C=p(54024),x=p(80985),f=p(62160),v=p(80221),E=p(19038),m=p(86842);class y{draw(S,L){const B=this._getUniqueHints(S),j=this.sortUniqueHints(B),A=[];for(const e of j)e instanceof x.w&&A.push(this.visualizeIntersectionPoint(e,L)),e instanceof f.w&&A.push(this.visualizeLine(e,L)),e instanceof v.L&&A.push(this.visualizeParallelSign(e,L)),e instanceof m.y&&A.push(this.visualizeRightAngleQuad(e,L)),e instanceof E.n&&A.push(this.visualizePoint(e,L));return(0,C.AL)(A)}sortUniqueHints(S){return S}_getUniqueHints(S){const L=[];for(const B of S){let j=!0;for(const A of L)if(B.equals(A)){j=!1;break}j&&L.push(B)}return L}}},19038:(k,z,p)=>{p.d(z,{n:()=>f});var C=p(84161),x=p(5286);class f extends x.r{constructor(E,m,y){super(m,y),this.point=E}equals(E){return E instanceof f&&(0,C.k)(this.point,E.point)}}},65242:(k,z,p)=>{p.d(z,{f:()=>G,k:()=>w});var C=p(62208),x=p(15572),f=p(16730),v=p(11915),E=p(84161),m=p(28093),y=p(55915),M=p(90014),S=p(11544),L=p(66601);function A(T,W,Y=T.hasZ){const J=(0,L.m)(T.spatialReference),$=(0,f.oq)(J);if((0,C.Wi)($))return null;const et=(tt,N)=>!(N.length<2||((0,E.s)(tt,N[0],N[1],Y&&N[2]||0),0));let q=0;for(const tt of T.rings){const N=tt.length;if(N<3)continue;const{positionsWorldCoords:t}=W;for(;t.length<N;)t.push((0,m.c)());const s=e,i=(0,E.s)(r,0,0,0),n=1/N;for(let l=0;l<N;l++){if(!et(s,tt[l])||!(0,y.SH)(s,T.spatialReference,t[l],J))return null;(0,E.z)(i,i,t[l],n)}const h=(0,M.zk)(t[0],t[1],i,(0,M.re)());if(0===(0,E.p)((0,M.mJ)(h)))continue;for(let l=0;l<N;l++)(0,M.tx)(h,i,t[l],t[l]);const d=u(t);for(let l=0;l<d.length;l+=3)q+=(0,S.wu)(t[d[l]],t[d[l+1]],t[d[l+2]])}return(0,x.ne)(q,$)}const e=(0,m.c)(),r=(0,m.c)();function u(T){return(0,v.e)(function g(T){const W=new Float64Array(2*T.length);for(let Y=0;Y<T.length;++Y){const J=T[Y],$=2*Y;W[$+0]=J[0],W[$+1]=J[1]}return W}(T),[],2)}p(29132);var c=p(44766),_=p(10049),V=p(91622),D=p(65234);function b(T){return(0,x.ne)(Math.abs((0,_.p8)([T],"square-meters")[0]),"square-meters")}function R(T){try{return(0,x.ne)(Math.abs((0,c.geodesicArea)(T,"square-meters")),"square-meters")}catch{return null}}function X(T){const W=[];return(0,y.K2)(T,W)?(0,x.ne)(Math.abs((0,_.p8)([{type:"polygon",rings:W,spatialReference:D.Z.WGS84}],"square-meters")[0]),"square-meters"):null}function w(T,W,Y={positionsWorldCoords:[]}){if("on-the-ground"===W){const J=function O(T){const{spatialReference:W}=T;return(0,V.T)(W,b,R,X,T)}(T);return(0,C.pC)(J)?J:function j(T,W={positionsWorldCoords:[]}){return A(T,W,!1)}(T,Y)}return function B(T,W={positionsWorldCoords:[]}){return A(T,W)}(T,Y)}function G(T,W={positionsWorldCoords:[]}){return w(T,"on-the-ground",W)}}}]);