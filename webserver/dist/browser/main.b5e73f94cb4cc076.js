(self.webpackChunkparcel_app=self.webpackChunkparcel_app||[]).push([[179],{99344:(j,F,T)=>{"use strict";function w(g){return"function"==typeof g}function O(g){const v=g(M=>{Error.call(M),M.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}const W=O(g=>function(v){g(this),this.message=v?`${v.length} errors occurred during unsubscription:\n${v.map((M,D)=>`${D+1}) ${M.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=v});function B(g,C){if(g){const v=g.indexOf(C);0<=v&&g.splice(v,1)}}class k{constructor(C){this.initialTeardown=C,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let C;if(!this.closed){this.closed=!0;const{_parentage:v}=this;if(v)if(this._parentage=null,Array.isArray(v))for(const I of v)I.remove(this);else v.remove(this);const{initialTeardown:M}=this;if(w(M))try{M()}catch(I){C=I instanceof W?I.errors:[I]}const{_finalizers:D}=this;if(D){this._finalizers=null;for(const I of D)try{Z(I)}catch(x){C=C??[],x instanceof W?C=[...C,...x.errors]:C.push(x)}}if(C)throw new W(C)}}add(C){var v;if(C&&C!==this)if(this.closed)Z(C);else{if(C instanceof k){if(C.closed||C._hasParent(this))return;C._addParent(this)}(this._finalizers=null!==(v=this._finalizers)&&void 0!==v?v:[]).push(C)}}_hasParent(C){const{_parentage:v}=this;return v===C||Array.isArray(v)&&v.includes(C)}_addParent(C){const{_parentage:v}=this;this._parentage=Array.isArray(v)?(v.push(C),v):v?[v,C]:C}_removeParent(C){const{_parentage:v}=this;v===C?this._parentage=null:Array.isArray(v)&&B(v,C)}remove(C){const{_finalizers:v}=this;v&&B(v,C),C instanceof k&&C._removeParent(this)}}k.EMPTY=(()=>{const g=new k;return g.closed=!0,g})();const re=k.EMPTY;function ee(g){return g instanceof k||g&&"closed"in g&&w(g.remove)&&w(g.add)&&w(g.unsubscribe)}function Z(g){w(g)?g():g.unsubscribe()}const G={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(g,C,...v){const{delegate:M}=Y;return M?.setTimeout?M.setTimeout(g,C,...v):setTimeout(g,C,...v)},clearTimeout(g){const{delegate:C}=Y;return(C?.clearTimeout||clearTimeout)(g)},delegate:void 0};function ne(g){Y.setTimeout(()=>{const{onUnhandledError:C}=G;if(!C)throw g;C(g)})}function ae(){}const se=Q("C",void 0,void 0);function Q(g,C,v){return{kind:g,value:C,error:v}}let V=null;function U(g){if(G.useDeprecatedSynchronousErrorHandling){const C=!V;if(C&&(V={errorThrown:!1,error:null}),g(),C){const{errorThrown:v,error:M}=V;if(V=null,v)throw M}}else g()}class z extends k{constructor(C){super(),this.isStopped=!1,C?(this.destination=C,ee(C)&&C.add(this)):this.destination=_e}static create(C,v,M){return new pe(C,v,M)}next(C){this.isStopped?me(function te(g){return Q("N",g,void 0)}(C),this):this._next(C)}error(C){this.isStopped?me(function ie(g){return Q("E",void 0,g)}(C),this):(this.isStopped=!0,this._error(C))}complete(){this.isStopped?me(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(C){this.destination.next(C)}_error(C){try{this.destination.error(C)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function q(g,C){return J.call(g,C)}class oe{constructor(C){this.partialObserver=C}next(C){const{partialObserver:v}=this;if(v.next)try{v.next(C)}catch(M){de(M)}}error(C){const{partialObserver:v}=this;if(v.error)try{v.error(C)}catch(M){de(M)}else de(C)}complete(){const{partialObserver:C}=this;if(C.complete)try{C.complete()}catch(v){de(v)}}}class pe extends z{constructor(C,v,M){let D;if(super(),w(C)||!C)D={next:C??void 0,error:v??void 0,complete:M??void 0};else{let I;this&&G.useDeprecatedNextContext?(I=Object.create(C),I.unsubscribe=()=>this.unsubscribe(),D={next:C.next&&q(C.next,I),error:C.error&&q(C.error,I),complete:C.complete&&q(C.complete,I)}):D=C}this.destination=new oe(D)}}function de(g){G.useDeprecatedSynchronousErrorHandling?function $(g){G.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=g)}(g):ne(g)}function me(g,C){const{onStoppedNotification:v}=G;v&&Y.setTimeout(()=>v(g,C))}const _e={closed:!0,next:ae,error:function be(g){throw g},complete:ae},le="function"==typeof Symbol&&Symbol.observable||"@@observable";function fe(g){return g}function ye(g){return 0===g.length?fe:1===g.length?g[0]:function(v){return g.reduce((M,D)=>D(M),v)}}let ue=(()=>{class g{constructor(v){v&&(this._subscribe=v)}lift(v){const M=new g;return M.source=this,M.operator=v,M}subscribe(v,M,D){const I=function ge(g){return g&&g instanceof z||function ce(g){return g&&w(g.next)&&w(g.error)&&w(g.complete)}(g)&&ee(g)}(v)?v:new pe(v,M,D);return U(()=>{const{operator:x,source:X}=this;I.add(x?x.call(I,X):X?this._subscribe(I):this._trySubscribe(I))}),I}_trySubscribe(v){try{return this._subscribe(v)}catch(M){v.error(M)}}forEach(v,M){return new(M=Me(M))((D,I)=>{const x=new pe({next:X=>{try{v(X)}catch(he){I(he),x.unsubscribe()}},error:I,complete:D});this.subscribe(x)})}_subscribe(v){var M;return null===(M=this.source)||void 0===M?void 0:M.subscribe(v)}[le](){return this}pipe(...v){return ye(v)(this)}toPromise(v){return new(v=Me(v))((M,D)=>{let I;this.subscribe(x=>I=x,x=>D(x),()=>M(I))})}}return g.create=C=>new g(C),g})();function Me(g){var C;return null!==(C=g??G.Promise)&&void 0!==C?C:Promise}const Pe=O(g=>function(){g(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ie=(()=>{class g extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(v){const M=new Re(this,this);return M.operator=v,M}_throwIfClosed(){if(this.closed)throw new Pe}next(v){U(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const M of this.currentObservers)M.next(v)}})}error(v){U(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=v;const{observers:M}=this;for(;M.length;)M.shift().error(v)}})}complete(){U(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:v}=this;for(;v.length;)v.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var v;return(null===(v=this.observers)||void 0===v?void 0:v.length)>0}_trySubscribe(v){return this._throwIfClosed(),super._trySubscribe(v)}_subscribe(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)}_innerSubscribe(v){const{hasError:M,isStopped:D,observers:I}=this;return M||D?re:(this.currentObservers=null,I.push(v),new k(()=>{this.currentObservers=null,B(I,v)}))}_checkFinalizedStatuses(v){const{hasError:M,thrownError:D,isStopped:I}=this;M?v.error(D):I&&v.complete()}asObservable(){const v=new ue;return v.source=this,v}}return g.create=(C,v)=>new Re(C,v),g})();class Re extends Ie{constructor(C,v){super(),this.destination=C,this.source=v}next(C){var v,M;null===(M=null===(v=this.destination)||void 0===v?void 0:v.next)||void 0===M||M.call(v,C)}error(C){var v,M;null===(M=null===(v=this.destination)||void 0===v?void 0:v.error)||void 0===M||M.call(v,C)}complete(){var C,v;null===(v=null===(C=this.destination)||void 0===C?void 0:C.complete)||void 0===v||v.call(C)}_subscribe(C){var v,M;return null!==(M=null===(v=this.source)||void 0===v?void 0:v.subscribe(C))&&void 0!==M?M:re}}function Ce(g){return w(g?.lift)}function Fe(g){return C=>{if(Ce(C))return C.lift(function(v){try{return g(v,this)}catch(M){this.error(M)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(g,C,v,M,D){return new Le(g,C,v,M,D)}class Le extends z{constructor(C,v,M,D,I,x){super(C),this.onFinalize=I,this.shouldUnsubscribe=x,this._next=v?function(X){try{v(X)}catch(he){C.error(he)}}:super._next,this._error=D?function(X){try{D(X)}catch(he){C.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=M?function(){try{M()}catch(X){C.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var C;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(C=this.onFinalize)||void 0===C||C.call(this))}}}function Oe(g,C){return Fe((v,M)=>{let D=0;v.subscribe(Ne(M,I=>{M.next(g.call(C,I,D++))}))})}function ut(g){return this instanceof ut?(this.v=g,this):new ut(g)}function _t(g,C,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,M=v.apply(g,C||[]),I=[];return D={},x("next"),x("throw"),x("return"),D[Symbol.asyncIterator]=function(){return this},D;function x(qe){M[qe]&&(D[qe]=function(rt){return new Promise(function(gt,Ot){I.push([qe,rt,gt,Ot])>1||X(qe,rt)})})}function X(qe,rt){try{!function he(qe){qe.value instanceof ut?Promise.resolve(qe.value.v).then(Se,Ae):Ve(I[0][2],qe)}(M[qe](rt))}catch(gt){Ve(I[0][3],gt)}}function Se(qe){X("next",qe)}function Ae(qe){X("throw",qe)}function Ve(qe,rt){qe(rt),I.shift(),I.length&&X(I[0][0],I[0][1])}}function Rt(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,C=g[Symbol.asyncIterator];return C?C.call(g):(g=function tt(g){var C="function"==typeof Symbol&&Symbol.iterator,v=C&&g[C],M=0;if(v)return v.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&M>=g.length&&(g=void 0),{value:g&&g[M++],done:!g}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),v={},M("next"),M("throw"),M("return"),v[Symbol.asyncIterator]=function(){return this},v);function M(I){v[I]=g[I]&&function(x){return new Promise(function(X,he){!function D(I,x,X,he){Promise.resolve(he).then(function(Se){I({value:Se,done:X})},x)}(X,he,(x=g[I](x)).done,x.value)})}}}const zn=g=>g&&"number"==typeof g.length&&"function"!=typeof g;function rr(g){return w(g?.then)}function mr(g){return w(g[le])}function Et(g){return Symbol.asyncIterator&&w(g?.[Symbol.asyncIterator])}function Dt(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ht=function Bt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function on(g){return w(g?.[Ht])}function rn(g){return _t(this,arguments,function*(){const v=g.getReader();try{for(;;){const{value:M,done:D}=yield ut(v.read());if(D)return yield ut(void 0);yield yield ut(M)}}finally{v.releaseLock()}})}function cn(g){return w(g?.getReader)}function un(g){if(g instanceof ue)return g;if(null!=g){if(mr(g))return function $n(g){return new ue(C=>{const v=g[le]();if(w(v.subscribe))return v.subscribe(C);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(g);if(zn(g))return function Cn(g){return new ue(C=>{for(let v=0;v<g.length&&!C.closed;v++)C.next(g[v]);C.complete()})}(g);if(rr(g))return function Nn(g){return new ue(C=>{g.then(v=>{C.closed||(C.next(v),C.complete())},v=>C.error(v)).then(null,ne)})}(g);if(Et(g))return It(g);if(on(g))return function tr(g){return new ue(C=>{for(const v of g)if(C.next(v),C.closed)return;C.complete()})}(g);if(cn(g))return function Wt(g){return It(rn(g))}(g)}throw Dt(g)}function It(g){return new ue(C=>{(function Qt(g,C){var v,M,D,I;return function $e(g,C,v,M){return new(v||(v=Promise))(function(I,x){function X(Ae){try{Se(M.next(Ae))}catch(Ve){x(Ve)}}function he(Ae){try{Se(M.throw(Ae))}catch(Ve){x(Ve)}}function Se(Ae){Ae.done?I(Ae.value):function D(I){return I instanceof v?I:new v(function(x){x(I)})}(Ae.value).then(X,he)}Se((M=M.apply(g,C||[])).next())})}(this,void 0,void 0,function*(){try{for(v=Rt(g);!(M=yield v.next()).done;)if(C.next(M.value),C.closed)return}catch(x){D={error:x}}finally{try{M&&!M.done&&(I=v.return)&&(yield I.call(v))}finally{if(D)throw D.error}}C.complete()})})(g,C).catch(v=>C.error(v))})}function Rn(g,C,v,M=0,D=!1){const I=C.schedule(function(){v(),D?g.add(this.schedule(null,M)):this.unsubscribe()},M);if(g.add(I),!D)return I}function Vt(g,C,v=1/0){return w(C)?Vt((M,D)=>Oe((I,x)=>C(M,I,D,x))(un(g(M,D))),v):("number"==typeof C&&(v=C),Fe((M,D)=>function yt(g,C,v,M,D,I,x,X){const he=[];let Se=0,Ae=0,Ve=!1;const qe=()=>{Ve&&!he.length&&!Se&&C.complete()},rt=Ot=>Se<M?gt(Ot):he.push(Ot),gt=Ot=>{I&&C.next(Ot),Se++;let Ut=!1;un(v(Ot,Ae++)).subscribe(Ne(C,qt=>{D?.(qt),I?rt(qt):C.next(qt)},()=>{Ut=!0},void 0,()=>{if(Ut)try{for(Se--;he.length&&Se<M;){const qt=he.shift();x?Rn(C,x,()=>gt(qt)):gt(qt)}qe()}catch(qt){C.error(qt)}}))};return g.subscribe(Ne(C,rt,()=>{Ve=!0,qe()})),()=>{X?.()}}(M,D,g,v)))}function Yt(g=1/0){return Vt(fe,g)}const ln=new ue(g=>g.complete());function ti(g){return g[g.length-1]}function Jn(g){return w(ti(g))?g.pop():void 0}function He(g){return function Lr(g){return g&&w(g.schedule)}(ti(g))?g.pop():void 0}function it(g,C=0){return Fe((v,M)=>{v.subscribe(Ne(M,D=>Rn(M,g,()=>M.next(D),C),()=>Rn(M,g,()=>M.complete(),C),D=>Rn(M,g,()=>M.error(D),C)))})}function ft(g,C=0){return Fe((v,M)=>{M.add(g.schedule(()=>v.subscribe(M),C))})}function Hn(g,C){if(!g)throw new Error("Iterable cannot be null");return new ue(v=>{Rn(v,C,()=>{const M=g[Symbol.asyncIterator]();Rn(v,C,()=>{M.next().then(D=>{D.done?v.complete():v.next(D.value)})},0,!0)})})}function nr(g,C){return C?function fr(g,C){if(null!=g){if(mr(g))return function jt(g,C){return un(g).pipe(ft(C),it(C))}(g,C);if(zn(g))return function En(g,C){return new ue(v=>{let M=0;return C.schedule(function(){M===g.length?v.complete():(v.next(g[M++]),v.closed||this.schedule())})})}(g,C);if(rr(g))return function Jt(g,C){return un(g).pipe(ft(C),it(C))}(g,C);if(Et(g))return Hn(g,C);if(on(g))return function wn(g,C){return new ue(v=>{let M;return Rn(v,C,()=>{M=g[Ht](),Rn(v,C,()=>{let D,I;try{({value:D,done:I}=M.next())}catch(x){return void v.error(x)}I?v.complete():v.next(D)},0,!0)}),()=>w(M?.return)&&M.return()})}(g,C);if(cn(g))return function Sr(g,C){return Hn(rn(g),C)}(g,C)}throw Dt(g)}(g,C):un(g)}function Zr(g={}){const{connector:C=(()=>new Ie),resetOnError:v=!0,resetOnComplete:M=!0,resetOnRefCountZero:D=!0}=g;return I=>{let x,X,he,Se=0,Ae=!1,Ve=!1;const qe=()=>{X?.unsubscribe(),X=void 0},rt=()=>{qe(),x=he=void 0,Ae=Ve=!1},gt=()=>{const Ot=x;rt(),Ot?.unsubscribe()};return Fe((Ot,Ut)=>{Se++,!Ve&&!Ae&&qe();const qt=he=he??C();Ut.add(()=>{Se--,0===Se&&!Ve&&!Ae&&(X=ni(gt,D))}),qt.subscribe(Ut),!x&&Se>0&&(x=new pe({next:_n=>qt.next(_n),error:_n=>{Ve=!0,qe(),X=ni(rt,v,_n),qt.error(_n)},complete:()=>{Ae=!0,qe(),X=ni(rt,M),qt.complete()}}),un(Ot).subscribe(x))})(I)}}function ni(g,C,...v){if(!0===C)return void g();if(!1===C)return;const M=new pe({next:()=>{M.unsubscribe(),g()}});return un(C(...v)).subscribe(M)}function wr(g){for(let C in g)if(g[C]===wr)return C;throw Error("Could not find renamed property on target object.")}function Ui(g,C){for(const v in C)C.hasOwnProperty(v)&&!g.hasOwnProperty(v)&&(g[v]=C[v])}function ui(g){if("string"==typeof g)return g;if(Array.isArray(g))return"["+g.map(ui).join(", ")+"]";if(null==g)return""+g;if(g.overriddenName)return`${g.overriddenName}`;if(g.name)return`${g.name}`;const C=g.toString();if(null==C)return""+C;const v=C.indexOf("\n");return-1===v?C:C.substring(0,v)}function Ji(g,C){return null==g||""===g?null===C?"":C:null==C||""===C?g:g+" "+C}const Is=wr({__forward_ref__:wr});function yr(g){return g.__forward_ref__=yr,g.toString=function(){return ui(this())},g}function zt(g){return Hr(g)?g():g}function Hr(g){return"function"==typeof g&&g.hasOwnProperty(Is)&&g.__forward_ref__===yr}function ur(g){return g&&!!g.\u0275providers}const Tt="https://g.co/ng/security#xss";class dt extends Error{constructor(C,v){super(function vt(g,C){return`NG0${Math.abs(g)}${C?": "+C.trim():""}`}(C,v)),this.code=C}}function xt(g){return"string"==typeof g?g:null==g?"":String(g)}function sr(g,C){throw new dt(-201,!1)}function hi(g,C){null==g&&function ai(g,C,v,M){throw new Error(`ASSERTION ERROR: ${g}`+(null==M?"":` [Expected=> ${v} ${M} ${C} <=Actual]`))}(C,g,null,"!=")}function lr(g){return{token:g.token,providedIn:g.providedIn||null,factory:g.factory,value:void 0}}function hn(g){return{providers:g.providers||[],imports:g.imports||[]}}function An(g){return $i(g,st)||$i(g,Mt)}function $i(g,C){return g.hasOwnProperty(C)?g[C]:null}function va(g){return g&&(g.hasOwnProperty(ht)||g.hasOwnProperty(Nt))?g[ht]:null}const st=wr({\u0275prov:wr}),ht=wr({\u0275inj:wr}),Mt=wr({ngInjectableDef:wr}),Nt=wr({ngInjectorDef:wr});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let Zt;function fn(g){const C=Zt;return Zt=g,C}function yn(g,C,v){const M=An(g);return M&&"root"==M.providedIn?void 0===M.value?M.value=M.factory():M.value:v&At.Optional?null:void 0!==C?C:void sr(ui(g))}const Vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Us={},oo="__NG_DI_FLAG__",ps="ngTempTokenPath",El=/\n/gm,Th="__source";let Ks;function qo(g){const C=Ks;return Ks=g,C}function pf(g,C=At.Default){if(void 0===Ks)throw new dt(-203,!1);return null===Ks?yn(g,void 0,C):Ks.get(g,C&At.Optional?null:void 0,C)}function dr(g,C=At.Default){return(function nn(){return Zt}()||pf)(zt(g),C)}function Jr(g,C=At.Default){return dr(g,mu(C))}function mu(g){return typeof g>"u"||"number"==typeof g?g:0|(g.optional&&8)|(g.host&&1)|(g.self&&2)|(g.skipSelf&&4)}function gu(g){const C=[];for(let v=0;v<g.length;v++){const M=zt(g[v]);if(Array.isArray(M)){if(0===M.length)throw new dt(900,!1);let D,I=At.Default;for(let x=0;x<M.length;x++){const X=M[x],he=ff(X);"number"==typeof he?-1===he?D=X.token:I|=he:D=X}C.push(dr(D,I))}else C.push(dr(M))}return C}function _c(g,C){return g[oo]=C,g.prototype[oo]=C,g}function ff(g){return g[oo]}function Ya(g){return{toString:g}.toString()}var Ti=(()=>((Ti=Ti||{})[Ti.OnPush=0]="OnPush",Ti[Ti.Default=1]="Default",Ti))(),ea=(()=>{return(g=ea||(ea={}))[g.Emulated=0]="Emulated",g[g.None=2]="None",g[g.ShadowDom=3]="ShadowDom",ea;var g})();const Ia={},_i=[],Ec=wr({\u0275cmp:wr}),Ed=wr({\u0275dir:wr}),yu=wr({\u0275pipe:wr}),Co=wr({\u0275mod:wr}),Oa=wr({\u0275fac:wr}),pi=wr({__NG_ELEMENT_ID__:wr});let N0=0;function fs(g){return Ya(()=>{const v=!0===g.standalone,M={},D={type:g.type,providersResolver:null,decls:g.decls,vars:g.vars,factory:null,template:g.template||null,consts:g.consts||null,ngContentSelectors:g.ngContentSelectors,hostBindings:g.hostBindings||null,hostVars:g.hostVars||0,hostAttrs:g.hostAttrs||null,contentQueries:g.contentQueries||null,declaredInputs:M,inputs:null,outputs:null,exportAs:g.exportAs||null,onPush:g.changeDetection===Ti.OnPush,directiveDefs:null,pipeDefs:null,standalone:v,dependencies:v&&g.dependencies||null,getStandaloneInjector:null,selectors:g.selectors||_i,viewQuery:g.viewQuery||null,features:g.features||null,data:g.data||{},encapsulation:g.encapsulation||ea.Emulated,id:"c"+N0++,styles:g.styles||_i,_:null,setInput:null,schemas:g.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},I=g.dependencies,x=g.features;return D.inputs=vu(g.inputs,M),D.outputs=vu(g.outputs),x&&x.forEach(X=>X(D)),D.directiveDefs=I?()=>("function"==typeof I?I():I).map(wh).filter(bd):null,D.pipeDefs=I?()=>("function"==typeof I?I():I).map(ao).filter(bd):null,D})}function wh(g){return Ii(g)||Hs(g)}function bd(g){return null!==g}function li(g){return Ya(()=>({type:g.type,bootstrap:g.bootstrap||_i,declarations:g.declarations||_i,imports:g.imports||_i,exports:g.exports||_i,transitiveCompileScopes:null,schemas:g.schemas||null,id:g.id||null}))}function vu(g,C){if(null==g)return Ia;const v={};for(const M in g)if(g.hasOwnProperty(M)){let D=g[M],I=D;Array.isArray(D)&&(I=D[1],D=D[0]),v[D]=M,C&&(C[D]=I)}return v}const Tr=fs;function Ii(g){return g[Ec]||null}function Hs(g){return g[Ed]||null}function ao(g){return g[yu]||null}function Mo(g,C){const v=g[Co]||null;if(!v&&!0===C)throw new Error(`Type ${ui(g)} does not have '\u0275mod' property.`);return v}function Js(g){return Array.isArray(g)&&"object"==typeof g[1]}function So(g){return Array.isArray(g)&&!0===g[1]}function Cu(g){return 0!=(4&g.flags)}function Zl(g){return g.componentOffset>-1}function Mu(g){return 1==(1&g.flags)}function ra(g){return null!==g.template}function Oh(g){return 0!=(256&g[2])}function Oi(g,C){return g.hasOwnProperty(Oa)?g[Oa]:null}class vs{constructor(C,v,M){this.previousValue=C,this.currentValue=v,this.firstChange=M}isFirstChange(){return this.firstChange}}function Cr(){return ms}function ms(g){return g.type.prototype.ngOnChanges&&(g.setInput=ia),Sl}function Sl(){const g=xh(this),C=g?.current;if(C){const v=g.previous;if(v===Ia)g.previous=C;else for(let M in C)v[M]=C[M];g.current=null,this.ngOnChanges(C)}}function ia(g,C,v,M){const D=this.declaredInputs[v],I=xh(g)||function Rh(g,C){return g[Pc]=C}(g,{previous:Ia,current:null}),x=I.current||(I.current={}),X=I.previous,he=X[D];x[D]=new vs(he&&he.currentValue,C,X===Ia),g[M]=C}Cr.ngInherit=!0;const Pc="__ngSimpleChanges__";function xh(g){return g[Pc]||null}function Ws(g){for(;Array.isArray(g);)g=g[0];return g}function Lh(g,C){return Ws(C[g])}function sa(g,C){return Ws(C[g.index])}function U0(g,C){return g.data[C]}function oa(g,C){const v=C[g];return Js(v)?v:v[0]}function Fh(g){return 64==(64&g[2])}function Kl(g,C){return null==C?null:g[C]}function B0(g){g[18]=0}function bf(g,C){g[5]+=C;let v=g,M=g[3];for(;null!==M&&(1===C&&1===v[5]||-1===C&&0===v[5]);)M[5]+=C,v=M,M=M[3]}const Yr={lFrame:Dd(null),bindingsEnabled:!0};function W0(){return Yr.bindingsEnabled}function Bn(){return Yr.lFrame.lView}function Pi(){return Yr.lFrame.tView}function fi(g){return Yr.lFrame.contextLView=g,g[8]}function mi(g){return Yr.lFrame.contextLView=null,g}function co(){let g=k0();for(;null!==g&&64===g.type;)g=g.parent;return g}function k0(){return Yr.lFrame.currentTNode}function Qa(g,C){const v=Yr.lFrame;v.currentTNode=g,v.isParent=C}function Cf(){return Yr.lFrame.isParent}function Mf(){Yr.lFrame.isParent=!1}function To(){const g=Yr.lFrame;let C=g.bindingRootIndex;return-1===C&&(C=g.bindingRootIndex=g.tView.bindingStartIndex),C}function Po(){return Yr.lFrame.bindingIndex++}function xa(g){const C=Yr.lFrame,v=C.bindingIndex;return C.bindingIndex=C.bindingIndex+g,v}function Tl(g,C){const v=Yr.lFrame;v.bindingIndex=v.bindingRootIndex=g,Nh(C)}function Nh(g){Yr.lFrame.currentDirectiveIndex=g}function ir(){return Yr.lFrame.currentQueryIndex}function Sf(g){Yr.lFrame.currentQueryIndex=g}function $0(g){const C=g[1];return 2===C.type?C.declTNode:1===C.type?g[6]:null}function Tf(g,C,v){if(v&At.SkipSelf){let D=C,I=g;for(;!(D=D.parent,null!==D||v&At.Host||(D=$0(I),null===D||(I=I[15],10&D.type))););if(null===D)return!1;C=D,g=I}const M=Yr.lFrame=Uh();return M.currentTNode=C,M.lView=g,!0}function as(g){const C=Uh(),v=g[1];Yr.lFrame=C,C.currentTNode=v.firstChild,C.lView=g,C.tView=v,C.contextLView=g,C.bindingIndex=v.bindingStartIndex,C.inI18n=!1}function Uh(){const g=Yr.lFrame,C=null===g?null:g.child;return null===C?Dd(g):C}function Dd(g){const C={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:g,child:null,inI18n:!1};return null!==g&&(g.child=C),C}function Z0(){const g=Yr.lFrame;return Yr.lFrame=g.parent,g.currentTNode=null,g.lView=null,g}const G0=Z0;function Pf(){const g=Z0();g.isParent=!0,g.tView=null,g.selectedIndex=-1,g.contextLView=null,g.elementDepthCount=0,g.currentDirectiveIndex=-1,g.currentNamespace=null,g.bindingRootIndex=-1,g.bindingIndex=-1,g.currentQueryIndex=0}function Do(){return Yr.lFrame.selectedIndex}function Hl(g){Yr.lFrame.selectedIndex=g}function is(){const g=Yr.lFrame;return U0(g.tView,g.selectedIndex)}function Du(g,C){for(let v=C.directiveStart,M=C.directiveEnd;v<M;v++){const I=g.data[v].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:X,ngAfterViewInit:he,ngAfterViewChecked:Se,ngOnDestroy:Ae}=I;x&&(g.contentHooks||(g.contentHooks=[])).push(-v,x),X&&((g.contentHooks||(g.contentHooks=[])).push(v,X),(g.contentCheckHooks||(g.contentCheckHooks=[])).push(v,X)),he&&(g.viewHooks||(g.viewHooks=[])).push(-v,he),Se&&((g.viewHooks||(g.viewHooks=[])).push(v,Se),(g.viewCheckHooks||(g.viewCheckHooks=[])).push(v,Se)),null!=Ae&&(g.destroyHooks||(g.destroyHooks=[])).push(v,Ae)}}function Bh(g,C,v){If(g,C,3,v)}function Vh(g,C,v,M){(3&g[2])===v&&If(g,C,v,M)}function wf(g,C){let v=g[2];(3&v)===C&&(v&=2047,v+=1,g[2]=v)}function If(g,C,v,M){const I=M??-1,x=C.length-1;let X=0;for(let he=void 0!==M?65535&g[18]:0;he<x;he++)if("number"==typeof C[he+1]){if(X=C[he],null!=M&&X>=M)break}else C[he]<0&&(g[18]+=65536),(X<I||-1==I)&&(Of(g,v,C,he),g[18]=(4294901760&g[18])+he+2),he++}function Of(g,C,v,M){const D=v[M]<0,I=v[M+1],X=g[D?-v[M]:v[M]];if(D){if(g[2]>>11<g[18]>>16&&(3&g[2])===C){g[2]+=2048;try{I.call(X)}finally{}}}else try{I.call(X)}finally{}}class wu{constructor(C,v,M){this.factory=C,this.resolving=!1,this.canSeeViewProviders=v,this.injectImpl=M}}function Rf(g,C,v){let M=0;for(;M<v.length;){const D=v[M];if("number"==typeof D){if(0!==D)break;M++;const I=v[M++],x=v[M++],X=v[M++];g.setAttribute(C,x,X,I)}else{const I=D,x=v[++M];Q0(I)?g.setProperty(C,I,x):g.setAttribute(C,I,x),M++}}return M}function J0(g){return 3===g||4===g||6===g}function Q0(g){return 64===g.charCodeAt(0)}function wd(g,C){if(null!==C&&0!==C.length)if(null===g||0===g.length)g=C.slice();else{let v=-1;for(let M=0;M<C.length;M++){const D=C[M];"number"==typeof D?v=D:0===v||X0(g,v,D,null,-1===v||2===v?C[++M]:null)}}return g}function X0(g,C,v,M,D){let I=0,x=g.length;if(-1===C)x=-1;else for(;I<g.length;){const X=g[I++];if("number"==typeof X){if(X===C){x=-1;break}if(X>C){x=I-1;break}}}for(;I<g.length;){const X=g[I];if("number"==typeof X)break;if(X===v){if(null===M)return void(null!==D&&(g[I+1]=D));if(M===g[I+1])return void(g[I+2]=D)}I++,null!==M&&I++,null!==D&&I++}-1!==x&&(g.splice(x,0,C),I=x+1),g.splice(I++,0,v),null!==M&&g.splice(I++,0,M),null!==D&&g.splice(I++,0,D)}function Lf(g){return-1!==g}function Wh(g){return 32767&g}function kh(g,C){let v=function F_(g){return g>>16}(g),M=C;for(;v>0;)M=M[15],v--;return M}let Dc=!0;function wc(g){const C=Dc;return Dc=g,C}let N_=0;const wo={};function zh(g,C){const v=tg(g,C);if(-1!==v)return v;const M=C[1];M.firstCreatePass&&(g.injectorIndex=C.length,jf(M.data,g),jf(C,null),jf(M.blueprint,null));const D=Iu(g,C),I=g.injectorIndex;if(Lf(D)){const x=Wh(D),X=kh(D,C),he=X[1].data;for(let Se=0;Se<8;Se++)C[I+Se]=X[x+Se]|he[x+Se]}return C[I+8]=D,I}function jf(g,C){g.push(0,0,0,0,0,0,0,0,C)}function tg(g,C){return-1===g.injectorIndex||g.parent&&g.parent.injectorIndex===g.injectorIndex||null===C[g.injectorIndex+8]?-1:g.injectorIndex}function Iu(g,C){if(g.parent&&-1!==g.parent.injectorIndex)return g.parent.injectorIndex;let v=0,M=null,D=C;for(;null!==D;){if(M=xu(D),null===M)return-1;if(v++,D=D[15],-1!==M.injectorIndex)return M.injectorIndex|v<<16}return-1}function Ou(g,C,v){!function Nf(g,C,v){let M;"string"==typeof v?M=v.charCodeAt(0)||0:v.hasOwnProperty(pi)&&(M=v[pi]),null==M&&(M=v[pi]=N_++);const D=255&M;C.data[g+(D>>5)]|=1<<D}(g,C,v)}function rg(g,C,v){if(v&At.Optional||void 0!==g)return g;sr()}function ig(g,C,v,M){if(v&At.Optional&&void 0===M&&(M=null),!(v&(At.Self|At.Host))){const D=g[9],I=fn(void 0);try{return D?D.get(C,M,v&At.Optional):yn(C,M,v&At.Optional)}finally{fn(I)}}return rg(M,0,v)}function Id(g,C,v,M=At.Default,D){if(null!==g){if(1024&C[2]){const x=function U_(g,C,v,M,D){let I=g,x=C;for(;null!==I&&null!==x&&1024&x[2]&&!(256&x[2]);){const X=Uf(I,x,v,M|At.Self,wo);if(X!==wo)return X;let he=I.parent;if(!he){const Se=x[21];if(Se){const Ae=Se.get(v,wo,M);if(Ae!==wo)return Ae}he=xu(x),x=x[15]}I=he}return D}(g,C,v,M,wo);if(x!==wo)return x}const I=Uf(g,C,v,M,wo);if(I!==wo)return I}return ig(C,v,M,D)}function Uf(g,C,v,M,D){const I=function j_(g){if("string"==typeof g)return g.charCodeAt(0)||0;const C=g.hasOwnProperty(pi)?g[pi]:void 0;return"number"==typeof C?C>=0?255&C:Bf:C}(v);if("function"==typeof I){if(!Tf(C,g,M))return M&At.Host?rg(D,0,M):ig(C,v,M,D);try{const x=I(M);if(null!=x||M&At.Optional)return x;sr()}finally{G0()}}else if("number"==typeof I){let x=null,X=tg(g,C),he=-1,Se=M&At.Host?C[16][6]:null;for((-1===X||M&At.SkipSelf)&&(he=-1===X?Iu(g,C):C[X+8],-1!==he&&ag(M,!1)?(x=C[1],X=Wh(he),C=kh(he,C)):X=-1);-1!==X;){const Ae=C[1];if(og(I,X,Ae.data)){const Ve=sg(X,C,v,x,M,Se);if(Ve!==wo)return Ve}he=C[X+8],-1!==he&&ag(M,C[1].data[X+8]===Se)&&og(I,X,C)?(x=Ae,X=Wh(he),C=kh(he,C)):X=-1}}return D}function sg(g,C,v,M,D,I){const x=C[1],X=x.data[g+8],Ae=Xa(X,x,v,null==M?Zl(X)&&Dc:M!=x&&0!=(3&X.type),D&At.Host&&I===X);return null!==Ae?Yl(C,x,Ae,X):wo}function Xa(g,C,v,M,D){const I=g.providerIndexes,x=C.data,X=1048575&I,he=g.directiveStart,Ae=I>>20,qe=D?X+Ae:g.directiveEnd;for(let rt=M?X:X+Ae;rt<qe;rt++){const gt=x[rt];if(rt<he&&v===gt||rt>=he&&gt.type===v)return rt}if(D){const rt=x[he];if(rt&&ra(rt)&&rt.type===v)return he}return null}function Yl(g,C,v,M){let D=g[v];const I=C.data;if(function Af(g){return g instanceof wu}(D)){const x=D;x.resolving&&function Xn(g,C){const v=C?`. Dependency path: ${C.join(" > ")} > ${g}`:"";throw new dt(-200,`Circular dependency in DI detected for ${g}${v}`)}(function gn(g){return"function"==typeof g?g.name||g.toString():"object"==typeof g&&null!=g&&"function"==typeof g.type?g.type.name||g.type.toString():xt(g)}(I[v]));const X=wc(x.canSeeViewProviders);x.resolving=!0;const he=x.injectImpl?fn(x.injectImpl):null;Tf(g,M,At.Default);try{D=g[v]=x.factory(void 0,I,g,M),C.firstCreatePass&&v>=M.directiveStart&&function Y0(g,C,v){const{ngOnChanges:M,ngOnInit:D,ngDoCheck:I}=C.type.prototype;if(M){const x=ms(C);(v.preOrderHooks||(v.preOrderHooks=[])).push(g,x),(v.preOrderCheckHooks||(v.preOrderCheckHooks=[])).push(g,x)}D&&(v.preOrderHooks||(v.preOrderHooks=[])).push(0-g,D),I&&((v.preOrderHooks||(v.preOrderHooks=[])).push(g,I),(v.preOrderCheckHooks||(v.preOrderCheckHooks=[])).push(g,I))}(v,I[v],C)}finally{null!==he&&fn(he),wc(X),x.resolving=!1,G0()}}return D}function og(g,C,v){return!!(v[C+(g>>5)]&1<<g)}function ag(g,C){return!(g&At.Self||g&At.Host&&C)}class Au{constructor(C,v){this._tNode=C,this._lView=v}get(C,v,M){return Id(this._tNode,this._lView,C,mu(M),v)}}function Bf(){return new Au(co(),Bn())}function Qs(g){return Ya(()=>{const C=g.prototype.constructor,v=C[Oa]||$h(C),M=Object.prototype;let D=Object.getPrototypeOf(g.prototype).constructor;for(;D&&D!==M;){const I=D[Oa]||$h(D);if(I&&I!==v)return I;D=Object.getPrototypeOf(D)}return I=>new I})}function $h(g){return Hr(g)?()=>{const C=$h(zt(g));return C&&C()}:Oi(g)}function xu(g){const C=g[1],v=C.type;return 2===v?C.declTNode:1===v?g[6]:null}const Ac="__parameters__";function Ru(g,C,v){return Ya(()=>{const M=function Vf(g){return function(...v){if(g){const M=g(...v);for(const D in M)this[D]=M[D]}}}(C);function D(...I){if(this instanceof D)return M.apply(this,I),this;const x=new D(...I);return X.annotation=x,X;function X(he,Se,Ae){const Ve=he.hasOwnProperty(Ac)?he[Ac]:Object.defineProperty(he,Ac,{value:[]})[Ac];for(;Ve.length<=Ae;)Ve.push(null);return(Ve[Ae]=Ve[Ae]||[]).push(x),he}}return v&&(D.prototype=Object.create(v.prototype)),D.prototype.ngMetadataName=g,D.annotationCls=D,D})}class Or{constructor(C,v){this._desc=C,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof v?this.__NG_ELEMENT_ID__=v:void 0!==v&&(this.\u0275prov=lr({token:this,providedIn:v.providedIn||"root",factory:v.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ql(g,C){g.forEach(v=>Array.isArray(v)?Ql(v,C):C(v))}function kf(g,C,v){C>=g.length?g.push(v):g.splice(C,0,v)}function Ad(g,C){return C>=g.length-1?g.pop():g.splice(C,1)[0]}function Ra(g,C){const v=[];for(let M=0;M<g;M++)v.push(C);return v}function la(g,C,v){let M=_s(g,C);return M>=0?g[1|M]=v:(M=~M,function ug(g,C,v,M){let D=g.length;if(D==C)g.push(v,M);else if(1===D)g.push(M,g[0]),g[0]=v;else{for(D--,g.push(g[D-1],g[D]);D>C;)g[D]=g[D-2],D--;g[C]=v,g[C+1]=M}}(g,M,C,v)),M}function Fu(g,C){const v=_s(g,C);if(v>=0)return g[1|v]}function _s(g,C){return function vn(g,C,v){let M=0,D=g.length>>v;for(;D!==M;){const I=M+(D-M>>1),x=g[I<<v];if(C===x)return I<<v;x>C?D=I:M=I+1}return~(D<<v)}(g,C,1)}const ot=_c(Ru("Optional"),8),ar=_c(Ru("SkipSelf"),4);var _a=(()=>((_a=_a||{})[_a.Important=1]="Important",_a[_a.DashCase=2]="DashCase",_a))();const J_=new Map;let c5=0;const X_="__ngContext__";function Bo(g,C){Js(C)?(g[X_]=C[20],function d5(g){J_.set(g[20],g)}(C)):g[X_]=C}function e1(g,C){return undefined(g,C)}function Gf(g){const C=g[3];return So(C)?C[3]:C}function t1(g){return KT(g[13])}function n1(g){return KT(g[4])}function KT(g){for(;null!==g&&!So(g);)g=g[4];return g}function Kh(g,C,v,M,D){if(null!=M){let I,x=!1;So(M)?I=M:Js(M)&&(x=!0,M=M[0]);const X=Ws(M);0===g&&null!==v?null==D?qT(C,v,X):xd(C,v,X,D||null,!0):1===g&&null!==v?xd(C,v,X,D||null,!0):2===g?function u1(g,C,v){const M=mg(g,C);M&&function A5(g,C,v,M){g.removeChild(C,v,M)}(g,M,C,v)}(C,X,x):3===g&&C.destroyNode(X),null!=I&&function L5(g,C,v,M,D){const I=v[7];I!==Ws(v)&&Kh(C,g,M,I,D);for(let X=10;X<v.length;X++){const he=v[X];Kf(he[1],he,g,C,M,I)}}(C,g,I,v,D)}}function s1(g,C,v){return g.createElement(C,v)}function YT(g,C){const v=g[9],M=v.indexOf(C),D=C[3];512&C[2]&&(C[2]&=-513,bf(D,-1)),v.splice(M,1)}function o1(g,C){if(g.length<=10)return;const v=10+C,M=g[v];if(M){const D=M[17];null!==D&&D!==g&&YT(D,M),C>0&&(g[v-1][4]=M[4]);const I=Ad(g,10+C);!function M5(g,C){Kf(g,C,C[11],2,null,null),C[0]=null,C[6]=null}(M[1],M);const x=I[19];null!==x&&x.detachView(I[1]),M[3]=null,M[4]=null,M[2]&=-65}return M}function JT(g,C){if(!(128&C[2])){const v=C[11];v.destroyNode&&Kf(g,C,v,3,null,null),function P5(g){let C=g[13];if(!C)return a1(g[1],g);for(;C;){let v=null;if(Js(C))v=C[13];else{const M=C[10];M&&(v=M)}if(!v){for(;C&&!C[4]&&C!==g;)Js(C)&&a1(C[1],C),C=C[3];null===C&&(C=g),Js(C)&&a1(C[1],C),v=C&&C[4]}C=v}}(C)}}function a1(g,C){if(!(128&C[2])){C[2]&=-65,C[2]|=128,function O5(g,C){let v;if(null!=g&&null!=(v=g.destroyHooks))for(let M=0;M<v.length;M+=2){const D=C[v[M]];if(!(D instanceof wu)){const I=v[M+1];if(Array.isArray(I))for(let x=0;x<I.length;x+=2){const X=D[I[x]],he=I[x+1];try{he.call(X)}finally{}}else try{I.call(D)}finally{}}}}(g,C),function I5(g,C){const v=g.cleanup,M=C[7];let D=-1;if(null!==v)for(let I=0;I<v.length-1;I+=2)if("string"==typeof v[I]){const x=v[I+3];x>=0?M[D=x]():M[D=-x].unsubscribe(),I+=2}else{const x=M[D=v[I+1]];v[I].call(x)}if(null!==M){for(let I=D+1;I<M.length;I++)(0,M[I])();C[7]=null}}(g,C),1===C[1].type&&C[11].destroy();const v=C[17];if(null!==v&&So(C[3])){v!==C[3]&&YT(v,C);const M=C[19];null!==M&&M.detachView(g)}!function h5(g){J_.delete(g[20])}(C)}}function QT(g,C,v){return function XT(g,C,v){let M=C;for(;null!==M&&40&M.type;)M=(C=M).parent;if(null===M)return v[0];{const{componentOffset:D}=M;if(D>-1){const{encapsulation:I}=g.data[M.directiveStart+D];if(I===ea.None||I===ea.Emulated)return null}return sa(M,v)}}(g,C.parent,v)}function xd(g,C,v,M,D){g.insertBefore(C,v,M,D)}function qT(g,C,v){g.appendChild(C,v)}function eP(g,C,v,M,D){null!==M?xd(g,C,v,M,D):qT(g,C,v)}function mg(g,C){return g.parentNode(C)}function tP(g,C,v){return rP(g,C,v)}let vg,p1,_g,rP=function nP(g,C,v){return 40&g.type?sa(g,v):null};function gg(g,C,v,M){const D=QT(g,M,C),I=C[11],X=tP(M.parent||C[6],M,C);if(null!=D)if(Array.isArray(v))for(let he=0;he<v.length;he++)eP(I,D,v[he],X,!1);else eP(I,D,v,X,!1)}function yg(g,C){if(null!==C){const v=C.type;if(3&v)return sa(C,g);if(4&v)return c1(-1,g[C.index]);if(8&v){const M=C.child;if(null!==M)return yg(g,M);{const D=g[C.index];return So(D)?c1(-1,D):Ws(D)}}if(32&v)return e1(C,g)()||Ws(g[C.index]);{const M=sP(g,C);return null!==M?Array.isArray(M)?M[0]:yg(Gf(g[16]),M):yg(g,C.next)}}return null}function sP(g,C){return null!==C?g[16][6].projection[C.projection]:null}function c1(g,C){const v=10+g+1;if(v<C.length){const M=C[v],D=M[1].firstChild;if(null!==D)return yg(M,D)}return C[7]}function d1(g,C,v,M,D,I,x){for(;null!=v;){const X=M[v.index],he=v.type;if(x&&0===C&&(X&&Bo(Ws(X),M),v.flags|=2),32!=(32&v.flags))if(8&he)d1(g,C,v.child,M,D,I,!1),Kh(C,g,D,X,I);else if(32&he){const Se=e1(v,M);let Ae;for(;Ae=Se();)Kh(C,g,D,Ae,I);Kh(C,g,D,X,I)}else 16&he?oP(g,C,M,v,D,I):Kh(C,g,D,X,I);v=x?v.projectionNext:v.next}}function Kf(g,C,v,M,D,I){d1(v,M,g.firstChild,C,D,I,!1)}function oP(g,C,v,M,D,I){const x=v[16],he=x[6].projection[M.projection];if(Array.isArray(he))for(let Se=0;Se<he.length;Se++)Kh(C,g,D,he[Se],I);else d1(g,C,he,x[3],D,I,!0)}function aP(g,C,v){""===v?g.removeAttribute(C,"class"):g.setAttribute(C,"class",v)}function lP(g,C,v){const{mergedAttrs:M,classes:D,styles:I}=v;null!==M&&Rf(g,C,M),null!==D&&aP(g,C,D),null!==I&&function N5(g,C,v){g.setAttribute(C,"style",v)}(g,C,I)}function Rd(g){return function h1(){if(void 0===vg&&(vg=null,Vn.trustedTypes))try{vg=Vn.trustedTypes.createPolicy("angular",{createHTML:g=>g,createScript:g=>g,createScriptURL:g=>g})}catch{}return vg}()?.createHTML(g)||g}function uP(g){return function f1(){if(void 0===_g&&(_g=null,Vn.trustedTypes))try{_g=Vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:g=>g,createScript:g=>g,createScriptURL:g=>g})}catch{}return _g}()?.createHTML(g)||g}class pP{constructor(C){this.changingThisBreaksApplicationSecurity=C}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tt})`}}function Nu(g){return g instanceof pP?g.changingThisBreaksApplicationSecurity:g}class K5{constructor(C){this.inertDocumentHelper=C}getInertBodyElement(C){C="<body><remove></remove>"+C;try{const v=(new window.DOMParser).parseFromString(Rd(C),"text/html").body;return null===v?this.inertDocumentHelper.getInertBodyElement(C):(v.removeChild(v.firstChild),v)}catch{return null}}}class H5{constructor(C){if(this.defaultDoc=C,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const v=this.inertDocument.createElement("html");this.inertDocument.appendChild(v);const M=this.inertDocument.createElement("body");v.appendChild(M)}}getInertBodyElement(C){const v=this.inertDocument.createElement("template");if("content"in v)return v.innerHTML=Rd(C),v;const M=this.inertDocument.createElement("body");return M.innerHTML=Rd(C),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(M),M}stripCustomNsAttrs(C){const v=C.attributes;for(let D=v.length-1;0<D;D--){const x=v.item(D).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&C.removeAttribute(x)}let M=C.firstChild;for(;M;)M.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(M),M=M.nextSibling}}const J5=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Rc(g){const C={};for(const v of g.split(","))C[v]=!0;return C}function Yf(...g){const C={};for(const v of g)for(const M in v)v.hasOwnProperty(M)&&(C[M]=!0);return C}const mP=Rc("area,br,col,hr,img,wbr"),gP=Rc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yP=Rc("rp,rt"),g1=Yf(mP,Yf(gP,Rc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yf(yP,Rc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yf(yP,gP)),y1=Rc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vP=Yf(y1,Rc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Q5=Rc("script,style,template");class X5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(C){let v=C.firstChild,M=!0;for(;v;)if(v.nodeType===Node.ELEMENT_NODE?M=this.startElement(v):v.nodeType===Node.TEXT_NODE?this.chars(v.nodeValue):this.sanitizedSomething=!0,M&&v.firstChild)v=v.firstChild;else for(;v;){v.nodeType===Node.ELEMENT_NODE&&this.endElement(v);let D=this.checkClobberedElement(v,v.nextSibling);if(D){v=D;break}v=this.checkClobberedElement(v,v.parentNode)}return this.buf.join("")}startElement(C){const v=C.nodeName.toLowerCase();if(!g1.hasOwnProperty(v))return this.sanitizedSomething=!0,!Q5.hasOwnProperty(v);this.buf.push("<"),this.buf.push(v);const M=C.attributes;for(let D=0;D<M.length;D++){const I=M.item(D),x=I.name,X=x.toLowerCase();if(!vP.hasOwnProperty(X)){this.sanitizedSomething=!0;continue}let he=I.value;y1[X]&&(g=he,he=(g=String(g)).match(J5)?g:"unsafe:"+g),this.buf.push(" ",x,'="',_P(he),'"')}var g;return this.buf.push(">"),!0}endElement(C){const v=C.nodeName.toLowerCase();g1.hasOwnProperty(v)&&!mP.hasOwnProperty(v)&&(this.buf.push("</"),this.buf.push(v),this.buf.push(">"))}chars(C){this.buf.push(_P(C))}checkClobberedElement(C,v){if(v&&(C.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${C.outerHTML}`);return v}}const q5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eN=/([^\#-~ |!])/g;function _P(g){return g.replace(/&/g,"&amp;").replace(q5,function(C){return"&#"+(1024*(C.charCodeAt(0)-55296)+(C.charCodeAt(1)-56320)+65536)+";"}).replace(eN,function(C){return"&#"+C.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Eg;function v1(g){return"content"in g&&function nN(g){return g.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===g.nodeName}(g)?g.content:null}var Xs=(()=>((Xs=Xs||{})[Xs.NONE=0]="NONE",Xs[Xs.HTML=1]="HTML",Xs[Xs.STYLE=2]="STYLE",Xs[Xs.SCRIPT=3]="SCRIPT",Xs[Xs.URL=4]="URL",Xs[Xs.RESOURCE_URL=5]="RESOURCE_URL",Xs))();function EP(g){const C=function Jf(){const g=Bn();return g&&g[12]}();return C?uP(C.sanitize(Xs.HTML,g)||""):function Hf(g,C){const v=function G5(g){return g instanceof pP&&g.getTypeName()||null}(g);if(null!=v&&v!==C){if("ResourceURL"===v&&"URL"===C)return!0;throw new Error(`Required a safe ${C}, got a ${v} (see ${Tt})`)}return v===C}(g,"HTML")?uP(Nu(g)):function tN(g,C){let v=null;try{Eg=Eg||function fP(g){const C=new H5(g);return function Y5(){try{return!!(new window.DOMParser).parseFromString(Rd(""),"text/html")}catch{return!1}}()?new K5(C):C}(g);let M=C?String(C):"";v=Eg.getInertBodyElement(M);let D=5,I=M;do{if(0===D)throw new Error("Failed to sanitize html because the input is unstable");D--,M=I,I=v.innerHTML,v=Eg.getInertBodyElement(M)}while(M!==I);return Rd((new X5).sanitizeChildren(v1(v)||v))}finally{if(v){const M=v1(v)||v;for(;M.firstChild;)M.removeChild(M.firstChild)}}}(function cP(){return void 0!==p1?p1:typeof document<"u"?document:void 0}(),xt(g))}const bg=new Or("ENVIRONMENT_INITIALIZER"),SP=new Or("INJECTOR",-1),TP=new Or("INJECTOR_DEF_TYPES");class PP{get(C,v=Us){if(v===Us){const M=new Error(`NullInjectorError: No provider for ${ui(C)}!`);throw M.name="NullInjectorError",M}return v}}function lN(...g){return{\u0275providers:DP(0,g),\u0275fromNgModule:!0}}function DP(g,...C){const v=[],M=new Set;let D;return Ql(C,I=>{const x=I;_1(x,v,[],M)&&(D||(D=[]),D.push(x))}),void 0!==D&&wP(D,v),v}function wP(g,C){for(let v=0;v<g.length;v++){const{providers:D}=g[v];E1(D,I=>{C.push(I)})}}function _1(g,C,v,M){if(!(g=zt(g)))return!1;let D=null,I=va(g);const x=!I&&Ii(g);if(I||x){if(x&&!x.standalone)return!1;D=g}else{const he=g.ngModule;if(I=va(he),!I)return!1;D=he}const X=M.has(D);if(x){if(X)return!1;if(M.add(D),x.dependencies){const he="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Se of he)_1(Se,C,v,M)}}else{if(!I)return!1;{if(null!=I.imports&&!X){let Se;M.add(D);try{Ql(I.imports,Ae=>{_1(Ae,C,v,M)&&(Se||(Se=[]),Se.push(Ae))})}finally{}void 0!==Se&&wP(Se,C)}if(!X){const Se=Oi(D)||(()=>new D);C.push({provide:D,useFactory:Se,deps:_i},{provide:TP,useValue:D,multi:!0},{provide:bg,useValue:()=>dr(D),multi:!0})}const he=I.providers;null==he||X||E1(he,Ae=>{C.push(Ae)})}}return D!==g&&void 0!==g.providers}function E1(g,C){for(let v of g)ur(v)&&(v=v.\u0275providers),Array.isArray(v)?E1(v,C):C(v)}const cN=wr({provide:String,useValue:wr});function b1(g){return null!==g&&"object"==typeof g&&cN in g}function Ld(g){return"function"==typeof g}const C1=new Or("Set Injector scope."),Cg={},dN={};let M1;function Mg(){return void 0===M1&&(M1=new PP),M1}class Lc{}class AP extends Lc{get destroyed(){return this._destroyed}constructor(C,v,M,D){super(),this.parent=v,this.source=M,this.scopes=D,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T1(C,x=>this.processProvider(x)),this.records.set(SP,Hh(void 0,this)),D.has("environment")&&this.records.set(Lc,Hh(void 0,this));const I=this.records.get(C1);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(TP.multi,_i,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const C of this._ngOnDestroyHooks)C.ngOnDestroy();for(const C of this._onDestroyHooks)C()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(C){this._onDestroyHooks.push(C)}runInContext(C){this.assertNotDestroyed();const v=qo(this),M=fn(void 0);try{return C()}finally{qo(v),fn(M)}}get(C,v=Us,M=At.Default){this.assertNotDestroyed(),M=mu(M);const D=qo(this),I=fn(void 0);try{if(!(M&At.SkipSelf)){let X=this.records.get(C);if(void 0===X){const he=function gN(g){return"function"==typeof g||"object"==typeof g&&g instanceof Or}(C)&&An(C);X=he&&this.injectableDefInScope(he)?Hh(S1(C),Cg):null,this.records.set(C,X)}if(null!=X)return this.hydrate(C,X)}return(M&At.Self?Mg():this.parent).get(C,v=M&At.Optional&&v===Us?null:v)}catch(x){if("NullInjectorError"===x.name){if((x[ps]=x[ps]||[]).unshift(ui(C)),D)throw x;return function vi(g,C,v,M){const D=g[ps];throw C[Th]&&D.unshift(C[Th]),g.message=function Vl(g,C,v,M=null){g=g&&"\n"===g.charAt(0)&&"\u0275"==g.charAt(1)?g.slice(2):g;let D=ui(C);if(Array.isArray(C))D=C.map(ui).join(" -> ");else if("object"==typeof C){let I=[];for(let x in C)if(C.hasOwnProperty(x)){let X=C[x];I.push(x+":"+("string"==typeof X?JSON.stringify(X):ui(X)))}D=`{${I.join(", ")}}`}return`${v}${M?"("+M+")":""}[${D}]: ${g.replace(El,"\n  ")}`}("\n"+g.message,D,v,M),g.ngTokenPath=D,g[ps]=null,g}(x,C,"R3InjectorError",this.source)}throw x}finally{fn(I),qo(D)}}resolveInjectorInitializers(){const C=qo(this),v=fn(void 0);try{const M=this.get(bg.multi,_i,At.Self);for(const D of M)D()}finally{qo(C),fn(v)}}toString(){const C=[],v=this.records;for(const M of v.keys())C.push(ui(M));return`R3Injector[${C.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(C){let v=Ld(C=zt(C))?C:zt(C&&C.provide);const M=function pN(g){return b1(g)?Hh(void 0,g.useValue):Hh(xP(g),Cg)}(C);if(Ld(C)||!0!==C.multi)this.records.get(v);else{let D=this.records.get(v);D||(D=Hh(void 0,Cg,!0),D.factory=()=>gu(D.multi),this.records.set(v,D)),v=C,D.multi.push(C)}this.records.set(v,M)}hydrate(C,v){return v.value===Cg&&(v.value=dN,v.value=v.factory()),"object"==typeof v.value&&v.value&&function mN(g){return null!==g&&"object"==typeof g&&"function"==typeof g.ngOnDestroy}(v.value)&&this._ngOnDestroyHooks.add(v.value),v.value}injectableDefInScope(C){if(!C.providedIn)return!1;const v=zt(C.providedIn);return"string"==typeof v?"any"===v||this.scopes.has(v):this.injectorDefTypes.has(v)}}function S1(g){const C=An(g),v=null!==C?C.factory:Oi(g);if(null!==v)return v;if(g instanceof Or)throw new dt(204,!1);if(g instanceof Function)return function hN(g){const C=g.length;if(C>0)throw Ra(C,"?"),new dt(204,!1);const v=function Di(g){const C=g&&(g[st]||g[Mt]);if(C){const v=function js(g){if(g.hasOwnProperty("name"))return g.name;const C=(""+g).match(/^function\s*([^\s(]+)/);return null===C?"":C[1]}(g);return console.warn(`DEPRECATED: DI is instantiating a token "${v}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${v}" class.`),C}return null}(g);return null!==v?()=>v.factory(g):()=>new g}(g);throw new dt(204,!1)}function xP(g,C,v){let M;if(Ld(g)){const D=zt(g);return Oi(D)||S1(D)}if(b1(g))M=()=>zt(g.useValue);else if(function OP(g){return!(!g||!g.useFactory)}(g))M=()=>g.useFactory(...gu(g.deps||[]));else if(function IP(g){return!(!g||!g.useExisting)}(g))M=()=>dr(zt(g.useExisting));else{const D=zt(g&&(g.useClass||g.provide));if(!function fN(g){return!!g.deps}(g))return Oi(D)||S1(D);M=()=>new D(...gu(g.deps))}return M}function Hh(g,C,v=!1){return{factory:g,value:C,multi:v?[]:void 0}}function T1(g,C){for(const v of g)Array.isArray(v)?T1(v,C):v&&ur(v)?T1(v.\u0275providers,C):C(v)}class yN{}class RP{}class _N{resolveComponentFactory(C){throw function vN(g){const C=Error(`No component factory found for ${ui(g)}. Did you add it to @NgModule.entryComponents?`);return C.ngComponent=g,C}(C)}}let Fd=(()=>{class g{}return g.NULL=new _N,g})();function EN(){return Yh(co(),Bn())}function Yh(g,C){return new As(sa(g,C))}let As=(()=>{class g{constructor(v){this.nativeElement=v}}return g.__NG_ELEMENT_ID__=EN,g})();function bN(g){return g instanceof As?g.nativeElement:g}class Qf{}let ba=(()=>{class g{}return g.__NG_ELEMENT_ID__=()=>function CN(){const g=Bn(),v=oa(co().index,g);return(Js(v)?v:g)[11]}(),g})(),MN=(()=>{class g{}return g.\u0275prov=lr({token:g,providedIn:"root",factory:()=>null}),g})();class Xf{constructor(C){this.full=C,this.major=C.split(".")[0],this.minor=C.split(".")[1],this.patch=C.split(".").slice(2).join(".")}}const SN=new Xf("15.1.3"),P1={};function w1(g){return g.ngOriginalError}class Nd{constructor(){this._console=console}handleError(C){const v=this._findOriginalError(C);this._console.error("ERROR",C),v&&this._console.error("ORIGINAL ERROR",v)}_findOriginalError(C){let v=C&&w1(C);for(;v&&w1(v);)v=w1(v);return v||null}}function Fc(g){return g instanceof Function?g():g}function NP(g,C,v){let M=g.length;for(;;){const D=g.indexOf(C,v);if(-1===D)return D;if(0===D||g.charCodeAt(D-1)<=32){const I=C.length;if(D+I===M||g.charCodeAt(D+I)<=32)return D}v=D+1}}const jP="ng-template";function FN(g,C,v){let M=0;for(;M<g.length;){let D=g[M++];if(v&&"class"===D){if(D=g[M],-1!==NP(D.toLowerCase(),C,0))return!0}else if(1===D){for(;M<g.length&&"string"==typeof(D=g[M++]);)if(D.toLowerCase()===C)return!0;return!1}}return!1}function UP(g){return 4===g.type&&g.value!==jP}function NN(g,C,v){return C===(4!==g.type||v?g.value:jP)}function jN(g,C,v){let M=4;const D=g.attrs||[],I=function VN(g){for(let C=0;C<g.length;C++)if(J0(g[C]))return C;return g.length}(D);let x=!1;for(let X=0;X<C.length;X++){const he=C[X];if("number"!=typeof he){if(!x)if(4&M){if(M=2|1&M,""!==he&&!NN(g,he,v)||""===he&&1===C.length){if(Dl(M))return!1;x=!0}}else{const Se=8&M?he:C[++X];if(8&M&&null!==g.attrs){if(!FN(g.attrs,Se,v)){if(Dl(M))return!1;x=!0}continue}const Ve=UN(8&M?"class":he,D,UP(g),v);if(-1===Ve){if(Dl(M))return!1;x=!0;continue}if(""!==Se){let qe;qe=Ve>I?"":D[Ve+1].toLowerCase();const rt=8&M?qe:null;if(rt&&-1!==NP(rt,Se,0)||2&M&&Se!==qe){if(Dl(M))return!1;x=!0}}}}else{if(!x&&!Dl(M)&&!Dl(he))return!1;if(x&&Dl(he))continue;x=!1,M=he|1&M}}return Dl(M)||x}function Dl(g){return 0==(1&g)}function UN(g,C,v,M){if(null===C)return-1;let D=0;if(M||!v){let I=!1;for(;D<C.length;){const x=C[D];if(x===g)return D;if(3===x||6===x)I=!0;else{if(1===x||2===x){let X=C[++D];for(;"string"==typeof X;)X=C[++D];continue}if(4===x)break;if(0===x){D+=4;continue}}D+=I?1:2}return-1}return function WN(g,C){let v=g.indexOf(4);if(v>-1)for(v++;v<g.length;){const M=g[v];if("number"==typeof M)return-1;if(M===C)return v;v++}return-1}(C,g)}function BP(g,C,v=!1){for(let M=0;M<C.length;M++)if(jN(g,C[M],v))return!0;return!1}function kN(g,C){e:for(let v=0;v<C.length;v++){const M=C[v];if(g.length===M.length){for(let D=0;D<g.length;D++)if(g[D]!==M[D])continue e;return!0}}return!1}function VP(g,C){return g?":not("+C.trim()+")":C}function zN(g){let C=g[0],v=1,M=2,D="",I=!1;for(;v<g.length;){let x=g[v];if("string"==typeof x)if(2&M){const X=g[++v];D+="["+x+(X.length>0?'="'+X+'"':"")+"]"}else 8&M?D+="."+x:4&M&&(D+=" "+x);else""!==D&&!Dl(x)&&(C+=VP(I,D),D=""),M=x,I=I||!Dl(M);v++}return""!==D&&(C+=VP(I,D)),C}const ri={};function Tn(g){WP(Pi(),Bn(),Do()+g,!1)}function WP(g,C,v,M){if(!M)if(3==(3&C[2])){const I=g.preOrderCheckHooks;null!==I&&Bh(C,I,v)}else{const I=g.preOrderHooks;null!==I&&Vh(C,I,0,v)}Hl(v)}function ZP(g,C=null,v=null,M){const D=GP(g,C,v,M);return D.resolveInjectorInitializers(),D}function GP(g,C=null,v=null,M,D=new Set){const I=[v||_i,lN(g)];return M=M||("object"==typeof g?void 0:ui(g)),new AP(I,C||Mg(),M||null,D)}let La=(()=>{class g{static create(v,M){if(Array.isArray(v))return ZP({name:""},M,v,"");{const D=v.name??"";return ZP({name:D},v.parent,v.providers,D)}}}return g.THROW_IF_NOT_FOUND=Us,g.NULL=new PP,g.\u0275prov=lr({token:g,providedIn:"any",factory:()=>dr(SP)}),g.__NG_ELEMENT_ID__=-1,g})();function pn(g,C=At.Default){const v=Bn();return null===v?dr(g,C):Id(co(),v,zt(g),C)}function eD(g,C){const v=g.contentQueries;if(null!==v)for(let M=0;M<v.length;M+=2){const I=v[M+1];if(-1!==I){const x=g.data[I];Sf(v[M]),x.contentQueries(2,C[I],I)}}}function Tg(g,C,v,M,D,I,x,X,he,Se,Ae){const Ve=C.blueprint.slice();return Ve[0]=D,Ve[2]=76|M,(null!==Ae||g&&1024&g[2])&&(Ve[2]|=1024),B0(Ve),Ve[3]=Ve[15]=g,Ve[8]=v,Ve[10]=x||g&&g[10],Ve[11]=X||g&&g[11],Ve[12]=he||g&&g[12]||null,Ve[9]=Se||g&&g[9]||null,Ve[6]=I,Ve[20]=function u5(){return c5++}(),Ve[21]=Ae,Ve[16]=2==C.type?g[16]:Ve,Ve}function Xh(g,C,v,M,D){let I=g.data[C];if(null===I)I=function R1(g,C,v,M,D){const I=k0(),x=Cf(),he=g.data[C]=function mj(g,C,v,M,D,I){return{type:v,index:M,insertBeforeIndex:null,injectorIndex:C?C.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:D,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:C,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?I:I&&I.parent,v,C,M,D);return null===g.firstChild&&(g.firstChild=he),null!==I&&(x?null==I.child&&null!==he.parent&&(I.child=he):null===I.next&&(I.next=he)),he}(g,C,v,M,D),function sn(){return Yr.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=v,I.value=M,I.attrs=D;const x=function Td(){const g=Yr.lFrame,C=g.currentTNode;return g.isParent?C:C.parent}();I.injectorIndex=null===x?-1:x.injectorIndex}return Qa(I,!0),I}function qf(g,C,v,M){if(0===v)return-1;const D=C.length;for(let I=0;I<v;I++)C.push(M),g.blueprint.push(M),g.data.push(null);return D}function L1(g,C,v){as(C);try{const M=g.viewQuery;null!==M&&$1(1,M,v);const D=g.template;null!==D&&tD(g,C,D,1,v),g.firstCreatePass&&(g.firstCreatePass=!1),g.staticContentQueries&&eD(g,C),g.staticViewQueries&&$1(2,g.viewQuery,v);const I=g.components;null!==I&&function hj(g,C){for(let v=0;v<C.length;v++)Lj(g,C[v])}(C,I)}catch(M){throw g.firstCreatePass&&(g.incompleteFirstPass=!0,g.firstCreatePass=!1),M}finally{C[2]&=-5,Pf()}}function Pg(g,C,v,M){const D=C[2];if(128!=(128&D)){as(C);try{B0(C),function Pd(g){return Yr.lFrame.bindingIndex=g}(g.bindingStartIndex),null!==v&&tD(g,C,v,2,M);const x=3==(3&D);if(x){const Se=g.preOrderCheckHooks;null!==Se&&Bh(C,Se,null)}else{const Se=g.preOrderHooks;null!==Se&&Vh(C,Se,0,null),wf(C,0)}if(function xj(g){for(let C=t1(g);null!==C;C=n1(C)){if(!C[2])continue;const v=C[9];for(let M=0;M<v.length;M++){const D=v[M];512&D[2]||bf(D[3],1),D[2]|=512}}}(C),function Aj(g){for(let C=t1(g);null!==C;C=n1(C))for(let v=10;v<C.length;v++){const M=C[v],D=M[1];Fh(M)&&Pg(D,M,D.template,M[8])}}(C),null!==g.contentQueries&&eD(g,C),x){const Se=g.contentCheckHooks;null!==Se&&Bh(C,Se)}else{const Se=g.contentHooks;null!==Se&&Vh(C,Se,1),wf(C,1)}!function uj(g,C){const v=g.hostBindingOpCodes;if(null!==v)try{for(let M=0;M<v.length;M++){const D=v[M];if(D<0)Hl(~D);else{const I=D,x=v[++M],X=v[++M];Tl(x,I),X(2,C[I])}}}finally{Hl(-1)}}(g,C);const X=g.components;null!==X&&function dj(g,C){for(let v=0;v<C.length;v++)Rj(g,C[v])}(C,X);const he=g.viewQuery;if(null!==he&&$1(2,he,M),x){const Se=g.viewCheckHooks;null!==Se&&Bh(C,Se)}else{const Se=g.viewHooks;null!==Se&&Vh(C,Se,2),wf(C,2)}!0===g.firstUpdatePass&&(g.firstUpdatePass=!1),C[2]&=-41,512&C[2]&&(C[2]&=-513,bf(C[3],-1))}finally{Pf()}}}function tD(g,C,v,M,D){const I=Do(),x=2&M;try{Hl(-1),x&&C.length>22&&WP(g,C,22,!1),v(M,D)}finally{Hl(I)}}function F1(g,C,v){if(Cu(C)){const D=C.directiveEnd;for(let I=C.directiveStart;I<D;I++){const x=g.data[I];x.contentQueries&&x.contentQueries(1,v[I],I)}}}function N1(g,C,v){W0()&&(function bj(g,C,v,M){const D=v.directiveStart,I=v.directiveEnd;Zl(v)&&function wj(g,C,v){const M=sa(C,g),D=nD(v),I=g[10],x=Dg(g,Tg(g,D,null,v.onPush?32:16,M,C,I,I.createRenderer(M,v),null,null,null));g[C.index]=x}(C,v,g.data[D+v.componentOffset]),g.firstCreatePass||zh(v,C),Bo(M,C);const x=v.initialInputs;for(let X=D;X<I;X++){const he=g.data[X],Se=Yl(C,g,X,v);Bo(Se,C),null!==x&&Ij(0,X-D,Se,he,0,x),ra(he)&&(oa(v.index,C)[8]=Yl(C,g,X,v))}}(g,C,v,sa(v,C)),64==(64&v.flags)&&lD(g,C,v))}function j1(g,C,v=sa){const M=C.localNames;if(null!==M){let D=C.index+1;for(let I=0;I<M.length;I+=2){const x=M[I+1],X=-1===x?v(C,g):g[x];g[D++]=X}}}function nD(g){const C=g.tView;return null===C||C.incompleteFirstPass?g.tView=U1(1,null,g.template,g.decls,g.vars,g.directiveDefs,g.pipeDefs,g.viewQuery,g.schemas,g.consts):C}function U1(g,C,v,M,D,I,x,X,he,Se){const Ae=22+M,Ve=Ae+D,qe=function pj(g,C){const v=[];for(let M=0;M<C;M++)v.push(M<g?null:ri);return v}(Ae,Ve),rt="function"==typeof Se?Se():Se;return qe[1]={type:g,blueprint:qe,template:v,queries:null,viewQuery:X,declTNode:C,data:qe.slice().fill(null,Ae),bindingStartIndex:Ae,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:he,consts:rt,incompleteFirstPass:!1}}function rD(g,C,v,M){const D=uD(C);null===v?D.push(M):(D.push(v),g.firstCreatePass&&dD(g).push(M,D.length-1))}function iD(g,C,v,M){for(let D in g)if(g.hasOwnProperty(D)){v=null===v?{}:v;const I=g[D];null===M?sD(v,C,D,I):M.hasOwnProperty(D)&&sD(v,C,M[D],I)}return v}function sD(g,C,v,M){g.hasOwnProperty(v)?g[v].push(C,M):g[v]=[C,M]}function oD(g,C){const v=oa(C,g);16&v[2]||(v[2]|=32)}function B1(g,C,v,M){let D=!1;if(W0()){const I=null===M?null:{"":-1},x=function Mj(g,C){const v=g.directiveRegistry;let M=null,D=null;if(v)for(let I=0;I<v.length;I++){const x=v[I];if(BP(C,x.selectors,!1))if(M||(M=[]),ra(x))if(null!==x.findHostDirectiveDefs){const X=[];D=D||new Map,x.findHostDirectiveDefs(x,X,D),M.unshift(...X,x),V1(g,C,X.length)}else M.unshift(x),V1(g,C,0);else D=D||new Map,x.findHostDirectiveDefs?.(x,M,D),M.push(x)}return null===M?null:[M,D]}(g,v);let X,he;null===x?X=he=null:[X,he]=x,null!==X&&(D=!0,aD(g,C,v,X,I,he)),I&&function Sj(g,C,v){if(C){const M=g.localNames=[];for(let D=0;D<C.length;D+=2){const I=v[C[D+1]];if(null==I)throw new dt(-301,!1);M.push(C[D],I)}}}(v,M,I)}return v.mergedAttrs=wd(v.mergedAttrs,v.attrs),D}function aD(g,C,v,M,D,I){for(let Se=0;Se<M.length;Se++)Ou(zh(v,C),g,M[Se].type);!function Pj(g,C,v){g.flags|=1,g.directiveStart=C,g.directiveEnd=C+v,g.providerIndexes=C}(v,g.data.length,M.length);for(let Se=0;Se<M.length;Se++){const Ae=M[Se];Ae.providersResolver&&Ae.providersResolver(Ae)}let x=!1,X=!1,he=qf(g,C,M.length,null);for(let Se=0;Se<M.length;Se++){const Ae=M[Se];v.mergedAttrs=wd(v.mergedAttrs,Ae.hostAttrs),Dj(g,v,C,he,Ae),Tj(he,Ae,D),null!==Ae.contentQueries&&(v.flags|=4),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(v.flags|=64);const Ve=Ae.type.prototype;!x&&(Ve.ngOnChanges||Ve.ngOnInit||Ve.ngDoCheck)&&((g.preOrderHooks||(g.preOrderHooks=[])).push(v.index),x=!0),!X&&(Ve.ngOnChanges||Ve.ngDoCheck)&&((g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(v.index),X=!0),he++}!function gj(g,C,v){const D=C.directiveEnd,I=g.data,x=C.attrs,X=[];let he=null,Se=null;for(let Ae=C.directiveStart;Ae<D;Ae++){const Ve=I[Ae],qe=v?v.get(Ve):null,gt=qe?qe.outputs:null;he=iD(Ve.inputs,Ae,he,qe?qe.inputs:null),Se=iD(Ve.outputs,Ae,Se,gt);const Ot=null===he||null===x||UP(C)?null:Oj(he,Ae,x);X.push(Ot)}null!==he&&(he.hasOwnProperty("class")&&(C.flags|=8),he.hasOwnProperty("style")&&(C.flags|=16)),C.initialInputs=X,C.inputs=he,C.outputs=Se}(g,v,I)}function lD(g,C,v){const M=v.directiveStart,D=v.directiveEnd,I=v.index,x=function w_(){return Yr.lFrame.currentDirectiveIndex}();try{Hl(I);for(let X=M;X<D;X++){const he=g.data[X],Se=C[X];Nh(X),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&Cj(he,Se)}}finally{Hl(-1),Nh(x)}}function Cj(g,C){null!==g.hostBindings&&g.hostBindings(1,C)}function V1(g,C,v){C.componentOffset=v,(g.components||(g.components=[])).push(C.index)}function Tj(g,C,v){if(v){if(C.exportAs)for(let M=0;M<C.exportAs.length;M++)v[C.exportAs[M]]=g;ra(C)&&(v[""]=g)}}function Dj(g,C,v,M,D){g.data[M]=D;const I=D.factory||(D.factory=Oi(D.type)),x=new wu(I,ra(D),pn);g.blueprint[M]=x,v[M]=x,function _j(g,C,v,M,D){const I=D.hostBindings;if(I){let x=g.hostBindingOpCodes;null===x&&(x=g.hostBindingOpCodes=[]);const X=~C.index;(function Ej(g){let C=g.length;for(;C>0;){const v=g[--C];if("number"==typeof v&&v<0)return v}return 0})(x)!=X&&x.push(X),x.push(v,M,I)}}(g,C,M,qf(g,v,D.hostVars,ri),D)}function Xl(g,C,v,M,D,I){const x=sa(g,C);!function W1(g,C,v,M,D,I,x){if(null==I)g.removeAttribute(C,D,v);else{const X=null==x?xt(I):x(I,M||"",D);g.setAttribute(C,D,X,v)}}(C[11],x,I,g.value,v,M,D)}function Ij(g,C,v,M,D,I){const x=I[C];if(null!==x){const X=M.setInput;for(let he=0;he<x.length;){const Se=x[he++],Ae=x[he++],Ve=x[he++];null!==X?M.setInput(v,Ve,Se,Ae):v[Ae]=Ve}}}function Oj(g,C,v){let M=null,D=0;for(;D<v.length;){const I=v[D];if(0!==I)if(5!==I){if("number"==typeof I)break;if(g.hasOwnProperty(I)){null===M&&(M=[]);const x=g[I];for(let X=0;X<x.length;X+=2)if(x[X]===C){M.push(I,x[X+1],v[D+1]);break}}D+=2}else D+=2;else D+=4}return M}function cD(g,C,v,M){return[g,!0,!1,C,null,0,M,v,null,null]}function Rj(g,C){const v=oa(C,g);if(Fh(v)){const M=v[1];48&v[2]?Pg(M,v,M.template,v[8]):v[5]>0&&k1(v)}}function k1(g){for(let M=t1(g);null!==M;M=n1(M))for(let D=10;D<M.length;D++){const I=M[D];if(Fh(I))if(512&I[2]){const x=I[1];Pg(x,I,x.template,I[8])}else I[5]>0&&k1(I)}const v=g[1].components;if(null!==v)for(let M=0;M<v.length;M++){const D=oa(v[M],g);Fh(D)&&D[5]>0&&k1(D)}}function Lj(g,C){const v=oa(C,g),M=v[1];(function Fj(g,C){for(let v=C.length;v<g.blueprint.length;v++)C.push(g.blueprint[v])})(M,v),L1(M,v,v[8])}function Dg(g,C){return g[13]?g[14][4]=C:g[13]=C,g[14]=C,C}function z1(g){for(;g;){g[2]|=32;const C=Gf(g);if(Oh(g)&&!C)return g;g=C}return null}function wg(g,C,v,M=!0){const D=C[10];D.begin&&D.begin();try{Pg(g,C,g.template,v)}catch(x){throw M&&pD(C,x),x}finally{D.end&&D.end()}}function $1(g,C,v){Sf(0),C(g,v)}function uD(g){return g[7]||(g[7]=[])}function dD(g){return g.cleanup||(g.cleanup=[])}function pD(g,C){const v=g[9],M=v?v.get(Nd,null):null;M&&M.handleError(C)}function Z1(g,C,v,M,D){for(let I=0;I<v.length;){const x=v[I++],X=v[I++],he=C[x],Se=g.data[x];null!==Se.setInput?Se.setInput(he,D,M,X):he[X]=D}}function Nc(g,C,v){const M=Lh(C,g);!function HT(g,C,v){g.setValue(C,v)}(g[11],M,v)}function Ig(g,C,v){let M=v?g.styles:null,D=v?g.classes:null,I=0;if(null!==C)for(let x=0;x<C.length;x++){const X=C[x];"number"==typeof X?I=X:1==I?D=Ji(D,X):2==I&&(M=Ji(M,X+": "+C[++x]+";"))}v?g.styles=M:g.stylesWithoutHost=M,v?g.classes=D:g.classesWithoutHost=D}function Og(g,C,v,M,D=!1){for(;null!==v;){const I=C[v.index];if(null!==I&&M.push(Ws(I)),So(I))for(let X=10;X<I.length;X++){const he=I[X],Se=he[1].firstChild;null!==Se&&Og(he[1],he,Se,M)}const x=v.type;if(8&x)Og(g,C,v.child,M);else if(32&x){const X=e1(v,C);let he;for(;he=X();)M.push(he)}else if(16&x){const X=sP(C,v);if(Array.isArray(X))M.push(...X);else{const he=Gf(C[16]);Og(he[1],he,X,M,!0)}}v=D?v.projectionNext:v.next}return M}class em{get rootNodes(){const C=this._lView,v=C[1];return Og(v,C,v.firstChild,[])}constructor(C,v){this._lView=C,this._cdRefInjectingView=v,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(C){this._lView[8]=C}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const C=this._lView[3];if(So(C)){const v=C[8],M=v?v.indexOf(this):-1;M>-1&&(o1(C,M),Ad(v,M))}this._attachedToViewContainer=!1}JT(this._lView[1],this._lView)}onDestroy(C){rD(this._lView[1],this._lView,null,C)}markForCheck(){z1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){wg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T5(g,C){Kf(g,C,C[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(C){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=C}}class Nj extends em{constructor(C){super(C),this._view=C}detectChanges(){const C=this._view;wg(C[1],C,C[8],!1)}checkNoChanges(){}get context(){return null}}class fD extends Fd{constructor(C){super(),this.ngModule=C}resolveComponentFactory(C){const v=Ii(C);return new tm(v,this.ngModule)}}function mD(g){const C=[];for(let v in g)g.hasOwnProperty(v)&&C.push({propName:g[v],templateName:v});return C}class Uj{constructor(C,v){this.injector=C,this.parentInjector=v}get(C,v,M){M=mu(M);const D=this.injector.get(C,P1,M);return D!==P1||v===P1?D:this.parentInjector.get(C,v,M)}}class tm extends RP{get inputs(){return mD(this.componentDef.inputs)}get outputs(){return mD(this.componentDef.outputs)}constructor(C,v){super(),this.componentDef=C,this.ngModule=v,this.componentType=C.type,this.selector=function $N(g){return g.map(zN).join(",")}(C.selectors),this.ngContentSelectors=C.ngContentSelectors?C.ngContentSelectors:[],this.isBoundToModule=!!v}create(C,v,M,D){let I=(D=D||this.ngModule)instanceof Lc?D:D?.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const x=I?new Uj(C,I):C,X=x.get(Qf,null);if(null===X)throw new dt(407,!1);const he=x.get(MN,null),Se=X.createRenderer(null,this.componentDef),Ae=this.componentDef.selectors[0][0]||"div",Ve=M?function fj(g,C,v){return g.selectRootElement(C,v===ea.ShadowDom)}(Se,M,this.componentDef.encapsulation):s1(Se,Ae,function jj(g){const C=g.toLowerCase();return"svg"===C?"svg":"math"===C?"math":null}(Ae)),qe=this.componentDef.onPush?288:272,rt=U1(0,null,null,1,0,null,null,null,null,null),gt=Tg(null,rt,null,qe,null,null,X,Se,he,x,null);let Ot,Ut;as(gt);try{const qt=this.componentDef;let _n,tn=null;qt.findHostDirectiveDefs?(_n=[],tn=new Map,qt.findHostDirectiveDefs(qt,_n,tn),_n.push(qt)):_n=[qt];const Gn=function Vj(g,C){const v=g[1];return g[22]=C,Xh(v,22,2,"#host",null)}(gt,Ve),_r=function Wj(g,C,v,M,D,I,x,X){const he=D[1];!function kj(g,C,v,M){for(const D of g)C.mergedAttrs=wd(C.mergedAttrs,D.hostAttrs);null!==C.mergedAttrs&&(Ig(C,C.mergedAttrs,!0),null!==v&&lP(M,v,C))}(M,g,C,x);const Se=I.createRenderer(C,v),Ae=Tg(D,nD(v),null,v.onPush?32:16,D[g.index],g,I,Se,X||null,null,null);return he.firstCreatePass&&V1(he,g,M.length-1),Dg(D,Ae),D[g.index]=Ae}(Gn,Ve,qt,_n,gt,X,Se);Ut=U0(rt,22),Ve&&function $j(g,C,v,M){if(M)Rf(g,v,["ng-version",SN.full]);else{const{attrs:D,classes:I}=function ZN(g){const C=[],v=[];let M=1,D=2;for(;M<g.length;){let I=g[M];if("string"==typeof I)2===D?""!==I&&C.push(I,g[++M]):8===D&&v.push(I);else{if(!Dl(D))break;D=I}M++}return{attrs:C,classes:v}}(C.selectors[0]);D&&Rf(g,v,D),I&&I.length>0&&aP(g,v,I.join(" "))}}(Se,qt,Ve,M),void 0!==v&&function Zj(g,C,v){const M=g.projection=[];for(let D=0;D<C.length;D++){const I=v[D];M.push(null!=I?Array.from(I):null)}}(Ut,this.ngContentSelectors,v),Ot=function zj(g,C,v,M,D,I){const x=co(),X=D[1],he=sa(x,D);aD(X,D,x,v,null,M);for(let Ae=0;Ae<v.length;Ae++)Bo(Yl(D,X,x.directiveStart+Ae,x),D);lD(X,D,x),he&&Bo(he,D);const Se=Yl(D,X,x.directiveStart+x.componentOffset,x);if(g[8]=D[8]=Se,null!==I)for(const Ae of I)Ae(Se,C);return F1(X,x,g),Se}(_r,qt,_n,tn,gt,[Gj]),L1(rt,gt,null)}finally{Pf()}return new Bj(this.componentType,Ot,Yh(Ut,gt),gt,Ut)}}class Bj extends yN{constructor(C,v,M,D,I){super(),this.location=M,this._rootLView=D,this._tNode=I,this.instance=v,this.hostView=this.changeDetectorRef=new Nj(D),this.componentType=C}setInput(C,v){const M=this._tNode.inputs;let D;if(null!==M&&(D=M[C])){const I=this._rootLView;Z1(I[1],I,D,C,v),oD(I,this._tNode.index)}}get injector(){return new Au(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(C){this.hostView.onDestroy(C)}}function Gj(){const g=co();Du(Bn()[1],g)}function zi(g){let C=function gD(g){return Object.getPrototypeOf(g.prototype).constructor}(g.type),v=!0;const M=[g];for(;C;){let D;if(ra(g))D=C.\u0275cmp||C.\u0275dir;else{if(C.\u0275cmp)throw new dt(903,!1);D=C.\u0275dir}if(D){if(v){M.push(D);const x=g;x.inputs=G1(g.inputs),x.declaredInputs=G1(g.declaredInputs),x.outputs=G1(g.outputs);const X=D.hostBindings;X&&Jj(g,X);const he=D.viewQuery,Se=D.contentQueries;if(he&&Hj(g,he),Se&&Yj(g,Se),Ui(g.inputs,D.inputs),Ui(g.declaredInputs,D.declaredInputs),Ui(g.outputs,D.outputs),ra(D)&&D.data.animation){const Ae=g.data;Ae.animation=(Ae.animation||[]).concat(D.data.animation)}}const I=D.features;if(I)for(let x=0;x<I.length;x++){const X=I[x];X&&X.ngInherit&&X(g),X===zi&&(v=!1)}}C=Object.getPrototypeOf(C)}!function Kj(g){let C=0,v=null;for(let M=g.length-1;M>=0;M--){const D=g[M];D.hostVars=C+=D.hostVars,D.hostAttrs=wd(D.hostAttrs,v=wd(v,D.hostAttrs))}}(M)}function G1(g){return g===Ia?{}:g===_i?[]:g}function Hj(g,C){const v=g.viewQuery;g.viewQuery=v?(M,D)=>{C(M,D),v(M,D)}:C}function Yj(g,C){const v=g.contentQueries;g.contentQueries=v?(M,D,I)=>{C(M,D,I),v(M,D,I)}:C}function Jj(g,C){const v=g.hostBindings;g.hostBindings=v?(M,D)=>{C(M,D),v(M,D)}:C}let Ag=null;function jd(){if(!Ag){const g=Vn.Symbol;if(g&&g.iterator)Ag=g.iterator;else{const C=Object.getOwnPropertyNames(Map.prototype);for(let v=0;v<C.length;++v){const M=C[v];"entries"!==M&&"size"!==M&&Map.prototype[M]===Map.prototype.entries&&(Ag=M)}}}return Ag}function xg(g){return!!K1(g)&&(Array.isArray(g)||!(g instanceof Map)&&jd()in g)}function K1(g){return null!==g&&("function"==typeof g||"object"==typeof g)}function ql(g,C,v){return g[C]=v}function nm(g,C){return g[C]}function Vo(g,C,v){return!Object.is(g[C],v)&&(g[C]=v,!0)}function Ud(g,C,v,M){const D=Vo(g,C,v);return Vo(g,C+1,M)||D}function Rg(g,C,v,M,D){const I=Ud(g,C,v,M);return Vo(g,C+2,D)||I}function qa(g,C,v,M,D,I){const x=Ud(g,C,v,M);return Ud(g,C+2,D,I)||x}function ls(g,C,v,M){const D=Bn();return Vo(D,Po(),C)&&(Pi(),Xl(is(),D,g,C,v,M)),ls}function tp(g,C,v,M,D,I){const X=Ud(g,function Ze(){return Yr.lFrame.bindingIndex}(),v,D);return xa(2),X?C+xt(v)+M+xt(D)+I:ri}function Zn(g,C,v,M,D,I,x,X){const he=Bn(),Se=Pi(),Ae=g+22,Ve=Se.firstCreatePass?function o6(g,C,v,M,D,I,x,X,he){const Se=C.consts,Ae=Xh(C,g,4,x||null,Kl(Se,X));B1(C,v,Ae,Kl(Se,he)),Du(C,Ae);const Ve=Ae.tViews=U1(2,Ae,M,D,I,C.directiveRegistry,C.pipeRegistry,null,C.schemas,Se);return null!==C.queries&&(C.queries.template(C,Ae),Ve.queries=C.queries.embeddedTView(Ae)),Ae}(Ae,Se,he,C,v,M,D,I,x):Se.data[Ae];Qa(Ve,!1);const qe=he[11].createComment("");gg(Se,he,qe,Ve),Bo(qe,he),Dg(he,he[Ae]=cD(qe,he,qe,Ve)),Mu(Ve)&&N1(Se,he,Ve),null!=x&&j1(he,Ve,X)}function Na(g){return function Pu(g,C){return g[C]}(function D_(){return Yr.lFrame.contextLView}(),22+g)}function mn(g,C,v){const M=Bn();return Vo(M,Po(),C)&&function Fa(g,C,v,M,D,I,x,X){const he=sa(C,v);let Ae,Se=C.inputs;!X&&null!=Se&&(Ae=Se[M])?(Z1(g,v,Ae,M,D),Zl(C)&&oD(v,C.index)):3&C.type&&(M=function yj(g){return"class"===g?"className":"for"===g?"htmlFor":"formaction"===g?"formAction":"innerHtml"===g?"innerHTML":"readonly"===g?"readOnly":"tabindex"===g?"tabIndex":g}(M),D=null!=x?x(D,C.value||"",M):D,I.setProperty(he,M,D))}(Pi(),is(),M,g,C,M[11],v,!1),mn}function H1(g,C,v,M,D){const x=D?"class":"style";Z1(g,v,C.inputs[x],x,M)}function Yn(g,C,v,M){const D=Bn(),I=Pi(),x=22+g,X=D[11],he=D[x]=s1(X,C,function Df(){return Yr.lFrame.currentNamespace}()),Se=I.firstCreatePass?function l6(g,C,v,M,D,I,x){const X=C.consts,Se=Xh(C,g,2,D,Kl(X,I));return B1(C,v,Se,Kl(X,x)),null!==Se.attrs&&Ig(Se,Se.attrs,!1),null!==Se.mergedAttrs&&Ig(Se,Se.mergedAttrs,!0),null!==C.queries&&C.queries.elementStart(C,Se),Se}(x,I,D,0,C,v,M):I.data[x];return Qa(Se,!0),lP(X,he,Se),32!=(32&Se.flags)&&gg(I,D,he,Se),0===function C_(){return Yr.lFrame.elementDepthCount}()&&Bo(he,D),function M_(){Yr.lFrame.elementDepthCount++}(),Mu(Se)&&(N1(I,D,Se),F1(I,Se,D)),null!==M&&j1(D,Se),Yn}function er(){let g=co();Cf()?Mf():(g=g.parent,Qa(g,!1));const C=g;!function S_(){Yr.lFrame.elementDepthCount--}();const v=Pi();return v.firstCreatePass&&(Du(v,g),Cu(g)&&v.queries.elementEnd(g)),null!=C.classesWithoutHost&&function x_(g){return 0!=(8&g.flags)}(C)&&H1(v,C,Bn(),C.classesWithoutHost,!0),null!=C.stylesWithoutHost&&function R_(g){return 0!=(16&g.flags)}(C)&&H1(v,C,Bn(),C.stylesWithoutHost,!1),er}function Xi(g,C,v,M){return Yn(g,C,v,M),er(),Xi}function zs(g,C,v){const M=Bn(),D=Pi(),I=g+22,x=D.firstCreatePass?function c6(g,C,v,M,D){const I=C.consts,x=Kl(I,M),X=Xh(C,g,8,"ng-container",x);return null!==x&&Ig(X,x,!0),B1(C,v,X,Kl(I,D)),null!==C.queries&&C.queries.elementStart(C,X),X}(I,D,M,C,v):D.data[I];Qa(x,!0);const X=M[I]=M[11].createComment("");return gg(D,M,X,x),Bo(X,M),Mu(x)&&(N1(D,M,x),F1(D,x,M)),null!=v&&j1(M,x),zs}function $s(){let g=co();const C=Pi();return Cf()?Mf():(g=g.parent,Qa(g,!1)),C.firstCreatePass&&(Du(C,g),Cu(g)&&C.queries.elementEnd(g)),$s}function qi(g,C,v){return zs(g,C,v),$s(),qi}function Ms(){return Bn()}function rm(g){return!!g&&"function"==typeof g.then}const Y1=function ID(g){return!!g&&"function"==typeof g.subscribe};function Fr(g,C,v,M){const D=Bn(),I=Pi(),x=co();return function AD(g,C,v,M,D,I,x){const X=Mu(M),Se=g.firstCreatePass&&dD(g),Ae=C[8],Ve=uD(C);let qe=!0;if(3&M.type||x){const Ot=sa(M,C),Ut=x?x(Ot):Ot,qt=Ve.length,_n=x?Gn=>x(Ws(Gn[M.index])):M.index;let tn=null;if(!x&&X&&(tn=function u6(g,C,v,M){const D=g.cleanup;if(null!=D)for(let I=0;I<D.length-1;I+=2){const x=D[I];if(x===v&&D[I+1]===M){const X=C[7],he=D[I+2];return X.length>he?X[he]:null}"string"==typeof x&&(I+=2)}return null}(g,C,D,M.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=I,tn.__ngLastListenerFn__=I,qe=!1;else{I=RD(M,C,Ae,I,!1);const Gn=v.listen(Ut,D,I);Ve.push(I,Gn),Se&&Se.push(D,_n,qt,qt+1)}}else I=RD(M,C,Ae,I,!1);const rt=M.outputs;let gt;if(qe&&null!==rt&&(gt=rt[D])){const Ot=gt.length;if(Ot)for(let Ut=0;Ut<Ot;Ut+=2){const _r=C[gt[Ut]][gt[Ut+1]].subscribe(I),Mr=Ve.length;Ve.push(I,_r),Se&&Se.push(D,M.index,Mr,-(Mr+1))}}}(I,D,D[11],x,g,C,M),Fr}function xD(g,C,v,M){try{return!1!==v(M)}catch(D){return pD(g,D),!1}}function RD(g,C,v,M,D){return function I(x){if(x===Function)return M;z1(g.componentOffset>-1?oa(g.index,C):C);let he=xD(C,0,M,x),Se=I.__ngNextListenerFn__;for(;Se;)he=xD(C,0,Se,x)&&he,Se=Se.__ngNextListenerFn__;return D&&!1===he&&(x.preventDefault(),x.returnValue=!1),he}}function kn(g=1){return function K0(g){return(Yr.lFrame.contextLView=function I_(g,C){for(;g>0;)C=C[15],g--;return C}(g,Yr.lFrame.contextLView))[8]}(g)}function d6(g,C){let v=null;const M=function BN(g){const C=g.attrs;if(null!=C){const v=C.indexOf(5);if(!(1&v))return C[v+1]}return null}(g);for(let D=0;D<C.length;D++){const I=C[D];if("*"!==I){if(null===M?BP(g,I,!0):kN(M,I))return D}else v=D}return v}function lp(g){const C=Bn()[16][6];if(!C.projection){const M=C.projection=Ra(g?g.length:1,null),D=M.slice();let I=C.child;for(;null!==I;){const x=g?d6(I,g):0;null!==x&&(D[x]?D[x].projectionNext=I:M[x]=I,D[x]=I),I=I.next}}}function cp(g,C=0,v){const M=Bn(),D=Pi(),I=Xh(D,22+g,16,null,v||null);null===I.projection&&(I.projection=C),Mf(),32!=(32&I.flags)&&function R5(g,C,v){oP(C[11],0,C,v,QT(g,v,C),tP(v.parent||C[6],v,C))}(D,M,I)}function Lg(g,C){return g<<17|C<<2}function ju(g){return g>>17&32767}function Q1(g){return 2|g}function Bd(g){return(131068&g)>>2}function X1(g,C){return-131069&g|C<<2}function q1(g){return 1|g}function zD(g,C,v,M,D){const I=g[v+1],x=null===C;let X=M?ju(I):Bd(I),he=!1;for(;0!==X&&(!1===he||x);){const Ae=g[X+1];y6(g[X],C)&&(he=!0,g[X+1]=M?q1(Ae):Q1(Ae)),X=M?ju(Ae):Bd(Ae)}he&&(g[v+1]=M?Q1(I):q1(I))}function y6(g,C){return null===g||null==C||(Array.isArray(g)?g[1]:g)===C||!(!Array.isArray(g)||"string"!=typeof C)&&_s(g,C)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $D(g){return g.substring(uo.key,uo.keyEnd)}function v6(g){return g.substring(uo.value,uo.valueEnd)}function ZD(g,C){const v=uo.textEnd;return v===C?-1:(C=uo.keyEnd=function b6(g,C,v){for(;C<v&&g.charCodeAt(C)>32;)C++;return C}(g,uo.key=C,v),up(g,C,v))}function GD(g,C){const v=uo.textEnd;let M=uo.key=up(g,C,v);return v===M?-1:(M=uo.keyEnd=function C6(g,C,v){let M;for(;C<v&&(45===(M=g.charCodeAt(C))||95===M||(-33&M)>=65&&(-33&M)<=90||M>=48&&M<=57);)C++;return C}(g,M,v),M=HD(g,M,v),M=uo.value=up(g,M,v),M=uo.valueEnd=function M6(g,C,v){let M=-1,D=-1,I=-1,x=C,X=x;for(;x<v;){const he=g.charCodeAt(x++);if(59===he)return X;34===he||39===he?X=x=YD(g,he,x,v):C===x-4&&85===I&&82===D&&76===M&&40===he?X=x=YD(g,41,x,v):he>32&&(X=x),I=D,D=M,M=-33&he}return X}(g,M,v),HD(g,M,v))}function KD(g){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=g.length}function up(g,C,v){for(;C<v&&g.charCodeAt(C)<=32;)C++;return C}function HD(g,C,v,M){return(C=up(g,C,v))<v&&C++,C}function YD(g,C,v,M){let D=-1,I=v;for(;I<M;){const x=g.charCodeAt(I++);if(x==C&&92!==D)return I;D=92==x&&92===D?0:x}throw new Error}function im(g,C,v){return wl(g,C,v,!1),im}function dp(g,C){return wl(g,C,null,!0),dp}function el(g){Il(XD,S6,g,!1)}function S6(g,C){for(let v=function E6(g){return KD(g),GD(g,up(g,0,uo.textEnd))}(C);v>=0;v=GD(C,v))XD(g,$D(C),v6(C))}function xs(g){Il(la,ec,g,!0)}function ec(g,C){for(let v=function _6(g){return KD(g),ZD(g,up(g,0,uo.textEnd))}(C);v>=0;v=ZD(C,v))la(g,$D(C),!0)}function wl(g,C,v,M){const D=Bn(),I=Pi(),x=xa(2);I.firstUpdatePass&&QD(I,g,x,M),C!==ri&&Vo(D,x,C)&&qD(I,I.data[Do()],D,D[11],g,D[x+1]=function A6(g,C){return null==g||("string"==typeof C?g+=C:"object"==typeof g&&(g=ui(Nu(g)))),g}(C,v),M,x)}function Il(g,C,v,M){const D=Pi(),I=xa(2);D.firstUpdatePass&&QD(D,null,I,M);const x=Bn();if(v!==ri&&Vo(x,I,v)){const X=D.data[Do()];if(tw(X,M)&&!JD(D,I)){let he=M?X.classesWithoutHost:X.stylesWithoutHost;null!==he&&(v=Ji(he,v||"")),H1(D,X,x,v,M)}else!function O6(g,C,v,M,D,I,x,X){D===ri&&(D=_i);let he=0,Se=0,Ae=0<D.length?D[0]:null,Ve=0<I.length?I[0]:null;for(;null!==Ae||null!==Ve;){const qe=he<D.length?D[he+1]:void 0,rt=Se<I.length?I[Se+1]:void 0;let Ot,gt=null;Ae===Ve?(he+=2,Se+=2,qe!==rt&&(gt=Ve,Ot=rt)):null===Ve||null!==Ae&&Ae<Ve?(he+=2,gt=Ae):(Se+=2,gt=Ve,Ot=rt),null!==gt&&qD(g,C,v,M,gt,Ot,x,X),Ae=he<D.length?D[he]:null,Ve=Se<I.length?I[Se]:null}}(D,X,x,x[11],x[I+1],x[I+1]=function I6(g,C,v){if(null==v||""===v)return _i;const M=[],D=Nu(v);if(Array.isArray(D))for(let I=0;I<D.length;I++)g(M,D[I],!0);else if("object"==typeof D)for(const I in D)D.hasOwnProperty(I)&&g(M,I,D[I]);else"string"==typeof D&&C(M,D);return M}(g,C,v),M,I)}}function JD(g,C){return C>=g.expandoStartIndex}function QD(g,C,v,M){const D=g.data;if(null===D[v+1]){const I=D[Do()],x=JD(g,v);tw(I,M)&&null===C&&!x&&(C=!1),C=function T6(g,C,v,M){const D=function jh(g){const C=Yr.lFrame.currentDirectiveIndex;return-1===C?null:g[C]}(g);let I=M?C.residualClasses:C.residualStyles;if(null===D)0===(M?C.classBindings:C.styleBindings)&&(v=sm(v=eE(null,g,C,v,M),C.attrs,M),I=null);else{const x=C.directiveStylingLast;if(-1===x||g[x]!==D)if(v=eE(D,g,C,v,M),null===I){let he=function P6(g,C,v){const M=v?C.classBindings:C.styleBindings;if(0!==Bd(M))return g[ju(M)]}(g,C,M);void 0!==he&&Array.isArray(he)&&(he=eE(null,g,C,he[1],M),he=sm(he,C.attrs,M),function D6(g,C,v,M){g[ju(v?C.classBindings:C.styleBindings)]=M}(g,C,M,he))}else I=function w6(g,C,v){let M;const D=C.directiveEnd;for(let I=1+C.directiveStylingLast;I<D;I++)M=sm(M,g[I].hostAttrs,v);return sm(M,C.attrs,v)}(g,C,M)}return void 0!==I&&(M?C.residualClasses=I:C.residualStyles=I),v}(D,I,C,M),function m6(g,C,v,M,D,I){let x=I?C.classBindings:C.styleBindings,X=ju(x),he=Bd(x);g[M]=v;let Ae,Se=!1;if(Array.isArray(v)?(Ae=v[1],(null===Ae||_s(v,Ae)>0)&&(Se=!0)):Ae=v,D)if(0!==he){const qe=ju(g[X+1]);g[M+1]=Lg(qe,X),0!==qe&&(g[qe+1]=X1(g[qe+1],M)),g[X+1]=function p6(g,C){return 131071&g|C<<17}(g[X+1],M)}else g[M+1]=Lg(X,0),0!==X&&(g[X+1]=X1(g[X+1],M)),X=M;else g[M+1]=Lg(he,0),0===X?X=M:g[he+1]=X1(g[he+1],M),he=M;Se&&(g[M+1]=Q1(g[M+1])),zD(g,Ae,M,!0),zD(g,Ae,M,!1),function g6(g,C,v,M,D){const I=D?g.residualClasses:g.residualStyles;null!=I&&"string"==typeof C&&_s(I,C)>=0&&(v[M+1]=q1(v[M+1]))}(C,Ae,g,M,I),x=Lg(X,he),I?C.classBindings=x:C.styleBindings=x}(D,I,C,v,x,M)}}function eE(g,C,v,M,D){let I=null;const x=v.directiveEnd;let X=v.directiveStylingLast;for(-1===X?X=v.directiveStart:X++;X<x&&(I=C[X],M=sm(M,I.hostAttrs,D),I!==g);)X++;return null!==g&&(v.directiveStylingLast=X),M}function sm(g,C,v){const M=v?1:2;let D=-1;if(null!==C)for(let I=0;I<C.length;I++){const x=C[I];"number"==typeof x?D=x:D===M&&(Array.isArray(g)||(g=void 0===g?[]:["",g]),la(g,x,!!v||C[++I]))}return void 0===g?null:g}function XD(g,C,v){la(g,C,Nu(v))}function qD(g,C,v,M,D,I,x,X){if(!(3&C.type))return;const he=g.data,Se=he[X+1],Ae=function f6(g){return 1==(1&g)}(Se)?ew(he,C,v,D,Bd(Se),x):void 0;Fg(Ae)||(Fg(I)||function h6(g){return 2==(2&g)}(Se)&&(I=ew(he,null,v,D,X,x)),function F5(g,C,v,M,D){if(C)D?g.addClass(v,M):g.removeClass(v,M);else{let I=-1===M.indexOf("-")?void 0:_a.DashCase;null==D?g.removeStyle(v,M,I):("string"==typeof D&&D.endsWith("!important")&&(D=D.slice(0,-10),I|=_a.Important),g.setStyle(v,M,D,I))}}(M,x,Lh(Do(),v),D,I))}function ew(g,C,v,M,D,I){const x=null===C;let X;for(;D>0;){const he=g[D],Se=Array.isArray(he),Ae=Se?he[1]:he,Ve=null===Ae;let qe=v[D+1];qe===ri&&(qe=Ve?_i:void 0);let rt=Ve?Fu(qe,M):Ae===M?qe:void 0;if(Se&&!Fg(rt)&&(rt=Fu(he,M)),Fg(rt)&&(X=rt,x))return X;const gt=g[D+1];D=x?ju(gt):Bd(gt)}if(null!==C){let he=I?C.residualClasses:C.residualStyles;null!=he&&(X=Fu(he,M))}return X}function Fg(g){return void 0!==g}function tw(g,C){return 0!=(g.flags&(C?8:16))}function Zi(g,C=""){const v=Bn(),M=Pi(),D=g+22,I=M.firstCreatePass?Xh(M,D,1,C,null):M.data[D],x=v[D]=function r1(g,C){return g.createText(C)}(v[11],C);gg(M,v,x,I),Qa(I,!1)}function Ca(g){return Uu("",g,""),Ca}function Uu(g,C,v){const M=Bn(),D=function ep(g,C,v,M){return Vo(g,Po(),v)?C+xt(v)+M:ri}(M,g,C,v);return D!==ri&&Nc(M,Do(),D),Uu}function tE(g,C,v,M,D){const I=Bn(),x=tp(I,g,C,v,M,D);return x!==ri&&Nc(I,Do(),x),tE}const pp="en-US";let Cw=pp;function iE(g,C,v,M,D){if(g=zt(g),Array.isArray(g))for(let I=0;I<g.length;I++)iE(g[I],C,v,M,D);else{const I=Pi(),x=Bn();let X=Ld(g)?g:zt(g.provide),he=xP(g);const Se=co(),Ae=1048575&Se.providerIndexes,Ve=Se.directiveStart,qe=Se.providerIndexes>>20;if(Ld(g)||!g.multi){const rt=new wu(he,D,pn),gt=oE(X,C,D?Ae:Ae+qe,Ve);-1===gt?(Ou(zh(Se,x),I,X),sE(I,g,C.length),C.push(X),Se.directiveStart++,Se.directiveEnd++,D&&(Se.providerIndexes+=1048576),v.push(rt),x.push(rt)):(v[gt]=rt,x[gt]=rt)}else{const rt=oE(X,C,Ae+qe,Ve),gt=oE(X,C,Ae,Ae+qe),Ut=gt>=0&&v[gt];if(D&&!Ut||!D&&!(rt>=0&&v[rt])){Ou(zh(Se,x),I,X);const qt=function YU(g,C,v,M,D){const I=new wu(g,v,pn);return I.multi=[],I.index=C,I.componentProviders=0,Kw(I,D,M&&!v),I}(D?HU:KU,v.length,D,M,he);!D&&Ut&&(v[gt].providerFactory=qt),sE(I,g,C.length,0),C.push(X),Se.directiveStart++,Se.directiveEnd++,D&&(Se.providerIndexes+=1048576),v.push(qt),x.push(qt)}else sE(I,g,rt>-1?rt:gt,Kw(v[D?gt:rt],he,!D&&M));!D&&M&&Ut&&v[gt].componentProviders++}}}function sE(g,C,v,M){const D=Ld(C),I=function uN(g){return!!g.useClass}(C);if(D||I){const he=(I?zt(C.useClass):C).prototype.ngOnDestroy;if(he){const Se=g.destroyHooks||(g.destroyHooks=[]);if(!D&&C.multi){const Ae=Se.indexOf(v);-1===Ae?Se.push(v,[M,he]):Se[Ae+1].push(M,he)}else Se.push(v,he)}}}function Kw(g,C,v){return v&&g.componentProviders++,g.multi.push(C)-1}function oE(g,C,v,M){for(let D=v;D<M;D++)if(C[D]===g)return D;return-1}function KU(g,C,v,M){return aE(this.multi,[])}function HU(g,C,v,M){const D=this.multi;let I;if(this.providerFactory){const x=this.providerFactory.componentProviders,X=Yl(v,v[1],this.providerFactory.index,M);I=X.slice(0,x),aE(D,I);for(let he=x;he<X.length;he++)I.push(X[he])}else I=[],aE(D,I);return I}function aE(g,C){for(let v=0;v<g.length;v++)C.push((0,g[v])());return C}function es(g,C=[]){return v=>{v.providersResolver=(M,D)=>function GU(g,C,v){const M=Pi();if(M.firstCreatePass){const D=ra(g);iE(v,M.data,M.blueprint,D,!0),iE(C,M.data,M.blueprint,D,!1)}}(M,D?D(g):g,C)}}class fp{}class Hw{}class Yw extends fp{constructor(C,v){super(),this._parent=v,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fD(this);const M=Mo(C);this._bootstrapComponents=Fc(M.bootstrap),this._r3Injector=GP(C,v,[{provide:fp,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],ui(C),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(C)}get injector(){return this._r3Injector}destroy(){const C=this._r3Injector;!C.destroyed&&C.destroy(),this.destroyCbs.forEach(v=>v()),this.destroyCbs=null}onDestroy(C){this.destroyCbs.push(C)}}class lE extends Hw{constructor(C){super(),this.moduleType=C}create(C){return new Yw(this.moduleType,C)}}class QU extends fp{constructor(C,v,M){super(),this.componentFactoryResolver=new fD(this),this.instance=null;const D=new AP([...C,{provide:fp,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],v||Mg(),M,new Set(["environment"]));this.injector=D,D.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(C){this.injector.onDestroy(C)}}function Vg(g,C,v=null){return new QU(g,C,v).injector}let XU=(()=>{class g{constructor(v){this._injector=v,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(v){if(!v.standalone)return null;if(!this.cachedInjectors.has(v.id)){const M=DP(0,v.type),D=M.length>0?Vg([M],this._injector,`Standalone[${v.type.name}]`):null;this.cachedInjectors.set(v.id,D)}return this.cachedInjectors.get(v.id)}ngOnDestroy(){try{for(const v of this.cachedInjectors.values())null!==v&&v.destroy()}finally{this.cachedInjectors.clear()}}}return g.\u0275prov=lr({token:g,providedIn:"environment",factory:()=>new g(dr(Lc))}),g})();function cE(g){g.getStandaloneInjector=C=>C.get(XU).getOrCreateStandaloneInjector(g)}function dm(g,C,v){const M=To()+g,D=Bn();return D[M]===ri?ql(D,M,v?C.call(v):C()):nm(D,M)}function xi(g,C,v,M){return function iI(g,C,v,M,D,I){const x=C+v;return Vo(g,x,D)?ql(g,x+1,I?M.call(I,D):M(D)):hm(g,x+1)}(Bn(),To(),g,C,v,M)}function tl(g,C,v,M,D){return function sI(g,C,v,M,D,I,x){const X=C+v;return Ud(g,X,D,I)?ql(g,X+2,x?M.call(x,D,I):M(D,I)):hm(g,X+2)}(Bn(),To(),g,C,v,M,D)}function mp(g,C,v,M,D,I){return function oI(g,C,v,M,D,I,x,X){const he=C+v;return Rg(g,he,D,I,x)?ql(g,he+3,X?M.call(X,D,I,x):M(D,I,x)):hm(g,he+3)}(Bn(),To(),g,C,v,M,D,I)}function gp(g,C,v,M,D,I,x){return function aI(g,C,v,M,D,I,x,X,he){const Se=C+v;return qa(g,Se,D,I,x,X)?ql(g,Se+4,he?M.call(he,D,I,x,X):M(D,I,x,X)):hm(g,Se+4)}(Bn(),To(),g,C,v,M,D,I,x)}function dE(g,C,v,M){return function lI(g,C,v,M,D,I){let x=C+v,X=!1;for(let he=0;he<D.length;he++)Vo(g,x++,D[he])&&(X=!0);return X?ql(g,x,M.apply(I,D)):hm(g,x)}(Bn(),To(),g,C,v,M)}function hm(g,C){const v=g[C];return v===ri?void 0:v}function hE(g){return C=>{setTimeout(g,void 0,C)}}const Nr=class g8 extends Ie{constructor(C=!1){super(),this.__isAsync=C}emit(C){super.next(C)}subscribe(C,v,M){let D=C,I=v||(()=>null),x=M;if(C&&"object"==typeof C){const he=C;D=he.next?.bind(he),I=he.error?.bind(he),x=he.complete?.bind(he)}this.__isAsync&&(I=hE(I),D&&(D=hE(D)),x&&(x=hE(x)));const X=super.subscribe({next:D,error:I,complete:x});return C instanceof k&&C.add(X),X}};function y8(){return this._results[jd()]()}class pE{get changes(){return this._changes||(this._changes=new Nr)}constructor(C=!1){this._emitDistinctChangesOnly=C,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const v=jd(),M=pE.prototype;M[v]||(M[v]=y8)}get(C){return this._results[C]}map(C){return this._results.map(C)}filter(C){return this._results.filter(C)}find(C){return this._results.find(C)}reduce(C,v){return this._results.reduce(C,v)}forEach(C){this._results.forEach(C)}some(C){return this._results.some(C)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(C,v){const M=this;M.dirty=!1;const D=function aa(g){return g.flat(Number.POSITIVE_INFINITY)}(C);(this._changesDetected=!function cg(g,C,v){if(g.length!==C.length)return!1;for(let M=0;M<g.length;M++){let D=g[M],I=C[M];if(v&&(D=v(D),I=v(I)),I!==D)return!1}return!0}(M._results,D,v))&&(M._results=D,M.length=D.length,M.last=D[this.length-1],M.first=D[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let tc=(()=>{class g{}return g.__NG_ELEMENT_ID__=E8,g})();const v8=tc,_8=class extends v8{constructor(C,v,M){super(),this._declarationLView=C,this._declarationTContainer=v,this.elementRef=M}createEmbeddedView(C,v){const M=this._declarationTContainer.tViews,D=Tg(this._declarationLView,M,C,16,null,M.declTNode,null,null,null,null,v||null);D[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(D[19]=x.createEmbeddedView(M)),L1(M,D,C),new em(D)}};function E8(){return Wg(co(),Bn())}function Wg(g,C){return 4&g.type?new _8(C,g,Yh(g,C)):null}let nl=(()=>{class g{}return g.__NG_ELEMENT_ID__=b8,g})();function b8(){return dI(co(),Bn())}const C8=nl,cI=class extends C8{constructor(C,v,M){super(),this._lContainer=C,this._hostTNode=v,this._hostLView=M}get element(){return Yh(this._hostTNode,this._hostLView)}get injector(){return new Au(this._hostTNode,this._hostLView)}get parentInjector(){const C=Iu(this._hostTNode,this._hostLView);if(Lf(C)){const v=kh(C,this._hostLView),M=Wh(C);return new Au(v[1].data[M+8],v)}return new Au(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(C){const v=uI(this._lContainer);return null!==v&&v[C]||null}get length(){return this._lContainer.length-10}createEmbeddedView(C,v,M){let D,I;"number"==typeof M?D=M:null!=M&&(D=M.index,I=M.injector);const x=C.createEmbeddedView(v||{},I);return this.insert(x,D),x}createComponent(C,v,M,D,I){const x=C&&!function Lu(g){return"function"==typeof g}(C);let X;if(x)X=v;else{const Ve=v||{};X=Ve.index,M=Ve.injector,D=Ve.projectableNodes,I=Ve.environmentInjector||Ve.ngModuleRef}const he=x?C:new tm(Ii(C)),Se=M||this.parentInjector;if(!I&&null==he.ngModule){const qe=(x?Se:this.parentInjector).get(Lc,null);qe&&(I=qe)}const Ae=he.create(Se,D,void 0,I);return this.insert(Ae.hostView,X),Ae}insert(C,v){const M=C._lView,D=M[1];if(function b_(g){return So(g[3])}(M)){const Ae=this.indexOf(C);if(-1!==Ae)this.detach(Ae);else{const Ve=M[3],qe=new cI(Ve,Ve[6],Ve[3]);qe.detach(qe.indexOf(C))}}const I=this._adjustIndex(v),x=this._lContainer;!function D5(g,C,v,M){const D=10+M,I=v.length;M>0&&(v[D-1][4]=C),M<I-10?(C[4]=v[D],kf(v,10+M,C)):(v.push(C),C[4]=null),C[3]=v;const x=C[17];null!==x&&v!==x&&function w5(g,C){const v=g[9];C[16]!==C[3][3][16]&&(g[2]=!0),null===v?g[9]=[C]:v.push(C)}(x,C);const X=C[19];null!==X&&X.insertView(g),C[2]|=64}(D,M,x,I);const X=c1(I,x),he=M[11],Se=mg(he,x[7]);return null!==Se&&function S5(g,C,v,M,D,I){M[0]=D,M[6]=C,Kf(g,M,v,1,D,I)}(D,x[6],he,M,Se,X),C.attachToViewContainerRef(),kf(fE(x),I,C),C}move(C,v){return this.insert(C,v)}indexOf(C){const v=uI(this._lContainer);return null!==v?v.indexOf(C):-1}remove(C){const v=this._adjustIndex(C,-1),M=o1(this._lContainer,v);M&&(Ad(fE(this._lContainer),v),JT(M[1],M))}detach(C){const v=this._adjustIndex(C,-1),M=o1(this._lContainer,v);return M&&null!=Ad(fE(this._lContainer),v)?new em(M):null}_adjustIndex(C,v=0){return C??this.length+v}};function uI(g){return g[8]}function fE(g){return g[8]||(g[8]=[])}function dI(g,C){let v;const M=C[g.index];if(So(M))v=M;else{let D;if(8&g.type)D=Ws(M);else{const I=C[11];D=I.createComment("");const x=sa(g,C);xd(I,mg(I,x),D,function x5(g,C){return g.nextSibling(C)}(I,x),!1)}C[g.index]=v=cD(M,C,D,g),Dg(C,v)}return new cI(v,g,C)}class mE{constructor(C){this.queryList=C,this.matches=null}clone(){return new mE(this.queryList)}setDirty(){this.queryList.setDirty()}}class gE{constructor(C=[]){this.queries=C}createEmbeddedView(C){const v=C.queries;if(null!==v){const M=null!==C.contentQueries?C.contentQueries[0]:v.length,D=[];for(let I=0;I<M;I++){const x=v.getByIndex(I);D.push(this.queries[x.indexInDeclarationView].clone())}return new gE(D)}return null}insertView(C){this.dirtyQueriesWithMatches(C)}detachView(C){this.dirtyQueriesWithMatches(C)}dirtyQueriesWithMatches(C){for(let v=0;v<this.queries.length;v++)null!==gI(C,v).matches&&this.queries[v].setDirty()}}class hI{constructor(C,v,M=null){this.predicate=C,this.flags=v,this.read=M}}class yE{constructor(C=[]){this.queries=C}elementStart(C,v){for(let M=0;M<this.queries.length;M++)this.queries[M].elementStart(C,v)}elementEnd(C){for(let v=0;v<this.queries.length;v++)this.queries[v].elementEnd(C)}embeddedTView(C){let v=null;for(let M=0;M<this.length;M++){const D=null!==v?v.length:0,I=this.getByIndex(M).embeddedTView(C,D);I&&(I.indexInDeclarationView=M,null!==v?v.push(I):v=[I])}return null!==v?new yE(v):null}template(C,v){for(let M=0;M<this.queries.length;M++)this.queries[M].template(C,v)}getByIndex(C){return this.queries[C]}get length(){return this.queries.length}track(C){this.queries.push(C)}}class vE{constructor(C,v=-1){this.metadata=C,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=v}elementStart(C,v){this.isApplyingToNode(v)&&this.matchTNode(C,v)}elementEnd(C){this._declarationNodeIndex===C.index&&(this._appliesToNextNode=!1)}template(C,v){this.elementStart(C,v)}embeddedTView(C,v){return this.isApplyingToNode(C)?(this.crossesNgTemplate=!0,this.addMatch(-C.index,v),new vE(this.metadata)):null}isApplyingToNode(C){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const v=this._declarationNodeIndex;let M=C.parent;for(;null!==M&&8&M.type&&M.index!==v;)M=M.parent;return v===(null!==M?M.index:-1)}return this._appliesToNextNode}matchTNode(C,v){const M=this.metadata.predicate;if(Array.isArray(M))for(let D=0;D<M.length;D++){const I=M[D];this.matchTNodeWithReadOption(C,v,M8(v,I)),this.matchTNodeWithReadOption(C,v,Xa(v,C,I,!1,!1))}else M===tc?4&v.type&&this.matchTNodeWithReadOption(C,v,-1):this.matchTNodeWithReadOption(C,v,Xa(v,C,M,!1,!1))}matchTNodeWithReadOption(C,v,M){if(null!==M){const D=this.metadata.read;if(null!==D)if(D===As||D===nl||D===tc&&4&v.type)this.addMatch(v.index,-2);else{const I=Xa(v,C,D,!1,!1);null!==I&&this.addMatch(v.index,I)}else this.addMatch(v.index,M)}}addMatch(C,v){null===this.matches?this.matches=[C,v]:this.matches.push(C,v)}}function M8(g,C){const v=g.localNames;if(null!==v)for(let M=0;M<v.length;M+=2)if(v[M]===C)return v[M+1];return null}function T8(g,C,v,M){return-1===v?function S8(g,C){return 11&g.type?Yh(g,C):4&g.type?Wg(g,C):null}(C,g):-2===v?function P8(g,C,v){return v===As?Yh(C,g):v===tc?Wg(C,g):v===nl?dI(C,g):void 0}(g,C,M):Yl(g,g[1],v,C)}function pI(g,C,v,M){const D=C[19].queries[M];if(null===D.matches){const I=g.data,x=v.matches,X=[];for(let he=0;he<x.length;he+=2){const Se=x[he];X.push(Se<0?null:T8(C,I[Se],x[he+1],v.metadata.read))}D.matches=X}return D.matches}function _E(g,C,v,M){const D=g.queries.getByIndex(v),I=D.matches;if(null!==I){const x=pI(g,C,D,v);for(let X=0;X<I.length;X+=2){const he=I[X];if(he>0)M.push(x[X/2]);else{const Se=I[X+1],Ae=C[-he];for(let Ve=10;Ve<Ae.length;Ve++){const qe=Ae[Ve];qe[17]===qe[3]&&_E(qe[1],qe,Se,M)}if(null!==Ae[9]){const Ve=Ae[9];for(let qe=0;qe<Ve.length;qe++){const rt=Ve[qe];_E(rt[1],rt,Se,M)}}}}}return M}function Ni(g){const C=Bn(),v=Pi(),M=ir();Sf(M+1);const D=gI(v,M);if(g.dirty&&function E_(g){return 4==(4&g[2])}(C)===(2==(2&D.metadata.flags))){if(null===D.matches)g.reset([]);else{const I=D.crossesNgTemplate?_E(v,C,M,[]):pI(v,C,D,M);g.reset(I,bN),g.notifyOnChanges()}return!0}return!1}function Ss(g,C,v){const M=Pi();M.firstCreatePass&&(mI(M,new hI(g,C,v),-1),2==(2&C)&&(M.staticViewQueries=!0)),fI(M,Bn(),C)}function nc(g,C,v,M){const D=Pi();if(D.firstCreatePass){const I=co();mI(D,new hI(C,v,M),I.index),function w8(g,C){const v=g.contentQueries||(g.contentQueries=[]);C!==(v.length?v[v.length-1]:-1)&&v.push(g.queries.length-1,C)}(D,g),2==(2&v)&&(D.staticContentQueries=!0)}fI(D,Bn(),v)}function ji(){return function D8(g,C){return g[19].queries[C].queryList}(Bn(),ir())}function fI(g,C,v){const M=new pE(4==(4&v));rD(g,C,M,M.destroy),null===C[19]&&(C[19]=new gE),C[19].queries.push(new mE(M))}function mI(g,C,v){null===g.queries&&(g.queries=new yE),g.queries.track(new vE(C,v))}function gI(g,C){return g.queries.getByIndex(C)}function jc(g,C){return Wg(g,C)}function zg(...g){}const $g=new Or("Application Initializer");let Zg=(()=>{class g{constructor(v){this.appInits=v,this.resolve=zg,this.reject=zg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((M,D)=>{this.resolve=M,this.reject=D})}runInitializers(){if(this.initialized)return;const v=[],M=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let D=0;D<this.appInits.length;D++){const I=this.appInits[D]();if(rm(I))v.push(I);else if(Y1(I)){const x=new Promise((X,he)=>{I.subscribe({complete:X,error:he})});v.push(x)}}Promise.all(v).then(()=>{M()}).catch(D=>{this.reject(D)}),0===v.length&&M(),this.initialized=!0}}return g.\u0275fac=function(v){return new(v||g)(dr($g,8))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const mm=new Or("AppId",{providedIn:"root",factory:function FI(){return`${SE()}${SE()}${SE()}`}});function SE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NI=new Or("Platform Initializer"),Gg=new Or("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jI=new Or("appBootstrapListener"),UI=new Or("AnimationModuleType");let H8=(()=>{class g{log(v){console.log(v)}warn(v){console.warn(v)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"platform"}),g})();const Uc=new Or("LocaleId",{providedIn:"root",factory:()=>Jr(Uc,At.Optional|At.SkipSelf)||function Y8(){return typeof $localize<"u"&&$localize.locale||pp}()});class Q8{constructor(C,v){this.ngModuleFactory=C,this.componentFactories=v}}let BI=(()=>{class g{compileModuleSync(v){return new lE(v)}compileModuleAsync(v){return Promise.resolve(this.compileModuleSync(v))}compileModuleAndAllComponentsSync(v){const M=this.compileModuleSync(v),I=Fc(Mo(v).declarations).reduce((x,X)=>{const he=Ii(X);return he&&x.push(new tm(he)),x},[]);return new Q8(M,I)}compileModuleAndAllComponentsAsync(v){return Promise.resolve(this.compileModuleAndAllComponentsSync(v))}clearCache(){}clearCacheFor(v){}getModuleId(v){}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const e4=(()=>Promise.resolve(0))();function TE(g){typeof Zone>"u"?e4.then(()=>{g&&g.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",g)}class Ri{constructor({enableLongStackTrace:C=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:M=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nr(!1),this.onMicrotaskEmpty=new Nr(!1),this.onStable=new Nr(!1),this.onError=new Nr(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const D=this;D._nesting=0,D._outer=D._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(D._inner=D._inner.fork(new Zone.TaskTrackingZoneSpec)),C&&Zone.longStackTraceZoneSpec&&(D._inner=D._inner.fork(Zone.longStackTraceZoneSpec)),D.shouldCoalesceEventChangeDetection=!M&&v,D.shouldCoalesceRunChangeDetection=M,D.lastRequestAnimationFrameId=-1,D.nativeRequestAnimationFrame=function t4(){let g=Vn.requestAnimationFrame,C=Vn.cancelAnimationFrame;if(typeof Zone<"u"&&g&&C){const v=g[Zone.__symbol__("OriginalDelegate")];v&&(g=v);const M=C[Zone.__symbol__("OriginalDelegate")];M&&(C=M)}return{nativeRequestAnimationFrame:g,nativeCancelAnimationFrame:C}}().nativeRequestAnimationFrame,function i4(g){const C=()=>{!function r4(g){g.isCheckStableRunning||-1!==g.lastRequestAnimationFrameId||(g.lastRequestAnimationFrameId=g.nativeRequestAnimationFrame.call(Vn,()=>{g.fakeTopEventTask||(g.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{g.lastRequestAnimationFrameId=-1,DE(g),g.isCheckStableRunning=!0,PE(g),g.isCheckStableRunning=!1},void 0,()=>{},()=>{})),g.fakeTopEventTask.invoke()}),DE(g))}(g)};g._inner=g._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(v,M,D,I,x,X)=>{try{return kI(g),v.invokeTask(D,I,x,X)}finally{(g.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||g.shouldCoalesceRunChangeDetection)&&C(),zI(g)}},onInvoke:(v,M,D,I,x,X,he)=>{try{return kI(g),v.invoke(D,I,x,X,he)}finally{g.shouldCoalesceRunChangeDetection&&C(),zI(g)}},onHasTask:(v,M,D,I)=>{v.hasTask(D,I),M===D&&("microTask"==I.change?(g._hasPendingMicrotasks=I.microTask,DE(g),PE(g)):"macroTask"==I.change&&(g.hasPendingMacrotasks=I.macroTask))},onHandleError:(v,M,D,I)=>(v.handleError(D,I),g.runOutsideAngular(()=>g.onError.emit(I)),!1)})}(D)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new dt(909,!1)}run(C,v,M){return this._inner.run(C,v,M)}runTask(C,v,M,D){const I=this._inner,x=I.scheduleEventTask("NgZoneEvent: "+D,C,n4,zg,zg);try{return I.runTask(x,v,M)}finally{I.cancelTask(x)}}runGuarded(C,v,M){return this._inner.runGuarded(C,v,M)}runOutsideAngular(C){return this._outer.run(C)}}const n4={};function PE(g){if(0==g._nesting&&!g.hasPendingMicrotasks&&!g.isStable)try{g._nesting++,g.onMicrotaskEmpty.emit(null)}finally{if(g._nesting--,!g.hasPendingMicrotasks)try{g.runOutsideAngular(()=>g.onStable.emit(null))}finally{g.isStable=!0}}}function DE(g){g.hasPendingMicrotasks=!!(g._hasPendingMicrotasks||(g.shouldCoalesceEventChangeDetection||g.shouldCoalesceRunChangeDetection)&&-1!==g.lastRequestAnimationFrameId)}function kI(g){g._nesting++,g.isStable&&(g.isStable=!1,g.onUnstable.emit(null))}function zI(g){g._nesting--,PE(g)}class s4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nr,this.onMicrotaskEmpty=new Nr,this.onStable=new Nr,this.onError=new Nr}run(C,v,M){return C.apply(v,M)}runGuarded(C,v,M){return C.apply(v,M)}runOutsideAngular(C){return C()}runTask(C,v,M,D){return C.apply(v,M)}}const $I=new Or(""),Kg=new Or("");let OE,wE=(()=>{class g{constructor(v,M,D){this._ngZone=v,this.registry=M,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OE||(function o4(g){OE=g}(D),D.addToWindow(M)),this._watchAngularEvents(),v.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),TE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())TE(()=>{for(;0!==this._callbacks.length;){let v=this._callbacks.pop();clearTimeout(v.timeoutId),v.doneCb(this._didWork)}this._didWork=!1});else{let v=this.getPendingTasks();this._callbacks=this._callbacks.filter(M=>!M.updateCb||!M.updateCb(v)||(clearTimeout(M.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(v=>({source:v.source,creationLocation:v.creationLocation,data:v.data})):[]}addCallback(v,M,D){let I=-1;M&&M>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==I),v(this._didWork,this.getPendingTasks())},M)),this._callbacks.push({doneCb:v,timeoutId:I,updateCb:D})}whenStable(v,M,D){if(D&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(v,M,D),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(v){this.registry.registerApplication(v,this)}unregisterApplication(v){this.registry.unregisterApplication(v)}findProviders(v,M,D){return[]}}return g.\u0275fac=function(v){return new(v||g)(dr(Ri),dr(IE),dr(Kg))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),IE=(()=>{class g{constructor(){this._applications=new Map}registerApplication(v,M){this._applications.set(v,M)}unregisterApplication(v){this._applications.delete(v)}unregisterAllApplications(){this._applications.clear()}getTestability(v){return this._applications.get(v)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(v,M=!0){return OE?.findTestabilityInTree(this,v,M)??null}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"platform"}),g})(),Bu=null;const ZI=new Or("AllowMultipleToken"),AE=new Or("PlatformDestroyListeners");class GI{constructor(C,v){this.name=C,this.token=v}}function HI(g,C,v=[]){const M=`Platform: ${C}`,D=new Or(M);return(I=[])=>{let x=xE();if(!x||x.injector.get(ZI,!1)){const X=[...v,...I,{provide:D,useValue:!0}];g?g(X):function c4(g){if(Bu&&!Bu.get(ZI,!1))throw new dt(400,!1);Bu=g;const C=g.get(JI);(function KI(g){const C=g.get(NI,null);C&&C.forEach(v=>v())})(g)}(function YI(g=[],C){return La.create({name:C,providers:[{provide:C1,useValue:"platform"},{provide:AE,useValue:new Set([()=>Bu=null])},...g]})}(X,M))}return function d4(g){const C=xE();if(!C)throw new dt(401,!1);return C}()}}function xE(){return Bu?.get(JI)??null}let JI=(()=>{class g{constructor(v){this._injector=v,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(v,M){const D=function XI(g,C){let v;return v="noop"===g?new s4:("zone.js"===g?void 0:g)||new Ri(C),v}(M?.ngZone,function QI(g){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!g||!g.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!g||!g.ngZoneRunCoalescing)||!1}}(M)),I=[{provide:Ri,useValue:D}];return D.run(()=>{const x=La.create({providers:I,parent:this.injector,name:v.moduleType.name}),X=v.create(x),he=X.injector.get(Nd,null);if(!he)throw new dt(402,!1);return D.runOutsideAngular(()=>{const Se=D.onError.subscribe({next:Ae=>{he.handleError(Ae)}});X.onDestroy(()=>{Hg(this._modules,X),Se.unsubscribe()})}),function qI(g,C,v){try{const M=v();return rm(M)?M.catch(D=>{throw C.runOutsideAngular(()=>g.handleError(D)),D}):M}catch(M){throw C.runOutsideAngular(()=>g.handleError(M)),M}}(he,D,()=>{const Se=X.injector.get(Zg);return Se.runInitializers(),Se.donePromise.then(()=>(function Mw(g){hi(g,"Expected localeId to be defined"),"string"==typeof g&&(Cw=g.toLowerCase().replace(/_/g,"-"))}(X.injector.get(Uc,pp)||pp),this._moduleDoBootstrap(X),X))})})}bootstrapModule(v,M=[]){const D=eO({},M);return function a4(g,C,v){const M=new lE(v);return Promise.resolve(M)}(0,0,v).then(I=>this.bootstrapModuleFactory(I,D))}_moduleDoBootstrap(v){const M=v.injector.get(_p);if(v._bootstrapComponents.length>0)v._bootstrapComponents.forEach(D=>M.bootstrap(D));else{if(!v.instance.ngDoBootstrap)throw new dt(-403,!1);v.instance.ngDoBootstrap(M)}this._modules.push(v)}onDestroy(v){this._destroyListeners.push(v)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(M=>M.destroy()),this._destroyListeners.forEach(M=>M());const v=this._injector.get(AE,null);v&&(v.forEach(M=>M()),v.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return g.\u0275fac=function(v){return new(v||g)(dr(La))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"platform"}),g})();function eO(g,C){return Array.isArray(C)?C.reduce(eO,g):{...g,...C}}let _p=(()=>{class g{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(v,M,D){this._zone=v,this._injector=M,this._exceptionHandler=D,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new ue(X=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{X.next(this._stable),X.complete()})}),x=new ue(X=>{let he;this._zone.runOutsideAngular(()=>{he=this._zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),TE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,X.next(!0))})})});const Se=this._zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{X.next(!1)}))});return()=>{he.unsubscribe(),Se.unsubscribe()}});this.isStable=function $r(...g){const C=He(g),v=function $t(g,C){return"number"==typeof ti(g)?g.pop():C}(g,1/0),M=g;return M.length?1===M.length?un(M[0]):Yt(v)(nr(M,C)):ln}(I,x.pipe(Zr()))}bootstrap(v,M){const D=v instanceof RP;if(!this._injector.get(Zg).done)throw!D&&function Wl(g){const C=Ii(g)||Hs(g)||ao(g);return null!==C&&C.standalone}(v),new dt(405,false);let x;x=D?v:this._injector.get(Fd).resolveComponentFactory(v),this.componentTypes.push(x.componentType);const X=function l4(g){return g.isBoundToModule}(x)?void 0:this._injector.get(fp),Se=x.create(La.NULL,[],M||x.selector,X),Ae=Se.location.nativeElement,Ve=Se.injector.get($I,null);return Ve?.registerApplication(Ae),Se.onDestroy(()=>{this.detachView(Se.hostView),Hg(this.components,Se),Ve?.unregisterApplication(Ae)}),this._loadComponent(Se),Se}tick(){if(this._runningTick)throw new dt(101,!1);try{this._runningTick=!0;for(let v of this._views)v.detectChanges()}catch(v){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(v))}finally{this._runningTick=!1}}attachView(v){const M=v;this._views.push(M),M.attachToAppRef(this)}detachView(v){const M=v;Hg(this._views,M),M.detachFromAppRef()}_loadComponent(v){this.attachView(v.hostView),this.tick(),this.components.push(v);const M=this._injector.get(jI,[]);M.push(...this._bootstrapListeners),M.forEach(D=>D(v))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(v=>v()),this._views.slice().forEach(v=>v.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(v){return this._destroyListeners.push(v),()=>Hg(this._destroyListeners,v)}destroy(){if(this._destroyed)throw new dt(406,!1);const v=this._injector;v.destroy&&!v.destroyed&&v.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return g.\u0275fac=function(v){return new(v||g)(dr(Ri),dr(Lc),dr(Nd))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function Hg(g,C){const v=g.indexOf(C);v>-1&&g.splice(v,1)}let rl=(()=>{class g{}return g.__NG_ELEMENT_ID__=p4,g})();function p4(g){return function f4(g,C,v){if(Zl(g)&&!v){const M=oa(g.index,C);return new em(M,M)}return 47&g.type?new em(C[16],C):null}(co(),Bn(),16==(16&g))}class sO{constructor(){}supports(C){return xg(C)}create(C){return new E4(C)}}const _4=(g,C)=>C;class E4{constructor(C){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=C||_4}forEachItem(C){let v;for(v=this._itHead;null!==v;v=v._next)C(v)}forEachOperation(C){let v=this._itHead,M=this._removalsHead,D=0,I=null;for(;v||M;){const x=!M||v&&v.currentIndex<aO(M,D,I)?v:M,X=aO(x,D,I),he=x.currentIndex;if(x===M)D--,M=M._nextRemoved;else if(v=v._next,null==x.previousIndex)D++;else{I||(I=[]);const Se=X-D,Ae=he-D;if(Se!=Ae){for(let qe=0;qe<Se;qe++){const rt=qe<I.length?I[qe]:I[qe]=0,gt=rt+qe;Ae<=gt&&gt<Se&&(I[qe]=rt+1)}I[x.previousIndex]=Ae-Se}}X!==he&&C(x,X,he)}}forEachPreviousItem(C){let v;for(v=this._previousItHead;null!==v;v=v._nextPrevious)C(v)}forEachAddedItem(C){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)C(v)}forEachMovedItem(C){let v;for(v=this._movesHead;null!==v;v=v._nextMoved)C(v)}forEachRemovedItem(C){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)C(v)}forEachIdentityChange(C){let v;for(v=this._identityChangesHead;null!==v;v=v._nextIdentityChange)C(v)}diff(C){if(null==C&&(C=[]),!xg(C))throw new dt(900,!1);return this.check(C)?this:null}onDestroy(){}check(C){this._reset();let D,I,x,v=this._itHead,M=!1;if(Array.isArray(C)){this.length=C.length;for(let X=0;X<this.length;X++)I=C[X],x=this._trackByFn(X,I),null!==v&&Object.is(v.trackById,x)?(M&&(v=this._verifyReinsertion(v,I,x,X)),Object.is(v.item,I)||this._addIdentityChange(v,I)):(v=this._mismatch(v,I,x,X),M=!0),v=v._next}else D=0,function r6(g,C){if(Array.isArray(g))for(let v=0;v<g.length;v++)C(g[v]);else{const v=g[jd()]();let M;for(;!(M=v.next()).done;)C(M.value)}}(C,X=>{x=this._trackByFn(D,X),null!==v&&Object.is(v.trackById,x)?(M&&(v=this._verifyReinsertion(v,X,x,D)),Object.is(v.item,X)||this._addIdentityChange(v,X)):(v=this._mismatch(v,X,x,D),M=!0),v=v._next,D++}),this.length=D;return this._truncate(v),this.collection=C,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let C;for(C=this._previousItHead=this._itHead;null!==C;C=C._next)C._nextPrevious=C._next;for(C=this._additionsHead;null!==C;C=C._nextAdded)C.previousIndex=C.currentIndex;for(this._additionsHead=this._additionsTail=null,C=this._movesHead;null!==C;C=C._nextMoved)C.previousIndex=C.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(C,v,M,D){let I;return null===C?I=this._itTail:(I=C._prev,this._remove(C)),null!==(C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(M,null))?(Object.is(C.item,v)||this._addIdentityChange(C,v),this._reinsertAfter(C,I,D)):null!==(C=null===this._linkedRecords?null:this._linkedRecords.get(M,D))?(Object.is(C.item,v)||this._addIdentityChange(C,v),this._moveAfter(C,I,D)):C=this._addAfter(new b4(v,M),I,D),C}_verifyReinsertion(C,v,M,D){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(M,null);return null!==I?C=this._reinsertAfter(I,C._prev,D):C.currentIndex!=D&&(C.currentIndex=D,this._addToMoves(C,D)),C}_truncate(C){for(;null!==C;){const v=C._next;this._addToRemovals(this._unlink(C)),C=v}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(C,v,M){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(C);const D=C._prevRemoved,I=C._nextRemoved;return null===D?this._removalsHead=I:D._nextRemoved=I,null===I?this._removalsTail=D:I._prevRemoved=D,this._insertAfter(C,v,M),this._addToMoves(C,M),C}_moveAfter(C,v,M){return this._unlink(C),this._insertAfter(C,v,M),this._addToMoves(C,M),C}_addAfter(C,v,M){return this._insertAfter(C,v,M),this._additionsTail=null===this._additionsTail?this._additionsHead=C:this._additionsTail._nextAdded=C,C}_insertAfter(C,v,M){const D=null===v?this._itHead:v._next;return C._next=D,C._prev=v,null===D?this._itTail=C:D._prev=C,null===v?this._itHead=C:v._next=C,null===this._linkedRecords&&(this._linkedRecords=new oO),this._linkedRecords.put(C),C.currentIndex=M,C}_remove(C){return this._addToRemovals(this._unlink(C))}_unlink(C){null!==this._linkedRecords&&this._linkedRecords.remove(C);const v=C._prev,M=C._next;return null===v?this._itHead=M:v._next=M,null===M?this._itTail=v:M._prev=v,C}_addToMoves(C,v){return C.previousIndex===v||(this._movesTail=null===this._movesTail?this._movesHead=C:this._movesTail._nextMoved=C),C}_addToRemovals(C){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oO),this._unlinkedRecords.put(C),C.currentIndex=null,C._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=C,C._prevRemoved=null):(C._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=C),C}_addIdentityChange(C,v){return C.item=v,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=C:this._identityChangesTail._nextIdentityChange=C,C}}class b4{constructor(C,v){this.item=C,this.trackById=v,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class C4{constructor(){this._head=null,this._tail=null}add(C){null===this._head?(this._head=this._tail=C,C._nextDup=null,C._prevDup=null):(this._tail._nextDup=C,C._prevDup=this._tail,C._nextDup=null,this._tail=C)}get(C,v){let M;for(M=this._head;null!==M;M=M._nextDup)if((null===v||v<=M.currentIndex)&&Object.is(M.trackById,C))return M;return null}remove(C){const v=C._prevDup,M=C._nextDup;return null===v?this._head=M:v._nextDup=M,null===M?this._tail=v:M._prevDup=v,null===this._head}}class oO{constructor(){this.map=new Map}put(C){const v=C.trackById;let M=this.map.get(v);M||(M=new C4,this.map.set(v,M)),M.add(C)}get(C,v){const D=this.map.get(C);return D?D.get(C,v):null}remove(C){const v=C.trackById;return this.map.get(v).remove(C)&&this.map.delete(v),C}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aO(g,C,v){const M=g.previousIndex;if(null===M)return M;let D=0;return v&&M<v.length&&(D=v[M]),M+C+D}class lO{constructor(){}supports(C){return C instanceof Map||K1(C)}create(){return new M4}}class M4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(C){let v;for(v=this._mapHead;null!==v;v=v._next)C(v)}forEachPreviousItem(C){let v;for(v=this._previousMapHead;null!==v;v=v._nextPrevious)C(v)}forEachChangedItem(C){let v;for(v=this._changesHead;null!==v;v=v._nextChanged)C(v)}forEachAddedItem(C){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)C(v)}forEachRemovedItem(C){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)C(v)}diff(C){if(C){if(!(C instanceof Map||K1(C)))throw new dt(900,!1)}else C=new Map;return this.check(C)?this:null}onDestroy(){}check(C){this._reset();let v=this._mapHead;if(this._appendAfter=null,this._forEach(C,(M,D)=>{if(v&&v.key===D)this._maybeAddToChanges(v,M),this._appendAfter=v,v=v._next;else{const I=this._getOrCreateRecordForKey(D,M);v=this._insertBeforeOrAppend(v,I)}}),v){v._prev&&(v._prev._next=null),this._removalsHead=v;for(let M=v;null!==M;M=M._nextRemoved)M===this._mapHead&&(this._mapHead=null),this._records.delete(M.key),M._nextRemoved=M._next,M.previousValue=M.currentValue,M.currentValue=null,M._prev=null,M._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(C,v){if(C){const M=C._prev;return v._next=C,v._prev=M,C._prev=v,M&&(M._next=v),C===this._mapHead&&(this._mapHead=v),this._appendAfter=C,C}return this._appendAfter?(this._appendAfter._next=v,v._prev=this._appendAfter):this._mapHead=v,this._appendAfter=v,null}_getOrCreateRecordForKey(C,v){if(this._records.has(C)){const D=this._records.get(C);this._maybeAddToChanges(D,v);const I=D._prev,x=D._next;return I&&(I._next=x),x&&(x._prev=I),D._next=null,D._prev=null,D}const M=new S4(C);return this._records.set(C,M),M.currentValue=v,this._addToAdditions(M),M}_reset(){if(this.isDirty){let C;for(this._previousMapHead=this._mapHead,C=this._previousMapHead;null!==C;C=C._next)C._nextPrevious=C._next;for(C=this._changesHead;null!==C;C=C._nextChanged)C.previousValue=C.currentValue;for(C=this._additionsHead;null!=C;C=C._nextAdded)C.previousValue=C.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(C,v){Object.is(v,C.currentValue)||(C.previousValue=C.currentValue,C.currentValue=v,this._addToChanges(C))}_addToAdditions(C){null===this._additionsHead?this._additionsHead=this._additionsTail=C:(this._additionsTail._nextAdded=C,this._additionsTail=C)}_addToChanges(C){null===this._changesHead?this._changesHead=this._changesTail=C:(this._changesTail._nextChanged=C,this._changesTail=C)}_forEach(C,v){C instanceof Map?C.forEach(v):Object.keys(C).forEach(M=>v(C[M],M))}}class S4{constructor(C){this.key=C,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cO(){return new Qg([new sO])}let Qg=(()=>{class g{constructor(v){this.factories=v}static create(v,M){if(null!=M){const D=M.factories.slice();v=v.concat(D)}return new g(v)}static extend(v){return{provide:g,useFactory:M=>g.create(v,M||cO()),deps:[[g,new ar,new ot]]}}find(v){const M=this.factories.find(D=>D.supports(v));if(null!=M)return M;throw new dt(901,!1)}}return g.\u0275prov=lr({token:g,providedIn:"root",factory:cO}),g})();function uO(){return new gm([new lO])}let gm=(()=>{class g{constructor(v){this.factories=v}static create(v,M){if(M){const D=M.factories.slice();v=v.concat(D)}return new g(v)}static extend(v){return{provide:g,useFactory:M=>g.create(v,M||uO()),deps:[[g,new ar,new ot]]}}find(v){const M=this.factories.find(D=>D.supports(v));if(M)return M;throw new dt(901,!1)}}return g.\u0275prov=lr({token:g,providedIn:"root",factory:uO}),g})();const D4=HI(null,"core",[]);let w4=(()=>{class g{constructor(v){}}return g.\u0275fac=function(v){return new(v||g)(dr(_p))},g.\u0275mod=li({type:g}),g.\u0275inj=hn({}),g})();let jE=null;function rc(){return jE}class A4{}const Io=new Or("DocumentToken");let UE=(()=>{class g{historyGo(v){throw new Error("Not implemented")}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(){return function x4(){return dr(dO)}()},providedIn:"platform"}),g})();const R4=new Or("Location Initialized");let dO=(()=>{class g extends UE{constructor(v){super(),this._doc=v,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rc().getBaseHref(this._doc)}onPopState(v){const M=rc().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",v,!1),()=>M.removeEventListener("popstate",v)}onHashChange(v){const M=rc().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",v,!1),()=>M.removeEventListener("hashchange",v)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(v){this._location.pathname=v}pushState(v,M,D){hO()?this._history.pushState(v,M,D):this._location.hash=D}replaceState(v,M,D){hO()?this._history.replaceState(v,M,D):this._location.hash=D}forward(){this._history.forward()}back(){this._history.back()}historyGo(v=0){this._history.go(v)}getState(){return this._history.state}}return g.\u0275fac=function(v){return new(v||g)(dr(Io))},g.\u0275prov=lr({token:g,factory:function(){return function L4(){return new dO(dr(Io))}()},providedIn:"platform"}),g})();function hO(){return!!window.history.pushState}function BE(g,C){if(0==g.length)return C;if(0==C.length)return g;let v=0;return g.endsWith("/")&&v++,C.startsWith("/")&&v++,2==v?g+C.substring(1):1==v?g+C:g+"/"+C}function pO(g){const C=g.match(/#|\?|$/),v=C&&C.index||g.length;return g.slice(0,v-("/"===g[v-1]?1:0))+g.slice(v)}function Vc(g){return g&&"?"!==g[0]?"?"+g:g}let kd=(()=>{class g{historyGo(v){throw new Error("Not implemented")}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(){return Jr(mO)},providedIn:"root"}),g})();const fO=new Or("appBaseHref");let mO=(()=>{class g extends kd{constructor(v,M){super(),this._platformLocation=v,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??Jr(Io).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(v){this._removeListenerFns.push(this._platformLocation.onPopState(v),this._platformLocation.onHashChange(v))}getBaseHref(){return this._baseHref}prepareExternalUrl(v){return BE(this._baseHref,v)}path(v=!1){const M=this._platformLocation.pathname+Vc(this._platformLocation.search),D=this._platformLocation.hash;return D&&v?`${M}${D}`:M}pushState(v,M,D,I){const x=this.prepareExternalUrl(D+Vc(I));this._platformLocation.pushState(v,M,x)}replaceState(v,M,D,I){const x=this.prepareExternalUrl(D+Vc(I));this._platformLocation.replaceState(v,M,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(v=0){this._platformLocation.historyGo?.(v)}}return g.\u0275fac=function(v){return new(v||g)(dr(UE),dr(fO,8))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),F4=(()=>{class g extends kd{constructor(v,M){super(),this._platformLocation=v,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(v){this._removeListenerFns.push(this._platformLocation.onPopState(v),this._platformLocation.onHashChange(v))}getBaseHref(){return this._baseHref}path(v=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(v){const M=BE(this._baseHref,v);return M.length>0?"#"+M:M}pushState(v,M,D,I){let x=this.prepareExternalUrl(D+Vc(I));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.pushState(v,M,x)}replaceState(v,M,D,I){let x=this.prepareExternalUrl(D+Vc(I));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.replaceState(v,M,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(v=0){this._platformLocation.historyGo?.(v)}}return g.\u0275fac=function(v){return new(v||g)(dr(UE),dr(fO,8))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),VE=(()=>{class g{constructor(v){this._subject=new Nr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=v;const M=this._locationStrategy.getBaseHref();this._basePath=function U4(g){if(new RegExp("^(https?:)?//").test(g)){const[,v]=g.split(/\/\/[^\/]+/);return v}return g}(pO(gO(M))),this._locationStrategy.onPopState(D=>{this._subject.emit({url:this.path(!0),pop:!0,state:D.state,type:D.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(v=!1){return this.normalize(this._locationStrategy.path(v))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(v,M=""){return this.path()==this.normalize(v+Vc(M))}normalize(v){return g.stripTrailingSlash(function j4(g,C){return g&&new RegExp(`^${g}([/;?#]|$)`).test(C)?C.substring(g.length):C}(this._basePath,gO(v)))}prepareExternalUrl(v){return v&&"/"!==v[0]&&(v="/"+v),this._locationStrategy.prepareExternalUrl(v)}go(v,M="",D=null){this._locationStrategy.pushState(D,"",v,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(v+Vc(M)),D)}replaceState(v,M="",D=null){this._locationStrategy.replaceState(D,"",v,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(v+Vc(M)),D)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(v=0){this._locationStrategy.historyGo?.(v)}onUrlChange(v){return this._urlChangeListeners.push(v),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(v);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(v="",M){this._urlChangeListeners.forEach(D=>D(v,M))}subscribe(v,M,D){return this._subject.subscribe({next:v,error:M,complete:D})}}return g.normalizeQueryParams=Vc,g.joinWithSlash=BE,g.stripTrailingSlash=pO,g.\u0275fac=function(v){return new(v||g)(dr(kd))},g.\u0275prov=lr({token:g,factory:function(){return function N4(){return new VE(dr(kd))}()},providedIn:"root"}),g})();function gO(g){return g.replace(/\/index.html$/,"")}const JE=/\s+/,TO=[];let Wo=(()=>{class g{constructor(v,M,D,I){this._iterableDiffers=v,this._keyValueDiffers=M,this._ngEl=D,this._renderer=I,this.initialClasses=TO,this.stateMap=new Map}set klass(v){this.initialClasses=null!=v?v.trim().split(JE):TO}set ngClass(v){this.rawClass="string"==typeof v?v.trim().split(JE):v}ngDoCheck(){for(const M of this.initialClasses)this._updateState(M,!0);const v=this.rawClass;if(Array.isArray(v)||v instanceof Set)for(const M of v)this._updateState(M,!0);else if(null!=v)for(const M of Object.keys(v))this._updateState(M,Boolean(v[M]));this._applyStateDiff()}_updateState(v,M){const D=this.stateMap.get(v);void 0!==D?(D.enabled!==M&&(D.changed=!0,D.enabled=M),D.touched=!0):this.stateMap.set(v,{enabled:M,changed:!0,touched:!0})}_applyStateDiff(){for(const v of this.stateMap){const M=v[0],D=v[1];D.changed?(this._toggleClass(M,D.enabled),D.changed=!1):D.touched||(D.enabled&&this._toggleClass(M,!1),this.stateMap.delete(M)),D.touched=!1}}_toggleClass(v,M){(v=v.trim()).length>0&&v.split(JE).forEach(D=>{M?this._renderer.addClass(this._ngEl.nativeElement,D):this._renderer.removeClass(this._ngEl.nativeElement,D)})}}return g.\u0275fac=function(v){return new(v||g)(pn(Qg),pn(gm),pn(As),pn(ba))},g.\u0275dir=Tr({type:g,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),g})();class MB{constructor(C,v,M,D){this.$implicit=C,this.ngForOf=v,this.index=M,this.count=D}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _m=(()=>{class g{set ngForOf(v){this._ngForOf=v,this._ngForOfDirty=!0}set ngForTrackBy(v){this._trackByFn=v}get ngForTrackBy(){return this._trackByFn}constructor(v,M,D){this._viewContainer=v,this._template=M,this._differs=D,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(v){v&&(this._template=v)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const v=this._ngForOf;!this._differ&&v&&(this._differ=this._differs.find(v).create(this.ngForTrackBy))}if(this._differ){const v=this._differ.diff(this._ngForOf);v&&this._applyChanges(v)}}_applyChanges(v){const M=this._viewContainer;v.forEachOperation((D,I,x)=>{if(null==D.previousIndex)M.createEmbeddedView(this._template,new MB(D.item,this._ngForOf,-1,-1),null===x?void 0:x);else if(null==x)M.remove(null===I?void 0:I);else if(null!==I){const X=M.get(I);M.move(X,x),wO(X,D)}});for(let D=0,I=M.length;D<I;D++){const X=M.get(D).context;X.index=D,X.count=I,X.ngForOf=this._ngForOf}v.forEachIdentityChange(D=>{wO(M.get(D.currentIndex),D)})}static ngTemplateContextGuard(v,M){return!0}}return g.\u0275fac=function(v){return new(v||g)(pn(nl),pn(tc),pn(Qg))},g.\u0275dir=Tr({type:g,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),g})();function wO(g,C){g.context.$implicit=C.item}let ja=(()=>{class g{constructor(v,M){this._viewContainer=v,this._context=new TB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(v){this._context.$implicit=this._context.ngIf=v,this._updateView()}set ngIfThen(v){IO("ngIfThen",v),this._thenTemplateRef=v,this._thenViewRef=null,this._updateView()}set ngIfElse(v){IO("ngIfElse",v),this._elseTemplateRef=v,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(v,M){return!0}}return g.\u0275fac=function(v){return new(v||g)(pn(nl),pn(tc))},g.\u0275dir=Tr({type:g,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),g})();class TB{constructor(){this.$implicit=null,this.ngIf=null}}function IO(g,C){if(C&&!C.createEmbeddedView)throw new Error(`${g} must be a TemplateRef, but received '${ui(C)}'.`)}let ol=(()=>{class g{constructor(v,M,D){this._ngEl=v,this._differs=M,this._renderer=D,this._ngStyle=null,this._differ=null}set ngStyle(v){this._ngStyle=v,!this._differ&&v&&(this._differ=this._differs.find(v).create())}ngDoCheck(){if(this._differ){const v=this._differ.diff(this._ngStyle);v&&this._applyChanges(v)}}_setStyle(v,M){const[D,I]=v.split("."),x=-1===D.indexOf("-")?void 0:_a.DashCase;null!=M?this._renderer.setStyle(this._ngEl.nativeElement,D,I?`${M}${I}`:M,x):this._renderer.removeStyle(this._ngEl.nativeElement,D,x)}_applyChanges(v){v.forEachRemovedItem(M=>this._setStyle(M.key,null)),v.forEachAddedItem(M=>this._setStyle(M.key,M.currentValue)),v.forEachChangedItem(M=>this._setStyle(M.key,M.currentValue))}}return g.\u0275fac=function(v){return new(v||g)(pn(As),pn(gm),pn(ba))},g.\u0275dir=Tr({type:g,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),g})(),kc=(()=>{class g{constructor(v){this._viewContainerRef=v,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(v){if(v.ngTemplateOutlet||v.ngTemplateOutletInjector){const M=this._viewContainerRef;if(this._viewRef&&M.remove(M.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:D,ngTemplateOutletContext:I,ngTemplateOutletInjector:x}=this;this._viewRef=M.createEmbeddedView(D,I,x?{injector:x}:void 0)}else this._viewRef=null}else this._viewRef&&v.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return g.\u0275fac=function(v){return new(v||g)(pn(nl))},g.\u0275dir=Tr({type:g,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Cr]}),g})(),Oo=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({}),g})();const xO="browser";let t9=(()=>{class g{}return g.\u0275prov=lr({token:g,providedIn:"root",factory:()=>new n9(dr(Io),window)}),g})();class n9{constructor(C,v){this.document=C,this.window=v,this.offset=()=>[0,0]}setOffset(C){this.offset=Array.isArray(C)?()=>C:C}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(C){this.supportsScrolling()&&this.window.scrollTo(C[0],C[1])}scrollToAnchor(C){if(!this.supportsScrolling())return;const v=function r9(g,C){const v=g.getElementById(C)||g.getElementsByName(C)[0];if(v)return v;if("function"==typeof g.createTreeWalker&&g.body&&(g.body.createShadowRoot||g.body.attachShadow)){const M=g.createTreeWalker(g.body,NodeFilter.SHOW_ELEMENT);let D=M.currentNode;for(;D;){const I=D.shadowRoot;if(I){const x=I.getElementById(C)||I.querySelector(`[name="${C}"]`);if(x)return x}D=M.nextNode()}}return null}(this.document,C);v&&(this.scrollToElement(v),v.focus())}setHistoryScrollRestoration(C){if(this.supportScrollRestoration()){const v=this.window.history;v&&v.scrollRestoration&&(v.scrollRestoration=C)}}scrollToElement(C){const v=C.getBoundingClientRect(),M=v.left+this.window.pageXOffset,D=v.top+this.window.pageYOffset,I=this.offset();this.window.scrollTo(M-I[0],D-I[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const C=RO(this.window.history)||RO(Object.getPrototypeOf(this.window.history));return!(!C||!C.writable&&!C.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function RO(g){return Object.getOwnPropertyDescriptor(g,"scrollRestoration")}class A9 extends A4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ib extends A9{static makeCurrent(){!function O4(g){jE||(jE=g)}(new ib)}onAndCancel(C,v,M){return C.addEventListener(v,M,!1),()=>{C.removeEventListener(v,M,!1)}}dispatchEvent(C,v){C.dispatchEvent(v)}remove(C){C.parentNode&&C.parentNode.removeChild(C)}createElement(C,v){return(v=v||this.getDefaultDocument()).createElement(C)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(C){return C.nodeType===Node.ELEMENT_NODE}isShadowRoot(C){return C instanceof DocumentFragment}getGlobalEventTarget(C,v){return"window"===v?window:"document"===v?C:"body"===v?C.body:null}getBaseHref(C){const v=function x9(){return bm=bm||document.querySelector("base"),bm?bm.getAttribute("href"):null}();return null==v?null:function R9(g){ly=ly||document.createElement("a"),ly.setAttribute("href",g);const C=ly.pathname;return"/"===C.charAt(0)?C:`/${C}`}(v)}resetBaseElement(){bm=null}getUserAgent(){return window.navigator.userAgent}getCookie(C){return function bB(g,C){C=encodeURIComponent(C);for(const v of g.split(";")){const M=v.indexOf("="),[D,I]=-1==M?[v,""]:[v.slice(0,M),v.slice(M+1)];if(D.trim()===C)return decodeURIComponent(I)}return null}(document.cookie,C)}}let ly,bm=null;const UO=new Or("TRANSITION_ID"),F9=[{provide:$g,useFactory:function L9(g,C,v){return()=>{v.get(Zg).donePromise.then(()=>{const M=rc(),D=C.querySelectorAll(`style[ng-transition="${g}"]`);for(let I=0;I<D.length;I++)M.remove(D[I])})}},deps:[UO,Io,La],multi:!0}];let j9=(()=>{class g{build(){return new XMLHttpRequest}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();const cy=new Or("EventManagerPlugins");let uy=(()=>{class g{constructor(v,M){this._zone=M,this._eventNameToPlugin=new Map,v.forEach(D=>D.manager=this),this._plugins=v.slice().reverse()}addEventListener(v,M,D){return this._findPluginFor(M).addEventListener(v,M,D)}addGlobalEventListener(v,M,D){return this._findPluginFor(M).addGlobalEventListener(v,M,D)}getZone(){return this._zone}_findPluginFor(v){const M=this._eventNameToPlugin.get(v);if(M)return M;const D=this._plugins;for(let I=0;I<D.length;I++){const x=D[I];if(x.supports(v))return this._eventNameToPlugin.set(v,x),x}throw new Error(`No event manager plugin found for event ${v}`)}}return g.\u0275fac=function(v){return new(v||g)(dr(cy),dr(Ri))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();class BO{constructor(C){this._doc=C}addGlobalEventListener(C,v,M){const D=rc().getGlobalEventTarget(this._doc,C);if(!D)throw new Error(`Unsupported event target ${D} for event ${v}`);return this.addEventListener(D,v,M)}}let VO=(()=>{class g{constructor(){this._stylesSet=new Set}addStyles(v){const M=new Set;v.forEach(D=>{this._stylesSet.has(D)||(this._stylesSet.add(D),M.add(D))}),this.onStylesAdded(M)}onStylesAdded(v){}getAllStyles(){return Array.from(this._stylesSet)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),Cm=(()=>{class g extends VO{constructor(v){super(),this._doc=v,this._hostNodes=new Map,this._hostNodes.set(v.head,[])}_addStylesToHost(v,M,D){v.forEach(I=>{const x=this._doc.createElement("style");x.textContent=I,D.push(M.appendChild(x))})}addHost(v){const M=[];this._addStylesToHost(this._stylesSet,v,M),this._hostNodes.set(v,M)}removeHost(v){const M=this._hostNodes.get(v);M&&M.forEach(WO),this._hostNodes.delete(v)}onStylesAdded(v){this._hostNodes.forEach((M,D)=>{this._addStylesToHost(v,D,M)})}ngOnDestroy(){this._hostNodes.forEach(v=>v.forEach(WO))}}return g.\u0275fac=function(v){return new(v||g)(dr(Io))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();function WO(g){rc().remove(g)}const sb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ab=/%COMP%/g;function lb(g,C){return C.flat(100).map(v=>v.replace(ab,g))}function $O(g){return C=>{if("__ngUnwrap__"===C)return g;!1===g(C)&&(C.preventDefault(),C.returnValue=!1)}}let dy=(()=>{class g{constructor(v,M,D){this.eventManager=v,this.sharedStylesHost=M,this.appId=D,this.rendererByCompId=new Map,this.defaultRenderer=new cb(v)}createRenderer(v,M){if(!v||!M)return this.defaultRenderer;switch(M.encapsulation){case ea.Emulated:{let D=this.rendererByCompId.get(M.id);return D||(D=new z9(this.eventManager,this.sharedStylesHost,M,this.appId),this.rendererByCompId.set(M.id,D)),D.applyToHost(v),D}case ea.ShadowDom:return new $9(this.eventManager,this.sharedStylesHost,v,M);default:if(!this.rendererByCompId.has(M.id)){const D=lb(M.id,M.styles);this.sharedStylesHost.addStyles(D),this.rendererByCompId.set(M.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return g.\u0275fac=function(v){return new(v||g)(dr(uy),dr(Cm),dr(mm))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();class cb{constructor(C){this.eventManager=C,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(C,v){return v?document.createElementNS(sb[v]||v,C):document.createElement(C)}createComment(C){return document.createComment(C)}createText(C){return document.createTextNode(C)}appendChild(C,v){(GO(C)?C.content:C).appendChild(v)}insertBefore(C,v,M){C&&(GO(C)?C.content:C).insertBefore(v,M)}removeChild(C,v){C&&C.removeChild(v)}selectRootElement(C,v){let M="string"==typeof C?document.querySelector(C):C;if(!M)throw new Error(`The selector "${C}" did not match any elements`);return v||(M.textContent=""),M}parentNode(C){return C.parentNode}nextSibling(C){return C.nextSibling}setAttribute(C,v,M,D){if(D){v=D+":"+v;const I=sb[D];I?C.setAttributeNS(I,v,M):C.setAttribute(v,M)}else C.setAttribute(v,M)}removeAttribute(C,v,M){if(M){const D=sb[M];D?C.removeAttributeNS(D,v):C.removeAttribute(`${M}:${v}`)}else C.removeAttribute(v)}addClass(C,v){C.classList.add(v)}removeClass(C,v){C.classList.remove(v)}setStyle(C,v,M,D){D&(_a.DashCase|_a.Important)?C.style.setProperty(v,M,D&_a.Important?"important":""):C.style[v]=M}removeStyle(C,v,M){M&_a.DashCase?C.style.removeProperty(v):C.style[v]=""}setProperty(C,v,M){C[v]=M}setValue(C,v){C.nodeValue=v}listen(C,v,M){return"string"==typeof C?this.eventManager.addGlobalEventListener(C,v,$O(M)):this.eventManager.addEventListener(C,v,$O(M))}}function GO(g){return"TEMPLATE"===g.tagName&&void 0!==g.content}class z9 extends cb{constructor(C,v,M,D){super(C),this.component=M;const I=lb(D+"-"+M.id,M.styles);v.addStyles(I),this.contentAttr=function V9(g){return"_ngcontent-%COMP%".replace(ab,g)}(D+"-"+M.id),this.hostAttr=function W9(g){return"_nghost-%COMP%".replace(ab,g)}(D+"-"+M.id)}applyToHost(C){super.setAttribute(C,this.hostAttr,"")}createElement(C,v){const M=super.createElement(C,v);return super.setAttribute(M,this.contentAttr,""),M}}class $9 extends cb{constructor(C,v,M,D){super(C),this.sharedStylesHost=v,this.hostEl=M,this.shadowRoot=M.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=lb(D.id,D.styles);for(let x=0;x<I.length;x++){const X=document.createElement("style");X.textContent=I[x],this.shadowRoot.appendChild(X)}}nodeOrShadowRoot(C){return C===this.hostEl?this.shadowRoot:C}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(C,v){return super.appendChild(this.nodeOrShadowRoot(C),v)}insertBefore(C,v,M){return super.insertBefore(this.nodeOrShadowRoot(C),v,M)}removeChild(C,v){return super.removeChild(this.nodeOrShadowRoot(C),v)}parentNode(C){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(C)))}}let Z9=(()=>{class g extends BO{constructor(v){super(v)}supports(v){return!0}addEventListener(v,M,D){return v.addEventListener(M,D,!1),()=>this.removeEventListener(v,M,D)}removeEventListener(v,M,D){return v.removeEventListener(M,D)}}return g.\u0275fac=function(v){return new(v||g)(dr(Io))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();const KO=["alt","control","meta","shift"],G9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K9={alt:g=>g.altKey,control:g=>g.ctrlKey,meta:g=>g.metaKey,shift:g=>g.shiftKey};let H9=(()=>{class g extends BO{constructor(v){super(v)}supports(v){return null!=g.parseEventName(v)}addEventListener(v,M,D){const I=g.parseEventName(M),x=g.eventCallback(I.fullKey,D,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rc().onAndCancel(v,I.domEventName,x))}static parseEventName(v){const M=v.toLowerCase().split("."),D=M.shift();if(0===M.length||"keydown"!==D&&"keyup"!==D)return null;const I=g._normalizeKey(M.pop());let x="",X=M.indexOf("code");if(X>-1&&(M.splice(X,1),x="code."),KO.forEach(Se=>{const Ae=M.indexOf(Se);Ae>-1&&(M.splice(Ae,1),x+=Se+".")}),x+=I,0!=M.length||0===I.length)return null;const he={};return he.domEventName=D,he.fullKey=x,he}static matchEventFullKeyCode(v,M){let D=G9[v.key]||v.key,I="";return M.indexOf("code.")>-1&&(D=v.code,I="code."),!(null==D||!D)&&(D=D.toLowerCase()," "===D?D="space":"."===D&&(D="dot"),KO.forEach(x=>{x!==D&&(0,K9[x])(v)&&(I+=x+".")}),I+=D,I===M)}static eventCallback(v,M,D){return I=>{g.matchEventFullKeyCode(I,v)&&D.runGuarded(()=>M(I))}}static _normalizeKey(v){return"esc"===v?"escape":v}}return g.\u0275fac=function(v){return new(v||g)(dr(Io))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();const YO=[{provide:Gg,useValue:xO},{provide:NI,useValue:function Y9(){ib.makeCurrent()},multi:!0},{provide:Io,useFactory:function Q9(){return function V5(g){p1=g}(document),document},deps:[]}],X9=HI(D4,"browser",YO),JO=new Or(""),QO=[{provide:Kg,useClass:class N9{addToWindow(C){Vn.getAngularTestability=(M,D=!0)=>{const I=C.findTestabilityInTree(M,D);if(null==I)throw new Error("Could not find testability for element.");return I},Vn.getAllAngularTestabilities=()=>C.getAllTestabilities(),Vn.getAllAngularRootElements=()=>C.getAllRootElements(),Vn.frameworkStabilizers||(Vn.frameworkStabilizers=[]),Vn.frameworkStabilizers.push(M=>{const D=Vn.getAllAngularTestabilities();let I=D.length,x=!1;const X=function(he){x=x||he,I--,0==I&&M(x)};D.forEach(function(he){he.whenStable(X)})})}findTestabilityInTree(C,v,M){return null==v?null:C.getTestability(v)??(M?rc().isShadowRoot(v)?this.findTestabilityInTree(C,v.host,!0):this.findTestabilityInTree(C,v.parentElement,!0):null)}},deps:[]},{provide:$I,useClass:wE,deps:[Ri,IE,Kg]},{provide:wE,useClass:wE,deps:[Ri,IE,Kg]}],XO=[{provide:C1,useValue:"root"},{provide:Nd,useFactory:function J9(){return new Nd},deps:[]},{provide:cy,useClass:Z9,multi:!0,deps:[Io,Ri,Gg]},{provide:cy,useClass:H9,multi:!0,deps:[Io]},{provide:dy,useClass:dy,deps:[uy,Cm,mm]},{provide:Qf,useExisting:dy},{provide:VO,useExisting:Cm},{provide:Cm,useClass:Cm,deps:[Io]},{provide:uy,useClass:uy,deps:[cy,Ri]},{provide:class i9{},useClass:j9,deps:[]},[]];let qO=(()=>{class g{constructor(v){}static withServerTransition(v){return{ngModule:g,providers:[{provide:mm,useValue:v.appId},{provide:UO,useExisting:mm},F9]}}}return g.\u0275fac=function(v){return new(v||g)(dr(JO,12))},g.\u0275mod=li({type:g}),g.\u0275inj=hn({providers:[...XO,...QO],imports:[Oo,w4]}),g})(),eA=(()=>{class g{constructor(v){this._doc=v}getTitle(){return this._doc.title}setTitle(v){this._doc.title=v||""}}return g.\u0275fac=function(v){return new(v||g)(dr(Io))},g.\u0275prov=lr({token:g,factory:function(v){let M=null;return M=v?new v:function e7(){return new eA(dr(Io))}(),M},providedIn:"root"}),g})();typeof window<"u"&&window;class rA{}class l7{}const zc="*";function Mm(g,C){return{type:7,name:g,definitions:C,options:{}}}function Wu(g,C=null){return{type:4,styles:C,timings:g}}function iA(g,C=null){return{type:2,steps:g,options:C}}function Ua(g){return{type:6,styles:g,offset:null}}function c7(g,C,v){return{type:0,name:g,styles:C,options:v}}function $c(g,C,v=null){return{type:1,expr:g,animation:C,options:v}}function bp(g,C=null){return{type:8,animation:g,options:C}}function u7(g=null){return{type:9,options:g}}function Cp(g,C=null){return{type:10,animation:g,options:C}}function d7(g,C,v=null){return{type:11,selector:g,animation:C,options:v}}function sA(g){Promise.resolve().then(g)}class Sm{constructor(C=0,v=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=C+v}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}onStart(C){this._originalOnStartFns.push(C),this._onStartFns.push(C)}onDone(C){this._originalOnDoneFns.push(C),this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(C=>C()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(C){this._position=this.totalTime?C*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(C){const v="start"==C?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class oA{constructor(C){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=C;let v=0,M=0,D=0;const I=this.players.length;0==I?sA(()=>this._onFinish()):this.players.forEach(x=>{x.onDone(()=>{++v==I&&this._onFinish()}),x.onDestroy(()=>{++M==I&&this._onDestroy()}),x.onStart(()=>{++D==I&&this._onStart()})}),this.totalTime=this.players.reduce((x,X)=>Math.max(x,X.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this.players.forEach(C=>C.init())}onStart(C){this._onStartFns.push(C)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(C=>C()),this._onStartFns=[])}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(C=>C.play())}pause(){this.players.forEach(C=>C.pause())}restart(){this.players.forEach(C=>C.restart())}finish(){this._onFinish(),this.players.forEach(C=>C.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(C=>C.destroy()),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}reset(){this.players.forEach(C=>C.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(C){const v=C*this.totalTime;this.players.forEach(M=>{const D=M.totalTime?Math.min(1,v/M.totalTime):1;M.setPosition(D)})}getPosition(){const C=this.players.reduce((v,M)=>null===v||M.totalTime>v.totalTime?M:v,null);return null!=C?C.getPosition():0}beforeDestroy(){this.players.forEach(C=>{C.beforeDestroy&&C.beforeDestroy()})}triggerCallback(C){const v="start"==C?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}function aA(g){return new dt(3e3,!1)}function G7(){return typeof window<"u"&&typeof window.document<"u"}function pb(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ku(g){switch(g.length){case 0:return new Sm;case 1:return g[0];default:return new oA(g)}}function lA(g,C,v,M,D=new Map,I=new Map){const x=[],X=[];let he=-1,Se=null;if(M.forEach(Ae=>{const Ve=Ae.get("offset"),qe=Ve==he,rt=qe&&Se||new Map;Ae.forEach((gt,Ot)=>{let Ut=Ot,qt=gt;if("offset"!==Ot)switch(Ut=C.normalizePropertyName(Ut,x),qt){case"!":qt=D.get(Ot);break;case zc:qt=I.get(Ot);break;default:qt=C.normalizeStyleValue(Ot,Ut,qt,x)}rt.set(Ut,qt)}),qe||X.push(rt),Se=rt,he=Ve}),x.length)throw function L7(g){return new dt(3502,!1)}();return X}function fb(g,C,v,M){switch(C){case"start":g.onStart(()=>M(v&&mb(v,"start",g)));break;case"done":g.onDone(()=>M(v&&mb(v,"done",g)));break;case"destroy":g.onDestroy(()=>M(v&&mb(v,"destroy",g)))}}function mb(g,C,v){const I=gb(g.element,g.triggerName,g.fromState,g.toState,C||g.phaseName,v.totalTime??g.totalTime,!!v.disabled),x=g._data;return null!=x&&(I._data=x),I}function gb(g,C,v,M,D="",I=0,x){return{element:g,triggerName:C,fromState:v,toState:M,phaseName:D,totalTime:I,disabled:!!x}}function Ba(g,C,v){let M=g.get(C);return M||g.set(C,M=v),M}function cA(g){const C=g.indexOf(":");return[g.substring(1,C),g.slice(C+1)]}let yb=(g,C)=>!1,uA=(g,C,v)=>[],dA=null;function vb(g){const C=g.parentNode||g.host;return C===dA?null:C}(pb()||typeof Element<"u")&&(G7()?(dA=(()=>document.documentElement)(),yb=(g,C)=>{for(;C;){if(C===g)return!0;C=vb(C)}return!1}):yb=(g,C)=>g.contains(C),uA=(g,C,v)=>{if(v)return Array.from(g.querySelectorAll(C));const M=g.querySelector(C);return M?[M]:[]});let zd=null,hA=!1;const pA=yb,fA=uA;let mA=(()=>{class g{validateStyleProperty(v){return function H7(g){zd||(zd=function Y7(){return typeof document<"u"?document.body:null}()||{},hA=!!zd.style&&"WebkitAppearance"in zd.style);let C=!0;return zd.style&&!function K7(g){return"ebkit"==g.substring(1,6)}(g)&&(C=g in zd.style,!C&&hA&&(C="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in zd.style)),C}(v)}matchesElement(v,M){return!1}containsElement(v,M){return pA(v,M)}getParentElement(v){return vb(v)}query(v,M,D){return fA(v,M,D)}computeStyle(v,M,D){return D||""}animate(v,M,D,I,x,X=[],he){return new Sm(D,I)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),_b=(()=>{class g{}return g.NOOP=new mA,g})();const Eb="ng-enter",hy="ng-leave",py="ng-trigger",fy=".ng-trigger",yA="ng-animating",bb=".ng-animating";function Zc(g){if("number"==typeof g)return g;const C=g.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:Cb(parseFloat(C[1]),C[2])}function Cb(g,C){return"s"===C?1e3*g:g}function my(g,C,v){return g.hasOwnProperty("duration")?g:function X7(g,C,v){let D,I=0,x="";if("string"==typeof g){const X=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===X)return C.push(aA()),{duration:0,delay:0,easing:""};D=Cb(parseFloat(X[1]),X[2]);const he=X[3];null!=he&&(I=Cb(parseFloat(he),X[4]));const Se=X[5];Se&&(x=Se)}else D=g;if(!v){let X=!1,he=C.length;D<0&&(C.push(function h7(){return new dt(3100,!1)}()),X=!0),I<0&&(C.push(function p7(){return new dt(3101,!1)}()),X=!0),X&&C.splice(he,0,aA())}return{duration:D,delay:I,easing:x}}(g,C,v)}function Tm(g,C={}){return Object.keys(g).forEach(v=>{C[v]=g[v]}),C}function vA(g){const C=new Map;return Object.keys(g).forEach(v=>{C.set(v,g[v])}),C}function zu(g,C=new Map,v){if(v)for(let[M,D]of v)C.set(M,D);for(let[M,D]of g)C.set(M,D);return C}function EA(g,C,v){return v?C+":"+v+";":""}function bA(g){let C="";for(let v=0;v<g.style.length;v++){const M=g.style.item(v);C+=EA(0,M,g.style.getPropertyValue(M))}for(const v in g.style)g.style.hasOwnProperty(v)&&!v.startsWith("_")&&(C+=EA(0,nV(v),g.style[v]));g.setAttribute("style",C)}function ic(g,C,v){g.style&&(C.forEach((M,D)=>{const I=Sb(D);v&&!v.has(D)&&v.set(D,g.style[I]),g.style[I]=M}),pb()&&bA(g))}function $d(g,C){g.style&&(C.forEach((v,M)=>{const D=Sb(M);g.style[D]=""}),pb()&&bA(g))}function Pm(g){return Array.isArray(g)?1==g.length?g[0]:iA(g):g}const Mb=new RegExp("{{\\s*(.+?)\\s*}}","g");function CA(g){let C=[];if("string"==typeof g){let v;for(;v=Mb.exec(g);)C.push(v[1]);Mb.lastIndex=0}return C}function Dm(g,C,v){const M=g.toString(),D=M.replace(Mb,(I,x)=>{let X=C[x];return null==X&&(v.push(function m7(g){return new dt(3003,!1)}()),X=""),X.toString()});return D==M?g:D}function gy(g){const C=[];let v=g.next();for(;!v.done;)C.push(v.value),v=g.next();return C}const tV=/-+([a-z0-9])/g;function Sb(g){return g.replace(tV,(...C)=>C[1].toUpperCase())}function nV(g){return g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Va(g,C,v){switch(C.type){case 7:return g.visitTrigger(C,v);case 0:return g.visitState(C,v);case 1:return g.visitTransition(C,v);case 2:return g.visitSequence(C,v);case 3:return g.visitGroup(C,v);case 4:return g.visitAnimate(C,v);case 5:return g.visitKeyframes(C,v);case 6:return g.visitStyle(C,v);case 8:return g.visitReference(C,v);case 9:return g.visitAnimateChild(C,v);case 10:return g.visitAnimateRef(C,v);case 11:return g.visitQuery(C,v);case 12:return g.visitStagger(C,v);default:throw function g7(g){return new dt(3004,!1)}()}}function MA(g,C){return window.getComputedStyle(g)[C]}function lV(g,C){const v=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(M=>function cV(g,C,v){if(":"==g[0]){const he=function uV(g,C){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,M)=>parseFloat(M)>parseFloat(v);case":decrement":return(v,M)=>parseFloat(M)<parseFloat(v);default:return C.push(function O7(g){return new dt(3016,!1)}()),"* => *"}}(g,v);if("function"==typeof he)return void C.push(he);g=he}const M=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return v.push(function I7(g){return new dt(3015,!1)}()),C;const D=M[1],I=M[2],x=M[3];C.push(SA(D,x));"<"==I[0]&&!("*"==D&&"*"==x)&&C.push(SA(x,D))}(M,v,C)):v.push(g),v}const Ey=new Set(["true","1"]),by=new Set(["false","0"]);function SA(g,C){const v=Ey.has(g)||by.has(g),M=Ey.has(C)||by.has(C);return(D,I)=>{let x="*"==g||g==D,X="*"==C||C==I;return!x&&v&&"boolean"==typeof D&&(x=D?Ey.has(g):by.has(g)),!X&&M&&"boolean"==typeof I&&(X=I?Ey.has(C):by.has(C)),x&&X}}const dV=new RegExp("s*:selfs*,?","g");function Tb(g,C,v,M){return new hV(g).build(C,v,M)}class hV{constructor(C){this._driver=C}build(C,v,M){const D=new mV(v);return this._resetContextStyleTimingState(D),Va(this,Pm(C),D)}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles=new Map,C.collectedStyles.set("",new Map),C.currentTime=0}visitTrigger(C,v){let M=v.queryCount=0,D=v.depCount=0;const I=[],x=[];return"@"==C.name.charAt(0)&&v.errors.push(function v7(){return new dt(3006,!1)}()),C.definitions.forEach(X=>{if(this._resetContextStyleTimingState(v),0==X.type){const he=X,Se=he.name;Se.toString().split(/\s*,\s*/).forEach(Ae=>{he.name=Ae,I.push(this.visitState(he,v))}),he.name=Se}else if(1==X.type){const he=this.visitTransition(X,v);M+=he.queryCount,D+=he.depCount,x.push(he)}else v.errors.push(function _7(){return new dt(3007,!1)}())}),{type:7,name:C.name,states:I,transitions:x,queryCount:M,depCount:D,options:null}}visitState(C,v){const M=this.visitStyle(C.styles,v),D=C.options&&C.options.params||null;if(M.containsDynamicStyles){const I=new Set,x=D||{};M.styles.forEach(X=>{X instanceof Map&&X.forEach(he=>{CA(he).forEach(Se=>{x.hasOwnProperty(Se)||I.add(Se)})})}),I.size&&(gy(I.values()),v.errors.push(function E7(g,C){return new dt(3008,!1)}()))}return{type:0,name:C.name,style:M,options:D?{params:D}:null}}visitTransition(C,v){v.queryCount=0,v.depCount=0;const M=Va(this,Pm(C.animation),v);return{type:1,matchers:lV(C.expr,v.errors),animation:M,queryCount:v.queryCount,depCount:v.depCount,options:Zd(C.options)}}visitSequence(C,v){return{type:2,steps:C.steps.map(M=>Va(this,M,v)),options:Zd(C.options)}}visitGroup(C,v){const M=v.currentTime;let D=0;const I=C.steps.map(x=>{v.currentTime=M;const X=Va(this,x,v);return D=Math.max(D,v.currentTime),X});return v.currentTime=D,{type:3,steps:I,options:Zd(C.options)}}visitAnimate(C,v){const M=function yV(g,C){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return Pb(my(g,C).duration,0,"");const v=g;if(v.split(/\s+/).some(I=>"{"==I.charAt(0)&&"{"==I.charAt(1))){const I=Pb(0,0,"");return I.dynamic=!0,I.strValue=v,I}const D=my(v,C);return Pb(D.duration,D.delay,D.easing)}(C.timings,v.errors);v.currentAnimateTimings=M;let D,I=C.styles?C.styles:Ua({});if(5==I.type)D=this.visitKeyframes(I,v);else{let x=C.styles,X=!1;if(!x){X=!0;const Se={};M.easing&&(Se.easing=M.easing),x=Ua(Se)}v.currentTime+=M.duration+M.delay;const he=this.visitStyle(x,v);he.isEmptyStep=X,D=he}return v.currentAnimateTimings=null,{type:4,timings:M,style:D,options:null}}visitStyle(C,v){const M=this._makeStyleAst(C,v);return this._validateStyleAst(M,v),M}_makeStyleAst(C,v){const M=[],D=Array.isArray(C.styles)?C.styles:[C.styles];for(let X of D)"string"==typeof X?X===zc?M.push(X):v.errors.push(new dt(3002,!1)):M.push(vA(X));let I=!1,x=null;return M.forEach(X=>{if(X instanceof Map&&(X.has("easing")&&(x=X.get("easing"),X.delete("easing")),!I))for(let he of X.values())if(he.toString().indexOf("{{")>=0){I=!0;break}}),{type:6,styles:M,easing:x,offset:C.offset,containsDynamicStyles:I,options:null}}_validateStyleAst(C,v){const M=v.currentAnimateTimings;let D=v.currentTime,I=v.currentTime;M&&I>0&&(I-=M.duration+M.delay),C.styles.forEach(x=>{"string"!=typeof x&&x.forEach((X,he)=>{const Se=v.collectedStyles.get(v.currentQuerySelector),Ae=Se.get(he);let Ve=!0;Ae&&(I!=D&&I>=Ae.startTime&&D<=Ae.endTime&&(v.errors.push(function C7(g,C,v,M,D){return new dt(3010,!1)}()),Ve=!1),I=Ae.startTime),Ve&&Se.set(he,{startTime:I,endTime:D}),v.options&&function eV(g,C,v){const M=C.params||{},D=CA(g);D.length&&D.forEach(I=>{M.hasOwnProperty(I)||v.push(function f7(g){return new dt(3001,!1)}())})}(X,v.options,v.errors)})})}visitKeyframes(C,v){const M={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function M7(){return new dt(3011,!1)}()),M;let I=0;const x=[];let X=!1,he=!1,Se=0;const Ae=C.steps.map(qt=>{const _n=this._makeStyleAst(qt,v);let tn=null!=_n.offset?_n.offset:function gV(g){if("string"==typeof g)return null;let C=null;if(Array.isArray(g))g.forEach(v=>{if(v instanceof Map&&v.has("offset")){const M=v;C=parseFloat(M.get("offset")),M.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const v=g;C=parseFloat(v.get("offset")),v.delete("offset")}return C}(_n.styles),Gn=0;return null!=tn&&(I++,Gn=_n.offset=tn),he=he||Gn<0||Gn>1,X=X||Gn<Se,Se=Gn,x.push(Gn),_n});he&&v.errors.push(function S7(){return new dt(3012,!1)}()),X&&v.errors.push(function T7(){return new dt(3200,!1)}());const Ve=C.steps.length;let qe=0;I>0&&I<Ve?v.errors.push(function P7(){return new dt(3202,!1)}()):0==I&&(qe=1/(Ve-1));const rt=Ve-1,gt=v.currentTime,Ot=v.currentAnimateTimings,Ut=Ot.duration;return Ae.forEach((qt,_n)=>{const tn=qe>0?_n==rt?1:qe*_n:x[_n],Gn=tn*Ut;v.currentTime=gt+Ot.delay+Gn,Ot.duration=Gn,this._validateStyleAst(qt,v),qt.offset=tn,M.styles.push(qt)}),M}visitReference(C,v){return{type:8,animation:Va(this,Pm(C.animation),v),options:Zd(C.options)}}visitAnimateChild(C,v){return v.depCount++,{type:9,options:Zd(C.options)}}visitAnimateRef(C,v){return{type:10,animation:this.visitReference(C.animation,v),options:Zd(C.options)}}visitQuery(C,v){const M=v.currentQuerySelector,D=C.options||{};v.queryCount++,v.currentQuery=C;const[I,x]=function pV(g){const C=!!g.split(/\s*,\s*/).find(v=>":self"==v);return C&&(g=g.replace(dV,"")),g=g.replace(/@\*/g,fy).replace(/@\w+/g,v=>fy+"-"+v.slice(1)).replace(/:animating/g,bb),[g,C]}(C.selector);v.currentQuerySelector=M.length?M+" "+I:I,Ba(v.collectedStyles,v.currentQuerySelector,new Map);const X=Va(this,Pm(C.animation),v);return v.currentQuery=null,v.currentQuerySelector=M,{type:11,selector:I,limit:D.limit||0,optional:!!D.optional,includeSelf:x,animation:X,originalSelector:C.selector,options:Zd(C.options)}}visitStagger(C,v){v.currentQuery||v.errors.push(function D7(){return new dt(3013,!1)}());const M="full"===C.timings?{duration:0,delay:0,easing:"full"}:my(C.timings,v.errors,!0);return{type:12,animation:Va(this,Pm(C.animation),v),timings:M,options:null}}}class mV{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zd(g){return g?(g=Tm(g)).params&&(g.params=function fV(g){return g?Tm(g):null}(g.params)):g={},g}function Pb(g,C,v){return{duration:g,delay:C,easing:v}}function Db(g,C,v,M,D,I,x=null,X=!1){return{type:1,element:g,keyframes:C,preStyleProps:v,postStyleProps:M,duration:D,delay:I,totalTime:D+I,easing:x,subTimeline:X}}class Cy{constructor(){this._map=new Map}get(C){return this._map.get(C)||[]}append(C,v){let M=this._map.get(C);M||this._map.set(C,M=[]),M.push(...v)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const EV=new RegExp(":enter","g"),CV=new RegExp(":leave","g");function wb(g,C,v,M,D,I=new Map,x=new Map,X,he,Se=[]){return(new MV).buildKeyframes(g,C,v,M,D,I,x,X,he,Se)}class MV{buildKeyframes(C,v,M,D,I,x,X,he,Se,Ae=[]){Se=Se||new Cy;const Ve=new Ib(C,v,Se,D,I,Ae,[]);Ve.options=he;const qe=he.delay?Zc(he.delay):0;Ve.currentTimeline.delayNextStep(qe),Ve.currentTimeline.setStyles([x],null,Ve.errors,he),Va(this,M,Ve);const rt=Ve.timelines.filter(gt=>gt.containsAnimation());if(rt.length&&X.size){let gt;for(let Ot=rt.length-1;Ot>=0;Ot--){const Ut=rt[Ot];if(Ut.element===v){gt=Ut;break}}gt&&!gt.allowOnlyTimelineStyles()&&gt.setStyles([X],null,Ve.errors,he)}return rt.length?rt.map(gt=>gt.buildKeyframes()):[Db(v,[],[],[],0,qe,"",!1)]}visitTrigger(C,v){}visitState(C,v){}visitTransition(C,v){}visitAnimateChild(C,v){const M=v.subInstructions.get(v.element);if(M){const D=v.createSubContext(C.options),I=v.currentTimeline.currentTime,x=this._visitSubInstructions(M,D,D.options);I!=x&&v.transformIntoNewTimeline(x)}v.previousNode=C}visitAnimateRef(C,v){const M=v.createSubContext(C.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([C.options,C.animation.options],v,M),this.visitReference(C.animation,M),v.transformIntoNewTimeline(M.currentTimeline.currentTime),v.previousNode=C}_applyAnimationRefDelays(C,v,M){for(const D of C){const I=D?.delay;if(I){const x="number"==typeof I?I:Zc(Dm(I,D?.params??{},v.errors));M.delayNextStep(x)}}}_visitSubInstructions(C,v,M){let I=v.currentTimeline.currentTime;const x=null!=M.duration?Zc(M.duration):null,X=null!=M.delay?Zc(M.delay):null;return 0!==x&&C.forEach(he=>{const Se=v.appendInstructionToTimeline(he,x,X);I=Math.max(I,Se.duration+Se.delay)}),I}visitReference(C,v){v.updateOptions(C.options,!0),Va(this,C.animation,v),v.previousNode=C}visitSequence(C,v){const M=v.subContextCount;let D=v;const I=C.options;if(I&&(I.params||I.delay)&&(D=v.createSubContext(I),D.transformIntoNewTimeline(),null!=I.delay)){6==D.previousNode.type&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=My);const x=Zc(I.delay);D.delayNextStep(x)}C.steps.length&&(C.steps.forEach(x=>Va(this,x,D)),D.currentTimeline.applyStylesToKeyframe(),D.subContextCount>M&&D.transformIntoNewTimeline()),v.previousNode=C}visitGroup(C,v){const M=[];let D=v.currentTimeline.currentTime;const I=C.options&&C.options.delay?Zc(C.options.delay):0;C.steps.forEach(x=>{const X=v.createSubContext(C.options);I&&X.delayNextStep(I),Va(this,x,X),D=Math.max(D,X.currentTimeline.currentTime),M.push(X.currentTimeline)}),M.forEach(x=>v.currentTimeline.mergeTimelineCollectedStyles(x)),v.transformIntoNewTimeline(D),v.previousNode=C}_visitTiming(C,v){if(C.dynamic){const M=C.strValue;return my(v.params?Dm(M,v.params,v.errors):M,v.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,v){const M=v.currentAnimateTimings=this._visitTiming(C.timings,v),D=v.currentTimeline;M.delay&&(v.incrementTime(M.delay),D.snapshotCurrentStyles());const I=C.style;5==I.type?this.visitKeyframes(I,v):(v.incrementTime(M.duration),this.visitStyle(I,v),D.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=C}visitStyle(C,v){const M=v.currentTimeline,D=v.currentAnimateTimings;!D&&M.hasCurrentStyleProperties()&&M.forwardFrame();const I=D&&D.easing||C.easing;C.isEmptyStep?M.applyEmptyStep(I):M.setStyles(C.styles,I,v.errors,v.options),v.previousNode=C}visitKeyframes(C,v){const M=v.currentAnimateTimings,D=v.currentTimeline.duration,I=M.duration,X=v.createSubContext().currentTimeline;X.easing=M.easing,C.styles.forEach(he=>{X.forwardTime((he.offset||0)*I),X.setStyles(he.styles,he.easing,v.errors,v.options),X.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(X),v.transformIntoNewTimeline(D+I),v.previousNode=C}visitQuery(C,v){const M=v.currentTimeline.currentTime,D=C.options||{},I=D.delay?Zc(D.delay):0;I&&(6===v.previousNode.type||0==M&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=My);let x=M;const X=v.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!D.optional,v.errors);v.currentQueryTotal=X.length;let he=null;X.forEach((Se,Ae)=>{v.currentQueryIndex=Ae;const Ve=v.createSubContext(C.options,Se);I&&Ve.delayNextStep(I),Se===v.element&&(he=Ve.currentTimeline),Va(this,C.animation,Ve),Ve.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,Ve.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(x),he&&(v.currentTimeline.mergeTimelineCollectedStyles(he),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=C}visitStagger(C,v){const M=v.parentContext,D=v.currentTimeline,I=C.timings,x=Math.abs(I.duration),X=x*(v.currentQueryTotal-1);let he=x*v.currentQueryIndex;switch(I.duration<0?"reverse":I.easing){case"reverse":he=X-he;break;case"full":he=M.currentStaggerTime}const Ae=v.currentTimeline;he&&Ae.delayNextStep(he);const Ve=Ae.currentTime;Va(this,C.animation,v),v.previousNode=C,M.currentStaggerTime=D.currentTime-Ve+(D.startTime-M.currentTimeline.startTime)}}const My={};class Ib{constructor(C,v,M,D,I,x,X,he){this._driver=C,this.element=v,this.subInstructions=M,this._enterClassName=D,this._leaveClassName=I,this.errors=x,this.timelines=X,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=My,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=he||new Sy(this._driver,v,0),X.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,v){if(!C)return;const M=C;let D=this.options;null!=M.duration&&(D.duration=Zc(M.duration)),null!=M.delay&&(D.delay=Zc(M.delay));const I=M.params;if(I){let x=D.params;x||(x=this.options.params={}),Object.keys(I).forEach(X=>{(!v||!x.hasOwnProperty(X))&&(x[X]=Dm(I[X],x,this.errors))})}}_copyOptions(){const C={};if(this.options){const v=this.options.params;if(v){const M=C.params={};Object.keys(v).forEach(D=>{M[D]=v[D]})}}return C}createSubContext(C=null,v,M){const D=v||this.element,I=new Ib(this._driver,D,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(D,M||0));return I.previousNode=this.previousNode,I.currentAnimateTimings=this.currentAnimateTimings,I.options=this._copyOptions(),I.updateOptions(C),I.currentQueryIndex=this.currentQueryIndex,I.currentQueryTotal=this.currentQueryTotal,I.parentContext=this,this.subContextCount++,I}transformIntoNewTimeline(C){return this.previousNode=My,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,v,M){const D={duration:v??C.duration,delay:this.currentTimeline.currentTime+(M??0)+C.delay,easing:""},I=new SV(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,D,C.stretchStartingKeyframe);return this.timelines.push(I),D}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,v,M,D,I,x){let X=[];if(D&&X.push(this.element),C.length>0){C=(C=C.replace(EV,"."+this._enterClassName)).replace(CV,"."+this._leaveClassName);let Se=this._driver.query(this.element,C,1!=M);0!==M&&(Se=M<0?Se.slice(Se.length+M,Se.length):Se.slice(0,M)),X.push(...Se)}return!I&&0==X.length&&x.push(function w7(g){return new dt(3014,!1)}()),X}}class Sy{constructor(C,v,M,D){this._driver=C,this.element=v,this.startTime=M,this._elementTimelineStylesLookup=D,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+C),v&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,v){return this.applyStylesToKeyframe(),new Sy(this._driver,C,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,v){this._localTimelineStyles.set(C,v),this._globalTimelineStyles.set(C,v),this._styleSummary.set(C,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&this._previousKeyframe.set("easing",C);for(let[v,M]of this._globalTimelineStyles)this._backFill.set(v,M||zc),this._currentKeyframe.set(v,zc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,v,M,D){v&&this._previousKeyframe.set("easing",v);const I=D&&D.params||{},x=function TV(g,C){const v=new Map;let M;return g.forEach(D=>{if("*"===D){M=M||C.keys();for(let I of M)v.set(I,zc)}else zu(D,v)}),v}(C,this._globalTimelineStyles);for(let[X,he]of x){const Se=Dm(he,I,M);this._pendingStyles.set(X,Se),this._localTimelineStyles.has(X)||this._backFill.set(X,this._globalTimelineStyles.get(X)??zc),this._updateStyle(X,Se)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((C,v)=>{this._currentKeyframe.set(v,C)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((C,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,C)}))}snapshotCurrentStyles(){for(let[C,v]of this._localTimelineStyles)this._pendingStyles.set(C,v),this._updateStyle(C,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let v in this._currentKeyframe)C.push(v);return C}mergeTimelineCollectedStyles(C){C._styleSummary.forEach((v,M)=>{const D=this._styleSummary.get(M);(!D||v.time>D.time)&&this._updateStyle(M,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,v=new Set,M=1===this._keyframes.size&&0===this.duration;let D=[];this._keyframes.forEach((X,he)=>{const Se=zu(X,new Map,this._backFill);Se.forEach((Ae,Ve)=>{"!"===Ae?C.add(Ve):Ae===zc&&v.add(Ve)}),M||Se.set("offset",he/this.duration),D.push(Se)});const I=C.size?gy(C.values()):[],x=v.size?gy(v.values()):[];if(M){const X=D[0],he=new Map(X);X.set("offset",0),he.set("offset",1),D=[X,he]}return Db(this.element,D,I,x,this.duration,this.startTime,this.easing,!1)}}class SV extends Sy{constructor(C,v,M,D,I,x,X=!1){super(C,v,x.delay),this.keyframes=M,this.preStyleProps=D,this.postStyleProps=I,this._stretchStartingKeyframe=X,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:v,duration:M,easing:D}=this.timings;if(this._stretchStartingKeyframe&&v){const I=[],x=M+v,X=v/x,he=zu(C[0]);he.set("offset",0),I.push(he);const Se=zu(C[0]);Se.set("offset",DA(X)),I.push(Se);const Ae=C.length-1;for(let Ve=1;Ve<=Ae;Ve++){let qe=zu(C[Ve]);const rt=qe.get("offset");qe.set("offset",DA((v+rt*M)/x)),I.push(qe)}M=x,v=0,D="",C=I}return Db(this.element,C,this.preStyleProps,this.postStyleProps,M,v,D,!0)}}function DA(g,C=3){const v=Math.pow(10,C-1);return Math.round(g*v)/v}class Ob{}const PV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class DV extends Ob{normalizePropertyName(C,v){return Sb(C)}normalizeStyleValue(C,v,M,D){let I="";const x=M.toString().trim();if(PV.has(v)&&0!==M&&"0"!==M)if("number"==typeof M)I="px";else{const X=M.match(/^[+-]?[\d\.]+([a-z]*)$/);X&&0==X[1].length&&D.push(function y7(g,C){return new dt(3005,!1)}())}return x+I}}function wA(g,C,v,M,D,I,x,X,he,Se,Ae,Ve,qe){return{type:0,element:g,triggerName:C,isRemovalTransition:D,fromState:v,fromStyles:I,toState:M,toStyles:x,timelines:X,queriedElements:he,preStyleProps:Se,postStyleProps:Ae,totalTime:Ve,errors:qe}}const Ab={};class IA{constructor(C,v,M){this._triggerName=C,this.ast=v,this._stateStyles=M}match(C,v,M,D){return function wV(g,C,v,M,D){return g.some(I=>I(C,v,M,D))}(this.ast.matchers,C,v,M,D)}buildStyles(C,v,M){let D=this._stateStyles.get("*");return void 0!==C&&(D=this._stateStyles.get(C?.toString())||D),D?D.buildStyles(v,M):new Map}build(C,v,M,D,I,x,X,he,Se,Ae){const Ve=[],qe=this.ast.options&&this.ast.options.params||Ab,gt=this.buildStyles(M,X&&X.params||Ab,Ve),Ot=he&&he.params||Ab,Ut=this.buildStyles(D,Ot,Ve),qt=new Set,_n=new Map,tn=new Map,Gn="void"===D,_r={params:IV(Ot,qe),delay:this.ast.options?.delay},Mr=Ae?[]:wb(C,v,this.ast.animation,I,x,gt,Ut,_r,Se,Ve);let bs=0;if(Mr.forEach(Ka=>{bs=Math.max(Ka.duration+Ka.delay,bs)}),Ve.length)return wA(v,this._triggerName,M,D,Gn,gt,Ut,[],[],_n,tn,bs,Ve);Mr.forEach(Ka=>{const Qo=Ka.element,f_=Ba(_n,Qo,new Set);Ka.preStyleProps.forEach(fu=>f_.add(fu));const yc=Ba(tn,Qo,new Set);Ka.postStyleProps.forEach(fu=>yc.add(fu)),Qo!==v&&qt.add(Qo)});const ya=gy(qt.values());return wA(v,this._triggerName,M,D,Gn,gt,Ut,Mr,ya,_n,tn,bs)}}function IV(g,C){const v=Tm(C);for(const M in g)g.hasOwnProperty(M)&&null!=g[M]&&(v[M]=g[M]);return v}class OV{constructor(C,v,M){this.styles=C,this.defaultParams=v,this.normalizer=M}buildStyles(C,v){const M=new Map,D=Tm(this.defaultParams);return Object.keys(C).forEach(I=>{const x=C[I];null!==x&&(D[I]=x)}),this.styles.styles.forEach(I=>{"string"!=typeof I&&I.forEach((x,X)=>{x&&(x=Dm(x,D,v));const he=this.normalizer.normalizePropertyName(X,v);x=this.normalizer.normalizeStyleValue(X,he,x,v),M.set(X,x)})}),M}}class xV{constructor(C,v,M){this.name=C,this.ast=v,this._normalizer=M,this.transitionFactories=[],this.states=new Map,v.states.forEach(D=>{this.states.set(D.name,new OV(D.style,D.options&&D.options.params||{},M))}),OA(this.states,"true","1"),OA(this.states,"false","0"),v.transitions.forEach(D=>{this.transitionFactories.push(new IA(C,D,this.states))}),this.fallbackTransition=function RV(g,C,v){return new IA(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,X)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,v,M,D){return this.transitionFactories.find(x=>x.match(C,v,M,D))||null}matchStyles(C,v,M){return this.fallbackTransition.buildStyles(C,v,M)}}function OA(g,C,v){g.has(C)?g.has(v)||g.set(v,g.get(C)):g.has(v)&&g.set(C,g.get(v))}const LV=new Cy;class FV{constructor(C,v,M){this.bodyNode=C,this._driver=v,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(C,v){const M=[],I=Tb(this._driver,v,M,[]);if(M.length)throw function F7(g){return new dt(3503,!1)}();this._animations.set(C,I)}_buildPlayer(C,v,M){const D=C.element,I=lA(0,this._normalizer,0,C.keyframes,v,M);return this._driver.animate(D,I,C.duration,C.delay,C.easing,[],!0)}create(C,v,M={}){const D=[],I=this._animations.get(C);let x;const X=new Map;if(I?(x=wb(this._driver,v,I,Eb,hy,new Map,new Map,M,LV,D),x.forEach(Ae=>{const Ve=Ba(X,Ae.element,new Map);Ae.postStyleProps.forEach(qe=>Ve.set(qe,null))})):(D.push(function N7(){return new dt(3300,!1)}()),x=[]),D.length)throw function j7(g){return new dt(3504,!1)}();X.forEach((Ae,Ve)=>{Ae.forEach((qe,rt)=>{Ae.set(rt,this._driver.computeStyle(Ve,rt,zc))})});const Se=ku(x.map(Ae=>{const Ve=X.get(Ae.element);return this._buildPlayer(Ae,new Map,Ve)}));return this._playersById.set(C,Se),Se.onDestroy(()=>this.destroy(C)),this.players.push(Se),Se}destroy(C){const v=this._getPlayer(C);v.destroy(),this._playersById.delete(C);const M=this.players.indexOf(v);M>=0&&this.players.splice(M,1)}_getPlayer(C){const v=this._playersById.get(C);if(!v)throw function U7(g){return new dt(3301,!1)}();return v}listen(C,v,M,D){const I=gb(v,"","","");return fb(this._getPlayer(C),M,I,D),()=>{}}command(C,v,M,D){if("register"==M)return void this.register(C,D[0]);if("create"==M)return void this.create(C,v,D[0]||{});const I=this._getPlayer(C);switch(M){case"play":I.play();break;case"pause":I.pause();break;case"reset":I.reset();break;case"restart":I.restart();break;case"finish":I.finish();break;case"init":I.init();break;case"setPosition":I.setPosition(parseFloat(D[0]));break;case"destroy":this.destroy(C)}}}const AA="ng-animate-queued",xb="ng-animate-disabled",VV=[],xA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},al="__ng_removed";class Rb{get params(){return this.options.params}constructor(C,v=""){this.namespaceId=v;const M=C&&C.hasOwnProperty("value");if(this.value=function ZV(g){return g??null}(M?C.value:C),M){const I=Tm(C);delete I.value,this.options=I}else this.options={};this.options.params||(this.options.params={})}absorbOptions(C){const v=C.params;if(v){const M=this.options.params;Object.keys(v).forEach(D=>{null==M[D]&&(M[D]=v[D])})}}}const wm="void",Lb=new Rb(wm);class kV{constructor(C,v,M){this.id=C,this.hostElement=v,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,ll(v,this._hostClassName)}listen(C,v,M,D){if(!this._triggers.has(v))throw function B7(g,C){return new dt(3302,!1)}();if(null==M||0==M.length)throw function V7(g){return new dt(3303,!1)}();if(!function GV(g){return"start"==g||"done"==g}(M))throw function W7(g,C){return new dt(3400,!1)}();const I=Ba(this._elementListeners,C,[]),x={name:v,phase:M,callback:D};I.push(x);const X=Ba(this._engine.statesByElement,C,new Map);return X.has(v)||(ll(C,py),ll(C,py+"-"+v),X.set(v,Lb)),()=>{this._engine.afterFlush(()=>{const he=I.indexOf(x);he>=0&&I.splice(he,1),this._triggers.has(v)||X.delete(v)})}}register(C,v){return!this._triggers.has(C)&&(this._triggers.set(C,v),!0)}_getTrigger(C){const v=this._triggers.get(C);if(!v)throw function k7(g){return new dt(3401,!1)}();return v}trigger(C,v,M,D=!0){const I=this._getTrigger(v),x=new Fb(this.id,v,C);let X=this._engine.statesByElement.get(C);X||(ll(C,py),ll(C,py+"-"+v),this._engine.statesByElement.set(C,X=new Map));let he=X.get(v);const Se=new Rb(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&he&&Se.absorbOptions(he.options),X.set(v,Se),he||(he=Lb),Se.value!==wm&&he.value===Se.value){if(!function YV(g,C){const v=Object.keys(g),M=Object.keys(C);if(v.length!=M.length)return!1;for(let D=0;D<v.length;D++){const I=v[D];if(!C.hasOwnProperty(I)||g[I]!==C[I])return!1}return!0}(he.params,Se.params)){const Ot=[],Ut=I.matchStyles(he.value,he.params,Ot),qt=I.matchStyles(Se.value,Se.params,Ot);Ot.length?this._engine.reportError(Ot):this._engine.afterFlush(()=>{$d(C,Ut),ic(C,qt)})}return}const qe=Ba(this._engine.playersByElement,C,[]);qe.forEach(Ot=>{Ot.namespaceId==this.id&&Ot.triggerName==v&&Ot.queued&&Ot.destroy()});let rt=I.matchTransition(he.value,Se.value,C,Se.params),gt=!1;if(!rt){if(!D)return;rt=I.fallbackTransition,gt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:v,transition:rt,fromState:he,toState:Se,player:x,isFallbackTransition:gt}),gt||(ll(C,AA),x.onStart(()=>{Mp(C,AA)})),x.onDone(()=>{let Ot=this.players.indexOf(x);Ot>=0&&this.players.splice(Ot,1);const Ut=this._engine.playersByElement.get(C);if(Ut){let qt=Ut.indexOf(x);qt>=0&&Ut.splice(qt,1)}}),this.players.push(x),qe.push(x),x}deregister(C){this._triggers.delete(C),this._engine.statesByElement.forEach(v=>v.delete(C)),this._elementListeners.forEach((v,M)=>{this._elementListeners.set(M,v.filter(D=>D.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const v=this._engine.playersByElement.get(C);v&&(v.forEach(M=>M.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,v){const M=this._engine.driver.query(C,fy,!0);M.forEach(D=>{if(D[al])return;const I=this._engine.fetchNamespacesByElement(D);I.size?I.forEach(x=>x.triggerLeaveAnimation(D,v,!1,!0)):this.clearElementCache(D)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(D=>this.clearElementCache(D)))}triggerLeaveAnimation(C,v,M,D){const I=this._engine.statesByElement.get(C),x=new Map;if(I){const X=[];if(I.forEach((he,Se)=>{if(x.set(Se,he.value),this._triggers.has(Se)){const Ae=this.trigger(C,Se,wm,D);Ae&&X.push(Ae)}}),X.length)return this._engine.markElementAsRemoved(this.id,C,!0,v,x),M&&ku(X).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const v=this._elementListeners.get(C),M=this._engine.statesByElement.get(C);if(v&&M){const D=new Set;v.forEach(I=>{const x=I.name;if(D.has(x))return;D.add(x);const he=this._triggers.get(x).fallbackTransition,Se=M.get(x)||Lb,Ae=new Rb(wm),Ve=new Fb(this.id,x,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:x,transition:he,fromState:Se,toState:Ae,player:Ve,isFallbackTransition:!0})})}}removeNode(C,v){const M=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,v),this.triggerLeaveAnimation(C,v,!0))return;let D=!1;if(M.totalAnimations){const I=M.players.length?M.playersByQueriedElement.get(C):[];if(I&&I.length)D=!0;else{let x=C;for(;x=x.parentNode;)if(M.statesByElement.get(x)){D=!0;break}}}if(this.prepareLeaveAnimationListeners(C),D)M.markElementAsRemoved(this.id,C,!1,v);else{const I=C[al];(!I||I===xA)&&(M.afterFlush(()=>this.clearElementCache(C)),M.destroyInnerAnimations(C),M._onRemovalComplete(C,v))}}insertNode(C,v){ll(C,this._hostClassName)}drainQueuedTransitions(C){const v=[];return this._queue.forEach(M=>{const D=M.player;if(D.destroyed)return;const I=M.element,x=this._elementListeners.get(I);x&&x.forEach(X=>{if(X.name==M.triggerName){const he=gb(I,M.triggerName,M.fromState.value,M.toState.value);he._data=C,fb(M.player,X.phase,he,X.callback)}}),D.markedForDestroy?this._engine.afterFlush(()=>{D.destroy()}):v.push(M)}),this._queue=[],v.sort((M,D)=>{const I=M.transition.ast.depCount,x=D.transition.ast.depCount;return 0==I||0==x?I-x:this._engine.driver.containsElement(M.element,D.element)?1:-1})}destroy(C){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}elementContainsData(C){let v=!1;return this._elementListeners.has(C)&&(v=!0),v=!!this._queue.find(M=>M.element===C)||v,v}}class zV{_onRemovalComplete(C,v){this.onRemovalComplete(C,v)}constructor(C,v,M){this.bodyNode=C,this.driver=v,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(D,I)=>{}}get queuedPlayers(){const C=[];return this._namespaceList.forEach(v=>{v.players.forEach(M=>{M.queued&&C.push(M)})}),C}createNamespace(C,v){const M=new kV(C,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(M,v):(this.newHostElements.set(v,M),this.collectEnterElement(v)),this._namespaceLookup[C]=M}_balanceNamespaceList(C,v){const M=this._namespaceList,D=this.namespacesByHostElement;if(M.length-1>=0){let x=!1,X=this.driver.getParentElement(v);for(;X;){const he=D.get(X);if(he){const Se=M.indexOf(he);M.splice(Se+1,0,C),x=!0;break}X=this.driver.getParentElement(X)}x||M.unshift(C)}else M.push(C);return D.set(v,C),C}register(C,v){let M=this._namespaceLookup[C];return M||(M=this.createNamespace(C,v)),M}registerTrigger(C,v,M){let D=this._namespaceLookup[C];D&&D.register(v,M)&&this.totalAnimations++}destroy(C,v){if(!C)return;const M=this._fetchNamespace(C);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[C];const D=this._namespaceList.indexOf(M);D>=0&&this._namespaceList.splice(D,1)}),this.afterFlushAnimationsDone(()=>M.destroy(v))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const v=new Set,M=this.statesByElement.get(C);if(M)for(let D of M.values())if(D.namespaceId){const I=this._fetchNamespace(D.namespaceId);I&&v.add(I)}return v}trigger(C,v,M,D){if(Ty(v)){const I=this._fetchNamespace(C);if(I)return I.trigger(v,M,D),!0}return!1}insertNode(C,v,M,D){if(!Ty(v))return;const I=v[al];if(I&&I.setForRemoval){I.setForRemoval=!1,I.setForMove=!0;const x=this.collectedLeaveElements.indexOf(v);x>=0&&this.collectedLeaveElements.splice(x,1)}if(C){const x=this._fetchNamespace(C);x&&x.insertNode(v,M)}D&&this.collectEnterElement(v)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,v){v?this.disabledNodes.has(C)||(this.disabledNodes.add(C),ll(C,xb)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),Mp(C,xb))}removeNode(C,v,M,D){if(Ty(v)){const I=C?this._fetchNamespace(C):null;if(I?I.removeNode(v,D):this.markElementAsRemoved(C,v,!1,D),M){const x=this.namespacesByHostElement.get(v);x&&x.id!==C&&x.removeNode(v,D)}}else this._onRemovalComplete(v,D)}markElementAsRemoved(C,v,M,D,I){this.collectedLeaveElements.push(v),v[al]={namespaceId:C,setForRemoval:D,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:I}}listen(C,v,M,D,I){return Ty(v)?this._fetchNamespace(C).listen(v,M,D,I):()=>{}}_buildInstruction(C,v,M,D,I){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,M,D,C.fromState.options,C.toState.options,v,I)}destroyInnerAnimations(C){let v=this.driver.query(C,fy,!0);v.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(C,bb,!0),v.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(C){const v=this.playersByElement.get(C);v&&v.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(C){const v=this.playersByQueriedElement.get(C);v&&v.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return ku(this.players).onDone(()=>C());C()})}processLeaveNode(C){const v=C[al];if(v&&v.setForRemoval){if(C[al]=xA,v.namespaceId){this.destroyInnerAnimations(C);const M=this._fetchNamespace(v.namespaceId);M&&M.clearElementCache(C)}this._onRemovalComplete(C,v.setForRemoval)}C.classList?.contains(xb)&&this.markElementAsDisabled(C,!1),this.driver.query(C,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(C=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,D)=>this._balanceNamespaceList(M,D)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)ll(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{v=this._flushAnimations(M,C)}finally{for(let D=0;D<M.length;D++)M[D]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],v.length?ku(v).onDone(()=>{M.forEach(D=>D())}):M.forEach(D=>D())}}reportError(C){throw function z7(g){return new dt(3402,!1)}()}_flushAnimations(C,v){const M=new Cy,D=[],I=new Map,x=[],X=new Map,he=new Map,Se=new Map,Ae=new Set;this.disabledNodes.forEach(br=>{Ae.add(br);const Rr=this.driver.query(br,".ng-animate-queued",!0);for(let Ur=0;Ur<Rr.length;Ur++)Ae.add(Rr[Ur])});const Ve=this.bodyNode,qe=Array.from(this.statesByElement.keys()),rt=FA(qe,this.collectedEnterElements),gt=new Map;let Ot=0;rt.forEach((br,Rr)=>{const Ur=Eb+Ot++;gt.set(Rr,Ur),br.forEach(Li=>ll(Li,Ur))});const Ut=[],qt=new Set,_n=new Set;for(let br=0;br<this.collectedLeaveElements.length;br++){const Rr=this.collectedLeaveElements[br],Ur=Rr[al];Ur&&Ur.setForRemoval&&(Ut.push(Rr),qt.add(Rr),Ur.hasAnimation?this.driver.query(Rr,".ng-star-inserted",!0).forEach(Li=>qt.add(Li)):_n.add(Rr))}const tn=new Map,Gn=FA(qe,Array.from(qt));Gn.forEach((br,Rr)=>{const Ur=hy+Ot++;tn.set(Rr,Ur),br.forEach(Li=>ll(Li,Ur))}),C.push(()=>{rt.forEach((br,Rr)=>{const Ur=gt.get(Rr);br.forEach(Li=>Mp(Li,Ur))}),Gn.forEach((br,Rr)=>{const Ur=tn.get(Rr);br.forEach(Li=>Mp(Li,Ur))}),Ut.forEach(br=>{this.processLeaveNode(br)})});const _r=[],Mr=[];for(let br=this._namespaceList.length-1;br>=0;br--)this._namespaceList[br].drainQueuedTransitions(v).forEach(Ur=>{const Li=Ur.player,bo=Ur.element;if(_r.push(Li),this.collectedEnterElements.length){const Xo=bo[al];if(Xo&&Xo.setForMove){if(Xo.previousTriggersValues&&Xo.previousTriggersValues.has(Ur.triggerName)){const Sh=Xo.previousTriggersValues.get(Ur.triggerName),_l=this.statesByElement.get(Ur.element);if(_l&&_l.has(Ur.triggerName)){const g_=_l.get(Ur.triggerName);g_.value=Sh,_l.set(Ur.triggerName,g_)}}return void Li.destroy()}}const vc=!Ve||!this.driver.containsElement(Ve,bo),Ha=tn.get(bo),vd=gt.get(bo),ws=this._buildInstruction(Ur,M,vd,Ha,vc);if(ws.errors&&ws.errors.length)return void Mr.push(ws);if(vc)return Li.onStart(()=>$d(bo,ws.fromStyles)),Li.onDestroy(()=>ic(bo,ws.toStyles)),void D.push(Li);if(Ur.isFallbackTransition)return Li.onStart(()=>$d(bo,ws.fromStyles)),Li.onDestroy(()=>ic(bo,ws.toStyles)),void D.push(Li);const HF=[];ws.timelines.forEach(Xo=>{Xo.stretchStartingKeyframe=!0,this.disabledNodes.has(Xo.element)||HF.push(Xo)}),ws.timelines=HF,M.append(bo,ws.timelines),x.push({instruction:ws,player:Li,element:bo}),ws.queriedElements.forEach(Xo=>Ba(X,Xo,[]).push(Li)),ws.preStyleProps.forEach((Xo,Sh)=>{if(Xo.size){let _l=he.get(Sh);_l||he.set(Sh,_l=new Set),Xo.forEach((g_,gT)=>_l.add(gT))}}),ws.postStyleProps.forEach((Xo,Sh)=>{let _l=Se.get(Sh);_l||Se.set(Sh,_l=new Set),Xo.forEach((g_,gT)=>_l.add(gT))})});if(Mr.length){const br=[];Mr.forEach(Rr=>{br.push(function $7(g,C){return new dt(3505,!1)}())}),_r.forEach(Rr=>Rr.destroy()),this.reportError(br)}const bs=new Map,ya=new Map;x.forEach(br=>{const Rr=br.element;M.has(Rr)&&(ya.set(Rr,Rr),this._beforeAnimationBuild(br.player.namespaceId,br.instruction,bs))}),D.forEach(br=>{const Rr=br.element;this._getPreviousPlayers(Rr,!1,br.namespaceId,br.triggerName,null).forEach(Li=>{Ba(bs,Rr,[]).push(Li),Li.destroy()})});const Ka=Ut.filter(br=>jA(br,he,Se)),Qo=new Map;LA(Qo,this.driver,_n,Se,zc).forEach(br=>{jA(br,he,Se)&&Ka.push(br)});const yc=new Map;rt.forEach((br,Rr)=>{LA(yc,this.driver,new Set(br),he,"!")}),Ka.forEach(br=>{const Rr=Qo.get(br),Ur=yc.get(br);Qo.set(br,new Map([...Array.from(Rr?.entries()??[]),...Array.from(Ur?.entries()??[])]))});const fu=[],F0=[],m_={};x.forEach(br=>{const{element:Rr,player:Ur,instruction:Li}=br;if(M.has(Rr)){if(Ae.has(Rr))return Ur.onDestroy(()=>ic(Rr,Li.toStyles)),Ur.disabled=!0,Ur.overrideTotalTime(Li.totalTime),void D.push(Ur);let bo=m_;if(ya.size>1){let Ha=Rr;const vd=[];for(;Ha=Ha.parentNode;){const ws=ya.get(Ha);if(ws){bo=ws;break}vd.push(Ha)}vd.forEach(ws=>ya.set(ws,bo))}const vc=this._buildAnimation(Ur.namespaceId,Li,bs,I,yc,Qo);if(Ur.setRealPlayer(vc),bo===m_)fu.push(Ur);else{const Ha=this.playersByElement.get(bo);Ha&&Ha.length&&(Ur.parentPlayer=ku(Ha)),D.push(Ur)}}else $d(Rr,Li.fromStyles),Ur.onDestroy(()=>ic(Rr,Li.toStyles)),F0.push(Ur),Ae.has(Rr)&&D.push(Ur)}),F0.forEach(br=>{const Rr=I.get(br.element);if(Rr&&Rr.length){const Ur=ku(Rr);br.setRealPlayer(Ur)}}),D.forEach(br=>{br.parentPlayer?br.syncPlayerEvents(br.parentPlayer):br.destroy()});for(let br=0;br<Ut.length;br++){const Rr=Ut[br],Ur=Rr[al];if(Mp(Rr,hy),Ur&&Ur.hasAnimation)continue;let Li=[];if(X.size){let vc=X.get(Rr);vc&&vc.length&&Li.push(...vc);let Ha=this.driver.query(Rr,bb,!0);for(let vd=0;vd<Ha.length;vd++){let ws=X.get(Ha[vd]);ws&&ws.length&&Li.push(...ws)}}const bo=Li.filter(vc=>!vc.destroyed);bo.length?KV(this,Rr,bo):this.processLeaveNode(Rr)}return Ut.length=0,fu.forEach(br=>{this.players.push(br),br.onDone(()=>{br.destroy();const Rr=this.players.indexOf(br);this.players.splice(Rr,1)}),br.play()}),fu}elementContainsData(C,v){let M=!1;const D=v[al];return D&&D.setForRemoval&&(M=!0),this.playersByElement.has(v)&&(M=!0),this.playersByQueriedElement.has(v)&&(M=!0),this.statesByElement.has(v)&&(M=!0),this._fetchNamespace(C).elementContainsData(v)||M}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,v,M,D,I){let x=[];if(v){const X=this.playersByQueriedElement.get(C);X&&(x=X)}else{const X=this.playersByElement.get(C);if(X){const he=!I||I==wm;X.forEach(Se=>{Se.queued||!he&&Se.triggerName!=D||x.push(Se)})}}return(M||D)&&(x=x.filter(X=>!(M&&M!=X.namespaceId||D&&D!=X.triggerName))),x}_beforeAnimationBuild(C,v,M){const I=v.element,x=v.isRemovalTransition?void 0:C,X=v.isRemovalTransition?void 0:v.triggerName;for(const he of v.timelines){const Se=he.element,Ae=Se!==I,Ve=Ba(M,Se,[]);this._getPreviousPlayers(Se,Ae,x,X,v.toState).forEach(rt=>{const gt=rt.getRealPlayer();gt.beforeDestroy&&gt.beforeDestroy(),rt.destroy(),Ve.push(rt)})}$d(I,v.fromStyles)}_buildAnimation(C,v,M,D,I,x){const X=v.triggerName,he=v.element,Se=[],Ae=new Set,Ve=new Set,qe=v.timelines.map(gt=>{const Ot=gt.element;Ae.add(Ot);const Ut=Ot[al];if(Ut&&Ut.removedBeforeQueried)return new Sm(gt.duration,gt.delay);const qt=Ot!==he,_n=function HV(g){const C=[];return NA(g,C),C}((M.get(Ot)||VV).map(bs=>bs.getRealPlayer())).filter(bs=>!!bs.element&&bs.element===Ot),tn=I.get(Ot),Gn=x.get(Ot),_r=lA(0,this._normalizer,0,gt.keyframes,tn,Gn),Mr=this._buildPlayer(gt,_r,_n);if(gt.subTimeline&&D&&Ve.add(Ot),qt){const bs=new Fb(C,X,Ot);bs.setRealPlayer(Mr),Se.push(bs)}return Mr});Se.forEach(gt=>{Ba(this.playersByQueriedElement,gt.element,[]).push(gt),gt.onDone(()=>function $V(g,C,v){let M=g.get(C);if(M){if(M.length){const D=M.indexOf(v);M.splice(D,1)}0==M.length&&g.delete(C)}return M}(this.playersByQueriedElement,gt.element,gt))}),Ae.forEach(gt=>ll(gt,yA));const rt=ku(qe);return rt.onDestroy(()=>{Ae.forEach(gt=>Mp(gt,yA)),ic(he,v.toStyles)}),Ve.forEach(gt=>{Ba(D,gt,[]).push(rt)}),rt}_buildPlayer(C,v,M){return v.length>0?this.driver.animate(C.element,v,C.duration,C.delay,C.easing,M):new Sm(C.duration,C.delay)}}class Fb{constructor(C,v,M){this.namespaceId=C,this.triggerName=v,this.element=M,this._player=new Sm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,this._queuedCallbacks.forEach((v,M)=>{v.forEach(D=>fb(C,M,void 0,D))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const v=this._player;v.triggerCallback&&C.onStart(()=>v.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,v){Ba(this._queuedCallbacks,C,[]).push(v)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const v=this._player;v.triggerCallback&&v.triggerCallback(C)}}function Ty(g){return g&&1===g.nodeType}function RA(g,C){const v=g.style.display;return g.style.display=C??"none",v}function LA(g,C,v,M,D){const I=[];v.forEach(he=>I.push(RA(he)));const x=[];M.forEach((he,Se)=>{const Ae=new Map;he.forEach(Ve=>{const qe=C.computeStyle(Se,Ve,D);Ae.set(Ve,qe),(!qe||0==qe.length)&&(Se[al]=WV,x.push(Se))}),g.set(Se,Ae)});let X=0;return v.forEach(he=>RA(he,I[X++])),x}function FA(g,C){const v=new Map;if(g.forEach(X=>v.set(X,[])),0==C.length)return v;const D=new Set(C),I=new Map;function x(X){if(!X)return 1;let he=I.get(X);if(he)return he;const Se=X.parentNode;return he=v.has(Se)?Se:D.has(Se)?1:x(Se),I.set(X,he),he}return C.forEach(X=>{const he=x(X);1!==he&&v.get(he).push(X)}),v}function ll(g,C){g.classList?.add(C)}function Mp(g,C){g.classList?.remove(C)}function KV(g,C,v){ku(v).onDone(()=>g.processLeaveNode(C))}function NA(g,C){for(let v=0;v<g.length;v++){const M=g[v];M instanceof oA?NA(M.players,C):C.push(M)}}function jA(g,C,v){const M=v.get(g);if(!M)return!1;let D=C.get(g);return D?M.forEach(I=>D.add(I)):C.set(g,M),v.delete(g),!0}class Py{constructor(C,v,M){this.bodyNode=C,this._driver=v,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(D,I)=>{},this._transitionEngine=new zV(C,v,M),this._timelineEngine=new FV(C,v,M),this._transitionEngine.onRemovalComplete=(D,I)=>this.onRemovalComplete(D,I)}registerTrigger(C,v,M,D,I){const x=C+"-"+D;let X=this._triggerCache[x];if(!X){const he=[],Ae=Tb(this._driver,I,he,[]);if(he.length)throw function R7(g,C){return new dt(3404,!1)}();X=function AV(g,C,v){return new xV(g,C,v)}(D,Ae,this._normalizer),this._triggerCache[x]=X}this._transitionEngine.registerTrigger(v,D,X)}register(C,v){this._transitionEngine.register(C,v)}destroy(C,v){this._transitionEngine.destroy(C,v)}onInsert(C,v,M,D){this._transitionEngine.insertNode(C,v,M,D)}onRemove(C,v,M,D){this._transitionEngine.removeNode(C,v,D||!1,M)}disableAnimations(C,v){this._transitionEngine.markElementAsDisabled(C,v)}process(C,v,M,D){if("@"==M.charAt(0)){const[I,x]=cA(M);this._timelineEngine.command(I,v,x,D)}else this._transitionEngine.trigger(C,v,M,D)}listen(C,v,M,D,I){if("@"==M.charAt(0)){const[x,X]=cA(M);return this._timelineEngine.listen(x,v,X,I)}return this._transitionEngine.listen(C,v,M,D,I)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let QV=(()=>{class g{constructor(v,M,D){this._element=v,this._startStyles=M,this._endStyles=D,this._state=0;let I=g.initialStylesByElement.get(v);I||g.initialStylesByElement.set(v,I=new Map),this._initialStyles=I}start(){this._state<1&&(this._startStyles&&ic(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ic(this._element,this._initialStyles),this._endStyles&&(ic(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&($d(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($d(this._element,this._endStyles),this._endStyles=null),ic(this._element,this._initialStyles),this._state=3)}}return g.initialStylesByElement=new WeakMap,g})();function Nb(g){let C=null;return g.forEach((v,M)=>{(function XV(g){return"display"===g||"position"===g})(M)&&(C=C||new Map,C.set(M,v))}),C}class UA{constructor(C,v,M,D){this.element=C,this.keyframes=v,this.options=M,this._specialStyles=D,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(C){const v=[];return C.forEach(M=>{v.push(Object.fromEntries(M))}),v}_triggerWebAnimation(C,v,M){return C.animate(this._convertKeyframesToObject(v),M)}onStart(C){this._originalOnStartFns.push(C),this._onStartFns.push(C)}onDone(C){this._originalOnDoneFns.push(C),this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,D)=>{"offset"!==D&&C.set(D,this._finished?M:MA(this.element,D))}),this.currentSnapshot=C}triggerCallback(C){const v="start"===C?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class qV{validateStyleProperty(C){return!0}validateAnimatableStyleProperty(C){return!0}matchesElement(C,v){return!1}containsElement(C,v){return pA(C,v)}getParentElement(C){return vb(C)}query(C,v,M){return fA(C,v,M)}computeStyle(C,v,M){return window.getComputedStyle(C)[v]}animate(C,v,M,D,I,x=[]){const he={duration:M,delay:D,fill:0==D?"both":"forwards"};I&&(he.easing=I);const Se=new Map,Ae=x.filter(rt=>rt instanceof UA);(function rV(g,C){return 0===g||0===C})(M,D)&&Ae.forEach(rt=>{rt.currentSnapshot.forEach((gt,Ot)=>Se.set(Ot,gt))});let Ve=function q7(g){return g.length?g[0]instanceof Map?g:g.map(C=>vA(C)):[]}(v).map(rt=>zu(rt));Ve=function iV(g,C,v){if(v.size&&C.length){let M=C[0],D=[];if(v.forEach((I,x)=>{M.has(x)||D.push(x),M.set(x,I)}),D.length)for(let I=1;I<C.length;I++){let x=C[I];D.forEach(X=>x.set(X,MA(g,X)))}}return C}(C,Ve,Se);const qe=function JV(g,C){let v=null,M=null;return Array.isArray(C)&&C.length?(v=Nb(C[0]),C.length>1&&(M=Nb(C[C.length-1]))):C instanceof Map&&(v=Nb(C)),v||M?new QV(g,v,M):null}(C,Ve);return new UA(C,Ve,he,qe)}}let eW=(()=>{class g extends rA{constructor(v,M){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(M.body,{id:"0",encapsulation:ea.None,styles:[],data:{animation:[]}})}build(v){const M=this._nextAnimationId.toString();this._nextAnimationId++;const D=Array.isArray(v)?iA(v):v;return BA(this._renderer,null,M,"register",[D]),new tW(M,this._renderer)}}return g.\u0275fac=function(v){return new(v||g)(dr(Qf),dr(Io))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();class tW extends l7{constructor(C,v){super(),this._id=C,this._renderer=v}create(C,v){return new nW(this._id,C,v||{},this._renderer)}}class nW{constructor(C,v,M,D){this.id=C,this.element=v,this._renderer=D,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(C,v){return this._renderer.listen(this.element,`@@${this.id}:${C}`,v)}_command(C,...v){return BA(this._renderer,this.element,this.id,C,v)}onDone(C){this._listen("done",C)}onStart(C){this._listen("start",C)}onDestroy(C){this._listen("destroy",C)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(C){this._command("setPosition",C)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function BA(g,C,v,M,D){return g.setProperty(C,`@@${v}:${M}`,D)}const VA="@.disabled";let rW=(()=>{class g{constructor(v,M,D){this.delegate=v,this.engine=M,this._zone=D,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(I,x)=>{const X=x?.parentNode(I);X&&x.removeChild(X,I)}}createRenderer(v,M){const I=this.delegate.createRenderer(v,M);if(!(v&&M&&M.data&&M.data.animation)){let Ae=this._rendererCache.get(I);return Ae||(Ae=new WA("",I,this.engine,()=>this._rendererCache.delete(I)),this._rendererCache.set(I,Ae)),Ae}const x=M.id,X=M.id+"-"+this._currentId;this._currentId++,this.engine.register(X,v);const he=Ae=>{Array.isArray(Ae)?Ae.forEach(he):this.engine.registerTrigger(x,X,v,Ae.name,Ae)};return M.data.animation.forEach(he),new iW(this,X,I,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,M,D){v>=0&&v<this._microtaskId?this._zone.run(()=>M(D)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(I=>{const[x,X]=I;x(X)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,D]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return g.\u0275fac=function(v){return new(v||g)(dr(Qf),dr(Py),dr(Ri))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();class WA{constructor(C,v,M,D){this.namespaceId=C,this.delegate=v,this.engine=M,this._onDestroy=D,this.destroyNode=this.delegate.destroyNode?I=>v.destroyNode(I):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(C,v){return this.delegate.createElement(C,v)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,v){this.delegate.appendChild(C,v),this.engine.onInsert(this.namespaceId,v,C,!1)}insertBefore(C,v,M,D=!0){this.delegate.insertBefore(C,v,M),this.engine.onInsert(this.namespaceId,v,C,D)}removeChild(C,v,M){this.engine.onRemove(this.namespaceId,v,this.delegate,M)}selectRootElement(C,v){return this.delegate.selectRootElement(C,v)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,v,M,D){this.delegate.setAttribute(C,v,M,D)}removeAttribute(C,v,M){this.delegate.removeAttribute(C,v,M)}addClass(C,v){this.delegate.addClass(C,v)}removeClass(C,v){this.delegate.removeClass(C,v)}setStyle(C,v,M,D){this.delegate.setStyle(C,v,M,D)}removeStyle(C,v,M){this.delegate.removeStyle(C,v,M)}setProperty(C,v,M){"@"==v.charAt(0)&&v==VA?this.disableAnimations(C,!!M):this.delegate.setProperty(C,v,M)}setValue(C,v){this.delegate.setValue(C,v)}listen(C,v,M){return this.delegate.listen(C,v,M)}disableAnimations(C,v){this.engine.disableAnimations(C,v)}}class iW extends WA{constructor(C,v,M,D,I){super(v,M,D,I),this.factory=C,this.namespaceId=v}setProperty(C,v,M){"@"==v.charAt(0)?"."==v.charAt(1)&&v==VA?this.disableAnimations(C,M=void 0===M||!!M):this.engine.process(this.namespaceId,C,v.slice(1),M):this.delegate.setProperty(C,v,M)}listen(C,v,M){if("@"==v.charAt(0)){const D=function sW(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(C);let I=v.slice(1),x="";return"@"!=I.charAt(0)&&([I,x]=function oW(g){const C=g.indexOf(".");return[g.substring(0,C),g.slice(C+1)]}(I)),this.engine.listen(this.namespaceId,D,I,x,X=>{this.factory.scheduleListenerCallback(X._data||-1,M,X)})}return this.delegate.listen(C,v,M)}}let aW=(()=>{class g extends Py{constructor(v,M,D,I){super(v.body,M,D)}ngOnDestroy(){this.flush()}}return g.\u0275fac=function(v){return new(v||g)(dr(Io),dr(_b),dr(Ob),dr(_p))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();const kA=[{provide:rA,useClass:eW},{provide:Ob,useFactory:function lW(){return new DV}},{provide:Py,useClass:aW},{provide:Qf,useFactory:function cW(g,C,v){return new rW(g,C,v)},deps:[dy,Py,Ri]}],jb=[{provide:_b,useFactory:()=>new qV},{provide:UI,useValue:"BrowserAnimations"},...kA],zA=[{provide:_b,useClass:mA},{provide:UI,useValue:"NoopAnimations"},...kA];let uW=(()=>{class g{static withConfig(v){return{ngModule:g,providers:v.disableAnimations?zA:jb}}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({providers:jb,imports:[qO]}),g})();function jr(...g){return nr(g,He(g))}class cl extends Ie{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const v=super._subscribe(C);return!v.closed&&C.next(this._value),v}getValue(){const{hasError:C,thrownError:v,_value:M}=this;if(C)throw v;return this._throwIfClosed(),M}next(C){super.next(this._value=C)}}const wy=O(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:dW}=Array,{getPrototypeOf:hW,prototype:pW,keys:fW}=Object;function $A(g){if(1===g.length){const C=g[0];if(dW(C))return{args:C,keys:null};if(function mW(g){return g&&"object"==typeof g&&hW(g)===pW}(C)){const v=fW(C);return{args:v.map(M=>C[M]),keys:v}}}return{args:g,keys:null}}const{isArray:gW}=Array;function ZA(g){return Oe(C=>function yW(g,C){return gW(C)?g(...C):g(C)}(g,C))}function GA(g,C){return g.reduce((v,M,D)=>(v[M]=C[D],v),{})}function KA(...g){const C=He(g),v=Jn(g),{args:M,keys:D}=$A(g);if(0===M.length)return nr([],C);const I=new ue(function vW(g,C,v=fe){return M=>{HA(C,()=>{const{length:D}=g,I=new Array(D);let x=D,X=D;for(let he=0;he<D;he++)HA(C,()=>{const Se=nr(g[he],C);let Ae=!1;Se.subscribe(Ne(M,Ve=>{I[he]=Ve,Ae||(Ae=!0,X--),X||M.next(v(I.slice()))},()=>{--x||M.complete()}))},M)},M)}}(M,C,D?x=>GA(D,x):fe));return v?I.pipe(ZA(v)):I}function HA(g,C,v){g?Rn(v,g,C):C()}function Ub(...g){return function _W(){return Yt(1)}()(nr(g,He(g)))}function Bb(g){return new ue(C=>{un(g()).subscribe(C)})}function Im(g,C){const v=w(g)?g:()=>g,M=D=>D.error(v());return new ue(C?D=>C.schedule(M,0,D):M)}function Vb(){return Fe((g,C)=>{let v=null;g._refCount++;const M=Ne(C,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(v=null);const D=g._connection,I=v;v=null,D&&(!I||D===I)&&D.unsubscribe(),C.unsubscribe()});g.subscribe(M),M.closed||(v=g.connect())})}class YA extends ue{constructor(C,v){super(),this.source=C,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,Ce(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new k;const v=this.getSubject();C.add(this.source.subscribe(Ne(v,void 0,()=>{this._teardown(),v.complete()},M=>{this._teardown(),v.error(M)},()=>this._teardown()))),C.closed&&(this._connection=null,C=k.EMPTY)}return C}refCount(){return Vb()(this)}}function ul(g,C){return Fe((v,M)=>{let D=null,I=0,x=!1;const X=()=>x&&!D&&M.complete();v.subscribe(Ne(M,he=>{D?.unsubscribe();let Se=0;const Ae=I++;un(g(he,Ae)).subscribe(D=Ne(M,Ve=>M.next(C?C(he,Ve,Ae,Se++):Ve),()=>{D=null,X()}))},()=>{x=!0,X()}))})}function Om(g){return g<=0?()=>ln:Fe((C,v)=>{let M=0;C.subscribe(Ne(v,D=>{++M<=g&&(v.next(D),g<=M&&v.complete())}))})}function sc(g,C){return Fe((v,M)=>{let D=0;v.subscribe(Ne(M,I=>g.call(C,I,D++)&&M.next(I)))})}function Iy(g){return Fe((C,v)=>{let M=!1;C.subscribe(Ne(v,D=>{M=!0,v.next(D)},()=>{M||v.next(g),v.complete()}))})}function JA(g=bW){return Fe((C,v)=>{let M=!1;C.subscribe(Ne(v,D=>{M=!0,v.next(D)},()=>M?v.complete():v.error(g())))})}function bW(){return new wy}function $u(g,C){const v=arguments.length>=2;return M=>M.pipe(g?sc((D,I)=>g(D,I,M)):fe,Om(1),v?Iy(C):JA(()=>new wy))}function Gd(g,C){return w(C)?Vt(g,C,1):Vt(g,1)}function Ao(g,C,v){const M=w(g)||C||v?{next:g,error:C,complete:v}:g;return M?Fe((D,I)=>{var x;null===(x=M.subscribe)||void 0===x||x.call(M);let X=!0;D.subscribe(Ne(I,he=>{var Se;null===(Se=M.next)||void 0===Se||Se.call(M,he),I.next(he)},()=>{var he;X=!1,null===(he=M.complete)||void 0===he||he.call(M),I.complete()},he=>{var Se;X=!1,null===(Se=M.error)||void 0===Se||Se.call(M,he),I.error(he)},()=>{var he,Se;X&&(null===(he=M.unsubscribe)||void 0===he||he.call(M)),null===(Se=M.finalize)||void 0===Se||Se.call(M)}))}):fe}function Zu(g){return Fe((C,v)=>{let I,M=null,D=!1;M=C.subscribe(Ne(v,void 0,void 0,x=>{I=un(g(x,Zu(g)(C))),M?(M.unsubscribe(),M=null,I.subscribe(v)):D=!0})),D&&(M.unsubscribe(),M=null,I.subscribe(v))})}function CW(g,C,v,M,D){return(I,x)=>{let X=v,he=C,Se=0;I.subscribe(Ne(x,Ae=>{const Ve=Se++;he=X?g(he,Ae,Ve):(X=!0,Ae),M&&x.next(he)},D&&(()=>{X&&x.next(he),x.complete()})))}}function QA(g,C){return Fe(CW(g,C,arguments.length>=2,!0))}function Wb(g){return g<=0?()=>ln:Fe((C,v)=>{let M=[];C.subscribe(Ne(v,D=>{M.push(D),g<M.length&&M.shift()},()=>{for(const D of M)v.next(D);v.complete()},void 0,()=>{M=null}))})}function XA(g,C){const v=arguments.length>=2;return M=>M.pipe(g?sc((D,I)=>g(D,I,M)):fe,Wb(1),v?Iy(C):JA(()=>new wy))}function kb(g){return Fe((C,v)=>{try{C.subscribe(v)}finally{v.add(g)}})}const si="primary",Am=Symbol("RouteTitle");class TW{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v[0]:v}return null}getAll(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Sp(g){return new TW(g)}function PW(g,C,v){const M=v.path.split("/");if(M.length>g.length||"full"===v.pathMatch&&(C.hasChildren()||M.length<g.length))return null;const D={};for(let I=0;I<M.length;I++){const x=M[I],X=g[I];if(x.startsWith(":"))D[x.substring(1)]=X;else if(x!==X.path)return null}return{consumed:g.slice(0,M.length),posParams:D}}function oc(g,C){const v=g?Object.keys(g):void 0,M=C?Object.keys(C):void 0;if(!v||!M||v.length!=M.length)return!1;let D;for(let I=0;I<v.length;I++)if(D=v[I],!qA(g[D],C[D]))return!1;return!0}function qA(g,C){if(Array.isArray(g)&&Array.isArray(C)){if(g.length!==C.length)return!1;const v=[...g].sort(),M=[...C].sort();return v.every((D,I)=>M[I]===D)}return g===C}function e2(g){return Array.prototype.concat.apply([],g)}function t2(g){return g.length>0?g[g.length-1]:null}function xo(g,C){for(const v in g)g.hasOwnProperty(v)&&C(g[v],v)}function Gu(g){return Y1(g)?g:rm(g)?nr(Promise.resolve(g)):jr(g)}const Oy=!1,wW={exact:function i2(g,C,v){if(!Hd(g.segments,C.segments)||!Ay(g.segments,C.segments,v)||g.numberOfChildren!==C.numberOfChildren)return!1;for(const M in C.children)if(!g.children[M]||!i2(g.children[M],C.children[M],v))return!1;return!0},subset:s2},n2={exact:function IW(g,C){return oc(g,C)},subset:function OW(g,C){return Object.keys(C).length<=Object.keys(g).length&&Object.keys(C).every(v=>qA(g[v],C[v]))},ignored:()=>!0};function r2(g,C,v){return wW[v.paths](g.root,C.root,v.matrixParams)&&n2[v.queryParams](g.queryParams,C.queryParams)&&!("exact"===v.fragment&&g.fragment!==C.fragment)}function s2(g,C,v){return o2(g,C,C.segments,v)}function o2(g,C,v,M){if(g.segments.length>v.length){const D=g.segments.slice(0,v.length);return!(!Hd(D,v)||C.hasChildren()||!Ay(D,v,M))}if(g.segments.length===v.length){if(!Hd(g.segments,v)||!Ay(g.segments,v,M))return!1;for(const D in C.children)if(!g.children[D]||!s2(g.children[D],C.children[D],M))return!1;return!0}{const D=v.slice(0,g.segments.length),I=v.slice(g.segments.length);return!!(Hd(g.segments,D)&&Ay(g.segments,D,M)&&g.children[si])&&o2(g.children[si],C,I,M)}}function Ay(g,C,v){return C.every((M,D)=>n2[v](g[D].parameters,M.parameters))}class Kd{constructor(C=new yi([],{}),v={},M=null){this.root=C,this.queryParams=v,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sp(this.queryParams)),this._queryParamMap}toString(){return RW.serialize(this)}}class yi{constructor(C,v){this.segments=C,this.children=v,this.parent=null,xo(v,(M,D)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xy(this)}}class xm{constructor(C,v){this.path=C,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Sp(this.parameters)),this._parameterMap}toString(){return c2(this)}}function Hd(g,C){return g.length===C.length&&g.every((v,M)=>v.path===C[M].path)}let Rm=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(){return new zb},providedIn:"root"}),g})();class zb{parse(C){const v=new kW(C);return new Kd(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(C){const v=`/${Lm(C.root,!0)}`,M=function NW(g){const C=Object.keys(g).map(v=>{const M=g[v];return Array.isArray(M)?M.map(D=>`${Ry(v)}=${Ry(D)}`).join("&"):`${Ry(v)}=${Ry(M)}`}).filter(v=>!!v);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${v}${M}${"string"==typeof C.fragment?`#${function LW(g){return encodeURI(g)}(C.fragment)}`:""}`}}const RW=new zb;function xy(g){return g.segments.map(C=>c2(C)).join("/")}function Lm(g,C){if(!g.hasChildren())return xy(g);if(C){const v=g.children[si]?Lm(g.children[si],!1):"",M=[];return xo(g.children,(D,I)=>{I!==si&&M.push(`${I}:${Lm(D,!1)}`)}),M.length>0?`${v}(${M.join("//")})`:v}{const v=function xW(g,C){let v=[];return xo(g.children,(M,D)=>{D===si&&(v=v.concat(C(M,D)))}),xo(g.children,(M,D)=>{D!==si&&(v=v.concat(C(M,D)))}),v}(g,(M,D)=>D===si?[Lm(g.children[si],!1)]:[`${D}:${Lm(M,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[si]?`${xy(g)}/${v[0]}`:`${xy(g)}/(${v.join("//")})`}}function a2(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ry(g){return a2(g).replace(/%3B/gi,";")}function $b(g){return a2(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ly(g){return decodeURIComponent(g)}function l2(g){return Ly(g.replace(/\+/g,"%20"))}function c2(g){return`${$b(g.path)}${function FW(g){return Object.keys(g).map(C=>`;${$b(C)}=${$b(g[C])}`).join("")}(g.parameters)}`}const jW=/^[^\/()?;=#]+/;function Fy(g){const C=g.match(jW);return C?C[0]:""}const UW=/^[^=?&#]+/,VW=/^[^&#]+/;class kW{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yi([],{}):new yi([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(C.length>0||Object.keys(v).length>0)&&(M[si]=new yi(C,v)),M}parseSegment(){const C=Fy(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new dt(4009,Oy);return this.capture(C),new xm(Ly(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const v=Fy(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const D=Fy(this.remaining);D&&(M=D,this.capture(M))}C[Ly(v)]=Ly(M)}parseQueryParam(C){const v=function BW(g){const C=g.match(UW);return C?C[0]:""}(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const x=function WW(g){const C=g.match(VW);return C?C[0]:""}(this.remaining);x&&(M=x,this.capture(M))}const D=l2(v),I=l2(M);if(C.hasOwnProperty(D)){let x=C[D];Array.isArray(x)||(x=[x],C[D]=x),x.push(I)}else C[D]=I}parseParens(C){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Fy(this.remaining),D=this.remaining[M.length];if("/"!==D&&")"!==D&&";"!==D)throw new dt(4010,Oy);let I;M.indexOf(":")>-1?(I=M.slice(0,M.indexOf(":")),this.capture(I),this.capture(":")):C&&(I=si);const x=this.parseChildren();v[I]=1===Object.keys(x).length?x[si]:new yi([],x),this.consumeOptional("//")}return v}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new dt(4011,Oy)}}function Zb(g){return g.segments.length>0?new yi([],{[si]:g}):g}function Ny(g){const C={};for(const M of Object.keys(g.children)){const I=Ny(g.children[M]);(I.segments.length>0||I.hasChildren())&&(C[M]=I)}return function zW(g){if(1===g.numberOfChildren&&g.children[si]){const C=g.children[si];return new yi(g.segments.concat(C.segments),C.children)}return g}(new yi(g.segments,C))}function Yd(g){return g instanceof Kd}function GW(g,C,v,M,D){if(0===v.length)return Tp(C.root,C.root,C.root,M,D);const I=function h2(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new d2(!0,0,g);let C=0,v=!1;const M=g.reduce((D,I,x)=>{if("object"==typeof I&&null!=I){if(I.outlets){const X={};return xo(I.outlets,(he,Se)=>{X[Se]="string"==typeof he?he.split("/"):he}),[...D,{outlets:X}]}if(I.segmentPath)return[...D,I.segmentPath]}return"string"!=typeof I?[...D,I]:0===x?(I.split("/").forEach((X,he)=>{0==he&&"."===X||(0==he&&""===X?v=!0:".."===X?C++:""!=X&&D.push(X))}),D):[...D,I]},[]);return new d2(v,C,M)}(v);return I.toRoot()?Tp(C.root,C.root,new yi([],{}),M,D):function x(he){const Se=function HW(g,C,v,M){if(g.isAbsolute)return new Pp(C.root,!0,0);if(-1===M)return new Pp(v,v===C.root,0);return function p2(g,C,v){let M=g,D=C,I=v;for(;I>D;){if(I-=D,M=M.parent,!M)throw new dt(4005,!1);D=M.segments.length}return new Pp(M,!1,D-I)}(v,M+(Fm(g.commands[0])?0:1),g.numberOfDoubleDots)}(I,C,g.snapshot?._urlSegment,he),Ae=Se.processChildren?Dp(Se.segmentGroup,Se.index,I.commands):Kb(Se.segmentGroup,Se.index,I.commands);return Tp(C.root,Se.segmentGroup,Ae,M,D)}(g.snapshot?._lastPathIndex)}function Fm(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Nm(g){return"object"==typeof g&&null!=g&&g.outlets}function Tp(g,C,v,M,D){let x,I={};M&&xo(M,(he,Se)=>{I[Se]=Array.isArray(he)?he.map(Ae=>`${Ae}`):`${he}`}),x=g===C?v:u2(g,C,v);const X=Zb(Ny(x));return new Kd(X,I,D)}function u2(g,C,v){const M={};return xo(g.children,(D,I)=>{M[I]=D===C?v:u2(D,C,v)}),new yi(g.segments,M)}class d2{constructor(C,v,M){if(this.isAbsolute=C,this.numberOfDoubleDots=v,this.commands=M,C&&M.length>0&&Fm(M[0]))throw new dt(4003,!1);const D=M.find(Nm);if(D&&D!==t2(M))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pp{constructor(C,v,M){this.segmentGroup=C,this.processChildren=v,this.index=M}}function Kb(g,C,v){if(g||(g=new yi([],{})),0===g.segments.length&&g.hasChildren())return Dp(g,C,v);const M=function JW(g,C,v){let M=0,D=C;const I={match:!1,pathIndex:0,commandIndex:0};for(;D<g.segments.length;){if(M>=v.length)return I;const x=g.segments[D],X=v[M];if(Nm(X))break;const he=`${X}`,Se=M<v.length-1?v[M+1]:null;if(D>0&&void 0===he)break;if(he&&Se&&"object"==typeof Se&&void 0===Se.outlets){if(!m2(he,Se,x))return I;M+=2}else{if(!m2(he,{},x))return I;M++}D++}return{match:!0,pathIndex:D,commandIndex:M}}(g,C,v),D=v.slice(M.commandIndex);if(M.match&&M.pathIndex<g.segments.length){const I=new yi(g.segments.slice(0,M.pathIndex),{});return I.children[si]=new yi(g.segments.slice(M.pathIndex),g.children),Dp(I,0,D)}return M.match&&0===D.length?new yi(g.segments,{}):M.match&&!g.hasChildren()?Hb(g,C,v):M.match?Dp(g,0,D):Hb(g,C,v)}function Dp(g,C,v){if(0===v.length)return new yi(g.segments,{});{const M=function YW(g){return Nm(g[0])?g[0].outlets:{[si]:g}}(v),D={};return!M[si]&&g.children[si]&&1===g.numberOfChildren&&0===g.children[si].segments.length?Dp(g.children[si],C,v):(xo(M,(I,x)=>{"string"==typeof I&&(I=[I]),null!==I&&(D[x]=Kb(g.children[x],C,I))}),xo(g.children,(I,x)=>{void 0===M[x]&&(D[x]=I)}),new yi(g.segments,D))}}function Hb(g,C,v){const M=g.segments.slice(0,C);let D=0;for(;D<v.length;){const I=v[D];if(Nm(I)){const he=QW(I.outlets);return new yi(M,he)}if(0===D&&Fm(v[0])){M.push(new xm(g.segments[C].path,f2(v[0]))),D++;continue}const x=Nm(I)?I.outlets[si]:`${I}`,X=D<v.length-1?v[D+1]:null;x&&X&&Fm(X)?(M.push(new xm(x,f2(X))),D+=2):(M.push(new xm(x,{})),D++)}return new yi(M,{})}function QW(g){const C={};return xo(g,(v,M)=>{"string"==typeof v&&(v=[v]),null!==v&&(C[M]=Hb(new yi([],{}),0,v))}),C}function f2(g){const C={};return xo(g,(v,M)=>C[M]=`${v}`),C}function m2(g,C,v){return g==v.path&&oc(C,v.parameters)}const jm="imperative";class ac{constructor(C,v){this.id=C,this.url=v}}class Yb extends ac{constructor(C,v,M="imperative",D=null){super(C,v),this.type=0,this.navigationTrigger=M,this.restoredState=D}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jd extends ac{constructor(C,v,M){super(C,v),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jy extends ac{constructor(C,v,M,D){super(C,v),this.reason=M,this.code=D,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class g2 extends ac{constructor(C,v,M,D){super(C,v),this.reason=M,this.code=D,this.type=16}}class y2 extends ac{constructor(C,v,M,D){super(C,v),this.error=M,this.target=D,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XW extends ac{constructor(C,v,M,D){super(C,v),this.urlAfterRedirects=M,this.state=D,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qW extends ac{constructor(C,v,M,D){super(C,v),this.urlAfterRedirects=M,this.state=D,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ek extends ac{constructor(C,v,M,D,I){super(C,v),this.urlAfterRedirects=M,this.state=D,this.shouldActivate=I,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tk extends ac{constructor(C,v,M,D){super(C,v),this.urlAfterRedirects=M,this.state=D,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nk extends ac{constructor(C,v,M,D){super(C,v),this.urlAfterRedirects=M,this.state=D,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rk{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ik{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sk{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ok{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ak{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lk{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v2{constructor(C,v,M){this.routerEvent=C,this.position=v,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let uk=(()=>{class g{createUrlTree(v,M,D,I,x,X){return GW(v||M.root,D,I,x,X)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),dk=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(C){return uk.\u0275fac(C)},providedIn:"root"}),g})();class _2{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const v=this.pathFromRoot(C);return v.length>1?v[v.length-2]:null}children(C){const v=Jb(C,this._root);return v?v.children.map(M=>M.value):[]}firstChild(C){const v=Jb(C,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(C){const v=Qb(C,this._root);return v.length<2?[]:v[v.length-2].children.map(D=>D.value).filter(D=>D!==C)}pathFromRoot(C){return Qb(C,this._root).map(v=>v.value)}}function Jb(g,C){if(g===C.value)return C;for(const v of C.children){const M=Jb(g,v);if(M)return M}return null}function Qb(g,C){if(g===C.value)return[C];for(const v of C.children){const M=Qb(g,v);if(M.length)return M.unshift(C),M}return[]}class Gc{constructor(C,v){this.value=C,this.children=v}toString(){return`TreeNode(${this.value})`}}function wp(g){const C={};return g&&g.children.forEach(v=>C[v.value.outlet]=v),C}class E2 extends _2{constructor(C,v){super(C),this.snapshot=v,Xb(this,C)}toString(){return this.snapshot.toString()}}function b2(g,C){const v=function hk(g,C){const x=new Uy([],{},{},"",{},si,C,null,g.root,-1,{});return new M2("",new Gc(x,[]))}(g,C),M=new cl([new xm("",{})]),D=new cl({}),I=new cl({}),x=new cl({}),X=new cl(""),he=new Ip(M,D,x,X,I,si,C,v.root);return he.snapshot=v.root,new E2(new Gc(he,[]),v)}class Ip{constructor(C,v,M,D,I,x,X,he){this.url=C,this.params=v,this.queryParams=M,this.fragment=D,this.data=I,this.outlet=x,this.component=X,this.title=this.data?.pipe(Oe(Se=>Se[Am]))??jr(void 0),this._futureSnapshot=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(C=>Sp(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(C=>Sp(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function C2(g,C="emptyOnly"){const v=g.pathFromRoot;let M=0;if("always"!==C)for(M=v.length-1;M>=1;){const D=v[M],I=v[M-1];if(D.routeConfig&&""===D.routeConfig.path)M--;else{if(I.component)break;M--}}return function pk(g){return g.reduce((C,v)=>({params:{...C.params,...v.params},data:{...C.data,...v.data},resolve:{...v.data,...C.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(M))}class Uy{get title(){return this.data?.[Am]}constructor(C,v,M,D,I,x,X,he,Se,Ae,Ve){this.url=C,this.params=v,this.queryParams=M,this.fragment=D,this.data=I,this.outlet=x,this.component=X,this.routeConfig=he,this._urlSegment=Se,this._lastPathIndex=Ae,this._resolve=Ve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class M2 extends _2{constructor(C,v){super(v),this.url=C,Xb(this,v)}toString(){return S2(this._root)}}function Xb(g,C){C.value._routerState=g,C.children.forEach(v=>Xb(g,v))}function S2(g){const C=g.children.length>0?` { ${g.children.map(S2).join(", ")} } `:"";return`${g.value}${C}`}function qb(g){if(g.snapshot){const C=g.snapshot,v=g._futureSnapshot;g.snapshot=v,oc(C.queryParams,v.queryParams)||g.queryParams.next(v.queryParams),C.fragment!==v.fragment&&g.fragment.next(v.fragment),oc(C.params,v.params)||g.params.next(v.params),function DW(g,C){if(g.length!==C.length)return!1;for(let v=0;v<g.length;++v)if(!oc(g[v],C[v]))return!1;return!0}(C.url,v.url)||g.url.next(v.url),oc(C.data,v.data)||g.data.next(v.data)}else g.snapshot=g._futureSnapshot,g.data.next(g._futureSnapshot.data)}function eC(g,C){const v=oc(g.params,C.params)&&function AW(g,C){return Hd(g,C)&&g.every((v,M)=>oc(v.parameters,C[M].parameters))}(g.url,C.url);return v&&!(!g.parent!=!C.parent)&&(!g.parent||eC(g.parent,C.parent))}function Um(g,C,v){if(v&&g.shouldReuseRoute(C.value,v.value.snapshot)){const M=v.value;M._futureSnapshot=C.value;const D=function mk(g,C,v){return C.children.map(M=>{for(const D of v.children)if(g.shouldReuseRoute(M.value,D.value.snapshot))return Um(g,M,D);return Um(g,M)})}(g,C,v);return new Gc(M,D)}{if(g.shouldAttach(C.value)){const I=g.retrieve(C.value);if(null!==I){const x=I.route;return x.value._futureSnapshot=C.value,x.children=C.children.map(X=>Um(g,X)),x}}const M=function gk(g){return new Ip(new cl(g.url),new cl(g.params),new cl(g.queryParams),new cl(g.fragment),new cl(g.data),g.outlet,g.component,g)}(C.value),D=C.children.map(I=>Um(g,I));return new Gc(M,D)}}const tC="ngNavigationCancelingError";function T2(g,C){const{redirectTo:v,navigationBehaviorOptions:M}=Yd(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,D=P2(!1,0,C);return D.url=v,D.navigationBehaviorOptions=M,D}function P2(g,C,v){const M=new Error("NavigationCancelingError: "+(g||""));return M[tC]=!0,M.cancellationCode=C,v&&(M.url=v),M}function D2(g){return w2(g)&&Yd(g.url)}function w2(g){return g&&g[tC]}class yk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bm,this.attachRef=null}}let Bm=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(v,M){const D=this.getOrCreateContext(v);D.outlet=M,this.contexts.set(v,D)}onChildOutletDestroyed(v){const M=this.getContext(v);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let M=this.getContext(v);return M||(M=new yk,this.contexts.set(v,M)),M}getContext(v){return this.contexts.get(v)||null}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const By=!1;let nC=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=si,this.activateEvents=new Nr,this.deactivateEvents=new Nr,this.attachEvents=new Nr,this.detachEvents=new Nr,this.parentContexts=Jr(Bm),this.location=Jr(nl),this.changeDetector=Jr(rl),this.environmentInjector=Jr(Lc)}ngOnChanges(v){if(v.name){const{firstChange:M,previousValue:D}=v.name;if(M)return;this.isTrackedInParentContexts(D)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(D)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,By);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,By);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,By);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,M){this.activated=v,this._activatedRoute=M,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,M){if(this.isActivated)throw new dt(4013,By);this._activatedRoute=v;const D=this.location,x=v.snapshot.component,X=this.parentContexts.getOrCreateContext(this.name).children,he=new vk(v,X,D.injector);if(M&&function _k(g){return!!g.resolveComponentFactory}(M)){const Se=M.resolveComponentFactory(x);this.activated=D.createComponent(Se,D.length,he)}else this.activated=D.createComponent(x,{index:D.length,injector:he,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275dir=Tr({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]}),g})();class vk{constructor(C,v,M){this.route=C,this.childContexts=v,this.parent=M}get(C,v){return C===Ip?this.route:C===Bm?this.childContexts:this.parent.get(C,v)}}let rC=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275cmp=fs({type:g,selectors:[["ng-component"]],standalone:!0,features:[cE],decls:1,vars:0,template:function(v,M){1&v&&Xi(0,"router-outlet")},dependencies:[nC],encapsulation:2}),g})();function I2(g,C){return g.providers&&!g._injector&&(g._injector=Vg(g.providers,C,`Route: ${g.path}`)),g._injector??C}function sC(g){const C=g.children&&g.children.map(sC),v=C?{...g,children:C}:{...g};return!v.component&&!v.loadComponent&&(C||v.loadChildren)&&v.outlet&&v.outlet!==si&&(v.component=rC),v}function dl(g){return g.outlet||si}function O2(g,C){const v=g.filter(M=>dl(M)===C);return v.push(...g.filter(M=>dl(M)!==C)),v}function Vm(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let C=g.parent;C;C=C.parent){const v=C.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Sk{constructor(C,v,M,D){this.routeReuseStrategy=C,this.futureState=v,this.currState=M,this.forwardEvent=D}activate(C){const v=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,M,C),qb(this.futureState.root),this.activateChildRoutes(v,M,C)}deactivateChildRoutes(C,v,M){const D=wp(v);C.children.forEach(I=>{const x=I.value.outlet;this.deactivateRoutes(I,D[x],M),delete D[x]}),xo(D,(I,x)=>{this.deactivateRouteAndItsChildren(I,M)})}deactivateRoutes(C,v,M){const D=C.value,I=v?v.value:null;if(D===I)if(D.component){const x=M.getContext(D.outlet);x&&this.deactivateChildRoutes(C,v,x.children)}else this.deactivateChildRoutes(C,v,M);else I&&this.deactivateRouteAndItsChildren(v,M)}deactivateRouteAndItsChildren(C,v){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,v):this.deactivateRouteAndOutlet(C,v)}detachAndStoreRouteSubtree(C,v){const M=v.getContext(C.value.outlet),D=M&&C.value.component?M.children:v,I=wp(C);for(const x of Object.keys(I))this.deactivateRouteAndItsChildren(I[x],D);if(M&&M.outlet){const x=M.outlet.detach(),X=M.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:x,route:C,contexts:X})}}deactivateRouteAndOutlet(C,v){const M=v.getContext(C.value.outlet),D=M&&C.value.component?M.children:v,I=wp(C);for(const x of Object.keys(I))this.deactivateRouteAndItsChildren(I[x],D);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(C,v,M){const D=wp(v);C.children.forEach(I=>{this.activateRoutes(I,D[I.value.outlet],M),this.forwardEvent(new lk(I.value.snapshot))}),C.children.length&&this.forwardEvent(new ok(C.value.snapshot))}activateRoutes(C,v,M){const D=C.value,I=v?v.value:null;if(qb(D),D===I)if(D.component){const x=M.getOrCreateContext(D.outlet);this.activateChildRoutes(C,v,x.children)}else this.activateChildRoutes(C,v,M);else if(D.component){const x=M.getOrCreateContext(D.outlet);if(this.routeReuseStrategy.shouldAttach(D.snapshot)){const X=this.routeReuseStrategy.retrieve(D.snapshot);this.routeReuseStrategy.store(D.snapshot,null),x.children.onOutletReAttached(X.contexts),x.attachRef=X.componentRef,x.route=X.route.value,x.outlet&&x.outlet.attach(X.componentRef,X.route.value),qb(X.route.value),this.activateChildRoutes(C,null,x.children)}else{const X=Vm(D.snapshot),he=X?.get(Fd)??null;x.attachRef=null,x.route=D,x.resolver=he,x.injector=X,x.outlet&&x.outlet.activateWith(D,x.injector),this.activateChildRoutes(C,null,x.children)}}else this.activateChildRoutes(C,null,M)}}class A2{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Vy{constructor(C,v){this.component=C,this.route=v}}function Tk(g,C,v){const M=g._root;return Wm(M,C?C._root:null,v,[M.value])}function Op(g,C){const v=Symbol(),M=C.get(g,v);return M===v?"function"!=typeof g||function Wr(g){return null!==An(g)}(g)?C.get(g):g:M}function Wm(g,C,v,M,D={canDeactivateChecks:[],canActivateChecks:[]}){const I=wp(C);return g.children.forEach(x=>{(function Dk(g,C,v,M,D={canDeactivateChecks:[],canActivateChecks:[]}){const I=g.value,x=C?C.value:null,X=v?v.getContext(g.value.outlet):null;if(x&&I.routeConfig===x.routeConfig){const he=function wk(g,C,v){if("function"==typeof v)return v(g,C);switch(v){case"pathParamsChange":return!Hd(g.url,C.url);case"pathParamsOrQueryParamsChange":return!Hd(g.url,C.url)||!oc(g.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eC(g,C)||!oc(g.queryParams,C.queryParams);default:return!eC(g,C)}}(x,I,I.routeConfig.runGuardsAndResolvers);he?D.canActivateChecks.push(new A2(M)):(I.data=x.data,I._resolvedData=x._resolvedData),Wm(g,C,I.component?X?X.children:null:v,M,D),he&&X&&X.outlet&&X.outlet.isActivated&&D.canDeactivateChecks.push(new Vy(X.outlet.component,x))}else x&&km(C,X,D),D.canActivateChecks.push(new A2(M)),Wm(g,null,I.component?X?X.children:null:v,M,D)})(x,I[x.value.outlet],v,M.concat([x.value]),D),delete I[x.value.outlet]}),xo(I,(x,X)=>km(x,v.getContext(X),D)),D}function km(g,C,v){const M=wp(g),D=g.value;xo(M,(I,x)=>{km(I,D.component?C?C.children.getContext(x):null:C,v)}),v.canDeactivateChecks.push(new Vy(D.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,D))}function zm(g){return"function"==typeof g}function oC(g){return g instanceof wy||"EmptyError"===g?.name}const Wy=Symbol("INITIAL_VALUE");function Ap(){return ul(g=>KA(g.map(C=>C.pipe(Om(1),function EW(...g){const C=He(g);return Fe((v,M)=>{(C?Ub(g,v,C):Ub(g,v)).subscribe(M)})}(Wy)))).pipe(Oe(C=>{for(const v of C)if(!0!==v){if(v===Wy)return Wy;if(!1===v||v instanceof Kd)return v}return!0}),sc(C=>C!==Wy),Om(1)))}function x2(g){return function Ee(...g){return ye(g)}(Ao(C=>{if(Yd(C))throw T2(0,C)}),Oe(C=>!0===C))}const aC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R2(g,C,v,M,D){const I=lC(g,C,v);return I.matched?function Zk(g,C,v,M){const D=C.canMatch;return D&&0!==D.length?jr(D.map(x=>{const X=Op(x,g);return Gu(function Lk(g){return g&&zm(g.canMatch)}(X)?X.canMatch(C,v):g.runInContext(()=>X(C,v)))})).pipe(Ap(),x2()):jr(!0)}(M=I2(C,M),C,v).pipe(Oe(x=>!0===x?I:{...aC})):jr(I)}function lC(g,C,v){if(""===C.path)return"full"===C.pathMatch&&(g.hasChildren()||v.length>0)?{...aC}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const D=(C.matcher||PW)(v,g,C);if(!D)return{...aC};const I={};xo(D.posParams,(X,he)=>{I[he]=X.path});const x=D.consumed.length>0?{...I,...D.consumed[D.consumed.length-1].parameters}:I;return{matched:!0,consumedSegments:D.consumed,remainingSegments:v.slice(D.consumed.length),parameters:x,positionalParamSegments:D.posParams??{}}}function ky(g,C,v,M){if(v.length>0&&function Hk(g,C,v){return v.some(M=>zy(g,C,M)&&dl(M)!==si)}(g,v,M)){const I=new yi(C,function Kk(g,C,v,M){const D={};D[si]=M,M._sourceSegment=g,M._segmentIndexShift=C.length;for(const I of v)if(""===I.path&&dl(I)!==si){const x=new yi([],{});x._sourceSegment=g,x._segmentIndexShift=C.length,D[dl(I)]=x}return D}(g,C,M,new yi(v,g.children)));return I._sourceSegment=g,I._segmentIndexShift=C.length,{segmentGroup:I,slicedSegments:[]}}if(0===v.length&&function Yk(g,C,v){return v.some(M=>zy(g,C,M))}(g,v,M)){const I=new yi(g.segments,function Gk(g,C,v,M,D){const I={};for(const x of M)if(zy(g,v,x)&&!D[dl(x)]){const X=new yi([],{});X._sourceSegment=g,X._segmentIndexShift=C.length,I[dl(x)]=X}return{...D,...I}}(g,C,v,M,g.children));return I._sourceSegment=g,I._segmentIndexShift=C.length,{segmentGroup:I,slicedSegments:v}}const D=new yi(g.segments,g.children);return D._sourceSegment=g,D._segmentIndexShift=C.length,{segmentGroup:D,slicedSegments:v}}function zy(g,C,v){return(!(g.hasChildren()||C.length>0)||"full"!==v.pathMatch)&&""===v.path}function L2(g,C,v,M){return!!(dl(g)===M||M!==si&&zy(C,v,g))&&("**"===g.path||lC(C,g,v).matched)}function F2(g,C,v){return 0===C.length&&!g.children[v]}const $y=!1;class Zy{constructor(C){this.segmentGroup=C||null}}class N2{constructor(C){this.urlTree=C}}function $m(g){return Im(new Zy(g))}function j2(g){return Im(new N2(g))}class qk{constructor(C,v,M,D,I){this.injector=C,this.configLoader=v,this.urlSerializer=M,this.urlTree=D,this.config=I,this.allowRedirects=!0}apply(){const C=ky(this.urlTree.root,[],[],this.config).segmentGroup,v=new yi(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,v,si).pipe(Oe(I=>this.createUrlTree(Ny(I),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zu(I=>{if(I instanceof N2)return this.allowRedirects=!1,this.match(I.urlTree);throw I instanceof Zy?this.noMatchError(I):I}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,si).pipe(Oe(D=>this.createUrlTree(Ny(D),C.queryParams,C.fragment))).pipe(Zu(D=>{throw D instanceof Zy?this.noMatchError(D):D}))}noMatchError(C){return new dt(4002,$y)}createUrlTree(C,v,M){const D=Zb(C);return new Kd(D,v,M)}expandSegmentGroup(C,v,M,D){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(C,v,M).pipe(Oe(I=>new yi([],I))):this.expandSegment(C,M,v,M.segments,D,!0)}expandChildren(C,v,M){const D=[];for(const I of Object.keys(M.children))"primary"===I?D.unshift(I):D.push(I);return nr(D).pipe(Gd(I=>{const x=M.children[I],X=O2(v,I);return this.expandSegmentGroup(C,X,x,I).pipe(Oe(he=>({segment:he,outlet:I})))}),QA((I,x)=>(I[x.outlet]=x.segment,I),{}),XA())}expandSegment(C,v,M,D,I,x){return nr(M).pipe(Gd(X=>this.expandSegmentAgainstRoute(C,v,M,X,D,I,x).pipe(Zu(Se=>{if(Se instanceof Zy)return jr(null);throw Se}))),$u(X=>!!X),Zu((X,he)=>{if(oC(X))return F2(v,D,I)?jr(new yi([],{})):$m(v);throw X}))}expandSegmentAgainstRoute(C,v,M,D,I,x,X){return L2(D,v,I,x)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(C,v,D,I,x):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,v,M,D,I,x):$m(v):$m(v)}expandSegmentAgainstRouteUsingRedirect(C,v,M,D,I,x){return"**"===D.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,M,D,x):this.expandRegularSegmentAgainstRouteUsingRedirect(C,v,M,D,I,x)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,v,M,D){const I=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?j2(I):this.lineralizeSegments(M,I).pipe(Vt(x=>{const X=new yi(x,{});return this.expandSegment(C,X,v,x,D,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,v,M,D,I,x){const{matched:X,consumedSegments:he,remainingSegments:Se,positionalParamSegments:Ae}=lC(v,D,I);if(!X)return $m(v);const Ve=this.applyRedirectCommands(he,D.redirectTo,Ae);return D.redirectTo.startsWith("/")?j2(Ve):this.lineralizeSegments(D,Ve).pipe(Vt(qe=>this.expandSegment(C,v,M,qe.concat(Se),x,!1)))}matchSegmentAgainstRoute(C,v,M,D,I){return"**"===M.path?(C=I2(M,C),M.loadChildren?(M._loadedRoutes?jr({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(C,M)).pipe(Oe(X=>(M._loadedRoutes=X.routes,M._loadedInjector=X.injector,new yi(D,{})))):jr(new yi(D,{}))):R2(v,M,D,C).pipe(ul(({matched:x,consumedSegments:X,remainingSegments:he})=>x?this.getChildConfig(C=M._injector??C,M,D).pipe(Vt(Ae=>{const Ve=Ae.injector??C,qe=Ae.routes,{segmentGroup:rt,slicedSegments:gt}=ky(v,X,he,qe),Ot=new yi(rt.segments,rt.children);if(0===gt.length&&Ot.hasChildren())return this.expandChildren(Ve,qe,Ot).pipe(Oe(tn=>new yi(X,tn)));if(0===qe.length&&0===gt.length)return jr(new yi(X,{}));const Ut=dl(M)===I;return this.expandSegment(Ve,Ot,qe,gt,Ut?si:I,!0).pipe(Oe(_n=>new yi(X.concat(_n.segments),_n.children)))})):$m(v)))}getChildConfig(C,v,M){return v.children?jr({routes:v.children,injector:C}):v.loadChildren?void 0!==v._loadedRoutes?jr({routes:v._loadedRoutes,injector:v._loadedInjector}):function $k(g,C,v,M){const D=C.canLoad;return void 0===D||0===D.length?jr(!0):jr(D.map(x=>{const X=Op(x,g);return Gu(function Ok(g){return g&&zm(g.canLoad)}(X)?X.canLoad(C,v):g.runInContext(()=>X(C,v)))})).pipe(Ap(),x2())}(C,v,M).pipe(Vt(D=>D?this.configLoader.loadChildren(C,v).pipe(Ao(I=>{v._loadedRoutes=I.routes,v._loadedInjector=I.injector})):function Qk(g){return Im(P2($y,3))}())):jr({routes:[],injector:C})}lineralizeSegments(C,v){let M=[],D=v.root;for(;;){if(M=M.concat(D.segments),0===D.numberOfChildren)return jr(M);if(D.numberOfChildren>1||!D.children[si])return Im(new dt(4e3,$y));D=D.children[si]}}applyRedirectCommands(C,v,M){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),C,M)}applyRedirectCreateUrlTree(C,v,M,D){const I=this.createSegmentGroup(C,v.root,M,D);return new Kd(I,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(C,v){const M={};return xo(C,(D,I)=>{if("string"==typeof D&&D.startsWith(":")){const X=D.substring(1);M[I]=v[X]}else M[I]=D}),M}createSegmentGroup(C,v,M,D){const I=this.createSegments(C,v.segments,M,D);let x={};return xo(v.children,(X,he)=>{x[he]=this.createSegmentGroup(C,X,M,D)}),new yi(I,x)}createSegments(C,v,M,D){return v.map(I=>I.path.startsWith(":")?this.findPosParam(C,I,D):this.findOrReturn(I,M))}findPosParam(C,v,M){const D=M[v.path.substring(1)];if(!D)throw new dt(4001,$y);return D}findOrReturn(C,v){let M=0;for(const D of v){if(D.path===C.path)return v.splice(M),D;M++}return C}}class tz{}class iz{constructor(C,v,M,D,I,x,X){this.injector=C,this.rootComponentType=v,this.config=M,this.urlTree=D,this.url=I,this.paramsInheritanceStrategy=x,this.urlSerializer=X}recognize(){const C=ky(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,si).pipe(Oe(v=>{if(null===v)return null;const M=new Uy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},si,this.rootComponentType,null,this.urlTree.root,-1,{}),D=new Gc(M,v),I=new M2(this.url,D);return this.inheritParamsAndData(I._root),I}))}inheritParamsAndData(C){const v=C.value,M=C2(v,this.paramsInheritanceStrategy);v.params=Object.freeze(M.params),v.data=Object.freeze(M.data),C.children.forEach(D=>this.inheritParamsAndData(D))}processSegmentGroup(C,v,M,D){return 0===M.segments.length&&M.hasChildren()?this.processChildren(C,v,M):this.processSegment(C,v,M,M.segments,D)}processChildren(C,v,M){return nr(Object.keys(M.children)).pipe(Gd(D=>{const I=M.children[D],x=O2(v,D);return this.processSegmentGroup(C,x,I,D)}),QA((D,I)=>D&&I?(D.push(...I),D):null),function MW(g,C=!1){return Fe((v,M)=>{let D=0;v.subscribe(Ne(M,I=>{const x=g(I,D++);(x||C)&&M.next(I),!x&&M.complete()}))})}(D=>null!==D),Iy(null),XA(),Oe(D=>{if(null===D)return null;const I=B2(D);return function sz(g){g.sort((C,v)=>C.value.outlet===si?-1:v.value.outlet===si?1:C.value.outlet.localeCompare(v.value.outlet))}(I),I}))}processSegment(C,v,M,D,I){return nr(v).pipe(Gd(x=>this.processSegmentAgainstRoute(x._injector??C,x,M,D,I)),$u(x=>!!x),Zu(x=>{if(oC(x))return F2(M,D,I)?jr([]):jr(null);throw x}))}processSegmentAgainstRoute(C,v,M,D,I){if(v.redirectTo||!L2(v,M,D,I))return jr(null);let x;if("**"===v.path){const X=D.length>0?t2(D).parameters:{},he=W2(M)+D.length;x=jr({snapshot:new Uy(D,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k2(v),dl(v),v.component??v._loadedComponent??null,v,V2(M),he,z2(v)),consumedSegments:[],remainingSegments:[]})}else x=R2(M,v,D,C).pipe(Oe(({matched:X,consumedSegments:he,remainingSegments:Se,parameters:Ae})=>{if(!X)return null;const Ve=W2(M)+he.length;return{snapshot:new Uy(he,Ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k2(v),dl(v),v.component??v._loadedComponent??null,v,V2(M),Ve,z2(v)),consumedSegments:he,remainingSegments:Se}}));return x.pipe(ul(X=>{if(null===X)return jr(null);const{snapshot:he,consumedSegments:Se,remainingSegments:Ae}=X;C=v._injector??C;const Ve=v._loadedInjector??C,qe=function oz(g){return g.children?g.children:g.loadChildren?g._loadedRoutes:[]}(v),{segmentGroup:rt,slicedSegments:gt}=ky(M,Se,Ae,qe.filter(Ut=>void 0===Ut.redirectTo));if(0===gt.length&&rt.hasChildren())return this.processChildren(Ve,qe,rt).pipe(Oe(Ut=>null===Ut?null:[new Gc(he,Ut)]));if(0===qe.length&&0===gt.length)return jr([new Gc(he,[])]);const Ot=dl(v)===I;return this.processSegment(Ve,qe,rt,gt,Ot?si:I).pipe(Oe(Ut=>null===Ut?null:[new Gc(he,Ut)]))}))}}function az(g){const C=g.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function B2(g){const C=[],v=new Set;for(const M of g){if(!az(M)){C.push(M);continue}const D=C.find(I=>M.value.routeConfig===I.value.routeConfig);void 0!==D?(D.children.push(...M.children),v.add(D)):C.push(M)}for(const M of v){const D=B2(M.children);C.push(new Gc(M.value,D))}return C.filter(M=>!v.has(M))}function V2(g){let C=g;for(;C._sourceSegment;)C=C._sourceSegment;return C}function W2(g){let C=g,v=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,v+=C._segmentIndexShift??0;return v-1}function k2(g){return g.data||{}}function z2(g){return g.resolve||{}}function $2(g){return"string"==typeof g.title||null===g.title}function cC(g){return ul(C=>{const v=g(C);return v?nr(v).pipe(Oe(()=>C)):jr(C)})}const xp=new Or("ROUTES");let uC=(()=>{class g{constructor(v,M){this.injector=v,this.compiler=M,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return jr(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const M=Gu(v.loadComponent()).pipe(Oe(G2),Ao(I=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=I}),kb(()=>{this.componentLoaders.delete(v)})),D=new YA(M,()=>new Ie).pipe(Vb());return this.componentLoaders.set(v,D),D}loadChildren(v,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return jr({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const I=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe(Oe(X=>{this.onLoadEndListener&&this.onLoadEndListener(M);let he,Se,Ae=!1;Array.isArray(X)?Se=X:(he=X.create(v).injector,Se=e2(he.get(xp,[],At.Self|At.Optional)));return{routes:Se.map(sC),injector:he}}),kb(()=>{this.childrenLoaders.delete(M)})),x=new YA(I,()=>new Ie).pipe(Vb());return this.childrenLoaders.set(M,x),x}loadModuleFactoryOrRoutes(v){return Gu(v()).pipe(Oe(G2),Vt(D=>D instanceof Hw||Array.isArray(D)?jr(D):nr(this.compiler.compileModuleAsync(D))))}}return g.\u0275fac=function(v){return new(v||g)(dr(La),dr(BI))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function G2(g){return function gz(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let Ky=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ie,this.configLoader=Jr(uC),this.environmentInjector=Jr(Lc),this.urlSerializer=Jr(Rm),this.rootContexts=Jr(Bm),this.navigationId=0,this.afterPreactivation=()=>jr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=D=>this.events.next(new ik(D)),this.configLoader.onLoadStartListener=D=>this.events.next(new rk(D))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:M})}setupNavigations(v){return this.transitions=new cl({id:0,targetPageId:0,currentUrlTree:v.currentUrlTree,currentRawUrl:v.currentUrlTree,extractedUrl:v.urlHandlingStrategy.extract(v.currentUrlTree),urlAfterRedirects:v.urlHandlingStrategy.extract(v.currentUrlTree),rawUrl:v.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jm,restoredState:null,currentSnapshot:v.routerState.snapshot,targetSnapshot:null,currentRouterState:v.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sc(M=>0!==M.id),Oe(M=>({...M,extractedUrl:v.urlHandlingStrategy.extract(M.rawUrl)})),ul(M=>{let D=!1,I=!1;return jr(M).pipe(Ao(x=>{this.currentNavigation={id:x.id,initialUrl:x.rawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ul(x=>{const X=v.browserUrlTree.toString(),he=!v.navigated||x.extractedUrl.toString()!==X||X!==v.currentUrlTree.toString();if(!he&&"reload"!==(x.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const Ae="";return this.events.next(new g2(x.id,v.serializeUrl(M.rawUrl),Ae,0)),v.rawUrlTree=x.rawUrl,x.resolve(null),ln}if(v.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return K2(x.source)&&(v.browserUrlTree=x.extractedUrl),jr(x).pipe(ul(Ae=>{const Ve=this.transitions?.getValue();return this.events.next(new Yb(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Ae.source,Ae.restoredState)),Ve!==this.transitions?.getValue()?ln:Promise.resolve(Ae)}),function ez(g,C,v,M){return ul(D=>function Xk(g,C,v,M,D){return new qk(g,C,v,M,D).apply()}(g,C,v,D.extractedUrl,M).pipe(Oe(I=>({...D,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,v.config),Ao(Ae=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ae.urlAfterRedirects},M.urlAfterRedirects=Ae.urlAfterRedirects}),function cz(g,C,v,M,D){return Vt(I=>function rz(g,C,v,M,D,I,x="emptyOnly"){return new iz(g,C,v,M,D,x,I).recognize().pipe(ul(X=>null===X?function nz(g){return new ue(C=>C.error(g))}(new tz):jr(X)))}(g,C,v,I.urlAfterRedirects,M.serialize(I.urlAfterRedirects),M,D).pipe(Oe(x=>({...I,targetSnapshot:x}))))}(this.environmentInjector,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),Ao(Ae=>{if(M.targetSnapshot=Ae.targetSnapshot,"eager"===v.urlUpdateStrategy){if(!Ae.extras.skipLocationChange){const qe=v.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl);v.setBrowserUrl(qe,Ae)}v.browserUrlTree=Ae.urlAfterRedirects}const Ve=new XW(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),this.urlSerializer.serialize(Ae.urlAfterRedirects),Ae.targetSnapshot);this.events.next(Ve)}));if(he&&v.urlHandlingStrategy.shouldProcessUrl(v.rawUrlTree)){const{id:Ae,extractedUrl:Ve,source:qe,restoredState:rt,extras:gt}=x,Ot=new Yb(Ae,this.urlSerializer.serialize(Ve),qe,rt);this.events.next(Ot);const Ut=b2(Ve,this.rootComponentType).snapshot;return jr(M={...x,targetSnapshot:Ut,urlAfterRedirects:Ve,extras:{...gt,skipLocationChange:!1,replaceUrl:!1}})}{const Ae="";return this.events.next(new g2(x.id,v.serializeUrl(M.extractedUrl),Ae,1)),v.rawUrlTree=x.rawUrl,x.resolve(null),ln}}),Ao(x=>{const X=new qW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(X)}),Oe(x=>M={...x,guards:Tk(x.targetSnapshot,x.currentSnapshot,this.rootContexts)}),function Nk(g,C){return Vt(v=>{const{targetSnapshot:M,currentSnapshot:D,guards:{canActivateChecks:I,canDeactivateChecks:x}}=v;return 0===x.length&&0===I.length?jr({...v,guardsResult:!0}):function jk(g,C,v,M){return nr(g).pipe(Vt(D=>function zk(g,C,v,M,D){const I=C&&C.routeConfig?C.routeConfig.canDeactivate:null;return I&&0!==I.length?jr(I.map(X=>{const he=Vm(C)??D,Se=Op(X,he);return Gu(function Rk(g){return g&&zm(g.canDeactivate)}(Se)?Se.canDeactivate(g,C,v,M):he.runInContext(()=>Se(g,C,v,M))).pipe($u())})).pipe(Ap()):jr(!0)}(D.component,D.route,v,C,M)),$u(D=>!0!==D,!0))}(x,M,D,g).pipe(Vt(X=>X&&function Ik(g){return"boolean"==typeof g}(X)?function Uk(g,C,v,M){return nr(C).pipe(Gd(D=>Ub(function Vk(g,C){return null!==g&&C&&C(new sk(g)),jr(!0)}(D.route.parent,M),function Bk(g,C){return null!==g&&C&&C(new ak(g)),jr(!0)}(D.route,M),function kk(g,C,v){const M=C[C.length-1],I=C.slice(0,C.length-1).reverse().map(x=>function Pk(g){const C=g.routeConfig?g.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:g,guards:C}:null}(x)).filter(x=>null!==x).map(x=>Bb(()=>jr(x.guards.map(he=>{const Se=Vm(x.node)??v,Ae=Op(he,Se);return Gu(function xk(g){return g&&zm(g.canActivateChild)}(Ae)?Ae.canActivateChild(M,g):Se.runInContext(()=>Ae(M,g))).pipe($u())})).pipe(Ap())));return jr(I).pipe(Ap())}(g,D.path,v),function Wk(g,C,v){const M=C.routeConfig?C.routeConfig.canActivate:null;if(!M||0===M.length)return jr(!0);const D=M.map(I=>Bb(()=>{const x=Vm(C)??v,X=Op(I,x);return Gu(function Ak(g){return g&&zm(g.canActivate)}(X)?X.canActivate(C,g):x.runInContext(()=>X(C,g))).pipe($u())}));return jr(D).pipe(Ap())}(g,D.route,v))),$u(D=>!0!==D,!0))}(M,I,g,C):jr(X)),Oe(X=>({...v,guardsResult:X})))})}(this.environmentInjector,x=>this.events.next(x)),Ao(x=>{if(M.guardsResult=x.guardsResult,Yd(x.guardsResult))throw T2(0,x.guardsResult);const X=new ek(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.events.next(X)}),sc(x=>!!x.guardsResult||(v.restoreHistory(x),this.cancelNavigationTransition(x,"",3),!1)),cC(x=>{if(x.guards.canActivateChecks.length)return jr(x).pipe(Ao(X=>{const he=new tk(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(he)}),ul(X=>{let he=!1;return jr(X).pipe(function uz(g,C){return Vt(v=>{const{targetSnapshot:M,guards:{canActivateChecks:D}}=v;if(!D.length)return jr(v);let I=0;return nr(D).pipe(Gd(x=>function dz(g,C,v,M){const D=g.routeConfig,I=g._resolve;return void 0!==D?.title&&!$2(D)&&(I[Am]=D.title),function hz(g,C,v,M){const D=function pz(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===D.length)return jr({});const I={};return nr(D).pipe(Vt(x=>function fz(g,C,v,M){const D=Vm(C)??M,I=Op(g,D);return Gu(I.resolve?I.resolve(C,v):D.runInContext(()=>I(C,v)))}(g[x],C,v,M).pipe($u(),Ao(X=>{I[x]=X}))),Wb(1),function SW(g){return Oe(()=>g)}(I),Zu(x=>oC(x)?ln:Im(x)))}(I,g,C,M).pipe(Oe(x=>(g._resolvedData=x,g.data=C2(g,v).resolve,D&&$2(D)&&(g.data[Am]=D.title),null)))}(x.route,M,g,C)),Ao(()=>I++),Wb(1),Vt(x=>I===D.length?jr(v):ln))})}(v.paramsInheritanceStrategy,this.environmentInjector),Ao({next:()=>he=!0,complete:()=>{he||(v.restoreHistory(X),this.cancelNavigationTransition(X,"",2))}}))}),Ao(X=>{const he=new nk(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(he)}))}),cC(x=>{const X=he=>{const Se=[];he.routeConfig?.loadComponent&&!he.routeConfig._loadedComponent&&Se.push(this.configLoader.loadComponent(he.routeConfig).pipe(Ao(Ae=>{he.component=Ae}),Oe(()=>{})));for(const Ae of he.children)Se.push(...X(Ae));return Se};return KA(X(x.targetSnapshot.root)).pipe(Iy(),Om(1))}),cC(()=>this.afterPreactivation()),Oe(x=>{const X=function fk(g,C,v){const M=Um(g,C._root,v?v._root:void 0);return new E2(M,C)}(v.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return M={...x,targetRouterState:X}}),Ao(x=>{v.currentUrlTree=x.urlAfterRedirects,v.rawUrlTree=v.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),v.routerState=x.targetRouterState,"deferred"===v.urlUpdateStrategy&&(x.extras.skipLocationChange||v.setBrowserUrl(v.rawUrlTree,x),v.browserUrlTree=x.urlAfterRedirects)}),((g,C,v)=>Oe(M=>(new Sk(C,M.targetRouterState,M.currentRouterState,v).activate(g),M)))(this.rootContexts,v.routeReuseStrategy,x=>this.events.next(x)),Ao({next:x=>{D=!0,this.lastSuccessfulNavigation=this.currentNavigation,v.navigated=!0,this.events.next(new Jd(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(v.currentUrlTree))),v.titleStrategy?.updateTitle(x.targetRouterState.snapshot),x.resolve(!0)},complete:()=>{D=!0}}),kb(()=>{D||I||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),Zu(x=>{if(I=!0,w2(x)){D2(x)||(v.navigated=!0,v.restoreHistory(M,!0));const X=new jy(M.id,this.urlSerializer.serialize(M.extractedUrl),x.message,x.cancellationCode);if(this.events.next(X),D2(x)){const he=v.urlHandlingStrategy.merge(x.url,v.rawUrlTree),Se={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===v.urlUpdateStrategy||K2(M.source)};v.scheduleNavigation(he,jm,null,Se,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{v.restoreHistory(M,!0);const X=new y2(M.id,this.urlSerializer.serialize(M.extractedUrl),x,M.targetSnapshot??void 0);this.events.next(X);try{M.resolve(v.errorHandler(x))}catch(he){M.reject(he)}}return ln}))}))}cancelNavigationTransition(v,M,D){const I=new jy(v.id,this.urlSerializer.serialize(v.extractedUrl),M,D);this.events.next(I),v.resolve(!1)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function K2(g){return g!==jm}let H2=(()=>{class g{buildTitle(v){let M,D=v.root;for(;void 0!==D;)M=this.getResolvedTitleForRoute(D)??M,D=D.children.find(I=>I.outlet===si);return M}getResolvedTitleForRoute(v){return v.data[Am]}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(){return Jr(yz)},providedIn:"root"}),g})(),yz=(()=>{class g extends H2{constructor(v){super(),this.title=v}updateTitle(v){const M=this.buildTitle(v);void 0!==M&&this.title.setTitle(M)}}return g.\u0275fac=function(v){return new(v||g)(dr(eA))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),vz=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(){return Jr(Ez)},providedIn:"root"}),g})();class _z{shouldDetach(C){return!1}store(C,v){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,v){return C.routeConfig===v.routeConfig}}let Ez=(()=>{class g extends _z{}return g.\u0275fac=function(){let C;return function(M){return(C||(C=Qs(g)))(M||g)}}(),g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Hy=new Or("",{providedIn:"root",factory:()=>({})});let Cz=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:function(){return Jr(Mz)},providedIn:"root"}),g})(),Mz=(()=>{class g{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,M){return v}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function Sz(g){throw g}function Tz(g,C,v){return C.parse("/")}const Pz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wa=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Jr(H8),this.isNgZoneEnabled=!1,this.options=Jr(Hy,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Sz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Jr(Cz),this.routeReuseStrategy=Jr(vz),this.urlCreationStrategy=Jr(dk),this.titleStrategy=Jr(H2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=e2(Jr(xp,{optional:!0})??[]),this.navigationTransitions=Jr(Ky),this.urlSerializer=Jr(Rm),this.location=Jr(VE),this.isNgZoneEnabled=Jr(Ri)instanceof Ri&&Ri.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=b2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jm,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const M="popstate"===v.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,M,v.state)},0)}))}navigateToSyncWithBrowser(v,M,D){const I={replaceUrl:!0},x=D?.navigationId?D:null;if(D){const he={...D};delete he.navigationId,delete he.\u0275routerPageId,0!==Object.keys(he).length&&(I.state=he)}const X=this.parseUrl(v);this.scheduleNavigation(X,M,x,I)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(v){this.config=v.map(sC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,M={}){const{relativeTo:D,queryParams:I,fragment:x,queryParamsHandling:X,preserveFragment:he}=M,Se=he?this.currentUrlTree.fragment:x;let Ae=null;switch(X){case"merge":Ae={...this.currentUrlTree.queryParams,...I};break;case"preserve":Ae=this.currentUrlTree.queryParams;break;default:Ae=I||null}return null!==Ae&&(Ae=this.removeEmptyProps(Ae)),this.urlCreationStrategy.createUrlTree(D,this.routerState,this.currentUrlTree,v,Ae,Se??null)}navigateByUrl(v,M={skipLocationChange:!1}){const D=Yd(v)?v:this.parseUrl(v),I=this.urlHandlingStrategy.merge(D,this.rawUrlTree);return this.scheduleNavigation(I,jm,null,M)}navigate(v,M={skipLocationChange:!1}){return function wz(g){for(let C=0;C<g.length;C++){if(null==g[C])throw new dt(4008,!1)}}(v),this.navigateByUrl(this.createUrlTree(v,M),M)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let M;try{M=this.urlSerializer.parse(v)}catch(D){M=this.malformedUriErrorHandler(D,this.urlSerializer,v)}return M}isActive(v,M){let D;if(D=!0===M?{...Pz}:!1===M?{...Dz}:M,Yd(v))return r2(this.currentUrlTree,v,D);const I=this.parseUrl(v);return r2(this.currentUrlTree,I,D)}removeEmptyProps(v){return Object.keys(v).reduce((M,D)=>{const I=v[D];return null!=I&&(M[D]=I),M},{})}scheduleNavigation(v,M,D,I,x){if(this.disposed)return Promise.resolve(!1);let X,he,Se,Ae;return x?(X=x.resolve,he=x.reject,Se=x.promise):Se=new Promise((Ve,qe)=>{X=Ve,he=qe}),Ae="computed"===this.canceledNavigationResolution?D&&D.\u0275routerPageId?D.\u0275routerPageId:I.replaceUrl||I.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ae,source:M,restoredState:D,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:v,extras:I,resolve:X,reject:he,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Ve=>Promise.reject(Ve))}setBrowserUrl(v,M){const D=this.urlSerializer.serialize(v),I={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(D)||M.extras.replaceUrl?this.location.replaceState(D,"",I):this.location.go(D,"",I)}restoreHistory(v,M=!1){if("computed"===this.canceledNavigationResolution){const D=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===D?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===D&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(D)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,M){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:M}:{navigationId:v}}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();class J2{}let Az=(()=>{class g{constructor(v,M,D,I,x){this.router=v,this.injector=D,this.preloadingStrategy=I,this.loader=x}setUpPreloading(){this.subscription=this.router.events.pipe(sc(v=>v instanceof Jd),Gd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,M){const D=[];for(const I of M){I.providers&&!I._injector&&(I._injector=Vg(I.providers,v,`Route: ${I.path}`));const x=I._injector??v,X=I._loadedInjector??x;I.loadChildren&&!I._loadedRoutes&&void 0===I.canLoad||I.loadComponent&&!I._loadedComponent?D.push(this.preloadConfig(x,I)):(I.children||I._loadedRoutes)&&D.push(this.processRoutes(X,I.children??I._loadedRoutes))}return nr(D).pipe(Yt())}preloadConfig(v,M){return this.preloadingStrategy.preload(M,()=>{let D;D=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(v,M):jr(null);const I=D.pipe(Vt(x=>null===x?jr(void 0):(M._loadedRoutes=x.routes,M._loadedInjector=x.injector,this.processRoutes(x.injector??v,x.routes))));return M.loadComponent&&!M._loadedComponent?nr([I,this.loader.loadComponent(M)]).pipe(Yt()):I})}}return g.\u0275fac=function(v){return new(v||g)(dr(Wa),dr(BI),dr(Lc),dr(J2),dr(uC))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const hC=new Or("");let Q2=(()=>{class g{constructor(v,M,D,I,x={}){this.urlSerializer=v,this.transitions=M,this.viewportScroller=D,this.zone=I,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Yb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Jd&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof v2&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new v2(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return g.\u0275fac=function(v){!function qP(){throw new Error("invalid")}()},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();function Qd(g,C){return{\u0275kind:g,\u0275providers:C}}function q2(){const g=Jr(La);return C=>{const v=g.get(_p);if(C!==v.components[0])return;const M=g.get(Wa),D=g.get(ex);1===g.get(fC)&&M.initialNavigation(),g.get(tx,null,At.Optional)?.setUpPreloading(),g.get(hC,null,At.Optional)?.init(),M.resetRootComponentType(v.componentTypes[0]),D.closed||(D.next(),D.unsubscribe())}}const ex=new Or("",{factory:()=>new Ie}),fC=new Or("",{providedIn:"root",factory:()=>1});const tx=new Or("");function Nz(g){return Qd(0,[{provide:tx,useExisting:Az},{provide:J2,useExisting:g}])}const nx=new Or("ROUTER_FORROOT_GUARD"),jz=[VE,{provide:Rm,useClass:zb},Wa,Bm,{provide:Ip,useFactory:function X2(g){return g.routerState.root},deps:[Wa]},uC,[]];function Uz(){return new GI("Router",Wa)}let rx=(()=>{class g{constructor(v){}static forRoot(v,M){return{ngModule:g,providers:[jz,[],{provide:xp,multi:!0,useValue:v},{provide:nx,useFactory:kz,deps:[[Wa,new ot,new ar]]},{provide:Hy,useValue:M||{}},M?.useHash?{provide:kd,useClass:F4}:{provide:kd,useClass:mO},{provide:hC,useFactory:()=>{const g=Jr(t9),C=Jr(Ri),v=Jr(Hy),M=Jr(Ky),D=Jr(Rm);return v.scrollOffset&&g.setOffset(v.scrollOffset),new Q2(D,M,g,C,v)}},M?.preloadingStrategy?Nz(M.preloadingStrategy).\u0275providers:[],{provide:GI,multi:!0,useFactory:Uz},M?.initialNavigation?zz(M):[],[{provide:ix,useFactory:q2},{provide:jI,multi:!0,useExisting:ix}]]}}static forChild(v){return{ngModule:g,providers:[{provide:xp,multi:!0,useValue:v}]}}}return g.\u0275fac=function(v){return new(v||g)(dr(nx,8))},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[rC]}),g})();function kz(g){return"guarded"}function zz(g){return["disabled"===g.initialNavigation?Qd(3,[{provide:$g,multi:!0,useFactory:()=>{const C=Jr(Wa);return()=>{C.setUpLocationChangeListener()}}},{provide:fC,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?Qd(2,[{provide:fC,useValue:0},{provide:$g,multi:!0,deps:[La],useFactory:C=>{const v=C.get(R4,Promise.resolve());return()=>v.then(()=>new Promise(D=>{const I=C.get(Wa),x=C.get(ex);(function M(D){C.get(Wa).events.pipe(sc(x=>x instanceof Jd||x instanceof jy||x instanceof y2),Oe(x=>x instanceof Jd||x instanceof jy&&(0===x.code||1===x.code)&&null),sc(x=>null!==x),Om(1)).subscribe(()=>{D()})})(()=>{D(!0)}),C.get(Ky).afterPreactivation=()=>(D(!0),x.closed?jr(void 0):x),I.initialNavigation()}))}}]).\u0275providers:[]]}const ix=new Or("");var xn=T(15861);let Ln=(()=>{class g{static addClass(v,M){v&&M&&(v.classList?v.classList.add(M):v.className+=" "+M)}static addMultipleClasses(v,M){if(v&&M)if(v.classList){let D=M.trim().split(" ");for(let I=0;I<D.length;I++)v.classList.add(D[I])}else{let D=M.split(" ");for(let I=0;I<D.length;I++)v.className+=" "+D[I]}}static removeClass(v,M){v&&M&&(v.classList?v.classList.remove(M):v.className=v.className.replace(new RegExp("(^|\\b)"+M.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(v,M){return!(!v||!M)&&(v.classList?v.classList.contains(M):new RegExp("(^| )"+M+"( |$)","gi").test(v.className))}static siblings(v){return Array.prototype.filter.call(v.parentNode.children,function(M){return M!==v})}static find(v,M){return Array.from(v.querySelectorAll(M))}static findSingle(v,M){return v?v.querySelector(M):null}static index(v){let M=v.parentNode.childNodes,D=0;for(var I=0;I<M.length;I++){if(M[I]==v)return D;1==M[I].nodeType&&D++}return-1}static indexWithinGroup(v,M){let D=v.parentNode?v.parentNode.childNodes:[],I=0;for(var x=0;x<D.length;x++){if(D[x]==v)return I;D[x].attributes&&D[x].attributes[M]&&1==D[x].nodeType&&I++}return-1}static appendOverlay(v,M,D="self"){"self"!==D&&v&&M&&this.appendChild(v,M)}static alignOverlay(v,M,D="self",I=!0){v&&M&&(I&&(v.style.minWidth||(v.style.minWidth=g.getOuterWidth(M)+"px")),"self"===D?this.relativePosition(v,M):this.absolutePosition(v,M))}static relativePosition(v,M){const D=Ot=>{if(Ot)return"relative"===getComputedStyle(Ot).getPropertyValue("position")?Ot:D(Ot.parentElement)},I=v.offsetParent?{width:v.offsetWidth,height:v.offsetHeight}:this.getHiddenElementDimensions(v),x=M.offsetHeight,X=M.getBoundingClientRect(),he=this.getWindowScrollTop(),Se=this.getWindowScrollLeft(),Ae=this.getViewport(),qe=D(v)?.getBoundingClientRect()||{top:-1*he,left:-1*Se};let rt,gt;X.top+x+I.height>Ae.height?(rt=X.top-qe.top-I.height,v.style.transformOrigin="bottom",X.top+rt<0&&(rt=-1*X.top)):(rt=x+X.top-qe.top,v.style.transformOrigin="top"),gt=I.width>Ae.width?-1*(X.left-qe.left):X.left-qe.left+I.width>Ae.width?-1*(X.left-qe.left+I.width-Ae.width):X.left-qe.left,v.style.top=rt+"px",v.style.left=gt+"px"}static absolutePosition(v,M){const D=v.offsetParent?{width:v.offsetWidth,height:v.offsetHeight}:this.getHiddenElementDimensions(v),I=D.height,x=D.width,X=M.offsetHeight,he=M.offsetWidth,Se=M.getBoundingClientRect(),Ae=this.getWindowScrollTop(),Ve=this.getWindowScrollLeft(),qe=this.getViewport();let rt,gt;Se.top+X+I>qe.height?(rt=Se.top+Ae-I,v.style.transformOrigin="bottom",rt<0&&(rt=Ae)):(rt=X+Se.top+Ae,v.style.transformOrigin="top"),gt=Se.left+x>qe.width?Math.max(0,Se.left+Ve+he-x):Se.left+Ve,v.style.top=rt+"px",v.style.left=gt+"px"}static getParents(v,M=[]){return null===v.parentNode?M:this.getParents(v.parentNode,M.concat([v.parentNode]))}static getScrollableParents(v){let M=[];if(v){let D=this.getParents(v);const I=/(auto|scroll)/,x=X=>{let he=window.getComputedStyle(X,null);return I.test(he.getPropertyValue("overflow"))||I.test(he.getPropertyValue("overflowX"))||I.test(he.getPropertyValue("overflowY"))};for(let X of D){let he=1===X.nodeType&&X.dataset.scrollselectors;if(he){let Se=he.split(",");for(let Ae of Se){let Ve=this.findSingle(X,Ae);Ve&&x(Ve)&&M.push(Ve)}}9!==X.nodeType&&x(X)&&M.push(X)}}return M}static getHiddenElementOuterHeight(v){v.style.visibility="hidden",v.style.display="block";let M=v.offsetHeight;return v.style.display="none",v.style.visibility="visible",M}static getHiddenElementOuterWidth(v){v.style.visibility="hidden",v.style.display="block";let M=v.offsetWidth;return v.style.display="none",v.style.visibility="visible",M}static getHiddenElementDimensions(v){let M={};return v.style.visibility="hidden",v.style.display="block",M.width=v.offsetWidth,M.height=v.offsetHeight,v.style.display="none",v.style.visibility="visible",M}static scrollInView(v,M){let D=getComputedStyle(v).getPropertyValue("borderTopWidth"),I=D?parseFloat(D):0,x=getComputedStyle(v).getPropertyValue("paddingTop"),X=x?parseFloat(x):0,he=v.getBoundingClientRect(),Ae=M.getBoundingClientRect().top+document.body.scrollTop-(he.top+document.body.scrollTop)-I-X,Ve=v.scrollTop,qe=v.clientHeight,rt=this.getOuterHeight(M);Ae<0?v.scrollTop=Ve+Ae:Ae+rt>qe&&(v.scrollTop=Ve+Ae-qe+rt)}static fadeIn(v,M){v.style.opacity=0;let D=+new Date,I=0,x=function(){I=+v.style.opacity.replace(",",".")+((new Date).getTime()-D)/M,v.style.opacity=I,D=+new Date,+I<1&&(window.requestAnimationFrame&&requestAnimationFrame(x)||setTimeout(x,16))};x()}static fadeOut(v,M){var D=1,X=50/M;let he=setInterval(()=>{(D-=X)<=0&&(D=0,clearInterval(he)),v.style.opacity=D},50)}static getWindowScrollTop(){let v=document.documentElement;return(window.pageYOffset||v.scrollTop)-(v.clientTop||0)}static getWindowScrollLeft(){let v=document.documentElement;return(window.pageXOffset||v.scrollLeft)-(v.clientLeft||0)}static matches(v,M){var D=Element.prototype;return(D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.msMatchesSelector||function(x){return-1!==[].indexOf.call(document.querySelectorAll(x),this)}).call(v,M)}static getOuterWidth(v,M){let D=v.offsetWidth;if(M){let I=getComputedStyle(v);D+=parseFloat(I.marginLeft)+parseFloat(I.marginRight)}return D}static getHorizontalPadding(v){let M=getComputedStyle(v);return parseFloat(M.paddingLeft)+parseFloat(M.paddingRight)}static getHorizontalMargin(v){let M=getComputedStyle(v);return parseFloat(M.marginLeft)+parseFloat(M.marginRight)}static innerWidth(v){let M=v.offsetWidth,D=getComputedStyle(v);return M+=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight),M}static width(v){let M=v.offsetWidth,D=getComputedStyle(v);return M-=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight),M}static getInnerHeight(v){let M=v.offsetHeight,D=getComputedStyle(v);return M+=parseFloat(D.paddingTop)+parseFloat(D.paddingBottom),M}static getOuterHeight(v,M){let D=v.offsetHeight;if(M){let I=getComputedStyle(v);D+=parseFloat(I.marginTop)+parseFloat(I.marginBottom)}return D}static getHeight(v){let M=v.offsetHeight,D=getComputedStyle(v);return M-=parseFloat(D.paddingTop)+parseFloat(D.paddingBottom)+parseFloat(D.borderTopWidth)+parseFloat(D.borderBottomWidth),M}static getWidth(v){let M=v.offsetWidth,D=getComputedStyle(v);return M-=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight)+parseFloat(D.borderLeftWidth)+parseFloat(D.borderRightWidth),M}static getViewport(){let v=window,M=document,D=M.documentElement,I=M.getElementsByTagName("body")[0];return{width:v.innerWidth||D.clientWidth||I.clientWidth,height:v.innerHeight||D.clientHeight||I.clientHeight}}static getOffset(v){var M=v.getBoundingClientRect();return{top:M.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:M.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(v,M){let D=v.parentNode;if(!D)throw"Can't replace element";return D.replaceChild(M,v)}static getUserAgent(){return navigator.userAgent}static isIE(){var v=window.navigator.userAgent;return v.indexOf("MSIE ")>0||(v.indexOf("Trident/")>0?(v.indexOf("rv:"),!0):v.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(v,M){if(this.isElement(M))M.appendChild(v);else{if(!M.el||!M.el.nativeElement)throw"Cannot append "+M+" to "+v;M.el.nativeElement.appendChild(v)}}static removeChild(v,M){if(this.isElement(M))M.removeChild(v);else{if(!M.el||!M.el.nativeElement)throw"Cannot remove "+v+" from "+M;M.el.nativeElement.removeChild(v)}}static removeElement(v){"remove"in Element.prototype?v.remove():v.parentNode.removeChild(v)}static isElement(v){return"object"==typeof HTMLElement?v instanceof HTMLElement:v&&"object"==typeof v&&null!==v&&1===v.nodeType&&"string"==typeof v.nodeName}static calculateScrollbarWidth(v){if(v){let M=getComputedStyle(v);return v.offsetWidth-v.clientWidth-parseFloat(M.borderLeftWidth)-parseFloat(M.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let M=document.createElement("div");M.className="p-scrollbar-measure",document.body.appendChild(M);let D=M.offsetWidth-M.clientWidth;return document.body.removeChild(M),this.calculatedScrollbarWidth=D,D}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let v=document.createElement("div");v.className="p-scrollbar-measure",document.body.appendChild(v);let M=v.offsetHeight-v.clientHeight;return document.body.removeChild(v),this.calculatedScrollbarWidth=M,M}static invokeElementMethod(v,M,D){v[M].apply(v,D)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let v=this.resolveUserAgent();this.browser={},v.browser&&(this.browser[v.browser]=!0,this.browser.version=v.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let v=navigator.userAgent.toLowerCase(),M=/(chrome)[ \/]([\w.]+)/.exec(v)||/(webkit)[ \/]([\w.]+)/.exec(v)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(v)||/(msie) ([\w.]+)/.exec(v)||v.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(v)||[];return{browser:M[1]||"",version:M[2]||"0"}}static isInteger(v){return Number.isInteger?Number.isInteger(v):"number"==typeof v&&isFinite(v)&&Math.floor(v)===v}static isHidden(v){return!v||null===v.offsetParent}static isVisible(v){return v&&null!=v.offsetParent}static isExist(v){return null!==v&&typeof v<"u"&&v.nodeName&&v.parentNode}static focus(v,M){v&&document.activeElement!==v&&v.focus(M)}static getFocusableElements(v){let M=g.find(v,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),D=[];for(let I of M)(I.offsetWidth||I.offsetHeight||I.getClientRects().length)&&D.push(I);return D}static getNextFocusableElement(v,M=!1){const D=g.getFocusableElements(v);let I=0;if(D&&D.length>0){const x=D.indexOf(D[0].ownerDocument.activeElement);M?I=-1==x||0===x?D.length-1:x-1:-1!=x&&x!==D.length-1&&(I=x+1)}return D[I]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(v,M){if(!v)return null;switch(v){case"document":return document;case"window":return window;case"@next":return M?.nextElementSibling;case"@prev":return M?.previousElementSibling;case"@parent":return M?.parentElement;case"@grandparent":return M?.parentElement.parentElement;default:const D=typeof v;if("string"===D)return document.querySelector(v);if("object"===D&&v.hasOwnProperty("nativeElement"))return this.isExist(v.nativeElement)?v.nativeElement:void 0;const x=(X=v)&&X.constructor&&X.call&&X.apply?v():v;return x&&9===x.nodeType||this.isExist(x)?x:null}var X}}return g.zindex=1e3,g.calculatedScrollbarWidth=null,g.calculatedScrollbarHeight=null,g})();class sx{constructor(C,v=(()=>{})){this.element=C,this.listener=v}bindScrollListener(){this.scrollableParents=Ln.getScrollableParents(this.element);for(let C=0;C<this.scrollableParents.length;C++)this.scrollableParents[C].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let C=0;C<this.scrollableParents.length;C++)this.scrollableParents[C].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Gi{static equals(C,v,M){return M?this.resolveFieldData(C,M)===this.resolveFieldData(v,M):this.equalsByValue(C,v)}static equalsByValue(C,v){if(C===v)return!0;if(C&&v&&"object"==typeof C&&"object"==typeof v){var I,x,X,M=Array.isArray(C),D=Array.isArray(v);if(M&&D){if((x=C.length)!=v.length)return!1;for(I=x;0!=I--;)if(!this.equalsByValue(C[I],v[I]))return!1;return!0}if(M!=D)return!1;var he=this.isDate(C),Se=this.isDate(v);if(he!=Se)return!1;if(he&&Se)return C.getTime()==v.getTime();var Ae=C instanceof RegExp,Ve=v instanceof RegExp;if(Ae!=Ve)return!1;if(Ae&&Ve)return C.toString()==v.toString();var qe=Object.keys(C);if((x=qe.length)!==Object.keys(v).length)return!1;for(I=x;0!=I--;)if(!Object.prototype.hasOwnProperty.call(v,qe[I]))return!1;for(I=x;0!=I--;)if(!this.equalsByValue(C[X=qe[I]],v[X]))return!1;return!0}return C!=C&&v!=v}static resolveFieldData(C,v){if(C&&v){if(this.isFunction(v))return v(C);if(-1==v.indexOf("."))return C[v];{let M=v.split("."),D=C;for(let I=0,x=M.length;I<x;++I){if(null==D)return null;D=D[M[I]]}return D}}return null}static isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)}static reorderArray(C,v,M){C&&v!==M&&(M>=C.length&&(M%=C.length,v%=C.length),C.splice(M,0,C.splice(v,1)[0]))}static insertIntoOrderedArray(C,v,M,D){if(M.length>0){let I=!1;for(let x=0;x<M.length;x++)if(this.findIndexInList(M[x],D)>v){M.splice(x,0,C),I=!0;break}I||M.push(C)}else M.push(C)}static findIndexInList(C,v){let M=-1;if(v)for(let D=0;D<v.length;D++)if(v[D]==C){M=D;break}return M}static contains(C,v){if(null!=C&&v&&v.length)for(let M of v)if(this.equals(C,M))return!0;return!1}static removeAccents(C){return C&&C.search(/[\xC0-\xFF]/g)>-1&&(C=C.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),C}static isDate(C){return"[object Date]"===Object.prototype.toString.call(C)}static isEmpty(C){return null==C||""===C||Array.isArray(C)&&0===C.length||!this.isDate(C)&&"object"==typeof C&&0===Object.keys(C).length}static isNotEmpty(C){return!this.isEmpty(C)}static compare(C,v,M,D=1){let I=-1;const x=this.isEmpty(C),X=this.isEmpty(v);return I=x&&X?0:x?D:X?-D:"string"==typeof C&&"string"==typeof v?C.localeCompare(v,M,{numeric:!0}):C<v?-1:C>v?1:0,I}static sort(C,v,M=1,D,I=1){return(1===I?M:I)*Gi.compare(C,v,D,M)}static merge(C,v){if(null!=C||null!=v)return null!=C&&"object"!=typeof C||null!=v&&"object"!=typeof v?null!=C&&"string"!=typeof C||null!=v&&"string"!=typeof v?v||C:[C||"",v||""].join(" "):{...C||{},...v||{}}}}var ox=0;function mC(){return"pr_id_"+ ++ox}var da=function Zz(){let g=[];const D=I=>I&&parseInt(I.style.zIndex,10)||0;return{get:D,set:(I,x,X)=>{x&&(x.style.zIndex=String(((I,x)=>{let X=g.length>0?g[g.length-1]:{key:I,value:x},he=X.value+(X.key===I?0:x)+1;return g.push({key:I,value:he}),he})(I,X)))},clear:I=>{I&&((I=>{g=g.filter(x=>x.value!==I)})(D(I)),I.style.zIndex="")},getCurrent:()=>g.length>0?g[g.length-1].value:0}}();const Gz=["*"];var Ku=(()=>{return(g=Ku||(Ku={}))[g.ACCEPT=0]="ACCEPT",g[g.REJECT=1]="REJECT",g[g.CANCEL=2]="CANCEL",Ku;var g})();let gC=(()=>{class g{constructor(){this.requireConfirmationSource=new Ie,this.acceptConfirmationSource=new Ie,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(v){return this.requireConfirmationSource.next(v),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),ko=(()=>{class g{}return g.STARTS_WITH="startsWith",g.CONTAINS="contains",g.NOT_CONTAINS="notContains",g.ENDS_WITH="endsWith",g.EQUALS="equals",g.NOT_EQUALS="notEquals",g.IN="in",g.LESS_THAN="lt",g.LESS_THAN_OR_EQUAL_TO="lte",g.GREATER_THAN="gt",g.GREATER_THAN_OR_EQUAL_TO="gte",g.BETWEEN="between",g.IS="is",g.IS_NOT="isNot",g.BEFORE="before",g.AFTER="after",g.DATE_IS="dateIs",g.DATE_IS_NOT="dateIsNot",g.DATE_BEFORE="dateBefore",g.DATE_AFTER="dateAfter",g})(),Kz=(()=>{class g{constructor(){this.filters={startsWith:(v,M,D)=>{if(null==M||""===M.trim())return!0;if(null==v)return!1;let I=Gi.removeAccents(M.toString()).toLocaleLowerCase(D);return Gi.removeAccents(v.toString()).toLocaleLowerCase(D).slice(0,I.length)===I},contains:(v,M,D)=>{if(null==M||"string"==typeof M&&""===M.trim())return!0;if(null==v)return!1;let I=Gi.removeAccents(M.toString()).toLocaleLowerCase(D);return-1!==Gi.removeAccents(v.toString()).toLocaleLowerCase(D).indexOf(I)},notContains:(v,M,D)=>{if(null==M||"string"==typeof M&&""===M.trim())return!0;if(null==v)return!1;let I=Gi.removeAccents(M.toString()).toLocaleLowerCase(D);return-1===Gi.removeAccents(v.toString()).toLocaleLowerCase(D).indexOf(I)},endsWith:(v,M,D)=>{if(null==M||""===M.trim())return!0;if(null==v)return!1;let I=Gi.removeAccents(M.toString()).toLocaleLowerCase(D),x=Gi.removeAccents(v.toString()).toLocaleLowerCase(D);return-1!==x.indexOf(I,x.length-I.length)},equals:(v,M,D)=>null==M||"string"==typeof M&&""===M.trim()||null!=v&&(v.getTime&&M.getTime?v.getTime()===M.getTime():Gi.removeAccents(v.toString()).toLocaleLowerCase(D)==Gi.removeAccents(M.toString()).toLocaleLowerCase(D)),notEquals:(v,M,D)=>!(null==M||"string"==typeof M&&""===M.trim()||null!=v&&(v.getTime&&M.getTime?v.getTime()===M.getTime():Gi.removeAccents(v.toString()).toLocaleLowerCase(D)==Gi.removeAccents(M.toString()).toLocaleLowerCase(D))),in:(v,M)=>{if(null==M||0===M.length)return!0;for(let D=0;D<M.length;D++)if(Gi.equals(v,M[D]))return!0;return!1},between:(v,M)=>null==M||null==M[0]||null==M[1]||null!=v&&(v.getTime?M[0].getTime()<=v.getTime()&&v.getTime()<=M[1].getTime():M[0]<=v&&v<=M[1]),lt:(v,M,D)=>null==M||null!=v&&(v.getTime&&M.getTime?v.getTime()<M.getTime():v<M),lte:(v,M,D)=>null==M||null!=v&&(v.getTime&&M.getTime?v.getTime()<=M.getTime():v<=M),gt:(v,M,D)=>null==M||null!=v&&(v.getTime&&M.getTime?v.getTime()>M.getTime():v>M),gte:(v,M,D)=>null==M||null!=v&&(v.getTime&&M.getTime?v.getTime()>=M.getTime():v>=M),is:(v,M,D)=>this.filters.equals(v,M,D),isNot:(v,M,D)=>this.filters.notEquals(v,M,D),before:(v,M,D)=>this.filters.lt(v,M,D),after:(v,M,D)=>this.filters.gt(v,M,D),dateIs:(v,M)=>null==M||null!=v&&v.toDateString()===M.toDateString(),dateIsNot:(v,M)=>null==M||null!=v&&v.toDateString()!==M.toDateString(),dateBefore:(v,M)=>null==M||null!=v&&v.getTime()<M.getTime(),dateAfter:(v,M)=>null==M||null!=v&&v.getTime()>M.getTime()}}filter(v,M,D,I,x){let X=[];if(v)for(let he of v)for(let Se of M){let Ae=Gi.resolveFieldData(he,Se);if(this.filters[I](Ae,D,x)){X.push(he);break}}return X}register(v,M){this.filters[v]=M}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),yC=(()=>{class g{constructor(){this.messageSource=new Ie,this.clearSource=new Ie,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(v){v&&this.messageSource.next(v)}addAll(v){v&&v.length&&this.messageSource.next(v)}clear(v){this.clearSource.next(v||null)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})(),Hz=(()=>{class g{constructor(){this.clickSource=new Ie,this.clickObservable=this.clickSource.asObservable()}add(v){v&&this.clickSource.next(v)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Xd=(()=>{class g{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[ko.STARTS_WITH,ko.CONTAINS,ko.NOT_CONTAINS,ko.ENDS_WITH,ko.EQUALS,ko.NOT_EQUALS],numeric:[ko.EQUALS,ko.NOT_EQUALS,ko.LESS_THAN,ko.LESS_THAN_OR_EQUAL_TO,ko.GREATER_THAN,ko.GREATER_THAN_OR_EQUAL_TO],date:[ko.DATE_IS,ko.DATE_IS_NOT,ko.DATE_BEFORE,ko.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Ie,this.translationObserver=this.translationSource.asObservable()}getTranslation(v){return this.translation[v]}setTranslation(v){this.translation={...this.translation,...v},this.translationSource.next(this.translation)}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Yz=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275cmp=fs({type:g,selectors:[["p-footer"]],ngContentSelectors:Gz,decls:1,vars:0,template:function(v,M){1&v&&(lp(),cp(0))},encapsulation:2}),g})(),Kc=(()=>{class g{constructor(v){this.template=v}getType(){return this.name}}return g.\u0275fac=function(v){return new(v||g)(pn(tc))},g.\u0275dir=Tr({type:g,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),g})(),Hu=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})(),Yy=(()=>{class g{}return g.STARTS_WITH="startsWith",g.CONTAINS="contains",g.NOT_CONTAINS="notContains",g.ENDS_WITH="endsWith",g.EQUALS="equals",g.NOT_EQUALS="notEquals",g.NO_FILTER="noFilter",g.LT="lt",g.LTE="lte",g.GT="gt",g.GTE="gte",g.IS="is",g.IS_NOT="isNot",g.BEFORE="before",g.AFTER="after",g.CLEAR="clear",g.APPLY="apply",g.MATCH_ALL="matchAll",g.MATCH_ANY="matchAny",g.ADD_RULE="addRule",g.REMOVE_RULE="removeRule",g.ACCEPT="accept",g.REJECT="reject",g.CHOOSE="choose",g.UPLOAD="upload",g.CANCEL="cancel",g.DAY_NAMES="dayNames",g.DAY_NAMES_SHORT="dayNamesShort",g.DAY_NAMES_MIN="dayNamesMin",g.MONTH_NAMES="monthNames",g.MONTH_NAMES_SHORT="monthNamesShort",g.FIRST_DAY_OF_WEEK="firstDayOfWeek",g.TODAY="today",g.WEEK_HEADER="weekHeader",g.WEAK="weak",g.MEDIUM="medium",g.STRONG="strong",g.PASSWORD_PROMPT="passwordPrompt",g.EMPTY_MESSAGE="emptyMessage",g.EMPTY_FILTER_MESSAGE="emptyFilterMessage",g})();const Jz=["mask"],Qz=["content"],Xz=["titlebar"];function qz(g,C){if(1&g){const v=Ms();Yn(0,"div",11),Fr("mousedown",function(D){return fi(v),mi(kn(2).initResize(D))}),er()}}const e$=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function t$(g,C){if(1&g){const v=Ms();Yn(0,"button",18),Fr("click",function(){return fi(v),mi(kn(3).maximize())})("keydown.enter",function(){return fi(v),mi(kn(3).maximize())}),Xi(1,"span",19),er()}if(2&g){const v=kn(3);mn("ngClass",dm(2,e$)),Tn(1),mn("ngClass",v.maximized?v.minimizeIcon:v.maximizeIcon)}}function n$(g,C){if(1&g){const v=Ms();Yn(0,"button",20),Fr("click",function(){return fi(v),mi(kn(3).hide())})("keydown.enter",function(){return fi(v),mi(kn(3).hide())}),Xi(1,"span",21),er()}2&g&&mn("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function r$(g,C){if(1&g){const v=Ms();Yn(0,"div",12,13),Fr("mousedown",function(D){return fi(v),mi(kn(2).initDrag(D))}),Yn(2,"span",14),Zi(3),er(),Yn(4,"div",15),Zn(5,t$,2,3,"button",16),Zn(6,n$,2,1,"button",17),er()()}if(2&g){const v=kn(2);Tn(3),Ca(v.config.header),Tn(2),mn("ngIf",v.config.maximizable),Tn(1),mn("ngIf",!1!==v.config.closable)}}function i$(g,C){}function s$(g,C){if(1&g&&(Yn(0,"div",22),Zi(1),er()),2&g){const v=kn(2);Tn(1),Uu(" ",v.config.footer," ")}}const o$=function(g,C,v,M){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":g,"p-dialog-resizable":C,"p-dialog-draggable":v,"p-dialog-maximized":M}},a$=function(g,C){return{transform:g,transition:C}},l$=function(g){return{value:"visible",params:g}};function c$(g,C){if(1&g){const v=Ms();Yn(0,"div",3,4),Fr("@animation.start",function(D){return fi(v),mi(kn().onAnimationStart(D))})("@animation.done",function(D){return fi(v),mi(kn().onAnimationEnd(D))}),Zn(2,qz,1,0,"div",5),Zn(3,r$,7,3,"div",6),Yn(4,"div",7,8),Zn(6,i$,0,0,"ng-template",9),er(),Zn(7,s$,2,1,"div",10),er()}if(2&g){const v=kn();xs(v.config.styleClass),im("width",v.config.width)("height",v.config.height),mn("ngClass",gp(13,o$,v.config.rtl,v.config.resizable,v.config.draggable,v.maximized))("ngStyle",v.config.style)("@animation",xi(21,l$,tl(18,a$,v.transformOptions,v.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),Tn(2),mn("ngIf",v.config.resizable),Tn(1),mn("ngIf",!1!==v.config.showHeader),Tn(1),mn("ngStyle",v.config.contentStyle),Tn(3),mn("ngIf",v.config.footer)}}const u$=function(g,C,v,M,D,I,x,X,he){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":g,"p-dialog-left":C,"p-dialog-right":v,"p-dialog-top":M,"p-dialog-bottom":D,"p-dialog-top-left":I,"p-dialog-top-right":x,"p-dialog-bottom-left":X,"p-dialog-bottom-right":he}};let ax=(()=>{class g{constructor(v){this.viewContainerRef=v}}return g.\u0275fac=function(v){return new(v||g)(pn(nl))},g.\u0275dir=Tr({type:g,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),g})();class vC{}class Jy{constructor(){this._onClose=new Ie,this.onClose=this._onClose.asObservable(),this._onDestroy=new Ie,this.onDestroy=this._onDestroy.asObservable(),this._onDragStart=new Ie,this.onDragStart=this._onDragStart.asObservable(),this._onDragEnd=new Ie,this.onDragEnd=this._onDragEnd.asObservable(),this._onResizeInit=new Ie,this.onResizeInit=this._onResizeInit.asObservable(),this._onResizeEnd=new Ie,this.onResizeEnd=this._onResizeEnd.asObservable(),this._onMaximize=new Ie,this.onMaximize=this._onMaximize.asObservable()}close(C){this._onClose.next(C)}destroy(){this._onDestroy.next(null)}dragStart(C){this._onDragStart.next(C)}dragEnd(C){this._onDragEnd.next(C)}resizeInit(C){this._onResizeInit.next(C)}resizeEnd(C){this._onResizeEnd.next(C)}maximize(C){this._onMaximize.next(C)}}const d$=bp([Ua({transform:"{{transform}}",opacity:0}),Wu("{{transition}}",Ua({transform:"none",opacity:1}))]),h$=bp([Wu("{{transition}}",Ua({transform:"{{transform}}",opacity:0}))]);let p$=(()=>{class g{constructor(v,M,D,I,x,X,he){this.componentFactoryResolver=v,this.cd=M,this.renderer=D,this.config=I,this.dialogRef=x,this.zone=X,this.primeNGConfig=he,this.visible=!0,this._style={},this.transformOptions="scale(0.7)"}get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon?this.config.maximizeIcon:"pi pi-window-maximize"}get minimizeIcon(){return this.config.minimizeIcon?this.config.minimizeIcon:"pi pi-window-minimize"}get style(){return this._style}get position(){return this.config.position}set style(v){v&&(this._style={...v},this.originalStyle=v)}get parent(){const v=Array.from(document.getElementsByClassName("p-dialog"));if(v.length>1)return v.pop()}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(v){let M=this.componentFactoryResolver.resolveComponentFactory(v),D=this.insertionPoint?.viewContainerRef;D?.clear(),this.componentRef=D?.createComponent(M)}moveOnTop(){!1!==this.config.autoZIndex&&(da.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(v){switch(v.toState){case"visible":this.container=v.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&Ln.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(v){"void"===v.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&da.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",v=>{this.wrapper&&this.wrapper.isSameNode(v.target)&&this.hide()})),!1!==this.config.modal&&Ln.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&Ln.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(v){if(!this.parent&&9===v.which){v.preventDefault();let M=Ln.getFocusableElements(this.container);if(M&&M.length>0)if(M[0].ownerDocument.activeElement){let D=M.indexOf(M[0].ownerDocument.activeElement);v.shiftKey?-1==D||0===D?M[M.length-1].focus():M[D-1].focus():-1==D||D===M.length-1?M[0].focus():M[D+1].focus()}else M[0].focus()}}focus(){const v=Ln.getFocusableElements(this.container);v&&v.length>0&&this.zone.runOutsideAngular(()=>{setTimeout(()=>v[0].focus(),5)})}maximize(){this.maximized=!this.maximized,this.maximized?Ln.addClass(document.body,"p-overflow-hidden"):Ln.removeClass(document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(v){this.config.resizable&&(this.resizing=!0,this.lastPageX=v.pageX,this.lastPageY=v.pageY,Ln.addClass(document.body,"p-unselectable-text"),this.dialogRef.resizeInit(v))}onResize(v){if(this.resizing){let M=v.pageX-this.lastPageX,D=v.pageY-this.lastPageY,I=Ln.getOuterWidth(this.container),x=Ln.getOuterHeight(this.container),X=Ln.getOuterHeight(this.contentViewChild.nativeElement),he=I+M,Se=x+D,Ae=this.container.style.minWidth,Ve=this.container.style.minHeight,qe=this.container.getBoundingClientRect(),rt=Ln.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(he+=M,Se+=D),(!Ae||he>parseInt(Ae))&&qe.left+he<rt.width&&(this._style.width=he+"px",this.container.style.width=this._style.width),(!Ve||Se>parseInt(Ve))&&qe.top+Se<rt.height&&(this.contentViewChild.nativeElement.style.height=X+Se-x+"px",this._style.height&&(this._style.height=Se+"px",this.container.style.height=this._style.height)),this.lastPageX=v.pageX,this.lastPageY=v.pageY}}resizeEnd(v){this.resizing&&(this.resizing=!1,Ln.removeClass(document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(v))}initDrag(v){Ln.hasClass(v.target,"p-dialog-header-icon")||Ln.hasClass(v.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=v.pageX,this.lastPageY=v.pageY,this.container.style.margin="0",Ln.addClass(document.body,"p-unselectable-text"),this.dialogRef.dragStart(v))}onDrag(v){if(this.dragging){let M=Ln.getOuterWidth(this.container),D=Ln.getOuterHeight(this.container),I=v.pageX-this.lastPageX,x=v.pageY-this.lastPageY,X=this.container.getBoundingClientRect(),he=X.left+I,Se=X.top+x,Ae=Ln.getViewport();this.container.style.position="fixed",this.keepInViewport?(he>=this.minX&&he+M<Ae.width&&(this._style.left=he+"px",this.lastPageX=v.pageX,this.container.style.left=he+"px"),Se>=this.minY&&Se+D<Ae.height&&(this._style.top=Se+"px",this.lastPageY=v.pageY,this.container.style.top=Se+"px")):(this.lastPageX=v.pageX,this.container.style.left=he+"px",this.lastPageY=v.pageY,this.container.style.top=Se+"px")}}endDrag(v){this.dragging&&(this.dragging=!1,Ln.removeClass(document.body,"p-unselectable-text"),this.dialogRef.dragEnd(v),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",M=>{27==M.which&&parseInt(this.container.style.zIndex)==da.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return g.\u0275fac=function(v){return new(v||g)(pn(Fd),pn(rl),pn(ba),pn(vC),pn(Jy),pn(Ri),pn(Xd))},g.\u0275cmp=fs({type:g,selectors:[["p-dynamicDialog"]],viewQuery:function(v,M){if(1&v&&(Ss(ax,5),Ss(Jz,5),Ss(Qz,5),Ss(Xz,5)),2&v){let D;Ni(D=ji())&&(M.insertionPoint=D.first),Ni(D=ji())&&(M.maskViewChild=D.first),Ni(D=ji())&&(M.contentViewChild=D.first),Ni(D=ji())&&(M.headerViewChild=D.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["content",""],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(v,M){1&v&&(Yn(0,"div",0,1),Zn(2,c$,8,23,"div",2),er()),2&v&&(xs(M.config.maskStyleClass),mn("ngClass",dE(4,u$,[!1!==M.config.modal,"left"===M.position,"right"===M.position,"top"===M.position,"bottom"===M.position,"topleft"===M.position||"top-left"===M.position,"topright"===M.position||"top-right"===M.position,"bottomleft"===M.position||"bottom-left"===M.position,"bottomright"===M.position||"bottom-right"===M.position])),Tn(2),mn("ngIf",M.visible))},dependencies:function(){return[Wo,ja,ol,ax]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Mm("animation",[$c("void => visible",[Cp(d$)]),$c("visible => void",[Cp(h$)])])]}}),g})(),f$=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})();class m${constructor(C,v){this._parentInjector=C,this._additionalTokens=v}get(C,v,M){return this._additionalTokens.get(C)||this._parentInjector.get(C,v)}}let lx=(()=>{class g{constructor(v,M,D){this.componentFactoryResolver=v,this.appRef=M,this.injector=D,this.dialogComponentRefMap=new Map}open(v,M){const D=this.appendDialogComponentToBody(M);return this.dialogComponentRefMap.get(D).instance.childComponentType=v,D}appendDialogComponentToBody(v){const M=new WeakMap;M.set(vC,v);const D=new Jy;M.set(Jy,D);const I=D.onClose.subscribe(()=>{this.dialogComponentRefMap.get(D).instance.close()}),x=D.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(D),x.unsubscribe(),I.unsubscribe()}),he=this.componentFactoryResolver.resolveComponentFactory(p$).create(new m$(this.injector,M));return this.appRef.attachView(he.hostView),document.body.appendChild(he.hostView.rootNodes[0]),this.dialogComponentRefMap.set(D,he),D}removeDialogComponentFromBody(v){if(!v||!this.dialogComponentRefMap.has(v))return;const M=this.dialogComponentRefMap.get(v);this.appRef.detachView(M.hostView),M.destroy(),this.dialogComponentRefMap.delete(v)}}return g.\u0275fac=function(v){return new(v||g)(dr(Fd),dr(_p),dr(La))},g.\u0275prov=lr({token:g,factory:g.\u0275fac}),g})();class g$ extends k{constructor(C,v){super()}schedule(C,v=0){return this}}const Qy={setInterval(g,C,...v){const{delegate:M}=Qy;return M?.setInterval?M.setInterval(g,C,...v):setInterval(g,C,...v)},clearInterval(g){const{delegate:C}=Qy;return(C?.clearInterval||clearInterval)(g)},delegate:void 0};class y$ extends g${constructor(C,v){super(C,v),this.scheduler=C,this.work=v,this.pending=!1}schedule(C,v=0){var M;if(this.closed)return this;this.state=C;const D=this.id,I=this.scheduler;return null!=D&&(this.id=this.recycleAsyncId(I,D,v)),this.pending=!0,this.delay=v,this.id=null!==(M=this.id)&&void 0!==M?M:this.requestAsyncId(I,this.id,v),this}requestAsyncId(C,v,M=0){return Qy.setInterval(C.flush.bind(C,this),M)}recycleAsyncId(C,v,M=0){if(null!=M&&this.delay===M&&!1===this.pending)return v;null!=v&&Qy.clearInterval(v)}execute(C,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const M=this._execute(C,v);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,v){let D,M=!1;try{this.work(C)}catch(I){M=!0,D=I||new Error("Scheduled action threw falsy error")}if(M)return this.unsubscribe(),D}unsubscribe(){if(!this.closed){const{id:C,scheduler:v}=this,{actions:M}=v;this.work=this.state=this.scheduler=null,this.pending=!1,B(M,this),null!=C&&(this.id=this.recycleAsyncId(v,C,null)),this.delay=null,super.unsubscribe()}}}const Gm={schedule(g){let C=requestAnimationFrame,v=cancelAnimationFrame;const{delegate:M}=Gm;M&&(C=M.requestAnimationFrame,v=M.cancelAnimationFrame);const D=C(I=>{v=void 0,g(I)});return new k(()=>v?.(D))},requestAnimationFrame(...g){const{delegate:C}=Gm;return(C?.requestAnimationFrame||requestAnimationFrame)(...g)},cancelAnimationFrame(...g){const{delegate:C}=Gm;return(C?.cancelAnimationFrame||cancelAnimationFrame)(...g)},delegate:void 0},_C={now:()=>(_C.delegate||Date).now(),delegate:void 0};class Km{constructor(C,v=Km.now){this.schedulerActionCtor=C,this.now=v}schedule(C,v=0,M){return new this.schedulerActionCtor(this,C).schedule(M,v)}}Km.now=_C.now;class _$ extends Km{constructor(C,v=Km.now){super(C,v),this.actions=[],this._active=!1}flush(C){const{actions:v}=this;if(this._active)return void v.push(C);let M;this._active=!0;do{if(M=C.execute(C.state,C.delay))break}while(C=v.shift());if(this._active=!1,M){for(;C=v.shift();)C.unsubscribe();throw M}}}const b$=new class E$ extends _${flush(C){this._active=!0;const v=this._scheduled;this._scheduled=void 0;const{actions:M}=this;let D;C=C||M.shift();do{if(D=C.execute(C.state,C.delay))break}while((C=M[0])&&C.id===v&&M.shift());if(this._active=!1,D){for(;(C=M[0])&&C.id===v&&M.shift();)C.unsubscribe();throw D}}}(class v$ extends y${constructor(C,v){super(C,v),this.scheduler=C,this.work=v}requestAsyncId(C,v,M=0){return null!==M&&M>0?super.requestAsyncId(C,v,M):(C.actions.push(this),C._scheduled||(C._scheduled=Gm.requestAnimationFrame(()=>C.flush(void 0))))}recycleAsyncId(C,v,M=0){var D;if(null!=M?M>0:this.delay>0)return super.recycleAsyncId(C,v,M);const{actions:I}=C;null!=v&&(null===(D=I[I.length-1])||void 0===D?void 0:D.id)!==v&&(Gm.cancelAnimationFrame(v),C._scheduled=void 0)}});class C$ extends Ie{constructor(C=1/0,v=1/0,M=_C){super(),this._bufferSize=C,this._windowTime=v,this._timestampProvider=M,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=v===1/0,this._bufferSize=Math.max(1,C),this._windowTime=Math.max(1,v)}next(C){const{isStopped:v,_buffer:M,_infiniteTimeWindow:D,_timestampProvider:I,_windowTime:x}=this;v||(M.push(C),!D&&M.push(I.now()+x)),this._trimBuffer(),super.next(C)}_subscribe(C){this._throwIfClosed(),this._trimBuffer();const v=this._innerSubscribe(C),{_infiniteTimeWindow:M,_buffer:D}=this,I=D.slice();for(let x=0;x<I.length&&!C.closed;x+=M?1:2)C.next(I[x]);return this._checkFinalizedStatuses(C),v}_trimBuffer(){const{_bufferSize:C,_timestampProvider:v,_buffer:M,_infiniteTimeWindow:D}=this,I=(D?1:2)*C;if(C<1/0&&I<M.length&&M.splice(0,M.length-I),!D){const x=v.now();let X=0;for(let he=1;he<M.length&&M[he]<=x;he+=2)X=he;X&&M.splice(0,X+1)}}}const T$=["container"],EC=new Or("LottieOptions");let bC=(()=>{class g{constructor(v,M){this.ngZone=v,this.options=M,this.player$=function P$(g,C){const v=g();return(v instanceof Promise?nr(v).pipe(Oe(D=>D.default||D)):jr(v)).pipe(Ao(D=>D.useWebWorker(C)),function M$(g,C,v){let M,D=!1;return g&&"object"==typeof g?({bufferSize:M=1/0,windowTime:C=1/0,refCount:D=!1,scheduler:v}=g):M=g??1/0,Zr({connector:()=>new C$(M,C,v),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:D})}({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe(it(b$))}loadAnimation(v){return this.player$.pipe(Oe(M=>this.createAnimationItem(M,v)))}resolveOptions(v,M){return Object.assign({container:M,renderer:"svg",loop:!0,autoplay:!0},v)}createAnimationItem(v,M){return this.ngZone.runOutsideAngular(()=>v.loadAnimation(M))}}return g.\u0275fac=function(v){return new(v||g)(dr(Ri),dr(EC))},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),D$=(()=>{class g{constructor(v,M,D){this.ngZone=v,this.platformId=M,this.animationLoader=D,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new Ie,this.loadAnimation$=new Ie,this.animationItem$=new cl(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(v,M){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([v,M]))}getAnimationItem(){return Bb(()=>this.animationItem$).pipe(sc(v=>null!==v))}awaitAnimationItemAndStartListening(v){return this.getAnimationItem().pipe(ul(M=>new ue(D=>{this.ngZone.runOutsideAngular(()=>{M.addEventListener(v,I=>{this.ngZone.runOutsideAngular(()=>{D.next(I)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe(sc(([M])=>function e9(g){return g===xO}(this.platformId)&&void 0!==M.options)).pipe(ul(([M,D])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(M.options.currentValue,D)))),function S$(g){return Fe((C,v)=>{un(g).subscribe(Ne(v,()=>v.complete(),ae)),!v.closed&&C.subscribe(v)})}(this.destroy$)).subscribe(M=>{this.ngZone.run(()=>this.animationItem$.next(M))})}destroyAnimation(){const v=this.animationItem$.getValue();null!==v&&(v.destroy(),this.animationItem$.next(null))}}return g.\u0275fac=function(v){return new(v||g)(pn(Ri),pn(Gg),pn(bC))},g.\u0275dir=Tr({type:g,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),g})(),CC=(()=>{class g extends D${constructor(v,M,D){super(v,M,D),this.width=null,this.height=null,this.container=null}ngOnChanges(v){super.loadAnimation(v,this.container.nativeElement)}}return g.\u0275fac=function(v){return new(v||g)(pn(Ri),pn(Gg),pn(bC))},g.\u0275cmp=fs({type:g,selectors:[["ng-lottie"]],viewQuery:function(v,M){if(1&v&&Ss(T$,7),2&v){let D;Ni(D=ji())&&(M.container=D.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[zi,Cr,cE],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(v,M){1&v&&Xi(0,"div",0,1),2&v&&(im("width",M.width||"100%")("height",M.height||"100%"),mn("ngStyle",M.styles)("ngClass",M.containerClass))},dependencies:[Oo,Wo,ol],encapsulation:2,changeDetection:0}),g})(),w$=(()=>{class g{static forRoot(v){return{ngModule:g,providers:[{provide:EC,useValue:v}]}}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[CC]}),g})();class Lp{constructor(C,v){this.ref=C,this.config=v,this.data=null,this.options={path:"/assets/animation-checking.json"},this.config&&this.config.data&&(this.data=this.config.data)}}Lp.\u0275fac=function(C){return new(C||Lp)(pn(Jy),pn(vC))},Lp.\u0275cmp=fs({type:Lp,selectors:[["app-general-dialog"]],decls:6,vars:3,consts:[[1,"flex","flex-column"],["height","300px",3,"options"],[1,"flex","justify-content-center","align-items-center","text-center","font-bold",2,"margin-top","10px"],[1,"flex","justify-content-center","align-items-center","text-center","font-bold",2,"margin-top","10px","color","blue"]],template:function(C,v){1&C&&(Yn(0,"div",0),Xi(1,"ng-lottie",1),Yn(2,"div",2),Zi(3),er(),Yn(4,"div",3),Zi(5),er()()),2&C&&(Tn(1),mn("options",v.options),Tn(2),Uu(" ",v.data.text,""),Tn(2),Uu(" ",v.data.detail,""))},dependencies:[CC]});var ze=T(17626),lc=T(88879),qd=T(85807),ss=T(74333),Xy=T(46882),Ar=T(26584),Hc=T(8314),MC=T(56354),Ai=T(63290),Lt=T(62208),ei=T(10699),en=T(32917),hl=T(23841),cx=T(14889),O$=T(59289),Ke=T(77712),qy=T(90912),A$=T(85931),cr=T(76898),ev=T(2004),zo=T(72642),Ro=T(55915),SC=T(37053),x$=T(2584),tv=T(35575),Rl=T(72392);const nv={widthBreakpoint:{getValue(g){const C=g.viewSize[0],v=g.breakpoints,M=this.values;return C<=v.xsmall?M.xsmall:C<=v.small?M.small:C<=v.medium?M.medium:C<=v.large?M.large:M.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(g){const C=g.viewSize[1],v=g.breakpoints,M=this.values;return C<=v.xsmall?M.xsmall:C<=v.small?M.small:C<=v.medium?M.medium:C<=v.large?M.large:M.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(g){const C=g.viewSize,D=this.values;return C[1]>=C[0]?D.portrait:D.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},TC={xsmall:544,small:768,medium:992,large:1200};function PC(g,C){return C?nv[g].valueToClassName[C].split(" "):[]}const L$=g=>{let C=class extends g{constructor(...v){super(...v),this._breakpointsHandles=new Rl.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=TC}initialize(){this._breakpointsHandles.add((0,en.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),en.nn))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=(0,Lt.SC)(this._breakpointsHandles))}set breakpoints(v){if(v===this._get("breakpoints"))return;const M=function R$(g){return g&&g.xsmall<g.small&&g.small<g.medium&&g.medium<g.large}(v);if(!M){const D=JSON.stringify(TC,null,2);console.warn("provided breakpoints are not valid, using defaults:"+D)}v=M?v:TC,this._set("breakpoints",{...v})}_updateClassNames(){if(!this.container)return;const v=tv.Z.acquire(),M=tv.Z.acquire();let D,I=!1;for(D in nv){const x=this[D],X=nv[D].getValue({viewSize:this.size,breakpoints:this.breakpoints});x!==X&&(I=!0,this[D]=X,PC(D,x).forEach(he=>M.push(he)),PC(D,X).forEach(he=>v.push(he)))}I&&(this._applyClassNameChanges(v,M),tv.Z.release(v),tv.Z.release(M))}_applyClassNameChanges(v,M){const D=this.container;D&&(M.forEach(I=>D.classList.remove(I)),v.forEach(I=>D.classList.add(I)))}_removeActiveClassNames(){const v=this.container;if(!v)return;let M;for(M in nv)PC(M,this[M]).forEach(D=>v.classList.remove(D))}};return(0,ze._)([(0,Ke.Cb)()],C.prototype,"breakpoints",null),(0,ze._)([(0,Ke.Cb)()],C.prototype,"orientation",void 0),(0,ze._)([(0,Ke.Cb)()],C.prototype,"widthBreakpoint",void 0),(0,ze._)([(0,Ke.Cb)()],C.prototype,"heightBreakpoint",void 0),C=(0,ze._)([(0,cr.j)("esri.views.BreakpointsOwner")],C),C};var Yu=T(40764),eh=T(50618),Ci=T(14517),ux=T(17760),dx=(T(50645),T(62996));let Ju=class extends Ci.Z{constructor(){super(...arguments),this.items=new ss.Z,this._watchUpdatingTracking=new ux.t,this._callbacks=new Map,this._projector=(0,dx.E)(),this._hiddenProjector=(0,dx.E)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const g=document.createElement("div");g.className="esri-overlay-surface",this._set("surface",g),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),g.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,C=>{for(const v of C.added){const M=()=>v.render();this._callbacks.set(v,M),this._projector.append(this.surface,M)}for(const v of C.removed){const M=this._projector.detach(this._callbacks.get(v));this.surface.removeChild(M.domNode),this._callbacks.delete(v)}})}addItem(g){this.items.add(g)}removeItem(g){this.items.remove(g)}destroy(){this.items.removeAll(),this._callbacks.forEach(g=>this._projector.detach(g)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(g){const C=this._hiddenSurface,v=this._hiddenProjector;let M;const D=()=>(M=g.render(),M);v.append(C,D),v.renderNow();const I={left:0,top:0,right:0,bottom:0};if(M&&M.domNode){const x=M.domNode.getBoundingClientRect();I.left=x.left,I.top=x.top,I.right=x.right,I.bottom=x.bottom}for(v.detach(D);C.firstChild;)C.removeChild(C.firstChild);return I}overlaps(g,C){const v=this.computeBoundingRect(g),M=this.computeBoundingRect(C);return Math.max(v.left,M.left)<=Math.min(v.right,M.right)&&Math.max(v.top,M.top)<=Math.min(v.bottom,M.bottom)}get hasVisibleItems(){return this.items.some(g=>g.visible)}prepare(){var g=this;return(0,xn.Z)(function*(){yield document.fonts.load(g._fontString()).catch(()=>{})})()}renderCanvas(g){if(!this.items.some(v=>v.visible))return;const C=g.getContext("2d");C.save(),C.font=this._fontString(),this.items.forEach(v=>{C.save(),v.renderCanvas(C),C.restore()}),C.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ju.prototype,"surface",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ju.prototype,"items",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ju.prototype,"needsRender",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ju.prototype,"_watchUpdatingTracking",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ju.prototype,"updating",null),Ju=(0,ze._)([(0,cr.j)("esri.views.overlay.ViewOverlay")],Ju);const hx=Ju;T(52515);var Fp=T(17770),Np=T(7074),Ll=T(66656),$o=T(40915),F$=T(90466),N$=T(87183),px=T(67736),Hm=T(77275),th=T(88411),DC=T(15348),wC=T(36630),IC=T(72469),j$=T(66845),fx=T(46679);const mx=Ai.Z.getLogger("esri.widgets.Feature.support.featureUtils"),B$=/href=(""|'')/gi,V$=/(\{([^\{\r\n]+)\})/g,W$=/\'/g,gx=/^\s*expression\//i,k$=/(\n)/gi,z$=/[\u00A0-\u9999<>\&]/gim,$$=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,Z$=/^(?:mailto:|tel:)/,yx="relationships/",OC=(0,th.Ze)("short-date-short-time");function vx(g){if(!(0,Lt.Wi)(g))return g.get("sourceLayer")||g.get("layer")}function rv(g,C){return AC.apply(this,arguments)}function AC(){return(AC=(0,xn.Z)(function*(g,C){return"function"==typeof g?g.call(null,C):g})).apply(this,arguments)}function _x(g=""){if(g)return!Z$.test(g.trim().toLowerCase())}function xC(g){return!!g&&gx.test(g)}function Ex(g,C){const v=function G$(g,C){if(!xC(C)||!g)return null;const v=C.replace(gx,"").toLowerCase();let M=null;return g.some(D=>D.name.toLowerCase()===v&&(M=D,!0)),M}(C,g?.fieldName);return v?v.title||null:g?g.label||g.fieldName:null}function Ym(g,C){const v=RC(C,g);return v?v.name:g}function RC(g,C){return g&&"function"==typeof g.getField&&C?g.getField(C)??null:null}function bx(g){return`${g}`.trim()}function nh({attributes:g,globalAttributes:C,layer:v,text:M,expressionAttributes:D,fieldInfoMap:I}){return M?LC({formattedAttributes:C,template:q$(M,{...C,...D,...g},v),fieldInfoMap:I}):""}function LC({formattedAttributes:g,template:C,fieldInfoMap:v}){return bx(function H$(g){return g.replace(B$,"")}((0,Hm.gx)((0,Hm.gx)(C,M=>function K$(g,C){const v=C.get(g.toLowerCase());return`{${v&&v.fieldName||g}}`}(M,v)),g)))}function FC(g,C){return g.replace(V$,(v,M,D)=>{const I=RC(C,D);return I?`{${I.name}}`:M})}function q$(g,C,v){const M=FC(g,v);return M&&M.replace($$,(D,I,x)=>function X$(g,C,v){const M=(C=bx(C))&&"{"!==C[0];return(0,Hm.gx)(g,function Q$(g,C=!1){const v={...g};return Object.keys(v).forEach(M=>function J$(g,C,v=!1){const M=C[g];if("string"==typeof M){const D="%27",I=(v?encodeURIComponent(M):M).replace(W$,D);C[g]=I}}(M,v,C)),v}(v,M||!1))}(D,I||x,C))}function Cx(g){return!!g?.layer}function Mx(g,C){if(!g||!g.length||!C)return;const v=C.toLowerCase();let M;return g.some(D=>!(!D.fieldName||D.fieldName.toLowerCase()!==v||(M=D,0))),M}function Sx(g){const C=[];if(!g)return C;const{fieldInfos:v,content:M}=g;return v&&C.push(...v),M&&Array.isArray(M)&&M.forEach(D=>{if("fields"===D.type){const I=D&&D.fieldInfos;I&&C.push(...I)}}),C}function NC(g){return g.replace(z$,C=>`&#${C.charCodeAt(0)};`)}function Jm(g){return"string"==typeof g?g.replace(k$,'<br class="esri-text-new-line" />'):g}function Tx(g){const{value:C,fieldName:v,fieldInfos:M,fieldInfoMap:D,layer:I,graphic:x}=g;if(null==C)return"";const X=function sZ({fieldName:g,value:C,graphic:v,layer:M}){if(Yc(g)||!M||"function"!=typeof M.getFieldDomain)return null;const D=v&&M.getFieldDomain(g,{feature:v});return D&&"coded-value"===D.type?D.getName(C):null}({fieldName:v,value:C,graphic:x,layer:I});if(X)return X;const he=function iZ({fieldName:g,graphic:C,layer:v}){if(Yc(g)||!v||"function"!=typeof v.getFeatureType)return null;const{typeIdField:M}=v;if(!M||g!==M)return null;const D=v.getFeatureType(C);return D?D.name:null}({fieldName:v,graphic:x,layer:I});if(he)return he;if(D.get(v.toLowerCase()))return function rZ(g,C){const M=C.fieldName,D=Mx(C.fieldInfos,M)?.clone(),I=C.preventPlacesFormatting,x=C.layer,X=RC(x,M);if(D&&"date"===X?.type){const Se=D.format||new j$.Z;Se.dateFormat=Se.dateFormat||"short-date-short-time",Se.dateTimeFormatOptions=!Cx(x)&&function tZ(g){return"feature"===g?.type}(x)&&x.datesInUnknownTimezone||Cx(x)&&function nZ(g){return"map-image"===g?.type}(x.layer)&&x.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,D.format=Se}const he=D&&D.format;return"string"==typeof g&&(0,wC.Ec)(M)&&he?he.formatRasterPixelValue(g):"string"==typeof(g=function eZ(g,C){if("string"==typeof g&&C&&null==C.dateFormat&&(null!=C.places||null!=C.digitSeparator)){const v=Number(g);if(!isNaN(v))return v}return g}(g,he))||null==g||null==he?Jm(g):I?(0,DC.uf)(g,{...(0,DC.sh)(he),minimumFractionDigits:0,maximumFractionDigits:20}):he.format(g)}(C,{fieldInfos:M||Array.from(D.values()),fieldName:v,layer:I});const Se=I&&I.fieldsIndex;return Se&&Se.isDateField(v)?(0,th.p6)(C,OC):Jm(C)}function jC({fieldInfos:g,attributes:C,layer:v,graphic:M,fieldInfoMap:D,relatedInfos:I}){const x={};return I?.forEach(X=>function dZ({attributes:g,relatedInfo:C,fieldInfoMap:v,fieldInfos:M,layer:D}){g&&C&&(C.relatedFeatures&&C.relatedFeatures&&C.relatedFeatures.forEach(I=>Dx({attributes:g,graphic:I,relatedInfo:C,fieldInfoMap:v,fieldInfos:M,layer:D})),C.relatedStatsFeatures&&C.relatedStatsFeatures&&C.relatedStatsFeatures.forEach(I=>Dx({attributes:g,graphic:I,relatedInfo:C,fieldInfoMap:v,fieldInfos:M,layer:D})))}({attributes:x,relatedInfo:X,fieldInfoMap:D,fieldInfos:g,layer:v})),C&&Object.keys(C).forEach(X=>{x[X]=Tx({fieldName:X,fieldInfos:g,fieldInfoMap:D,layer:v,value:C[X],graphic:M})}),x}function Px(g,C){return UC.apply(this,arguments)}function UC(){return(UC=(0,xn.Z)(function*(g,C){const{layer:v,graphic:M,outFields:D,objectIds:I,returnGeometry:x,spatialReference:X}=g,he=I[0];if("number"!=typeof he&&"string"!=typeof he)return mx.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:v,graphic:M,objectId:he,requiredFields:D}),null;if(!(0,IC.S1)(v)?.operations?.supportsQuery)return mx.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:v,graphic:M,requiredFields:D,returnGeometry:x}),null;const Se=v.createQuery();return Se.objectIds=I,Se.outFields=D?.length?D:[v.objectIdField],Se.returnGeometry=!!x,Se.returnZ=!!x,Se.returnM=!!x,Se.outSpatialReference=X,(yield v.queryFeatures(Se,C)).features[0]})).apply(this,arguments)}function lZ(g){return BC.apply(this,arguments)}function BC(){return(BC=(0,xn.Z)(function*(g){if(!g.expressionInfos?.length)return!1;const C=yield(0,fx.LC)(),{arcadeUtils:{hasGeometryFunctions:v}}=C;return v(g)})).apply(this,arguments)}function VC(){return(VC=(0,xn.Z)(function*({graphic:g,popupTemplate:C,layer:v,spatialReference:M},D){if(!v||!C||("function"==typeof v.load&&(yield v.load(D)),!g.attributes))return;const I=g.attributes[v.objectIdField];if(null==I)return;const x=[I],X=yield C.getRequiredFields(v.fieldsIndex),he=(0,wC.R9)(X,g),Se=he?[]:X,Ae=C.returnGeometry||(yield lZ(C));if(he&&!Ae)return;const Ve=yield Px({layer:v,graphic:g,outFields:Se,objectIds:x,returnGeometry:Ae,spatialReference:M},D);Ve&&(Ve.geometry&&(g.geometry=Ve.geometry),Ve.attributes&&(g.attributes={...g.attributes,...Ve.attributes}))})).apply(this,arguments)}function Yc(g=""){return!!g&&g.includes(yx)}function Dx({attributes:g,graphic:C,relatedInfo:v,fieldInfos:M,fieldInfoMap:D,layer:I}){g&&C&&v&&Object.keys(C.attributes).forEach(x=>{const X=function uZ(g){return g?`${yx}${g.layerId}/${g.fieldName}`:""}({layerId:v.relation.id.toString(),fieldName:x});g[X]=Tx({fieldName:X,fieldInfos:M,fieldInfoMap:D,layer:I,value:C.attributes[x],graphic:C})})}const wx=g=>{if(!g)return!1;const C=g.toUpperCase();return C.includes("CURRENT_TIMESTAMP")||C.includes("CURRENT_DATE")||C.includes("CURRENT_TIME")},Ix=({layer:g,method:C,query:v,definitionExpression:M})=>{if(!g.capabilities?.query?.supportsCacheHint||"attachments"===C)return;const D=(0,Lt.pC)(v.where)?v.where:null,I=(0,Lt.pC)(v.geometry)?v.geometry:null;wx(M)||wx(D)||"extent"===I?.type||"tile"===v.resultType||(v.cacheHint=!0)};function Ox(g,C,v){return g.find(M=>M!==C&&"feature"===M.type&&M.url===C.url&&M.layerId===v.relatedTableId)}const Ax={editing:!1,operations:{add:!0,update:!0,delete:!0}},xx=ss.Z.ofType(N$.Z);let Sa=class extends Ci.Z{constructor(g){super(g),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...Ax},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new xx,this.fileInfos=new ss.Z,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles((0,en.YP)(()=>this.graphic,()=>this._graphicChanged(),en.nn))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(g){return{...Ax,...g}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:g}=this;if(!g)return!1;const C=g.layer||g.sourceLayer;return C?.loaded&&"capabilities"in C&&C.capabilities&&"operations"in C.capabilities&&"supportsResizeAttachments"in C.capabilities.operations&&C.capabilities.operations.supportsResizeAttachments||!1}getAttachments(){var g=this;return(0,xn.Z)(function*(){const{_attachmentLayer:C,attachmentInfos:v}=g;if(!C||"function"!=typeof C.queryAttachments)throw new Ar.Z("invalid-layer","getAttachments(): A valid layer is required.");const M=g._getObjectId(),D=new px.Z({objectIds:[M],returnMetadata:!0}),I=[],x=C.queryAttachments(D).then(he=>he[M]||I).catch(()=>I);g._getAttachmentsPromise=x,g.notifyChange("state");const X=yield x;return v.removeAll(),X.length&&v.addMany(X),g._getAttachmentsPromise=null,g.notifyChange("state"),X})()}addAttachment(g,C=this.graphic){var v=this;return(0,xn.Z)(function*(){const{_attachmentLayer:M,attachmentInfos:D,abilities:I}=v;if(!C)throw new Ar.Z("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:C});if(!g)throw new Ar.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:g});if(!I.operations?.add)throw new Ar.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!M||"function"!=typeof M.addAttachment)throw new Ar.Z("invalid-layer","addAttachment(): A valid layer is required.");const x=M.addAttachment(C,g).then(he=>v._queryAttachment(he.objectId,C)),X=yield x;return D.add(X),X})()}deleteAttachment(g){var C=this;return(0,xn.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:M,graphic:D,abilities:I}=C;if(!g)throw new Ar.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:g});if(!I.operations?.delete)throw new Ar.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!v||"function"!=typeof v.deleteAttachments)throw new Ar.Z("invalid-layer","deleteAttachment(): A valid layer is required.");if(!D)throw new Ar.Z("invalid-graphic","deleteAttachment(): A graphic is required.");const x=v.deleteAttachments(D,[g.id]).then(()=>g),X=yield x;return M.remove(X),X})()}updateAttachment(g,C=this.activeAttachmentInfo){var v=this;return(0,xn.Z)(function*(){const{_attachmentLayer:M,attachmentInfos:D,graphic:I,abilities:x}=v;if(!g)throw new Ar.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:g});if(!C)throw new Ar.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:C});if(!x.operations?.update)throw new Ar.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const X=D.findIndex(Ae=>Ae===C);if(!M||"function"!=typeof M.updateAttachment)throw new Ar.Z("invalid-layer","updateAttachment(): A valid layer is required.");if(!I)throw new Ar.Z("invalid-graphic","updateAttachment(): A graphic is required.");const he=M.updateAttachment(I,C.id,g).then(Ae=>v._queryAttachment(Ae.objectId)),Se=yield he;return D.splice(X,1,Se),Se})()}commitFiles(){var g=this;return(0,xn.Z)(function*(){return yield Promise.all(g.fileInfos.items.map(C=>g.addAttachment(C.form))),g.fileInfos.removeAll(),g.getAttachments()})()}addFile(g,C){if(!g||!C)return null;const v={file:g,form:C};return this.fileInfos.add(v),v}updateFile(g,C,v=this.activeFileInfo){if(!g||!C||!v)return null;const M=this.fileInfos.findIndex(D=>v===D);return M>-1&&this.fileInfos.splice(M,1,{file:g,form:C}),this.fileInfos.items[M]}deleteFile(g){const C=this.fileInfos.find(v=>v.file===g);return C?(this.fileInfos.remove(C),C):null}_queryAttachment(g,C){var v=this;return(0,xn.Z)(function*(){const{_attachmentLayer:M}=v;if(!g||!M?.queryAttachments)throw new Ar.Z("invalid-attachment-id","Could not query attachment.");const D=v._getObjectId(C),I=new px.Z({objectIds:[D],attachmentsWhere:`AttachmentId=${g}`,returnMetadata:!0});return M.queryAttachments(I).then(x=>x[D][0])})()}_getObjectId(g=this.graphic){return g?.getObjectId()??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:g}=this,C=vx(g);this._attachmentLayer=C?"scene"===C.type&&(0,Lt.pC)(C.associatedLayer)?C.associatedLayer:C:null}};(0,ze._)([(0,Ke.Cb)()],Sa.prototype,"abilities",void 0),(0,ze._)([(0,Ll.p)("abilities")],Sa.prototype,"castAbilities",null),(0,ze._)([(0,Ke.Cb)()],Sa.prototype,"activeAttachmentInfo",void 0),(0,ze._)([(0,Ke.Cb)()],Sa.prototype,"activeFileInfo",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0,type:xx})],Sa.prototype,"attachmentInfos",void 0),(0,ze._)([(0,Ke.Cb)()],Sa.prototype,"fileInfos",void 0),(0,ze._)([(0,Ke.Cb)({type:lc.Z})],Sa.prototype,"graphic",void 0),(0,ze._)([(0,Ke.Cb)()],Sa.prototype,"mode",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Sa.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],Sa.prototype,"filesEnabled",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Sa.prototype,"supportsResizeAttachments",null),Sa=(0,ze._)([(0,cr.j)("esri.widgets.Attachments.AttachmentsViewModel")],Sa);const WC=Sa;var mZ=T(54346);function Rx(g){const C=g.toLowerCase();return"image/bmp"===C||"image/emf"===C||"image/exif"===C||"image/gif"===C||"image/x-icon"===C||"image/jpeg"===C||"image/png"===C||"image/tiff"===C||"image/x-wmf"===C}var Eo=T(38570),Zo=T(25552),Xt=T(94450);const Lx={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},wi="esri-attachments",rh="esri-button",or={base:wi,loaderContainer:`${wi}__loader-container`,loader:`${wi}__loader`,fadeIn:`${wi}--fade-in`,container:`${wi}__container`,containerList:`${wi}__container--list`,containerPreview:`${wi}__container--preview`,actions:`${wi}__actions`,deleteButton:`${wi}__delete-button`,addAttachmentButton:`${wi}__add-attachment-button`,errorMessage:`${wi}__error-message`,items:`${wi}__items`,item:`${wi}__item`,itemButton:`${wi}__item-button`,itemMask:`${wi}__item-mask`,itemMaskIcon:`${wi}__item-mask--icon`,itemImage:`${wi}__image`,itemImageResizable:`${wi}__image--resizable`,itemLabel:`${wi}__label`,itemFilename:`${wi}__filename`,itemChevronIcon:`${wi}__item-chevron-icon`,itemLink:`${wi}__item-link`,itemLinkOverlay:`${wi}__item-link-overlay`,itemLinkOverlayIcon:`${wi}__item-link-overlay-icon`,itemEditIcon:`${wi}__item-edit-icon`,itemAddIcon:`${wi}__item-add-icon`,itemAddButton:`${wi}__item-add-button`,formNode:`${wi}__form-node`,fileFieldset:`${wi}__file-fieldset`,fileLabel:`${wi}__file-label`,fileName:`${wi}__file-name`,fileInput:`${wi}__file-input`,metadata:`${wi}__metadata`,metadataFieldset:`${wi}__metadata-fieldset`,progressBar:`${wi}__progress-bar`,esriWidget:"esri-widget",esriButton:rh,buttonDisabled:`${rh}--disabled`,esriButtonSecondary:`${rh}--secondary`,esriButtonTertiary:`${rh}--tertiary`,esriButtonThird:`${rh}--third`,esriButtonSmall:`${rh}--small`,esriButtonHalf:`${rh}--half`,empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},kC=window.CSS;let Go=class extends $o.Z{constructor(g,C){super(g,C),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...Lx},this._supportsImageOrientation=kC&&kC.supports&&kC.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.viewModel||(this.viewModel=new WC),this.addHandles([(0,en.on)(()=>this.viewModel?.attachmentInfos,"change",()=>this.scheduleRender()),(0,en.on)(()=>this.viewModel?.fileInfos,"change",()=>this.scheduleRender()),(0,en.YP)(()=>this.viewModel?.mode,()=>this._modeChanged(),en.nn)])}loadDependencies(){return Promise.all([T.e(8472).then(T.bind(T,8472))])}get abilities(){return this.viewModel.abilities}set abilities(g){this.viewModel.abilities=g}get effectiveDisplayType(){const{displayType:g}=this;return g&&"auto"!==g?g:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(g){this.viewModel.graphic=g}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}castVisibleElements(g){return{...Lx,...g}}addAttachment(){const{_addAttachmentForm:g,viewModel:C}=this;return this._set("submitting",!0),this._set("error",null),C.addAttachment(g).then(v=>(this._set("submitting",!1),this._set("error",null),C.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new Ar.Z("attachments:add-attachment",this.messages.addErrorMessage,v)),v})}deleteAttachment(g){const{viewModel:C}=this;return this._set("submitting",!0),this._set("error",null),C.deleteAttachment(g).then(v=>(this._set("submitting",!1),this._set("error",null),C.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new Ar.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,v)),v})}updateAttachment(){const{viewModel:g}=this,{_updateAttachmentForm:C}=this;return this._set("submitting",!0),this._set("error",null),g.updateAttachment(C).then(v=>(this._set("submitting",!1),this._set("error",null),g.mode="view",v)).catch(v=>{throw this._set("submitting",!1),this._set("error",new Ar.Z("attachments:update-attachment",this.messages.updateErrorMessage,v)),v})}addFile(){const g=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",g}updateFile(){const{viewModel:g}=this,C=g.updateFile(this.selectedFile,this._updateAttachmentForm,g.activeFileInfo);return g.mode="view",C}deleteFile(g){const C=this.viewModel.deleteFile(g||this.viewModel.activeFileInfo?.file);return this.viewModel.mode="view",C}render(){const{submitting:g,viewModel:C}=this,{state:v}=C;return(0,Xt.u)("div",{class:this.classes(or.base,or.esriWidget)},g?this.renderProgressBar():null,"loading"===v?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:g,visibleElements:C}=this;return g&&C.errorMessage?(0,Xt.u)("div",{key:"error-message",class:or.errorMessage},g.message):null}renderAttachments(){const{activeFileInfo:g,mode:C,activeAttachmentInfo:v}=this.viewModel;return"add"===C?this.renderAddForm():"edit"===C?this.renderDetailsForm(v||g):this.renderAttachmentContainer()}renderLoading(){return(0,Xt.u)("div",{class:or.loaderContainer,key:"loader"},(0,Xt.u)("div",{class:or.loader}))}renderProgressBar(){return this.visibleElements.progressBar?(0,Xt.u)("div",{class:or.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:g,selectedFile:C}=this,v=g||!C,M=this.visibleElements.cancelAddButton?(0,Xt.u)("button",{type:"button",bind:this,disabled:g,onclick:this._cancelForm,class:this.classes(or.esriButton,or.esriButtonTertiary,or.esriButtonSmall,or.esriButtonHalf,g&&or.buttonDisabled)},this.messages.cancel):null,D=this.visibleElements.addSubmitButton?(0,Xt.u)("button",{type:"submit",disabled:v,class:this.classes(or.esriButton,or.esriButtonSecondary,or.esriButtonSmall,or.esriButtonHalf,{[or.buttonDisabled]:v})},this.messages.add):null,I=C?(0,Xt.u)("span",{key:"file-name",class:or.fileName},C.name):null,x=(0,Xt.u)("form",{bind:this,afterCreate:Eo.Yo,afterRemoved:Eo.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,Xt.u)("fieldset",{class:or.fileFieldset},I,(0,Xt.u)("label",{class:this.classes(or.fileLabel,or.esriButton,or.esriButtonSecondary)},C?this.messages.changeFile:this.messages.selectFile,(0,Xt.u)("input",{class:or.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),D,M);return(0,Xt.u)("div",{key:"add-form-container",class:or.formNode},x)}renderDetailsForm(g){const{visibleElements:C,viewModel:v,selectedFile:M,submitting:D}=this,{abilities:I}=v,x=D||!M;let X,he,Se,Ae;M?(X=M.type,he=M.name,Se=M.size):g&&"file"in g?(X=g.file.type,he=g.file.name,Se=g.file.size):g&&"contentType"in g&&(X=g.contentType,he=g.name,Se=g.size,Ae=g.url);const Ve=I.editing&&I.operations?.delete&&C.deleteButton?(0,Xt.u)("button",{key:"delete-button",type:"button",disabled:D,bind:this,onclick:tn=>this._submitDeleteAttachment(tn,g),class:this.classes(or.esriButton,or.esriButtonSmall,or.esriButtonTertiary,or.deleteButton,{[or.buttonDisabled]:D})},this.messages.delete):void 0,qe=I.editing&&I.operations?.update&&C.updateButton?(0,Xt.u)("button",{disabled:x,key:"update-button",type:"submit",class:this.classes(or.esriButton,or.esriButtonSmall,or.esriButtonThird,{[or.buttonDisabled]:x})},this.messages.update):void 0,rt=this.visibleElements.cancelUpdateButton?(0,Xt.u)("button",{disabled:D,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(or.esriButton,or.esriButtonSmall,or.esriButtonTertiary,or.esriButtonThird,{[or.buttonDisabled]:D})},this.messages.cancel):void 0,gt=I.editing&&I.operations?.update?(0,Xt.u)("fieldset",{key:"file",class:or.fileFieldset},(0,Xt.u)("span",{key:"file-name",class:or.fileName},he),(0,Xt.u)("label",{class:this.classes(or.fileLabel,or.esriButton,or.esriButtonSecondary)},this.messages.changeFile,(0,Xt.u)("input",{class:or.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):void 0,Ot=(0,Xt.u)("fieldset",{key:"size",class:or.metadataFieldset},(0,Xt.u)("label",null,(0,F$.sS)(this.messagesUnits,Se??0))),Ut=(0,Xt.u)("fieldset",{key:"content-type",class:or.metadataFieldset},(0,Xt.u)("label",null,X)),qt=(0,Lt.pC)(Ae)?(0,Xt.u)("a",{class:or.itemLink,href:Ae,rel:"noreferrer",target:"_blank"},this.renderImageMask(g,400),(0,Xt.u)("div",{class:or.itemLinkOverlay},(0,Xt.u)("span",{class:or.itemLinkOverlayIcon},(0,Xt.u)("calcite-icon",{icon:"launch"})))):this.renderImageMask(g,400),_n=(0,Xt.u)("form",{bind:this,afterCreate:Eo.Yo,afterRemoved:Eo.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:tn=>this._submitUpdateAttachment(tn,g)},(0,Xt.u)("div",{class:or.metadata},Ot,Ut),gt,(0,Xt.u)("div",{class:or.actions},Ve,rt,qe));return(0,Xt.u)("div",{key:"edit-form-container",class:or.formNode},qt,_n)}renderImageMask(g,C){return g?"file"in g?this.renderGenericImageMask(g.file.name,g.file.type):this.renderImageMaskForAttachment(g,C):null}renderGenericImageMask(g,C){const{supportsResizeAttachments:v}=this.viewModel,M=function gZ(g){const C=(0,mZ.V)("esri/themes/base/images/files/");return g?"text/plain"===g?`${C}text-32.svg`:"application/pdf"===g?`${C}pdf-32.svg`:"text/csv"===g?`${C}csv-32.svg`:"application/gpx+xml"===g?`${C}gpx-32.svg`:"application/x-dwf"===g?`${C}cad-32.svg`:"application/postscript"===g||"application/json"===g||"text/xml"===g||"model/vrml"===g?`${C}code-32.svg`:"application/x-zip-compressed"===g||"application/x-7z-compressed"===g||"application/x-gzip"===g||"application/x-tar"===g||"application/x-gtar"===g||"application/x-bzip2"===g||"application/gzip"===g||"application/x-compress"===g||"application/x-apple-diskimage"===g||"application/x-rar-compressed"===g||"application/zip"===g?`${C}zip-32.svg`:g.includes("image/")?`${C}image-32.svg`:g.includes("audio/")?`${C}sound-32.svg`:g.includes("video/")?`${C}video-32.svg`:g.includes("msexcel")||g.includes("ms-excel")||g.includes("spreadsheetml")?`${C}excel-32.svg`:g.includes("msword")||g.includes("ms-word")||g.includes("wordprocessingml")?`${C}word-32.svg`:g.includes("powerpoint")||g.includes("presentationml")?`${C}report-32.svg`:`${C}generic-32.svg`:`${C}generic-32.svg`}(C),D={[or.itemImageResizable]:v};return(0,Xt.u)("div",{class:this.classes(or.itemMaskIcon,or.itemMask)},(0,Xt.u)("img",{title:g,alt:g,src:M,class:this.classes(D,or.itemImage)}))}renderImageMaskForAttachment(g,C){const{supportsResizeAttachments:v}=this.viewModel;if(!g)return null;const{contentType:M,name:D,url:I}=g;if(!v||!Rx(M))return this.renderGenericImageMask(D,M);const x=this._getCSSTransform(g),X=x?{transform:x,"image-orientation":"none"}:{},he=`${I}${I?.includes("?")?"&":"?"}w=${C}`,Se={[or.itemImageResizable]:v};return(0,Xt.u)("div",{class:this.classes(or.itemMask)},(0,Xt.u)("img",{styles:X,alt:D,title:D,src:he,class:this.classes(Se,or.itemImage)}))}renderFile(g){const{file:C}=g;return(0,Xt.u)("li",{class:or.item,key:C},(0,Xt.u)("button",{key:"details-button",bind:this,class:or.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,onclick:()=>this._startEditFile(g),type:"button"},this.renderImageMask(g),(0,Xt.u)("label",{class:or.itemLabel},(0,Xt.u)("span",{class:or.itemFilename},C.name||this.messages.noTitle),(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(or.itemChevronIcon,(0,Eo.dZ)(this.container)?or.iconLeft:or.iconRight)}))))}renderAttachmentInfo({attachmentInfo:g,displayType:C}){const{viewModel:v,effectiveDisplayType:M}=this,{abilities:D,supportsResizeAttachments:I}=v,{contentType:x,name:X,url:he}=g,Se=this.renderImageMask(g,"list"===C?48:400),Ae=D.editing?(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(or.itemChevronIcon,(0,Eo.dZ)(this.container)?or.iconLeft:or.iconRight)}):null,Ve=[Se,"preview"===M&&I&&Rx(x)?null:(0,Xt.u)("label",{class:or.itemLabel},(0,Xt.u)("span",{class:or.itemFilename},X||this.messages.noTitle),Ae)],qe=D.editing?(0,Xt.u)("button",{key:"details-button",bind:this,class:or.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":g.id,onclick:()=>this._startEditAttachment(g),type:"button"},Ve):(0,Xt.u)("a",{key:"details-link",class:or.itemButton,href:he??void 0,target:"_blank"},Ve);return(0,Xt.u)("li",{class:or.item,key:g},qe)}renderAttachmentContainer(){const{effectiveDisplayType:g,viewModel:C,visibleElements:v}=this,{attachmentInfos:M,abilities:D,fileInfos:I}=C,x=!!M?.length,X=!!I?.length,he={[or.containerList]:"preview"!==g,[or.containerPreview]:"preview"===g},Se=D.editing&&D.operations?.add&&v.addButton?(0,Xt.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(or.esriButton,or.esriButtonTertiary,or.addAttachmentButton),type:"button"},(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(or.itemAddIcon,or.iconPlus)}),this.messages.add):void 0,Ae=x?(0,Xt.u)("ul",{key:"attachments-list",class:or.items},M.toArray().map(rt=>this.renderAttachmentInfo({attachmentInfo:rt,displayType:g}))):void 0,Ve=X?(0,Xt.u)("ul",{key:"file-list",class:or.items},I.toArray().map(rt=>this.renderFile(rt))):void 0,qe=X||x?void 0:(0,Xt.u)("div",{class:or.empty},this.messages.noAttachments);return(0,Xt.u)("div",{key:"attachments-container",class:this.classes(or.container,he)},Ae,Ve,qe,Se)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(g){const C=g.target,v=C&&C.files&&C.files.item(0);this._set("selectedFile",v)}_submitDeleteAttachment(g,C){g.preventDefault(),C&&("file"in C?this.deleteFile(C.file):C&&this.deleteAttachment(C))}_submitAddAttachment(g){g.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(g,C){g.preventDefault(),C&&"file"in C?this.updateFile():this.updateAttachment()}_startEditAttachment(g){const{viewModel:C}=this;C.activeFileInfo=null,C.activeAttachmentInfo=g,C.mode="edit"}_startEditFile(g){const{viewModel:C}=this;C.activeAttachmentInfo=null,C.activeFileInfo=g,C.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(g){g.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(g){const{orientationInfo:C}=g;return!this._supportsImageOrientation&&C?[C.rotation?`rotate(${C.rotation}deg)`:"",C.mirrored?"scaleX(-1)":""].join(" "):""}};(0,ze._)([(0,Ke.Cb)()],Go.prototype,"abilities",null),(0,ze._)([(0,Ke.Cb)()],Go.prototype,"displayType",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Go.prototype,"effectiveDisplayType",null),(0,ze._)([(0,Ke.Cb)()],Go.prototype,"graphic",null),(0,ze._)([(0,Ke.Cb)()],Go.prototype,"label",null),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Attachments/t9n/Attachments")],Go.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/core/t9n/Units")],Go.prototype,"messagesUnits",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Go.prototype,"selectedFile",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Go.prototype,"submitting",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Go.prototype,"error",void 0),(0,ze._)([(0,Ke.Cb)({type:WC})],Go.prototype,"viewModel",void 0),(0,ze._)([(0,Ke.Cb)()],Go.prototype,"visibleElements",void 0),(0,ze._)([(0,Ll.p)("visibleElements")],Go.prototype,"castVisibleElements",null),Go=(0,ze._)([(0,cr.j)("esri.widgets.Attachments")],Go);const yZ=Go;let Qm=class extends WC{constructor(g){super(g),this.description=null,this.title=null}};(0,ze._)([(0,Ke.Cb)()],Qm.prototype,"description",void 0),(0,ze._)([(0,Ke.Cb)()],Qm.prototype,"title",void 0),Qm=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Qm);const zC=Qm;var iv=T(21286);function $C({level:g,class:C,...v},M){const D=function Fx(g){return(0,iv.uZ)(Math.ceil(g),1,6)}(g);return(0,Xt.u)(`h${D}`,{...v,class:(0,Eo.Sh)("esri-widget__heading",C),role:"heading","aria-level":String(D)},M)}const ZC="esri-feature-element-info",GC={base:ZC,title:`${ZC}__title`,description:`${ZC}__description`};let jp=class extends $o.Z{constructor(g,C){super(g,C),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,Xt.u)("div",{class:GC.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:g}=this;return g?(0,Xt.u)($C,{level:this.headingLevel,class:GC.title},g):null}renderDescription(){const{description:g}=this;return g?(0,Xt.u)("div",{key:"description",class:GC.description},g):null}};(0,ze._)([(0,Ke.Cb)()],jp.prototype,"description",void 0),(0,ze._)([(0,Ke.Cb)()],jp.prototype,"headingLevel",void 0),(0,ze._)([(0,Ke.Cb)()],jp.prototype,"title",void 0),jp=(0,ze._)([(0,cr.j)("esri.widgets.Feature.support.FeatureElementInfo")],jp);const sv=jp;let cc=class extends $o.Z{constructor(g,C){super(g,C),this._featureElementInfo=null,this.attachmentsWidget=new yZ,this.headingLevel=2,this.viewModel=new zC}initialize(){this._featureElementInfo=new sv,this.addHandles([(0,en.YP)(()=>[this.viewModel?.description,this.viewModel?.title,this.headingLevel],()=>this._setupFeatureElementInfo(),en.nn),(0,en.YP)(()=>this.viewModel,g=>this.attachmentsWidget.viewModel=g,en.nn)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo?.destroy()}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get displayType(){return this.attachmentsWidget.displayType}set displayType(g){this.attachmentsWidget.displayType=g}get graphic(){return this.viewModel.graphic}set graphic(g){this.viewModel.graphic=g}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}render(){const{attachmentsWidget:g}=this;return(0,Xt.u)("div",{class:"esri-feature-attachments"},this._featureElementInfo?.render(),g?.render())}_setupFeatureElementInfo(){const{description:g,title:C,headingLevel:v}=this;this._featureElementInfo?.set({description:g,title:C,headingLevel:v})}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],cc.prototype,"attachmentsWidget",void 0),(0,ze._)([(0,Ke.Cb)()],cc.prototype,"description",null),(0,ze._)([(0,Ke.Cb)()],cc.prototype,"displayType",null),(0,ze._)([(0,Ke.Cb)()],cc.prototype,"graphic",null),(0,ze._)([(0,Ke.Cb)()],cc.prototype,"headingLevel",void 0),(0,ze._)([(0,Ke.Cb)()],cc.prototype,"title",null),(0,ze._)([(0,Ke.Cb)({type:zC})],cc.prototype,"viewModel",void 0),cc=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureAttachments")],cc);const EZ=cc;var Qu=T(80542);let Xu=class extends((0,Qu.p)(Ci.Z)){constructor(g){super(g),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,en.YP)(()=>this.creator,C=>{this._destroyContent(),this._createContent(C)},en.nn))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:g,graphic:C,destroyer:v}=this;g&&C&&(rv(v,{graphic:C}).catch(()=>null),this._set("created",null))}_createContent(g){var C=this;return(0,xn.Z)(function*(){const v=C.graphic;if(!v||!g)return;const M=rv(g,{graphic:v}).catch(()=>null);C._loadingPromise=M,C.notifyChange("state");const D=yield M;M===C._loadingPromise&&(C._loadingPromise=null,C.notifyChange("state"),C._set("created",D))})()}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Xu.prototype,"created",void 0),(0,ze._)([(0,Ke.Cb)()],Xu.prototype,"creator",void 0),(0,ze._)([(0,Ke.Cb)()],Xu.prototype,"destroyer",void 0),(0,ze._)([(0,Ke.Cb)({type:lc.Z})],Xu.prototype,"graphic",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Xu.prototype,"state",null),Xu=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Xu);const ov=Xu;var KC=T(13777);const HC="esri-feature-content",YC={base:HC,loaderContainer:`${HC}__loader-container`,loader:`${HC}__loader`};let Up=class extends $o.Z{constructor(g,C){super(g,C),this.viewModel=null,this._addTargetToAnchors=v=>{Array.from(v.querySelectorAll("a")).forEach(M=>{_x(M.href)&&!M.hasAttribute("target")&&M.setAttribute("target","_blank")})}}get creator(){return this.viewModel?.creator}set creator(g){this.viewModel&&(this.viewModel.creator=g)}get graphic(){return this.viewModel?.graphic}set graphic(g){this.viewModel&&(this.viewModel.graphic=g)}renderLoading(){return(0,Xt.u)("div",{class:YC.loaderContainer,key:"loader"},(0,Xt.u)("div",{class:YC.loader}))}renderCreated(){const g=this.viewModel?.created;return g?g instanceof HTMLElement?(0,Xt.u)("div",{key:g,bind:g,afterCreate:this._attachToNode}):(0,KC.Qd)(g)?(0,Xt.u)("div",{key:g},!g.destroyed&&g.render()):(0,Xt.u)("div",{key:g,innerHTML:g,afterCreate:this._addTargetToAnchors}):null}render(){const g=this.viewModel?.state;return(0,Xt.u)("div",{class:YC.base},"loading"===g?this.renderLoading():this.renderCreated())}_attachToNode(g){g.appendChild(this)}};(0,ze._)([(0,Ke.Cb)()],Up.prototype,"creator",null),(0,ze._)([(0,Ke.Cb)()],Up.prototype,"graphic",null),(0,ze._)([(0,Ke.Cb)({type:ov})],Up.prototype,"viewModel",void 0),Up=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureContent")],Up);const av=Up;var bZ=T(38439),Nx=T(25621);let Jc=class extends Ci.Z{constructor(g){super(g),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:g,fieldInfos:C}=this,v=[];return C?.forEach(M=>{if(M.hasOwnProperty("visible")&&!M.visible)return;const D=M.clone();D.label=Ex(D,g),v.push(D)}),v}};(0,ze._)([(0,Ke.Cb)()],Jc.prototype,"attributes",void 0),(0,ze._)([(0,Ke.Cb)({type:[bZ.Z]})],Jc.prototype,"expressionInfos",void 0),(0,ze._)([(0,Ke.Cb)()],Jc.prototype,"description",void 0),(0,ze._)([(0,Ke.Cb)({type:[Nx.Z]})],Jc.prototype,"fieldInfos",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Jc.prototype,"formattedFieldInfos",null),(0,ze._)([(0,Ke.Cb)()],Jc.prototype,"title",void 0),Jc=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Jc);const lv=Jc,CZ=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];const cv="esri-feature-fields",Xm={base:cv,fieldHeader:`${cv}__field-header`,fieldData:`${cv}__field-data`,fieldDataDate:`${cv}__field-data--date`,esriTable:"esri-widget__table"};let Fl=class extends $o.Z{constructor(g,C){super(g,C),this._featureElementInfo=null,this.viewModel=new lv,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new sv,this.addHandles((0,en.YP)(()=>[this.viewModel?.description,this.viewModel?.title],()=>this._setupFeatureElementInfo(),en.nn))}destroy(){this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(g){this.viewModel.attributes=g}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(g){this.viewModel.expressionInfos=g}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(g){this.viewModel.fieldInfos=g}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}renderFieldInfo(g,C){const{attributes:v}=this.viewModel,M=g.fieldName,D=g.label||M,I=v?null==v[M]?"":v[M]:"",x=!(!g.format||!g.format.dateFormat),X="number"!=typeof I||x?function SZ(g,C){if("string"!=typeof C||!C)return C;const v=function MZ(g){let C=null;return CZ.some(v=>(v.pattern.test(g)&&(C=v),!!C)),C}(C);if(!v)return C;const M=C.match(v.pattern),I=(0,Hm.gx)((0,Hm.gx)(v.label,{messages:g,hierPart:M&&M[2]}),{appName:v.appName});return C.replace(v.pattern,`<a${v.target?` target="${v.target}"`:""} href="$1"${"_blank"===v.target?' rel="noreferrer"':""}>${I}</a>`)}(this.messagesURIUtils,I):this._forceLTR(I),he={[Xm.fieldDataDate]:x};return(0,Xt.u)("tr",{key:`fields-element-info-row-${M}-${C}`},(0,Xt.u)("th",{key:`fields-element-info-row-header-${M}-${C}`,class:Xm.fieldHeader,innerHTML:D}),(0,Xt.u)("td",{key:`fields-element-info-row-data-${M}-${C}`,class:this.classes(Xm.fieldData,he),innerHTML:X}))}renderFields(){const{formattedFieldInfos:g}=this.viewModel;return g?.length?(0,Xt.u)("table",{class:Xm.esriTable,summary:this.messages.fieldsSummary},(0,Xt.u)("tbody",null,g.map((C,v)=>this.renderFieldInfo(C,v)))):null}render(){return(0,Xt.u)("div",{class:Xm.base},this._featureElementInfo?.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:g,title:C}=this;this._featureElementInfo?.set({description:g,title:C})}_forceLTR(g){return`&lrm;${g}`}};(0,ze._)([(0,Ke.Cb)()],Fl.prototype,"attributes",null),(0,ze._)([(0,Ke.Cb)()],Fl.prototype,"description",null),(0,ze._)([(0,Ke.Cb)()],Fl.prototype,"expressionInfos",null),(0,ze._)([(0,Ke.Cb)()],Fl.prototype,"fieldInfos",null),(0,ze._)([(0,Ke.Cb)()],Fl.prototype,"title",null),(0,ze._)([(0,Ke.Cb)({type:lv,nonNullable:!0})],Fl.prototype,"viewModel",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Feature/t9n/Feature")],Fl.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/support/t9n/uriUtils")],Fl.prototype,"messagesURIUtils",void 0),Fl=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureFields")],Fl);const jx=Fl;var Bp=T(88159);const OZ={maximumFractionDigits:20};T(8029);var pl=T(86606),qm=T(91558),ih=T(20383),Bx=T(52068);const LZ=(0,th.Ze)("short-date");const jZ=new qm.Z([64,64,64]);function Vx(g,C){const v=[],M=g.length-1;return 5===g.length?v.push(0,2,4):v.push(0,M),g.map((D,I)=>v.includes(I)?function FZ(g,C,v,M){let D="";0===C?D="< ":C===v&&(D="> ");let I=null;return I=M?(0,th.p6)(g,LZ):function AZ(g){return(0,DC.uf)(g,OZ)}(g),D+I}(D,I,M,C):null)}function UZ(g,C,v){return XC.apply(this,arguments)}function XC(){return XC=(0,xn.Z)(function*(g,C,v){let M=!1,D=[],I=[];if(g.stops){const Se=g.stops;D=Se.map(Ae=>Ae.value),M=Se.some(Ae=>!!Ae.label),M&&(I=Se.map(Ae=>Ae.label))}if(null==D[0]&&null==D[D.length-1])return null;const he=M?null:Vx(D,v??!1);return(yield Promise.all(D.map(function(){var Se=(0,xn.Z)(function*(Ae,Ve){return{value:Ae,color:"opacity"===g.type?yield BZ(Ae,g,C):(yield Promise.resolve().then(T.bind(T,81808))).getColor(g,Ae),label:M?I[Ve]:he?.[Ve]??""}});return function(Ae,Ve){return Se.apply(this,arguments)}}()))).reverse()}),XC.apply(this,arguments)}function BZ(g,C){return qC.apply(this,arguments)}function qC(){return(qC=(0,xn.Z)(function*(g,C,v=jZ){const M=new qm.Z(v),D=(yield Promise.resolve().then(T.bind(T,81808))).getOpacity(C,g);return null!=D&&(M.a=D),M})).apply(this,arguments)}var kZ=T(52372);function zZ(g){if(!g.colorStops)return[];const C=[...g.colorStops].filter(M=>M.color?.a>0);let v=C.length-1;if(C&&C[0]){const M=C[v];M&&1!==M.ratio&&(C.push(new kZ.Z({ratio:1,color:M.color})),v++)}return C.map((M,D)=>{let I="";return 0===D?I=g.legendOptions?.minLabel||"low":D===v&&(I=g.legendOptions?.maxLabel||"high"),{color:M.color,label:I,ratio:M.ratio}}).reverse()}function ka(g,C,v){return eM.apply(this,arguments)}function eM(){return(eM=(0,xn.Z)(function*(g,C,v){(0,Bp.s1)(g,C,()=>[]).push(...v)})).apply(this,arguments)}function tM(){return(tM=(0,xn.Z)(function*(g){const C=new Map;if(!g)return C;if("visualVariables"in g&&g.visualVariables){const v=g.visualVariables.filter(M=>"color"===M.type);for(const M of v){const D=((yield UZ(M))??[]).map(I=>I.color);yield ka(C,M.field||M.valueExpression,D)}}if("heatmap"===g.type){const v=zZ(g).map(M=>M.color);yield ka(C,g.field||g.valueExpression,v)}else if("pie-chart"===g.type){for(const v of g.attributes)yield ka(C,v.field||v.valueExpression,[v.color]);yield ka(C,"default",[g?.othersCategory?.color,(0,pl._h)(g.backgroundFillSymbol,null)])}else if("dot-density"===g.type){for(const v of g.attributes)yield ka(C,v.field||v.valueExpression,[v.color]);yield ka(C,"default",[g.backgroundColor])}else if("unique-value"===g.type)if("predominance"===g.authoringInfo?.type)for(const v of g.uniqueValueInfos??[])yield ka(C,v.value.toString(),[(0,pl._h)(v.symbol,null)]);else{const v=(g.uniqueValueInfos??[]).map(X=>(0,pl._h)(X.symbol,null)),{field:M,field2:D,field3:I,valueExpression:x}=g;(M||x)&&(yield ka(C,M||x,v)),D&&(yield ka(C,D,v)),I&&(yield ka(C,I,v))}else if("class-breaks"===g.type){const v=g.classBreakInfos.map(I=>(0,pl._h)(I.symbol,null)),{field:M,valueExpression:D}=g;yield ka(C,M??D,v)}else"simple"===g.type&&(yield ka(C,"default",[(0,pl._h)(g.symbol,null)]));return"defaultSymbol"in g&&g.defaultSymbol&&(yield ka(C,"default",[(0,pl._h)(g.defaultSymbol,null)])),C.forEach((v,M)=>{const D=(0,A$.Tw)(v.filter(Boolean),(I,x)=>JSON.stringify(I)===JSON.stringify(x));C.set(M,D)}),C})).apply(this,arguments)}Ai.Z.getLogger("esri.renderers.support.utils"),(0,th.Ze)("short-date");var QZ=T(77891),XZ=T(84792),nM=(T(15283),T(2865)),rM=T(59318),qZ=(T(24263),T(21726),T(16730),T(82054),T(21674),T(72854),T(37118)),eG=T(55214),iM=(T(93555),T(24192),T(17253),T(96854)),sM=(T(29132),T(67010)),tG=(T(6871),T(60776));const zx=Ai.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),$x=new Map;function uv(g){if(!Yc(g))return null;const[C,v]=g.split("/").slice(1);return{layerId:C,fieldName:v}}function iG({originRelationship:g,relationships:C,layerId:v}){let M=null;return C&&C.some(D=>(`${D.relatedTableId}`===v&&D.id===g?.id&&(M=D),!!M)),M}function sG(g,C){const v=C.toLowerCase();for(const M in g)if(M.toLowerCase()===v)return g[M];return null}function lG(g,C,v,M){const D=new sM.default;return D.outFields=["*"],D.relationshipId="number"==typeof C.id?C.id:parseInt(C.id,10),D.objectIds=[g.attributes[v.objectIdField]],v.queryRelatedFeatures?.(D,M)??Promise.resolve({})}function cG(g,C,v){let M=0;const D=[];for(;M<C.length;)D.push(`${g} IN (${C.slice(M,v+M)})`),M+=v;return D.join(" OR ")}function oM(){return(oM=(0,xn.Z)(function*(g,C,v,M){const D=v.layerId.toString(),{layerInfo:I,relation:x,relatedFields:X,outStatistics:he,url:Se,sourceSpatialReference:Ae}=C;if(!I||!x)return null;const Ve=iG({originRelationship:x,relationships:I.relationships,layerId:D});if(Ve?.relationshipTableId&&Ve.keyFieldInRelationshipTable){const rt=(yield lG(g,Ve,v,M))[g.attributes[v.objectIdField]];if(!rt)return null;const gt=rt.features.map(Ot=>Ot.attributes[I.objectIdField]);if(he?.length&&I.supportsStatistics){const Ot=new iM.Z;Ot.where=cG(I.objectIdField,gt,1e3),Ot.outFields=X,Ot.outStatistics=he,Ot.sourceSpatialReference=Ae;const Ut={features:Promise.resolve(rt),statsFeatures:(0,nM.e)(Se,Ot)};return(0,ei.as)(Ut)}}const qe=Ve?.keyField;if(qe){const rt=(0,wC.H7)(mG(I.fields,qe)),gt=sG(g.attributes,x.keyField),Ot=rt?`${qe}=${gt}`:`${qe}='${gt}'`,Ut=(0,nM.e)(Se,new iM.Z({where:Ot,outFields:C.relatedFields,sourceSpatialReference:Ae}),M),qt=C.outStatistics&&C.outStatistics.length>0&&I.supportsStatistics?(0,nM.e)(Se,new iM.Z({where:Ot,outFields:C.relatedFields,outStatistics:C.outStatistics,sourceSpatialReference:Ae}),M):null,_n={features:Ut};return qt&&(_n.statsFeatures=qt),(0,ei.as)(_n)}return null})).apply(this,arguments)}function mG(g,C){if(null!=g){C=C.toLowerCase();for(const v of g)if(v&&v.name.toLowerCase()===C)return v}return null}const Zx={chartAnimation:!0};let no=class extends Ci.Z{constructor(g){super(g),this.abilities={...Zx},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(g){return{...Zx,...g}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(g){this._setContentElementMedia(g)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(g){const{formattedMediaInfoCount:C}=this;this.activeMediaInfoIndex=(g+C)%C}_pageContentElementMedia(g){const{activeMediaInfoIndex:C}=this;this._setContentElementMedia(C+g)}_formatMediaInfos(){const{mediaInfos:g,layer:C}=this,v=this.attributes??{},M=this.formattedAttributes??{},D=this.expressionAttributes??{},I=this.fieldInfoMap??new Map;return g?.map(x=>{const X=x?.clone();if(!X)return null;if(X.title=nh({attributes:v,fieldInfoMap:I,globalAttributes:M,expressionAttributes:D,layer:C,text:X.title}),X.caption=nh({attributes:v,fieldInfoMap:I,globalAttributes:M,expressionAttributes:D,layer:C,text:X.caption}),X.altText=nh({attributes:v,fieldInfoMap:I,globalAttributes:M,expressionAttributes:D,layer:C,text:X.altText}),"image"===X.type){const{value:he}=X;return this._setImageValue({value:he,formattedAttributes:M,layer:C}),X.value.sourceURL?X:void 0}if("pie-chart"===X.type||"line-chart"===X.type||"column-chart"===X.type||"bar-chart"===X.type){const{value:he}=X;return this._setChartValue({value:he,chartType:X.type,attributes:v,formattedAttributes:M,layer:C,expressionAttributes:D}),X}return null}).filter(Lt.pC)??[]}_setImageValue(g){const C=this.fieldInfoMap??new Map,{value:v,formattedAttributes:M,layer:D}=g,{linkURL:I,sourceURL:x}=v;if(x){const X=FC(x,D);v.sourceURL=LC({formattedAttributes:M,template:X,fieldInfoMap:C})}if(I){const X=FC(I,D);v.linkURL=LC({formattedAttributes:M,template:X,fieldInfoMap:C})}}_setChartValue(g){const{value:C,attributes:v,formattedAttributes:M,chartType:D,layer:I,expressionAttributes:x}=g,{popupTemplate:X,relatedInfos:he}=this,{fields:Se,normalizeField:Ae}=C,Ve=I;if(C.fields=function Y$(g,C){return g&&g.map(v=>Ym(v,C))}(Se,Ve),Ae&&(C.normalizeField=Ym(Ae,Ve)),!Se.some(rt=>!!(null!=M[rt]||Yc(rt)&&he?.size)))return;const qe=X?.fieldInfos??[];Se.forEach(rt=>{if(Yc(rt))return void(C.series=[...C.series,...this._getRelatedChartInfos({fieldInfos:qe,fieldName:rt,formattedAttributes:M,chartType:D,value:C})]);const gt=this._getChartOption({value:C,attributes:v,chartType:D,formattedAttributes:M,expressionAttributes:x,fieldName:rt,fieldInfos:qe});C.series.push(gt)})}_getRelatedChartInfos(g){const{fieldInfos:C,fieldName:v,formattedAttributes:M,chartType:D,value:I}=g,x=[],X=uv(v),he=X&&this.relatedInfos?.get(X.layerId.toString());if(!he)return x;const{relatedFeatures:Se,relation:Ae}=he;if(!Ae||!Se)return x;const{cardinality:Ve}=Ae;return Se.forEach(qe=>{const{attributes:rt}=qe;rt&&Object.keys(rt).forEach(gt=>{gt===X.fieldName&&x.push(this._getChartOption({value:I,attributes:rt,formattedAttributes:M,fieldName:v,chartType:D,relatedFieldName:gt,hasMultipleRelatedFeatures:Se?.length>1,fieldInfos:C}))})}),"one-to-many"===Ve||"many-to-many"===Ve?x:[x[0]]}_getTooltip({label:g,value:C,chartType:v}){return"pie-chart"===v?`${g}`:`${g}: ${C}`}_getChartOption(g){const{value:C,attributes:v,formattedAttributes:M,expressionAttributes:D,fieldName:I,relatedFieldName:x,fieldInfos:X,chartType:he,hasMultipleRelatedFeatures:Se}=g,Ae=this.layer,Ve=this.fieldInfoMap??new Map,{normalizeField:qe,tooltipField:rt}=C,gt=qe?Yc(qe)?v[uv(qe).fieldName]:v[qe]:null,Ot=xC(I)&&D&&void 0!==D[I]?D[I]:x&&void 0!==v[x]?v[x]:void 0!==v[I]?v[I]:M[I],Ut=new QZ.Z({fieldName:I,value:void 0===Ot?null:Ot&&gt?Ot/gt:Ot});if(Yc(I)){const _r=Ve.get(I.toLowerCase()),Mr=rt&&Ve.get(rt.toLowerCase()),bs=_r?.fieldName??I,ya=Se&&rt?uv(rt).fieldName:Mr?.fieldName??rt;return Ut.tooltip=this._getTooltip({label:Se&&ya?v[ya]:M[ya]??_r?.label??_r?.fieldName??x,value:Se&&x?v[x]:M[bs],chartType:he}),Ut}const qt=Mx(X,I),_n=Ym(I,Ae),tn=rt&&void 0!==M[rt]?M[rt]:Ex(qt||new Nx.Z({fieldName:_n}),this.popupTemplate?.expressionInfos);return Ut.tooltip=this._getTooltip({label:tn,value:M[_n],chartType:he}),Ut}};(0,ze._)([(0,Ke.Cb)()],no.prototype,"abilities",void 0),(0,ze._)([(0,Ll.p)("abilities")],no.prototype,"castAbilities",null),(0,ze._)([(0,Ke.Cb)()],no.prototype,"activeMediaInfoIndex",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],no.prototype,"activeMediaInfo",null),(0,ze._)([(0,Ke.Cb)()],no.prototype,"attributes",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"description",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"fieldInfoMap",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"formattedAttributes",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"expressionAttributes",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],no.prototype,"formattedMediaInfos",null),(0,ze._)([(0,Ke.Cb)()],no.prototype,"isAggregate",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"layer",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],no.prototype,"formattedMediaInfoCount",null),(0,ze._)([(0,Ke.Cb)()],no.prototype,"mediaInfos",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"popupTemplate",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"relatedInfos",void 0),(0,ze._)([(0,Ke.Cb)()],no.prototype,"title",void 0),no=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],no);const sh=no;var Gx=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],yG=[{name:"default",colors:[].concat(Gx.slice(30,39),Gx.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],aM=T(56683);const lM=new Map([["ar",()=>Promise.all([T.e(8592),T.e(3309)]).then(T.bind(T,93309)).then(g=>g.a)],["bg-bg",()=>Promise.all([T.e(8592),T.e(2504)]).then(T.bind(T,82504)).then(g=>g.b)],["bs-ba",()=>Promise.all([T.e(8592),T.e(88)]).then(T.bind(T,88)).then(g=>g.b)],["ca-es",()=>Promise.all([T.e(8592),T.e(2371)]).then(T.bind(T,32371)).then(g=>g.c)],["cs-cz",()=>Promise.all([T.e(8592),T.e(3690)]).then(T.bind(T,93690)).then(g=>g.c)],["da-dk",()=>Promise.all([T.e(8592),T.e(2125)]).then(T.bind(T,42125)).then(g=>g.d)],["de-de",()=>Promise.all([T.e(8592),T.e(7396)]).then(T.bind(T,7396)).then(g=>g.d)],["de-ch",()=>Promise.all([T.e(8592),T.e(2479)]).then(T.bind(T,62479)).then(g=>g.d)],["el-gr",()=>Promise.all([T.e(8592),T.e(9548)]).then(T.bind(T,39548)).then(g=>g.e)],["en-us",()=>Promise.all([T.e(8592),T.e(700)]).then(T.bind(T,20700)).then(g=>g.e)],["en-ca",()=>Promise.all([T.e(8592),T.e(7028)]).then(T.bind(T,37028)).then(g=>g.e)],["es-es",()=>Promise.all([T.e(8592),T.e(4824)]).then(T.bind(T,54824)).then(g=>g.e)],["et-ee",()=>Promise.all([T.e(8592),T.e(3914)]).then(T.bind(T,23914)).then(g=>g.e)],["fi-fi",()=>Promise.all([T.e(8592),T.e(1299)]).then(T.bind(T,1299)).then(g=>g.f)],["fr-fr",()=>Promise.all([T.e(8592),T.e(9856)]).then(T.bind(T,39856)).then(g=>g.f)],["he-il",()=>Promise.all([T.e(8592),T.e(4609)]).then(T.bind(T,24609)).then(g=>g.h)],["hr-hr",()=>Promise.all([T.e(8592),T.e(7731)]).then(T.bind(T,87731)).then(g=>g.h)],["hu-hu",()=>Promise.all([T.e(8592),T.e(7127)]).then(T.bind(T,57127)).then(g=>g.h)],["id-id",()=>Promise.all([T.e(8592),T.e(6560)]).then(T.bind(T,36560)).then(g=>g.i)],["it-it",()=>Promise.all([T.e(8592),T.e(7708)]).then(T.bind(T,67708)).then(g=>g.i)],["ja-jp",()=>Promise.all([T.e(8592),T.e(6651)]).then(T.bind(T,36651)).then(g=>g.j)],["ko-kr",()=>Promise.all([T.e(8592),T.e(7016)]).then(T.bind(T,7016)).then(g=>g.k)],["lt-lt",()=>Promise.all([T.e(8592),T.e(5010)]).then(T.bind(T,5010)).then(g=>g.l)],["lv-lv",()=>Promise.all([T.e(8592),T.e(2620)]).then(T.bind(T,92620)).then(g=>g.l)],["nb-no",()=>Promise.all([T.e(8592),T.e(5237)]).then(T.bind(T,55237)).then(g=>g.n)],["nl-nl",()=>Promise.all([T.e(8592),T.e(948)]).then(T.bind(T,948)).then(g=>g.n)],["pl-pl",()=>Promise.all([T.e(8592),T.e(8351)]).then(T.bind(T,58351)).then(g=>g.p)],["pt-br",()=>Promise.all([T.e(8592),T.e(6681)]).then(T.bind(T,86681)).then(g=>g.p)],["pt-pt",()=>Promise.all([T.e(8592),T.e(8110)]).then(T.bind(T,48110)).then(g=>g.p)],["ro-ro",()=>Promise.all([T.e(8592),T.e(8372)]).then(T.bind(T,78372)).then(g=>g.r)],["ru-ru",()=>Promise.all([T.e(8592),T.e(8073)]).then(T.bind(T,88073)).then(g=>g.r)],["sk-sk",()=>Promise.all([T.e(8592),T.e(7419)]).then(T.bind(T,7419)).then(g=>g.s)],["sl-sl",()=>Promise.all([T.e(8592),T.e(1218)]).then(T.bind(T,11218)).then(g=>g.s)],["sr-rs",()=>Promise.all([T.e(8592),T.e(5302)]).then(T.bind(T,85302)).then(g=>g.s)],["sv-se",()=>Promise.all([T.e(8592),T.e(6079)]).then(T.bind(T,86079)).then(g=>g.s)],["th-th",()=>Promise.all([T.e(8592),T.e(5508)]).then(T.bind(T,55508)).then(g=>g.t)],["tr-tr",()=>Promise.all([T.e(8592),T.e(6844)]).then(T.bind(T,56844)).then(g=>g.t)],["uk-ua",()=>Promise.all([T.e(8592),T.e(4978)]).then(T.bind(T,4978)).then(g=>g.u)],["vi-vn",()=>Promise.all([T.e(8592),T.e(8633)]).then(T.bind(T,29202)).then(g=>g.v)],["zh-cn",()=>Promise.all([T.e(8592),T.e(865)]).then(T.bind(T,70865)).then(g=>g.z)],["zh-hk",()=>Promise.all([T.e(8592),T.e(3207)]).then(T.bind(T,3207)).then(g=>g.z)],["zh-tw",()=>Promise.all([T.e(8592),T.e(3207)]).then(T.bind(T,3207)).then(g=>g.z)]]);function _G(g){return g?lM.has(g.toLowerCase())?g.toLowerCase():function vG(g){const C=g.split("-")[0].toLowerCase();let v=null;for(const M of lM.keys())if(M.startsWith(C)){v=M;break}return v}(g)||"en-us":"en-us"}let Wp=null,t0=null;function cM(){return(cM=(0,xn.Z)(function*(g=(0,aM.Kd)()){if(g=_G(g),Wp&&g===t0)return Wp;Wp=T.e(4430).then(T.bind(T,4430)).then(C=>C.i),t0=g;try{const[C,v]=yield Promise.all([Wp,lM.get(t0)()]);t0===g&&(C.am4core.options.defaultLocale=v.default),C.am4core.options.suppressWarnings=!0,C.am4core.options.autoDispose=!0}catch{return Wp=null,t0=null,null}return Wp})).apply(this,arguments)}const Hx="calcite-mode-";function dv(){return function CG(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"")}().startsWith("dark")}const ha="esri-feature-media",Ps={base:ha,mediaContainer:`${ha}__container`,mediaItemContainer:`${ha}__item-container`,mediaItem:`${ha}__item`,mediaItemTitle:`${ha}__item-title`,mediaItemCaption:`${ha}__item-caption`,mediaPrevious:`${ha}__previous`,mediaPreviousIconLTR:`${ha}__previous-icon`,mediaPreviousIconRTL:`${ha}__previous-icon--rtl`,mediaNext:`${ha}__next`,mediaNextIconLTR:`${ha}__next-icon`,mediaNextIconRTL:`${ha}__next-icon--rtl`,mediaChart:`${ha}__chart`,mediaButton:`${ha}__button`,mediaIcon:`${ha}__icon`,iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},Qc="color",qu="tooltip",n0="value",Yx="default-line-value";let Ta=class extends $o.Z{constructor(g,C){var v;super(g,C),v=this,this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.viewModel=new sh,this.messages=null,this._getChartDependencies=function(){var M=(0,xn.Z)(function*(D){const I=yield function EG(){return cM.apply(this,arguments)}(),{destroyed:x,viewModel:X}=v;if(x||!X||!D)return;const{activeMediaInfo:he}=X,Se=yield v._getRendererColors(I);v._renderChart({chartDiv:D,mediaInfo:he,chartsModule:I,colorMap:Se})});return function(D){return M.apply(this,arguments)}}()}initialize(){this._featureElementInfo=new sv,this.addHandles([(0,en.YP)(()=>[this.viewModel?.activeMediaInfo,this.viewModel?.activeMediaInfoIndex],()=>this._setupMediaRefreshTimer(),en.nn),(0,en.YP)(()=>[this.viewModel?.description,this.viewModel?.title],()=>this._setupFeatureElementInfo(),en.nn)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(g){this.viewModel.attributes=g}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(g){this.viewModel.activeMediaInfoIndex=g}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(g){this.viewModel.fieldInfoMap=g}get layer(){return this.viewModel.layer}set layer(g){this.viewModel.layer=g}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(g){this.viewModel.mediaInfos=g}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(g){this.viewModel.popupTemplate=g}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(g){this.viewModel.relatedInfos=g}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}render(){return(0,Xt.u)("div",{bind:this,class:Ps.base,onkeyup:this._handleMediaKeyup},this._featureElementInfo?.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:g}=this.viewModel;return g?(0,Xt.u)("div",{key:"media-element-container",class:Ps.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(g){const{_refreshIntervalInfo:C}=this,{activeMediaInfoIndex:v,formattedMediaInfoCount:M}=this.viewModel,{value:D,refreshInterval:I,altText:x,title:X,type:he}=g,{sourceURL:Se,linkURL:Ae}=D,Ve=_x(Ae??void 0)?"_blank":"_self",qe="_blank"===Ve?"noreferrer":"",rt=I?C:null,Ut=(0,Xt.u)("img",{alt:x||X,key:`media-${he}-${v}-${M}-${rt?rt.timestamp:0}`,src:(rt?rt.sourceURL:Se)??void 0});return(Ae?(0,Xt.u)("a",{title:X,href:Ae,rel:qe,target:Ve},Ut):null)||Ut}renderChartMediaInfo(g){const{activeMediaInfoIndex:C,formattedMediaInfoCount:v}=this.viewModel;return(0,Xt.u)("div",{key:`media-${g.type}-${C}-${v}`,bind:this,class:Ps.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:g}=this.viewModel;return g?"image"===g.type?this.renderImageMediaInfo(g):g.type.includes("chart")?this.renderChartMediaInfo(g):null:null}renderMediaInfo(){const{activeMediaInfo:g}=this.viewModel;if(!g)return null;const C=g.title?(0,Xt.u)("div",{key:"media-title",class:Ps.mediaItemTitle,innerHTML:g.title}):null,v=g.caption?(0,Xt.u)("div",{key:"media-caption",class:Ps.mediaItemCaption,innerHTML:g.caption}):null;return(0,Xt.u)("div",{key:"media-container",class:Ps.mediaItemContainer},(0,Xt.u)("div",{key:"media-item-container",class:Ps.mediaItem},this.renderMediaInfoType()),C,v)}renderMediaPageButton(g){if(this.viewModel.formattedMediaInfoCount<2)return null;const C="previous"===g,v=C?this.messages.previous:this.messages.next,M=this.classes(Ps.mediaButton,C?Ps.mediaPrevious:Ps.mediaNext),D=C?this.classes(Ps.mediaIcon,Ps.mediaPreviousIconLTR,Ps.iconLeftTriangleArrow):this.classes(Ps.mediaIcon,Ps.mediaNextIconLTR,Ps.iconRightTriangleArrow),I=C?this.classes(Ps.mediaIcon,Ps.mediaPreviousIconRTL,Ps.iconRightTriangleArrow):this.classes(Ps.mediaIcon,Ps.mediaNextIconRTL,Ps.iconLeftTriangleArrow);return(0,Xt.u)("button",{type:"button",key:C?"media-previous":"media-next",title:v,"aria-label":v,tabIndex:0,class:M,bind:this,onclick:C?this._previous:this._next},(0,Xt.u)("span",{"aria-hidden":"true",class:D}),(0,Xt.u)("span",{"aria-hidden":"true",class:I}))}_setupFeatureElementInfo(){const{description:g,title:C}=this;this._featureElementInfo?.set({description:g,title:C})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){const{isAggregate:g,layer:C}=this.viewModel;return g&&C?.featureReduction&&"renderer"in C.featureReduction?C.featureReduction.renderer:C?.renderer}_getRendererColors(g){var C=this;return(0,xn.Z)(function*(){const{am4core:v}=g,M=new Map,D=C._getRenderer();if(!D)return M;const x=yield function KZ(g){return tM.apply(this,arguments)}(D);return x.delete("default"),Array.from(x.values()).every(X=>1===X?.length)&&(M.set(Yx,v.color({r:50,g:50,b:50,a:1})),Array.from(x.keys()).forEach(X=>{X&&M.set(X,v.color(x.get(X)?.[0].toCss(!0)))})),M})()}_handleMediaKeyup(g){const C=(0,Fp.kK)(g);"ArrowLeft"===C&&(g.stopPropagation(),this.viewModel.previous()),"ArrowRight"===C&&(g.stopPropagation(),this.viewModel.next())}_renderChart(g){const{abilities:C}=this.viewModel,{chartsModule:v,chartDiv:M,mediaInfo:D,colorMap:I}=g,{value:x,type:X}=D,{am4core:he}=v,Se=function bG(g,C="default"){const v=yG.find(M=>M.name===C);return v?v.colors.map(M=>g.color(M)):null}(he);dv()&&he.useTheme(v.am4themes_dark);const Ve=window.matchMedia("(prefers-reduced-motion: reduce)");C.chartAnimation&&!Ve.matches?he.useTheme(v.am4themes_animated):he.unuseTheme(v.am4themes_animated),he.useTheme(function Ae(rt){rt instanceof he.ColorSet&&Se&&(rt.list=Se)});const qe="pie-chart"===X?this._createPieChart(g):this._createXYChart(g);M.setAttribute("aria-label",D.altText||D.title),qe.data=x.series.map(rt=>({[qu]:rt.tooltip,[n0]:rt.value,[Qc]:I.get(rt.fieldName)})).filter(rt=>"pie-chart"!==X||null!=rt.value&&rt.value>0)}_customizeChartTooltip(g,C){g&&(g.label.wrap=!0,g.label.maxWidth=200,g.autoTextColor=!1,g.getFillFromObject=!1,g.label.fill=C.color("#ffffff"),g.background.fill=C.color({r:0,g:0,b:0,a:.7}))}_createPieChart(g){const{chartDiv:C,chartsModule:v}=g,{am4core:M,am4charts:D}=v,I=M.create(C,D.PieChart);I.rtl=(0,Eo.dZ)(this.container);const x=I.series.push(new D.PieSeries);return x.labels.template.disabled=!0,x.ticks.template.disabled=!0,x.dataFields.value=n0,x.dataFields.category=qu,this._customizeChartTooltip(x.tooltip,M),x.slices.template.propertyFields.fill=Qc,x.slices.template.propertyFields.stroke=Qc,I}_getMinSeriesValue(g){let C=0;return g.forEach(v=>C=Math.min(v.value,C)),C}_createColumnChart(g,C){const{chartsModule:v,mediaInfo:M}=C,{value:D}=M,{am4core:I,am4charts:x}=v,X=g.xAxes.push(new x.CategoryAxis);X.dataFields.category=qu,X.renderer.labels.template.disabled=!0;const he=X.tooltip;this._customizeChartTooltip(he,I),he.events.on("sizechanged",()=>{he.dy=-he.contentHeight});const Se=g.yAxes.push(new x.ValueAxis),Ae=Se.renderer.labels.template;Se.renderer.minLabelPosition=.05,Se.renderer.maxLabelPosition=.95,Se.min=this._getMinSeriesValue(D.series),this._customizeChartTooltip(Se.tooltip,I),Ae.wrap=!0;const Ve=g.series.push(new x.ColumnSeries);Ve.dataFields.valueY=n0,Ve.dataFields.categoryX=qu,Ve.columns.template.propertyFields.fill=Qc,Ve.columns.template.propertyFields.stroke=Qc,g.cursor=new x.XYCursor,D.series.length>15&&(g.scrollbarX=new I.Scrollbar)}_createBarChart(g,C){const{chartsModule:v,mediaInfo:M}=C,{value:D}=M,{am4core:I,am4charts:x}=v,X=g.yAxes.push(new x.CategoryAxis);X.dataFields.category=qu,X.renderer.inversed=!0,X.renderer.labels.template.disabled=!0;const he=X.tooltip;this._customizeChartTooltip(he,I),he.events.on("sizechanged",()=>{he.dx=he.contentWidth});const Se=g.xAxes.push(new x.ValueAxis),Ae=Se.renderer.labels.template;Se.renderer.minLabelPosition=.05,Se.renderer.maxLabelPosition=.95,Se.min=this._getMinSeriesValue(D.series),this._customizeChartTooltip(Se.tooltip,I),Ae.wrap=!0;const Ve=g.series.push(new x.ColumnSeries);Ve.dataFields.valueX=n0,Ve.dataFields.categoryY=qu,Ve.columns.template.propertyFields.fill=Qc,Ve.columns.template.propertyFields.stroke=Qc,g.cursor=new x.XYCursor,D.series.length>15&&(g.scrollbarY=new I.Scrollbar)}_createLineChart(g,C){const{chartsModule:v,mediaInfo:M,colorMap:D}=C,{value:I}=M,{am4core:x,am4charts:X}=v,he=g.xAxes.push(new X.CategoryAxis);he.dataFields.category=qu,he.renderer.labels.template.disabled=!0;const Se=he.tooltip;this._customizeChartTooltip(Se,x),Se.events.on("sizechanged",()=>{Se.dy=-Se.contentHeight});const Ae=g.yAxes.push(new X.ValueAxis),Ve=Ae.renderer.labels.template;Ae.renderer.minLabelPosition=.05,Ae.renderer.maxLabelPosition=.95,Ae.min=this._getMinSeriesValue(I.series),this._customizeChartTooltip(Ae.tooltip,x),Ve.wrap=!0;const qe=g.series.push(new X.LineSeries);qe.dataFields.categoryX=qu,qe.dataFields.valueY=n0,qe.strokeWidth=1;const rt=D.get(Yx);rt&&(qe.stroke=rt);const gt=qe.bullets.push(new X.CircleBullet);gt.propertyFields.fill=Qc,gt.propertyFields.stroke=Qc,g.cursor=new X.XYCursor,I.series.length>15&&(g.scrollbarX=new x.Scrollbar)}_createXYChart(g){const{chartDiv:C,chartsModule:v,mediaInfo:M}=g,{type:D}=M,{am4core:I,am4charts:x}=v,X=I.create(C,x.XYChart);return X.rtl=(0,Eo.dZ)(this.container),"column-chart"===D&&this._createColumnChart(X,g),"bar-chart"===D&&this._createBarChart(X,g),"line-chart"===D&&this._createLineChart(X,g),X}_clearMediaRefreshTimer(){const{_refreshTimer:g}=this;g&&(clearTimeout(g),this._refreshTimer=null)}_updateMediaInfoTimestamp(g){const C=Date.now();this._refreshIntervalInfo={timestamp:C,sourceURL:g&&this._getImageSource(g,C)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:g}=this.viewModel;g&&"image"===g.type&&g.refreshInterval&&this._setRefreshTimeout(g)}_setRefreshTimeout(g){const{refreshInterval:C,value:v}=g;if(!C)return;const M=6e4*C;this._updateMediaInfoTimestamp(v.sourceURL);const D=setInterval(()=>{this._updateMediaInfoTimestamp(v.sourceURL)},M);this._refreshTimer=D}_getImageSource(g,C){const v=g.includes("?")?"&":"?",[M,D=""]=g.split("#");return`${M}${v}timestamp=${C}${D?"#":""}${D}`}};(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"attributes",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"activeMediaInfoIndex",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"description",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"fieldInfoMap",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"layer",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"mediaInfos",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"popupTemplate",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"relatedInfos",null),(0,ze._)([(0,Ke.Cb)()],Ta.prototype,"title",null),(0,ze._)([(0,Ke.Cb)({type:sh})],Ta.prototype,"viewModel",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Feature/t9n/Feature")],Ta.prototype,"messages",void 0),Ta=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureMedia")],Ta);const Jx=Ta;T(55664),T(55013),T(16615),T(82561);var PG=T(75484),DG=T(64531),Qx=(T(6785),T(501)),wG=T(38159),IG=T(80415);const OG=["$datastore","$map","$layer","$aggregatedfeatures"],xG=Ai.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function RG(g){return"string"==typeof g?Jm(NC(g)):Array.isArray(g)?function LG(g){return`<ul class="esri-widget__list">${g.map(C=>`<li>${"string"==typeof C?Jm(NC(C)):C}</li>`).join("")}</ul>`}(g):"esri.arcade.Dictionary"===g?.declaredClass?function FG(g){return`<table class="esri-widget__table">${g.keys().map(C=>{const v=g.field(C);return`<tr><th>${C}</th><td>${"string"==typeof v?Jm(NC(v)):v}</td></tr>`}).join("")}</table>`}(g):g}function NG({aggregatedFeatures:g,arcadeUtils:C,featureSetVars:v,context:M,viewInfo:D,map:I,graphic:x,interceptor:X}){v.forEach(he=>{const Se=he.toLowerCase(),Ae=D.sr;if("$map"===Se&&(M.vars[Se]=C.convertMapToFeatureSetCollection({map:I,spatialReference:Ae,interceptor:X})),"$layer"===Se&&(M.vars[Se]=C.convertFeatureLayerToFeatureSet({layer:x.sourceLayer,spatialReference:Ae,interceptor:X})),"$datastore"===Se&&(M.vars[Se]=C.convertServiceUrlToWorkspace({url:x.sourceLayer.url,spatialReference:Ae,interceptor:X})),"$aggregatedfeatures"===Se){const qe=x.layer,{fields:rt,objectIdField:gt,geometryType:Ot,spatialReference:Ut,displayField:qt}=qe,_n=new IG.default({fields:rt,objectIdField:gt,geometryType:Ot,spatialReference:Ut,displayField:qt,..."feature"===qe.type?{templates:qe.templates,typeIdField:qe.typeIdField,types:qe.types}:null,source:g});M.vars[Se]=C.convertFeatureLayerToFeatureSet({layer:_n,spatialReference:Ut,interceptor:X})}})}function Xx(){return Promise.all([T.e(8592),T.e(4988)]).then(T.bind(T,4988))}function jG(g){return"createQuery"in g&&"queryFeatures"in g}function UG(g){return pM.apply(this,arguments)}function pM(){return(pM=(0,xn.Z)(function*({graphic:g,view:C}){const{isAggregate:v,layer:M}=g;if(!v||!M||"2d"!==C?.type)return[];const D=yield C.whenLayerView(M);if(!jG(D))return[];const I=D.createQuery(),x=g.getObjectId();I.aggregateIds=null!=x?[x]:[];const{features:X}=yield D.queryFeatures(I);return X})).apply(this,arguments)}function qx(g){return fM.apply(this,arguments)}function fM(){return(fM=(0,xn.Z)(function*({expressionInfo:g,arcadeUtils:C,interceptor:v,spatialReference:M,map:D,graphic:I,view:x}){if(!g||!g.expression)return null;const X=C.createSyntaxTree(g.expression),he=OG.filter(rt=>C.hasVariable(X,rt)),[Se]=yield Promise.all([UG({graphic:I,view:x}),C.loadScriptDependencies(X,!0,he)]),Ae=C.getViewInfo({spatialReference:M}),Ve=C.createExecContext(I,Ae);Ve.interceptor=v,Ve.useAsync=!0,NG({aggregatedFeatures:Se,arcadeUtils:C,featureSetVars:he,context:Ve,viewInfo:Ae,map:D,graphic:I,interceptor:v});const qe=C.createFunction(X,Ve);return C.executeAsyncFunction(qe,Ve).catch(rt=>xG.error("arcade-execution-error",{error:rt,graphic:I,expressionInfo:g}))})).apply(this,arguments)}function BG(g){return mM.apply(this,arguments)}function mM(){return(mM=(0,xn.Z)(function*({expressionInfos:g,spatialReference:C,graphic:v,interceptor:M,map:D,view:I}){if(!g||!g.length)return{};const x=yield Xx(),X={};for(const Ae of g)X[`expression/${Ae.name}`]=qx({expressionInfo:Ae,arcadeUtils:x,interceptor:M,spatialReference:C,map:D,graphic:v,view:I});const he=yield(0,ei.as)(X),Se={};for(const Ae in he)Se[Ae]=RG(he[Ae].value);return Se})).apply(this,arguments)}let za=class extends((0,Qu.p)(Ci.Z)){constructor(g){var C;super(g),C=this,this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:v}=this;v&&v.abort(),this._abortController=null},this._createVM=()=>{const v=this.contentElement?.type;this.contentElementViewModel?.destroy();const M="fields"===v?new lv:"media"===v?new sh:"text"===v?new ov:null;this._set("contentElementViewModel",M)},this._compile=(0,xn.Z)(function*(){C._cancelQuery();const v=new AbortController;C._abortController=v,yield C._compileExpression(),C._abortController===v&&(C._abortController=null)}),this._compileThrottled=(0,Np.P)(this._compile,1,this),this._compileExpression=(0,xn.Z)(function*(){const{expressionInfo:v,graphic:M,interceptor:D,spatialReference:I,map:x,view:X,_abortController:he}=C;if(!(v&&M&&I&&x))return void C._set("contentElement",null);const Se=yield Xx();if(he!==C._abortController)return;const Ae=yield qx({arcadeUtils:Se,expressionInfo:v,graphic:M,interceptor:D,map:x,spatialReference:I,view:X});if(!Ae||"esri.arcade.Dictionary"!==Ae.declaredClass)return void C._set("contentElement",null);const Ve=yield Ae.castAsJsonAsync(he?.signal),qe=Ve?.type,rt="media"===qe?DG.Z.fromJSON(Ve):"text"===qe?Qx.Z.fromJSON(Ve):"fields"===qe?PG.Z.fromJSON(Ve):null;C._set("contentElement",rt)}),this.handles.add([(0,en.YP)(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),en.nn),(0,en.YP)(()=>[this.contentElement],()=>this._createVM(),en.nn)])}destroy(){this._cancelQuery(),this.contentElementViewModel?.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(g){this._override("spatialReference",g)}get state(){const{_abortController:g,contentElement:C,contentElementViewModel:v}=this;return g?"loading":C||v?"ready":"disabled"}get map(){return this.view?.map??null}set map(g){this._override("map",g)}};(0,ze._)([(0,Ke.Cb)()],za.prototype,"_abortController",void 0),(0,ze._)([(0,Ke.Cb)({type:wG.Z})],za.prototype,"expressionInfo",void 0),(0,ze._)([(0,Ke.Cb)({type:lc.Z})],za.prototype,"graphic",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],za.prototype,"contentElement",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],za.prototype,"contentElementViewModel",void 0),(0,ze._)([(0,Ke.Cb)()],za.prototype,"interceptor",void 0),(0,ze._)([(0,Ke.Cb)()],za.prototype,"spatialReference",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],za.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],za.prototype,"map",null),(0,ze._)([(0,Ke.Cb)()],za.prototype,"view",void 0),za=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],za);const gM=za;let pv=class extends $o.Z{constructor(g,C){super(g,C),this._contentWidget=null,this.viewModel=new gM}initialize(){this.addHandles((0,en.YP)(()=>this.viewModel?.contentElementViewModel,()=>this._setupExpressionWidget(),en.nn))}destroy(){this._destroyContentWidget()}renderLoading(){return(0,Xt.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Xt.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){const{state:g}=this.viewModel;return(0,Xt.u)("div",{class:"esri-feature-expression"},"loading"===g?this.renderLoading():"disabled"===g?null:this._contentWidget?.render())}_destroyContentWidget(){const{_contentWidget:g}=this;g&&(g.viewModel=null,g.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:g,contentElement:C}=this.viewModel,v=C?.type;this._destroyContentWidget();const M=g?"fields"===v?new jx({viewModel:g}):"media"===v?new Jx({viewModel:g}):"text"===v?new av({viewModel:g}):null:null;this._contentWidget=M,this.scheduleRender()}};(0,ze._)([(0,Ke.Cb)({type:gM})],pv.prototype,"viewModel",void 0),pv=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureExpression")],pv);const WG=pv;var kG=T(79608),r0=T(61996);let Ki=class extends((0,kG.J)((0,r0.IG)((0,Qu.p)(Ci.Z)))){constructor(g){var C;super(g),C=this,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:v}=this;v&&v.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:v}=this;v&&v.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:v}=this;v&&v.abort(),this._queryPageAbortController=null},this._queryController=(0,xn.Z)(function*(){C._cancelQuery();const v=new AbortController;C._queryAbortController=v,yield(0,ei.R8)(C._query()),C._queryAbortController===v&&(C._queryAbortController=null)}),this._queryFeatureCountController=(0,xn.Z)(function*(){C._cancelQueryFeatureCount();const v=new AbortController;C._queryFeatureCountAbortController=v,yield(0,ei.R8)(C._queryFeatureCount()),C._queryFeatureCountAbortController===v&&(C._queryFeatureCountAbortController=null)}),this._queryPageController=(0,xn.Z)(function*(){const v=new AbortController;C._queryPageAbortController=v,yield(0,ei.R8)(C._queryPage()),C._queryPageAbortController===v&&(C._queryPageAbortController=null)}),this._queryThrottled=(0,Np.P)(this._queryController,100,this),this._queryFeatureCountThrottled=(0,Np.P)(this._queryFeatureCountController,100,this),this._queryPageThrottled=(0,Np.P)(this._queryPageController,100,this),this._query=(0,xn.Z)(function*(){const{_queryAbortController:v,relatedFeatures:M}=C;C._destroyRelatedFeatureViewModels(),C.featurePage=1,M.removeAll(),M.addMany(C._sliceFeatures(yield C._queryRelatedFeatures({signal:v?.signal})))}),this.handles.add([(0,en.YP)(()=>[this.displayCount,this.graphic,this.layer,this.map,this.orderByFieldsFixedCasing,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount],()=>this._queryThrottled(),en.nn),(0,en.YP)(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageThrottled()),(0,en.YP)(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery],()=>this._queryFeatureCountThrottled())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(g){const{featuresPerPage:C,featureCount:v}=this,D=Math.ceil(v/C)||1;this._set("featurePage",Math.min(Math.max(g,1),D))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:g,relatedLayer:C}=this;return g&&C?.loaded?g.map(v=>{const M=v.clone(),D=Ym(v.field,C);return M.field=D,M}):g??[]}get supportsCacheHint(){return!!this.layer?.capabilities?.queryRelated?.supportsCacheHint}get canQuery(){const g=this.layer?.capabilities?.queryRelated;return!!(this.relatedLayer&&this.relationship&&"number"==typeof this.relationshipId&&"number"==typeof this.objectId&&g?.supportsCount&&g?.supportsPagination)}get itemDescriptionFieldName(){return this.orderByFieldsFixedCasing?.[0]?.field||null}set displayCount(g){this._set("displayCount",Math.min(Math.max(g,0),10))}get displayCount(){return this._get("displayCount")}get objectId(){return(this.objectIdField&&this.graphic?.attributes?.[this.objectIdField])??null}get objectIdField(){return this.layer?.objectIdField||null}get relatedFeatures(){return this._get("relatedFeatures")||new ss.Z}get relatedLayer(){const{layer:g,map:C,relationship:v}=this;return g?.loaded&&C&&v?function fZ(g,C,v){return g&&C&&v?Ox(g.allLayers,C,v)||Ox(g.allTables,C,v):null}(C,g,v)??null:null}get relationship(){const{relationshipId:g,layer:C}=this;return"number"==typeof g?C?.relationships?.find(({id:v})=>v===g)??null:null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new ss.Z}get state(){const{_queryAbortController:g,_queryFeatureCountAbortController:C,_queryPageAbortController:v,canQuery:M}=this;return C?"loading":g||v?"querying":M?"ready":"disabled"}_destroyRelatedFeatureViewModels(){this.relatedFeatureViewModels?.forEach(g=>!g.destroyed&&g.destroy()),this.relatedFeatureViewModels.removeAll()}_queryFeatureCount(){var g=this;return(0,xn.Z)(function*(){const{layer:C,relatedLayer:v,relationshipId:M,objectId:D,_queryFeatureCountAbortController:I,canQuery:x,supportsCacheHint:X}=g;if(yield C?.load(),yield v?.load(),!x||!C||!v)return void g._set("featureCount",0);const he=v.createQuery(),Se=new sM.default({cacheHint:X,relationshipId:M,returnGeometry:!1,objectIds:[D],where:(0,Lt.yl)(he.where,void 0)}),Ae=yield C.queryRelatedFeaturesCount(Se,{signal:I?.signal});g._set("featureCount",Ae[D]||0)})()}_sliceFeatures(g){const{showAllEnabled:C,displayCount:v}=this;return C?g:v?g.slice(0,v):[]}_queryPage(){var g=this;return(0,xn.Z)(function*(){const{relatedFeatures:C,featurePage:v,showAllEnabled:M,_queryPageAbortController:D}=g;!M||v<2||C.addMany(yield g._queryRelatedFeatures({signal:D?.signal}))})()}_queryRelatedFeatures(g){var C=this;return(0,xn.Z)(function*(){const{orderByFieldsFixedCasing:v,showAllEnabled:M,featuresPerPage:D,displayCount:I,layer:x,relationshipId:X,featurePage:he,featureCount:Se,relatedLayer:Ae,supportsCacheHint:Ve}=C,{canQuery:qe,objectId:rt}=C;if(!qe||!x||!Ae)return[];const gt=M?((he-1)*D+Se)%Se:0,Ot=M?D:I,Ut=Ae.objectIdField,qt=[...v?.map(Mr=>Mr.field),Ut].filter(Lt.pC),_n=v?.map(Mr=>`${Mr.field} ${Mr.order}`),tn=Ae.createQuery(),Gn=new sM.default({orderByFields:_n,start:gt,num:Ot,outFields:qt,cacheHint:Ve,relationshipId:X,returnGeometry:!1,objectIds:[rt],where:(0,Lt.yl)(tn.where,void 0)}),_r=(yield x.queryRelatedFeatures(Gn,{signal:g?.signal}))[rt]?.features||[];return _r.forEach(Mr=>{Mr.sourceLayer=Ae,Mr.layer=Ae}),_r})()}};(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"_queryAbortController",void 0),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"_queryPageAbortController",void 0),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"_queryFeatureCountAbortController",void 0),(0,ze._)([(0,Ke.Cb)({value:1})],Ki.prototype,"featurePage",null),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"featuresPerPage",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"orderByFieldsFixedCasing",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"supportsCacheHint",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"canQuery",null),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"description",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"itemDescriptionFieldName",null),(0,ze._)([(0,Ke.Cb)({value:3})],Ki.prototype,"displayCount",null),(0,ze._)([(0,Ke.Cb)({type:lc.Z})],Ki.prototype,"graphic",void 0),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"layer",void 0),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"map",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"objectId",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"objectIdField",null),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"orderByFields",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"relatedFeatures",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"relatedLayer",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"relationship",null),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"featureCount",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ki.prototype,"relatedFeatureViewModels",null),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"relationshipId",void 0),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"showAllEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],Ki.prototype,"title",void 0),Ki=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],Ki);const vM=Ki;var uc=T(97059);const s0="esri-feature",_M=`${s0}-relationship`,Xc={base:_M,esriWidget:"esri-widget",listContainer:`${_M}__list`,listContainerQuerying:`${_M}__list--querying`,featureObserver:`${s0}__feature-observer`,stickySpinnerContainer:`${s0}__sticky-loading-container`,loadingSpinnerContainer:`${s0}__loading-container`,spinner:`${s0}__loading-spinner`,iconLoading:"esri-icon-loading-indicator esri-rotating"},eR={title:!0,description:!0};let pa=class extends $o.Z{constructor(g,C){super(g,C),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([v])=>{v?.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this.headingLevel=2,this.viewModel=new vM,this.messages=null,this.messagesCommon=null,this.visibleElements={...eR},this._increaseFeaturePage=()=>{const{state:v,showAllEnabled:M,relatedFeatures:D,featuresPerPage:I,featurePage:x}=this.viewModel;"ready"===v&&M&&D.length>=I*x&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new sv,this.addHandles([(0,en.YP)(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),en.nn),(0,en.YP)(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),(0,en.on)(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return Promise.all([Promise.all([T.e(8954),T.e(8592),T.e(4533)]).then(T.bind(T,64533)),Promise.all([T.e(8592),T.e(7591)]).then(T.bind(T,37591)),T.e(8472).then(T.bind(T,8472)),Promise.all([T.e(8954),T.e(1206)]).then(T.bind(T,11206))])}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=(0,Lt.SC)(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:g,featureCount:C,displayCount:v}=this.viewModel;return!g&&!!C&&(C>v||0===v)}get displayListItems(){return this.displayShowAllButton||this.viewModel.relatedFeatureViewModels.length>0}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get featureCountDescription(){const{messages:g}=this,{featureCount:C}=this.viewModel;return(0,uc.n)(1===C?g?.numberRecord:g?.numberRecords,{number:C})}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}castVisibleElements(g){return{...eR,...g}}renderStickyLoading(){return"querying"===this.viewModel.state?(0,Xt.u)("div",{key:"sticky-loader",class:Xc.stickySpinnerContainer},this.renderLoadingIcon()):null}renderLoadingIcon(){return(0,Xt.u)("span",{class:this.classes(Xc.iconLoading,Xc.spinner)})}renderLoading(){return(0,Xt.u)("div",{key:"loading-container",class:Xc.loadingSpinnerContainer},this.renderLoadingIcon())}renderShowAllIconNode(){return(0,Xt.u)("calcite-icon",{scale:"s",icon:"list",slot:"content-end"})}renderChevronIconNode(){const g=(0,Eo.dZ)(this.container)?"chevron-left":"chevron-right";return(0,Xt.u)("calcite-icon",{scale:"s",icon:g,slot:"content-end"})}renderRelatedFeature(g){const{itemDescriptionFieldName:C}=this.viewModel,v=g.title;g.description=C&&g.formattedAttributes?.global[C];const M="loading"===g.state;return(0,Xt.u)("calcite-list-item",{key:g.uid,label:M?`${this.messagesCommon?.loading}\u2026`:v,description:M?"\u2026":g.description??"",onCalciteListItemSelect:()=>this.emit("select-record",{featureViewModel:g})},this.renderChevronIconNode())}renderShowAllListItem(){return this.displayShowAllButton?(0,Xt.u)("calcite-list-item",{key:"show-all-item",label:this.messages?.showAll,description:this.featureCountDescription,onCalciteListItemSelect:()=>this.emit("show-all-records")},this.renderShowAllIconNode()):null}renderNoRelatedFeaturesMessage(){return(0,Xt.u)("calcite-notice",{key:"no-related-features-message",icon:"information",open:!0,kind:"brand",scale:"s",width:"full"},(0,Xt.u)("div",{slot:"message"},this.messages?.noRelatedFeatures))}renderFeatureObserver(){return(0,Xt.u)("div",{key:"feature-observer",class:Xc.featureObserver,bind:this,afterCreate:this._relatedFeatureIntersectionObserverCreated})}renderList(){const{relatedFeatureViewModels:g}=this.viewModel;return(0,Xt.u)("calcite-list",null,g.toArray().map(C=>this.renderRelatedFeature(C)),this.renderShowAllListItem())}renderRelatedFeatures(){const{displayListItems:g}=this,{state:C}=this.viewModel;return(0,Xt.u)("div",{key:"list-container",class:this.classes(Xc.listContainer,{[Xc.listContainerQuerying]:"querying"===C})},g?this.renderList():"ready"===C?this.renderNoRelatedFeaturesMessage():null,this.renderStickyLoading(),this.renderFeatureObserver())}renderRelationshipNotFound(){return(0,Xt.u)("calcite-notice",{key:"relationship-not-found",icon:"exclamation-mark-triangle",open:!0,kind:"danger",scale:"s",width:"full"},(0,Xt.u)("div",{slot:"message"},this.messages?.relationshipNotFound))}render(){const{state:g}=this.viewModel;return(0,Xt.u)("div",{class:this.classes(Xc.base,Xc.esriWidget)},this._featureElementInfo?.render(),"loading"===g?this.renderLoading():"disabled"===g?this.renderRelationshipNotFound():this.renderRelatedFeatures())}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:g}=this.viewModel,C="related-feature-viewmodels";this.removeHandles(C),g?.forEach(v=>{this.addHandles((0,en.YP)(()=>[v.title,v.state],()=>this.scheduleRender(),en.nn),C)}),this.scheduleRender()}_setupFeatureElementInfo(){const{headingLevel:g,visibleElements:C}=this;this._featureElementInfo?.set({description:C.description&&this.description,title:C.title&&this.title,headingLevel:g})}_handleRelatedFeatureObserverChange(){var g=this;return(0,xn.Z)(function*(){g._unobserveRelatedFeatureObserver();const{state:C,showAllEnabled:v}=g.viewModel;yield(0,ei.e4)(0),g._relatedFeatureIntersectionObserverNode&&"ready"===C&&v&&g._relatedFeatureIntersectionObserver.observe(g._relatedFeatureIntersectionObserverNode)})()}_relatedFeatureIntersectionObserverCreated(g){this._relatedFeatureIntersectionObserverNode=g}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};(0,ze._)([(0,Ke.Cb)()],pa.prototype,"_relatedFeatureIntersectionObserverNode",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],pa.prototype,"displayShowAllButton",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],pa.prototype,"displayListItems",null),(0,ze._)([(0,Ke.Cb)()],pa.prototype,"description",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],pa.prototype,"featureCountDescription",null),(0,ze._)([(0,Ke.Cb)()],pa.prototype,"headingLevel",void 0),(0,ze._)([(0,Ke.Cb)()],pa.prototype,"title",null),(0,ze._)([(0,Ke.Cb)({type:vM})],pa.prototype,"viewModel",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Feature/t9n/Feature")],pa.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/t9n/common")],pa.prototype,"messagesCommon",void 0),(0,ze._)([(0,Ke.Cb)()],pa.prototype,"visibleElements",void 0),(0,ze._)([(0,Ll.p)("visibleElements")],pa.prototype,"castVisibleElements",null),pa=(0,ze._)([(0,cr.j)("esri.widgets.Feature.FeatureRelationship")],pa);const tR=pa;var o0;const nR="content-view-models",rR="relationship-view-models",iR={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0};let us=o0=class extends((0,r0.IG)(Ci.Z)){constructor(g){super(g),this._handles=new Rl.Z,this._error=null,this._featureAbortController=null,this._graphicChangedThrottled=(0,Np.P)(this._graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...iR},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=C=>{const{abilities:v}=this;return"attachments"===C.type&&!!v.attachmentsContent||"custom"===C.type&&!!v.customContent||"fields"===C.type&&!!v.fieldsContent||"media"===C.type&&!!v.mediaContent||"text"===C.type&&!!v.textContent||"expression"===C.type&&!!v.expressionContent||"relationship"===C.type&&!!v.relationshipContent},this._handles.add((0,en.YP)(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this._graphicChangedThrottled(),en.nn))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,Lt.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function aZ(g,C){const v=new Map;return g&&g.forEach(M=>{const D=Ym(M.fieldName,C);M.fieldName=D,v.set(D.toLowerCase(),M)}),v}(Sx(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return vx(this.graphic)}castAbilities(g){return{...iR,...g}}get isTable(){return this._sourceLayer?.isTable||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(g){this._set("graphic",g?g.clone():null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(g){this._override("spatialReference",g)}get map(){return this.view?.map||null}set map(g){this._override("map",g)}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(g,C){const v=this.contentViewModels[g];v instanceof sh&&v.setActiveMedia(C)}nextMedia(g){const C=this.contentViewModels[g];C instanceof sh&&C.next()}previousMedia(g){const C=this.contentViewModels[g];C instanceof sh&&C.previous()}updateGeometry(){var g=this;return(0,xn.Z)(function*(){const{graphic:C,spatialReference:v,_sourceLayer:M}=g;yield M?.load();const D=M?.objectIdField;if(!D||!C||!M)return;const I=C?.attributes?.[D];if(null==I)return;const x=[I];if(!C.geometry){const X=(yield Px({layer:M,graphic:C,outFields:[],objectIds:x,returnGeometry:!0,spatialReference:v}))?.geometry;X&&(C.geometry=X)}})()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){var g=this;return(0,xn.Z)(function*(){g._cancelFeatureQuery(),g._error=null,g._clear();const{graphic:C}=g;if(!C)return;const v=new AbortController;g._featureAbortController=v;try{yield g._queryFeature({signal:v.signal})}catch(M){(0,ei.D_)(M)||(g._error=M,Ai.Z.getLogger(g.declaredClass).error("error","The popupTemplate could not be displayed for this feature.",{error:M,graphic:C,popupTemplate:g._effectivePopupTemplate}))}g._featureAbortController===v&&(g._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:g}=this;g&&g.abort(),this._featureAbortController=null}_compileContentElement(g,C){return"attachments"===g.type?this._compileAttachments(g,C):"custom"===g.type?this._compileCustom(g,C):"fields"===g.type?this._compileFields(g,C):"media"===g.type?this._compileMedia(g,C):"text"===g.type?this._compileText(g,C):"expression"===g.type?this._compileExpression(g,C):"relationship"===g.type?this._compileRelationship(g,C):void 0}_compileContent(g){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(g)?g.filter(this._isAllowedContentType).map((C,v)=>this._compileContentElement(C,v)).filter(Lt.pC):"string"==typeof g?this._compileText(new Qx.Z({text:g}),0).text:g}_destroyContentViewModels(){this._handles?.remove(rR),this._handles?.remove(nR),this.contentViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("contentViewModels",[])}_matchesFeature(g,C){const v=g?.graphic?.getObjectId(),M=C?.getObjectId();return(0,Lt.pC)(v)&&(0,Lt.pC)(M)&&v===M}_setRelatedFeaturesViewModels({relatedFeatureViewModels:g,relatedFeatures:C,map:v}){const{view:M,spatialReference:D}=this;C?.filter(Boolean).forEach(I=>{g.find(x=>this._matchesFeature(x,I))||g.add(new o0({abilities:{relationshipContent:!1},map:v,view:M,spatialReference:D,graphic:I}))}),g.forEach(I=>{C?.find(X=>this._matchesFeature(I,X))||g.remove(I)})}_setExpressionContentVM(g,C){const v=this.formattedAttributes,{contentElement:M,contentElementViewModel:D}=g,I=M?.type;D&&I&&("fields"===I&&(this._createFieldsFormattedAttributes({contentElement:M,contentElementIndex:C,formattedAttributes:v}),D.set(this._createFieldsVMParams(M,C))),"media"===I&&(this._createMediaFormattedAttributes({contentElement:M,contentElementIndex:C,formattedAttributes:v}),D.set(this._createMediaVMParams(M,C))),"text"===I&&D.set(this._createTextVMParams(M)))}_compileRelationship(g,C){const{displayCount:v,orderByFields:M,relationshipId:D,title:I,description:x}=g,{_sourceLayer:X,graphic:he,map:Se}=this,Ae=new vM({displayCount:v,graphic:he,orderByFields:M,relationshipId:D,layer:X,map:Se,...this._compileTitleAndDesc({title:I,description:x})});return this.contentViewModels[C]=Ae,this._handles.add((0,en.on)(()=>Ae.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(Ae)),rR),g}_compileExpression(g,C){const{expressionInfo:v}=g,{graphic:M,map:D,spatialReference:I,view:x}=this,X=new gM({expressionInfo:v,graphic:M,interceptor:o0.interceptor,map:D,spatialReference:I,view:x});return this.contentViewModels[C]=X,this._handles.add((0,en.YP)(()=>X.contentElementViewModel,()=>this._setExpressionContentVM(X,C),en.nn),nR),g}_compileAttachments(g,C){const{graphic:v}=this,{description:M,title:D}=g;return this.contentViewModels[C]=new zC({graphic:v,...this._compileTitleAndDesc({title:D,description:M})}),g}_compileCustom(g,C){const{graphic:v}=this,{creator:M,destroyer:D}=g;return this.contentViewModels[C]=new ov({graphic:v,creator:M,destroyer:D}),g}_compileTitleAndDesc({title:g,description:C}){const{_fieldInfoMap:v,_sourceLayer:M,graphic:D,formattedAttributes:I}=this,x=D?.attributes,X=this._expressionAttributes,he=I.global;return{title:nh({attributes:x,fieldInfoMap:v,globalAttributes:he,expressionAttributes:X,layer:M,text:g}),description:nh({attributes:x,fieldInfoMap:v,globalAttributes:he,expressionAttributes:X,layer:M,text:C})}}_createFieldsVMParams(g,C){const v=this._effectivePopupTemplate,M=this.formattedAttributes,D={...M?.global,...M?.content[C]},I=(g?.fieldInfos||v?.fieldInfos)?.filter(({fieldName:Se})=>xC(Se)||Yc(Se)||D.hasOwnProperty(Se)),x=v?.expressionInfos,{description:X,title:he}=g;return{attributes:D,expressionInfos:x,fieldInfos:I,...this._compileTitleAndDesc({title:he,description:X})}}_compileFields(g,C){const v=g.clone(),M=new lv(this._createFieldsVMParams(g,C));return this.contentViewModels[C]=M,v.fieldInfos=M.formattedFieldInfos.slice(0),v}_createMediaVMParams(g,C){const{abilities:v,graphic:M,_fieldInfoMap:D,_effectivePopupTemplate:I,relatedInfos:x,_sourceLayer:X,_expressionAttributes:he}=this,Se=this.formattedAttributes,Ae=M?.attributes??{},{description:Ve,mediaInfos:qe,title:rt}=g;return{abilities:{chartAnimation:v.chartAnimation},activeMediaInfoIndex:g.activeMediaInfoIndex||0,attributes:Ae,isAggregate:M?.isAggregate,layer:X,fieldInfoMap:D,formattedAttributes:{...Se?.global,...Se?.content[C]},expressionAttributes:he,mediaInfos:qe,popupTemplate:I,relatedInfos:x,...this._compileTitleAndDesc({title:rt,description:Ve})}}_compileMedia(g,C){const v=g.clone(),M=new sh(this._createMediaVMParams(g,C));return v.mediaInfos=M.formattedMediaInfos.slice(0),this.contentViewModels[C]=M,v}_createTextVMParams(g){const{graphic:C,_fieldInfoMap:v,_sourceLayer:M,_expressionAttributes:D}=this;return g&&g.text&&(g.text=nh({attributes:C?.attributes??{},fieldInfoMap:v,globalAttributes:this.formattedAttributes?.global??{},expressionAttributes:D,layer:M,text:g.text})),{graphic:C,creator:g.text}}_compileText(g,C){const v=g.clone();return this.contentViewModels[C]=new ov(this._createTextVMParams(v)),v}_compileLastEditInfo(){const{_effectivePopupTemplate:g,_sourceLayer:C,graphic:v}=this;if(!g)return;const{lastEditInfoEnabled:M}=g,D=C?.editFieldsInfo;return M&&D?function oZ(g,C){const{creatorField:v,creationDateField:M,editorField:D,editDateField:I}=g;if(!C)return;const x=C[I];if("number"==typeof x){const he=C[D];return{type:"edit",date:(0,th.p6)(x,OC),user:he}}const X=C[M];if("number"==typeof X){const he=C[v];return{type:"create",date:(0,th.p6)(X,OC),user:he}}return null}(D,v?.attributes):void 0}_compileTitle(g){const{_fieldInfoMap:C,_sourceLayer:v,graphic:M,_expressionAttributes:D}=this;return nh({attributes:M?.attributes??{},fieldInfoMap:C,globalAttributes:this.formattedAttributes?.global??{},expressionAttributes:D,layer:v,text:g})}_getTitle(){var g=this;return(0,xn.Z)(function*(){const{_effectivePopupTemplate:C,graphic:v}=g;if(!v)return null;const M=C?.title;return rv(M,{graphic:v})})()}_getContent(){var g=this;return(0,xn.Z)(function*(){const{_effectivePopupTemplate:C,graphic:v}=g;if(!v)return null;const M=C?.content;return rv(M,{graphic:v})})()}_queryFeature(g){var C=this;return(0,xn.Z)(function*(){const{_featureAbortController:v,_sourceLayer:M,graphic:D,_effectivePopupTemplate:I}=C,x=C.map,X=C.view,he=C.spatialReference;if(v!==C._featureAbortController||!D)return;yield function cZ(g,C){return VC.apply(this,arguments)}({graphic:D,popupTemplate:I,layer:M,spatialReference:he},g);const{content:{value:Se},title:{value:Ae}}=yield(0,ei.as)({content:C._getContent(),title:C._getTitle()}),{expressionAttributes:{value:Ve}}=yield(0,ei.as)({checkForRelatedFeatures:C._checkForRelatedFeatures(g),expressionAttributes:BG({expressionInfos:I?.expressionInfos,spatialReference:he,graphic:D,map:x,interceptor:o0.interceptor,view:X})});v===C._featureAbortController&&D&&(C._expressionAttributes=Ve,C._graphicExpressionAttributes={...D.attributes,...Ve},C._set("formattedAttributes",C._createFormattedAttributes(Se)),C._set("title",C._compileTitle(Ae)),C._set("lastEditInfo",C._compileLastEditInfo()||null),C._set("content",C._compileContent(Se)||null))})()}_createMediaFormattedAttributes({contentElement:g,contentElementIndex:C,formattedAttributes:v}){const{_effectivePopupTemplate:M,graphic:D,relatedInfos:I,_sourceLayer:x,_fieldInfoMap:X,_graphicExpressionAttributes:he}=this;v.content[C]=jC({fieldInfos:M?.fieldInfos,graphic:D,attributes:{...he,...g.attributes},layer:x,fieldInfoMap:X,relatedInfos:I})}_createFieldsFormattedAttributes({contentElement:g,contentElementIndex:C,formattedAttributes:v}){if(g.fieldInfos){const{graphic:M,relatedInfos:D,_sourceLayer:I,_fieldInfoMap:x,_graphicExpressionAttributes:X}=this;v.content[C]=jC({fieldInfos:g.fieldInfos,graphic:M,attributes:{...X,...g.attributes},layer:I,fieldInfoMap:x,relatedInfos:D})}}_createFormattedAttributes(g){const{_effectivePopupTemplate:C,graphic:v,relatedInfos:M,_sourceLayer:D,_fieldInfoMap:I,_graphicExpressionAttributes:x}=this,X=C?.fieldInfos,he={global:jC({fieldInfos:X,graphic:v,attributes:x,layer:D,fieldInfoMap:I,relatedInfos:M}),content:[]};return Array.isArray(g)&&g.forEach((Se,Ae)=>{"fields"===Se.type&&this._createFieldsFormattedAttributes({contentElement:Se,contentElementIndex:Ae,formattedAttributes:he}),"media"===Se.type&&this._createMediaFormattedAttributes({contentElement:Se,contentElementIndex:Ae,formattedAttributes:he})}),he}_checkForRelatedFeatures(g){const{graphic:C,_effectivePopupTemplate:v}=this;return this._queryRelatedInfos(C,Sx(v),g)}_queryRelatedInfos(g,C,v){var M=this;return(0,xn.Z)(function*(){const{relatedInfos:D,_sourceLayer:I}=M;D.clear();const x=(0,Lt.pC)(I?.associatedLayer)?yield I?.associatedLayer.load(v):I;if(!x||!g)return;const X=C.filter(Ae=>Ae&&Yc(Ae.fieldName));if(!X||!X.length)return;C.forEach(Ae=>M._configureRelatedInfo(Ae,x));const he=yield function hG({relatedInfos:g,layer:C},v){const M={};return g.forEach((D,I)=>{const{relation:x}=D;if(!x){const Ve=new Ar.Z("relation-required","A relation is required on a layer to retrieve related records.");throw zx.error(Ve),Ve}const{relatedTableId:X}=x;if("number"!=typeof X){const Ve=new Ar.Z("A related table ID is required on a layer to retrieve related records.");throw zx.error(Ve),Ve}const he=`${C.url}/${X}`,Se=$x.get(he),Ae=Se||function dG(g,C){return(0,XZ.default)(g,{query:{f:"json"},signal:C&&C.signal})}(he);Se||$x.set(he,Ae),M[I]=Ae}),(0,ei.Hl)((0,ei.as)(M),v)}({relatedInfos:D,layer:x},v);Object.keys(he).forEach(Ae=>{const Ve=D.get(Ae.toString()),qe=he[Ae]?.value;Ve&&qe&&(Ve.layerInfo=qe.data)});const Se=yield function pG({graphic:g,relatedInfos:C,layer:v},M){const D={};return C.forEach((I,x)=>{I.layerInfo&&(D[x]=function uG(g,C,v,M){return oM.apply(this,arguments)}(g,I,v,M))}),(0,ei.as)(D)}({graphic:g,relatedInfos:D,layer:x},v);Object.keys(Se).forEach(Ae=>{!function aG(g,C){if(!C||!g)return;const{features:v,statsFeatures:M}=g,D=v&&v.value;C.relatedFeatures=D?D.features:[];const I=M&&M.value;C.relatedStatsFeatures=I?I.features:[]}(Se[Ae]?.value,D.get(Ae.toString()))})})()}_configureRelatedInfo(g,C){const{relatedInfos:v}=this,M=uv(g.fieldName);if(!M)return;const{layerId:D,fieldName:I}=M;if(!D)return;const x=v.get(D.toString())||function oG(g,C){const v=function rG(g,C){if(!C.relationships)return null;let v=null;const{relationships:M}=C;return M.some(D=>D.id===parseInt(g,10)&&(v=D,!0)),v}(g,C);if(v)return{url:`${C.url}/${v.relatedTableId}`,sourceSpatialReference:C.spatialReference,relation:v,relatedFields:[],outStatistics:[]}}(D,C);x&&(function fG({relatedInfo:g,fieldName:C,fieldInfo:v}){if(g.relatedFields?.push(C),v.statisticType){const M=new tG.Z({statisticType:v.statisticType,onStatisticField:C,outStatisticFieldName:C});g.outStatistics?.push(M)}}({relatedInfo:x,fieldName:I,fieldInfo:g}),this.relatedInfos.set(D,x))}};us.interceptor=new class zG{constructor(C,v){this.preLayerQueryCallback=C,this.preRequestCallback=v,this.preLayerQueryCallback||(this.preLayerQueryCallback=M=>{}),this.preRequestCallback||(this.preLayerQueryCallback=M=>{})}}(({query:g,layer:C,method:v})=>{Ix({layer:C,method:v,query:g,definitionExpression:`${C.definitionExpression} ${C.serviceDefinitionExpression}`})},({queryPayload:g,layer:C,method:v})=>{Ix({layer:C,method:v,query:g,definitionExpression:`${C.definitionExpression} ${C.serviceDefinitionExpression}`})}),(0,ze._)([(0,Ke.Cb)()],us.prototype,"_error",void 0),(0,ze._)([(0,Ke.Cb)()],us.prototype,"_featureAbortController",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"_effectivePopupTemplate",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"_fieldInfoMap",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"_sourceLayer",null),(0,ze._)([(0,Ke.Cb)()],us.prototype,"abilities",void 0),(0,ze._)([(0,Ll.p)("abilities")],us.prototype,"castAbilities",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"content",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"contentViewModels",void 0),(0,ze._)([(0,Ke.Cb)()],us.prototype,"description",void 0),(0,ze._)([(0,Ke.Cb)({type:Boolean})],us.prototype,"defaultPopupTemplateEnabled",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"isTable",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"state",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"formattedAttributes",void 0),(0,ze._)([(0,Ke.Cb)({type:lc.Z,value:null})],us.prototype,"graphic",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"lastEditInfo",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"relatedInfos",void 0),(0,ze._)([(0,Ke.Cb)()],us.prototype,"spatialReference",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"title",void 0),(0,ze._)([(0,Ke.Cb)()],us.prototype,"map",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],us.prototype,"waitingForContent",null),(0,ze._)([(0,Ke.Cb)()],us.prototype,"view",void 0),us=o0=(0,ze._)([(0,cr.j)("esri.widgets.FeatureViewModel")],us);const EM=us,Lo="esri-feature",Es={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:Lo,container:`${Lo}__size-container`,title:`${Lo}__title`,main:`${Lo}__main-container`,btn:`${Lo}__button`,icon:`${Lo}__icon`,content:`${Lo}__content`,contentNode:`${Lo}__content-node`,contentElement:`${Lo}__content-element`,text:`${Lo}__text`,lastEditedInfo:`${Lo}__last-edited-info`,fields:`${Lo}__fields`,fieldHeader:`${Lo}__field-header`,fieldData:`${Lo}__field-data`,fieldDataDate:`${Lo}__field-data--date`,loadingSpinnerContainer:`${Lo}__loading-container`,spinner:`${Lo}__loading-spinner`},sR=g=>{let C=class extends g{constructor(){super(...arguments),this.renderNodeContent=v=>(0,KC.Qd)(v)&&!v.destroyed?(0,Xt.u)("div",{class:Es.contentNode,key:v},v.render()):v instanceof HTMLElement?(0,Xt.u)("div",{class:Es.contentNode,key:v,bind:v,afterCreate:this._attachToNode}):(0,KC.o)(v)?(0,Xt.u)("div",{class:Es.contentNode,key:v,bind:v.domNode,afterCreate:this._attachToNode}):null}_attachToNode(v){v.appendChild(this)}};return C=(0,ze._)([(0,cr.j)("esri.widgets.Feature.ContentMixin")],C),C};var bM;const oR={title:!0,content:!0,lastEditedInfo:!0},aR="relationship-handles";let po=bM=class extends(sR($o.Z)){constructor(g,C){super(g,C),this._contentWidgets=[],this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.visibleElements={...oR},this.viewModel=new EM}initialize(){this.addHandles((0,en.YP)(()=>this.viewModel?.contentViewModels,()=>this._setupContentWidgets(),en.nn))}loadDependencies(){return Promise.all([T.e(8954),T.e(1206)]).then(T.bind(T,11206))}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(g){this.viewModel.graphic=g}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(g){this.viewModel.defaultPopupTemplateEnabled=g}get isTable(){return this.viewModel.isTable}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(g){this.viewModel.spatialReference=g}get title(){return this.viewModel.title}castVisibleElements(g){return{...oR,...g}}get map(){return this.viewModel.map}set map(g){this.viewModel.map=g}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}render(){const{state:g}=this.viewModel,C=(0,Xt.u)("div",{class:Es.container,key:"container"},this.renderTitle(),"error"===g?this.renderError():"loading"===g?this.renderLoading():this.renderContentContainer());return(0,Xt.u)("div",{class:this.classes(Es.base,Es.esriWidget)},C)}setActiveMedia(g,C){return this.viewModel.setActiveMedia(g,C)}nextMedia(g){return this.viewModel.nextMedia(g)}previousMedia(g){return this.viewModel.previousMedia(g)}renderError(){const{messagesCommon:g,messages:C,visibleElements:v}=this;return(0,Xt.u)("calcite-notice",{open:!0,kind:"danger",icon:"exclamation-mark-circle",scale:"s"},v.title?(0,Xt.u)("div",{key:"error-title",slot:"title"},g.errorMessage):null,(0,Xt.u)("div",{key:"error-message",slot:"message"},C.loadingError))}renderLoading(){return(0,Xt.u)("div",{key:"loading-container",class:Es.loadingSpinnerContainer},(0,Xt.u)("span",{class:this.classes(Es.iconLoading,Es.spinner)}))}renderContentContainer(){const{visibleElements:g}=this;return g.content?(0,Xt.u)("div",{class:Es.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:g,title:C}=this;return g.title?(0,Xt.u)($C,{level:this.headingLevel,class:Es.title,innerHTML:C}):null}renderContent(){const g=this.viewModel.content,C="content";if(!g)return null;if(Array.isArray(g))return g.length?(0,Xt.u)("div",{class:Es.contentNode,key:`${C}-content-elements`},g.map(this.renderContentElement,this)):null;if("string"==typeof g){const v=this._contentWidgets[0];return!v||v.destroyed?null:(0,Xt.u)("div",{class:Es.contentNode,key:`${C}-content`},v.render())}return this.renderNodeContent(g)}renderContentElement(g,C){const{visibleElements:v}=this;if("boolean"!=typeof v.content&&!v.content?.[g.type])return null;switch(g.type){case"attachments":return this.renderAttachments(C);case"custom":return this.renderCustom(g,C);case"fields":return this.renderFields(C);case"media":return this.renderMedia(C);case"text":return this.renderText(g,C);case"expression":return this.renderExpression(C);case"relationship":return this.renderRelationship(C);default:return null}}renderAttachments(g){const C=this._contentWidgets[g];if(!C||C.destroyed)return null;const{state:v,attachmentInfos:M}=C.viewModel;return"loading"===v||M.length>0?(0,Xt.u)("div",{key:this._buildKey("attachments-element",g),class:this.classes(Es.contentElement)},C.render()):null}renderRelationship(g){const C=this._contentWidgets[g];return C&&!C.destroyed&&this.flowItems?(0,Xt.u)("div",{key:this._buildKey("relationship-element",g),class:Es.contentElement},C.render()):null}renderExpression(g){const C=this._contentWidgets[g];return!C||C.destroyed?null:(0,Xt.u)("div",{key:this._buildKey("expression-element",g),class:Es.contentElement},C.render())}renderCustom(g,C){const{creator:v}=g,M=this._contentWidgets[C];return!M||M.destroyed?null:v?(0,Xt.u)("div",{key:this._buildKey("custom-element",C),class:Es.contentElement},M.render()):null}renderFields(g){const C=this._contentWidgets[g];return!C||C.destroyed?null:(0,Xt.u)("div",{key:this._buildKey("fields-element",g),class:Es.contentElement},C.render())}renderMedia(g){const C=this._contentWidgets[g];return!C||C.destroyed?null:(0,Xt.u)("div",{key:this._buildKey("media-element",g),class:Es.contentElement},C.render())}renderLastEditInfo(){const{visibleElements:g,messages:C}=this,{lastEditInfo:v}=this.viewModel;if(!v||!g.lastEditedInfo)return null;const{date:M,user:D}=v,x=(0,uc.n)("edit"===v.type?D?C.lastEditedByUser:C.lastEdited:D?C.lastCreatedByUser:C.lastCreated,{date:M,user:D});return(0,Xt.u)("div",{key:"edit-info-element",class:this.classes(Es.lastEditedInfo,Es.contentElement)},x)}renderText(g,C){const M=this._contentWidgets[C];return!M||M.destroyed?null:g.text?(0,Xt.u)("div",{key:this._buildKey("text-element",C),class:this.classes(Es.contentElement,Es.text)},M.render()):null}_buildKey(g,...C){return`${g}__${this.get("viewModel.graphic.uid")||"0"}-${C.join("-")}`}_destroyContentWidget(g){g&&(g.viewModel=null,!g.destroyed&&g.destroy())}_destroyContentWidgets(){this.removeHandles(aR),this._contentWidgets.forEach(g=>this._destroyContentWidget(g)),this._contentWidgets=[]}_addFeatureRelationshipHandles(g){const{flowItems:C,visibleElements:v}=this;this.addHandles([(0,en.on)(()=>g,"select-record",({featureViewModel:M})=>{C&&(M.abilities={relationshipContent:!0},C.push(new bM({flowItems:C,viewModel:M,visibleElements:v})))}),(0,en.on)(()=>g,"show-all-records",()=>{if(!C)return;const{viewModel:M}=g;M.showAllEnabled=!0;const D=new tR({visibleElements:{title:!1,description:!1},viewModel:M});this._addFeatureRelationshipHandles(D),C.push(D)})],aR)}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:g,visibleElements:C}=this,v=this.get("viewModel.content"),{contentViewModels:M}=this.viewModel;if(Array.isArray(v))v.forEach((D,I)=>{if("attachments"===D.type&&(this._contentWidgets[I]=new EZ({displayType:D.displayType,headingLevel:C.title?g+1:g,viewModel:M[I]})),"fields"===D.type&&(this._contentWidgets[I]=new jx({viewModel:M[I]})),"media"===D.type&&(this._contentWidgets[I]=new Jx({viewModel:M[I]})),"text"===D.type&&(this._contentWidgets[I]=new av({viewModel:M[I]})),"custom"===D.type&&(this._contentWidgets[I]=new av({viewModel:M[I]})),"expression"===D.type&&(this._contentWidgets[I]=new WG({viewModel:M[I]})),"relationship"===D.type){const x=new tR({viewModel:M[I]});this._addFeatureRelationshipHandles(x),this._contentWidgets[I]=x}},this);else{const D=M[0];D&&!D.destroyed&&(this._contentWidgets[0]=new av({viewModel:D}))}this.scheduleRender()}};(0,ze._)([(0,Ke.Cb)()],po.prototype,"graphic",null),(0,ze._)([(0,Ke.Cb)()],po.prototype,"defaultPopupTemplateEnabled",null),(0,ze._)([(0,Ke.Cb)()],po.prototype,"flowItems",void 0),(0,ze._)([(0,Ke.Cb)()],po.prototype,"headingLevel",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],po.prototype,"isTable",null),(0,ze._)([(0,Ke.Cb)()],po.prototype,"label",null),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Feature/t9n/Feature")],po.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/t9n/common")],po.prototype,"messagesCommon",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/support/t9n/uriUtils")],po.prototype,"messagesURIUtils",void 0),(0,ze._)([(0,Ke.Cb)()],po.prototype,"spatialReference",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],po.prototype,"title",null),(0,ze._)([(0,Ke.Cb)()],po.prototype,"visibleElements",void 0),(0,ze._)([(0,Ll.p)("visibleElements")],po.prototype,"castVisibleElements",null),(0,ze._)([(0,Ke.Cb)()],po.prototype,"map",null),(0,ze._)([(0,Ke.Cb)()],po.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:EM})],po.prototype,"viewModel",void 0),po=bM=(0,ze._)([(0,cr.j)("esri.widgets.Feature")],po);const ZG=po;var lR,oh=T(61885);const fv=Symbol("anchorHandles");let ah=class extends oh.Z.EventedAccessor{constructor(g){super(g),this[lR]=new Rl.Z,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[fv].add([(0,en.gx)(()=>(0,Lt.yw)(this.screenLocationEnabled?this.view:null,C=>[C.size,"3d"===C.type?C.camera:C.viewpoint]),()=>this.notifyChange("screenLocation")),(0,en.YP)(()=>this.screenLocation,(C,v)=>{(0,Lt.pC)(C)&&(0,Lt.pC)(v)&&this.emit("view-change")})])}destroy(){this.view=null,this[fv]=(0,Lt.SC)(this[fv])}get screenLocation(){const{location:g,view:C,screenLocationEnabled:v}=this;return v&&(0,Lt.pC)(g)&&(0,Lt.pC)(C)&&C.ready?C.toScreen?.(g):null}};lR=fv,(0,ze._)([(0,Ke.Cb)()],ah.prototype,"location",void 0),(0,ze._)([(0,Ke.Cb)()],ah.prototype,"screenLocation",null),(0,ze._)([(0,Ke.Cb)()],ah.prototype,"screenLocationEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],ah.prototype,"view",void 0),ah=(0,ze._)([(0,cr.j)("esri.widgets.support.AnchorElementViewModel")],ah);const cR=ah;let mv=class extends cR{constructor(g){super(g),this.visible=!1}};(0,ze._)([(0,Ke.Cb)()],mv.prototype,"visible",void 0),mv=(0,ze._)([(0,cr.j)("esri.widgets.CompassViewModel")],mv);const uR=mv,CM="esri-spinner",MM_base=CM,MM_spinnerStart=`${CM}--start`,MM_spinnerFinish=`${CM}--finish`;let lh=class extends $o.Z{constructor(g,C){super(g,C),this._animationDelay=500,this._animationPromise=null,this.viewModel=new uR}initialize(){this.addHandles((0,en.YP)(()=>this.visible,g=>this._visibleChange(g)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(g){this.viewModel.location=g}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}get visible(){return this.viewModel.visible}set visible(g){this.viewModel.visible=g}show(g){const{location:C,promise:v}=g??{};C&&(this.viewModel.location=C),this.visible=!0,v&&v.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:g}=this,{screenLocation:C}=this.viewModel,v=!!C,I={[MM_spinnerStart]:g&&v,[MM_spinnerFinish]:!g&&v},x=this._getPositionStyles();return(0,Xt.u)("div",{class:this.classes(MM_base,I),styles:x})}_visibleChange(g){if(g)return void(this.viewModel.screenLocationEnabled=!0);const C=(0,ei.e4)(this._animationDelay);this._animationPromise=C,C.catch(()=>{}).then(()=>{this._animationPromise===C&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:g,view:C}=this.viewModel;if((0,Lt.Wi)(C)||(0,Lt.Wi)(g))return{};const{padding:v}=C;return{left:g.x-v.left+"px",top:g.y-v.top+"px"}}};(0,ze._)([(0,Ke.Cb)()],lh.prototype,"location",null),(0,ze._)([(0,Ke.Cb)()],lh.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:uR})],lh.prototype,"viewModel",void 0),(0,ze._)([(0,Ke.Cb)()],lh.prototype,"visible",null),lh=(0,ze._)([(0,cr.j)("esri.widgets.Spinner")],lh);const KG=lh;var a0=T(48753);const gv_iconZoom="esri-icon-zoom-in-magnifying-glass",ed=new a0.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:gv_iconZoom}),SM=new a0.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),ch=new a0.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:gv_iconZoom}),uh=new a0.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),yv=Ai.Z.getLogger("esri.widgets.Popup.PopupViewModel"),YG=g=>{const{event:C,view:v}=g,{action:M}=C,D=v&&v.popup;if(!M)return Promise.reject(new Ar.Z("trigger-action:missing-arguments","Event has no action"));if(!D)return Promise.reject(new Ar.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:I,id:x}=M;if(!x)return Promise.reject(new Ar.Z("trigger-action:invalid-action","action.id is missing"));if(I)return Promise.reject(new Ar.Z("trigger-action:invalid-action","Action is disabled"));if(x===ed.id)return function QG(g){return PM.apply(this,arguments)}(D.viewModel).catch(ei.H9);if(x===ch.id)return function XG(g){return DM.apply(this,arguments)}(D.viewModel);if(x===uh.id)return D.featureMenuOpen=!D.featureMenuOpen,D.viewModel.browseClusterEnabled=!D.viewModel.browseClusterEnabled,Promise.resolve();if(D.viewModel.browseClusterEnabled=!1,x===SM.id){D.close();const{selectedFeature:X}=D;if(!X)return Promise.reject(new Ar.Z(`trigger-action:${SM.id}`,"selectedFeature is required",{selectedFeature:X}));const{sourceLayer:he}=X;return he?he.remove(X):v.graphics.remove(X),Promise.resolve()}return Promise.resolve()};function dR(g){const{selectedFeature:C,location:v,view:M}=g;return M?"3d"===M.type?C??v??null:g.get("selectedFeature.geometry")||v:null}function dh(g){return!!g&&g.isAggregate&&"cluster"===g.sourceLayer?.featureReduction?.type}function JG(g,C){return TM.apply(this,arguments)}function TM(){return(TM=(0,xn.Z)(function*(g,C){if("3d"!==C?.type||!g||"esri.Graphic"!==g.declaredClass)return!0;const v=C.getViewForGraphic(g);if(v&&"whenGraphicBounds"in v){let M;try{M=yield v.whenGraphicBounds(g,{useViewElevation:!0})}catch{}return!M||!M.boundingBox||M.boundingBox[0]===M.boundingBox[3]&&M.boundingBox[1]===M.boundingBox[4]&&M.boundingBox[2]===M.boundingBox[5]}return!0})).apply(this,arguments)}function PM(){return(PM=(0,xn.Z)(function*(g){const{location:C,selectedFeature:v,view:M,zoomFactor:D}=g,I=dR(g);if(!M||!I){const Ae=new Ar.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:I,view:M});throw yv.error(Ae),Ae}const x=M.scale/D,X=g.selectedFeature?.geometry,he=X??C,Se=(0,Lt.pC)(he)&&"point"===he.type&&(yield JG(v,M));ed.active=!0,ed.disabled=!0;try{yield g.zoomTo({target:{target:I,scale:Se?x:void 0}})}catch{const Ve=new Ar.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:v});yv.error(Ve)}finally{ed.active=!1,ed.disabled=!1,g.zoomToLocation=null,Se&&(g.location=he)}})).apply(this,arguments)}function DM(){return(DM=(0,xn.Z)(function*(g){const{selectedFeature:C,view:v}=g;if("2d"!==v?.type){const x=new Ar.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:v});throw yv.error(x),x}if(!C||!dh(C)){const x=new Ar.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:C});throw yv.error(x),x}const[M,D]=yield OM(v,C);ch.active=!0,ch.disabled=!0;const{extent:I}=yield M.queryExtent(D);yield g.zoomTo({target:I}),ch.active=!1,ch.disabled=!1})).apply(this,arguments)}function wM(){return(wM=(0,xn.Z)(function*(g){const{view:C,selectedFeature:v}=g;if(!C||!v)return;const[M,D]=yield OM(C,v),{extent:I}=yield M.queryExtent(D);g.selectedClusterBoundaryFeature.geometry=I,C.graphics.add(g.selectedClusterBoundaryFeature)})).apply(this,arguments)}function IM(){return(IM=(0,xn.Z)(function*(g){const{selectedFeature:C,view:v}=g;if(!v||!C)return;const[M,D]=yield OM(v,C);uh.active=!0,uh.disabled=!0;const{features:I}=yield M.queryFeatures(D);uh.active=!1,uh.disabled=!1,v.popup?.open({features:[C].concat(I),featureMenuOpen:!0})})).apply(this,arguments)}function OM(g,C){return AM.apply(this,arguments)}function AM(){return(AM=(0,xn.Z)(function*(g,C){const v=yield g.whenLayerView(C.sourceLayer),M=v.createQuery(),D=C.getObjectId();return M.aggregateIds=null!=D?[D]:[],[v,M]})).apply(this,arguments)}function hR(g){if((0,Lt.Wi)(g))return null;switch(g.type){case"point":return g;case"extent":return g.center;case"polygon":return g.centroid;case"multipoint":case"polyline":return g.extent?.center;default:return null}}const Pr="esri-popup",l0=`${Pr}__header`,hh=`${Pr}--is-docked`,Un={calciteThemeLight:"calcite-mode-light",calciteThemeDark:"calcite-mode-dark",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:Pr,widget:"esri-widget",main:`${Pr}__main-container`,loadingContainer:`${Pr}__loading-container`,isCollapsible:`${Pr}--is-collapsible`,isCollapsed:`${Pr}--is-collapsed`,shadow:`${Pr}--shadow`,isDocked:hh,isDockedTopLeft:`${hh}-top-left`,isDockedTopCenter:`${hh}-top-center`,isDockedTopRight:`${hh}-top-right`,isDockedBottomLeft:`${hh}-bottom-left`,isDockedBottomCenter:`${hh}-bottom-center`,isDockedBottomRight:`${hh}-bottom-right`,alignTopCenter:`${Pr}--aligned-top-center`,alignBottomCenter:`${Pr}--aligned-bottom-center`,alignTopLeft:`${Pr}--aligned-top-left`,alignBottomLeft:`${Pr}--aligned-bottom-left`,alignTopRight:`${Pr}--aligned-top-right`,alignBottomRight:`${Pr}--aligned-bottom-right`,isFeatureMenuOpen:`${Pr}--feature-menu-open`,isActionsMenuOpen:`${Pr}--actions-menu-open`,hasFeatureUpdated:`${Pr}--feature-updated`,header:l0,headerButtons:`${l0}-buttons`,headerContainer:`${l0}-container`,headerContainerButton:`${l0}-container--button`,headerTitle:`${l0}-title`,content:`${Pr}__content`,contentHasFlows:"esri-content--has-flows",contentFlowItem:"esri-content__flow-item",footer:`${Pr}__footer`,footerHasPagination:`${Pr}__footer--has-pagination`,footerHasActions:`${Pr}__footer--has-actions`,footerHasActionsMenu:`${Pr}__footer--has-actions-menu`,button:`${Pr}__button`,buttonDisabled:`${Pr}__button--disabled`,buttonDock:`${Pr}__button--dock`,icon:`${Pr}__icon`,iconDock:`${Pr}__icon--dock-icon`,inlineActionsContainer:`${Pr}__inline-actions-container`,actionsMenuButton:`${Pr}__actions-menu-button`,actions:`${Pr}__actions`,action:`${Pr}__action`,actionImage:`${Pr}__action-image`,actionText:`${Pr}__action-text`,actionToggle:`${Pr}__action-toggle`,actionToggleOn:`${Pr}__action-toggle--on`,actionExit:`${Pr}__action--exit`,actionSelectFeature:`${Pr}__action--select-feature`,pointer:`${Pr}__pointer`,pointerDirection:`${Pr}__pointer-direction`,navigation:`${Pr}__navigation`,paginationPrevious:`${Pr}__pagination-previous`,paginationNext:`${Pr}__pagination-next`,paginationPreviousIconLTR:`${Pr}__pagination-previous-icon`,paginationPreviousIconRTL:`${Pr}__pagination-previous-icon--rtl`,paginationNextIconLTR:`${Pr}__pagination-next-icon`,paginationNextIconRTL:`${Pr}__pagination-next-icon--rtl`,featureMenu:`${Pr}__feature-menu`,featureMenuList:`${Pr}__feature-menu-list`,featureMenuItem:`${Pr}__feature-menu-item`,featureMenuViewport:`${Pr}__feature-menu-viewport`,featureMenuHeader:`${Pr}__feature-menu-header`,featureMenuNote:`${Pr}__feature-menu-note`,featureMenuSelected:`${Pr}__feature-menu-item--selected`,featureMenuButton:`${Pr}__feature-menu-button`,featureMenuTitle:`${Pr}__feature-menu-title`,featureMenuObserver:`${Pr}__feature-menu-observer`,featureMenuLoader:`${Pr}__feature-menu-loader`,collapseButton:`${Pr}__collapse-button`,collapseIcon:`${Pr}__collapse-icon`};var xM=T(46367),pR=T(44917),rK=T(59397),iK=T(10671);T(74741),T(71131),T(34057),T(30695);var RM=T(58817);function FM(g){return g&&"opacity"in g?g.opacity*FM(g.parent):1}function NM(){return(NM=(0,xn.Z)(function*(g,C){if(!g)return;const v=g.sourceLayer,M=((0,Lt.pC)(C)&&C.useSourceLayer?v:g.layer)??v,D=FM(M);if((0,Lt.pC)(g.symbol)&&(!(0,Lt.pC)(C)||!0!==C.ignoreGraphicSymbol)){const Ut="web-style"===g.symbol.type?yield(0,pl.Q8)(g.symbol,{...C,cache:(0,Lt.pC)(C)?C.webStyleCache:null}):g.symbol.clone();return(0,pl.tb)(Ut,null,D),Ut}const I=((0,Lt.pC)(C)?C.renderer:null)??(M&&"renderer"in M?M.renderer:null);let x=I&&"getSymbolAsync"in I?yield I.getSymbolAsync(g,C):null;if(!x)return;if(x="web-style"===x.type?yield x.fetchSymbol({...C,cache:(0,Lt.pC)(C)?C.webStyleCache:null}):x.clone(),!(I&&"visualVariables"in I&&I.visualVariables&&I.visualVariables.length))return(0,pl.tb)(x,null,D),x;if("arcadeRequiredForVisualVariables"in I&&I.arcadeRequiredForVisualVariables&&((0,Lt.Wi)(C)||(0,Lt.Wi)(C.arcade))){const Ut={...(0,Lt.Wg)(C)};Ut.arcade=yield(0,fx.LC)(),C=Ut}const X=yield Promise.resolve().then(T.bind(T,81808)),he=[],Se=[],Ae=[],Ve=[];for(const Ut of I.visualVariables)switch(Ut.type){case"color":he.push(Ut);break;case"opacity":Se.push(Ut);break;case"rotation":Ve.push(Ut);break;case"size":Ut.target||Ae.push(Ut)}const qe=!!he.length&&he[he.length-1],rt=qe?X.getColor(qe,g,C):null,gt=!!Se.length&&Se[Se.length-1];let Ot=gt?X.getOpacity(gt,g,C):null;if(null!=D&&(Ot=null!=Ot?Ot*D:D),(0,pl.tb)(x,rt,Ot),Ae.length){const Ut=X.getAllSizes(Ae,g,C);yield(0,pl.e3)(x,Ut)}for(const Ut of Ve)(0,pl.BR)(x,X.getRotationAngle(Ut,g,C),Ut.axis);return x})).apply(this,arguments)}T(66960);var gs=T(18547),_R=T(93579);const ER=g=>{let C=class extends g{constructor(...v){super(...v),this.goToOverride=null,this.view=null}callGoTo(v){const{view:M}=this;return(0,Lt.O3)(M),this.goToOverride?this.goToOverride(M,v):M.goTo(v.target,v.options)}};return(0,ze._)([(0,Ke.Cb)()],C.prototype,"goToOverride",void 0),(0,ze._)([(0,Ke.Cb)()],C.prototype,"view",void 0),C=(0,ze._)([(0,cr.j)("esri.widgets.support.GoTo")],C),C};var UM=T(88493);const c0=ss.Z.ofType({key:"type",defaultKeyValue:"button",base:rK.Z,typeMap:{button:a0.Z,toggle:iK.Z}});let gi=class extends(ER(cR)){get isLoadingFeature(){return this.featureViewModels.some(g=>g.waitingForContent)}constructor(g){super(g),this._handles=new Rl.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new c0,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new lc.Z({symbol:new UM.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([(0,en.YP)(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,en.YP)(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),(0,en.YP)(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),(0,en.YP)(()=>this.view?.animation?.state,g=>this._animationStateChange(g)),(0,en.YP)(()=>this.location,g=>this._locationChange(g)),(0,en.YP)(()=>this.selectedFeature,g=>this._selectedFeatureChange(g)),(0,en.YP)(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),(0,en.YP)(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),(0,en.YP)(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",g=>YG({event:g,view:this.view})),(0,en.gx)(()=>!this.waitingForResult,()=>this._waitingForResultChange(),en.Z_),(0,en.YP)(()=>[this.features,this.view?.map,this.view?.spatialReference],()=>this._updateFeatureVMs()),(0,en.YP)(()=>this.view?.scale,()=>this._viewScaleChange()),(0,en.gx)(()=>!this.visible,()=>this.browseClusterEnabled=!1),(0,en.YP)(()=>this.browseClusterEnabled,g=>g?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const g=this._get("allActions")||new c0;g.removeAll();const{actions:C,defaultActions:v,defaultPopupTemplateEnabled:M,includeDefaultActions:D,selectedFeature:I}=this,x=D?v.concat(C):C,X=I&&("function"==typeof I.getEffectivePopupTemplate&&I.getEffectivePopupTemplate(M)||I.popupTemplate),he=X&&X.actions,Se=X&&X.overwriteActions?he:he?he.concat(x):x;return Se&&Se.filter(Boolean).forEach(Ae=>g.add(Ae)),g}get defaultActions(){const g=this._get("defaultActions")||new c0;return g.removeAll(),g.addMany(dh(this.selectedFeature)?[ch.clone(),uh.clone()]:[ed.clone()]),g}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(g){const C=g||[];this._set("features",C);const{pendingPromisesCount:v,promiseCount:M,selectedFeatureIndex:D}=this,I=M&&C.length;I&&v&&-1===D?this.selectedFeatureIndex=0:I&&-1!==D||(this.selectedFeatureIndex=C.length?0:-1)}get location(){return this._get("location")||null}set location(g){let C=g;const v=this.view?.spatialReference?.isWebMercator;g&&g?.spatialReference?.isWGS84&&v&&(C=(0,xM.$)(g)),this._set("location",C)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(g){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(g)||!g.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",g),(g=g.slice(0)).forEach(C=>{this._pendingPromises.add(C),C.then(D=>{this._pendingPromises.has(C)&&this._updateFeatures(D),this._updatePendingPromises(C)},()=>this._updatePendingPromises(C))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:g,selectedFeatureIndex:C}=this;return-1===C?null:g[C]||null}get selectedFeatureIndex(){const g=this._get("selectedFeatureIndex");return"number"==typeof g?g:-1}set selectedFeatureIndex(g){const{featureCount:C}=this;g=isNaN(g)||g<-1||!C?-1:(g+C)%C,this.activeFeature=null,this._set("selectedFeatureIndex",g)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:g}=this,C=dR(this);return C&&g?this.callGoTo({target:{target:C,scale:g.scale}}):Promise.reject(new Ar.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:C,view:g}))}zoomTo(g){return this.callGoTo(g)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(g,C){const{view:v}=this;if(!v||!g)throw new Ar.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:g,view:v});return v.fetchPopupFeatures(g,{event:C&&C.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:C&&C.signal})}open(g){const C={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...g,visible:!0},{fetchFeatures:v}=C;delete C.fetchFeatures,v&&this._setFetchFeaturesPromises(C.location);const M=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const D of M)delete C[D];this.set(C)}triggerAction(g){const C=this.allActions.getItemAt(g);C&&!C.disabled&&this.emit("trigger-action",{action:C})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function tK(g){const C=g.features.filter(v=>dh(v));C.length&&(g.features=C)})(this),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var g=this;return(0,xn.Z)(function*(){const{view:C,selectedFeature:v}=g;"2d"===C?.type?dh(v)?(yield function qG(g){return wM.apply(this,arguments)}(g),yield function eK(g){return IM.apply(this,arguments)}(g)):Ai.Z.getLogger(g.declaredClass).warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",v):Ai.Z.getLogger(g.declaredClass).warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",v)})()}_animationStateChange(g){this.zoomToLocation||(ed.disabled="waiting-for-target"===g)}_clearBrowsedClusterGraphics(){const g=this.view?.graphics;g&&(g.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&g.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(dh(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(g){const{selectedFeature:C,updateLocationEnabled:v}=this;v&&g&&(!C||C.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:g,featureCount:C,featurePage:v,featuresPerPage:M,featureViewModels:D}=this;if(null===v)return;const I=((v-1)*M+C)%C;D.slice(I,I+M).forEach((X,he)=>{X&&!X.graphic&&(X.graphic=g[I+he])})}_selectedFeatureChange(g){var C=this;return(0,xn.Z)(function*(){const{location:v,updateLocationEnabled:M,view:D}=C;if(g&&D){if(C.browseClusterEnabled)return C._selectedClusterFeature&&(D.graphics.remove(C._selectedClusterFeature),C._selectedClusterFeature=null),dh(g)?void 0:(g.symbol=yield function pK(g,C){return NM.apply(this,arguments)}(g),C._selectedClusterFeature=g,void D.graphics.add(C._selectedClusterFeature));!M&&v||!g.geometry?M&&!g.geometry&&C.centerAtLocation().then(()=>{const I=D.center?.clone();I&&(C.location=I)}):C.location=(0,Lt.Wg)(hR(g.geometry))}})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(g){return this._fetchFeaturesWithController(this._getScreenPoint(g||this.location)).then(C=>{const{clientOnlyGraphics:v,promisesPerLayerView:M}=C,D=Promise.resolve(v),I=M.map(x=>x.promise);this.promises=[D,...I]})}_destroyFeatureVMs(){this.featureViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:g,features:C,featureViewModels:v}=this;if(dh(g)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!C||!C.length)return;const M=v.slice(0),D=[];C.forEach((I,x)=>{if(!I)return;let X=null;if(M.some((he,Se)=>(he&&he.graphic===I&&(X=he,M.splice(Se,1)),!!X)),X)D[x]=X;else{const he=new EM({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:this.view?.spatialReference,graphic:I===g?I:null,map:this.view?.map,view:this.view});D[x]=he}}),M.forEach(I=>I&&!I.destroyed&&I.destroy()),this._set("featureViewModels",D)}_getScreenPoint(g){const{view:C}=this;return C&&g&&"function"==typeof C.toScreen?C.toScreen(g):null}_autoOpenEnabledChange(){const g="auto-fetch-features",{_handles:C,autoOpenEnabled:v}=this;if(C.remove(g),v&&this.view){const M=this.view.on("click",D=>{"mouse"===D.pointerType&&0!==D.button||this._fetchFeaturesAndOpen(D)},gs.f.WIDGET);C.add(M,g)}}_cancelFetchingFeatures(){const g=this._fetchFeaturesController;g&&g.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(g,C){this._cancelFetchingFeatures();const v=new AbortController,{signal:M}=v;this._fetchFeaturesController=v,this.notifyChange("waitingForResult");const D=this.fetchFeatures(g,{signal:M,event:C});return D.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),D}_fetchFeaturesAndOpen(g){const{screenPoint:C,mapPoint:v}=g,{view:M}=this;this._fetchFeaturesWithController(C,g).then(D=>{const{clientOnlyGraphics:I,promisesPerLayerView:x,location:X}=D,he=[Promise.resolve(I),...x.map(Se=>Se.promise)];return M?.popup?.open({location:X||v,promises:he}),D})}_updatePendingPromises(g){g&&this._pendingPromises.has(g)&&(this._pendingPromises.delete(g),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getLayerView(g,C){return(0,xn.Z)(function*(){return yield g.when(),g.whenLayerView(C)})()}_getHighlightLayer(g){const{layer:C,sourceLayer:v}=g;return v&&"layer"in v&&v.layer?v.layer:"map-notes"===v?.type||"subtype-group"===v?.type?v:C}_getHighlightTarget(g,C){const v="imagery"===C.type?void 0:"objectIdField"in C?C.objectIdField||"OBJECTID":null,M=g.attributes;return M&&v&&M[v]||g}_highlightActiveFeature(){var g=this;return(0,xn.Z)(function*(){const C="highlight-active-feature";g._handles.remove(C);const{highlightEnabled:v,view:M,activeFeature:D,visible:I}=g;if(!(D&&M&&v&&I))return;const x=g._getHighlightLayer(D);if(!(x&&x instanceof pR.Z))return;const X=g._getLayerView(M,x);g._highlightActiveFeaturePromise=X;const he=yield X;if(!(he&&(0,_R.tl)(he)&&g._highlightActiveFeaturePromise===X&&g.activeFeature&&g.highlightEnabled))return;const Se=he.highlight(g._getHighlightTarget(D,x));g._handles.add(Se,C)})()}_highlightSelectedFeature(){var g=this;return(0,xn.Z)(function*(){const C="highlight-selected-feature";g._handles.remove(C);const{selectedFeature:v,highlightEnabled:M,view:D,visible:I}=g;if(!(v&&D&&M&&I))return;const x=g._getHighlightLayer(v);if(!(x&&x instanceof pR.Z))return;const X=g._getLayerView(D,x);g._highlightSelectedFeaturePromise=X;const he=yield X;if(!(he&&(0,_R.tl)(he)&&g._highlightSelectedFeaturePromise===X&&g.selectedFeature&&g.highlightEnabled&&g.visible))return;const Se=he.highlight(g._getHighlightTarget(v,x));g._handles.add(Se,C)})()}_updateFeatures(g){const{features:C}=this;if(!g||!g.length)return;if(!C.length)return void(this.features=g);const v=g.filter(M=>!C.includes(M));this.features=C.concat(v)}};(0,ze._)([(0,Ke.Cb)()],gi.prototype,"featurePage",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"isLoadingFeature",null),(0,ze._)([(0,Ke.Cb)({type:c0})],gi.prototype,"actions",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"active",null),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"activeFeature",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"allActions",null),(0,ze._)([(0,Ke.Cb)({type:Boolean})],gi.prototype,"defaultPopupTemplateEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"autoCloseEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"autoOpenEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"browseClusterEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"content",void 0),(0,ze._)([(0,Ke.Cb)({type:c0,readOnly:!0})],gi.prototype,"defaultActions",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"featureCount",null),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"features",null),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"featuresPerPage",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"featureViewModelAbilities",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"featureViewModels",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"highlightEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"includeDefaultActions",void 0),(0,ze._)([(0,Ke.Cb)({type:zo.Z})],gi.prototype,"location",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"pendingPromisesCount",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"selectedClusterBoundaryFeature",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"waitingForResult",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"promiseCount",null),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"promises",null),(0,ze._)([(0,Ke.Cb)({value:null,readOnly:!0})],gi.prototype,"selectedFeature",null),(0,ze._)([(0,Ke.Cb)({value:-1})],gi.prototype,"selectedFeatureIndex",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"selectedFeatureViewModel",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],gi.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"title",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"updateLocationEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"visible",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"zoomFactor",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"zoomToLocation",void 0),(0,ze._)([(0,Ke.Cb)()],gi.prototype,"centerAtLocation",null),gi=(0,ze._)([(0,cr.j)("esri.widgets.Popup.PopupViewModel")],gi);const bR=gi;var fl=T(24940);const CR="selected-index",MR="popup-spinner",SR={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},TR="esri-popup";function qc(g,C){return void 0===C?`${TR}__${g}`:`${TR}__${g}-${C}`}const PR={closeButton:!0,featureNavigation:!0};let Dr=class extends(sR($o.Z)){constructor(g,C){super(g,C),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new Rl.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([v])=>{v?.isIntersecting&&null!=this.viewModel.featurePage&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=(0,Np.P)(()=>this._displaySpinner(),0),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new ss.Z,this.alignment="auto",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new bR,this.visibleElements={...PR},this._handleOpenRelatedFeature=v=>{this._openRelatedFeature(v)},this._addSelectedFeatureIndexHandle(),this.addHandles([(0,en.YP)(()=>this.viewModel?.screenLocation,()=>this._positionContainer()),(0,en.YP)(()=>[this.viewModel?.active,this.dockEnabled],()=>this._toggleScreenLocationEnabled()),(0,en.YP)(()=>this.viewModel?.screenLocation,(v,M)=>{!!v!=!!M&&this.reposition()}),(0,en.YP)(()=>[this.viewModel?.view?.padding,this.viewModel?.view?.size,this.viewModel?.active,this.viewModel?.location,this.alignment],()=>this.reposition()),(0,en.YP)(()=>this.spinnerEnabled,v=>this._spinnerEnabledChange(v)),(0,en.YP)(()=>this.viewModel?.view?.size,(v,M)=>this._updateDockEnabledForViewSize(v,M)),(0,en.YP)(()=>this.viewModel?.view,(v,M)=>this._viewChange(v,M)),(0,en.YP)(()=>this.viewModel?.view?.ready,(v,M)=>this._viewReadyChange(v??!1,M??!1)),(0,en.YP)(()=>[this.viewModel?.waitingForResult,this.viewModel?.location],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,en.YP)(()=>this.selectedFeatureWidget,()=>this._destroyFlowItemWidgets()),(0,en.YP)(()=>[this.selectedFeatureWidget?.viewModel?.title,this.selectedFeatureWidget?.viewModel?.state],()=>this._setTitleFromFeatureWidget()),(0,en.YP)(()=>[this.selectedFeatureWidget?.viewModel?.content,this.selectedFeatureWidget?.viewModel?.state],()=>this._setContentFromFeatureWidget()),(0,en.gx)(()=>!this.collapsed,()=>{"xsmall"===this.viewModel?.view?.widthBreakpoint&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,en.on)(()=>this.viewModel?.allActions,"change",()=>this._watchActions()),(0,en.YP)(()=>this.viewModel?.allActions,()=>this._watchActions(),en.nn),(0,en.YP)(()=>this.viewModel?.featureViewModels,()=>this._featureMenuViewportScrollTop()),(0,en.on)(()=>this._flowItems,"change",()=>{this.notifyChange("_activeFlowItemWidget"),this.scheduleRender()}),(0,en.YP)(()=>[this._activeFlowItemWidget?.viewModel?.state,this._activeFlowItemWidget?.viewModel?.title],()=>this.scheduleRender())])}loadDependencies(){return Promise.all([T.e(8178).then(T.bind(T,58178)),Promise.all([T.e(8954),T.e(8792),T.e(8346),T.e(8592),T.e(7719)]).then(T.bind(T,52405)),Promise.all([T.e(8954),T.e(8346),T.e(2226)]).then(T.bind(T,52573)),Promise.all([T.e(8792),T.e(6810)]).then(T.bind(T,26810)),T.e(8472).then(T.bind(T,8472))])}destroy(){this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles?.destroy(),this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver?.disconnect()}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:g,viewModel:C}=this;if(!g)return!!C?.content;const v=g.viewModel;if(v?.waitingForContent||"error"===v?.state)return!0;const M=v?.content;return Array.isArray(M)?!!M.length:!!M}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&null!=this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:g}=this;return g.getItemAt(g.length-1)||null}get actions(){return this.viewModel.actions}set actions(g){this.viewModel.actions=g}set actionsMenuOpen(g){this._set("actionsMenuOpen",!!g)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(g){this.viewModel.autoCloseEnabled=g}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(g){this.viewModel.autoOpenEnabled=g}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(g){this.viewModel.defaultPopupTemplateEnabled=g}get content(){return this.viewModel.content}set content(g){this.viewModel.content=g}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||SR}set dockOptions(g){const C={...SR},v=this.viewModel?.view?.breakpoints,M={};v&&(M.width=v.xsmall,M.height=v.xsmall);const D={...C,...g},I={...C.breakpoint,...M},{breakpoint:x}=D;"object"==typeof x?D.breakpoint={...I,...x}:x&&(D.breakpoint=I),this._set("dockOptions",D),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(g){this.viewModel.features=g}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(g){this.viewModel.goToOverride=g}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(g){this.viewModel.highlightEnabled=g}get location(){return this.viewModel.location}set location(g){this.viewModel.location=g}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get promises(){return this.viewModel.promises}set promises(g){this.viewModel.promises=g}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(g){this.viewModel.selectedFeatureIndex=g}get selectedFeatureWidget(){const{_feature:g,visibleElements:C,headingLevel:v,_flowItems:M}=this,{selectedFeatureViewModel:D}=this.viewModel,I={...C,title:!1};return D?(g?(g.viewModel=D,g.visibleElements=I):this._feature=new ZG({flowItems:M,headingLevel:v+1,viewModel:D,visibleElements:I}),this._feature):null}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(g){this.viewModel.updateLocationEnabled=g}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}get visible(){return this.viewModel.visible}set visible(g){this.viewModel.visible=g}castVisibleElements(g){return{...PR,...g}}blur(){const{active:g}=this.viewModel;g||Ai.Z.getLogger(this.declaredClass).warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(g,C){return this.viewModel.fetchFeatures(g,C)}focus(){const{active:g}=this.viewModel;g||Ai.Z.getLogger(this.declaredClass).warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(g){this._handles.remove(CR);const M={collapsed:!!g&&!!g.collapsed,actionsMenuOpen:!!g&&!!g.actionsMenuOpen,featureMenuOpen:!!g&&!!g.featureMenuOpen};"xsmall"===this.viewModel?.view?.widthBreakpoint&&(M.collapsed=!0),this.set(M),this.viewModel.open(g),this._shouldFocus(g),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(g){return this.viewModel.triggerAction(g)}render(){const{actionsMenuOpen:g,dockEnabled:C,featureMenuVisible:v,dividedActions:M,currentAlignment:D,currentDockPosition:I}=this,{active:x}=this.viewModel,{menuActions:X}=M,Ve=this.selectedFeature?.layer?.title,qe=this.selectedFeature?.layer?.id;return(0,Xt.u)("div",{class:this.classes(Un.base,{[Un.alignTopCenter]:"top-center"===D,[Un.alignBottomCenter]:"bottom-center"===D,[Un.alignTopLeft]:"top-left"===D,[Un.alignBottomLeft]:"bottom-left"===D,[Un.alignTopRight]:"top-right"===D,[Un.alignBottomRight]:"bottom-right"===D,[Un.isDocked]:x&&C,[Un.shadow]:x&&!C,[Un.isDockedTopLeft]:"top-left"===I,[Un.isDockedTopCenter]:"top-center"===I,[Un.isDockedTopRight]:"top-right"===I,[Un.isDockedBottomLeft]:"bottom-left"===I,[Un.isDockedBottomCenter]:"bottom-center"===I,[Un.isDockedBottomRight]:"bottom-right"===I,[Un.isFeatureMenuOpen]:v,[Un.isActionsMenuOpen]:x&&X.length>1&&g}),role:"presentation","data-layer-title":Ve,"data-layer-id":qe,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},x?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(Un.icon,Un.iconLoading,Un.rotating)})}renderNavigationLoading(){const{messagesCommon:g}=this;return this.viewModel.pendingPromisesCount?(0,Xt.u)("div",{key:qc("loading-container"),role:"presentation",class:Un.loadingContainer,"aria-label":g.loading,title:g.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const g=(0,Eo.dZ)(this.container);return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(Un.icon,{[Un.iconRightTriangleArrow]:g,[Un.paginationPreviousIconRTL]:g,[Un.iconLeftTriangleArrow]:!g,[Un.paginationPreviousIconLTR]:!g})})}renderPreviousButton(){const{messages:g}=this;return(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Un.button,Un.paginationPrevious),"aria-label":g.previous,title:g.previous},this.renderPreviousIcon())}renderNextIcon(){const g=(0,Eo.dZ)(this.container);return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(Un.icon,{[Un.iconLeftTriangleArrow]:g,[Un.paginationNextIconRTL]:g,[Un.iconRightTriangleArrow]:!g,[Un.paginationNextIconLTR]:!g})})}renderNextButton(){const{messages:g}=this;return(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Un.button,Un.paginationNext),"aria-label":g.next,title:g.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:g,featureMenuId:C,messagesCommon:v}=this,{featureCount:M,selectedFeatureIndex:D}=this.viewModel;return(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Un.button,Un.featureMenuButton),"aria-haspopup":"true","aria-controls":C,"aria-expanded":g.toString(),"aria-label":v.menu,title:v.menu},this._getPageText(M,D))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]}renderDockIcon(){const{dockEnabled:g}=this,C=this._wouldDockTo();return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes({[Un.iconUndock]:g,[Un.iconDock]:!g,[Un.iconDockToRight]:!g&&("top-right"===C||"bottom-right"===C),[Un.iconDockToLeft]:!g&&("top-left"===C||"bottom-left"===C),[Un.iconDockToTop]:!g&&"top-center"===C,[Un.iconDockToBottom]:!g&&"bottom-center"===C},Un.icon)})}renderDockButton(){const{dockEnabled:g,messages:C}=this,v=this.viewModel?.view?.widthBreakpoint,M=g?C.undock:C.dock;return"xsmall"!==v&&this.dockOptions?.buttonEnabled?(0,Xt.u)("div",{role:"button","aria-label":M,title:M,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Un.button,Un.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:g}=this.viewModel,{titleId:C,collapsible:v,contentCollapsed:M,messagesCommon:D}=this,I={[Un.headerContainerButton]:v},x=(0,Xt.u)($C,{level:this.headingLevel,class:Un.headerTitle,innerHTML:g??""}),X=v?(0,Xt.u)("button",{key:`${g}--collapsible`,id:C,title:M?D.expand:D.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Un.headerContainer,I),"aria-expanded":M?"false":"true",onclick:this._toggleCollapsed,type:"button"},x,(0,Xt.u)("calcite-icon",{class:Un.collapseIcon,key:"collapse-icon",icon:M?"chevron-down":"chevron-up",scale:"m"})):(0,Xt.u)("div",{key:g??"title",id:C,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Un.headerContainer,I)},x);return g?X:null}renderCloseIcon(){return(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes(Un.icon,Un.iconClose)})}renderCloseButton(){const{visibleElements:g,messagesCommon:C}=this;return g.closeButton?(0,Xt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Un.button,"aria-label":C.close,title:C.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,Xt.u)("header",{class:Un.header},this.renderTitle(),(0,Xt.u)("div",{class:Un.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:g,hasContent:C,contentCollapsed:v,_flowItems:M}=this,{content:D}=this.viewModel,I=M.toArray(),x={[Un.contentHasFlows]:!!I.length};return C&&!v?(0,Xt.u)("div",{key:D??"content",enterAnimation:this._createFeatureUpdatedAnimation(),id:g,class:this.classes(Un.content,x)},(0,Xt.u)("calcite-flow",{bind:this},(0,Xt.u)("calcite-flow-item",{bind:this,"data-node-ref":"_rootFlowItemNode",afterCreate:Eo.Yo,key:"root-flow-item",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),I.map(X=>this.renderFlowItem(X))),I.map(X=>this.renderFlowItemTooltips(X))):null}renderFlowItem(g){const{messages:C}=this,v=dv(),M="graphic"in g&&!g.isTable;return(0,Xt.u)("calcite-flow-item",{bind:this,class:this.classes({[Un.calciteThemeDark]:!v,[Un.calciteThemeLight]:v}),heading:g.title??"",description:this._getFlowItemDescription(g),onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${g.viewModel.uid}`},(0,Xt.u)("calcite-action",{class:Un.actionExit,icon:"move-up",label:C?.exitRelatedRecords,text:C?.exitRelatedRecords,slot:"header-actions-start",bind:this,afterCreate:D=>this._storeExitRelatedRecordsAction(g,D),onclick:this._destroyFlowItemWidgets}),M?(0,Xt.u)("calcite-action",{class:Un.actionSelectFeature,icon:"zoom-to-object",label:C?.selectFeature,text:C?.selectFeature,slot:"header-actions-end",bind:this,afterCreate:D=>this._storeFeatureSelectionAction(g,D),onclick:()=>this._handleOpenRelatedFeature(g)}):null,(0,Xt.u)("div",{class:this.classes(Un.contentFlowItem,{[Un.calciteThemeDark]:v,[Un.calciteThemeLight]:!v})},g.render()))}renderFlowItemTooltips(g){const{messages:C,_exitRelatedRecordsActions:v,_featureSelectionActions:M}=this,D=dv(),I=M.get(g);return[(0,Xt.u)("calcite-tooltip",{class:this.classes({[Un.calciteThemeDark]:!D,[Un.calciteThemeLight]:D}),key:`exit-related-records-tooltip-${g.viewModel.uid}`,label:C?.exitRelatedRecords,overlayPositioning:"fixed",referenceElement:v.get(g),placement:"top"},C?.exitRelatedRecords),I?(0,Xt.u)("calcite-tooltip",{class:this.classes({[Un.calciteThemeDark]:!D,[Un.calciteThemeLight]:D}),key:`select-related-record-tooltip-${g.viewModel.uid}`,label:C?.selectFeature,overlayPositioning:"fixed",referenceElement:I,placement:"top"},C?.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:g,actionsMenuButtonId:C,actionsMenuOpen:v,dividedActions:M,messagesCommon:D}=this,I=v?D.close:D.open,{menuActions:x}=M;return x.length?(0,Xt.u)("div",{key:qc("actions-menu-button"),class:this.classes(Un.button,Un.actionsMenuButton),role:"button",id:C,"aria-haspopup":"true","aria-controls":v?g:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":I,title:I},(0,Xt.u)("span",{"aria-hidden":"true",class:Un.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:g,actionsMenuButtonId:C,actionsMenuOpen:v,dividedActions:M}=this,{menuActions:D}=M;return D.length&&v?(0,Xt.u)("ul",{id:g,role:"menu","aria-labelledby":C,key:qc("actions"),class:Un.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},D.toArray().map(I=>this.renderAction({action:I,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:g}=this.dividedActions;return g.length?g.toArray().map(C=>this.renderAction({action:C,type:"inline"})):[]}renderInlineActionsContainer(){const{inlineActions:g,menuActions:C}=this.dividedActions,v=!!g.length,M=!!C.length;return v||M?(0,Xt.u)("div",{key:"inline-actions-container","data-inline-actions":v.toString(),"data-menu-actions":M.toString(),class:Un.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,Xt.u)("section",{key:qc("navigation"),class:this.classes(Un.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:g,dividedActions:C}=this,{inlineActions:v,menuActions:M}=C,D=!!v.length,x={[Un.footerHasPagination]:g,[Un.footerHasActions]:D,[Un.footerHasActionsMenu]:!!M.length};return g||D?(0,Xt.u)("div",{key:qc("feature-buttons"),class:this.classes(Un.footer,x)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:g}=this,{featureViewModels:C,isLoadingFeature:v}=this.viewModel,M=(0,uc.n)(g.selectedFeatures,{total:C.length});return(0,Xt.u)("section",{key:qc("menu"),class:Un.featureMenu},(0,Xt.u)("strong",{class:Un.featureMenuHeader},M),(0,Xt.u)("nav",{bind:this,class:Un.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:Eo.Yo},this.renderFeatureMenu(),(0,Xt.u)("div",{class:Un.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),v?(0,Xt.u)("div",{class:Un.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,Xt.u)("div",{key:qc("pointer"),class:Un.pointer,role:"presentation"},(0,Xt.u)("div",{class:this.classes(Un.pointerDirection,Un.shadow)}))}renderMainContainer(){const{dockEnabled:g,currentAlignment:C,currentDockPosition:v,titleId:M,contentId:D,collapsible:I,hasContent:x,contentCollapsed:X,visibleElements:he}=this,{title:Se}=this.viewModel,Ae="bottom-left"===C||"bottom-center"===C||"bottom-right"===C||"top-left"===v||"top-center"===v||"top-right"===v,Ve="top-left"===C||"top-center"===C||"top-right"===C||"bottom-left"===v||"bottom-center"===v||"bottom-right"===v;return(0,Xt.u)("div",{class:this.classes(Un.main,Un.widget,{[Un.shadow]:g,[Un.isCollapsible]:I,[Un.isCollapsed]:X}),tabIndex:he.closeButton?void 0:-1,role:"dialog","aria-labelledby":Se?M:"","aria-describedby":x&&!X?D:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Ae?this.renderFooter():null,Ae?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),Ve?this.renderFooter():null,Ve?this.renderFeatureMenuContainer():null)}renderContent(){const g=this.viewModel?.content;return g?"string"==typeof g?(0,Xt.u)("div",{class:Es.contentNode,key:g,innerHTML:g}):this.renderNodeContent(g):null}renderActionText(g){return(0,Xt.u)("span",{key:"text",class:Un.actionText},g)}renderActionIcon(g){const C=this._getActionClass(g),v=this._getActionImage(g),M={[Un.iconLoading]:g.active,[Un.rotating]:g.active,[Un.icon]:!!C,[Un.actionImage]:!g.active&&!!v};return C&&(M[C]=!g.active),(0,Xt.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(Un.icon,M),styles:this._getIconStyles(v)})}renderAction(g){const{action:C,type:v}=g,M=this._getActionTitle(C),D={[Un.action]:"toggle"!==C.type,[Un.actionToggle]:"toggle"===C.type,[Un.actionToggleOn]:"toggle"===C.type&&C.value,[Un.buttonDisabled]:C.disabled},I=[this.renderActionIcon(C),this.renderActionText(M)],x="menu-item"===v?(0,Xt.u)("li",{key:C.uid,role:"menuitem",tabIndex:0,title:M,"aria-label":M,class:this.classes(Un.button,D),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":C.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},I):(0,Xt.u)("div",{key:C.uid,role:"button",tabIndex:0,title:M,"aria-label":M,class:this.classes(Un.button,D),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":C.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},I);return C.visible?x:null}renderFeatureMenuItem(g,C){const{messages:v,messagesCommon:M}=this,{selectedFeatureIndex:D,selectedFeatureViewModel:I}=this.viewModel,x=g===I,X={[Un.featureMenuSelected]:x},he=x?(0,Xt.u)("span",{key:qc(`feature-menu-selected-feature-${D}`),title:v.selectedFeature,"aria-label":v.selectedFeature,class:Un.iconCheckMark}):null,Se=(0,Xt.u)("span",{innerHTML:g.title||M.untitled});return(0,Xt.u)("li",{role:"menuitem",tabIndex:-1,key:qc(`feature-menu-feature-${D}`),class:this.classes(X,Un.featureMenuItem),bind:this,"data-feature-index":C,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},(0,Xt.u)("span",{class:Un.featureMenuTitle},Se,he))}renderFeatureMenu(){const{featureMenuId:g}=this,{featureViewModels:C}=this.viewModel;return C.length>1?(0,Xt.u)("ol",{class:Un.featureMenuList,id:g,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},C.filter(v=>!!v.graphic).map((v,M)=>this.renderFeatureMenuItem(v,M))):null}_storeFeatureSelectionAction(g,C){this._featureSelectionActions.set(g,C),this.scheduleRender()}_storeExitRelatedRecordsAction(g,C){this._exitRelatedRecordsActions.set(g,C),this.scheduleRender()}_getFlowItemDescription(g){return"featureCountDescription"in g?g.featureCountDescription:g.viewModel.description??""}_openRelatedFeature(g){var C=this;return(0,xn.Z)(function*(){yield g.viewModel.updateGeometry();const v=g.graphic,M=v?.geometry;if((0,Lt.Wi)(M)||(0,Lt.Wi)(v))return;C._destroyFlowItemWidgets(),yield C.viewModel.zoomTo({target:M});const D=hR(M);C.open({features:[v],location:(0,Lt.pC)(D)?D:void 0})})()}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach(g=>{"showAllEnabled"in g.viewModel&&(g.viewModel.showAllEnabled=!1),g.viewModel=null,g.destroy()})}_handleBackClick(){const g=this._flowItems.pop();g&&(this._exitRelatedRecordsActions.delete(g),this._featureSelectionActions.delete(g),"showAllEnabled"in g.viewModel&&(g.viewModel.showAllEnabled=!1),g&&(g.viewModel=null,g.destroy()))}_getActionTitle(g){const{messages:C,selectedFeature:v,messagesCommon:M}=this,{id:D}=g,I=v?.attributes,x=g.title??"",X="zoom-to-feature"===D?(0,uc.n)(x,{messages:C}):"remove-selected-feature"===D?(0,uc.n)(x,{messages:M}):"zoom-to-clustered-features"===D||"browse-clustered-features"===D?(0,uc.n)(x,{messages:C}):g.title;return X&&I?(0,uc.n)(X,I):X??""}_getActionClass(g){const{selectedFeature:C}=this,v=C?.attributes,{className:M,image:D}=g,I=D||M?M:Un.iconDefaultAction;return I&&v?(0,uc.n)(I,v):I??""}_getActionImage(g){const{selectedFeature:C}=this,v=C?.attributes,{image:M}=g;return M&&v?(0,uc.n)(M,v):M??""}_createFeatureUpdatedAnimation(){return(0,Eo.vU)("enter",Un.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:g,featureNavigationVisible:C}=this;if("number"!=typeof g)return null;const v=Math.round(g);return Math.max(C?v-1:v,0)}_watchActions(){const{allActions:g}=this.viewModel;this.notifyChange("dividedActions");const C="actions";this._handles.remove(C),g&&g.forEach(v=>{this._handles.add((0,en.YP)(()=>[v.uid,v.active,v.className,v.disabled,v.id,v.title,v.image,v.visible],()=>this.scheduleRender()),C)})}_divideActions(){const{allActions:g}=this.viewModel,C=g.filter(I=>I.visible),v=this._getInlineActionCount(),M=null===v,D=0===v;return{inlineActions:M?C.slice(0):D?new ss.Z:C.slice(0,v),menuActions:M?new ss.Z:C.slice(D?0:v)}}_featureMenuOpenChanged(g){g?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(g){g?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:g,messagesCommon:C}=this;g&&(this.viewModel.title="error"===g.viewModel?.state?C.errorMessage:g.viewModel?.title||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:g}=this;g&&(this.viewModel.content=g)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(g){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(g),this._featureMenuIntersectionObserverNode=g}_handleFeatureMenuKeyup(g){"Escape"===(0,Fp.kK)(g)&&(g.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(g){"Escape"===(0,Fp.kK)(g)&&(g.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(g){const{viewModel:C}=this;C.activeFeature=C.features[g.currentTarget["data-feature-index"]]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(g){const C=(0,Fp.kK)(g),{_featureMenuNode:v}=this,M=g.currentTarget["data-feature-index"];if(!v)return;const D=v.querySelectorAll("li"),I=D.length;"ArrowUp"!==C?"ArrowDown"!==C?"Home"!==C?"End"!==C||(g.stopPropagation(),D[D.length-1].focus()):(g.stopPropagation(),D[0].focus()):(g.stopPropagation(),D[(M+1+I)%I].focus()):(g.stopPropagation(),D[(M-1+I)%I].focus())}_handleActionMenuItemKeyup(g){const C=(0,Fp.kK)(g),{_actionsMenuNode:v}=this,M=g.currentTarget.dataset.actionUid,{menuActions:D}=this.dividedActions,I=D.findIndex(he=>he.uid===M);if(!v)return;const x=v.querySelectorAll("li"),X=x.length;"ArrowUp"!==C?"ArrowDown"!==C?"Home"!==C?"End"!==C||(g.stopPropagation(),x[x.length-1].focus()):(g.stopPropagation(),x[0].focus()):(g.stopPropagation(),x[(I+1+X)%X].focus()):(g.stopPropagation(),x[(I-1+X)%X].focus())}_handleMainKeyup(g){const C=(0,Fp.kK)(g);"ArrowLeft"===C&&(g.stopPropagation(),this.previous()),"ArrowRight"===C&&(g.stopPropagation(),this.next())}_spinnerEnabledChange(g){if(this._destroySpinner(),!g)return;const C=this.get("viewModel.view");this._createSpinner(C)}_hideSpinner(){const{_spinner:g}=this;g&&(g.location=null,g.hide())}_displaySpinner(){const{_spinner:g}=this;if(!g)return;const{location:C,waitingForResult:v}=this.viewModel;v&&C?g.show({location:C}):g.hide()}_getIconStyles(g){return{"background-image":g?`url(${g})`:""}}_shouldFocus(g){var C=this;return(0,xn.Z)(function*(){g?.shouldFocus&&(yield(0,en.N1)(()=>!0===C.viewModel?.active),C.focus())})()}_addSelectedFeatureIndexHandle(){const g=(0,en.YP)(()=>this.viewModel?.selectedFeatureIndex,(C,v)=>this._selectedFeatureIndexUpdated(C,v));this._handles.add(g,CR)}_selectedFeatureIndexUpdated(g,C){const{featureCount:v}=this;v&&g!==C&&-1!==g&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:g}=this;g&&(g.viewModel=null,g&&!g.destroyed&&g.destroy()),this._feature=null}_isScreenLocationWithinView(g,C){return g.x>-1&&g.y>-1&&g.x<=C.width&&g.y<=C.height}_isOutsideView(g){const{popupHeight:C,popupWidth:v,screenLocation:M,side:D,view:I}=g;if(isNaN(v)||isNaN(C)||!I||!M)return!1;const x=I.padding;return"right"===D&&M.x+v/2>I.width-x.right||"left"===D&&M.x-v/2<x.left||"top"===D&&M.y-C<x.top||"bottom"===D&&M.y+C>I.height-x.bottom}_calculateAutoAlignment(g){if("auto"!==g)return g;const{_pointerOffsetInPx:C,_containerNode:v,_mainContainerNode:M,viewModel:D}=this,{screenLocation:I,view:x}=D;if((0,Lt.Wi)(I)||!x||!v)return"top-center";if(!this._isScreenLocationWithinView(I,x))return this._get("currentAlignment")||"top-center";function X(tn){return parseInt(tn.replace(/[^-\d\.]/g,""),10)}const he=M?window.getComputedStyle(M,null):null,Se=he?X(he.getPropertyValue("max-height")):0,Ae=he?X(he.getPropertyValue("height")):0,{height:Ve,width:qe}=v.getBoundingClientRect(),rt=qe+C,gt=Math.max(Ve,Se,Ae)+C,Ot=this._isOutsideView({popupHeight:gt,popupWidth:rt,screenLocation:I,side:"right",view:x}),Ut=this._isOutsideView({popupHeight:gt,popupWidth:rt,screenLocation:I,side:"left",view:x}),qt=this._isOutsideView({popupHeight:gt,popupWidth:rt,screenLocation:I,side:"top",view:x}),_n=this._isOutsideView({popupHeight:gt,popupWidth:rt,screenLocation:I,side:"bottom",view:x});return Ut?qt?"bottom-right":"top-right":Ot?qt?"bottom-left":"top-left":qt?_n?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(g){return"function"==typeof g?g.call(this):g}_getCurrentAlignment(){const{alignment:g,dockEnabled:C}=this;return C||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(g)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(g){const C=["left","right"];return(0,Eo.dZ)(this.container)&&C.reverse(),g.replace(/leading/gi,C[0]).replace(/trailing/gi,C[1])}_callDockPosition(g){return"function"==typeof g?g.call(this):g}_getDockPosition(){return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(g){if("auto"!==g)return g;const C=this.viewModel?.view,v=(0,Eo.dZ)(this.container)?"top-left":"top-right";if(!C)return v;const M=C.padding||{left:0,right:0,top:0,bottom:0},D=C.width-M.left-M.right,{breakpoints:I}=C;return I&&D<=I.xsmall?"bottom-center":v}_positionContainer(g=this._containerNode){if(g&&(this._containerNode=g),!this._containerNode)return;const{screenLocation:C}=this.viewModel,{width:v}=this._containerNode.getBoundingClientRect(),M=this._calculatePositionStyle(C,v);M&&Object.assign(this._containerNode.style,M)}_calculateFullWidth(g){const{currentAlignment:C,_pointerOffsetInPx:v}=this;return"top-left"===C||"bottom-left"===C||"top-right"===C||"bottom-right"===C?g+v:g}_calculateAlignmentPosition(g,C,v,M){const{currentAlignment:D,_pointerOffsetInPx:I}=this;if(!v)return;const{padding:x}=v,X=M/2,he=v.height-C,Se=v.width-g;return"bottom-center"===D?{top:C+I-x.top,left:g-X-x.left}:"top-left"===D?{bottom:he+I-x.bottom,right:Se+I-x.right}:"bottom-left"===D?{top:C+I-x.top,right:Se+I-x.right}:"top-right"===D?{bottom:he+I-x.bottom,left:g+I-x.left}:"bottom-right"===D?{top:C+I-x.top,left:g+I-x.left}:"top-center"===D?{bottom:he+I-x.bottom,left:g-X-x.left}:void 0}_calculatePositionStyle(g,C){const{dockEnabled:v,view:M}=this;if(!M)return;if(v)return{left:"",top:"",right:"",bottom:""};if((0,Lt.Wi)(g)||!C)return;const D=this._calculateFullWidth(C),I=this._calculateAlignmentPosition(g.x,g.y,M,D);return I?{top:void 0!==I.top?`${I.top}px`:"auto",left:void 0!==I.left?`${I.left}px`:"auto",bottom:void 0!==I.bottom?`${I.bottom}px`:"auto",right:void 0!==I.right?`${I.right}px`:"auto"}:void 0}_viewChange(g,C){g&&C&&(this.close(),this.clear())}_viewReadyChange(g,C){if(g){const v=this.get("viewModel.view");this._wireUpView(v)}else C&&(this.close(),this.clear())}_wireUpView(g){if(this._destroySpinner(),!g)return;const{spinnerEnabled:C}=this;C&&this._createSpinner(g),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(g,C,v){const[M,D]=g,[I,x]=C,{width:X=0,height:he=0}=v??{};return M<=X&&I>X||M>X&&I<=X||D<=he&&x>he||D>he&&x<=he}_updateDockEnabledForViewSize(g,C){if(!g||!C)return;const v=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},M=v.left+v.right,D=v.top+v.bottom,I=[],x=[];I[0]=g[0]-M,I[1]=g[1]-D,x[0]=C[0]-M,x[1]=C[1]-D;const{dockOptions:X}=this;this._dockingThresholdCrossed(I,x,X.breakpoint)&&this._setDockEnabledForViewSize(X),this._setCurrentDockPosition()}_focusDockButtonNode(g){this._focusDockButton&&(this._focusDockButton=!1,g.focus())}_closeButtonNodeUpdated(g){return this._focusClose?(this._focusClose=!1,void g.focus()):this._blurClose?(this._blurClose=!1,void g.blur()):void 0}_mainContainerNodeUpdated(g){return this._mainContainerNode=g,this._focusContainer?(this._focusContainer=!1,void g.focus()):this._blurContainer?(this._blurContainer=!1,void g.blur()):void 0}_featureMenuNodeUpdated(g){if(this._featureMenuNode=g,!g||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const C=g.querySelectorAll("li");C.length&&C[0].focus()}_actionsMenuNodeUpdated(g){if(this._actionsMenuNode=g,!g||!this._focusFirstAction)return;this._focusFirstAction=!1;const C=g.querySelectorAll("li");C.length&&C[0].focus()}_focusFeatureMenuButtonNode(g){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,g.focus())}_focusActionsMenuButtonNode(g){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,g.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:g,viewModel:C}=this;C&&(C.screenLocationEnabled=C.active&&!g)}_shouldDockAtCurrentViewSize(g){const C=g.breakpoint,v=this.viewModel?.view?.ui;if(!v)return!1;const{width:M,height:D}=v;if(isNaN(M)||isNaN(D)||!C)return!1;const I=C.hasOwnProperty("width")&&M<=(C.width??0),x=C.hasOwnProperty("height")&&D<=(C.height??0);return I||x}_setDockEnabledForViewSize(g){g.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(g))}_getPageText(g,C){return this.featureNavigationVisible?(0,uc.n)(this.messages.pageText,{index:C+1,total:g}):null}_destroySpinner(){const{_spinner:g,view:C}=this;g&&(C&&C.ui&&C.ui.remove(g,MR),g.destroy(),this._spinner=null)}_createSpinner(g){g&&(this._spinner=new KG({view:g}),g.ui.add(this._spinner,{key:MR,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const g=!this.featureMenuOpen;this._featureMenuOpenChanged(g),this.actionsMenuOpen=!1,this.featureMenuOpen=g}_toggleActionsMenu(){const g=!this.actionsMenuOpen;this._actionsMenuOpenChanged(g),this.featureMenuOpen=!1,this.actionsMenuOpen=g}_triggerAction(g){const C=g.currentTarget.dataset.actionUid,{allActions:v}=this.viewModel,M=v.findIndex(I=>I.uid===C),D=v.getItemAt(M);D&&"toggle"===D.type&&(D.value=!D.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(M)}_selectFeature(g){const C=g.currentTarget["data-feature-index"];isNaN(C)||(this.viewModel.selectedFeatureIndex=C),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"actionsMenuId",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"actionsMenuButtonId",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"featureMenuId",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"titleId",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"contentId",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"hasContent",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"featureNavigationVisible",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"collapsible",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"featureMenuVisible",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"contentCollapsed",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"dividedActions",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0,dependsOn:["_flowItems.length"]})],Dr.prototype,"_activeFlowItemWidget",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"actions",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"actionsMenuOpen",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"alignment",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"autoCloseEnabled",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"autoOpenEnabled",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"defaultPopupTemplateEnabled",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"content",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"collapsed",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"collapseEnabled",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"currentAlignment",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"currentDockPosition",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"dockOptions",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"dockEnabled",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"featureCount",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"featureMenuOpen",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"features",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"goToOverride",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"headingLevel",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"highlightEnabled",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"location",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"label",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"maxInlineActions",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Popup/t9n/Popup")],Dr.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/t9n/common")],Dr.prototype,"messagesCommon",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"promises",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"selectedFeature",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"selectedFeatureIndex",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Dr.prototype,"selectedFeatureWidget",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"spinnerEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"title",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"updateLocationEnabled",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:bR}),function gK(g){return C=>{C.hasOwnProperty("_delegatedEventNames")||(C._delegatedEventNames=C._delegatedEventNames?C._delegatedEventNames.slice():[]);const v=C._delegatedEventNames,M=Array.isArray(g)?g:function yK(g){return g.split(",").map(C=>C.trim())}(g);v.push(...M)}}(["triggerAction","trigger-action"])],Dr.prototype,"viewModel",void 0),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"visible",null),(0,ze._)([(0,Ke.Cb)()],Dr.prototype,"visibleElements",void 0),(0,ze._)([(0,Ll.p)("visibleElements")],Dr.prototype,"castVisibleElements",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_close",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_toggleDockEnabled",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_toggleFeatureMenu",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_toggleActionsMenu",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_triggerAction",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_selectFeature",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_next",null),(0,ze._)([(0,fl.h)()],Dr.prototype,"_previous",null),Dr=(0,ze._)([(0,cr.j)("esri.widgets.Popup")],Dr);const DR=Dr,BM=[0,0];function wR(g){g&&((0,Yu.cS)(g),g.parentNode&&g.parentNode.removeChild(g))}const MK=g=>{let C=class extends g{constructor(...v){super(...v),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,0!==v.length&&void 0!==v[0]?.popup||(this.popup=new DR({view:this})),this.handles.add([(0,en.YP)(()=>this.cursor,M=>{const{surface:D}=this;D&&D.setAttribute("data-cursor",M)}),(0,en.YP)(()=>this.interacting,M=>{const{surface:D}=this;D&&D.setAttribute("data-interacting",M.toString())})])}initialize(){this.handles.add((0,en.YP)(()=>this.ui,(v,M)=>this._handleUIChange(v,M))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=(0,Lt.SC)(this.ui),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(v){const M=this._get("container"),D=(0,Yu.L7)(v);if(D||"string"!=typeof v||Ai.Z.getLogger(this.declaredClass).error("#container",`element with id '${v}' not found`),M===D)return;const I="dom-size";if(this.handles.remove(I),this._stopMeasuring(),M&&(M.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(wR(this.root),this._set("root",null)),this.userContent&&((0,Yu.YD)(this.userContent,M),wR(this.userContent),this._set("userContent",null))),!D)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);D.classList.add("esri-view");const x=document.createElement("div");x.className="esri-view-user-storage",(0,Yu.YD)(D,x),D.appendChild(x),this._set("userContent",x);const X=document.createElement("div");X.className="esri-view-root",D.insertBefore(X,D.firstChild),this._set("root",X);const he=document.createElement("div");he.className="esri-view-surface",he.setAttribute("role","application"),he.tabIndex=0,X.appendChild(he),this._set("surface",he);const Se=new hx;X.appendChild(Se.surface),this._set("overlay",Se),(0,en.YP)(()=>Se.needsRender,Ae=>{this._overlayRenderTaskHandle=Ae&&!this._overlayRenderTaskHandle?(0,eh.A)({render:()=>this.overlay?.render()}):(0,Lt.hw)(this._overlayRenderTaskHandle)}),this.forceDOMReadyCycle(),this.handles.add((0,en.YP)(()=>this.size,Ae=>{const[Ve,qe]=Ae,rt="esri-view-surface--inset-outline";Ve>=document.body.clientWidth||qe>=document.body.clientHeight?he.classList.add(rt):he.classList.remove(rt)},en.nn),I),this._set("container",D),this._startMeasuring()}get focused(){const v=document.activeElement===this.surface;return document.hasFocus()&&v}set popup(v){const M=this._get("popup");M&&M!==v&&M.destroy(),this._set("popup",v)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(v,M,D){const I=this.position;return v-=I?I[0]:0,M-=I?I[1]:0,D?(D[0]=v,D[1]=M):D=[v,M],D}containerToPage(v,M,D){const I=this.position;return v+=I?I[0]:0,M+=I?I[1]:0,D?(D[0]=v,D[1]=M):D=[v,M],D}_handleUIChange(v,M){M&&(this.handles.remove("ui"),M.destroy()),v&&this._wireUI(v),this._set("ui",v)}_wireUI(v){this.handles.remove("ui"),v&&(v.view=this,this.handles.add([(0,en.YP)(()=>this.root,M=>{v.container=M?function EK(g){const C=document.createElement("div");return g.appendChild(C),C}(M):null},en.nn),(0,en.YP)(()=>this.popup,(M,D)=>{const I="popup";D&&v.remove(D,I),M&&(M.view=v.view,v.add(M,{key:I,position:"manual"}))},en.nn)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const v=this._freqInfo;v.freq=16,v.time=750,this.handles.add([(()=>{const M=()=>{v.freq=16,v.time=750};return window.addEventListener("resize",M),{remove(){window.removeEventListener("resize",M)}}})(),(0,eh.A)({prepare:M=>{const D=this._measure(),I=this._freqInfo;if(I.time+=M.deltaTime,D&&(I.freq=16,this._get("resizing")||this._set("resizing",!0)),I.time<I.freq)return;I.time=0;const x=this._position();I.freq=x||D?16:Math.min(750,2*I.freq),!D&&I.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const v=this.container,M=v?v.clientWidth:0,D=v?v.clientHeight:0;if(0===M||0===D)return this.suspended||this._set("suspended",!0),!1;const I=this.width,x=this.height;return M===I&&D===x?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",M),this._set("height",D),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:I,oldHeight:x,width:M,height:D}),!0)}_position(){const v=this.container,M=this.position,D=v&&function _K(g){const C=(g.ownerDocument||window.document).defaultView,v=g.getBoundingClientRect();return BM[0]=v.left+(C?.pageXOffset??0),BM[1]=v.top+(C?.pageYOffset??0),BM}(v);return!(!D||M&&D[0]===M[0]&&D[1]===M[1]||(this._set("position",[D[0],D[1]]),0))}forceDOMReadyCycle(){}};return(0,ze._)([(0,Ke.Cb)()],C.prototype,"container",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"focused",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"height",void 0),(0,ze._)([(0,Ke.Cb)({type:DR})],C.prototype,"popup",null),(0,ze._)([(0,Ke.Cb)({type:hx})],C.prototype,"overlay",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"position",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"resizing",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"root",void 0),(0,ze._)([(0,Ke.Cb)({value:null,readOnly:!0})],C.prototype,"size",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"surface",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"suspended",void 0),(0,ze._)([(0,Ke.Cb)()],C.prototype,"ui",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"userContent",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],C.prototype,"width",void 0),(0,ze._)([(0,Ke.Cb)()],C.prototype,"widthBreakpoint",void 0),C=(0,ze._)([(0,cr.j)("esri.views.DOMContainer")],C),C},SK=g=>{let C=class extends g{fetchPopupFeatures(v,M){var D=this;return(0,xn.Z)(function*(){yield D.when();const{location:I,queryArea:x,layerViewsAndGraphics:X,clientOnlyGraphics:he}=yield D._prepareFetchPopupFeatures(v,M),Se=Promise.resolve(he),Ae=D._queryLayerPopupFeatures(x,X,M),Ve=Ae.map(qe=>qe.promise);return{location:I,clientOnlyGraphics:he,allGraphicsPromise:(0,ei.WW)([Se,...Ve]).then(qe=>Array.from(new Set(qe.flat()))),promisesPerLayerView:Ae}})()}_queryLayerPopupFeatures(v,M,D){return M.map(({layerView:I,graphics:x})=>{const X={clientGraphics:x,event:(0,Lt.pC)(D)?D.event:void 0,signal:(0,Lt.pC)(D)?D.signal:void 0,defaultPopupTemplateEnabled:!!(0,Lt.pC)(D)&&!!D.defaultPopupTemplateEnabled},he=I.fetchPopupFeatures(v,X);return{layerView:I,promise:he}})}_isValidPopupGraphic(v,M){return v&&!!v.getEffectivePopupTemplate((0,Lt.pC)(M)&&M.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(v,M){var D=this;return(0,xn.Z)(function*(){const{clientGraphics:I,queryArea:x,location:X}=yield D._popupHitTestGraphics(v,M),he=D._getFetchPopupLayerViews(),{layerViewsAndGraphics:Se,clientOnlyGraphics:Ae}=D._graphicsPerFetchPopupLayerView(I,he);return{clientOnlyGraphics:Ae,layerViewsAndGraphics:Se,queryArea:x,location:X}})()}_popupHitTestGraphics(v,M){var D=this;return(0,xn.Z)(function*(){const I=yield D.popupHitTest(v),X=I.mapPoint,he=I.results.filter(Ae=>"graphic"===Ae.type&&D._isValidPopupGraphic(Ae.graphic,M)),Se=he.length?he[0].mapPoint:null;return{clientGraphics:he.map(Ae=>Ae.graphic),queryArea:X,location:X||Se}})()}_getFetchPopupLayerViews(){const v=[];return this.allLayerViews.forEach(M=>{this._isValidPopupLayerView(M)&&v.push(M)}),(0,Lt.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&v.push(this.graphicsView),v.reverse()}_isValidPopupLayerView(v){return(0,Lt.pC)(v)&&(!("layer"in v)||!v.suspended)&&"fetchPopupFeatures"in v}_graphicsPerFetchPopupLayerView(v,M){const D=[],I=new Map,x=M.map(X=>{const he=[];return I.set("layer"in X?X.layer:X.graphics,he),{layerView:X,graphics:he}});for(const X of v){const he=I.get(X.layer)||I.get(X.sourceLayer)||null;he?he.push(X):D.push(X)}return{layerViewsAndGraphics:x,clientOnlyGraphics:D}}};return C=(0,ze._)([(0,cr.j)("esri.views.PopupView")],C),C};var kM,VM=T(73386),TK=T(89726),IR=T(94573),_v=T(86810),WM=T(47996),PK=T(47877),DK=T(99433),wK=T(55342);let Ev=kM=class extends _v.wq{constructor(g){super(g),this.type="none"}clone(){return new kM({type:this.type})}};(0,ze._)([(0,wK.J)({none:"none",stayAbove:"stay-above"})],Ev.prototype,"type",void 0),Ev=kM=(0,ze._)([(0,cr.j)("esri.ground.NavigationConstraint")],Ev);var zM,IK=T(93605),OR=T(92236);let dc=zM=class extends((0,_v.eC)(WM.Z)){constructor(g){super(g),this.opacity=1,this.shading=!IK.Z.TERRAIN_USE_LEGACY_SHADING,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ss.Z;const C=M=>{M.parent&&M.parent!==this&&"remove"in M.parent&&M.parent.remove(M),M.parent=this,"elevation"!==M.type&&"base-elevation"!==M.type&&Ai.Z.getLogger(this.declaredClass).error(`Layer '${M.title}, id:${M.id}' of type '${M.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",M=>C(M.item)),this.layers.on("after-remove",M=>(M=>{M.parent=null})(M.item))}initialize(){this.when().catch(g=>{Ai.Z.getLogger(this.declaredClass).error("#load()","Failed to load ground",g)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const g=this.layers.removeAll();for(const C of g)C.destroy();this.layers.destroy()}normalizeCtorArgs(g){return g&&"resourceInfo"in g&&(this._set("resourceInfo",g.resourceInfo),delete(g={...g}).resourceInfo),g}set layers(g){this._set("layers",(0,TK.Z)(g,this._get("layers")))}writeLayers(g,C,v,M){const D=[];g&&(M={...M,layerContainerType:"ground"},g.forEach(I=>{if("write"in I){const x={};(0,IR.sM)(I)().write(x,M)&&D.push(x)}else M&&M.messages&&M.messages.push(new Ar.Z("layer:unsupported",`Layers (${I.title}, ${I.id}) of type '${I.declaredClass}' cannot be persisted in the ground`,{layer:I}))})),C.layers=D}load(g){return this.addResolvingPromise(this._loadFromSource(g)),Promise.resolve(this)}loadAll(){return(0,PK.G)(this,g=>{g(this.layers)})}queryElevation(g,C){var v=this;return(0,xn.Z)(function*(){yield v.load({signal:C?.signal});const{ElevationQuery:M}=yield T.e(4684).then(T.bind(T,14684));(0,ei.k_)(C);const D=new M,I=v.layers.filter(AR).toArray();return D.queryAll(I,g,C)})()}createElevationSampler(g,C){var v=this;return(0,xn.Z)(function*(){yield v.load({signal:C?.signal});const{ElevationQuery:M}=yield T.e(4684).then(T.bind(T,14684));(0,ei.k_)(C);const D=new M,I=v.layers.filter(AR).toArray();return D.createSamplerAll(I,g,C)})()}clone(){const g={opacity:this.opacity,surfaceColor:(0,RM.d9)(this.surfaceColor),navigationConstraint:(0,RM.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(g.loadStatus="loaded"),new zM({resourceInfo:this.resourceInfo}).set(g)}read(g,C){this.resourceInfo||this._set("resourceInfo",{data:g,context:C}),super.read(g,C)}_loadFromSource(g){const C=this.resourceInfo;return C?this._loadLayersFromJSON(C.data,C.context,g):Promise.resolve()}_loadLayersFromJSON(g,C,v){const M=C&&C.origin||"web-scene",D=C&&C.portal||null,I=C&&C.url||null;return Promise.all([T.e(7534),T.e(1074)]).then(T.bind(T,71074)).then(({populateOperationalLayers:x})=>{(0,ei.k_)(v);const X=[];return g.layers&&Array.isArray(g.layers)&&X.push(x(this.layers,g.layers,{context:{origin:M,url:I,portal:D,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,ei.as)(X)}).then(()=>{})}};function AR(g){return"elevation"===g.type||function OK(g){return g&&"createElevationSampler"in g}(g)}(0,ze._)([(0,Ke.Cb)({json:{read:!1}})],dc.prototype,"layers",null),(0,ze._)([(0,DK.c)("layers")],dc.prototype,"writeLayers",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],dc.prototype,"resourceInfo",void 0),(0,ze._)([(0,Ke.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:qy.z8,read:{reader:OR.b,source:"transparency"},write:{writer:(g,C)=>{C.transparency=(0,OR.a)(g)},target:"transparency"}}})],dc.prototype,"opacity",void 0),(0,ze._)([(0,Ke.Cb)({type:Boolean,nonNullable:!0,json:{read:!1}})],dc.prototype,"shading",void 0),(0,ze._)([(0,Ke.Cb)({type:qm.Z,json:{type:[qy.z8],write:(g,C)=>{C.surfaceColor=g.toJSON().slice(0,3)}}})],dc.prototype,"surfaceColor",void 0),(0,ze._)([(0,Ke.Cb)({type:Ev,json:{write:!0}})],dc.prototype,"navigationConstraint",void 0),dc=zM=(0,ze._)([(0,cr.j)("esri.Ground")],dc);const bv=dc;function AK(g){return!(!g?.loaded||!(0,IC.S1)(g)?.operations?.supportsEditing||"editingEnabled"in g&&!(0,IC.ln)(g))}var xR=T(33954);const RR=Ai.Z.getLogger("esri.support.basemapUtils");var jK=T(38953);const $R={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var BK=T(6432),VK=T(6119);let hc=class extends((0,VK.Q)((0,BK.K)(oh.Z.EventedMixin(Ci.Z)))){constructor(g){super(g),this.allLayers=new Xy.Z({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:C=>"layers"in C?C.layers:null}),this.allTables=(0,jK.a)(this),this.basemap=null,this.editableLayers=new Xy.Z({getCollections:()=>[this.allLayers],itemFilterFunction:AK}),this.ground=new bv,this._basemapCache={}}destroy(){this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.ground?.destroy(),this.basemap?.destroy(),function RK(g){for(const C in g){const v=g[C];!1===v?.destroyed&&v.destroy(),delete g[C]}}(this._basemapCache),this._basemapCache=null}castBasemap(g){return function LR(g,C){let v;if("string"==typeof g){if(!(g in xR.s)){const M=Object.entries(xR.s).filter(([D,I])=>rM.Z.apiKey&&!I.classic||!rM.Z.apiKey&&I.classic&&!I.deprecated).map(([D])=>`"${D}"`).join(", ");return RR.warn(`Unable to find basemap definition for: ${g}. Try one of these: ${M}`),null}C&&(v=C[g]),v||(v=VM.default.fromId(g),C&&(C[g]=v))}else v=(0,qy.se)(VM.default,g);return v?.destroyed&&(RR.warn("The provided basemap is already destroyed",{basemap:v}),v=null),v}(g,this._basemapCache)}castGround(g){const C=function UK(g){let C=null;return"string"==typeof g?g in $R?C=new bv({resourceInfo:{data:{layers:[$R[g]]}}}):Ai.Z.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${g}. Try "world-elevation"`):C=(0,qy.se)(bv,g),C}(g);return(0,Lt.Wi)(C)?this._get("ground"):C}findLayerById(g){return this.allLayers.find(C=>C.id===g)}findTableById(g){return this.allTables.find(C=>C.id===g)}};(0,ze._)([(0,Ke.Cb)({readOnly:!0,dependsOn:[]})],hc.prototype,"allLayers",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],hc.prototype,"allTables",void 0),(0,ze._)([(0,Ke.Cb)({type:VM.default})],hc.prototype,"basemap",void 0),(0,ze._)([(0,Ll.p)("basemap")],hc.prototype,"castBasemap",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],hc.prototype,"editableLayers",void 0),(0,ze._)([(0,Ke.Cb)({type:bv,nonNullable:!0})],hc.prototype,"ground",void 0),(0,ze._)([(0,Ll.p)("ground")],hc.prototype,"castGround",null),hc=(0,ze._)([(0,cr.j)("esri.Map")],hc);const GM=hc;var WK=T(97478),KM=T(59213),ZR=T(54024),GR=T(60330),HM=T(28705),kK=T(79334),KR=T(65234);let Cv=class extends HM.a{constructor(g){super(g),this.handles.add(this.on("before-add",C=>{(0,Lt.Wi)(C.item)||C.item.parent===this.owner&&(Ai.Z.getLogger(this.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),C.preventDefault())}))}_own(g){g.parent=this.owner}_release(g){g.parent=null}};Cv=(0,ze._)([(0,cr.j)("esri.support.AnalysesCollection")],Cv);var HR=T(51815),YR=T(41039);let nd=class extends Ci.Z{constructor(g){super(g),this.view=null,this.baseLayerViews=new ss.Z,this.referenceLayerViews=new ss.Z,this._loadingHandle=(0,en.YP)(()=>this.view?.map?.basemap,C=>{C&&C.load().catch(()=>{})},en.nn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view&&this.view.suspended)return!1;const g=this.view?.map?.basemap;return!!g&&!!g.loaded&&(this.baseLayerViews.some(C=>C.updating)||this.referenceLayerViews.some(C=>C.updating))}};(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],nd.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],nd.prototype,"baseLayerViews",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],nd.prototype,"referenceLayerViews",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],nd.prototype,"suspended",null),(0,ze._)([(0,Ke.Cb)({type:Boolean,readOnly:!0})],nd.prototype,"updating",null),nd=(0,ze._)([(0,cr.j)("esri.views.BasemapView")],nd);class $K{constructor(C,v,M){this.layer=C,this.view=v,this.layerViewImporter=M,this._controller=new AbortController,this._deferred=(0,ei.dD)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,ei.fu)(this._controller.signal,()=>{const D=new Ar.Z("cancelled:layerview-create","layerview creation cancelled",{layer:C});this._deferred.reject(D)})}tryRecycle(C){if(!this.done||!this.layerView||!function zK(g){return"tryRecycleWith"in g}(this.layerView))return null;const v=this.layer.type,M=this._controller.signal;for(let D=0;D<C.length;D++){const I=C[D];if(I.type!==v)continue;const x=this.layerView.tryRecycleWith(I,{signal:M});if(x){C.splice(D,1),this.layer=I;const X=this.layerView,he=X.view;return this.promise=Promise.race([x.then(()=>((0,ei.k_)(this._controller.signal),I.emit("layerview-destroy",{view:he,layerView:X}),he.emit("layerview-destroy",{view:he,layerView:X}),I.emit("layerview-create",{view:he,layerView:X}),he.emit("layerview-create",{view:he,layerView:X}),X)),new Promise((Se,Ae)=>(0,ei.fu)(this._controller.signal,()=>Ae((0,ei.zE)())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:C}=this;if(!C)return;const{layer:v,view:M}=this;v.emit("layerview-destroy",{view:M,layerView:C}),M.emit("layerview-destroy",{layer:v,layerView:C}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var C=this;return(0,xn.Z)(function*(){if(C._started)return;C._started=!0;const{_controller:{signal:v},layer:M,view:D}=C;C._map=D.map;try{let I,x;if(yield M.load({signal:v}),"prefetchResources"in M&&(yield M.prefetchResources?.({signal:v})),function GK(g){return"createLayerView"in g&&null!=g.createLayerView}(M))I=yield M.createLayerView(D,{signal:v});else{if(!C.layerViewImporter.hasLayerViewModule(M))throw new Ar.Z("layer:view-not-supported","No layerview implementation was found");const Se=yield C.layerViewImporter.importLayerView(M);(0,ei.k_)(v),I="default"in Se?new Se.default({layer:M,view:D}):new Se({layer:M,view:D})}const X=()=>{x=(0,Lt.hw)(x),I.destroyed||I.destroy(),I.layer=null,I.parent=null,I.view=null,C.done=!0};x=(0,ei.fu)(v,X),(0,ei.k_)(v);try{yield I.when()}catch(Se){throw X(),Se}if(!C._map?.allLayers?.includes(M))return X(),void C._deferred.reject(new Ar.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:M}));C.layerView=I,M.emit("layerview-create",{view:D,layerView:I}),D.emit("layerview-create",{layer:M,layerView:I}),C.done=!0,C._deferred.resolve(I)}catch(I){M.emit("layerview-create-error",{view:D,error:I}),D.emit("layerview-create-error",{layer:M,error:I}),C.done=!0,C._deferred.reject(new Ar.Z("layerview:create-error","layerview creation failed",{layer:M,error:I}))}})()}}let ml=class extends Ci.Z{constructor(g){super(g),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new ux.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const C=this.view.map?.allLayers;if(C)for(const v of C)this.layerViewImporter.hasLayerViewModule(v)&&this.layerViewImporter.importLayerView(v)},this._reschedule=()=>((0,Lt.Wi)(this._workPromise)&&(this._workPromise=(0,ei.dD)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,eh.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{const C=this.view.map;if(this._map!==C&&(this.clear(),this._map=C),(0,Lt.Wi)(this._workPromise))return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const v=new Set,M=[],D=this.view.ready,I=X=>{if(!(0,Lt.Wi)(X))for(const he of X)if(he){v.add(he);const Se=this._layerLayerViewInfoMap.get(he);Se&&D?Se.start():Se||this._recyclingInfoMap.has(he)||M.push(he),"layers"in he&&he.layers&&I(he.layers)}};for(const X of this._rootCollectionNames)I(this.get(X));for(const[X,he]of this._layerLayerViewInfoMap)if(!v.has(X)){this._layerLayerViewInfoMap.delete(he.layer);const Se=he.tryRecycle(M);Se?(this._recyclingInfoMap.set(he.layer,he),Se.then(()=>{this._recyclingInfoMap.delete(he.layer),this._layerLayerViewInfoMap.set(he.layer,he),this._reschedule()}).catch(()=>{this._recyclingInfoMap.delete(he.layer),he.destroy(),this._reschedule()})):he.destroy()}for(const[X,he]of this._recyclingInfoMap)v.has(X)||(this._recyclingInfoMap.delete(he.layer),he.destroy());for(const X of M)this._createLayerView(X);this._refreshCollections();const x=[C?.ground?.layers,C?.basemap?.baseLayers,C?.basemap?.referenceLayers,C?.layers].filter(X=>!!X);v.forEach(X=>"layers"in X&&x.push(X.layers)),this.addHandles(x.map(X=>this._watchUpdatingTracking.addOnCollectionChange(()=>X,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.own([(0,en.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,en.YP)(()=>{const g=this.view,C=g?.map;return[C?.basemap,C?.ground,C?.layers,g?.ready]},()=>this._reschedule(),en.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null,(0,Lt.pC)(this._workPromise)&&(this._workPromise.reject((0,ei.zE)()),this._workPromise=null)}get _layersToLayerViews(){const g=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&g.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(g)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,Lt.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,Bp.oE)(this._layerLayerViewInfoMap,g=>!g.done)}get updatingRemaining(){let g=0;for(const C of this._layerLayerViewInfoMap.values())C.done||++g;return g}clear(){if(!this.destroyed){for(const g of this._layerLayerViewInfoMap.values())g.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(g){var C=this;return(0,xn.Z)(function*(){if(yield C._reschedule(),!C._layerLayerViewInfoMap.has(g)){if(C._recyclingInfoMap.has(g))return C._recyclingInfoMap.get(g).promise;throw new Ar.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:g})}return C._layerLayerViewInfoMap.get(g).promise})()}_refreshCollections(){for(const[g,C]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(g),this.get(C),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(g,C,v){if(!g||!C)return void(C&&C.removeAll());let M=0;for(const D of g){const I=this._layerLayerViewInfoMap.get(D);if(!I||!I.layerView)continue;const x=I.layerView;x.layer=D,x.parent=v,C.getItemAt(M)!==x&&C.splice(M,0,x),D.layers&&this._populateLayerViewsOwners(D.layers,x.layerViews,x),M+=1}M<C.length&&C.splice(M,C.length)}_createLayerView(g){g.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(g)&&this.layerViewImporter.importLayerView(g);const C=new $K(g,this.view,this.layerViewImporter);C.promise.then(()=>this._refreshCollections(),v=>{v&&((0,ei.D_)(v)||"cancelled:layerview-create"===v.name)||Ai.Z.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${g.title??"no title"}', id:'${g.id??"no id"}' of type '${g.type}'.`,{layer:g,error:v}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(g,C),this.view.ready&&C.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,ze._)([(0,Ke.Cb)()],ml.prototype,"_workPromise",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ml.prototype,"_watchUpdatingTracking",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ml.prototype,"_layersToLayerViews",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ml.prototype,"_rootCollectionNames",null),(0,ze._)([(0,Ke.Cb)()],ml.prototype,"layerViewImporter",void 0),(0,ze._)([(0,Ke.Cb)()],ml.prototype,"supportsGround",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ml.prototype,"updating",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ml.prototype,"updatingRemaining",null),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],ml.prototype,"view",void 0),ml=(0,ze._)([(0,cr.j)("esri.views.LayerViewManager")],ml);const ZK=ml;let $a=class extends Ci.Z{constructor(g){super(g),this.factor=1.5,this.offset=(0,hl.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,ze._)([(0,Ke.Cb)({type:Number})],$a.prototype,"factor",void 0),(0,ze._)([(0,Ke.Cb)({nonNullable:!0})],$a.prototype,"offset",void 0),(0,ze._)([(0,Ke.Cb)()],$a.prototype,"position",void 0),(0,ze._)([(0,Ke.Cb)({type:Number,range:{min:0}})],$a.prototype,"size",void 0),(0,ze._)([(0,Ke.Cb)()],$a.prototype,"maskUrl",void 0),(0,ze._)([(0,Ke.Cb)()],$a.prototype,"maskEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],$a.prototype,"overlayUrl",void 0),(0,ze._)([(0,Ke.Cb)()],$a.prototype,"overlayEnabled",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],$a.prototype,"version",null),(0,ze._)([(0,Ke.Cb)({type:Boolean})],$a.prototype,"visible",void 0),$a=(0,ze._)([(0,cr.j)("esri.views.Magnifier")],$a);const JR=$a;var QR=T(84259);let d0=class extends Ci.Z{constructor(g,C){super({}),this._stage=g,this._textureRequests=new Map,this._frameTask=C?.registerTask(QR.T8.TEXTURE_UNLOAD)??QR.sq}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(g=>this._releaseTextureRequest(g)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(g,C,v){const M=this.makeUid(g);let D=this._textureRequests.get(M);if(!D){const I=C();D={referenceCount:0,texture:I,textureAsync:null,abortController:null,onRemove:v},this._stage&&(this._stage.add(I),this._stage.loadImmediate(I)),this._textureRequests.set(M,D)}return D.referenceCount++,{uid:M,texture:D.texture,release:()=>this._release(M)}}_release(g){const C=this._textureRequests.get(g);C?(C.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+g),C.referenceCount--,C.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(g))):console.warn(`TextureCollection: texture doesn't exist: '${g}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(g){if(!this._textureRequests)return;const C=this._textureRequests.get(g);!C||C.referenceCount>0||(this._releaseTextureRequest(C),this._textureRequests.delete(g))}_releaseTextureRequest(g){g.onRemove&&g.onRemove(),g.texture?this._stage?.remove(g.texture):g.abortController&&(g.abortController.abort(),g.abortController=null)}makeUid(g,C=null){return(0,Lt.pC)(C)?`${g}.${C}px`:g}};(0,ze._)([(0,Ke.Cb)()],d0.prototype,"_frameTask",void 0),(0,ze._)([(0,Ke.Cb)()],d0.prototype,"updating",null),d0=(0,ze._)([(0,cr.j)("esri.views.3d.support.TextureCollection")],d0);var Fo=T(35216);T(85112);const XR=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],qR={};function eL(g){return!!qR[g]}XR.forEach(g=>{qR[g]=!0});class HK{constructor(C){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=C,this.inputManager=null}connect(C){C&&this.disconnect(),this.inputManager=C,this._handlers.forEach(({handler:v,priority:M},D)=>this.inputManager?.installHandlers(D,[v],M))}disconnect(){this.inputManager&&this._handlers.forEach((C,v)=>this.inputManager?.uninstallHandlers(v)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(C,v,M,D){const I=Array.isArray(C)?C:C.split(",");if(!function KK(g){for(const C of g)if(!eL(C))return!1;return!0}(I))return I.some(eL)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let x,X;Array.isArray(v)?X=v:(x=v,X=[]),"function"==typeof M?x=M:D=M,D=D??gs.f.DEFAULT;const he=this._createUniqueGroupName(),Se=new YK(this.view,I,X,x);this._handlers.set(he,{handler:Se,priority:D});for(const Ae of I){const Ve=this._handlerCounts.get(Ae)||0;this._handlerCounts.set(Ae,Ve+1)}return this.inputManager&&this.inputManager.installHandlers(he,[Se],D),{remove:()=>this._removeHandler(he,I)}}hasHandler(C){return!!this._handlerCounts.get(C)}_removeHandler(C,v){if(this._handlers.has(C)){this._handlers.delete(C);for(const M of v){const D=this._handlerCounts.get(M);void 0===D?console.error("Trying to remove handler for event that has no handlers registered: ",M):1===D?this._handlerCounts.delete(M):this._handlerCounts.set(M,D-1)}}this.inputManager&&this.inputManager.uninstallHandlers(C)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class YK extends Fo.a{constructor(C,v,M,D){super(!0),this._latestDragStart=void 0,this.view=C;for(const I of v)switch(I){case"click":this.registerIncoming("click",M,x=>D(this._wrapClick(x)));break;case"double-click":this.registerIncoming("double-click",M,x=>D(this._wrapDoubleClick(x)));break;case"immediate-click":this.registerIncoming("immediate-click",M,x=>D(this._wrapImmediateClick(x)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",M,x=>D(this._wrapImmediateDoubleClick(x)));break;case"hold":this.registerIncoming("hold",M,x=>D(this._wrapHold(x)));break;case"drag":this.registerIncoming("drag",M,x=>{const X=this._wrapDrag(x);X&&D(X)});break;case"key-down":this.registerIncoming("key-down",M,x=>D(this._wrapKeyDown(x)));break;case"key-up":this.registerIncoming("key-up",M,x=>D(this._wrapKeyUp(x)));break;case"pointer-down":this.registerIncoming("pointer-down",M,x=>D(this._wrapPointer(x,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",M,x=>D(this._wrapPointer(x,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",M,x=>D(this._wrapPointer(x,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",M,x=>D(this._wrapPointerDrag(x)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",M,x=>D(this._wrapMouseWheel(x)));break;case"pointer-enter":this.registerIncoming("pointer-enter",M,x=>D(this._wrapPointer(x,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",M,x=>D(this._wrapPointer(x,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",M,x=>{D(this._wrapGamepad(x))});break;case"focus":this.registerIncoming("focus",M,x=>{D(this._wrapFocus(x))});break;case"blur":this.registerIncoming("blur",M,x=>{D(this._wrapBlur(x))})}}_wrapFocus(C){return{type:"focus",timestamp:C.timestamp,native:C.data.native,cancelable:C.cancelable,stopPropagation:()=>C.stopPropagation(),async:v=>C.async(v),preventDefault:()=>C.preventDefault()}}_wrapBlur(C){return{type:"blur",timestamp:C.timestamp,native:C.data.native,cancelable:C.cancelable,stopPropagation:()=>C.stopPropagation(),async:v=>C.async(v),preventDefault:()=>C.preventDefault()}}_wrapClick(C){const{pointerType:v,button:M,buttons:D,x:I,y:x,native:X,eventId:he}=C.data,{cancelable:Se,timestamp:Ae}=C;return{type:"click",pointerType:v,button:M,buttons:D,x:I,y:x,native:X,timestamp:Ae,screenPoint:(0,hl.vW)(I,x),mapPoint:this._getMapPoint(I,x),eventId:he,cancelable:Se,stopPropagation:()=>C.stopPropagation(),async:Ve=>C.async(Ve),preventDefault:()=>C.preventDefault()}}_wrapDoubleClick(C){const{pointerType:v,button:M,buttons:D,x:I,y:x,native:X,eventId:he}=C.data,{cancelable:Se,timestamp:Ae}=C;return{type:"double-click",pointerType:v,button:M,buttons:D,x:I,y:x,native:X,timestamp:Ae,mapPoint:this._getMapPoint(I,x),eventId:he,cancelable:Se,stopPropagation:()=>C.stopPropagation(),async:Ve=>C.async(Ve),preventDefault:()=>C.preventDefault()}}_wrapImmediateClick(C){const{pointerType:v,button:M,buttons:D,x:I,y:x,native:X,eventId:he}=C.data,Se=X.pointerId,{cancelable:Ae,timestamp:Ve}=C;return{type:"immediate-click",pointerId:Se,pointerType:v,button:M,buttons:D,x:I,y:x,native:X,timestamp:Ve,mapPoint:this._getMapPoint(I,x),eventId:he,cancelable:Ae,stopPropagation:()=>C.stopPropagation(),async:qe=>C.async(qe),preventDefault:()=>C.preventDefault()}}_wrapImmediateDoubleClick(C){const{pointerType:v,button:M,buttons:D,x:I,y:x,native:X,eventId:he}=C.data,Se=X.pointerId,{cancelable:Ae,timestamp:Ve}=C;return{type:"immediate-double-click",pointerId:Se,pointerType:v,button:M,buttons:D,x:I,y:x,native:X,timestamp:Ve,mapPoint:this._getMapPoint(I,x),eventId:he,cancelable:Ae,stopPropagation:()=>C.stopPropagation(),async:qe=>C.async(qe),preventDefault:()=>C.preventDefault()}}_wrapHold(C){const{pointerType:v,button:M,buttons:D,x:I,y:x,native:X}=C.data,{cancelable:he,timestamp:Se}=C;return{type:"hold",pointerType:v,button:M,buttons:D,x:I,y:x,native:X,timestamp:Se,mapPoint:this._getMapPoint(I,x),cancelable:he,stopPropagation:()=>C.stopPropagation(),async:Ae=>C.async(Ae),preventDefault:()=>C.preventDefault()}}_getMapPoint(C,v){return this.view.toMap((0,hl.vW)(C,v),{exclude:[]})}_wrapDrag(C){const v=C.data,{x:M,y:D}=v.center,{action:I,pointerType:x,button:X}=v;if("start"===I&&(this._latestDragStart=v),!this._latestDragStart)return;const he=v.pointer.native,Se=v.buttons,{cancelable:Ae,timestamp:Ve}=C,qe={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===I&&(this._latestDragStart=void 0),{type:"drag",action:I,x:M,y:D,origin:qe,pointerType:x,button:X,buttons:Se,radius:v.radius,angle:(0,iv.BV)(v.angle),native:he,timestamp:Ve,cancelable:Ae,stopPropagation:()=>C.stopPropagation(),async:rt=>C.async(rt),preventDefault:()=>C.preventDefault()}}_wrapKeyDown(C){const{key:v,repeat:M,native:D}=C.data,{cancelable:I,timestamp:x}=C;return{type:"key-down",key:v,repeat:M,native:D,timestamp:x,cancelable:I,stopPropagation:()=>C.stopPropagation(),async:X=>C.async(X),preventDefault:()=>C.preventDefault()}}_wrapKeyUp(C){const{key:v,native:M}=C.data,{cancelable:D,timestamp:I}=C;return{type:"key-up",key:v,native:M,timestamp:I,cancelable:D,stopPropagation:()=>C.stopPropagation(),async:x=>C.async(x),preventDefault:()=>C.preventDefault()}}_wrapPointer(C,v){const{x:M,y:D,button:I,buttons:x,native:X,eventId:he}=C.data,Se=X.pointerId,Ae=X.pointerType,{cancelable:Ve,timestamp:qe}=C;return{type:v,x:M,y:D,pointerId:Se,pointerType:Ae,button:I,buttons:x,native:X,timestamp:qe,eventId:he,cancelable:Ve,stopPropagation:()=>C.stopPropagation(),async:rt=>C.async(rt),preventDefault:()=>C.preventDefault()}}_wrapPointerDrag(C){const{x:v,y:M,buttons:D,native:I,eventId:x}=C.data.currentEvent,{button:X}=C.data.startEvent,he=C.data.startEvent.native.pointerId,Se=C.data.startEvent.native.pointerType,Ae=C.data.action,Ve={x:C.data.startEvent.x,y:C.data.startEvent.y},{cancelable:qe,timestamp:rt}=C;return{type:"pointer-drag",x:v,y:M,pointerId:he,pointerType:Se,button:X,buttons:D,action:Ae,origin:Ve,native:I,timestamp:rt,eventId:x,cancelable:qe,stopPropagation:()=>C.stopPropagation(),async:gt=>C.async(gt),preventDefault:()=>C.preventDefault()}}_wrapMouseWheel(C){const{cancelable:v,data:M,timestamp:D}=C,{x:I,y:x,deltaY:X,native:he}=M;return{type:"mouse-wheel",x:I,y:x,deltaY:X,native:he,timestamp:D,cancelable:v,stopPropagation:()=>C.stopPropagation(),async:Se=>C.async(Se),preventDefault:()=>C.preventDefault()}}_wrapGamepad(C){const{action:v,state:M,device:D}=C.data,{cancelable:I,timestamp:x}=C,{buttons:X,axes:he}=M;return{type:"gamepad",device:D,timestamp:x,action:v,buttons:X,axes:he,cancelable:I,stopPropagation:()=>C.stopPropagation(),async:Se=>C.async(Se),preventDefault:()=>C.preventDefault()}}}var YM=T(33786);function JM(g){return g.visible&&null!=g.getEditableFlag&&g.getEditableFlag(YM.bH.USER)&&g.getEditableFlag(YM.bH.MANAGER)}var Ko=T(41900);class QK{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(C,v){const M=()=>C.stopPropagation();switch(C.type){case"pointer-move":tL(C.pointerType)&&this._pointerLocations.set(C.pointerId,{x:C.x,y:C.y,pointerType:C.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(M(),"end"===C.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!nL(C))break;const D=(0,Ko.vT)(C),I=this._intersect(D,C.pointerType,v.forEachTool);if((0,Lt.Wi)(I))break;const x=I.manipulator,X=I.tool;!((0,Lt.pC)(x)&&(0,Lt.pC)(X)&&x.interactive)||x.grabbable&&x.grabbableForEvent(C)||!x.grabbing||x.dragging||this._ungrabManipulatorBeforeDragging(x,C,v),(0,Lt.pC)(x)&&(0,Lt.pC)(X)&&x.interactive&&x.grabbable&&x.grabbableForEvent(C)&&!x.grabbing&&(this._grabbedManipulators.set(C.pointerId,{manipulator:x,tool:X,start:D,pointerType:C.pointerType}),1===this._grabbedManipulators.size&&(0,Lt.Wi)(v.activeTool)&&(this._revertToNullActiveTool=!0,v.setActiveTool(I.tool)),x.grabbing=!0,x.events.emit("grab-changed",{action:"start",pointerType:C.pointerType,screenPoint:D}),M());break}case"pointer-up":this._draggedManipulators.has(C.pointerId)||this._handlePointerEnd(C,v);break;case"pointer-drag":{if(!nL(C))break;const D=this._grabbedManipulators.get(C.pointerId),I=(0,Lt.yw)(D,({manipulator:Ae})=>Ae),x=(0,Lt.yw)(D,({tool:Ae})=>Ae);if((0,Lt.Wi)(I)||(0,Lt.Wi)(x))break;const X=(0,Ko.vT)(C);X.x=(0,iv.uZ)(X.x,0,v.view.width),X.y=(0,iv.uZ)(X.y,0,v.view.height);const he=(0,Lt.Wg)(D).start,Se=this._draggedManipulators.get(C.pointerId);switch(C.action){case"start":case"update":"update"!==C.action&&1!==this._grabbedManipulators.size||(I.dragging=!0,I.events.emit("drag",Se?{action:"update",start:he,screenPoint:X}:{action:"start",start:he,screenPoint:X,pointerType:C.pointerType}),this._draggedManipulators.set(C.pointerId,{tool:x,manipulator:I,start:he}));break;case"end":I.dragging=!1,Se&&I.events.emit("drag",{action:"end",start:he,screenPoint:X}),this._draggedManipulators.delete(C.pointerId),this._handlePointerEnd(C,v)}M();break}case"immediate-click":{const D=(0,Ko.vT)(C),I=this._intersect(D,C.pointerType,v.forEachTool);if(function XK(g){return!!g.native.shiftKey}(C)||v.forEachTool(Se=>{if((!(0,Lt.pC)(I)||I.tool!==Se||Se.automaticManipulatorSelection)&&Se.manipulators){let Ae=!1;Se.manipulators.forEach(({manipulator:Ve})=>{Ve.selected&&(Ve.selected=!1,Ae=!0)}),Ae&&Se.onManipulatorSelectionChanged&&Se.onManipulatorSelectionChanged()}}),(0,Lt.Wi)(I))break;const{manipulator:x,tool:X}=I;if(!x.interactive)break;x.selectable&&X.automaticManipulatorSelection&&(x.selected=!x.selected,X.onManipulatorSelectionChanged&&X.onManipulatorSelectionChanged()),x.events.emit("immediate-click",{screenPoint:D,button:C.button,pointerType:C.pointerType,shiftKey:C.native.shiftKey,stopPropagation:M});break}case"click":{const D=(0,Ko.vT)(C),I=this._intersect(D,C.pointerType,v.forEachTool),x=(0,Lt.pC)(I)?I.manipulator:null;if((0,Lt.Wi)(x)||!x.interactive)break;x.events.emit(C.type,{screenPoint:D,button:C.button,pointerType:C.pointerType,shiftKey:C.native.shiftKey}),M();break}case"double-click":{const D=(0,Ko.vT)(C),I=this._intersect(D,C.pointerType,v.forEachTool),x=(0,Lt.pC)(I)?I.manipulator:null;if((0,Lt.Wi)(x)||!x.interactive)break;x.events.emit("double-click",{screenPoint:D,button:C.button,pointerType:C.pointerType,shiftKey:C.native.shiftKey,stopPropagation:M});break}case"immediate-double-click":{const D=(0,Ko.vT)(C),I=this._intersect(D,C.pointerType,v.forEachTool),x=(0,Lt.pC)(I)?I.manipulator:null;if((0,Lt.Wi)(x)||!x.interactive)break;x.events.emit("immediate-double-click",{screenPoint:D,button:C.button,pointerType:C.pointerType,shiftKey:C.native.shiftKey,stopPropagation:M});break}}this._onFocusChange(v.forEachTool)}_ungrabManipulatorBeforeDragging(C,v,M){C.grabbing=!1,C.events.emit("grab-changed",{action:"end",pointerType:v.pointerType,screenPoint:(0,Ko.vT)(v)}),this._grabbedManipulators.forEach(({manipulator:D},I)=>{D===C&&this._grabbedManipulators.delete(I)}),this._afterManipulatorUngrab(M.setActiveTool)}_handlePointerEnd(C,v){const M=(0,Lt.yw)(this._grabbedManipulators.get(C.pointerId),({manipulator:D})=>D);(0,Lt.Wi)(M)||M.grabbing&&(M.grabbing=!1,M.events.emit("grab-changed",{action:"end",pointerType:C.pointerType,screenPoint:(0,Ko.vT)(C)}),this._grabbedManipulators.delete(C.pointerId),this._afterManipulatorUngrab(v.setActiveTool))}_cursorFromMap(C){let v=null;return(0,Bp.oE)(C,({manipulator:M})=>!((0,Lt.Wi)(M)||!M.interactive||(M.grabbing&&M.grabCursor?(v=M.grabCursor,0):!M.cursor||(v=M.cursor,0)))),v}_onFocusChange(C){this._updateCursor(),this._updateFocusedManipulatorTools(C)}_updateCursor(){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(C){const v=new Set,M=new Set;this._grabbedManipulators.forEach(({tool:D})=>{v.add(D)}),this._hoveredManipulators.forEach(({tool:D})=>{M.add(D)}),C(D=>{D.hasGrabbedManipulators=v.has(D),D.hasHoveredManipulators=M.has(D);const I=this._grabbedManipulators.values(),x=(0,MC.sE)(I,({tool:X})=>X===D);D.firstGrabbedManipulator=(0,Lt.pC)(x)?x.manipulator:null})}clearPointers(C,{forEachTool:v,setActiveTool:M},D=!0,I){const x=(X,he)=>X===C&&((0,Lt.Wi)(I)||I===he);this._grabbedManipulators.forEach(({tool:X,manipulator:he,pointerType:Se},Ae)=>{x(X,he)&&(this._grabbedManipulators.delete(Ae),he.grabbing=!1,he.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:Se}))}),this._draggedManipulators.forEach(({tool:X,manipulator:he},Se)=>{x(X,he)&&(this._draggedManipulators.delete(Se),he.dragging=!1,he.events.emit("drag",{action:"cancel"}))}),D&&this._hoveredManipulators.forEach(({tool:X,manipulator:he},Se)=>{x(X,he)&&(this._hoveredManipulators.delete(Se),he.hovering=!1)}),this._afterManipulatorUngrab(M),this._onFocusChange(v)}_intersect(C,v,M){let D=null;return M(I=>{if(null==I.manipulators||!JM(I))return!1;const x=I.manipulators.intersect(C,v);return!(0,Lt.Wi)(x)&&(D={tool:I,manipulator:x},!0)}),D}updateHoveredStateFromKnownPointers(C){this._pointerLocations.forEach((v,M)=>{this._updateHoveredStateForPointerAtScreenPosition((0,hl.vW)(v.x,v.y),M,v.pointerType,C)})}handleHoverEvent(C,v){"pointer-up"!==C.type&&"immediate-click"!==C.type&&"pointer-move"!==C.type||!tL(C.pointerType)||this._updateHoveredStateForPointerAtScreenPosition((0,Ko.vT)(C),C.pointerId,C.pointerType,v)}_updateHoveredStateForPointerAtScreenPosition(C,v,M,D){let I=this._intersect(C,M,D);const x=(0,Lt.yw)(this._hoveredManipulators.get(v),({manipulator:X})=>X);(0,Lt.pC)(I)&&!I.manipulator.interactive&&(I=null),(0,Lt.pC)(I)&&x===I.manipulator||((0,Lt.pC)(x)&&(x.hovering=!1),(0,Lt.pC)(I)?(I.manipulator.hovering=!0,this._hoveredManipulators.set(v,I)):this._hoveredManipulators.delete(v),this._onFocusChange(D))}_afterManipulatorUngrab(C){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(C(null),this._revertToNullActiveTool=!1)}}function tL(g){return"mouse"===g}function nL(g){return"mouse"!==g.pointerType||0===g.button}const rL="attached",QM="tools";let eu=class extends Qu.r{constructor(g){super(g),this._manipulatorState=new QK,this.tools=new ss.Z,this.cursor=null,this._forEachTool=C=>{for(const v of this.tools.items)if(C(v))return}}initialize(){var g;this.handles.add([this.view.on(XR,g=>{this._handleInputEvent(g)},gs.f.TOOL),...(g=this.tools,[g.on("before-add",C=>{const v=C.item;if(null==v||g.includes(v))return Ai.Z.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void C.preventDefault();v.onAdd()}),g.on("after-remove",C=>{const v=C.item;v.active&&(v.view.activeTool=null),v.destroy()})]),this.tools.on("before-add",({item:g})=>{this._updateToolEditableFlag(g)}),this.tools.on("before-remove",({item:g})=>{this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:g=>{this.activeTool=g},view:this.view}}set activeTool(g){if((0,Lt.pC)(g)&&!this.view.ready)return void Ai.Z.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");if(g===this.activeTool)return;const C=this.activeTool;this._set("activeTool",g),(0,Lt.pC)(C)&&C.deactivate(),(0,Lt.pC)(g)&&g.activate(),this._removeIncompleteTools(g);for(const v of this.tools){this._updateToolEditableFlag(v);const M=JM(v);!(0,Lt.Wi)(this.activeTool)&&M||this._manipulatorState.clearPointers(v,this._manipulatorStateEventArgs,!M)}this._updateCursor()}get updating(){return this.updatingHandles.updating||this.tools.some(g=>g.updating)||(this.textures?.updating??!1)}attach(){"3d"===this.view.type?(this._set("textures",new d0(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([(0,en.YP)(()=>{const{state:g}=this.view;return"camera"in g&&g.camera},()=>this._forEachManipulator(g=>g.onViewChange())),this.view.elevationProvider?.on("elevation-change",g=>this._forEachManipulator(C=>C.onElevationChange(g))),(0,ZR.kB)(()=>this._set("textures",(0,Lt.SC)(this.textures)))],rL)):this.handles.add((0,en.YP)(()=>this.view.extent,()=>this._forEachManipulator(g=>g.onViewChange())))}detach(){(0,Lt.pC)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(rL)}_forEachManipulator(g){this._forEachTool(C=>{C.manipulators&&C.manipulators.forEach(({manipulator:v})=>g(v,C))})}_handleInputEvent(g){let C=!1;const v={...g,stopPropagation:()=>{C=!0,g.stopPropagation()}};(0,Lt.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(v):this._forEachTool(M=>{!C&&M.visible&&M.handleInputEvent(v)}),!C&&"key-down"===g.type&&"Escape"===g.key&&this.activeTool&&(g.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(v,this._manipulatorStateEventArgs),!C&&(0,Lt.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(v),this._manipulatorState.handleHoverEvent(v,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(QM),this._forEachTool(g=>{if(g instanceof Ci.Z){const C=(0,en.YP)(()=>[g.cursor,g.visible,g.editable],()=>{JM(g)||this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs),this._updateCursor()});this.handles.add(C,QM)}g.manipulators&&this.handles.add([g.manipulators.on("after-remove",C=>{this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs,!0,C.item.manipulator)}),g.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],QM)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(g){g.setEditableFlag?.(YM.bH.MANAGER,(0,Lt.Wi)(this.activeTool)||g===this.activeTool)}_updateCursor(){let g=this._manipulatorState.cursor;(0,Lt.Wi)(g)&&this._forEachTool(C=>!(!(0,Lt.pC)(C.cursor)||!C.visible||(g=C.cursor,0))),this._get("cursor")!==g&&this._set("cursor",g)}_removeIncompleteTools(g){this.tools.filter(C=>((0,Lt.Wi)(g)||C!==g)&&!C.created&&C.removeIncompleteOnCancel).forEach(C=>{this.tools.remove(C)})}};(0,ze._)([(0,Ke.Cb)({constructOnly:!0,nonNullable:!0})],eu.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0,nonNullable:!0})],eu.prototype,"textures",void 0),(0,ze._)([(0,Ke.Cb)({value:null})],eu.prototype,"activeTool",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0,type:ss.Z})],eu.prototype,"tools",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],eu.prototype,"cursor",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],eu.prototype,"updating",null),eu=(0,ze._)([(0,cr.j)("esri.views.ToolViewManager")],eu);const qK=eu;let $p=class extends Ci.Z{constructor(g){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===g.mapping?"standard":eH.test(g.id)?"spacemouse":"unknown",this.nativeIndex=g.index}get native(){const g=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<g.length?g[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return tH[this.deviceType]}};(0,ze._)([(0,Ke.Cb)({nonNullable:!0,readOnly:!0})],$p.prototype,"nativeIndex",void 0),(0,ze._)([(0,Ke.Cb)({type:String,readOnly:!0})],$p.prototype,"deviceType",null),(0,ze._)([(0,Ke.Cb)({type:Number,readOnly:!0})],$p.prototype,"axisThreshold",null),$p=(0,ze._)([(0,cr.j)("esri.views.input.gamepad.GamepadInputDevice")],$p);const eH=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),tH={standard:.15,spacemouse:.025,unknown:0},XM=$p;let h0=class extends Ci.Z{constructor(...g){super(...g),this.devices=new ss.Z,this.enabledFocusMode="document"}};(0,ze._)([(0,Ke.Cb)({type:ss.Z.ofType(XM),readOnly:!0})],h0.prototype,"devices",void 0),(0,ze._)([(0,Ke.Cb)({type:["document","view","none"]})],h0.prototype,"enabledFocusMode",void 0),h0=(0,ze._)([(0,cr.j)("esri.views.input.gamepad.GamepadSettings")],h0);const nH=h0;let Mv=class extends Ci.Z{constructor(){super(...arguments),this.gamepad=new nH}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Mv.prototype,"gamepad",void 0),Mv=(0,ze._)([(0,cr.j)("esri.views.input.Input")],Mv);const rH=Mv;let rd=class extends Ci.Z{constructor(g){super(g),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,ze._)([(0,Ke.Cb)({type:Boolean,nonNullable:!0})],rd.prototype,"enabled",void 0),(0,ze._)([(0,Ke.Cb)({type:XM})],rd.prototype,"device",void 0),(0,ze._)([(0,Ke.Cb)({type:["pan","zoom"],nonNullable:!0})],rd.prototype,"mode",void 0),(0,ze._)([(0,Ke.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],rd.prototype,"tiltDirection",void 0),(0,ze._)([(0,Ke.Cb)({type:Number,nonNullable:!0})],rd.prototype,"velocityFactor",void 0),rd=(0,ze._)([(0,cr.j)("esri.views.navigation.gamepad.GamepadSettings")],rd);const iL=rd;let ph=class extends Ci.Z{constructor(g){super(g),this.browserTouchPanEnabled=!0,this.gamepad=new iL,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,ze._)([(0,Ke.Cb)({type:Boolean})],ph.prototype,"browserTouchPanEnabled",void 0),(0,ze._)([(0,Ke.Cb)({type:iL,nonNullable:!0})],ph.prototype,"gamepad",void 0),(0,ze._)([(0,Ke.Cb)({type:Boolean})],ph.prototype,"momentumEnabled",void 0),(0,ze._)([(0,Ke.Cb)({type:Boolean})],ph.prototype,"mouseWheelZoomEnabled",void 0),ph=(0,ze._)([(0,cr.j)("esri.views.navigation.Navigation")],ph);const sL=ph;var oL=T(36947),aL=T(59617);let qM,eS=null;function iH(g){return tS.apply(this,arguments)}function tS(){return(tS=(0,xn.Z)(function*(g){eS||(eS=T.e(8592).then(T.bind(T,82911)).then(C=>qM=C)),yield eS,(0,ei.k_)(g)})).apply(this,arguments)}function lL(g,C,v,M){return nS.apply(this,arguments)}function nS(){return(nS=(0,xn.Z)(function*(g,C,v,M){if(!g)return null;const D=g.spatialReference;return(0,Ro.kR)()||(0,Ro.Up)(D,C)?(0,Ro.iV)(g,C):qM?qM.projectGeometry(g,C,v,M):(yield Promise.race([iH(M),(0,Ro.zD)(M)]),lL(g,C,v,M))})).apply(this,arguments)}let Hi=class extends Ci.Z{constructor(g){super(g),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,Lt.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return(0,Lt.pC)(this.userSpatialReference)?this.userSpatialReference:(0,Lt.Wg)(this._spatialReferenceTask.spatialReference)}get extent(){return(0,Lt.Wg)(this._extentTask.extent)}get heightModelInfo(){return(0,Lt.Wg)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return(0,Lt.Wg)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return(0,Lt.Wg)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return(0,Lt.Wi)(this.userSpatialReference)||this.userSpatialReference.equals((0,Lt.Wg)(this._spatialReferenceTask.spatialReference))?(0,Lt.Wg)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return(0,Lt.Wg)(this._tileInfoTask.tileInfo)}get mapCollections(){const g=this.map?.(),C=[];return(0,Lt.pC)(this.priorityCollection)&&C.push(this.priorityCollection),C.push({parent:g?.basemap,layers:g?.basemap?.baseLayers},{layers:g?.layers},{parent:g?.ground,layers:g?.ground?.layers},{parent:g?.basemap,layers:g?.basemap?.referenceLayers}),C}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:g,updating:C}=this._allLayers;let v=null;for(const D of g){const I=this._getSupportedSpatialReferences(D);if(I.length>0){const x=this._narrowDownSpatialReferenceCandidates(v,I);(0,Lt.pC)(x)&&(v=x)}if((0,Lt.pC)(v)&&1===v.length)break}if(C&&((0,Lt.Wi)(v)||1!==v.length))return{updating:!0};const M=this._pickSpatialReferenceCandidate(v);return{spatialReference:(0,Lt.pC)(M)?M.spatialReference:null,viewingMode:(0,Lt.pC)(M)?M.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:g,updating:C}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(g&&g.length>0&&"tileInfo"in g[0]){const v=g[0].tileInfo;return{tileInfo:v&&v.spatialReference.equals(this.spatialReference)?v:null,updating:!1}}return{updating:C}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const{layers:g,updating:C}=this._allLayers;for(const v of g)if((0,oL.qC)(v)){const M=(0,oL.Ku)(v);if(M)return{heightModelInfo:M,vcsWkid:v.spatialReference?.vcsWkid,latestVcsWkid:v.spatialReference?.latestVcsWkid,updating:!1}}return{updating:C}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const g=this._allLayers,C=g.updating,v=[];for(const M of g.layers){const D="fullExtents"in M&&M.fullExtents||((0,Lt.pC)(M.fullExtent)?[M.fullExtent]:[]),I=this.requiresExtentInSpatialReference?null:D[0],x=D.find(X=>X.spatialReference.equals(this.spatialReference))??I;if(x)return{candidates:[{extent:x,layer:M}],updating:!1};if(this._getSupportedSpatialReferences(M).length>0)for(const X of D)v.push({extent:X,layer:M})}return{candidates:v,updating:C}}get _extentTask(){var g=this;const{candidates:C,updating:v}=this._extentCandidatesTask;if(v)return{updating:v};if((0,Lt.Wi)(C)||0===C.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const M=this._pickExtentCandidate(C),D=this.spatialReference;return M.extent.equals(this._projectExtentTask.input)&&D.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:(0,Lt.pC)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:((0,Lt.pC)(this._projectExtentTask.task)&&(this._projectExtentTask.task=(0,Lt.IM)(this._projectExtentTask.task)),this._projectExtentTask={input:M.extent.clone(),output:null,spatialReference:D.clone(),task:(0,KM.vr)(function(){var I=(0,xn.Z)(function*(x){try{const X=yield lL(M.extent,D,M.layer.portalItem,x);g._projectExtentTask={...g._projectExtentTask,task:null,output:X}}catch{if((0,ei.Hc)(x))return;g._projectExtentTask={...g._projectExtentTask,task:null}}});return function(x){return I.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(g,C){if((0,Lt.Wi)(g))return C;const v=[],M=(D,I)=>(0,Lt.pC)(D)?(0,Lt.pC)(I)?D===I&&D:D:I;for(const D of g)for(const I of C){if(!D.spatialReference.equals(I.spatialReference))continue;const x=M(D.viewingMode,I.viewingMode);if(!1!==x){v.push({spatialReference:D.spatialReference,viewingMode:x});break}}return v.length>0?v:null}_pickSpatialReferenceCandidate(g){const C=this.defaultSpatialReference;return(0,Lt.Wi)(g)||g.length<1?(0,Lt.pC)(C)?{spatialReference:C,viewingMode:null}:null:((0,Lt.pC)(C)&&g.length>1&&g.some(({spatialReference:v})=>v.equals(C))&&(g=g.filter(({spatialReference:v})=>v.equals(C))),g.length>1&&g.some(({viewingMode:v})=>v!==aL.JY.Local)&&(g=g.filter(({viewingMode:v})=>v!==aL.JY.Local)),g[0])}_getSupportedSpatialReferences(g){const C="supportedSpatialReferences"in g&&g.supportedSpatialReferences||(g.spatialReference?[g.spatialReference]:[]);if(0===C.length)return[];const v=[];for(const M of C){const D=this.getSpatialReferenceSupport({spatialReference:M,layer:g});if((0,Lt.pC)(D)){const I=(0,Lt.pC)(D.constraints)?D.constraints:[{spatialReference:M,viewingMode:null}];for(const{spatialReference:x,viewingMode:X}of I)(!this.requiresExtentInSpatialReference||(0,Lt.Wi)(this.userSpatialReference)||x.equals(this.userSpatialReference))&&v.push({spatialReference:x,viewingMode:X})}}return v}_pickExtentCandidate(g){const C=this.spatialReference;return g.find(({extent:v})=>C.equals(v.spatialReference))||g[0]}_collectLayers(g){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const C={layers:[],preloading:-1,updating:!1};for(const v of g)if(this._collectCollection(v,C),C.preloading===this.sourcePreloadCount)break;return{layers:C.layers,updating:C.updating}}_collectCollection(g,C){if(g.layers){switch(this._loadMaybe(g.parent)){case"loading":return C.updating=!0,void++C.preloading;case"failed":return}for(const v of g.layers){switch(this._loadMaybe(v)){case"failed":continue;case"loading":C.updating=!0,++C.preloading;break;case"loaded":C.updating||C.layers.push(v),"layers"in v&&this._collectCollection({layers:v.layers},C)}if(C.preloading===this.sourcePreloadCount)break}}}_loadMaybe(g){return g&&"loadStatus"in g&&null!=g.loadStatus?"not-loaded"===g.loadStatus?(g.load().catch(()=>{}),"loading"):g.loadStatus:"loaded"}};var Sv;(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"required",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],Hi.prototype,"map",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],Hi.prototype,"getSpatialReferenceSupport",void 0),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"defaultSpatialReference",void 0),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"userSpatialReference",void 0),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"sourcePreloadCount",void 0),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"priorityCollection",void 0),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"requiresExtentInSpatialReference",void 0),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"suspended",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"ready",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"heightModelInfoReady",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"spatialReference",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"extent",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"heightModelInfo",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"vcsWkid",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"latestVcsWkid",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"viewingMode",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"tileInfo",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"mapCollections",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"_allLayers",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"_spatialReferenceTask",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"_tileInfoTask",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"_heightModelInfoTask",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Hi.prototype,"_extentCandidatesTask",null),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"_extentTask",null),(0,ze._)([(0,Ke.Cb)()],Hi.prototype,"_projectExtentTask",void 0),Hi=(0,ze._)([(0,cr.j)("esri.views.support.DefaultsFromMap")],Hi);let xr=Sv=class extends((0,Qu.p)(oh.Z.EventedMixin((0,GR.v)(Ci.Z)))){constructor(g){super(g),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Xy.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:C=>C.layerViews}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new HR.J,this.analyses=new Cv,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ss.Z,this.magnifier=new JR,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new YR.Z,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new rH,this.navigation=new sL,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new HK(this),this.persistableViewModels=new ss.Z,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add((0,en.YP)(()=>this.preconditionsReady,C=>{C?(this._currentSpatialReference=this.spatialReference,Sv.views.add(this)):(this._currentSpatialReference=null,Sv.views.remove(this)),this.notifyChange("spatialReference"),!C&&this.ready?(this.toolViewManager?.detach(),(0,Lt.pC)(this.analysisViewManager)&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):C&&!this.ready&&(this._startup(),(0,Lt.pC)(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},en.Z_))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,en.N1)(()=>this.ready)))),this.basemapView=new nd({view:this}),this.layerViewManager=new ZK({view:this,layerViewImporter:{importLayerView:g=>this.importLayerView(g),hasLayerViewModule:g=>this.hasLayerViewModule(g)},supportsGround:this.supportsGround}),this.toolViewManager=new qK({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,en.YP)(()=>this.initialExtentRequired,g=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:g},{sync:!0,initial:!0}),(0,en.YP)(()=>this.ready,g=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=g,this.defaultsFromMap.userSpatialReference=g?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,en.YP)(()=>this._userSpatialReference,g=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=g)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var g=this;let C=null;this.handles.add([(0,en.YP)(()=>this.defaultsFromMap?.ready,v=>{if(v&&!this.spatialReference&&this.map?.allLayers.length>0){if((0,Lt.pC)(C))return;const D=(0,ZR.kB)(()=>C=(0,Lt.IM)(C));C=(0,KM.vr)(function(){var I=(0,xn.Z)(function*(x){try{yield(0,ei.e4)(g.spatialReferenceWarningDelay,null,x)}catch{return}finally{C=null}Ai.Z.getLogger(g.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(x){return I.apply(this,arguments)}}()),this.handles.add(D,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,Lt.SC)(this.graphics),this.analyses=(0,Lt.SC)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,Lt.SC)(this.analysisViewManager),this.toolViewManager=(0,Lt.SC)(this.toolViewManager),this.layerViewManager=(0,Lt.SC)(this.layerViewManager),this.basemapView=(0,Lt.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const g=this.map;this.map=null,g?.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Ai.Z.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(g){this.toolViewManager&&(this.toolViewManager.activeTool=g)}get animation(){return this._get("animation")}set animation(g){this._set("animation",g)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Hi({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:g=>this.getSpatialReferenceSupport(g),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(g){this._set("extent",g)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||WM.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(g){g!==this._get("map")&&(g?.destroyed&&(Ai.Z.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:g}),g=null),WM.Z.isLoadable(g)&&g.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",g))}get spatialReference(){let g=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return g&&this.defaultsFromMap?.required?.heightModelInfo&&(g=g.clone(),g.vcsWkid=this.defaultsFromMap.vcsWkid,g.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),g}set spatialReference(g){const C=!(0,SC.fS)(g,this._get("spatialReference"));this._set("_userSpatialReference",g),C&&(this._set("spatialReference",g),this._spatialReferenceChanged(g))}_spatialReferenceChanged(g){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){const g=this.toolViewManager?this.toolViewManager.cursor:null;return(0,Lt.pC)(g)?g:this._cursor||"default"}set cursor(g){this._cursor=g,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(g){return this.layerViewManager.whenLayerView(g)}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}importLayerView(g){throw new Ar.Z("importLayerView() not implemented")}hasLayerViewModule(g){return!1}validate(){return(0,xn.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(g){return(0,Lt.pC)(this.getSpatialReferenceSupport({spatialReference:g}))}when(g,C){return this.isResolved()&&!this.ready&&Ai.Z.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(g,C)}forceReadyCycle(){this.ready&&((0,en.gx)(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(g){this.toolViewManager.tools.add(g),this.activeTool=g}tryFatalErrorRecovery(){this.fatalError=null}};xr.views=new ss.Z,(0,ze._)([(0,Ke.Cb)()],xr.prototype,"_userSpatialReference",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"activeTool",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"allLayerViews",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"groundView",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"animation",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"basemapView",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"center",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"_defaultsFromMapSettings",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"defaultsFromMap",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"fatalError",void 0),(0,ze._)([(0,Ke.Cb)({type:ev.Z})],xr.prototype,"extent",null),(0,ze._)([(0,Ke.Cb)((0,HM.z)(HR.J,"graphics"))],xr.prototype,"graphics",void 0),(0,ze._)([(0,Ke.Cb)((0,HM.z)(Cv,"analyses"))],xr.prototype,"analyses",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0,type:kK.Z})],xr.prototype,"heightModelInfo",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"interacting",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"navigating",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],xr.prototype,"preconditionsReady",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"typeSpecificPreconditionsReady",void 0),(0,ze._)([(0,Ke.Cb)({type:ss.Z,readOnly:!0})],xr.prototype,"layerViews",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"resolution",null),(0,ze._)([(0,Ke.Cb)({type:JR})],xr.prototype,"magnifier",void 0),(0,ze._)([(0,Ke.Cb)({value:null,type:GM})],xr.prototype,"map",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"padding",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"ready",void 0),(0,ze._)([(0,Ke.Cb)({type:KR.Z})],xr.prototype,"spatialReference",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"spatialReferenceWarningDelay",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"stationary",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"supportsGround",void 0),(0,ze._)([(0,Ke.Cb)({type:WK.Z})],xr.prototype,"timeExtent",void 0),(0,ze._)([(0,Ke.Cb)({type:YR.Z,nonNullable:!0})],xr.prototype,"timeReference",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"tools",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"toolViewManager",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"type",void 0),(0,ze._)([(0,Ke.Cb)({type:Number})],xr.prototype,"scale",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"updating",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"initialExtentRequired",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"initialExtent",null),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"cursor",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"input",void 0),(0,ze._)([(0,Ke.Cb)({type:sL,nonNullable:!0})],xr.prototype,"navigation",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"layerViewManager",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"analysisViewManager",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"width",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"height",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"resizing",void 0),(0,ze._)([(0,Ke.Cb)({value:null,readOnly:!0})],xr.prototype,"size",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"suspended",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"viewEvents",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],xr.prototype,"persistableViewModels",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"_isValid",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"_readyCycleForced",void 0),(0,ze._)([(0,Ke.Cb)()],xr.prototype,"_currentSpatialReference",void 0),xr=Sv=(0,ze._)([(0,cr.j)("esri.views.View")],xr);const sH=xr;let id=class extends GR.D{constructor(g){super(g),this.state="running",this.target=null,this._dfd=null}initialize(){this.addResolvingPromise(new Promise((g,C)=>this._dfd={resolve:g,reject:C}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd?.reject(new Ar.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd?.resolve())}update(g,C){C||(C=(0,ei.y8)(g)?"waiting-for-target":"running"),this._set("target",g),this._set("state",C)}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],id.prototype,"done",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0,type:String})],id.prototype,"state",void 0),(0,ze._)([(0,Ke.Cb)()],id.prototype,"target",void 0),id=(0,ze._)([(0,cr.j)("esri.views.ViewAnimation")],id),(id||(id={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};const rS=id;var Tv=T(78041),Ls=T(24926);class oH{constructor(C,v,M,D){const I=C.targetGeometry,x=v.targetGeometry;D?"string"==typeof D&&(D=(0,Tv.Qc)(D)||Tv.LI.ease):D=Tv.LI.ease,this.easing=D,this.duration=M,this.sCenterX=I.x,this.sCenterY=I.y,this.sScale=C.scale,this.sRotation=C.rotation,this.tCenterX=x.x,this.tCenterY=x.y,this.tScale=v.scale,this.tRotation=v.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(C,v){const M=this.easing(v);let D,I,x,X;v>=1?(D=this.tCenterX,I=this.tCenterY,x=this.tRotation,X=this.tScale):(D=this.sCenterX+M*this.dCenterX,I=this.sCenterY+M*this.dCenterY,x=this.sRotation+M*this.dRotation,X=this.sScale+M*this.dScale),C.targetGeometry.x=D,C.targetGeometry.y=I,C.scale=X,C.rotation=x}}let tu=class extends Ci.Z{constructor(g){super(g),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=Tv.LI.ease,this.view=null,this.viewpoint=new qd.Z({targetGeometry:new zo.Z,scale:0,rotation:0}),this._updateTask=(0,eh.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=(0,Lt.hw)(this._updateTask)}animate(g,C,v){this.stop(),(0,Ls.JG)(this.viewpoint,C),this.transition=new oH(this.viewpoint,g.target,v&&v.duration||this.duration,v&&v.easing||this.easing);const D=()=>{this.animation===g&&this._updateTask&&("finished"===g.state&&(this.transition?.applyRatio(this.viewpoint,1),this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return g.when(D,D),this._startTime=performance.now(),this._updateTask.resume(),this.animation=g,g}animateContinous(g,C){this.stop(),this.updateFunction=C,this.viewpoint=g;const v=new rS({target:g.clone()}),M=()=>{this.animation===v&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return v.when(M,M),this._startTime=performance.now(),this._updateTask.resume(),this.animation=v,v}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(g){const C=this.animation;if(C&&C.state!==rS.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,g.deltaTime);else{const v=this.transition,M=(performance.now()-this._startTime)/v.duration,D=M>=1;v.applyRatio(this.viewpoint,M),D&&this.animation?.finish()}this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,ze._)([(0,Ke.Cb)()],tu.prototype,"animation",void 0),(0,ze._)([(0,Ke.Cb)()],tu.prototype,"duration",void 0),(0,ze._)([(0,Ke.Cb)()],tu.prototype,"transition",void 0),(0,ze._)([(0,Ke.Cb)()],tu.prototype,"easing",void 0),(0,ze._)([(0,Ke.Cb)()],tu.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],tu.prototype,"viewpoint",void 0),tu=(0,ze._)([(0,cr.j)("esri.views.2d.AnimationManager")],tu);const aH=tu;class lH{constructor(C){this.view=C,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{this._updateRequested=!1;const{basemapView:v,graphicsView:M,labelManager:D,layerViews:I,state:{id:x}}=this.view;v?.baseLayerViews.forEach(this._updateLayerView,this),I.forEach(this._updateLayerView,this),v?.referenceLayerViews.forEach(this._updateLayerView,this),(0,Lt.pC)(D)&&(D.lastUpdateId!==x&&(D.viewChange(),D.lastUpdateId=x),D.updateRequested&&D.processUpdate(this._updateParameters)),(0,Lt.pC)(M)&&(M.lastUpdateId!==x&&(M.viewChange(),M.lastUpdateId=x),M.updateRequested&&M.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle?.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const C=this.view;this.stationary=C.stationary,this._updateParameters={state:C.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:C.renderingOptions},this._stationaryHandle=(0,en.YP)(()=>C.stationary,v=>{this.stationary=v,this.requestFrame()}),this._frameTaskHandle=(0,eh.A)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(C){if(!C.attached)return void this.requestUpdate();const v=this.view.state,M=C.lastUpdateId;null!=M&&(this.stationary||C.moving)||(C.moving=!0,C.moveStart()),M!==v.id&&C.viewChange(),this.stationary&&C.moving&&(C.moving=!1,C.moveEnd()),C.lastUpdateId=v.id,C.updateRequested&&C.processUpdate(this._updateParameters),"layerViews"in C&&C.layerViews.forEach(this._updateLayerView,this)}}function Fs(){return Promise.all([Promise.all([T.e(5086),T.e(5314),T.e(5506),T.e(4376)]).then(T.bind(T,34376)),Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(2236),T.e(7643),T.e(5918),T.e(6888),T.e(877)]).then(T.bind(T,10877))])}const p0=()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(2236),T.e(7643),T.e(5918),T.e(8321),T.e(5075),T.e(1310)]).then(T.bind(T,41310))),Zp=()=>Fs().then(()=>Promise.all([T.e(5086),T.e(3536),T.e(6093),T.e(2815),T.e(3871),T.e(3300),T.e(2230)]).then(T.bind(T,82230))),cL={"base-dynamic":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(9798),T.e(8592),T.e(4126)]).then(T.bind(T,54126))),"base-tile":p0,"bing-maps":p0,csv:Zp,"geo-rss":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(5072)]).then(T.bind(T,5072))),feature:Zp,geojson:Zp,graphics:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(3375)]).then(T.bind(T,63375))),group:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(8592),T.e(1405)]).then(T.bind(T,41405))),imagery:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(6926),T.e(8594),T.e(9798),T.e(3808),T.e(8592),T.e(3825)]).then(T.bind(T,53825))),"imagery-tile":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(6926),T.e(8594),T.e(3808),T.e(8592),T.e(8732)]).then(T.bind(T,8732))),kml:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(8594),T.e(9798),T.e(7643),T.e(6888),T.e(8592),T.e(2557)]).then(T.bind(T,82557))),"knowledge-graph":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5624)]).then(T.bind(T,25624))),"link-chart":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5624)]).then(T.bind(T,25624))),"knowledge-graph-sublayer":Zp,"map-image":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(9798),T.e(8321),T.e(8592),T.e(9772)]).then(T.bind(T,69772))),"map-notes":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(8592),T.e(6899)]).then(T.bind(T,36899))),media:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(2236),T.e(7643),T.e(5918),T.e(8592),T.e(3662)]).then(T.bind(T,53662))),"ogc-feature":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(3536),T.e(6093),T.e(2815),T.e(3871),T.e(3300),T.e(2230),T.e(6829)]).then(T.bind(T,96829))),"open-street-map":p0,"oriented-imagery":Zp,route:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(403),T.e(9066)]).then(T.bind(T,9066))),stream:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(3536),T.e(6093),T.e(2815),T.e(3871),T.e(3300),T.e(2230),T.e(9051)]).then(T.bind(T,39051))),"subtype-group":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(3536),T.e(6093),T.e(2815),T.e(3871),T.e(3300),T.e(2230),T.e(5876)]).then(T.bind(T,65876))),tile:p0,"vector-tile":()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(8364),T.e(1363)]).then(T.bind(T,9941))),wcs:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(6926),T.e(8594),T.e(3808),T.e(8592),T.e(8732)]).then(T.bind(T,8732))),"web-tile":p0,wfs:Zp,wms:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(9798),T.e(8592),T.e(6053)]).then(T.bind(T,6053))),wmts:()=>Fs().then(()=>Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(5075),T.e(3789)]).then(T.bind(T,49300))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var oS,uH=T(72258),iS=T(33190),ds=T(67831),sS=T(25748);let fh=oS=class extends((0,r0.iv)(Ci.Z)){constructor(g){super(g),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if((0,Lt.Wi)(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,Ro.iV)(this.geometry,this.spatialReference)}catch(g){return Ai.Z.getLogger(this.declaredClass).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:g}),null}return this.geometry}constrain(g,C){if((0,Lt.Wi)(this.normalizedGeometry))return g;const v=g.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,iS.aV)(this.normalizedGeometry,v):(0,iS.CI)(this.normalizedGeometry,v))return g;const{coordinate:M}=function dH(g,C){const{spatialReference:v}=C,M=[C.x,C.y];let D=Number.POSITIVE_INFINITY,I=0,x=0;const X=[0,0],he="extent"===g.type?[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]:g.rings;for(const Se of he)for(let Ae=0;Ae<Se.length-1;Ae++){(0,sS.Tx)(X,M,Se,Ae);const Ve=(0,ds.d)(M,X);Ve<D&&(D=Ve,I=X[0],x=X[1])}return{coordinate:new zo.Z({x:I,y:x,spatialReference:v}),distance:D}}(this.normalizedGeometry,v);return M&&(g.targetGeometry=M),g}clone(){return new oS({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var aS;(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],fh.prototype,"geometry",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],fh.prototype,"normalizedGeometry",null),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],fh.prototype,"spatialReference",void 0),fh=oS=(0,ze._)([(0,cr.j)("esri.views.2d.constraints.GeometryConstraint")],fh);let f0=aS=class extends((0,r0.iv)(Ci.Z)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(g,C){return this.enabled&&C&&(this.rotationEnabled||(g.rotation=C.rotation)),g}clone(){return new aS({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,ze._)([(0,Ke.Cb)()],f0.prototype,"enabled",void 0),(0,ze._)([(0,Ke.Cb)()],f0.prototype,"rotationEnabled",void 0),f0=aS=(0,ze._)([(0,cr.j)("esri.views.2d.constraints.RotationConstraint")],f0);const dL=f0;var lS;let Pa=lS=class extends((0,r0.iv)(Ci.Z)){constructor(g){super(g),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let g,{lods:C,minScale:v,maxScale:M,minZoom:D,maxZoom:I}=this,x=-1,X=-1,he=!1,Se=!1;if(0!==v&&0!==M&&v<M&&([v,M]=[M,v]),!C||!C.length)return this._set("effectiveMinScale",v),void this._set("effectiveMaxScale",M);C=C.map(Ae=>Ae.clone()),C.sort((Ae,Ve)=>Ve.scale-Ae.scale),C.forEach((Ae,Ve)=>Ae.level=Ve);for(const Ae of C)!he&&v>0&&v>=Ae.scale&&(x=Ae.level,he=!0),!Se&&M>0&&M>=Ae.scale&&(X=g?g.level:-1,Se=!0),g=Ae;-1===D&&(D=0===v?0:x),-1===I&&(I=0===M?C.length-1:X),D=Math.max(D,0),D=Math.min(D,C.length-1),I=Math.max(I,0),I=Math.min(I,C.length-1),D>I&&([D,I]=[I,D]),v=C[D].scale,M=C[I].scale,C.splice(0,D),C.splice(I-D+1,C.length),C.forEach((Ae,Ve)=>{this._lodByScale[Ae.scale]=Ae,this._scales[Ve]=Ae.scale}),this._set("effectiveLODs",C),this._set("effectiveMinZoom",D),this._set("effectiveMaxZoom",I),this._set("effectiveMinScale",v),this._set("effectiveMaxScale",M)}constrain(g,C){if(C&&g.scale===C.scale)return g;const v=this.effectiveMinScale,M=this.effectiveMaxScale,D=g.targetGeometry,I=C&&C.targetGeometry,X=0!==v&&g.scale>v;if(0!==M&&g.scale<M||X){const he=X?v:M;if(C&&I){const Se=(he-C.scale)/(g.scale-C.scale);D.x=I.x+(D.x-I.x)*Se,D.y=I.y+(D.y-I.y)*Se}g.scale=he}return this.snapToZoom&&this.effectiveLODs&&(g.scale=this._getClosestScale(g.scale)),g}fit(g){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(g,null);const C=this.scaleToZoom(g.scale),v=Math.abs(C-Math.floor(C));return g.scale=this.zoomToScale(v>.99?Math.round(C):Math.floor(C)),g}zoomToScale(g){if(!this.effectiveLODs)return 0;g-=this.effectiveMinZoom,g=Math.max(0,g);const C=this._scales;if(g<=0)return C[0];if(g>=C.length)return C[C.length-1];const v=Math.round(g-.5),M=Math.round(g);return C[M]+(M-g)*(C[v]-C[M])}scaleToZoom(g){if(!this.effectiveLODs)return-1;const C=this._scales;let v,M;if(g>=C[0])return this.effectiveMinZoom;if(g<=C[C.length-1])return this.effectiveMaxZoom;for(let D=0;D<C.length-1;D++){if(v=C[D],M=C[D+1],M===g)return D+this.effectiveMinZoom+1;if(v>g&&M<g)return D+this.effectiveMinZoom+1-(g-M)/(v-M)}return-1}snapToClosestScale(g){if(!this.effectiveLODs)return g;const C=this.scaleToZoom(g);return this.zoomToScale(Math.round(C))}snapToNextScale(g,C=.5){if(!this.effectiveLODs)return g*C;const v=Math.round(this.scaleToZoom(g));return this.zoomToScale(v+1)}snapToPreviousScale(g,C=2){if(!this.effectiveLODs)return g*C;const v=Math.round(this.scaleToZoom(g));return this.zoomToScale(v-1)}clone(){return new lS({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(g){return this._lodByScale[g]||(g=this._scales.reduce((C,v)=>Math.abs(v-g)<=Math.abs(C-g)?v:C,this._scales[0])),this._lodByScale[g].scale}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Pa.prototype,"effectiveLODs",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Pa.prototype,"effectiveMinZoom",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Pa.prototype,"effectiveMaxZoom",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Pa.prototype,"effectiveMinScale",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Pa.prototype,"effectiveMaxScale",void 0),(0,ze._)([(0,Ke.Cb)()],Pa.prototype,"lods",void 0),(0,ze._)([(0,Ke.Cb)()],Pa.prototype,"minZoom",void 0),(0,ze._)([(0,Ke.Cb)()],Pa.prototype,"maxZoom",void 0),(0,ze._)([(0,Ke.Cb)()],Pa.prototype,"minScale",void 0),(0,ze._)([(0,Ke.Cb)()],Pa.prototype,"maxScale",void 0),(0,ze._)([(0,Ke.Cb)()],Pa.prototype,"snapToZoom",void 0),Pa=lS=(0,ze._)([(0,cr.j)("esri.views.2d.constraints.ZoomConstraint")],Pa);const hL=Pa,hH={base:null,key:"type",typeMap:{extent:ev.Z,polygon:qZ.Z}};let Ns=class extends Ci.Z{constructor(g){super(g),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(g){this._set("geometry",g||null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _defaultLODs(){const g=this.view?.defaultsFromMap?.tileInfo,C=this.view?.spatialReference;return g&&C&&g.spatialReference.equals(C)?g.lods:null}get _geometry(){return new fh({geometry:this.geometry,spatialReference:this.view?.spatialReference})}get _rotation(){return new dL({rotationEnabled:this.rotationEnabled})}get _zoom(){const g=this._get("_zoom"),C=this.lods||this._defaultLODs,v=this.minZoom,M=this.maxZoom,D=this.minScale,I=this.maxScale,x=this.snapToZoom;return g&&g.lods===C&&g.minZoom===v&&g.maxZoom===M&&g.minScale===D&&g.maxScale===I&&g.snapToZoom===x?g:new hL({lods:C,minZoom:v,maxZoom:M,minScale:D,maxScale:I,snapToZoom:x})}canZoomInTo(g){const C=this.effectiveMaxScale;return 0===C||g>=C}canZoomOutTo(g){const C=this.effectiveMinScale;return 0===C||g<=C}constrain(g,C){return this._zoom.constrain(g,C),this._rotation.constrain(g,C),this._geometry.constrain(g,C),g}constrainByGeometry(g){return this._geometry.constrain(g)}fit(g){return this._zoom.fit(g)}zoomToScale(g){return this._zoom.zoomToScale(g)}scaleToZoom(g){return this._zoom.scaleToZoom(g)}snapScale(g){return this._zoom.snapToClosestScale(g)}snapToNextScale(g){return this._zoom.snapToNextScale(g)}snapToPreviousScale(g){return this._zoom.snapToPreviousScale(g)}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ns.prototype,"effectiveLODs",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ns.prototype,"effectiveMinScale",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ns.prototype,"effectiveMaxScale",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ns.prototype,"effectiveMinZoom",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ns.prototype,"effectiveMaxZoom",null),(0,ze._)([(0,Ke.Cb)({types:hH,value:null})],Ns.prototype,"geometry",null),(0,ze._)([(0,Ke.Cb)({type:[uH.Z]})],Ns.prototype,"lods",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"minScale",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"maxScale",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"minZoom",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"maxZoom",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"rotationEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"snapToZoom",void 0),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ns.prototype,"version",null),(0,ze._)([(0,Ke.Cb)()],Ns.prototype,"_defaultLODs",null),(0,ze._)([(0,Ke.Cb)({type:fh})],Ns.prototype,"_geometry",null),(0,ze._)([(0,Ke.Cb)({type:dL})],Ns.prototype,"_rotation",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0,type:hL})],Ns.prototype,"_zoom",null),Ns=(0,ze._)([(0,cr.j)("esri.views.2d.MapViewConstraints")],Ns);const pL=Ns;var hS,m0=T(99770),fL=T(39863),Pv=T(31478),pH=T(12225),cS=T(46342),Gp=T(30217),uS=T(49966),mL=T(9545);function dS(g){return function fH(g){return g instanceof Float32Array&&g.length>=2}(g)||function mH(g){return Array.isArray(g)&&g.length>=2}(g)}const nu=[0,0];let sd=hS=class extends _v.wq{constructor(g){super(g),this._viewpoint2D={center:(0,m0.a)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new ev.Z,this.id=0,this.inverseTransform=(0,cS.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,cS.c)(),this.transformNoRotation=(0,cS.c)(),this.displayMat3=(0,uS.c)(),this.displayViewMat3=(0,uS.c)(),this.viewMat3=(0,uS.c)(),this.viewMat2d=(0,pH.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(g){this._set("pixelRatio",g),this._update()}set size(g){this._set("size",g),this._update()}set viewpoint(g){if(g){const C=this._viewpoint2D,v=g.targetGeometry;C.center[0]=v.x,C.center[1]=v.y,C.rotation=g.rotation,C.scale=g.scale,C.spatialReference=v.spatialReference}this._update()}copy(g){const C=this.size,v=this.viewpoint;return v&&C?(this.viewpoint=(0,Ls.JG)(v,g.viewpoint),this._set("size",(0,ds.c)(C,g.size))):(this.viewpoint=g.viewpoint.clone(),this._set("size",[g.size[0],g.size[1]])),this._set("pixelRatio",g.pixelRatio),this}clone(){return new hS({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(g,C,v){return dS(C)?(0,ds.t)(g,C,this.inverseTransform):(nu[0]=C,nu[1]=v,(0,ds.t)(g,nu,this.inverseTransform))}toScreen(g,C,v){return dS(C)?(0,ds.t)(g,C,this.transform):(nu[0]=C,nu[1]=v,(0,ds.t)(g,nu,this.transform))}toScreenNoRotation(g,C,v){return dS(C)?(0,ds.t)(g,C,this.transformNoRotation):(nu[0]=C,nu[1]=v,(0,ds.t)(g,nu,this.transformNoRotation))}getScreenTransform(g,C){const{center:v}=this._viewpoint2D,M=this._get("pixelRatio")||1,D=this._get("size");return(0,Ls.Rb)(g,v,D,C,0,M),g}_update(){const{center:g,spatialReference:C,scale:v,rotation:M}=this._viewpoint2D,D=this._get("pixelRatio")||1,I=this._get("size"),x=new qd.Z({targetGeometry:new zo.Z(g[0],g[1],C),scale:v,rotation:M});if(this._set("viewpoint",x),!I||!C||!v)return;this.resolution=(0,Ls.uG)(x),this.rotation=M,this.scale=v,this.spatialReference=C,(0,ds.c)(this.center,g),(0,Gp.s)(this.displayMat3,0!==I[0]?2/I[0]:0,0,0,0,0!==I[1]?-2/I[1]:0,0,-1,1,1);const Se=(0,Gp.g)(this.viewMat3),Ae=(0,mL.f)(I[0]/2,I[1]/2),Ve=(0,mL.f)(-I[0]/2,-I[1]/2),qe=(0,fL.t)(M);(0,Gp.h)(Se,Se,Ae),(0,Gp.r)(Se,Se,qe),(0,Gp.h)(Se,Se,Ve),(0,Gp.m)(this.displayViewMat3,this.displayMat3,Se);const rt=(0,Pv.a)(this.viewMat2d,Ae);return(0,Pv.r)(rt,rt,qe),(0,Pv.t)(rt,rt,Ve),(0,Ls.bk)(this.extent,x,I),(0,Ls.Ck)(this.transform,x,I,D),(0,Pv.c)(this.inverseTransform,this.transform),(0,Ls.Jp)(this.transformNoRotation,x,I,D),this.worldScreenWidth=(0,Ls.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],sd.prototype,"id",void 0),(0,ze._)([(0,Ke.Cb)({value:1,json:{write:!0}})],sd.prototype,"pixelRatio",null),(0,ze._)([(0,Ke.Cb)({json:{write:!0}})],sd.prototype,"size",null),(0,ze._)([(0,Ke.Cb)()],sd.prototype,"spatialReference",void 0),(0,ze._)([(0,Ke.Cb)({type:qd.Z,json:{write:!0}})],sd.prototype,"viewpoint",null),sd=hS=(0,ze._)([(0,cr.j)("esri.views.2d.ViewState")],sd);const gL=sd;var pS,fS;let ru=pS=class extends Ci.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new pS({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,ze._)([(0,Ke.Cb)()],ru.prototype,"left",void 0),(0,ze._)([(0,Ke.Cb)()],ru.prototype,"top",void 0),(0,ze._)([(0,Ke.Cb)()],ru.prototype,"right",void 0),(0,ze._)([(0,Ke.Cb)()],ru.prototype,"bottom",void 0),ru=pS=(0,ze._)([(0,cr.j)("esri.views.2d.PaddedViewState.Padding")],ru);let Kp=fS=class extends gL{constructor(...g){super(...g),this.paddedViewState=new gL,this._updateContent=(()=>{const C=(0,m0.a)();return()=>{const v=this._get("size"),M=this._get("padding");if(!v||!M)return;const D=this.paddedViewState;(0,ds.s)(C,M.left+M.right,M.top+M.bottom),(0,ds.a)(C,v,C),(0,ds.c)(D.size,C);const I=D.viewpoint;I&&(this.viewpoint=I)}})(),this.addHandles((0,en.YP)(()=>[this.size,this.padding],()=>this._updateContent(),en.Z_)),this.padding=new ru,this.size=[0,0]}set padding(g){this._set("padding",g||new ru)}set viewpoint(g){if(g){const C=g.clone();this.paddedViewState.viewpoint=g,(0,Ls.H4)(C,g,this._get("size"),this._get("padding"));const v=this._viewpoint2D,M=C.targetGeometry;v.center[0]=M.x,v.center[1]=M.y,v.rotation=C.rotation,v.scale=C.scale,v.spatialReference=M.spatialReference,this._update()}}clone(){return new fS({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,ze._)([(0,Ke.Cb)()],Kp.prototype,"paddedViewState",void 0),(0,ze._)([(0,Ke.Cb)({type:ru})],Kp.prototype,"padding",null),(0,ze._)([(0,Ke.Cb)()],Kp.prototype,"viewpoint",null),Kp=fS=(0,ze._)([(0,cr.j)("esri.views.2d.PaddedViewState")],Kp);const gH=Kp;T(17083);var yH=T(9598);function mS(g,C){switch(C){case"primary":return"touch"===g.pointerType||0===g.button;case"secondary":return"touch"!==g.pointerType&&2===g.button;case"tertiary":return"touch"!==g.pointerType&&1===g.button}}T(58098),T(8480),T(79527);class yL extends Fo.a{constructor(C,v){super(!0),this._view=C,this.registerIncoming("double-click",v,M=>this._handleDoubleClick(M,v))}_handleDoubleClick(C,v){mS(C.data,"primary")&&(C.stopPropagation(),v?this._view.mapViewNavigation.zoomOut([C.data.x,C.data.y]):this._view.mapViewNavigation.zoomIn([C.data.x,C.data.y]))}}class vH extends Fo.a{constructor(C,v,M){super(!0),this.view=C,this.pointerType=v,this.registerIncoming("double-tap-drag",M,D=>this._handleDoubleTapDrag(D))}_handleDoubleTapDrag(C){const{data:v}=C,{pointerType:M}=v;if(M!==this.pointerType)return;C.stopPropagation();const{action:D,delta:I}=v,{view:x}=this,{mapViewNavigation:X}=x;switch(D){case"begin":{const{scale:he}=x;this._startScale=he,this._currentScale=he,this._previousDelta=I,X.begin();break}case"update":{if(this._previousDelta.y===I.y)return;this._previousDelta=I;const Se=this._startScale*1.015**I.y;X.setViewpointImmediate(Se/this._currentScale),this._currentScale=Se;break}case"end":{const{constraints:he}=x,{effectiveLODs:Se,snapToZoom:Ae}=he;if(!Ae||!Se)return void X.end();const Ve=he.snapScale(this._currentScale),qe=(I.y>0?Math.max(Ve,he.snapToPreviousScale(this._startScale)):Math.min(Ve,he.snapToNextScale(this._startScale)))/this._currentScale;X.zoom(qe);break}}}}class Dv{constructor(C){this._callbacks=C,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(C){const v=C.data,M=v.pointers.size;switch(v.action){case"start":this._currentCount=M,this._emitStart(C);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=M,this._emitStart(C);break;case"update":this._emitUpdate(C);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=M,this._emitStart(C);break;case"end":this._emitEnd(C),this._currentCount=0}this._previousEvent=C}_emitStart(C){this._startEvent=C,this._callbacks.condition?.(this._currentCount,C)&&this._callbacks.start(this._currentCount,C,this._startEvent)}_emitUpdate(C){this._callbacks.condition?.(this._currentCount,C)&&this._callbacks.update(this._currentCount,C,this._startEvent)}_emitEnd(C){this._callbacks.condition?.(this._currentCount,C)&&this._callbacks.end(this._currentCount,C,this._startEvent),this._startEvent=null}}class _H extends Fo.a{constructor(C,v,M){super(!0),this.view=C,this.pointerAction=v,this.registerIncoming("drag",M,D=>this._handleDrag(D)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(C){super.onInstall(C),this._dragEventSeparator=new Dv({start:(v,M)=>{this.view.mapViewNavigation.pan.begin(this.view,M.data),M.stopPropagation()},update:(v,M)=>{this.view.mapViewNavigation.pan.update(this.view,M.data),M.stopPropagation()},end:(v,M)=>{this.view.mapViewNavigation.pan.end(this.view,M.data),M.stopPropagation()},condition:(v,M)=>1===v&&mS(M.data,this.pointerAction)})}_handleDrag(C){const v=this.view.mapViewNavigation;v.pinch.zoomMomentum||v.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(C)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class EH extends Fo.a{constructor(C,v,M){super(!0),this._view=C,this.pointerAction=v;const D=this._view.mapViewNavigation;this._dragEventSeparator=new Dv({start:(I,x)=>{D.rotate.begin(this._view,x.data),x.stopPropagation()},update:(I,x)=>{D.rotate.update(this._view,x.data),x.stopPropagation()},end:(I,x)=>{D.rotate.end(),x.stopPropagation()},condition:(I,x)=>1===I&&mS(x.data,this.pointerAction)}),this.registerIncoming("drag",M,I=>this._dragEventSeparator.handle(I))}}var gl=T(84161);function Nl(g){let C=g*g;return g<0&&(C*=-1),C}class SH extends Fo.a{constructor(C){super(!0),this._view=C,this._frameTask=null,this._watchHandles=new Rl.Z,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",v=>this._handleGamePadEvent(v)),this._handle.pause()}onInstall(C){super.onInstall(C),this._watchHandles.add([(0,en.YP)(()=>this._view.navigation.gamepad?.enabled,v=>{v?(this._handle.resume(),this._frameTask||(this._frameTask=(0,eh.A)({update:M=>this._frameUpdate(M.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},en.nn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(C){const v=this._view.navigation.gamepad.device;v&&C.data.device!==v||this._currentDevice&&this._currentDevice!==C.data.device||("end"===C.data.action?(this._currentDevice=null,function bH(g){g.translation[0]=0,g.translation[1]=0,g.translation[2]=0,g.heading=0,g.tilt=0}(this._transformation)):(this._currentDevice=C.data.device,function CH(g,C,v){const M=v,D=g.state,I=g.device,x="forward-down"===C.tiltDirection?1:-1;"standard"===I.deviceType?(M.translation[0]=Nl(D.axes[0]),M.translation[1]=Nl(D.axes[1]),M.translation[2]=Nl(D.buttons[7])-Nl(D.buttons[6]),M.heading=Nl(D.axes[2]),M.tilt=Nl(D.axes[3])):"spacemouse"===I.deviceType&&(M.translation[0]=1.2*Nl(D.axes[0]),M.translation[1]=1.2*Nl(D.axes[1]),M.translation[2]=2*-Nl(D.axes[2]),M.heading=1.2*Nl(D.axes[5]),M.tilt=1.2*Nl(D.axes[3])),M.tilt*=x,(0,gl.g)(M.translation,M.translation,1)}(C.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(C){const v=this._transformation;if(function MH(g){return 0===g.translation[0]&&0===g.translation[1]&&0===g.translation[2]&&0===g.heading&&0===g.tilt&&0===g.zoom}(v))return;const M=this._view.viewpoint.clone(),I=PH*this._view.navigation.gamepad.velocityFactor*C;(0,Ls.Rx)(M,M,[v.translation[0]*I,-v.translation[1]*I]);const he=this._view.size;(0,Ls.UZ)(M,M,1+v.translation[2]*DH*C,this._view.constraints.rotationEnabled?-v.heading*TH*C:0,[he[0]/2,he[1]],he);const Ae=this._view.constraints.constrain(M,this._view.viewpoint);this._view.viewpoint=Ae}}const TH=.06,PH=.7,DH=6e-4;class wH extends Fo.a{constructor(C,v,M){super(!0),this.view=C,this.keys=v,this._pressed=!1,this._keyMap={[v.left]:"left",[v.right]:"right",[v.up]:"up",[v.down]:"down"},this.registerIncoming("key-down",M,D=>this._handleKeyDown(D)),this.registerIncoming("key-up",M,D=>this._handleKeyUp(D)),this.registerIncoming("blur",M,()=>this._handleBlur())}_handleKeyDown(C){C.data.repeat||this._handleKey(C,!0)}_handleKeyUp(C){this._handleKey(C,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(C,v){const M=this._keyMap[C.data.key];if(this._pressed=null!=M,this._pressed){if(v)switch(this.view.mapViewNavigation.begin(),M){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();C.stopPropagation()}}}class IH extends Fo.a{constructor(C,v,M){super(!0),this.view=C,this.keys=v,this._pressed=!1,this._keyToDirection={[v.clockwiseOption1]:"clockwise",[v.clockwiseOption2]:"clockwise",[v.counterClockwiseOption1]:"counterClockwise",[v.counterClockwiseOption2]:"counterClockwise",[v.resetOption1]:"reset",[v.resetOption2]:"reset"},this.registerIncoming("key-down",M,D=>this._handleKeyDown(D)),this.registerIncoming("key-up",M,D=>this._handleKeyUp(D)),this.registerIncoming("blur",M,()=>this._handleBlur())}_handleKeyDown(C){C.data.repeat||this._handleKey(C,!0)}_handleKeyUp(C){this._handleKey(C,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(C,v){const M=C.modifiers;if(M.size>0&&!M.has("Shift")||!this.view.constraints.rotationEnabled)return;const D=this._keyToDirection[C.data.key];if(this._pressed=null!=D,this._pressed){if(v)switch(this.view.mapViewNavigation.begin(),D){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();C.stopPropagation()}}}var Hp,g;(g=Hp||(Hp={}))[g.IN=0]="IN",g[g.OUT=1]="OUT";class OH extends Fo.a{constructor(C,v,M){super(!0),this.view=C,this.keys=v,this._keysToZoomAction={},this.registerIncoming("key-down",M,D=>this._handleKeyDown(D)),v.zoomIn.forEach(D=>this._keysToZoomAction[D]=Hp.IN),v.zoomOut.forEach(D=>this._keysToZoomAction[D]=Hp.OUT)}_handleKeyDown(C){this._handleKey(C)}_handleKey(C){const v=C.modifiers;if(v.size>0&&!v.has("Shift"))return;const{key:M}=C.data;if(!(M in this._keysToZoomAction))return;const D=this._keysToZoomAction[M],{mapViewNavigation:I}=this.view;let x=null;switch(D){case Hp.IN:x=I.zoomIn();break;case Hp.OUT:x=I.zoomOut();break;default:return}I.begin(),x.then(()=>I.end()),C.stopPropagation()}}class xH extends Fo.a{constructor(C,v){super(!0),this._view=C,this._canZoom=!0,this.registerIncoming("mouse-wheel",v,M=>this._handleMouseWheel(M))}_handleMouseWheel(C){if(!this._view.navigation.mouseWheelZoomEnabled||(C.preventDefault(),C.stopPropagation(),!this._canZoom))return;const v=this._view.mapViewNavigation,{x:M,y:D,deltaY:I}=C.data,X=v.zoom(1/.6**(1/60*I),[M,D]);X&&(this._canZoom=!1,X.catch(()=>{}).then(()=>{this._canZoom=!0,v.end()}))}}class RH extends Fo.a{constructor(C){super(!0),this.view=C,this.registerIncoming("drag",M=>this._handleDrag(M)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const v=this.view.mapViewNavigation;this._dragEventSeparator=new Dv({start:(M,D)=>{v.pinch.begin(this.view,D.data),D.stopPropagation()},update:(M,D)=>{v.pinch.update(this.view,D.data),D.stopPropagation()},end:(M,D)=>{v.pinch.end(this.view),D.stopPropagation()},condition:M=>M>=2})}_handleDrag(C){this._dragEventSeparator.handle(C)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var LH=T(25441);function vL(g){const C=g.native;return C?{buttons:C.buttons.map(v=>v.pressed?v.value?v.value:1:0),axes:C.axes.map(v=>function jH(g,C){const v=Math.abs(g);return v<C?0:Math.sign(g)*(v-C)/(1-C)}(v,g.axisThreshold))}:{buttons:[],axes:[]}}class UH{constructor(C,v){this._element=C,this._input=v,this._hasEventListeners=!1,this._onConnectGamepad=I=>{this._connectGamepad(I.gamepad)},this._onDisconnectGamepad=I=>{const x=I.gamepad,X=x.index,he=this._inputDevices[X];he&&(this._emitGamepadEvent(x,vL(he),!1),this._inputDevices.splice(X,1),this._latestUpdate.splice(X,1),this._input.gamepad.devices.remove(he),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const M="getGamepads"in window.navigator,D=window.isSecureContext;this.supported=M&&D,this.supported&&(this._forEachGamepad(I=>this._connectGamepad(I)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(C){this._hasEventListeners!==C&&(this._hasEventListeners=C,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(C){this._callback=C}_connectGamepad(C){const v=new XM(C);"unknown"!==v.deviceType&&(this._inputDevices[C.index]=v,this._input.gamepad.devices.add(v)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,eh.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const C=document.hasFocus(),v=this._element.contains(document.activeElement),M="document"===this._input.gamepad.enabledFocusMode&&!C||"view"===this._input.gamepad.enabledFocusMode&&!v;this._forEachGamepad(D=>{const I=this._inputDevices[D.index];if(!I)return;const x=this._latestUpdate[D.index],X=vL(I),he=M||function NH(g){for(let C=0;C<g.axes.length;C++)if(0!==g.axes[C])return!1;for(let C=0;C<g.buttons.length;C++)if(0!==g.buttons[C])return!1;return!0}(X);x&&(x.timestamp===D.timestamp||!x.active&&he||function FH(g,C){if(g.axes.length!==C.axes.length||g.buttons.length!==C.buttons.length)return!1;for(let v=0;v<g.axes.length;v++)if(g.axes[v]!==C.axes[v])return!1;for(let v=0;v<g.buttons.length;v++)if(g.buttons[v]!==C.buttons[v])return!1;return!0}(x.state,X))||this._emitGamepadEvent(D,X,!he)})}_forEachGamepad(C){const v=window.navigator.getGamepads();for(let M=0;M<v.length;M++){const D=v[M];this._validate(D)&&C(D)}}_emitGamepadEvent(C,v,M){const D=this._latestUpdate[C.index],I=D&&D.active;if(!I&&!M)return;const x=!I&&M?"start":I&&M?"update":"end";this._latestUpdate[C.index]={timestamp:C.timestamp,state:v,active:M},this._callback&&this._callback({device:this._inputDevices[C.index],state:v,action:x})}_validate(C){if(!C||!C.connected)return!1;for(let v=0;v<C.axes.length;v++)if(isNaN(C.axes[v]))return!1;return!0}}const _L=(0,Hc.Z)("edge"),BH=(0,Hc.Z)("chrome"),VH=(0,Hc.Z)("ff"),WH=(0,Hc.Z)("safari"),EL="esri-view-surface",Yp={touchNone:`${EL}--touch-none`,touchPan:`${EL}--touch-pan`};let kH=(()=>{class g{constructor(v,M){this._input=M,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=v,v.getAttribute("tabindex")||v.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new UH(v,this._input),this._gamepadSource.onEvent=D=>this._callback("gamepad",D)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(v=>{this._releasePointerCaptureSafe(v)}),this._gamepadSource=(0,Lt.SC)(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(v){this._browserTouchPanningEnabled=v,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(v){this._callback=v}set activeEvents(v){for(const M in this._active)v&&v.has(M)||(this._element.removeEventListener(gS[M],this._active[M]),delete this._active[M]);v&&v.forEach(M=>{if(!this._active[M]&&gS[M]){const D=(this._eventHandlers[M]||this._handleDefault).bind(this,M);this._element.addEventListener(gS[M],D),this._active[M]=D}}),this._gamepadSource.hasEventListeners=v?.has("gamepad")??!1}setPointerCapture(v,M){M?(this._element.setPointerCapture(v.pointerId),this._activePointerCaptures.add(v.pointerId)):(this._releasePointerCaptureSafe(v.pointerId),this._activePointerCaptures.delete(v.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Yp.touchNone:Yp.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Yp.touchPan:Yp.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Yp.touchNone),this._element.classList.remove(Yp.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(v){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(v))return;this._element.releasePointerCapture(v)}catch{}}_updateNormalizedPointerLikeEvent(v,M){const D=(0,Ko.Eu)(this._element,v);return g.test.disableSubpixelCoordinates&&(D.x=Math.round(D.x),D.y=Math.round(D.y)),M.x=D.x,M.y=D.y,M}_handleKey(v,M){const D=(0,LH.kK)(M);D&&"key-up"===v&&this._keyDownState.delete(D);const I={native:M,key:D,repeat:!!D&&this._keyDownState.has(D)};D&&"key-down"===v&&this._keyDownState.add(I.key),this._callback(v,I)}_handlePointer(v,M){const D=this._updateNormalizedPointerLikeEvent(M,{native:M,x:0,y:0,pointerType:M.pointerType,button:M.button,buttons:M.buttons,eventId:this._eventId++});this._callback(v,D)}_handlePointerPreventDefault(v,M){const D=this._updateNormalizedPointerLikeEvent(M,{native:M,x:0,y:0,pointerType:M.pointerType,button:M.button,buttons:M.buttons,eventId:this._eventId++});M.preventDefault(),this._callback(v,D)}_handleMouseWheel(v,M){let D=M.deltaY;switch(M.deltaMode){case 0:_L&&(D=D/document.documentElement.clientHeight*600);break;case 1:D*=30;break;case 2:D*=900}_L?D*=.7:BH||WH?D*=.6:VH&&(D*=1.375);const x=Math.abs(D);x>100&&(D=D/x*200/(1+Math.exp(-.02*(x-100))));const X=this._updateNormalizedPointerLikeEvent(M,{native:M,x:0,y:0,deltaY:D});this._callback(v,X)}_handlePointerCaptureLost(v,M){this._activePointerCaptures.delete(M.pointerId),this._handleDefault(v,M)}_handleDefault(v,M){const D={native:M};M.preventDefault(),this._callback(v,D)}_preventAltKeyDefault(v){"Alt"===v.key&&v.preventDefault()}_preventMultiTouchPanning(v){v.touches.length>1&&v.preventDefault()}}return g.test={disableSubpixelCoordinates:!1},g})();const gS={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class zH extends Fo.a{constructor(){super(!0),this.registerIncoming("context-menu",C=>{C.data.native.preventDefault()})}}var wv=T(84244);function yS(g,C){return Math.abs(C.x-g.x)+Math.abs(C.y-g.y)}function mh(g){const{native:C}=g,{pointerId:v,button:M,pointerType:D}=C;return"mouse"===D?`${v}:${M}`:`${D}`}class GH extends Fo.a{constructor(C=250,v=10,M=350,D=35,I=wv.m){super(!1),this._maximumDoubleClickDelay=C,this._maximumDoubleClickDistance=v,this._maximumDoubleTouchDelay=M,this._maximumDoubleTouchDistance=D,this._clock=I,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(C=>C.doubleClickTimer=(0,Lt.hw)(C.doubleClickTimer))}get hasPendingInputs(){return(0,Bp.oE)(this._pointerState,C=>null!=C.doubleClickTimer)}_clearDoubleClickTimer(C,v){const M=this._pointerState.get(C);M&&(M.doubleClickTimer=(0,Lt.hw)(M.doubleClickTimer),v&&this._click.emit(M.event.data,void 0,M.event.modifiers),this._pointerState.delete(C),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(C){const v=this._pointerState.get(C);1===v.pointerDownCount&&this._click.emit(v.event.data,void 0,v.event.modifiers),v.doubleClickTimer=null,this._pointerState.delete(C),this.refreshHasPendingInputs()}_getPointerId(C){const{pointerId:v,pointerType:M,button:D}=C.native;return"mouse"===M?`${v}:${D}`:`${M}`}_handleImmediateClick(C){const v=C.data,{pointerType:M}=v.native,D=this._getPointerId(v);if(!this._pointerState.has(D))return void this._startClick(C);const I=this._pointerState.get(D),{data:x,modifiers:X}=I.event,he="touch"===M?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;yS(x,v)>he?(this._clearDoubleClickTimer(D,!0),this._startClick(C)):(this._clearDoubleClickTimer(D,!1),2===I.pointerDownCount&&this._doubleClick.emit(x,void 0,X))}_handlePointerDown(C){const v=mh(C.data),M=this._pointerState.get(v);M&&(M.pointerDownCount+=1)}_startClick(C){const{data:v}=C,{native:{pointerType:M}}=v,D=mh(v),x=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(D),"touch"===M?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(D,{event:C,doubleClickTimer:x,pointerDownCount:1}),this.refreshHasPendingInputs()}}class KH extends Fo.a{constructor(C=250,v=10,M=350,D=35,I=wv.m){super(!1),this._maximumDoubleClickDelay=C,this._maximumDoubleClickDistance=v,this._maximumDoubleTouchDelay=M,this._maximumDoubleTouchDistance=D,this._clock=I,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,hl.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Dv({start:(x,X)=>this._dragStart(x,X),update:(x,X)=>this._dragUpdate(X),end:(x,X)=>this._dragEnd(X)}),this.registerIncoming("drag",x=>this._dragEventSeparator.handle(x)),this.registerIncoming("pointer-down",x=>this._handlePointerDown(x)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(C=>{C.doubleTapTimeout=(0,Lt.hw)(C.doubleTapTimeout)})}get hasPendingInputs(){return(0,Bp.oE)(this._pointerState,C=>null!=C.doubleTapTimeout)}_clearPointerDown(C){const v=this._pointerState.get(C);v&&(v.doubleTapTimeout=(0,Lt.hw)(v.doubleTapTimeout),this._pointerState.delete(C),this.refreshHasPendingInputs())}_createDoubleTapDragData(C,v,M){const{button:D,buttons:I,pointer:x,pointers:X,pointerType:he,timestamp:Se}=M;return{action:C,delta:v,button:D,buttons:I,pointer:x,pointers:X,pointerType:he,timestamp:Se}}_dragStart(C,v){if(!this._doubleTapDragReady||1!==C)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:M,modifiers:D}=v,{center:I}=M;this._dragStartCenter=I;const x=this._createDoubleTapDragData("begin",(0,hl.vW)(0,0),M);this._doubleTapDrag.emit(x,void 0,D),v.stopPropagation()}_dragUpdate(C){if(!this._doubleTapDragActive)return;const{data:v,modifiers:M}=C,{center:D}=v,I=(0,hl.vW)(D.x-this._dragStartCenter.x,D.y-this._dragStartCenter.y),x=this._createDoubleTapDragData("update",I,v);this._doubleTapDrag.emit(x,void 0,M),C.stopPropagation()}_dragEnd(C){if(!this._doubleTapDragActive)return;const{data:v,modifiers:M}=C,{center:D}=v,I=(0,hl.vW)(D.x-this._dragStartCenter.x,D.y-this._dragStartCenter.y),x=this._createDoubleTapDragData("end",I,v);this._doubleTapDrag.emit(x,void 0,M),this._doubleTapDragActive=!1,C.stopPropagation()}_handlePointerDown(C){const{data:v}=C,M=mh(v),D=this._pointerState.get(M),{pointerType:I}=v.native;if(D){const x="touch"===I?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(M),yS(D.event.data,v)>x?this._storePointerDown(C):this._doubleTapDragReady=!0}else this._storePointerDown(C)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(C){const{data:v}=C,{pointerType:M}=v.native,D=mh(v),x=this._clock.setTimeout(()=>this._clearPointerDown(D),"touch"===M?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(D,{event:C,doubleTapTimeout:x}),this.refreshHasPendingInputs()}}var CL,vS=T(27422);class HH extends Fo.a{constructor(C){super(!1),this._navigationTouch=C,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(C,v,M,D){return{action:C,pointerType:this._pointerType,button:this._mouseButton,buttons:v.buttons,timestamp:D,pointers:YH(this._activePointerMap),pointer:v,angle:M.angle,radius:M.radius,center:M.center}}_addPointer(C){const v=C.native.pointerId,M=Iv(this._activePointerMap).angle,D={event:C,initialAngle:0,lastAngle:0};this._activePointerMap.set(v,D);const I=Ov(D,bL(this._activePointerMap));D.initialAngle=I,D.lastAngle=I,this._updatePointerAngles(M)}_updatePointer(C){if(C&&null==C.x&&null==C.y)return;const M=this._activePointerMap.get(C.native.pointerId);M?M.event=C:this._addPointer(C)}_removePointer(C){const v=Iv(this._activePointerMap).angle;this._activePointerMap.delete(C),this._updatePointerAngles(v)}_updatePointerAngles(C){const v=Iv(this._activePointerMap);this._activePointerMap.forEach(M=>{M.initialAngle=Ov(M,v)-C,M.lastAngle=Ov(M,v)-C})}_emitEvent(C,v,M){const D=Iv(this._activePointerMap);this._drag.emit(this._createPayload(C,v,D,M),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(C){const v=C.data.native.pointerId,M=(0,vS.HA)(C.timestamp);this._activePointerMap.get(v)&&(1===this._activePointerMap.size?(this._updatePointer(C.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",C.data,M),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(v)):(this._removePointer(v),this._emitEvent("removed",C.data,(0,vS.HA)(C.timestamp))))}_handlePointerDrag(C){const v=C.data,M=v.currentEvent,D=(0,vS.HA)(C.timestamp);switch(v.action){case"start":case"update":this._isDragging?this._activePointerMap.has(M.native.pointerId)?(this._updatePointer(M),!this._isCurrentDragSuppressed&&this._emitEvent("update",M,D)):(this._addPointer(M),this._emitEvent("added",M,D),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(M),this._pointerType=C.data.startEvent.pointerType,this._mouseButton=C.data.startEvent.button,this._startStateModifiers=C.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",M,D))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function bL(g){const C=[];return g.forEach(v=>{C.push((0,hl.vW)(v.event.x,v.event.y))}),function ZH(g,C){if(C?(C.radius=0,C.center.x=0,C.center.y=0):C={radius:0,center:(0,hl.vW)()},0===g.length)return C;if(1===g.length)return C.center.x=g[0].x,C.center.y=g[0].y,C;if(2===g.length){const[tn,Gn]=g,[_r,Mr]=[Gn.x-tn.x,Gn.y-tn.y];return C.radius=Math.sqrt(_r*_r+Mr*Mr)/2,C.center.x=(tn.x+Gn.x)/2,C.center.y=(tn.y+Gn.y)/2,C}let v=0,M=0;for(let tn=0;tn<g.length;tn++)v+=g[tn].x,M+=g[tn].y;v/=g.length,M/=g.length;const D=g.map(tn=>tn.x-v),I=g.map(tn=>tn.y-M);let x=0,X=0,he=0,Se=0,Ae=0,Ve=0,qe=0;for(let tn=0;tn<D.length;tn++){const Gn=D[tn],_r=I[tn],Mr=Gn*Gn,bs=_r*_r;x+=Mr,X+=bs,he+=Gn*_r,Se+=Mr*Gn,Ae+=bs*_r,Ve+=Gn*bs,qe+=_r*Mr}const rt=.5*(Se+Ve),gt=.5*(Ae+qe),Ot=x*X-he*he,Ut=(rt*X-gt*he)/Ot,qt=(x*gt-he*rt)/Ot,_n=(0,hl.vW)(Ut+v,qt+M);return{radius:Math.sqrt(Ut*Ut+qt*qt+(x+X)/g.length),center:_n}}(C)}function Iv(g){const C=bL(g);let v=0;return g.forEach(M=>{let D=Ov(M,C),I=D-M.lastAngle;for(;I>Math.PI;)I-=2*Math.PI;for(;I<-Math.PI;)I+=2*Math.PI;D=M.lastAngle+I,M.lastAngle=D,v+=D-M.initialAngle}),v/=g.size||1,{angle:v,radius:C.radius,center:C.center}}function YH(g){const C=new Map;return g.forEach((v,M)=>C.set(M,v.event)),C}function Ov(g,C){const v=g.event;return Math.atan2(v.y-C.center.y,v.x-C.center.x)}!function(g){g[g.Left=0]="Left",g[g.Middle=1]="Middle",g[g.Right=2]="Right",g[g.Back=3]="Back",g[g.Forward=4]="Forward",g[g.Undefined=-1]="Undefined"}(CL||(CL={}));class JH extends Fo.a{constructor(C=250,v=10,M=350,D=35,I=wv.m){super(!1),this._maximumDoubleClickDelay=C,this._maximumDoubleClickDistance=v,this._maximumDoubleTouchDelay=M,this._maximumDoubleTouchDistance=D,this._clock=I,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(C=>{C.immediateDoubleClick&&C.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(C){const v=C.data,M=mh(v);this._pointerState.has(M)||(this._pointerState.set(M,{downButton:v.native.button,immediateDoubleClick:null}),this.startCapturingPointer(v.native))}_handlePointerUp(C){const v=C.data,M=mh(v),D=this._pointerState.get(M);if(D&&D.downButton===v.native.button){const I=D.immediateDoubleClick;if(I){I.timeoutHandle.remove();const x="touch"===C.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;yS(I,C.data)>x?this._startImmediateDoubleClick(C,D):(this._immediateDoubleClick.emit(C.data,void 0,I.modifiers),this._removeState(v))}else this._startImmediateDoubleClick(C,D)}}_startImmediateDoubleClick(C,v){v.immediateDoubleClick={x:C.data.x,y:C.data.y,modifiers:C.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(C.data),"touch"===C.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay)}}_removeState(C){const v=mh(C);this._pointerState.delete(v),this.stopCapturingPointer(C.native),this.refreshHasPendingInputs()}}class QH extends Fo.a{constructor(C=300,v=1.5,M=6,D=6,I=500,x=wv.m){super(!1),this._maximumClickDelay=C,this._movementUntilMouseDrag=v,this._movementUntilPenDrag=M,this._movementUntilTouchDrag=D,this._holdDelay=I,this._clock=x,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",X=>{this._handlePointerLoss(X,"pointer-up")}),this.registerIncoming("pointer-capture-lost",X=>{this._handlePointerLoss(X,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",X=>{this._handlePointerLoss(X,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(C=>{C.holdTimeout=(0,Lt.hw)(C.holdTimeout)}),super.onUninstall()}_handlePointerDown(C){const v=C.data,M=v.native.pointerId;let D=null;0===this._pointerState.size&&(D=this._clock.setTimeout(()=>{const x=this._pointerState.get(M);x&&(x.isDragging||(this._pointerHold.emit(x.previousEvent,void 0,C.modifiers),x.holdEmitted=!0),x.holdTimeout=null)},this._holdDelay)),this._pointerState.set(M,{startEvent:v,previousEvent:v,startTimestamp:C.timestamp,isDragging:!1,downButton:v.native.button,holdTimeout:D,modifiers:new Set}),this.startCapturingPointer(v.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(C)}_createPointerDragData(C,v,M){return{action:C,startEvent:v.startEvent,previousEvent:v.previousEvent,currentEvent:M}}_handlePointerMove(C){const v=C.data,D=this._pointerState.get(v.native.pointerId);D&&(D.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",D,v),void 0,D.modifiers):function $H(g,C){const v=C.x-g.x,M=C.y-g.y;return Math.sqrt(v*v+M*M)}(v,D.startEvent)>this._getDragThreshold(v.native.pointerType)&&this._startDragging(C),D.previousEvent=v)}_getDragThreshold(C){switch(C){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(C){const v=C.data,M=v.native.pointerId;this._pointerState.forEach(D=>{null!=D.holdTimeout&&(D.holdTimeout.remove(),D.holdTimeout=null),D.isDragging||(D.modifiers=C.modifiers,D.isDragging=!0,M===D.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",D,v)):this._pointerDrag.emit(this._createPointerDragData("start",D,D.previousEvent),C.timestamp))})}_handlePointerLoss(C,v){const M=C.data,D=M.native.pointerId,I=this._pointerState.get(D);I&&(null!=I.holdTimeout&&(I.holdTimeout.remove(),I.holdTimeout=null),I.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",I,"pointer-up"===v?M:I.previousEvent),void 0,I.modifiers):"pointer-up"===v&&I.downButton===M.native.button&&C.timestamp-I.startTimestamp<=this._maximumClickDelay&&!I.holdEmitted&&this._immediateClick.emit(M),this._pointerState.delete(D),this.stopCapturingPointer(M.native),0===this._pointerState.size&&this._moveHandle.pause())}}const Av_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Av_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Av_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let gh=class extends Ci.Z{constructor(){super(...arguments),this._handles=new Rl.Z}initialize(){const g=()=>this.view?.ready;this._handles.add([(0,en.gx)(()=>!g(),()=>this._disconnect()),(0,en.gx)(g,()=>this._connect())])}destroy(){this._handles=(0,Lt.SC)(this._handles),this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=(0,Lt.SC)(this._inputManager)}_connect(){const C=new kH(this.view.surface,this.view.input),v=[new JH,new QH,new GH,new HH(this.view.navigation),new KH],M=new gs.$({eventSource:C,recognizers:v});M.installHandlers("prevent-context-menu",[new zH],gs.f.INTERNAL),M.installHandlers("navigation",[new RH(this.view),new SH(this.view),new xH(this.view),new yL(this.view),new yL(this.view,["Ctrl"]),new _H(this.view,"primary"),new wH(this.view,Av_pan),new OH(this.view,Av_zoom),new IH(this.view,Av_rotate),new EH(this.view,"secondary"),new vH(this.view,"touch")],gs.f.INTERNAL),this.view.viewEvents.connect(M),this._source=C,this._inputManager=M,(0,en.YP)(()=>this.view?.navigation?.browserTouchPanEnabled,D=>{this._source&&(this._source.browserTouchPanningEnabled=!D)},en.nn)}get test(){return{inputManager:this._inputManager}}};(0,ze._)([(0,Ke.Cb)()],gh.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],gh.prototype,"latestPointerType",null),(0,ze._)([(0,Ke.Cb)()],gh.prototype,"latestPointerLocation",null),(0,ze._)([(0,Ke.Cb)()],gh.prototype,"multiTouchActive",null),gh=(0,ze._)([(0,cr.j)("esri.views.2d.input.MapViewInputManager")],gh);const XH=gh;var qH=T(42666),ML=T(38093),SL=T(33412),xv=T(18605),tY=T(31637),nY=T(57596);let yh=class extends Ci.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(g){const C=this._get("node");g!==C&&(g&&g.classList.add("esri-component"),C&&C.classList.remove("esri-component"),this._set("node",g))}castNode(g){return g?"string"==typeof g||function iY(g){return g&&"nodeType"in g}(g)?(this._set("widget",null),(0,Yu.L7)(g)):(function sY(g){return g&&"function"==typeof g.render}(g)&&!g.domNode&&(g.domNode=document.createElement("div")),this._set("widget",g),g.domNode):(this._set("widget",null),null)}};(0,ze._)([(0,Ke.Cb)({dependsOn:[]})],yh.prototype,"id",null),(0,ze._)([(0,Ke.Cb)()],yh.prototype,"node",null),(0,ze._)([(0,Ll.p)("node")],yh.prototype,"castNode",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],yh.prototype,"widget",void 0),yh=(0,ze._)([(0,cr.j)("esri.views.ui.Component")],yh);const Rv=yh,oY={left:0,top:0,bottom:0,right:0},PL={bottom:30,top:15,right:15,left:15},_S="manual",iu="esri-ui",fa={ui:iu,corner:`${iu}-corner`,innerContainer:`${iu}-inner-container`,manualContainer:`${iu}-manual-container`,cornerContainer:`${iu}-corner-container`,topLeft:`${iu}-top-left`,topRight:`${iu}-top-right`,bottomLeft:`${iu}-bottom-left`,bottomRight:`${iu}-bottom-right`};function ES(g){const C=g,v="object"==typeof C&&null!==C&&Object.getPrototypeOf(C);return null!==v&&v!==Object.prototype||!("component"in C||"index"in C||"position"in C)?null:g}function bS(g,{top:C,bottom:v,left:M,right:D}){g.style.top=C,g.style.bottom=v,g.style.left=M,g.style.right=D}let pc=class extends oh.Z.EventedAccessor{constructor(g){super(g),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._locale=(0,aM.Kd)(),this.view=null,this._applyViewPadding=()=>{const C=this.container;C&&bS(C,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const C=this._innerContainer;C&&bS(C,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,en.YP)(()=>[this.view?.padding,this.container],this._applyViewPadding,en.nn),(0,en.YP)(()=>this.padding,this._applyUIPadding,en.nn),(0,en.YP)(()=>[this.container,this._locale],([g,C])=>{g&&g.setAttribute("lang",C)},en.nn),(0,aM.qe)(g=>{this._locale=g})])}destroy(){this.container=null;for(const g of this._components)g.destroy();this._components.length=0,this._componentToKey.clear()}set container(g){const C=this._get("container");g!==C&&(g&&(g.classList.add(fa.ui),function SG(g){(function TG(g){Array.from(g.classList).forEach(C=>{C.startsWith(Hx)&&g.classList.remove(C)})})(g),g.classList.add(function MG(){return`${Hx}${dv()?"dark":"light"}`}())}(g),this._attachContainers(g)),C&&(C.classList.remove(fa.ui),bS(C,{top:"",bottom:"",left:"",right:""}),(0,Yu.cS)(C)),this._set("container",g))}get height(){const g=this.get("view.height")||0;if(0===g)return g;const C=this._getViewPadding();return Math.max(g-(C.top+C.bottom),0)}get padding(){return this._get("padding")}set padding(g){this._overrideIfSome("padding",g)}castPadding(g){return"number"==typeof g?{bottom:g,top:g,right:g,left:g}:{...PL,...g}}get width(){const g=this.get("view.width")||0;if(0===g)return g;const C=this._getViewPadding();return Math.max(g-(C.left+C.right),0)}add(g,C){let v,M;if(Array.isArray(g))return void g.forEach(I=>this.add(I,C));const D=ES(g);D&&({index:v,position:C,component:g,key:M}=D),C&&"object"==typeof C&&({index:v,key:M,position:C}=C),!g||C&&!this._isValidPosition(C)||this._add(g,C,v,M)}remove(g,C){if(!g)return;if(Array.isArray(g))return g.map(M=>this.remove(M,C));const v=this._find(g);if(v){const M=this._componentToKey;if(M.has(g)&&M.get(g)!==C)return;const D=this._components.indexOf(v);return v.node.parentNode&&v.node.parentNode.removeChild(v.node),this._componentToKey.delete(g),this._components.splice(D,1)[0]}}empty(g){return Array.isArray(g)?g.map(C=>this.empty(C)).reduce((C,v)=>C.concat(v)):(g=g||_S)===_S?Array.prototype.slice.call(this._manualContainer.children).filter(C=>!C.classList.contains(fa.corner)).map(C=>this.remove(C)):this._isValidPosition(g)?Array.prototype.slice.call(this._cornerNameToContainerLookup[g].children).map(this.remove,this):null}move(g,C){if(Array.isArray(g)&&g.forEach(I=>this.move(I,C)),!g)return;let v;const M=ES(g)||ES(C);if(M&&(v=M.index,C=M.position,g=M.component||g),C&&!this._isValidPosition(C))return;const D=this.remove(g);D&&this.add(D,{position:C,index:v})}find(g){if(!g)return null;const C=this._findById(g);return C&&(C.widget||C.node)}getPosition(g){for(const C in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[C].contains(g))return C;return null}_add(g,C,v,M){g instanceof Rv||(g=new Rv({node:g})),this._place({component:g,position:C,index:v}),this._components.push(g),M&&this._componentToKey.set(g,M)}_find(g){return g?g instanceof Rv?this._findByComponent(g):"string"==typeof g?this._findById(g):this._findByNode(g.domNode||g):null}_getViewPadding(){return this.get("view.padding")||oY}_attachContainers(g){g.appendChild(this._innerContainer),g.appendChild(this._manualContainer)}_initContainers(){const g=document.createElement("div");g.classList.add(fa.innerContainer),g.classList.add(fa.cornerContainer);const C=document.createElement("div");C.classList.add(fa.innerContainer),C.classList.add(fa.manualContainer);const v=document.createElement("div");v.classList.add(fa.topLeft),v.classList.add(fa.corner),g.appendChild(v);const M=document.createElement("div");M.classList.add(fa.topRight),M.classList.add(fa.corner),g.appendChild(M);const D=document.createElement("div");D.classList.add(fa.bottomLeft),D.classList.add(fa.corner),g.appendChild(D);const I=document.createElement("div");I.classList.add(fa.bottomRight),I.classList.add(fa.corner),g.appendChild(I),this._innerContainer=g,this._manualContainer=C;const x=(0,Eo.dZ)();this._cornerNameToContainerLookup={"top-left":v,"top-right":M,"bottom-left":D,"bottom-right":I,"top-leading":x?M:v,"top-trailing":x?v:M,"bottom-leading":x?I:D,"bottom-trailing":x?D:I},this._positionNameToContainerLookup={manual:C,...this._cornerNameToContainerLookup}}_isValidPosition(g){return!!this._positionNameToContainerLookup[g]}_place(g){const C=g.component,M=g.index,D=this._positionNameToContainerLookup[g.position||_S],I=null!=M&&M>-1;if(function aY(g){return g&&!g._started&&"function"==typeof g.postMixInProperties&&"function"==typeof g.buildRendering&&"function"==typeof g.postCreate&&"function"==typeof g.startup}(C.widget)&&C.widget.startup(),!I)return void D.appendChild(C.node);const x=Array.prototype.slice.call(D.children);0!==M?M>=x.length?D.appendChild(C.node):(0,Yu.Vt)(C.node,x[M]):D.firstChild?(0,Yu.Vt)(C.node,D.firstChild):D.appendChild(C.node)}_toPxPosition(g){return{top:this._toPxUnit(g.top),left:this._toPxUnit(g.left),right:this._toPxUnit(g.right),bottom:this._toPxUnit(g.bottom)}}_toPxUnit(g){return 0===g?"0":g+"px"}_findByComponent(g){let C,v=null;return this._components.some(M=>(C=M===g,C&&(v=M),C)),v}_findById(g){let C,v=null;return this._components.some(M=>(C=M.id===g,C&&(v=M),C)),v}_findByNode(g){let C,v=null;return this._components.some(M=>(C=M.node===g,C&&(v=M),C)),v}};(0,ze._)([(0,Ke.Cb)()],pc.prototype,"_locale",void 0),(0,ze._)([(0,Ke.Cb)()],pc.prototype,"container",null),(0,ze._)([(0,Ke.Cb)()],pc.prototype,"height",null),(0,ze._)([(0,Ke.Cb)({value:PL})],pc.prototype,"padding",null),(0,ze._)([(0,Ll.p)("padding")],pc.prototype,"castPadding",null),(0,ze._)([(0,Ke.Cb)()],pc.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],pc.prototype,"width",null),pc=(0,ze._)([(0,cr.j)("esri.views.ui.UI")],pc);const lY=pc;function DL(g,C){return g&&"copyright"in g&&(!C||"function"==typeof g.originOf&&"user"===g.originOf("copyright"))}function Lv(g,C,v){!v||!C||g.find(M=>M.layerView===C&&M.text===v)||g.push({text:v,layerView:C})}const od=[];let Jp=class extends Qu.r{constructor(g){super(g),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ss.Z,this.view=null,this._allLayerViewsChange=C=>{this.handles.remove("suspension");const v=this.get("view.allLayerViews");v&&this.handles.add(v.map(M=>(0,en.YP)(()=>[M.suspended,M.layer?.attributionVisible],()=>this._updateAttributionItems())),"suspension"),C&&C.removed&&C.removed.forEach(M=>{this._pendingAttributions.delete(M),this._fetchedAttributionData.delete(M)}),this._updateAttributionItems()},this.handles.add([(0,en.on)(()=>this.view?.allLayerViews,"change",C=>this._allLayerViewsChange(C),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,en.gx)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const g=this.view,C=g?.allLayerViews;od.length=0,g&&C?(C.forEach(v=>{if(v.suspended||!v.layer?.attributionVisible)return;const M=v.layer;if(DL(M,"user"))return void Lv(od,v,M.copyright);if(M.hasAttributionData){if(this._fetchedAttributionData.has(v)){const I=this._fetchedAttributionData.get(v);return void(I?Lv(od,v,this._getDynamicAttribution(I,g,M)):DL(M)&&Lv(od,v,M.copyright))}return void this._fetchAttributionData(v)}const D=M.get("portalItem.accessInformation");Lv(od,v,D||M.copyright)}),function cY(g,C){return g.length!==C.length||g.some((v,M)=>v.text!==C[M].text)}(this.items,od)&&(this.items.removeAll(),this.items.addMany(od)),od.length=0,this.notifyChange("state")):this._clear()}_fetchAttributionData(g){var C=this;return(0,xn.Z)(function*(){if(C._pendingAttributions.has(g))return;C._pendingAttributions.add(g);const v=yield(0,KM.q6)(g.layer.fetchAttributionData());if(C._pendingAttributions.has(g)){const M=v.ok?C._createContributionIndex(v.value,function uY(g){return"bing-maps"===g.type}(g.layer)):null;C._pendingAttributions.delete(g),C._fetchedAttributionData.set(g,M)}C._updateAttributionItems()})()}_createContributionIndex(g,C){const v=g.contributors,M={};if(!v)return M;for(let D=0;D<v.length;D++){const I=v[D],x=I.coverageAreas;if(!x)return;for(const X of x){const he=X.bbox,Se=X.zoomMin-(C&&X.zoomMin?1:0),Ae=X.zoomMax-(C&&X.zoomMax?1:0),qe={extent:(0,xM.$)({xmin:he[1],ymin:he[0],xmax:he[3],ymax:he[2],spatialReference:KR.Z.WGS84}),attribution:I.attribution||"",score:null!=X.score?X.score:100,id:D};for(let rt=Se;rt<=Ae;rt++)M[rt]=M[rt]||[],M[rt].push(qe)}}return M.maxKey=Math.max.apply(null,Object.keys(M)),M}_getDynamicAttribution(g,C,v){const{extent:M,scale:D}=C;let I=v.tileInfo?.scaleToZoom(D)??0;if(I=Math.min(g.maxKey??0,Math.round(I)),!M||null==I||I<=-1)return"";const x=g[I],X=(0,xM.iV)(M.center.clone().normalize(),C.spatialReference),he={};return x?x.filter(Se=>{const Ae=Se.id,Ve=!he[Ae]&&X&&Se.extent&&(0,iS.aV)(Se.extent,X);return Ve&&(he[Ae]=!0),Ve}).sort((Se,Ae)=>Ae.score-Se.score||Se.objectId-Ae.objectId).map(Se=>Se.attribution).join(", "):""}};(0,ze._)([(0,Ke.Cb)({readOnly:!0,type:ss.Z})],Jp.prototype,"items",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Jp.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],Jp.prototype,"view",void 0),Jp=(0,ze._)([(0,cr.j)("esri.widgets.Attribution.AttributionViewModel")],Jp);const wL=Jp,Qp="esri-attribution",ad={base:`${Qp} esri-widget`,poweredBy:`${Qp}__powered-by`,sources:`${Qp}__sources`,open:`${Qp}--open`,sourcesOpen:`${Qp}__sources--open`,link:`${Qp}__link`,widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let ma=class extends $o.Z{constructor(g,C){super(g,C),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(v=>v.forEach(({target:M})=>this._checkSourceTextOverflow(M))),this.iconClass=ad.widgetIcon,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new wL}initialize(){this.addHandles((0,en.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((g,C)=>(g.includes(C.text)||g.push(C.text),g),[]).join(this.itemDelimiter)}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}render(){return(0,Xt.u)("div",{bind:this,class:this.classes(ad.base,{[ad.open]:this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,Xt.u)("div",{class:ad.poweredBy},"Powered by"," ",(0,Xt.u)("a",{class:ad.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const g=this._isOpen,C=this._isInteractive,v=C?"0":"",{attributionText:M}=this;return(0,Xt.u)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(ad.sources,{[ad.sourcesOpen]:g,[ad.interactive]:C}),innerHTML:M,tabindex:v})}_afterSourcesNodeCreate(g){this._prevSourceNodeHeight=g.clientWidth,this._resizeObserver.observe(g)}_checkSourceTextOverflow(g){let C=!1;const{clientHeight:v,clientWidth:M,scrollWidth:D}=g,I=D>M,x=this._attributionTextOverflowed!==I;if(this._attributionTextOverflowed=I,x&&(C=!0),this._isOpen){const X=v<this._prevSourceNodeHeight;this._prevSourceNodeHeight=v,X&&(this._isOpen=!1,C=!0)}C&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,ze._)([(0,Ke.Cb)()],ma.prototype,"_isOpen",void 0),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"_isInteractive",null),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"_attributionTextOverflowed",void 0),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"_prevSourceNodeHeight",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],ma.prototype,"attributionText",null),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"iconClass",void 0),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"itemDelimiter",void 0),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"label",null),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Attribution/t9n/Attribution")],ma.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)()],ma.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:wL})],ma.prototype,"viewModel",void 0),(0,ze._)([(0,fl.h)()],ma.prototype,"_toggleState",null),ma=(0,ze._)([(0,cr.j)("esri.widgets.Attribution")],ma);const dY=ma;let vh=class extends(ER(Ci.Z)){constructor(g){super(g),this._handles=new Rl.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,en.YP)(()=>this.view,this._updateRotationWatcher,en.nn))}destroy(){(0,Lt.hw)(this._handles),this.view=null}get canShowNorth(){const g=this.get("view.spatialReference");return!(!g||!g.isWebMercator&&!g.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const g={};"2d"===this.view?.type?g.rotation=0:g.heading=0,this.callGoTo({target:g})}_updateForRotation(g){null!=g&&(this.orientation={z:g})}_updateForCamera(g){g&&(this.orientation={x:0,y:0,z:-g.heading})}_updateRotationWatcher(g){this._handles.removeAll(),g&&this._handles.add("2d"===g.type?(0,en.YP)(()=>g?.rotation,this._updateForRotation,en.nn):(0,en.YP)(()=>g?.camera,this._updateForCamera,en.nn))}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],vh.prototype,"canShowNorth",null),(0,ze._)([(0,Ke.Cb)()],vh.prototype,"orientation",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],vh.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],vh.prototype,"view",void 0),vh=(0,ze._)([(0,cr.j)("esri.widgets.CompassViewModel")],vh);const IL=vh;let fc=class extends $o.Z{constructor(g,C){super(g,C),this.iconClass="esri-icon-locate-circled",this.messages=null,this.viewModel=new IL}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(g){this.viewModel.goToOverride=g}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}reset(){return this.viewModel.reset()}render(){const{orientation:g,state:C}=this.viewModel,v="disabled"===C,M="compass"==("rotation"===C?"rotation":"compass"),D=v?-1:0,I={"esri-disabled":v,"esri-interactive":!v},x={"esri-icon-compass":M,"esri-icon-dial":!M},{messages:X}=this;return(0,Xt.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",I),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:D,"aria-label":X.reset,title:X.reset},(0,Xt.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",x),styles:this._toRotationTransform(g)}),(0,Xt.u)("span",{class:"esri-icon-font-fallback-text"},X.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(g){return{transform:`rotateZ(${g.z}deg)`}}};(0,ze._)([(0,Ke.Cb)()],fc.prototype,"goToOverride",null),(0,ze._)([(0,Ke.Cb)()],fc.prototype,"iconClass",void 0),(0,ze._)([(0,Ke.Cb)()],fc.prototype,"label",null),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Compass/t9n/Compass")],fc.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)()],fc.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:IL})],fc.prototype,"viewModel",void 0),(0,ze._)([(0,fl.h)()],fc.prototype,"_reset",null),fc=(0,ze._)([(0,cr.j)("esri.widgets.Compass")],fc);const pY=fc,Xp="esri-navigation-toggle",vl={base:`${Xp} esri-widget`,button:`${Xp}__button esri-widget--button`,activeButton:`${Xp}__button--active`,panButton:`${Xp}__button--pan`,rotateButton:`${Xp}__button--rotate`,isLayoutHorizontal:`${Xp}--horizontal`,rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let qp=class extends Ci.Z{constructor(g){super(g),this.navigationMode="pan",this.view=null}initialize(){this.own((0,en.gx)(()=>this.view?.inputManager,()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view?.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],qp.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],qp.prototype,"navigationMode",void 0),(0,ze._)([(0,Ke.Cb)()],qp.prototype,"view",void 0),qp=(0,ze._)([(0,cr.j)("esri.widgets.NavigationToggleViewModel")],qp);const OL=qp;let mc=class extends $o.Z{constructor(g,C){super(g,C),this.iconClass=vl.widgetIcon,this.messages=null,this.viewModel=new OL}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}set layout(g){"horizontal"!==g&&(g="vertical"),this._set("layout",g)}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}toggle(){return this.viewModel.toggle()}render(){const g="disabled"===this.get("viewModel.state"),C="pan"===this.get("viewModel.navigationMode"),M={[vl.activeButton]:C},D={[vl.activeButton]:!C},I=g?-1:0,x=this.messages.toggle;return(0,Xt.u)("div",{bind:this,class:this.classes(vl.base,{[vl.disabled]:g,[vl.isLayoutHorizontal]:"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:I,"aria-label":x,title:x},(0,Xt.u)("div",{class:this.classes(vl.button,vl.panButton,M)},(0,Xt.u)("span",{class:vl.panIcon})),(0,Xt.u)("div",{class:this.classes(vl.button,vl.rotateButton,D)},(0,Xt.u)("span",{class:vl.rotationIcon})))}_toggle(){this.toggle()}};(0,ze._)([(0,Ke.Cb)()],mc.prototype,"iconClass",void 0),(0,ze._)([(0,Ke.Cb)()],mc.prototype,"label",null),(0,ze._)([(0,Ke.Cb)({value:"vertical"})],mc.prototype,"layout",null),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],mc.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)()],mc.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:OL})],mc.prototype,"viewModel",void 0),(0,ze._)([(0,fl.h)()],mc.prototype,"_toggle",null),mc=(0,ze._)([(0,cr.j)("esri.widgets.NavigationToggle")],mc);const fY=mc;let cd=class extends $o.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const g=this.enabled?0:-1,v={[this.iconClass]:!!this.iconClass};return(0,Xt.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:g,title:this.title},(0,Xt.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",v)}),(0,Xt.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,ze._)([(0,Ke.Cb)()],cd.prototype,"action",void 0),(0,ze._)([(0,Ke.Cb)()],cd.prototype,"enabled",void 0),(0,ze._)([(0,Ke.Cb)()],cd.prototype,"iconClass",void 0),(0,ze._)([(0,Ke.Cb)()],cd.prototype,"title",void 0),(0,ze._)([(0,fl.h)()],cd.prototype,"_triggerAction",null),cd=(0,ze._)([(0,cr.j)("esri.widgets.IconButton")],cd);const AL=cd;let ef=class extends Ci.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const g=this.get("view.animation.target.scale")||this.get("view.scale"),C=this.get("view.constraints.effectiveMaxScale");return 0===C||g>C}get canZoomOut(){if(!this.get("view.ready"))return!1;const g=this.get("view.animation.target.scale")||this.get("view.scale"),C=this.get("view.constraints.effectiveMinScale");return 0===C||g<C}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ef.prototype,"canZoomIn",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ef.prototype,"canZoomOut",null),(0,ze._)([(0,Ke.Cb)()],ef.prototype,"view",void 0),ef=(0,ze._)([(0,cr.j)("esri.widgets.Zoom.ZoomConditions2D")],ef);const mY=ef;let tf=class extends Ci.Z{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,ze._)([(0,Ke.Cb)({readOnly:!0})],tf.prototype,"canZoomIn",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],tf.prototype,"canZoomOut",null),(0,ze._)([(0,Ke.Cb)()],tf.prototype,"view",void 0),tf=(0,ze._)([(0,cr.j)("esri.widgets.Zoom.ZoomConditions3D")],tf);const gY=tf;let ud=class extends Ci.Z{constructor(g){super(g)}destroy(){this.view=null}get canZoomIn(){return(0,Lt.pC)(this._zoomConditions)&&this._zoomConditions.canZoomIn}get canZoomOut(){return(0,Lt.pC)(this._zoomConditions)&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(g){g?"2d"===g.type?this._zoomConditions=new mY({view:g}):"3d"===g.type&&(this._zoomConditions=new gY({view:g})):this._zoomConditions=null,this._set("view",g)}zoomIn(){if(!this.canZoomIn)return;const g=this.view;"2d"===g.type?g.mapViewNavigation.zoomIn():(0,ei.R8)(g.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const g=this.view;"2d"===g.type?g.mapViewNavigation.zoomOut():(0,ei.R8)(g.goTo({zoomFactor:.5}))}};(0,ze._)([(0,Ke.Cb)()],ud.prototype,"_zoomConditions",void 0),(0,ze._)([(0,Ke.Cb)()],ud.prototype,"canZoomIn",null),(0,ze._)([(0,Ke.Cb)()],ud.prototype,"canZoomOut",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],ud.prototype,"state",null),(0,ze._)([(0,Ke.Cb)()],ud.prototype,"view",null),ud=(0,ze._)([(0,cr.j)("esri.widgets.Zoom.ZoomViewModel")],ud);const xL=ud;let su=class extends $o.Z{constructor(g,C){super(g,C),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.messages=null,this.viewModel=new xL}initialize(){this._zoomInButton=new AL({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new AL({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton=(0,Lt.SC)(this._zoomInButton),this._zoomOutButton=(0,Lt.SC)(this._zoomOutButton)}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}set layout(g){"horizontal"!==g&&(g="vertical"),this._set("layout",g)}set view(g){this.viewModel.view=g}get view(){return this.viewModel.view}render(){const g=this.viewModel,C={"esri-zoom--horizontal":"horizontal"===this.layout},{canZoomIn:v,canZoomOut:M}=g;this._zoomInButton.enabled=v,this._zoomOutButton.enabled=M;const{zoomIn:D,zoomOut:I}=this.messages;return this._zoomInButton.title=D,this._zoomOutButton.title=I,(0,Xt.u)("div",{class:this.classes("esri-zoom esri-widget",C)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,ze._)([(0,Ke.Cb)()],su.prototype,"iconClass",void 0),(0,ze._)([(0,Ke.Cb)()],su.prototype,"label",null),(0,ze._)([(0,Ke.Cb)({value:"vertical"})],su.prototype,"layout",null),(0,ze._)([(0,Ke.Cb)(),(0,Zo.H)("esri/widgets/Zoom/t9n/Zoom")],su.prototype,"messages",void 0),(0,ze._)([(0,Ke.Cb)()],su.prototype,"view",null),(0,ze._)([(0,Ke.Cb)({type:xL})],su.prototype,"viewModel",void 0),su=(0,ze._)([(0,cr.j)("esri.widgets.Zoom")],su);const yY=su;let Fv=class extends lY{constructor(g){super(g),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this.addHandles([(0,en.YP)(()=>this.components,this._componentsWatcher.bind(this),en.nn),(0,en.YP)(()=>this.view,this._updateViewAwareWidgets.bind(this),en.nn)])}_add(g,C,v,M){let D=g;if("string"==typeof g&&this._defaultPositionLookup[g]){if(this._find(g))return;D=this._createComponent(g)}super._add(D,C,v,M)}_removeComponents(g){g.forEach(C=>{const v=this._find(C);v&&(this.remove(v),v.destroy())})}_updateViewAwareWidgets(g){this.components.forEach(C=>{const v=this._find(C),M=v&&v.widget;(function vY(g){return g&&void 0!==g.view})(M)&&(M.view=g)})}_componentsWatcher(g,C){this._removeComponents(C),this._addComponents(g),this._adjustPadding(g)}_adjustPadding(g){if(!g.includes("attribution")&&!this._isOverridden("padding")){const{top:C}=this.padding;this.padding=C}}_addComponents(g){this.constructed&&g.forEach(C=>this.add(this._createComponent(C),this._defaultPositionLookup[C]))}_createComponent(g){const C=this._createWidget(g);if(C)return new Rv({id:g,node:C})}_createWidget(g){return"attribution"===g?this._createAttribution():"compass"===g?this._createCompass():"navigation-toggle"===g?this._createNavigationToggle():"zoom"===g?this._createZoom():void 0}_createAttribution(){return new dY({view:this.view})}_createCompass(){return new pY({view:this.view})}_createNavigationToggle(){return new fY({view:this.view})}_createZoom(){return new yY({view:this.view})}};(0,ze._)([(0,Ke.Cb)()],Fv.prototype,"components",void 0),Fv=(0,ze._)([(0,cr.j)("esri.views.ui.DefaultUI")],Fv);const _Y=Fv;let Nv=class extends _Y{constructor(g){super(g),this.components=["attribution","zoom"]}};(0,ze._)([(0,Ke.Cb)()],Nv.prototype,"components",void 0),Nv=(0,ze._)([(0,cr.j)("esri.views.ui.2d.DefaultUI2D")],Nv);const RL=Nv;var CS;let jv=CS=class extends _v.wq{constructor(g){super(g),this.color=new qm.Z([0,0,0,1])}clone(){return new CS((0,RM.d9)({color:this.color}))}};(0,ze._)([(0,Ke.Cb)({type:qm.Z,json:{write:!0}})],jv.prototype,"color",void 0),jv=CS=(0,ze._)([(0,cr.j)("esri.webmap.background.ColorBackground")],jv);const EY=jv;let LL,FL,NL,jL,UL,BL;function MS(){return MS=(0,xn.Z)(function*(){const[,{GraphicsView2D:g,GraphicContainer:C,LabelManager:v,MapViewNavigation:M,MagnifierView2D:D,Stage:I}]=yield Promise.all([Promise.all([T.e(5086),T.e(5314),T.e(5506),T.e(4376)]).then(T.bind(T,34376)),Promise.all([T.e(5086),T.e(5314),T.e(3536),T.e(6093),T.e(5506),T.e(9202),T.e(4589),T.e(2815),T.e(3871),T.e(3300),T.e(1619),T.e(4029),T.e(5662),T.e(2236),T.e(7643),T.e(5918),T.e(6888),T.e(877)]).then(T.bind(T,10877))]);FL=g,NL=C,jL=v,UL=M,BL=D,LL=I}),MS.apply(this,arguments)}let zr=class extends(L$(MK(SK(sH)))){constructor(g){super(g),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Xy.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new lH(this),this._pePromise=null,this.floors=new ss.Z,this.highlightOptions=new ML.Z,this.inputManager=new XH({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new SL.T,this.type="2d",this.ui=new RL,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new pL,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([(0,en.YP)(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},en.Z_),this.on("resize",C=>this._resizeHandler(C)),(0,en.YP)(()=>this.animationManager?.animation,C=>{this.animation=C})]),(0,O$.j2)()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new qH.Z(this.featuresTilingScheme)}get initialExtentRequired(){const{scale:g,constraints:C,center:v,viewpoint:M,extent:D}=this;let I=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||D||(C?.effectiveLODs||(I=-1),v&&(0!==g||-1!==I)||M&&(0,Lt.pC)(M.targetGeometry)&&("extent"===M.targetGeometry.type||M.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!(0,Ro.kR)()||(this._pePromise||(this._pePromise=(0,Ro.zD)().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const g=this._getDefaultViewpoint();if(!g)return!1;const C=this.spatialReference,v=(0,Lt.Wg)(g.targetGeometry);return!!(0,Ro.Up)(v.spatialReference,C)||this._projectionEngineLoaded}set animation(g){const C=this._get("animation");if(g===C)return;if(C&&C.stop(),!g||g.isFulfilled())return void this._set("animation",null);this._set("animation",g),this.frameTask.animationInProgress=!0;const v=()=>{g===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)};g.when(v,v)}get background(){return function MY(g){return"esri.WebMap"===g?.declaredClass}(this.map)?this.map.initialViewProperties.background:null}set background(g){this._override("background",g)}get center(){if(!this.ready)return this._get("center");const{center:g,spatialReference:C}=this.state.paddedViewState;return new zo.Z({x:g[0],y:g[1],spatialReference:C})}set center(g){if(null==g)return;if(!this.ready)return this._set("center",g),void this.notifyChange("initialExtentRequired");let C;try{C=this._project(g,this.spatialReference)}catch(M){return void Ai.Z.getLogger(this.declaredClass).error(new Ar.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:g,error:M}))}const v=this.viewpoint;(0,Ls.o2)(v,v,C),this.viewpoint=v}set constraints(g){const C=this._get("constraints");C&&(this.handles.remove("map-view-constraints"),C.destroy()),this._set("constraints",g),g&&(g.view=this,this.ready&&(this.state.viewpoint=g.fit(this.state.paddedViewState.viewpoint)),this.handles.add((0,en.YP)(()=>g.version,()=>{this.ready&&this.state&&(this.state.viewpoint=g.fit(this.state.paddedViewState.viewpoint))},en.Z_),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(g){if(null==g)return;if(!g.width||!g.height)return void Ai.Z.getLogger(this.declaredClass).error(new Ar.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",g),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let C;try{C=this._project(g,this.spatialReference)}catch(M){return void Ai.Z.getLogger(this.declaredClass).error(new Ar.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:M}))}const v=this.viewpoint;(0,Ls.qf)(v,v,C,this.size,{constraints:this.constraints}),this.viewpoint=v}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(g){this.ready?(this.state.padding=g,this._set("padding",this.state.padding)):this._set("padding",g)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(g){if(isNaN(g))return;if(!this.ready)return void this._set("rotation",g);const C=this.viewpoint;(0,Ls.YQ)(C,C,g),this.viewpoint=C}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(g){if(!g||isNaN(g))return;if(!this.ready){this._set("scale",g),this._set("zoom",-1);const v=this._get("extent");return v&&(this._set("extent",null),this._set("center",v.center)),void this.notifyChange("initialExtentRequired")}const C=this.viewpoint;(0,Ls.Hy)(C,C,g),this.viewpoint=C}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){const g=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(C=>!C.destroyed&&!("layerViews"in C)&&!0===C.updating));if((0,Hc.Z)("esri-2d-log-updating")){const C=this.allLayerViews.reduce((v,M)=>({...v,[M.layer.id]:!M.destroyed&&!("layerViews"in M)&&M.updating}),{});console.log(`Updating MapView: ${g}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(C)}\n`)}return g}get viewpoint(){if(!this.ready)return this._get("viewpoint");const g=this.state.paddedViewState;return g&&g.viewpoint.clone()}set viewpoint(g){if(null==g)return;if(!this.ready)return this._set("viewpoint",g),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let C,v;try{C=this._project(g,this.spatialReference),!g.scale||isNaN(g.scale)?v=new Ar.Z("mapview:invalid-viewpoint",`invalid scale value of ${g.scale}`):(0,Lt.Wi)(g.targetGeometry)&&(v=new Ar.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(D){v=new Ar.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:D})}if(v)return void Ai.Z.getLogger(this.declaredClass).error(v);this._scaleBeforeChangingSpatialReference=null;const M=new qd.Z({targetGeometry:new zo.Z,scale:0,rotation:0});(0,Ls.JG)(M,C),this.constraints.constrain(M,this.state.paddedViewState.viewpoint),this.state.viewpoint=M,this.frameTask.requestFrame(),this._set("viewpoint",M)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(g){if(null==g)return;if(!this.ready){this._set("zoom",g),this._set("scale",0);const v=this._get("extent");return v&&(this._set("extent",null),this._set("center",v.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const C=this.viewpoint;(0,Ls.Hy)(C,C,this.constraints.zoomToScale(g)),this.viewpoint=C,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(g,C){if(g)return this.animation&&(this.animation=null),this._createAnimation(),(0,en.N1)(()=>this.ready,C).then(()=>{const v={animate:!0,...C},M=(0,Ls.Ue)(g,this);return this.animation?.update(M),this._gotoTask={},v.animate?this._gotoAnimated(M,v):this._gotoImmediate(M,v)});Ai.Z.getLogger(this.declaredClass).error("#goTo()","target cannot be null or undefined")}hitTest(g,C){var v=this;return(0,xn.Z)(function*(){const M=(0,Ko.Rw)(g)?(0,Ko.s6)(v,g):g;if(!v.ready||isNaN(M.x)||isNaN(M.y))return{screenPoint:M,results:[]};let D=new Set,I=!1,x=null,X=null;C?.include?zL(C.include,kL(v,Ve=>D.add(Ve),Ve=>{x||(x=new Set),x.add(Ve)},Ve=>D.add(Ve),()=>I=!0)):(I=!0,D=new Set(v.allLayerViews)),C?.exclude&&zL(C.exclude,kL(v,Ve=>D.delete(Ve),Ve=>{X||(X=new Set),X.add(Ve)}));const he=v.allLayerViews.filter(Ve=>!Ve.suspended&&D.has(Ve)).reverse(),Se=v.toMap(M);let Ae=[...I?v.graphicsView.hitTest(Se).map(Ve=>({type:"graphic",graphic:Ve,layer:null,mapPoint:Se})):[],...yield Promise.all(he.map(Ve=>Ve.hitTest(Se,M)).toArray())].filter(Lt.pC).flat().filter(Lt.pC);return x&&(Ae=Ae.filter(Ve=>!("graphic"in Ve)||!Ve.graphic||x?.has(SS(Ve.graphic)))),X&&(Ae=Ae.filter(Ve=>!("graphic"in Ve)||!Ve.graphic||X?.has(SS(Ve.graphic)))),{screenPoint:M,results:Ae}})()}takeScreenshot(g){var C=this;return(0,xn.Z)(function*(){const v=C._createScreenshotPlan(g),M=yield C._stage.takeScreenshot(v);return(0,xv.cv)(M,{format:v.format,quality:v.quality,rotation:0,disableDecorations:!1},C._pixelFormat)})()}_takeScreenshot(g){var C=this;return(0,xn.Z)(function*(){const v=C._createScreenshotPlan(g),M=yield C._stage.takeScreenshot(v);return(0,xv.v8)(M,C._pixelFormat)})()}_createScreenshotPlan(g){g=g??{};const C=this.supersampleScreenshotsEnabled?Math.min(4,(0,xv.RZ)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let v;g.layers?(v=[],g.layers.forEach(I=>{const x=this.allLayerViews.find(X=>X.layer.id===I.id);x&&"container"in x&&x.container&&v.push(x.container)})):v=this._stage.children;const{format:M,quality:D}=(0,xv.LI)(g.format,g.quality);return function eY(g,C,v,M,D,I,x,X){g.ignorePadding&&(M={left:0,right:0,top:0,bottom:0});let he=null;null!=g.width&&null!=g.height?he=[g.width,g.height]:null==g.width&&null!=g.height?he=[g.height,g.height]:null!=g.width&&null==g.height?he=[g.width,g.width]:null==g.width&&null==g.height&&(he=null);const Se=v[0]-(M.left+M.right),Ae=v[1]-(M.top+M.bottom);let Ve,qe,rt=g.area||{x:0,y:0,width:Se,height:Ae};if(he){const Ot=he[0]/he[1];if(Ot>Se/Ae){const Ut=rt.width/Ot;rt={x:rt.x,y:Math.round(rt.y+(rt.height-Ut)/2),width:rt.width,height:Math.round(Ut)}}else{const Ut=rt.height*Ot;rt={x:Math.round(rt.x+(rt.width-Ut)/2),y:rt.y,width:Math.round(Ut),height:rt.height}}}else he=[rt.width,rt.height];return he[0]>rt.width?(Ve=Math.min(he[0]/rt.width,C),qe=he[0]/rt.width/Ve):(Ve=1,qe=he[0]/rt.width),{resolutionScale:Ve,cropArea:{x:Math.round((rt.x+M.left)*Ve),y:Math.round((rt.y+M.top)*Ve),width:Math.round(rt.width*Ve),height:Math.round(rt.height*Ve)},outputScale:qe,format:D,quality:I,children:x,rotation:X}}(g,C,this.size,this.padding,M,D,v,g.rotation)}get test(){return{takeScreenshot:g=>this._takeScreenshot(g)}}toMap(g){if(!this.ready)return null;const C=(0,Ko.Rw)(g)?(0,Ko.s6)(this,g):g,[M,D]=this.state.toMap([0,0],[C.x,C.y]);return new zo.Z({x:M,y:D,spatialReference:this.spatialReference})}toScreen(g){if(!this.ready)return null;const C=this._project(g,this.spatialReference),v=[C.x,C.y];return this.state.toScreen(v,v),(0,hl.vW)(v[0],v[1])}on(g,C,v,M){return this.inputManager&&this.viewEvents.on(g,C,v,M)||super.on(g,C)}hasEventListener(g){return super.hasEventListener(g)||this.viewEvents.hasHandler(g)}whenLayerView(g){return super.whenLayerView(g)}graphicChanged(g){this.graphicsView&&this.graphicsView.graphicUpdateHandler(g)}whenReady(){return new Promise(g=>{this.ready?g(this):this._resolveWhenReady.push(g)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}hasLayerViewModule(g){return(g=>(0,Lt.pC)(cL[g.type]))(g)}importLayerView(g){return(g=>{const C=cL[g.type];if((0,Lt.Wi)(C))throw function cH(g){const C=g.declaredClass?g.declaredClass.slice(g.declaredClass.lastIndexOf(".")+1):"Unknown",v=C.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new Ar.Z(`${v}:view-not-supported`,`${C} is not supported in 2D`)}(g);return C(g)})(g)}pixelSizeAt(){return this.ready?this.state.resolution:(Ai.Z.getLogger(this.declaredClass).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(g){return this.hitTest(g).then(C=>({...C,mapPoint:this.toMap(g)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let g=function rY(g){const C=(0,tY.hc)(g);if(!C.available)return new Ar.Z("webgl:required","WebGL is required but not supported.");if("3d"===g&&C.majorPerformanceCaveat)return new Ar.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!C.supportsHighPrecisionFragment)return new Ar.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!C.supportsVertexShaderSamplers)return new Ar.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(C.type===nY.zO.WEBGL1){if(!C.supportsElementIndexUint)return new Ar.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!C.supportsStandardDerivatives)return new Ar.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!C.supportsInstancedArrays)return new Ar.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(this.type);return(0,Hc.Z)("safari")&&(0,Hc.Z)("safari")<9&&(g=new Ar.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Hc.Z)("safari")})),(0,Lt.pC)(g)?(Ai.Z.getLogger(this.declaredClass).warn("#validate()",g.message),Promise.reject(g)):function bY(){return MS.apply(this,arguments)}()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new rS),this.animation}_cancellableGoTo(g,C,v){const M=()=>g===this._gotoTask,D=v.then(()=>{M()&&(this.animation=null)}).catch(x=>{throw M()&&(C&&!C.done&&(C.stop(),this.frameTask.animationInProgress=!1),this.animation=null),x}),I=new Promise(x=>x(D));return C.when().catch(()=>{M()&&I.cancel&&I.cancel()}),I}_gotoImmediate(g,C){const v=this._gotoTask,M=this.animation,D=g.then(I=>{if((0,ei.k_)(C),v!==this._gotoTask)throw new Ar.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=M.target=I,M.finish()});return this._cancellableGoTo(v,M,D)}_flipStationary(g){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const C=performance.now()-this._lastStationaryEventTimestamp;C<160&&(this._stationaryTimer=this._flipStationary(C))},g)),this._stationaryTimer}_getDefaultViewpoint(){const{constraints:g,initialExtent:C,map:v,padding:M,size:D}=this;if(!g)return null;const I=v&&"initialViewProperties"in v?v.initialViewProperties:void 0,x={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};g.effectiveLODs?-1!==x.zoom&&(x.scale=g.zoomToScale(x.zoom)):x.zoom=-1;let X=null,he=null,Se=0;const Ae=x.viewpoint&&x.viewpoint.rotation,Ve=x.viewpoint&&x.viewpoint.targetGeometry;(0,Lt.pC)(Ve)&&("extent"===Ve.type?X=Ve:"point"===Ve.type&&(he=Ve,Se=x.viewpoint.scale));const qe=x.extent||X||(0,Lt.Wg)(I?.viewpoint?.targetGeometry)?.extent||C,rt=x.center||he||qe?.center,gt=x.scale||Se||I?.viewpoint?.scale||qe&&(0,Ls.EK)(qe,[D[0]-M.left-M.right,D[1]-M.top-M.bottom]);return rt&&gt?new qd.Z({targetGeometry:rt,scale:gt,rotation:x.rotation||Ae||I?.viewpoint?.rotation||0}):null}_gotoAnimated(g,C){const v=this._gotoTask,M=this.animation;if(!M)return Promise.resolve();const D=g.then(I=>{if((0,ei.k_)(C),v!==this._gotoTask)throw new Ar.Z("view:goto-interrupted","Goto was interrupted");return M.update(I),this.animationManager.animate(M,this.viewpoint,C),M.when().then(()=>{},()=>{})});return this._cancellableGoTo(v,M,D)}_project(g,C){const v=g&&g.targetGeometry||g;if(!C)return g;if(!v)return null;if(C.imageCoordinateSystem||v.spatialReference?.imageCoordinateSystem||(0,SC.fS)(C,v.spatialReference))return g;const M=(0,Ro.iV)(v,C);if(!M)throw new Ar.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:v,spatialReference:C});return function CY(g){return g&&"esri.Viewpoint"===g.declaredClass}(g)?(g.targetGeometry=M,g):M}_resizeHandler(g){if(!this.ready)return;const C=this.state;let v=this.state.paddedViewState.viewpoint;const M=this.state.paddedViewState.size.concat();C.size=[g.width,g.height],(0,Ls.SI)(v,v,M,this.state.paddedViewState.size,this.resizeAlign),v=this.constraints.constrain(v,void 0),this.state.viewpoint=v}_startup(){this.timeline.begin("MapView Startup");const g=this._getDefaultViewpoint(),C=g.targetGeometry;try{this._project(g,this.spatialReference)}catch(X){Ai.Z.getLogger(this.declaredClass).warn(new cx.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:C.toJSON(),spatialReference:this.spatialReference,error:X})),g.targetGeometry=this.defaultsFromMap.extent?.center||new zo.Z({x:0,y:0,spatialReference:this.spatialReference})}this.constraints?.fit(g),this._set("state",new gH({padding:this._get("padding"),size:this.size,viewpoint:g})),this.graphics.owner=this;const v=new LL(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=v,this._magnifierView=new BL,this._magnifierView.magnifier=this.magnifier;const M=new jL({view:this});this._set("labelManager",M);const D=new aH({view:this});this._set("animationManager",D);const I=new UL({view:this,animationManager:D});this._set("mapViewNavigation",I),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),v.on("post-render",()=>this._set("rendering",v.renderRequested)),v.on("will-render",()=>this._set("rendering",v.renderRequested)),v.on("webgl-error",X=>this.fatalError=X.error),(0,en.YP)(()=>this.stationary,X=>v.stationary=X,en.tX),(0,en.YP)(()=>this.background,X=>{v.background=X,this._magnifierView.background=X},en.tX),(0,en.YP)(()=>this.magnifier,X=>this._magnifierView.magnifier=X,en.tX),(0,en.YP)(()=>this.renderingOptions,X=>v.renderingOptions=X,en.tX),(0,en.YP)(()=>this.highlightOptions,X=>v.highlightOptions=X,en.tX),(0,en.YP)(()=>this.state.id,()=>v.state=this.state,en.tX)],"map-view"),this._updateStageChildren();const x=this._resolveWhenReady;this._resolveWhenReady=[],x.forEach(X=>X(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[g,C],spatialReference:v,rotation:M,scale:D}=this.state.paddedViewState,I=new zo.Z({x:g,y:C,spatialReference:v});this._set("viewpoint",null),this._set("extent",null),this._set("center",I),this._set("zoom",-1),this._set("rotation",M),this._set("scale",D),this._set("spatialReference",v),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(C=>{this._stage.addChild(C.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const g=new yH.Z(x$.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",g);const C=new FL({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new NL(g)});this.frameTask.graphicsView=C,this._set("graphicsView",C)}_destroySpatialReferenceDependentProperties(){const g=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,g.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(g){if(!this.ready)return;this.frameTask.stop();for(const X of this.allLayerViews)X.processDetach();this._destroySpatialReferenceDependentProperties();const C=this.state.paddedViewState.clone();if((0,Lt.Wi)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=C.scale;else{const X=C.viewpoint.clone();X.scale=this._scaleBeforeChangingSpatialReference,C.viewpoint=X}const v=C.clone(),[M,D]=C.center;let I=null;try{I=this._project(new zo.Z({x:M,y:D,spatialReference:C.spatialReference}),g)}catch(X){(0,Ro.kR)()||Ai.Z.getLogger(this.declaredClass).warn(new cx.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:I?.toJSON(),spatialReference:g,error:X}))}I||(I=new zo.Z({x:0,y:0,spatialReference:g}));const x=(0,Ls.o2)(new qd.Z({targetGeometry:new zo.Z,scale:0,rotation:0}),C.viewpoint,I);v.viewpoint=x;try{const he=[C.size[0]/2,C.size[1]/2],Se=[he[0]+20,he[1]],Ae=C.toMap([0,0],Se),{x:Ve,y:qe}=this._project(new zo.Z({x:Ae[0],y:Ae[1],spatialReference:C.spatialReference}),g);Ae[0]=Ve,Ae[1]=qe,v.toScreen(Ae,Ae);const rt=(0,Ls.dI)(he,Ae,Se),gt=Math.hypot(Ae[0]-he[0],Ae[1]-he[1])/20;!Number.isFinite(gt)||Math.abs(gt)>4?(x.rotation=0,x.targetGeometry=new zo.Z({x:0,y:0,spatialReference:g})):(x.scale*=gt,x.scale>(0,Hc.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?x.rotation=0:x.rotation+=Number.isFinite(rt)?rt:0)}catch{}this._get("constraints").constrain(x,void 0),this._get("state").viewpoint=x,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const X of this.allLayerViews)X.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};zr.type="2d",(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"animationManager",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],zr.prototype,"deactivatedWebGLExtensions",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],zr.prototype,"debugWebGLExtensions",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"featuresTilingScheme",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"fullOpacity",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"graphicsTileStore",null),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"graphicsView",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"state",void 0),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"initialExtentRequired",null),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"labelManager",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"resourceManager",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"textureManager",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"mapViewNavigation",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],zr.prototype,"renderCanvas",void 0),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"renderingOptions",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"rendering",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],zr.prototype,"supersampleScreenshotsEnabled",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"supportsGround",void 0),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"_stationaryTimer",void 0),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"_defaultsFromMapSettings",null),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"_pePromise",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"typeSpecificPreconditionsReady",null),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"animation",null),(0,ze._)([(0,Ke.Cb)({type:EY})],zr.prototype,"background",null),(0,ze._)([(0,Ke.Cb)({value:null,type:zo.Z,dependsOn:["state.id","ready"]})],zr.prototype,"center",null),(0,ze._)([(0,Ke.Cb)({type:pL})],zr.prototype,"constraints",null),(0,ze._)([(0,Ke.Cb)({value:null,type:ev.Z,dependsOn:["state.id","ready"]})],zr.prototype,"extent",null),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"floors",void 0),(0,ze._)([(0,Ke.Cb)({type:ML.Z})],zr.prototype,"highlightOptions",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"inputManager",void 0),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"map",void 0),(0,ze._)([(0,Ke.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:g=>({top:0,right:0,bottom:0,left:0,...g})})],zr.prototype,"padding",null),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"resizeAlign",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0,dependsOn:["state.id"]})],zr.prototype,"resolution",null),(0,ze._)([(0,Ke.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],zr.prototype,"rotation",null),(0,ze._)([(0,Ke.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],zr.prototype,"scale",null),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],zr.prototype,"spatialReferenceLocked",void 0),(0,ze._)([(0,Ke.Cb)()],zr.prototype,"stationary",null),(0,ze._)([(0,Ke.Cb)({type:SL.T,readOnly:!0})],zr.prototype,"timeline",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"type",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"updating",null),(0,ze._)([(0,Ke.Cb)({value:null,type:qd.Z,dependsOn:["state.id","ready"]})],zr.prototype,"viewpoint",null),(0,ze._)([(0,Ke.Cb)({value:-1,dependsOn:["state.id","ready"]})],zr.prototype,"zoom",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],zr.prototype,"navigating",null),(0,ze._)([(0,Ke.Cb)({type:RL})],zr.prototype,"ui",void 0),zr=(0,ze._)([(0,cr.j)("esri.views.MapView")],zr);const WL=zr;function SS(g){const C=g.getObjectId();return C?`${g.layer?.uid??g.sourceLayer?.uid??"MapView"}/${C}`:`"MapView/${g.uid}`}function kL(g,C,v,M,D){return I=>{if(I instanceof lc.Z){if(I.layer===g)D?.();else{const x=g.allLayerViews.find(X=>X.layer===I.layer);x&&M?.(x)}v(SS(I))}else{const x=g.allLayerViews.find(X=>X.layer===I);x&&C(x)}}}function zL(g,C){if(g)if((0,MC.TW)(g))for(const v of g)if((0,MC.TW)(v))for(const M of v)C(M);else C(v);else C(g)}var TS=T(51470);function $L(g,C){return function(){return g.apply(C,arguments)}}const{toString:ZL}=Object.prototype,{getPrototypeOf:PS}=Object,DS=(g=>C=>{const v=ZL.call(C);return g[v]||(g[v]=v.slice(8,-1).toLowerCase())})(Object.create(null)),ou=g=>(g=g.toLowerCase(),C=>DS(C)===g),Uv=g=>C=>typeof C===g,{isArray:nf}=Array,_0=Uv("undefined"),GL=ou("ArrayBuffer"),PY=Uv("string"),dd=Uv("function"),KL=Uv("number"),wS=g=>null!==g&&"object"==typeof g,Bv=g=>{if("object"!==DS(g))return!1;const C=PS(g);return!(null!==C&&C!==Object.prototype&&null!==Object.getPrototypeOf(C)||Symbol.toStringTag in g||Symbol.iterator in g)},wY=ou("Date"),IY=ou("File"),OY=ou("Blob"),AY=ou("FileList"),LY=ou("URLSearchParams");function E0(g,C,{allOwnKeys:v=!1}={}){if(null===g||typeof g>"u")return;let M,D;if("object"!=typeof g&&(g=[g]),nf(g))for(M=0,D=g.length;M<D;M++)C.call(null,g[M],M,g);else{const I=v?Object.getOwnPropertyNames(g):Object.keys(g),x=I.length;let X;for(M=0;M<x;M++)X=I[M],C.call(null,g[X],X,g)}}function HL(g,C){C=C.toLowerCase();const v=Object.keys(g);let D,M=v.length;for(;M-- >0;)if(D=v[M],C===D.toLowerCase())return D;return null}const YL=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JL=g=>!_0(g)&&g!==YL,kY=(g=>C=>g&&C instanceof g)(typeof Uint8Array<"u"&&PS(Uint8Array)),ZY=ou("HTMLFormElement"),QL=(({hasOwnProperty:g})=>(C,v)=>g.call(C,v))(Object.prototype),KY=ou("RegExp"),XL=(g,C)=>{const v=Object.getOwnPropertyDescriptors(g),M={};E0(v,(D,I)=>{!1!==C(D,I,g)&&(M[I]=D)}),Object.defineProperties(g,M)},OS="abcdefghijklmnopqrstuvwxyz",qL="0123456789",e3={DIGIT:qL,ALPHA:OS,ALPHA_DIGIT:OS+OS.toUpperCase()+qL},On={isArray:nf,isArrayBuffer:GL,isBuffer:function SY(g){return null!==g&&!_0(g)&&null!==g.constructor&&!_0(g.constructor)&&dd(g.constructor.isBuffer)&&g.constructor.isBuffer(g)},isFormData:g=>{const C="[object FormData]";return g&&("function"==typeof FormData&&g instanceof FormData||ZL.call(g)===C||dd(g.toString)&&g.toString()===C)},isArrayBufferView:function TY(g){let C;return C=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(g):g&&g.buffer&&GL(g.buffer),C},isString:PY,isNumber:KL,isBoolean:g=>!0===g||!1===g,isObject:wS,isPlainObject:Bv,isUndefined:_0,isDate:wY,isFile:IY,isBlob:OY,isRegExp:KY,isFunction:dd,isStream:g=>wS(g)&&dd(g.pipe),isURLSearchParams:LY,isTypedArray:kY,isFileList:AY,forEach:E0,merge:function IS(){const{caseless:g}=JL(this)&&this||{},C={},v=(M,D)=>{const I=g&&HL(C,D)||D;C[I]=Bv(C[I])&&Bv(M)?IS(C[I],M):Bv(M)?IS({},M):nf(M)?M.slice():M};for(let M=0,D=arguments.length;M<D;M++)arguments[M]&&E0(arguments[M],v);return C},extend:(g,C,v,{allOwnKeys:M}={})=>(E0(C,(D,I)=>{g[I]=v&&dd(D)?$L(D,v):D},{allOwnKeys:M}),g),trim:g=>g.trim?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:g=>(65279===g.charCodeAt(0)&&(g=g.slice(1)),g),inherits:(g,C,v,M)=>{g.prototype=Object.create(C.prototype,M),g.prototype.constructor=g,Object.defineProperty(g,"super",{value:C.prototype}),v&&Object.assign(g.prototype,v)},toFlatObject:(g,C,v,M)=>{let D,I,x;const X={};if(C=C||{},null==g)return C;do{for(D=Object.getOwnPropertyNames(g),I=D.length;I-- >0;)x=D[I],(!M||M(x,g,C))&&!X[x]&&(C[x]=g[x],X[x]=!0);g=!1!==v&&PS(g)}while(g&&(!v||v(g,C))&&g!==Object.prototype);return C},kindOf:DS,kindOfTest:ou,endsWith:(g,C,v)=>{g=String(g),(void 0===v||v>g.length)&&(v=g.length);const M=g.indexOf(C,v-=C.length);return-1!==M&&M===v},toArray:g=>{if(!g)return null;if(nf(g))return g;let C=g.length;if(!KL(C))return null;const v=new Array(C);for(;C-- >0;)v[C]=g[C];return v},forEachEntry:(g,C)=>{const M=(g&&g[Symbol.iterator]).call(g);let D;for(;(D=M.next())&&!D.done;){const I=D.value;C.call(g,I[0],I[1])}},matchAll:(g,C)=>{let v;const M=[];for(;null!==(v=g.exec(C));)M.push(v);return M},isHTMLForm:ZY,hasOwnProperty:QL,hasOwnProp:QL,reduceDescriptors:XL,freezeMethods:g=>{XL(g,(C,v)=>{if(dd(g)&&-1!==["arguments","caller","callee"].indexOf(v))return!1;if(dd(g[v])){if(C.enumerable=!1,"writable"in C)return void(C.writable=!1);C.set||(C.set=()=>{throw Error("Can not rewrite read-only method '"+v+"'")})}})},toObjectSet:(g,C)=>{const v={},M=D=>{D.forEach(I=>{v[I]=!0})};return nf(g)?M(g):M(String(g).split(C)),v},toCamelCase:g=>g.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(v,M,D){return M.toUpperCase()+D}),noop:()=>{},toFiniteNumber:(g,C)=>(g=+g,Number.isFinite(g)?g:C),findKey:HL,global:YL,isContextDefined:JL,ALPHABET:e3,generateString:(g=16,C=e3.ALPHA_DIGIT)=>{let v="";const{length:M}=C;for(;g--;)v+=C[Math.random()*M|0];return v},isSpecCompliantForm:function qY(g){return!!(g&&dd(g.append)&&"FormData"===g[Symbol.toStringTag]&&g[Symbol.iterator])},toJSONObject:g=>{const C=new Array(10),v=(M,D)=>{if(wS(M)){if(C.indexOf(M)>=0)return;if(!("toJSON"in M)){C[D]=M;const I=nf(M)?[]:{};return E0(M,(x,X)=>{const he=v(x,D+1);!_0(he)&&(I[X]=he)}),C[D]=void 0,I}}return M};return v(g,0)}};function rf(g,C,v,M,D){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=g,this.name="AxiosError",C&&(this.code=C),v&&(this.config=v),M&&(this.request=M),D&&(this.response=D)}On.inherits(rf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:On.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const t3=rf.prototype,n3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(g=>{n3[g]={value:g}}),Object.defineProperties(rf,n3),Object.defineProperty(t3,"isAxiosError",{value:!0}),rf.from=(g,C,v,M,D,I)=>{const x=Object.create(t3);return On.toFlatObject(g,x,function(he){return he!==Error.prototype},X=>"isAxiosError"!==X),rf.call(x,g.message,C,v,M,D),x.cause=g,x.name=g.name,I&&Object.assign(x,I),x};const ns=rf;function AS(g){return On.isPlainObject(g)||On.isArray(g)}function i3(g){return On.endsWith(g,"[]")?g.slice(0,-2):g}function s3(g,C,v){return g?g.concat(C).map(function(D,I){return D=i3(D),!v&&I?"["+D+"]":D}).join(v?".":""):C}const tJ=On.toFlatObject(On,{},null,function(C){return/^is[A-Z]/.test(C)}),Vv=function nJ(g,C,v){if(!On.isObject(g))throw new TypeError("target must be an object");C=C||new FormData;const M=(v=On.toFlatObject(v,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ot,Ut){return!On.isUndefined(Ut[Ot])})).metaTokens,D=v.visitor||Ae,I=v.dots,x=v.indexes,he=(v.Blob||typeof Blob<"u"&&Blob)&&On.isSpecCompliantForm(C);if(!On.isFunction(D))throw new TypeError("visitor must be a function");function Se(gt){if(null===gt)return"";if(On.isDate(gt))return gt.toISOString();if(!he&&On.isBlob(gt))throw new ns("Blob is not supported. Use a Buffer instead.");return On.isArrayBuffer(gt)||On.isTypedArray(gt)?he&&"function"==typeof Blob?new Blob([gt]):Buffer.from(gt):gt}function Ae(gt,Ot,Ut){let qt=gt;if(gt&&!Ut&&"object"==typeof gt)if(On.endsWith(Ot,"{}"))Ot=M?Ot:Ot.slice(0,-2),gt=JSON.stringify(gt);else if(On.isArray(gt)&&function eJ(g){return On.isArray(g)&&!g.some(AS)}(gt)||(On.isFileList(gt)||On.endsWith(Ot,"[]"))&&(qt=On.toArray(gt)))return Ot=i3(Ot),qt.forEach(function(tn,Gn){!On.isUndefined(tn)&&null!==tn&&C.append(!0===x?s3([Ot],Gn,I):null===x?Ot:Ot+"[]",Se(tn))}),!1;return!!AS(gt)||(C.append(s3(Ut,Ot,I),Se(gt)),!1)}const Ve=[],qe=Object.assign(tJ,{defaultVisitor:Ae,convertValue:Se,isVisitable:AS});if(!On.isObject(g))throw new TypeError("data must be an object");return function rt(gt,Ot){if(!On.isUndefined(gt)){if(-1!==Ve.indexOf(gt))throw Error("Circular reference detected in "+Ot.join("."));Ve.push(gt),On.forEach(gt,function(qt,_n){!0===(!(On.isUndefined(qt)||null===qt)&&D.call(C,qt,On.isString(_n)?_n.trim():_n,Ot,qe))&&rt(qt,Ot?Ot.concat(_n):[_n])}),Ve.pop()}}(g),C};function o3(g){const C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(g).replace(/[!'()~]|%20|%00/g,function(M){return C[M]})}function a3(g,C){this._pairs=[],g&&Vv(g,this,C)}const l3=a3.prototype;l3.append=function(C,v){this._pairs.push([C,v])},l3.toString=function(C){const v=C?function(M){return C.call(this,M,o3)}:o3;return this._pairs.map(function(D){return v(D[0])+"="+v(D[1])},"").join("&")};const c3=a3;function rJ(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u3(g,C,v){if(!C)return g;const M=v&&v.encode||rJ,D=v&&v.serialize;let I;if(I=D?D(C,v):On.isURLSearchParams(C)?C.toString():new c3(C,v).toString(M),I){const x=g.indexOf("#");-1!==x&&(g=g.slice(0,x)),g+=(-1===g.indexOf("?")?"?":"&")+I}return g}const d3=class iJ{constructor(){this.handlers=[]}use(C,v,M){return this.handlers.push({fulfilled:C,rejected:v,synchronous:!!M&&M.synchronous,runWhen:M?M.runWhen:null}),this.handlers.length-1}eject(C){this.handlers[C]&&(this.handlers[C]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(C){On.forEach(this.handlers,function(M){null!==M&&C(M)})}},h3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sJ=typeof URLSearchParams<"u"?URLSearchParams:c3,oJ=FormData,aJ=(()=>{let g;return(!(typeof navigator<"u")||"ReactNative"!==(g=navigator.product)&&"NativeScript"!==g&&"NS"!==g)&&typeof window<"u"&&typeof document<"u"})(),lJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,gc={isBrowser:!0,classes:{URLSearchParams:sJ,FormData:oJ,Blob},isStandardBrowserEnv:aJ,isStandardBrowserWebWorkerEnv:lJ,protocols:["http","https","file","blob","url","data"]},p3=function hJ(g){function C(v,M,D,I){let x=v[I++];const X=Number.isFinite(+x),he=I>=v.length;return x=!x&&On.isArray(D)?D.length:x,he?(D[x]=On.hasOwnProp(D,x)?[D[x],M]:M,!X):((!D[x]||!On.isObject(D[x]))&&(D[x]=[]),C(v,M,D[x],I)&&On.isArray(D[x])&&(D[x]=function dJ(g){const C={},v=Object.keys(g);let M;const D=v.length;let I;for(M=0;M<D;M++)I=v[M],C[I]=g[I];return C}(D[x])),!X)}if(On.isFormData(g)&&On.isFunction(g.entries)){const v={};return On.forEachEntry(g,(M,D)=>{C(function uJ(g){return On.matchAll(/\w+|\[(\w*)]/g,g).map(C=>"[]"===C[0]?"":C[1]||C[0])}(M),D,v,0)}),v}return null},pJ={"Content-Type":void 0},Wv={transitional:h3,adapter:["xhr","http"],transformRequest:[function(C,v){const M=v.getContentType()||"",D=M.indexOf("application/json")>-1,I=On.isObject(C);if(I&&On.isHTMLForm(C)&&(C=new FormData(C)),On.isFormData(C))return D&&D?JSON.stringify(p3(C)):C;if(On.isArrayBuffer(C)||On.isBuffer(C)||On.isStream(C)||On.isFile(C)||On.isBlob(C))return C;if(On.isArrayBufferView(C))return C.buffer;if(On.isURLSearchParams(C))return v.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),C.toString();let X;if(I){if(M.indexOf("application/x-www-form-urlencoded")>-1)return function cJ(g,C){return Vv(g,new gc.classes.URLSearchParams,Object.assign({visitor:function(v,M,D,I){return gc.isNode&&On.isBuffer(v)?(this.append(M,v.toString("base64")),!1):I.defaultVisitor.apply(this,arguments)}},C))}(C,this.formSerializer).toString();if((X=On.isFileList(C))||M.indexOf("multipart/form-data")>-1){const he=this.env&&this.env.FormData;return Vv(X?{"files[]":C}:C,he&&new he,this.formSerializer)}}return I||D?(v.setContentType("application/json",!1),function fJ(g,C,v){if(On.isString(g))try{return(C||JSON.parse)(g),On.trim(g)}catch(M){if("SyntaxError"!==M.name)throw M}return(v||JSON.stringify)(g)}(C)):C}],transformResponse:[function(C){const v=this.transitional||Wv.transitional,M=v&&v.forcedJSONParsing,D="json"===this.responseType;if(C&&On.isString(C)&&(M&&!this.responseType||D)){const x=!(v&&v.silentJSONParsing)&&D;try{return JSON.parse(C)}catch(X){if(x)throw"SyntaxError"===X.name?ns.from(X,ns.ERR_BAD_RESPONSE,this,null,this.response):X}}return C}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gc.classes.FormData,Blob:gc.classes.Blob},validateStatus:function(C){return C>=200&&C<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};On.forEach(["delete","get","head"],function(C){Wv.headers[C]={}}),On.forEach(["post","put","patch"],function(C){Wv.headers[C]=On.merge(pJ)});const xS=Wv,mJ=On.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f3=Symbol("internals");function b0(g){return g&&String(g).trim().toLowerCase()}function kv(g){return!1===g||null==g?g:On.isArray(g)?g.map(kv):String(g)}function RS(g,C,v,M){if(On.isFunction(M))return M.call(this,C,v);if(On.isString(C)){if(On.isString(M))return-1!==C.indexOf(M);if(On.isRegExp(M))return M.test(C)}}class zv{constructor(C){C&&this.set(C)}set(C,v,M){const D=this;function I(X,he,Se){const Ae=b0(he);if(!Ae)throw new Error("header name must be a non-empty string");const Ve=On.findKey(D,Ae);(!Ve||void 0===D[Ve]||!0===Se||void 0===Se&&!1!==D[Ve])&&(D[Ve||he]=kv(X))}const x=(X,he)=>On.forEach(X,(Se,Ae)=>I(Se,Ae,he));return On.isPlainObject(C)||C instanceof this.constructor?x(C,v):On.isString(C)&&(C=C.trim())&&!function vJ(g){return/^[-_a-zA-Z]+$/.test(g.trim())}(C)?x((g=>{const C={};let v,M,D;return g&&g.split("\n").forEach(function(x){D=x.indexOf(":"),v=x.substring(0,D).trim().toLowerCase(),M=x.substring(D+1).trim(),!(!v||C[v]&&mJ[v])&&("set-cookie"===v?C[v]?C[v].push(M):C[v]=[M]:C[v]=C[v]?C[v]+", "+M:M)}),C})(C),v):null!=C&&I(v,C,M),this}get(C,v){if(C=b0(C)){const M=On.findKey(this,C);if(M){const D=this[M];if(!v)return D;if(!0===v)return function yJ(g){const C=Object.create(null),v=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let M;for(;M=v.exec(g);)C[M[1]]=M[2];return C}(D);if(On.isFunction(v))return v.call(this,D,M);if(On.isRegExp(v))return v.exec(D);throw new TypeError("parser must be boolean|regexp|function")}}}has(C,v){if(C=b0(C)){const M=On.findKey(this,C);return!(!M||void 0===this[M]||v&&!RS(0,this[M],M,v))}return!1}delete(C,v){const M=this;let D=!1;function I(x){if(x=b0(x)){const X=On.findKey(M,x);X&&(!v||RS(0,M[X],X,v))&&(delete M[X],D=!0)}}return On.isArray(C)?C.forEach(I):I(C),D}clear(C){const v=Object.keys(this);let M=v.length,D=!1;for(;M--;){const I=v[M];(!C||RS(0,this[I],I,C))&&(delete this[I],D=!0)}return D}normalize(C){const v=this,M={};return On.forEach(this,(D,I)=>{const x=On.findKey(M,I);if(x)return v[x]=kv(D),void delete v[I];const X=C?function _J(g){return g.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(C,v,M)=>v.toUpperCase()+M)}(I):String(I).trim();X!==I&&delete v[I],v[X]=kv(D),M[X]=!0}),this}concat(...C){return this.constructor.concat(this,...C)}toJSON(C){const v=Object.create(null);return On.forEach(this,(M,D)=>{null!=M&&!1!==M&&(v[D]=C&&On.isArray(M)?M.join(", "):M)}),v}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([C,v])=>C+": "+v).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(C){return C instanceof this?C:new this(C)}static concat(C,...v){const M=new this(C);return v.forEach(D=>M.set(D)),M}static accessor(C){const M=(this[f3]=this[f3]={accessors:{}}).accessors,D=this.prototype;function I(x){const X=b0(x);M[X]||(function EJ(g,C){const v=On.toCamelCase(" "+C);["get","set","has"].forEach(M=>{Object.defineProperty(g,M+v,{value:function(D,I,x){return this[M].call(this,C,D,I,x)},configurable:!0})})}(D,x),M[X]=!0)}return On.isArray(C)?C.forEach(I):I(C),this}}zv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),On.freezeMethods(zv.prototype),On.freezeMethods(zv);const au=zv;function LS(g,C){const v=this||xS,M=C||v,D=au.from(M.headers);let I=M.data;return On.forEach(g,function(X){I=X.call(v,I,D.normalize(),C?C.status:void 0)}),D.normalize(),I}function m3(g){return!(!g||!g.__CANCEL__)}function g3(g,C,v){ns.call(this,g??"canceled",ns.ERR_CANCELED,C,v),this.name="CanceledError"}On.inherits(g3,ns,{__CANCEL__:!0});const $v=g3,CJ=gc.isStandardBrowserEnv?{write:function(v,M,D,I,x,X){const he=[];he.push(v+"="+encodeURIComponent(M)),On.isNumber(D)&&he.push("expires="+new Date(D).toGMTString()),On.isString(I)&&he.push("path="+I),On.isString(x)&&he.push("domain="+x),!0===X&&he.push("secure"),document.cookie=he.join("; ")},read:function(v){const M=document.cookie.match(new RegExp("(^|;\\s*)("+v+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove:function(v){this.write(v,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function y3(g,C){return g&&!function MJ(g){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(g)}(C)?function SJ(g,C){return C?g.replace(/\/+$/,"")+"/"+C.replace(/^\/+/,""):g}(g,C):C}const TJ=gc.isStandardBrowserEnv?function(){const C=/(msie|trident)/i.test(navigator.userAgent),v=document.createElement("a");let M;function D(I){let x=I;return C&&(v.setAttribute("href",x),x=v.href),v.setAttribute("href",x),{href:v.href,protocol:v.protocol?v.protocol.replace(/:$/,""):"",host:v.host,search:v.search?v.search.replace(/^\?/,""):"",hash:v.hash?v.hash.replace(/^#/,""):"",hostname:v.hostname,port:v.port,pathname:"/"===v.pathname.charAt(0)?v.pathname:"/"+v.pathname}}return M=D(window.location.href),function(x){const X=On.isString(x)?D(x):x;return X.protocol===M.protocol&&X.host===M.host}}():function(){return!0};function v3(g,C){let v=0;const M=function DJ(g,C){g=g||10;const v=new Array(g),M=new Array(g);let x,D=0,I=0;return C=void 0!==C?C:1e3,function(he){const Se=Date.now(),Ae=M[I];x||(x=Se),v[D]=he,M[D]=Se;let Ve=I,qe=0;for(;Ve!==D;)qe+=v[Ve++],Ve%=g;if(D=(D+1)%g,D===I&&(I=(I+1)%g),Se-x<C)return;const rt=Ae&&Se-Ae;return rt?Math.round(1e3*qe/rt):void 0}}(50,250);return D=>{const I=D.loaded,x=D.lengthComputable?D.total:void 0,X=I-v,he=M(X);v=I;const Ae={loaded:I,total:x,progress:x?I/x:void 0,bytes:X,rate:he||void 0,estimated:he&&x&&I<=x?(x-I)/he:void 0,event:D};Ae[C?"download":"upload"]=!0,g(Ae)}}const Zv={http:null,xhr:typeof XMLHttpRequest<"u"&&function(g){return new Promise(function(v,M){let D=g.data;const I=au.from(g.headers).normalize(),x=g.responseType;let X;function he(){g.cancelToken&&g.cancelToken.unsubscribe(X),g.signal&&g.signal.removeEventListener("abort",X)}On.isFormData(D)&&(gc.isStandardBrowserEnv||gc.isStandardBrowserWebWorkerEnv)&&I.setContentType(!1);let Se=new XMLHttpRequest;if(g.auth){const rt=g.auth.username||"",gt=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";I.set("Authorization","Basic "+btoa(rt+":"+gt))}const Ae=y3(g.baseURL,g.url);function Ve(){if(!Se)return;const rt=au.from("getAllResponseHeaders"in Se&&Se.getAllResponseHeaders());(function bJ(g,C,v){const M=v.config.validateStatus;v.status&&M&&!M(v.status)?C(new ns("Request failed with status code "+v.status,[ns.ERR_BAD_REQUEST,ns.ERR_BAD_RESPONSE][Math.floor(v.status/100)-4],v.config,v.request,v)):g(v)})(function(qt){v(qt),he()},function(qt){M(qt),he()},{data:x&&"text"!==x&&"json"!==x?Se.response:Se.responseText,status:Se.status,statusText:Se.statusText,headers:rt,config:g,request:Se}),Se=null}if(Se.open(g.method.toUpperCase(),u3(Ae,g.params,g.paramsSerializer),!0),Se.timeout=g.timeout,"onloadend"in Se?Se.onloadend=Ve:Se.onreadystatechange=function(){!Se||4!==Se.readyState||0===Se.status&&(!Se.responseURL||0!==Se.responseURL.indexOf("file:"))||setTimeout(Ve)},Se.onabort=function(){Se&&(M(new ns("Request aborted",ns.ECONNABORTED,g,Se)),Se=null)},Se.onerror=function(){M(new ns("Network Error",ns.ERR_NETWORK,g,Se)),Se=null},Se.ontimeout=function(){let gt=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";g.timeoutErrorMessage&&(gt=g.timeoutErrorMessage),M(new ns(gt,(g.transitional||h3).clarifyTimeoutError?ns.ETIMEDOUT:ns.ECONNABORTED,g,Se)),Se=null},gc.isStandardBrowserEnv){const rt=(g.withCredentials||TJ(Ae))&&g.xsrfCookieName&&CJ.read(g.xsrfCookieName);rt&&I.set(g.xsrfHeaderName,rt)}void 0===D&&I.setContentType(null),"setRequestHeader"in Se&&On.forEach(I.toJSON(),function(gt,Ot){Se.setRequestHeader(Ot,gt)}),On.isUndefined(g.withCredentials)||(Se.withCredentials=!!g.withCredentials),x&&"json"!==x&&(Se.responseType=g.responseType),"function"==typeof g.onDownloadProgress&&Se.addEventListener("progress",v3(g.onDownloadProgress,!0)),"function"==typeof g.onUploadProgress&&Se.upload&&Se.upload.addEventListener("progress",v3(g.onUploadProgress)),(g.cancelToken||g.signal)&&(X=rt=>{Se&&(M(!rt||rt.type?new $v(null,g,Se):rt),Se.abort(),Se=null)},g.cancelToken&&g.cancelToken.subscribe(X),g.signal&&(g.signal.aborted?X():g.signal.addEventListener("abort",X)));const qe=function PJ(g){const C=/^([-+\w]{1,25})(:?\/\/|:)/.exec(g);return C&&C[1]||""}(Ae);qe&&-1===gc.protocols.indexOf(qe)?M(new ns("Unsupported protocol "+qe+":",ns.ERR_BAD_REQUEST,g)):Se.send(D||null)})}};On.forEach(Zv,(g,C)=>{if(g){try{Object.defineProperty(g,"name",{value:C})}catch{}Object.defineProperty(g,"adapterName",{value:C})}});function FS(g){if(g.cancelToken&&g.cancelToken.throwIfRequested(),g.signal&&g.signal.aborted)throw new $v(null,g)}function _3(g){return FS(g),g.headers=au.from(g.headers),g.data=LS.call(g,g.transformRequest),-1!==["post","put","patch"].indexOf(g.method)&&g.headers.setContentType("application/x-www-form-urlencoded",!1),(g=>{g=On.isArray(g)?g:[g];const{length:C}=g;let v,M;for(let D=0;D<C&&(v=g[D],!(M=On.isString(v)?Zv[v.toLowerCase()]:v));D++);if(!M)throw!1===M?new ns(`Adapter ${v} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(On.hasOwnProp(Zv,v)?`Adapter '${v}' is not available in the build`:`Unknown adapter '${v}'`);if(!On.isFunction(M))throw new TypeError("adapter is not a function");return M})(g.adapter||xS.adapter)(g).then(function(M){return FS(g),M.data=LS.call(g,g.transformResponse,M),M.headers=au.from(M.headers),M},function(M){return m3(M)||(FS(g),M&&M.response&&(M.response.data=LS.call(g,g.transformResponse,M.response),M.response.headers=au.from(M.response.headers))),Promise.reject(M)})}const E3=g=>g instanceof au?g.toJSON():g;function sf(g,C){C=C||{};const v={};function M(Se,Ae,Ve){return On.isPlainObject(Se)&&On.isPlainObject(Ae)?On.merge.call({caseless:Ve},Se,Ae):On.isPlainObject(Ae)?On.merge({},Ae):On.isArray(Ae)?Ae.slice():Ae}function D(Se,Ae,Ve){return On.isUndefined(Ae)?On.isUndefined(Se)?void 0:M(void 0,Se,Ve):M(Se,Ae,Ve)}function I(Se,Ae){if(!On.isUndefined(Ae))return M(void 0,Ae)}function x(Se,Ae){return On.isUndefined(Ae)?On.isUndefined(Se)?void 0:M(void 0,Se):M(void 0,Ae)}function X(Se,Ae,Ve){return Ve in C?M(Se,Ae):Ve in g?M(void 0,Se):void 0}const he={url:I,method:I,data:I,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:X,headers:(Se,Ae)=>D(E3(Se),E3(Ae),!0)};return On.forEach(Object.keys(g).concat(Object.keys(C)),function(Ae){const Ve=he[Ae]||D,qe=Ve(g[Ae],C[Ae],Ae);On.isUndefined(qe)&&Ve!==X||(v[Ae]=qe)}),v}const NS={};["object","boolean","number","function","string","symbol"].forEach((g,C)=>{NS[g]=function(M){return typeof M===g||"a"+(C<1?"n ":" ")+g}});const C3={};NS.transitional=function(C,v,M){function D(I,x){return"[Axios v1.3.2] Transitional option '"+I+"'"+x+(M?". "+M:"")}return(I,x,X)=>{if(!1===C)throw new ns(D(x," has been removed"+(v?" in "+v:"")),ns.ERR_DEPRECATED);return v&&!C3[x]&&(C3[x]=!0,console.warn(D(x," has been deprecated since v"+v+" and will be removed in the near future"))),!C||C(I,x,X)}};const jS={assertOptions:function OJ(g,C,v){if("object"!=typeof g)throw new ns("options must be an object",ns.ERR_BAD_OPTION_VALUE);const M=Object.keys(g);let D=M.length;for(;D-- >0;){const I=M[D],x=C[I];if(x){const X=g[I],he=void 0===X||x(X,I,g);if(!0!==he)throw new ns("option "+I+" must be "+he,ns.ERR_BAD_OPTION_VALUE)}else if(!0!==v)throw new ns("Unknown option "+I,ns.ERR_BAD_OPTION)}},validators:NS},hd=jS.validators;class Gv{constructor(C){this.defaults=C,this.interceptors={request:new d3,response:new d3}}request(C,v){"string"==typeof C?(v=v||{}).url=C:v=C||{},v=sf(this.defaults,v);const{transitional:M,paramsSerializer:D,headers:I}=v;let x;void 0!==M&&jS.assertOptions(M,{silentJSONParsing:hd.transitional(hd.boolean),forcedJSONParsing:hd.transitional(hd.boolean),clarifyTimeoutError:hd.transitional(hd.boolean)},!1),void 0!==D&&jS.assertOptions(D,{encode:hd.function,serialize:hd.function},!0),v.method=(v.method||this.defaults.method||"get").toLowerCase(),x=I&&On.merge(I.common,I[v.method]),x&&On.forEach(["delete","get","head","post","put","patch","common"],gt=>{delete I[gt]}),v.headers=au.concat(x,I);const X=[];let he=!0;this.interceptors.request.forEach(function(Ot){"function"==typeof Ot.runWhen&&!1===Ot.runWhen(v)||(he=he&&Ot.synchronous,X.unshift(Ot.fulfilled,Ot.rejected))});const Se=[];this.interceptors.response.forEach(function(Ot){Se.push(Ot.fulfilled,Ot.rejected)});let Ae,qe,Ve=0;if(!he){const gt=[_3.bind(this),void 0];for(gt.unshift.apply(gt,X),gt.push.apply(gt,Se),qe=gt.length,Ae=Promise.resolve(v);Ve<qe;)Ae=Ae.then(gt[Ve++],gt[Ve++]);return Ae}qe=X.length;let rt=v;for(Ve=0;Ve<qe;){const gt=X[Ve++],Ot=X[Ve++];try{rt=gt(rt)}catch(Ut){Ot.call(this,Ut);break}}try{Ae=_3.call(this,rt)}catch(gt){return Promise.reject(gt)}for(Ve=0,qe=Se.length;Ve<qe;)Ae=Ae.then(Se[Ve++],Se[Ve++]);return Ae}getUri(C){return u3(y3((C=sf(this.defaults,C)).baseURL,C.url),C.params,C.paramsSerializer)}}On.forEach(["delete","get","head","options"],function(C){Gv.prototype[C]=function(v,M){return this.request(sf(M||{},{method:C,url:v,data:(M||{}).data}))}}),On.forEach(["post","put","patch"],function(C){function v(M){return function(I,x,X){return this.request(sf(X||{},{method:C,headers:M?{"Content-Type":"multipart/form-data"}:{},url:I,data:x}))}}Gv.prototype[C]=v(),Gv.prototype[C+"Form"]=v(!0)});const Kv=Gv;class US{constructor(C){if("function"!=typeof C)throw new TypeError("executor must be a function.");let v;this.promise=new Promise(function(I){v=I});const M=this;this.promise.then(D=>{if(!M._listeners)return;let I=M._listeners.length;for(;I-- >0;)M._listeners[I](D);M._listeners=null}),this.promise.then=D=>{let I;const x=new Promise(X=>{M.subscribe(X),I=X}).then(D);return x.cancel=function(){M.unsubscribe(I)},x},C(function(I,x,X){M.reason||(M.reason=new $v(I,x,X),v(M.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(C){this.reason?C(this.reason):this._listeners?this._listeners.push(C):this._listeners=[C]}unsubscribe(C){if(!this._listeners)return;const v=this._listeners.indexOf(C);-1!==v&&this._listeners.splice(v,1)}static source(){let C;return{token:new US(function(D){C=D}),cancel:C}}}const AJ=US,BS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BS).forEach(([g,C])=>{BS[C]=g});const LJ=BS,fo=function M3(g){const C=new Kv(g),v=$L(Kv.prototype.request,C);return On.extend(v,Kv.prototype,C,{allOwnKeys:!0}),On.extend(v,C,null,{allOwnKeys:!0}),v.create=function(D){return M3(sf(g,D))},v}(xS);fo.Axios=Kv,fo.CanceledError=$v,fo.CancelToken=AJ,fo.isCancel=m3,fo.VERSION="1.3.2",fo.toFormData=Vv,fo.AxiosError=ns,fo.Cancel=fo.CanceledError,fo.all=function(C){return Promise.all(C)},fo.spread=function xJ(g){return function(v){return g.apply(null,v)}},fo.isAxiosError=function RJ(g){return On.isObject(g)&&!0===g.isAxiosError},fo.mergeConfig=sf,fo.AxiosHeaders=au,fo.formToJSON=g=>p3(On.isHTMLForm(g)?new FormData(g):g),fo.HttpStatusCode=LJ,fo.default=fo;const FJ=fo;class pd{constructor(C){this.baseUrl="http://10.254.30.106:5000/api/v1/namespaces/default/apis/test_parcel",this.user=null,this.loadingList=[],this.subjectList={},this.errorHandler=C,this.axiosClient=FJ.create({timeout:3e5,headers:{"X-Initialized-At":Date.now().toString(),"Access-Control-Allow-Origin":"*"}})}publish(C,v){const M=this.getSubject(C);M&&M.Subject&&M.Subject.next(v)}join(C){const v=this.getSubject(C);return v&&v.Observe?v.Observe:null}getSubject(C){if(C=(C=C||"").toLowerCase(),!this.subjectList[C]){const v=new Ie;this.subjectList[C]={Subject:v,Observe:v.asObservable()}}return this.subjectList[C]}destroySubscription(C){let v;for(;v=C.pop();)v&&v.unsubscribe&&v.unsubscribe()}getBaseURL(){return this.baseUrl}showLoading(C){-1==this.loadingList.indexOf(C)&&this.loadingList.push(C)}hideLoading(C){setTimeout(()=>{this.loadingList=this.loadingList.filter(function(v){return v!==C})},500)}get(C){var v=this;return(0,xn.Z)(function*(){try{let D=localStorage.getItem("token"),I={};return D&&(I.Authorization="Bearer "+D),(yield v.axiosClient.request({method:"get",url:v.baseUrl+C.url,params:C.params,headers:I,validateStatus:function(x){return!0}})).data}catch(D){return Promise.reject(v.normalizeError(D))}})()}post(C,v=""){var M=this;return(0,xn.Z)(function*(){try{let I=localStorage.getItem("token"),x={};I&&(x.Authorization="Bearer "+I);let X={method:"post",url:M.baseUrl+C.url,data:C.data,headers:x,validateStatus:function(he){return!0}};return v&&(X.responseType=v),(yield M.axiosClient.request(X)).data}catch(I){return Promise.reject(M.normalizeError(I))}})()}upload(C,v){let M=new AbortController,D=localStorage.getItem("token"),I={};return D&&(I.Authorization="Bearer "+D),{req:this.axiosClient.request({method:"post",url:this.baseUrl+C.url,data:C.data,headers:I,signal:M.signal,validateStatus:function(x){return!0},onUploadProgress:v}),controller:M}}setConfirmationServices(C){this.confirmationService=C}createConfirmDialog(C,v,M,D,I){this.confirmationService&&this.confirmationService.confirm({message:v,header:C,icon:M,accept:D,reject:I,acceptButtonStyleClass:"red-button",rejectButtonStyleClass:"olink p-button-link"})}setDialogService(C){this.dialogService=C}showDialog(C,v){let M=null;return this.dialogService&&(M=this.dialogService.open(C,v)),M}setMessageServices(C){this.messageService=C}showMessage(C){this.createMessage("success","Success",C)}showError(C){this.createMessage("error","Error",C)}showDefaultError(){this.showError("Something went wrong. Please try again.")}normalizeError(C){return this.errorHandler.handleError(C),{success:!1,code:"UnknownError",message:"An unexpected error occurred."}}createMessage(C,v,M){this.messageService&&this.messageService.add({severity:C,summary:v,detail:M})}arrayToCSV(C=[]){return C.map(v=>v.map(String).map(M=>M.replaceAll('"','""')).map(M=>`"${M}"`).join(",")).join("\r\n")}}pd.\u0275fac=function(C){return new(C||pd)(dr(Nd))},pd.\u0275prov=lr({token:pd,factory:pd.\u0275fac,providedIn:"root"});let S3=(()=>{class g{constructor(v,M){this._renderer=v,this._elementRef=M,this.onChange=D=>{},this.onTouched=()=>{}}setProperty(v,M){this._renderer.setProperty(this._elementRef.nativeElement,v,M)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return g.\u0275fac=function(v){return new(v||g)(pn(ba),pn(As))},g.\u0275dir=Tr({type:g}),g})(),_h=(()=>{class g extends S3{}return g.\u0275fac=function(){let C;return function(M){return(C||(C=Qs(g)))(M||g)}}(),g.\u0275dir=Tr({type:g,features:[zi]}),g})();const Za=new Or("NgValueAccessor"),BJ={provide:Za,useExisting:yr(()=>C0),multi:!0},WJ=new Or("CompositionEventMode");let C0=(()=>{class g extends S3{constructor(v,M,D){super(v,M),this._compositionMode=D,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function VJ(){const g=rc()?rc().getUserAgent():"";return/android (\d+)/.test(g.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return g.\u0275fac=function(v){return new(v||g)(pn(ba),pn(As),pn(WJ,8))},g.\u0275dir=Tr({type:g,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,M){1&v&&Fr("input",function(I){return M._handleInput(I.target.value)})("blur",function(){return M.onTouched()})("compositionstart",function(){return M._compositionStart()})("compositionend",function(I){return M._compositionEnd(I.target.value)})},features:[es([BJ]),zi]}),g})();const Ho=new Or("NgValidators"),md=new Or("NgAsyncValidators");function Hv(g){return null}function F3(g){return null!=g}function N3(g){return rm(g)?nr(g):g}function j3(g){let C={};return g.forEach(v=>{C=null!=v?{...C,...v}:C}),0===Object.keys(C).length?null:C}function U3(g,C){return C.map(v=>v(g))}function B3(g){return g.map(C=>function $J(g){return!g.validate}(C)?C:v=>C.validate(v))}function VS(g){return null!=g?function V3(g){if(!g)return null;const C=g.filter(F3);return 0==C.length?null:function(v){return j3(U3(v,C))}}(B3(g)):null}function WS(g){return null!=g?function W3(g){if(!g)return null;const C=g.filter(F3);return 0==C.length?null:function(v){return function jJ(...g){const C=Jn(g),{args:v,keys:M}=$A(g),D=new ue(I=>{const{length:x}=v;if(!x)return void I.complete();const X=new Array(x);let he=x,Se=x;for(let Ae=0;Ae<x;Ae++){let Ve=!1;un(v[Ae]).subscribe(Ne(I,qe=>{Ve||(Ve=!0,Se--),X[Ae]=qe},()=>he--,void 0,()=>{(!he||!Ve)&&(Se||I.next(M?GA(M,X):X),I.complete())}))}});return C?D.pipe(ZA(C)):D}(U3(v,C).map(N3)).pipe(Oe(j3))}}(B3(g)):null}function k3(g,C){return null===g?[C]:Array.isArray(g)?[...g,C]:[g,C]}function kS(g){return g?Array.isArray(g)?g:[g]:[]}function Yv(g,C){return Array.isArray(g)?g.includes(C):g===C}function Z3(g,C){const v=kS(C);return kS(g).forEach(D=>{Yv(v,D)||v.push(D)}),v}function G3(g,C){return kS(C).filter(v=>!Yv(g,v))}class K3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(C){this._rawValidators=C||[],this._composedValidatorFn=VS(this._rawValidators)}_setAsyncValidators(C){this._rawAsyncValidators=C||[],this._composedAsyncValidatorFn=WS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(C){this._onDestroyCallbacks.push(C)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(C=>C()),this._onDestroyCallbacks=[]}reset(C){this.control&&this.control.reset(C)}hasError(C,v){return!!this.control&&this.control.hasError(C,v)}getError(C,v){return this.control?this.control.getError(C,v):null}}class ga extends K3{get formDirective(){return null}get path(){return null}}class lu extends K3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class H3{constructor(C){this._cd=C}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zS=(()=>{class g extends H3{constructor(v){super(v)}}return g.\u0275fac=function(v){return new(v||g)(pn(lu,2))},g.\u0275dir=Tr({type:g,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,M){2&v&&dp("ng-untouched",M.isUntouched)("ng-touched",M.isTouched)("ng-pristine",M.isPristine)("ng-dirty",M.isDirty)("ng-valid",M.isValid)("ng-invalid",M.isInvalid)("ng-pending",M.isPending)},features:[zi]}),g})();const M0="VALID",Qv="INVALID",af="PENDING",S0="DISABLED";function Xv(g){return null!=g&&!Array.isArray(g)&&"object"==typeof g}class X3{constructor(C,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(C),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(C){this._rawValidators=this._composedValidatorFn=C}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(C){this._rawAsyncValidators=this._composedAsyncValidatorFn=C}get parent(){return this._parent}get valid(){return this.status===M0}get invalid(){return this.status===Qv}get pending(){return this.status==af}get disabled(){return this.status===S0}get enabled(){return this.status!==S0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(C){this._assignValidators(C)}setAsyncValidators(C){this._assignAsyncValidators(C)}addValidators(C){this.setValidators(Z3(C,this._rawValidators))}addAsyncValidators(C){this.setAsyncValidators(Z3(C,this._rawAsyncValidators))}removeValidators(C){this.setValidators(G3(C,this._rawValidators))}removeAsyncValidators(C){this.setAsyncValidators(G3(C,this._rawAsyncValidators))}hasValidator(C){return Yv(this._rawValidators,C)}hasAsyncValidator(C){return Yv(this._rawAsyncValidators,C)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(C={}){this.touched=!0,this._parent&&!C.onlySelf&&this._parent.markAsTouched(C)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(C=>C.markAllAsTouched())}markAsUntouched(C={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}markAsDirty(C={}){this.pristine=!1,this._parent&&!C.onlySelf&&this._parent.markAsDirty(C)}markAsPristine(C={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}markAsPending(C={}){this.status=af,!1!==C.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!C.onlySelf&&this._parent.markAsPending(C)}disable(C={}){const v=this._parentMarkedDirty(C.onlySelf);this.status=S0,this.errors=null,this._forEachChild(M=>{M.disable({...C,onlySelf:!0})}),this._updateValue(),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...C,skipPristineCheck:v}),this._onDisabledChange.forEach(M=>M(!0))}enable(C={}){const v=this._parentMarkedDirty(C.onlySelf);this.status=M0,this._forEachChild(M=>{M.enable({...C,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent}),this._updateAncestors({...C,skipPristineCheck:v}),this._onDisabledChange.forEach(M=>M(!1))}_updateAncestors(C){this._parent&&!C.onlySelf&&(this._parent.updateValueAndValidity(C),C.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(C){this._parent=C}getRawValue(){return this.value}updateValueAndValidity(C={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===M0||this.status===af)&&this._runAsyncValidator(C.emitEvent)),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!C.onlySelf&&this._parent.updateValueAndValidity(C)}_updateTreeValidity(C={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(C)),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?S0:M0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(C){if(this.asyncValidator){this.status=af,this._hasOwnPendingAsyncValidator=!0;const v=N3(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(M=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(M,{emitEvent:C})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(C,v={}){this.errors=C,this._updateControlsErrors(!1!==v.emitEvent)}get(C){let v=C;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((M,D)=>M&&M._find(D),this)}getError(C,v){const M=v?this.get(v):this;return M&&M.errors?M.errors[C]:null}hasError(C,v){return!!this.getError(C,v)}get root(){let C=this;for(;C._parent;)C=C._parent;return C}_updateControlsErrors(C){this.status=this._calculateStatus(),C&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(C)}_initObservables(){this.valueChanges=new Nr,this.statusChanges=new Nr}_calculateStatus(){return this._allControlsDisabled()?S0:this.errors?Qv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(af)?af:this._anyControlsHaveStatus(Qv)?Qv:M0}_anyControlsHaveStatus(C){return this._anyControls(v=>v.status===C)}_anyControlsDirty(){return this._anyControls(C=>C.dirty)}_anyControlsTouched(){return this._anyControls(C=>C.touched)}_updatePristine(C={}){this.pristine=!this._anyControlsDirty(),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}_updateTouched(C={}){this.touched=this._anyControlsTouched(),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}_registerOnCollectionChange(C){this._onCollectionChange=C}_setUpdateStrategy(C){Xv(C)&&null!=C.updateOn&&(this._updateOn=C.updateOn)}_parentMarkedDirty(C){return!C&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(C){return null}_assignValidators(C){this._rawValidators=Array.isArray(C)?C.slice():C,this._composedValidatorFn=function XJ(g){return Array.isArray(g)?VS(g):g||null}(this._rawValidators)}_assignAsyncValidators(C){this._rawAsyncValidators=Array.isArray(C)?C.slice():C,this._composedAsyncValidatorFn=function qJ(g){return Array.isArray(g)?WS(g):g||null}(this._rawAsyncValidators)}}const T0=new Or("CallSetDisabledState",{providedIn:"root",factory:()=>JS}),JS="always";function P0(g,C,v=JS){(function QS(g,C){const v=function z3(g){return g._rawValidators}(g);null!==C.validator?g.setValidators(k3(v,C.validator)):"function"==typeof v&&g.setValidators([v]);const M=function $3(g){return g._rawAsyncValidators}(g);null!==C.asyncValidator?g.setAsyncValidators(k3(M,C.asyncValidator)):"function"==typeof M&&g.setAsyncValidators([M]);const D=()=>g.updateValueAndValidity();t_(C._rawValidators,D),t_(C._rawAsyncValidators,D)})(g,C),C.valueAccessor.writeValue(g.value),(g.disabled||"always"===v)&&C.valueAccessor.setDisabledState?.(g.disabled),function nQ(g,C){C.valueAccessor.registerOnChange(v=>{g._pendingValue=v,g._pendingChange=!0,g._pendingDirty=!0,"change"===g.updateOn&&q3(g,C)})}(g,C),function iQ(g,C){const v=(M,D)=>{C.valueAccessor.writeValue(M),D&&C.viewToModelUpdate(M)};g.registerOnChange(v),C._registerOnDestroy(()=>{g._unregisterOnChange(v)})}(g,C),function rQ(g,C){C.valueAccessor.registerOnTouched(()=>{g._pendingTouched=!0,"blur"===g.updateOn&&g._pendingChange&&q3(g,C),"submit"!==g.updateOn&&g.markAsTouched()})}(g,C),function tQ(g,C){if(C.valueAccessor.setDisabledState){const v=M=>{C.valueAccessor.setDisabledState(M)};g.registerOnDisabledChange(v),C._registerOnDestroy(()=>{g._unregisterOnDisabledChange(v)})}}(g,C)}function t_(g,C){g.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(C)})}function q3(g,C){g._pendingDirty&&g.markAsDirty(),g.setValue(g._pendingValue,{emitModelToViewChange:!1}),C.viewToModelUpdate(g._pendingValue),g._pendingChange=!1}function nF(g,C){const v=g.indexOf(C);v>-1&&g.splice(v,1)}function rF(g){return"object"==typeof g&&null!==g&&2===Object.keys(g).length&&"value"in g&&"disabled"in g}const iF=class extends X3{constructor(C=null,v,M){super(function KS(g){return(Xv(g)?g.validators:g)||null}(v),function HS(g,C){return(Xv(C)?C.asyncValidators:g)||null}(M,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(C),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xv(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=rF(C)?C.value:C)}setValue(C,v={}){this.value=this._pendingValue=C,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(M=>M(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(C,v={}){this.setValue(C,v)}reset(C=this.defaultValue,v={}){this._applyFormState(C),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(C){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(C){this._onChange.push(C)}_unregisterOnChange(C){nF(this._onChange,C)}registerOnDisabledChange(C){this._onDisabledChange.push(C)}_unregisterOnDisabledChange(C){nF(this._onDisabledChange,C)}_forEachChild(C){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(C){rF(C)?(this.value=this._pendingValue=C.value,C.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=C}},hQ={provide:lu,useExisting:yr(()=>w0)},aF=(()=>Promise.resolve())();let w0=(()=>{class g extends lu{constructor(v,M,D,I,x,X){super(),this._changeDetectorRef=x,this.callSetDisabledState=X,this.control=new iF,this._registered=!1,this.update=new Nr,this._parent=v,this._setValidators(M),this._setAsyncValidators(D),this.valueAccessor=function eT(g,C){if(!C)return null;let v,M,D;return Array.isArray(C),C.forEach(I=>{I.constructor===C0?v=I:function aQ(g){return Object.getPrototypeOf(g.constructor)===_h}(I)?M=I:D=I}),D||M||v||null}(0,I)}ngOnChanges(v){if(this._checkForErrors(),!this._registered||"name"in v){if(this._registered&&(this._checkName(),this.formDirective)){const M=v.name.previousValue;this.formDirective.removeControl({name:M,path:this._getPath(M)})}this._setUpControl()}"isDisabled"in v&&this._updateDisabled(v),function qS(g,C){if(!g.hasOwnProperty("model"))return!1;const v=g.model;return!!v.isFirstChange()||!Object.is(C,v.currentValue)}(v,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){P0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(v){aF.then(()=>{this.control.setValue(v,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(v){const M=v.isDisabled.currentValue,D=0!==M&&function Ep(g){return"boolean"==typeof g?g:null!=g&&"false"!==g}(M);aF.then(()=>{D&&!this.control.disabled?this.control.disable():!D&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(v){return this._parent?function qv(g,C){return[...C.path,g]}(v,this._parent):[v]}}return g.\u0275fac=function(v){return new(v||g)(pn(ga,9),pn(Ho,10),pn(md,10),pn(Za,10),pn(rl,8),pn(T0,8))},g.\u0275dir=Tr({type:g,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[es([hQ]),zi,Cr]}),g})(),cF=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({}),g})();let Eh=(()=>{class g{constructor(){this._validator=Hv}ngOnChanges(v){if(this.inputName in v){const M=this.normalizeInput(v[this.inputName].currentValue);this._enabled=this.enabled(M),this._validator=this._enabled?this.createValidator(M):Hv,this._onChange&&this._onChange()}}validate(v){return this._validator(v)}registerOnValidatorChange(v){this._onChange=v}enabled(v){return null!=v}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275dir=Tr({type:g,features:[Cr]}),g})();const FQ={provide:Ho,useExisting:yr(()=>lT),multi:!0};let lT=(()=>{class g extends Eh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=v=>function vF(g){return"number"==typeof g?g:parseInt(g,10)}(v),this.createValidator=v=>function R3(g){return C=>function P3(g){return null!=g&&"number"==typeof g.length}(C.value)&&C.value.length>g?{maxlength:{requiredLength:g,actualLength:C.value.length}}:null}(v)}}return g.\u0275fac=function(){let C;return function(M){return(C||(C=Qs(g)))(M||g)}}(),g.\u0275dir=Tr({type:g,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(v,M){2&v&&ls("maxlength",M._enabled?M.maxlength:null)},inputs:{maxlength:"maxlength"},features:[es([FQ]),zi]}),g})(),jQ=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[cF]}),g})(),BQ=(()=>{class g{static withConfig(v){return{ngModule:g,providers:[{provide:T0,useValue:v.callSetDisabledState??JS}]}}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[jQ]}),g})(),PF=(()=>{class g{constructor(v,M,D){this.el=v,this.ngModel=M,this.cd=D}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(v){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return g.\u0275fac=function(v){return new(v||g)(pn(As),pn(w0,8),pn(rl))},g.\u0275dir=Tr({type:g,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(v,M){1&v&&Fr("input",function(I){return M.onInput(I)}),2&v&&dp("p-filled",M.filled)}}),g})(),VQ=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})();function WQ(g,C){1&g&&qi(0)}function kQ(g,C){1&g&&qi(0)}const cT=function(g){return{$implicit:g}};function zQ(g,C){if(1&g&&(zs(0),Zn(1,kQ,1,0,"ng-container",4),$s()),2&g){const v=kn().$implicit,M=kn();Tn(1),mn("ngTemplateOutlet",M.markerTemplate)("ngTemplateOutletContext",xi(2,cT,v))}}function $Q(g,C){1&g&&Xi(0,"div",10)}function ZQ(g,C){1&g&&Xi(0,"div",11)}function GQ(g,C){1&g&&qi(0)}function KQ(g,C){if(1&g&&(Yn(0,"div",2)(1,"div",3),Zn(2,WQ,1,0,"ng-container",4),er(),Yn(3,"div",5),Zn(4,zQ,2,4,"ng-container",6),Zn(5,$Q,1,0,"ng-template",null,7,jc),Zn(7,ZQ,1,0,"div",8),er(),Yn(8,"div",9),Zn(9,GQ,1,0,"ng-container",4),er()()),2&g){const v=C.$implicit,M=C.last,D=Na(6),I=kn();Tn(2),mn("ngTemplateOutlet",I.oppositeTemplate)("ngTemplateOutletContext",xi(7,cT,v)),Tn(2),mn("ngIf",I.markerTemplate)("ngIfElse",D),Tn(3),mn("ngIf",!M),Tn(2),mn("ngTemplateOutlet",I.contentTemplate)("ngTemplateOutletContext",xi(9,cT,v))}}const HQ=function(g,C,v,M,D,I,x){return{"p-timeline p-component":!0,"p-timeline-left":g,"p-timeline-right":C,"p-timeline-top":v,"p-timeline-bottom":M,"p-timeline-alternate":D,"p-timeline-vertical":I,"p-timeline-horizontal":x}};let YQ=(()=>{class g{constructor(v){this.el=v,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(v=>{switch(v.getType()){case"content":this.contentTemplate=v.template;break;case"opposite":this.oppositeTemplate=v.template;break;case"marker":this.markerTemplate=v.template}})}}return g.\u0275fac=function(v){return new(v||g)(pn(As))},g.\u0275cmp=fs({type:g,selectors:[["p-timeline"]],contentQueries:function(v,M,D){if(1&v&&nc(D,Kc,4),2&v){let I;Ni(I=ji())&&(M.templates=I)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(v,M){1&v&&(Yn(0,"div",0),Zn(1,KQ,10,11,"div",1),er()),2&v&&(xs(M.styleClass),mn("ngStyle",M.style)("ngClass",function rI(g,C,v,M,D,I,x,X,he,Se){const Ae=To()+g,Ve=Bn();let qe=qa(Ve,Ae,v,M,D,I);return Rg(Ve,Ae+4,x,X,he)||qe?ql(Ve,Ae+7,Se?C.call(Se,v,M,D,I,x,X,he):C(v,M,D,I,x,X,he)):nm(Ve,Ae+7)}(5,HQ,"left"===M.align,"right"===M.align,"top"===M.align,"bottom"===M.align,"alternate"===M.align,"vertical"===M.layout,"horizontal"===M.layout)),Tn(1),mn("ngForOf",M.value))},dependencies:[Wo,_m,ja,kc,ol],styles:[".p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-opposite{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-opposite,.p-timeline-event-content{flex:1;padding:0 1rem}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event{flex-direction:column-reverse}.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(even){flex-direction:column-reverse}\n"],encapsulation:2,changeDetection:0}),g})(),JQ=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,Hu]}),g})();const QQ=["mapViewNode"];function XQ(g,C){1&g&&(Yn(0,"div",20),Zi(1,"Track your parcel"),er())}function qQ(g,C){1&g&&(Yn(0,"div",21),Zi(1,"Input your track number and search"),er())}function eX(g,C){if(1&g){const v=Ms();Yn(0,"div",22),Xi(1,"ng-lottie",23),Yn(2,"span",24)(3,"i",25),Fr("click",function(){return fi(v),mi(kn().checkParcel())}),er(),Yn(4,"input",26),Fr("ngModelChange",function(D){return fi(v),mi(kn().parcelNumber=D)}),er()()()}if(2&g){const v=kn();Tn(1),mn("options",v.options),Tn(3),mn("ngModel",v.parcelNumber)}}function tX(g,C){if(1&g&&(Yn(0,"small",27),Zi(1,"TxId: "),Yn(2,"span",28),Zi(3),er()()),2&g){const v=C.$implicit;Tn(3),Ca(v.TxId)}}function nX(g,C){if(1&g&&Zi(0),2&g){const v=C.$implicit;tE(" ",v.Value.address," (",v.Value.status,") ")}}const DF=function(g){return{hidden:g}};class I0{constructor(C){this.appService=C,this.view=null,this.graphicsLayer=null,this.parcelNumber="EF58256151TH",this.parcelHistory=[],this.options={path:"/assets/animation.json"},this.ignoreTxId="",this.showIgnore=!1,this.simpleMarkerSymbol={type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:1}},this.simpleLineSymbol={type:"simple-line",color:[226,119,40],width:2}}ngOnInit(){this.initializeMap().then(()=>{console.log("The map is ready.")})}ngOnDestroy(){this.view&&this.view.destroy()}initializeMap(){const C=this.mapViewEl.nativeElement;this.graphicsLayer=new TS.Z;const v=new GM({basemap:"topo-vector",layers:[this.graphicsLayer]}),M=new WL({map:v,center:[100.5379733488179,13.692471868103356],zoom:15,container:C});return this.view=M,this.view.when()}refresh(){this.checkParcel()}checkParcel(){var C=this;return(0,xn.Z)(function*(){if(C.graphicsLayer.removeAll(),C.parcelNumber){let M="CHECK_PARCEL";C.appService.showLoading(M);let D={url:"/query/GetAssetHistory",data:{input:{assetName:C.parcelNumber}}},I=yield C.appService.post(D);if(C.appService.hideLoading(M),I.length>0){C.parcelHistory=I.filter(X=>X.TxId!=C.ignoreTxId);let x=[];for(var v=0;v<C.parcelHistory.length;v++){let he=zo.Z.fromJSON(JSON.parse(C.parcelHistory[v].Value.location));const Se=new lc.Z({geometry:he,symbol:C.simpleMarkerSymbol});C.graphicsLayer.add(Se),x.push([he.longitude,he.latitude])}if(x.length>0){let X=new eG.Z({hasZ:!1,hasM:!0,paths:x,spatialReference:{wkid:4326}});const he=new lc.Z({geometry:X,symbol:C.simpleLineSymbol});C.graphicsLayer.add(he)}}else C.appService.showError("Tracking ID not found.")}else{let M=C.appService.showDialog(Lp,{header:"System",contentStyle:{overflow:"auto"},baseZIndex:1e4,data:{text:"Please Enter Digital Number For Track Your Shipment."}});M&&M.onClose.subscribe(D=>{})}})()}}I0.\u0275fac=function(C){return new(C||I0)(pn(pd))},I0.\u0275cmp=fs({type:I0,selectors:[["app-home"]],viewQuery:function(C,v){if(1&C&&Ss(QQ,7),2&C){let M;Ni(M=ji())&&(v.mapViewEl=M.first)}},decls:22,vars:11,consts:[[1,"flex","flex-column","h-full"],[1,"header","flex","flex-row","justify-content-center","align-items-center"],[1,"flex","align-items-center",2,"margin-left","20px"],[1,"pi","pi-bars","cursor-pointer","cus-size"],[1,"flex-1","flex","flex-row","justify-content-end","align-items-center",2,"gap","12px","margin-right","15px"],[1,"pi","pi-refresh","cursor-pointer","cus-size",3,"click"],[1,"pi","pi-bell","cursor-pointer","cus-size"],[1,"pi","pi-user","custom-profile","cursor-pointer"],[1,"flex","flex-1","flex-column","align-items-center",2,"padding","8px"],["class","txt-title","style","margin-top: 20px;",4,"ngIf"],["class","txt-detail","style","margin-top: 15px;",4,"ngIf"],["class","parcel-container flex flex-column justify-content-center align-items-center","style","margin-top: 40px;",4,"ngIf"],[2,"width","100%","height","500px",3,"ngClass"],["mapViewNode",""],[1,"card",2,"margin-top","15px"],[3,"value"],["pTemplate","content"],["pTemplate","opposite"],[1,"ignore",3,"click"],["pInputText","","type","text","placeholder","TxId",1,"p-inputtext-sm",3,"ngClass","ngModel","ngModelChange"],[1,"txt-title",2,"margin-top","20px"],[1,"txt-detail",2,"margin-top","15px"],[1,"parcel-container","flex","flex-column","justify-content-center","align-items-center",2,"margin-top","40px"],["height","300px",3,"options"],[1,"relative"],[1,"pi","pi-search","custom-icon","cursor-pointer",3,"click"],["type","text","maxlength","12","pInputText","","placeholder","12 Digits Number",2,"border-radius","20px","padding-right","50px",3,"ngModel","ngModelChange"],[1,"p-text-secondary"],[2,"color","blue"]],template:function(C,v){1&C&&(Yn(0,"div",0)(1,"div",1)(2,"div",2),Xi(3,"i",3),er(),Yn(4,"div",4)(5,"i",5),Fr("click",function(){return v.refresh()}),er(),Xi(6,"i",6)(7,"i",7),er()(),Yn(8,"div",8),Zn(9,XQ,2,0,"div",9),Zn(10,qQ,2,0,"div",10),Zn(11,eX,5,2,"div",11),Xi(12,"div",12,13),Yn(14,"div",14)(15,"p-timeline",15),Zn(16,tX,4,1,"ng-template",16),Zn(17,nX,1,2,"ng-template",17),er()(),Yn(18,"div")(19,"div",18),Fr("click",function(){return v.showIgnore=!0}),Zi(20,"Ignore Record"),er(),Yn(21,"input",19),Fr("ngModelChange",function(D){return v.ignoreTxId=D}),er()()()()),2&C&&(Tn(9),mn("ngIf",0==v.parcelHistory.length),Tn(1),mn("ngIf",0==v.parcelHistory.length),Tn(1),mn("ngIf",0==v.parcelHistory.length),Tn(1),mn("ngClass",xi(7,DF,0==v.parcelHistory.length)),Tn(3),mn("value",v.parcelHistory),Tn(6),mn("ngClass",xi(9,DF,!v.showIgnore))("ngModel",v.ignoreTxId))},dependencies:[Wo,ja,PF,C0,zS,lT,w0,Kc,YQ,CC],styles:["[_nghost-%COMP%]{height:100vh;display:block;width:100%}[_nghost-%COMP%]   .side-panel[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}[_nghost-%COMP%]   .esri-view[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}[_nghost-%COMP%]   .ignore[_ngcontent-%COMP%]{text-decoration:underline;margin-top:10px;color:gray;cursor:pointer}[_nghost-%COMP%]   #mapViewNode[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{height:64px;border-bottom:1px solid #ccc}[_nghost-%COMP%]   .parcel-container[_ngcontent-%COMP%]{background:rgba(48,189,180,.7);border-radius:24px;height:400px}[_nghost-%COMP%]   .txt-title[_ngcontent-%COMP%]{font-weight:600;font-size:2rem}[_nghost-%COMP%]   .txt-detail[_ngcontent-%COMP%]{color:#ccc;font-size:1.4rem;color:gray}[_nghost-%COMP%]   .cus-size[_ngcontent-%COMP%]{font-size:1.2rem!important}[_nghost-%COMP%]   .custom-profile[_ngcontent-%COMP%]{background-color:#000;color:#fff;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border-radius:40px}[_nghost-%COMP%]   .custom-icon[_ngcontent-%COMP%]{background-color:#fbc51b;width:40px;height:40px;display:flex;justify-content:center;align-items:center;border-radius:40px;color:#fff;margin-top:2px;position:absolute;right:.4rem}"]});var cf,rX=T(92383),Yo=T(69648),iX=T(96064),r_=T(89557),ro=T(60507),wF=T(10228),io=T(72791),IF=T(24959),OF=T(9997),cu=T(36460),jl=T(26352),uu=T(28093),AF=T(83308),lf=T(33351),Mi=T(59550),Ds=T(44725),oX=T(61430),aX=T(75897),lX=T(97979),O0=T(22823),gd=T(62160),xF=T(86842);class RF extends O0.j{constructor({targetPoint:C,constraint:v,previousVertex:M,otherVertex:D,otherVertexType:I,objectId:x,isDraped:X}){super(C,v,X,jl.B.SELF),this.previousVertex=M,this.otherVertex=D,this.otherVertexType=I,this.objectId=x}get hints(){const C=this.previousVertex,v=this.otherVertexType===cf.CENTER?this.otherVertex:this.targetPoint,M=this.otherVertexType===cf.CENTER?this.targetPoint:this.otherVertex;return[new gd.w(Ds.ze.TARGET,v,M,this.isDraped,this.domain),new gd.w(Ds.ze.REFERENCE,C,v,this.isDraped,this.domain),new xF.y(this.previousVertex,v,M,this.isDraped,this.domain)]}}!function(g){g[g.NEXT=0]="NEXT",g[g.CENTER=1]="CENTER"}(cf||(cf={}));var Jo=T(25858);let yd=class extends Qu.r{get updating(){return(0,Bp.oE)(this.snappingSources,({snappingSource:g})=>g.updating)||this.updatingHandles.updating}get snappingSources(){const g=this._get("snappingSources")||new Map,C=new Map;if((0,Lt.pC)(this.options)&&(0,Lt.pC)(this.options.featureSources))for(const v of this.options.featureSources.items){const M=v.layer.uid,D=g.get(M);if(D){g.delete(M),C.set(M,D);continue}if(!v.layer.loaded){this.updatingHandles.addPromise(v.layer.load());continue}const I=this._createSourceInfo(v);(0,Lt.pC)(I)&&C.set(M,I)}for(const[,v]of g)v.destroy();return C}constructor(g){super(g),this.options=null,this._domain=jl.B.FEATURE,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){this.updatingHandles.add(()=>this.snappingSources,()=>this.notifyChange("updating"),en.Z_),(0,Lt.pC)(this.view)&&this.handles.add([this.view.on("layerview-create",g=>this._updateLayerView(g.layer,g.layerView)),this.view.on("layerview-destroy",g=>this._updateLayerView(g.layer,null))])}_updateLayerView(g,C){for(const[,v]of this.snappingSources)v.snappingSource.layerSource.layer===g&&(v.layerView=C)}destroy(){this._set("options",null);for(const[,g]of this.snappingSources)g.destroy()}fetchCandidates(g,C,v,M){var D=this;return(0,xn.Z)(function*(){if(!(C&D._domain)||(0,Lt.Wi)(D.options)||!D.options.effectiveFeatureEnabled)return[];const I=[],x=D._computeScreenSizeDistanceParameters(g,v),X={distance:x,mode:(0,Lt.Wg)(D.view)?.type??"2d",point:g,coordinateHelper:v.coordinateHelper,types:D._types};for(const[,{snappingSource:Se,layerView:Ae}]of D.snappingSources)!Se.layerSource.enabled||(0,Lt.pC)(Ae)&&Ae.suspended||I.push(Se.fetchCandidates(X,M).then(Ve=>Ve.filter(qe=>!D._candidateIsExcluded(Se,qe,v.excludeFeature))));const he=(yield(0,ei.WW)(I)).flat();return D._addRightAngleCandidates(he,g,x,v),(0,ei.k_)(M),(0,Ds.lQ)(g,he),he})()}_addRightAngleCandidates(g,C,v,M){const D=(0,Lt.pC)(M.vertexHandle)?M.vertexHandle.rightEdge?.rightVertex?.pos:(0,Lt.pC)(M.editGeometryOperations)&&"polygon"===M.editGeometryOperations.data.type?(0,Lt.Wg)(M.editGeometryOperations.data.components[0]?.getFirstVertex())?.pos:null,I=(0,Lt.pC)(M.vertexHandle)?M.vertexHandle.leftEdge?.leftVertex?.pos:(0,Lt.pC)(M.editGeometryOperations)?(0,Lt.Wg)(M.editGeometryOperations.data.components[0]?.getLastVertex())?.pos:null,{view:x}=this,X=(0,Mi.$D)(D,x,M),he=(0,Mi.$D)(I,x,M),Se=g.length;for(let Ae=0;Ae<Se;Ae++)this._addRightAngleCandidate(g[Ae],he,C,v,g),this._addRightAngleCandidate(g[Ae],X,C,v,g)}_addRightAngleCandidate(g,C,v,M,D){if((0,Lt.Wi)(C)||!function uX(g){return(g instanceof aX.L||g instanceof oX.k)&&!function dX({constraint:{start:g,end:C}}){const v=(0,gl.d)(g,C),M=(0,ds.k)(g,C);return v<(0,fL.g)()||M/v<pX}(g)}(g))return;const I=g.constraint.closestTo(C),x=(I[0]-v[0])/M.x,X=(I[1]-v[1])/M.y,{start:he,end:Se}=g.constraint;if(x*x+X*X<=1){const Ae=new RF({targetPoint:I,otherVertex:C,otherVertexType:cf.NEXT,previousVertex:(0,ds.k)(I,he)>(0,ds.k)(I,Se)?he:Se,constraint:new lf.aU(C,I),objectId:g.objectId,isDraped:g.isDraped});D.push(Ae)}}_computeScreenSizeDistanceParameters(g,C){let v=(0,Lt.pC)(this.options)?this.options.distance*("touch"===C.pointer?this.options.touchSensitivityMultiplier:1):0;return(0,Lt.Wi)(this.view)?{x:v,y:v,z:v,distance:v}:"2d"===this.view.type?(v*=this.view.resolution,{x:v,y:v,z:v,distance:v}):this._computeScreenSizeDistanceParameters3D(g,v,this.view,C)}_computeScreenSizeDistanceParameters3D(g,C,v,M){const{spatialReference:D}=M;v.renderCoordsHelper.toRenderCoords(g,D,LF);const I=v.state.camera.computeScreenPixelSizeAt(LF),x=I*v.renderCoordsHelper.unitInMeters/v.mapCoordsHelper.unitInMeters,X=C*x,he=(0,Jo.Rs)(g,D,ro.jG,v),Se=he?uT(he,g,x,0,0,v,M):0,Ae=he?uT(he,g,0,x,0,v,M):0,Ve=he?uT(he,g,0,0,x,v,M):0;return{x:0===Se?0:X/Se,y:0===Ae?0:X/Ae,z:0===Ve?0:X/Ve,distance:I*C}}get _types(){return AF.r.EDGE|AF.r.VERTEX}_candidateIsExcluded(g,C,v){if((0,Lt.Wi)(v))return!1;const M=this._getCandidateObjectId(C);if((0,Lt.Wi)(M))return!1;const D=g.layerSource.layer;return"graphics"===D.type?v.uid===M:v.sourceLayer===D&&!(!v.attributes||!("objectIdField"in D))&&v.attributes[D.objectIdField]===M}_getCandidateObjectId(g){return g instanceof lX.a?g.objectId:null}_createSourceInfo(g){const C=this._createFeatureSnappingSourceType(g);if((0,Lt.Wi)(C))return null;if("loading"in C)return this.updatingHandles.addPromise(C.loading.then(()=>{this.destroyed||this.notifyChange("snappingSources")})),null;const v=(0,Lt.pC)(this.view)?this.view.allLayerViews.find(M=>M.layer===g.layer):null;return new cX(C.source,v)}_createFeatureSnappingSourceType(g){switch(g.layer.type){case"feature":case"geojson":case"csv":case"oriented-imagery":case"subtype-group":case"wfs":return this._createFeatureSnappingSourceFeatureLayer(g);case"graphics":return this._createFeatureSnappingSourceGraphicsLayer(g);case"map-notes":return this._createFeatureSnappingSourceMapNotesLayer(g);case"scene":case"building-scene":return this._createFeatureSnappingSourceSceneLayer(g)}return null}_createFeatureSnappingSourceSceneLayer(g){const{view:C}=this;if((0,Lt.Wi)(C)||"3d"!==C.type)return null;const v=this._getSourceModule("scene");return(0,Lt.pC)(v.module)?{source:new v.module.SceneLayerSnappingSource({layerSource:g,view:C})}:{loading:v.loader}}_createFeatureSnappingSourceFeatureLayer(g){switch(g.layer.source?.type){case"feature-layer":case"oriented-imagery":{const C=this._getSourceModule("featureService");return(0,Lt.pC)(C.module)?{source:new C.module.FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:g})}:{loading:C.loader}}case"memory":case"csv":case"geojson":case"wfs":{if("mesh"===g.layer.geometryType)return null;const C=this._getSourceModule("featureCollection");return(0,Lt.pC)(C.module)?{source:new C.module.FeatureCollectionSnappingSource({layerSource:g,view:this.view})}:{loading:C.loader}}}return null}_createFeatureSnappingSourceGraphicsLayer(g){const C=this._getSourceModule("graphics");return(0,Lt.pC)(C.module)?{source:new C.module.GraphicsSnappingSource({getGraphicsLayers:()=>[g.layer],spatialReference:this.spatialReference,view:this.view,layerSource:g})}:{loading:C.loader}}_createFeatureSnappingSourceMapNotesLayer(g){const C=this._getSourceModule("notes");return(0,Lt.pC)(C.module)?{source:new C.module.GraphicsSnappingSource({getGraphicsLayers:()=>(0,Lt.pC)(g.layer.sublayers)?g.layer.sublayers.toArray():[],spatialReference:this.spatialReference,view:this.view,layerSource:g})}:{loading:C.loader}}_getSourceModule(g){const C=this._sourceModules[g];if((0,Lt.Wi)(C.loader)){const v=this._loadSourceModule(g).then(M=>{C.module=M});return C.loader=v,{module:C.module,loader:v}}return{module:C.module,loader:C.loader}}_loadSourceModule(g){const C=this.updatingHandles;switch(g){case"featureService":return C.addPromise(Promise.all([T.e(14),T.e(8592),T.e(7519)]).then(T.bind(T,33683)));case"featureCollection":return C.addPromise(Promise.all([T.e(8592),T.e(565)]).then(T.bind(T,78176)));case"graphics":case"notes":return C.addPromise(Promise.all([T.e(8175),T.e(8592),T.e(9440)]).then(T.bind(T,66269)));case"scene":return C.addPromise(Promise.all([T.e(479),T.e(1573),T.e(8592),T.e(9603)]).then(T.bind(T,17493)))}}};(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],yd.prototype,"spatialReference",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],yd.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],yd.prototype,"options",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],yd.prototype,"updating",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],yd.prototype,"snappingSources",null),yd=(0,ze._)([(0,cr.j)("esri.views.interactive.snapping.FeatureSnappingEngine")],yd);class cX{constructor(C,v){this.snappingSource=C,this.layerView=v,this.handles=new Rl.Z;const M=this.snappingSource.layerSource.layer;"refresh"in M&&this.handles.add(M.on("refresh",()=>C.refresh())),this.handles.add([(0,en.YP)(()=>C.updating,D=>C.layerSource.updating=D,en.tX),(0,en.YP)(()=>C.availability,D=>C.layerSource.availability=D,en.tX)])}destroy(){this.snappingSource.destroy(),this.handles.destroy()}}function uT(g,C,v,M,D,I,{spatialReference:x}){const X=(0,gl.c)(hX,C);X[0]+=v,X[1]+=M,X[2]+=D;const he=(0,Jo.Rs)(X,x,ro.jG,I);return he?(0,Ds.fG)(he,g):1/0}const LF=(0,uu.c)(),hX=(0,uu.c)(),pX=1e-4;class i_{constructor(C,v){this.view=C,this.options=v,this.squaredShortLineThreshold=cu.c.shortLineThreshold*cu.c.shortLineThreshold}snap(C,v){return(0,Lt.pC)(v.vertexHandle)?"vertex"!==v.vertexHandle.type?[]:this.snapExistingVertex(C,v):this.snapNewVertex(C,v)}edgeExceedsShortLineThreshold(C,v){return this.exceedsShortLineThreshold((0,Mi.$D)(C.leftVertex.pos,this.view,v),(0,Mi.$D)(C.rightVertex.pos,this.view,v),v)}exceedsShortLineThreshold(C,v,{spatialReference:M}){return 0===this.squaredShortLineThreshold||(0,Ds.Bb)((0,Jo.Rs)(v,M,ro.jG,this.view),(0,Jo.Rs)(C,M,ro.jG,this.view))>this.squaredShortLineThreshold}isVertical(C,v){return(0,ds.k)(C,v)<cu.c.verticalLineThreshold}squaredProximityThreshold(C){return"touch"===C?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:C,touchSensitivityMultiplier:v}=this.options,M=C*v;return M*M}}class fX extends O0.j{constructor({lineStart:C,lineEnd:v,targetPoint:M,isDraped:D}){super(M,new lf.jg(C,v),D,jl.B.SELF),this._referenceLineHint=new gd.w(Ds.ze.REFERENCE_EXTENSION,C,v,D,this.domain)}get hints(){return[this._referenceLineHint,new gd.w(Ds.ze.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}var mX=T(26362),A0=T(396);class gX extends i_{snapNewVertex(C,v){const M=v.editGeometryOperations.data.components[0],D=M.edges.length,I=[];if(D<1)return I;const{spatialReference:x}=v,X=(0,Jo.Rs)(C,x,ro.jG,this.view),{view:he}=this,Se=M.edges[D-1];let Ae=Se;do{if(this.edgeExceedsShortLineThreshold(Ae,v)){const Ve=(0,Ds._j)(Ae,he,v);this._processCandidateProposal(Ve.left,Ve.right,C,X,v,I)}Ae=Ae.leftVertex.leftEdge}while(Ae&&Ae!==Se);return I}snapExistingVertex(C,v){const M=[],D=(0,Lt.Wg)(v.vertexHandle),I=D.component;if(I.edges.length<2)return M;const{view:x}=this,{spatialReference:X}=v,he=(0,Jo.Rs)(C,X,ro.jG,x),Se=D.leftEdge,Ae=D.rightEdge;Se&&Ae&&this.edgeExceedsShortLineThreshold(Se,v)&&this.edgeExceedsShortLineThreshold(Ae,v)&&this._processCandidateProposal((0,Mi.$D)(Se.leftVertex.pos,x,v),(0,Mi.$D)(Ae.rightVertex.pos,x,v),C,he,v,M);const Ve=I.edges[0];let qe=Ve;do{if(qe!==D.leftEdge&&qe!==D.rightEdge&&this.edgeExceedsShortLineThreshold(qe,v)){const rt=(0,Ds._j)(qe,x,v);this._processCandidateProposal(rt.left,rt.right,C,he,v,M)}qe=qe.rightVertex.rightEdge}while(qe&&qe!==Ve);return M}_processCandidateProposal(C,v,M,D,I,x){const{spatialReference:X,pointer:he}=I,Se=(0,Mi.uc)((0,mX.ZE)(M,{start:C,end:v,type:A0.SP.LINE}));(0,Ds.Bb)(D,(0,Jo.Rs)(Se,X,ro.jG,this.view))<this.squaredProximityThreshold(he)&&x.push(new fX({lineStart:C,lineEnd:v,targetPoint:Se,isDraped:"on-the-ground"===I.elevationInfo?.mode}))}}var yX=T(80221);class vX extends O0.j{constructor({referenceLine:C,lineStart:v,targetPoint:M,isDraped:D}){const I=(0,uu.a)(v),{left:x,right:X}=C;(0,gl.b)(I,(0,gl.a)(I,I,X),x),super(M,new lf.jg(v,(0,Mi.uc)(I)),D,jl.B.SELF),this._referenceLines=[{edge:C,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new gd.w(Ds.ze.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new yX.L(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map(C=>new gd.w(Ds.ze.REFERENCE,C.edge.left,C.edge.right,this.isDraped,this.domain,C.fadeLeft,C.fadeRight))]}addReferenceLine(C){const v={edge:C,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach(M=>{(0,gl.k)(C.right,M.edge.left)&&(M.fadeLeft=!1,v.fadeRight=!1),(0,gl.k)(C.right,M.edge.right)&&(M.fadeRight=!1,v.fadeRight=!1),(0,gl.k)(C.left,M.edge.right)&&(M.fadeRight=!1,v.fadeLeft=!1),(0,gl.k)(C.left,M.edge.left)&&(M.fadeLeft=!1,v.fadeLeft=!1)}),this._referenceLines.push(v)}}class _X extends i_{snapNewVertex(C,v){const M=v.editGeometryOperations.data.components[0],D=M.edges.length,I=M.vertices.length,x=[];if(D<2)return x;const{view:X}=this,he=(0,Jo.Rs)(C,v.spatialReference,ro.jG,X),Se=(0,Mi.$D)(M.vertices[I-1].pos,X,v),Ae=(0,Mi.$D)(M.vertices[0].pos,X,v),Ve=M.edges[D-1];let qe=Ve;do{if(this.edgeExceedsShortLineThreshold(qe,v)){const rt=(0,Ds._j)(qe,X,v);this._checkEdgeForParallelLines(rt,Se,C,he,v,x),this._checkEdgeForParallelLines(rt,Ae,C,he,v,x)}qe=qe.leftVertex.leftEdge}while(qe&&qe!==Ve);return x}snapExistingVertex(C,v){const M=[],D=(0,Lt.Wg)(v.vertexHandle),I=D.component;if(I.edges.length<3)return M;const{view:x}=this,X=(0,Jo.Rs)(C,v.spatialReference,ro.jG,x),he=D.leftEdge,Se=D.rightEdge,Ae=I.vertices[0],Ve=(0,Mi.$D)(Ae.pos,x,v),rt=I.vertices[I.vertices.length-1],gt=(0,Mi.$D)(rt.pos,x,v),Ot=I.edges[0];let Ut=Ot;do{if(Ut!==he&&Ut!==Se&&this.edgeExceedsShortLineThreshold(Ut,v)){const qt=(0,Ds._j)(Ut,x,v);he&&this._checkEdgeForParallelLines(qt,(0,Mi.$D)(he.leftVertex.pos,x,v),C,X,v,M),Se&&this._checkEdgeForParallelLines(qt,(0,Mi.$D)(Se.rightVertex.pos,x,v),C,X,v,M),D===Ae?this._checkEdgeForParallelLines(qt,gt,C,X,v,M):D===rt&&this._checkEdgeForParallelLines(qt,Ve,C,X,v,M)}Ut=Ut.rightVertex.rightEdge}while(Ut&&Ut!==Ot);return M}_checkEdgeForParallelLines(C,v,M,D,I,x){const X=C.left,he=C.right;if((0,A0.k0)(bh,v,X,he),(0,ds.k)(bh,v)<cu.c.parallelLineThreshold)return;(0,A0.k0)(bh,M,X,he,v);const{spatialReference:Se,pointer:Ae}=I,Ve=(0,Mi.uc)((0,uu.f)(bh[0],bh[1],M[2]));if((0,Ds.Bb)(D,(0,Jo.Rs)(Ve,Se,ro.jG,this.view))<this.squaredProximityThreshold(Ae)){if(this.isVertical(Ve,v)||this.isVertical(X,he)||this._parallelToPreviousCandidate(C,x))return;x.push(new vX({referenceLine:C,lineStart:v,targetPoint:Ve,isDraped:"on-the-ground"===I.elevationInfo?.mode}))}}_parallelToPreviousCandidate(C,v){const M=C.left,D=C.right;for(const I of v)if((0,A0.k0)(bh,D,I.constraint.start,I.constraint.end,M),(0,ds.k)(bh,D)<cu.c.parallelLineThreshold)return I.addReferenceLine(C),!0;return!1}}const bh=(0,m0.a)();class EX extends i_{snapNewVertex(C,v){const M=v.editGeometryOperations.data.components[0],D=M.vertices.length,I=[];if(D<2)return I;const{view:x}=this,X=(0,Jo.Rs)(C,v.spatialReference,ro.jG,x),he=M.vertices[D-1];if(this.edgeExceedsShortLineThreshold(he.leftEdge,v)){const Ae=(0,Mi.$D)(he.pos,x,v),Ve=(0,Mi.$D)(he.leftEdge.leftVertex.pos,x,v);this._checkForSnappingCandidate(I,Ve,Ae,C,X,v)}const Se=M.vertices[0];if(this.edgeExceedsShortLineThreshold(Se.rightEdge,v)){const Ae=(0,Mi.$D)(Se.pos,x,v),Ve=(0,Mi.$D)(Se.rightEdge.rightVertex.pos,x,v);this._checkForSnappingCandidate(I,Ve,Ae,C,X,v)}return I}snapExistingVertex(C,v){const M=[],D=(0,Lt.Wg)(v.vertexHandle);if(D.component.vertices.length<3)return M;const{view:I}=this,x=(0,Jo.Rs)(C,v.spatialReference,ro.jG,I),X=D.leftEdge,he=D.rightEdge;if(X&&X.leftVertex.leftEdge){const Se=X.leftVertex.leftEdge;if(this.edgeExceedsShortLineThreshold(Se,v)){const Ae=(0,Mi.$D)(Se.rightVertex.pos,I,v),Ve=(0,Mi.$D)(Se.leftVertex.pos,I,v);this._checkForSnappingCandidate(M,Ve,Ae,C,x,v)}}if(he&&he.rightVertex.rightEdge){const Se=he.rightVertex.rightEdge;if(this.edgeExceedsShortLineThreshold(Se,v)){const Ae=(0,Mi.$D)(Se.leftVertex.pos,I,v),Ve=(0,Mi.$D)(Se.rightVertex.pos,I,v);this._checkForSnappingCandidate(M,Ve,Ae,C,x,v)}}return M}_checkForSnappingCandidate(C,v,M,D,I,x){const{spatialReference:X,pointer:he}=x;(0,ds.a)(s_,M,v);const Se=(0,gl.s)(bX,s_[1],-s_[0],0),Ae=(0,ds.h)(Se,(0,ds.a)(s_,D,M))/(0,ds.v)(Se),Ve=(0,Mi.uc)((0,ds.w)((0,uu.a)(D),M,Se,Ae));if((0,Ds.Bb)(I,(0,Jo.Rs)(Ve,X,ro.jG,this.view))<this.squaredProximityThreshold(he)){if(this.isVertical(Ve,M)||this.isVertical(M,v))return;const qe=(0,gl.z)((0,uu.c)(),M,Se,Math.sign(Ae));C.push(new RF({targetPoint:Ve,constraint:new lf.aU(M,(0,Mi.uc)(qe)),previousVertex:v,otherVertex:M,otherVertexType:cf.CENTER,isDraped:"on-the-ground"===x.elevationInfo?.mode}))}}}const s_=(0,m0.a)(),bX=(0,uu.c)();class CX extends O0.j{constructor({targetPoint:C,point1:v,point2:M,isDraped:D}){super(C,new lf.kt((0,Mi.uc)((0,gl.h)((0,uu.c)(),v,M,.5)),.5*(0,ds.d)(v,M)),D,jl.B.SELF),this._p1=v,this._p2=M}get hints(){return[new gd.w(Ds.ze.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new gd.w(Ds.ze.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new xF.y(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}class MX extends i_{snapNewVertex(C,v){const M=v.editGeometryOperations.data.components[0],D=[],I=M.vertices.length;if("polygon"!==v.editGeometryOperations.data.type||I<2)return D;const{view:x}=this,he=M.vertices[I-1],Se=(0,Mi.$D)(M.vertices[0].pos,x,v),Ae=(0,Mi.$D)(he.pos,x,v);return this._processCandidateProposal(Se,Ae,C,v,D),D}snapExistingVertex(C,v){const M=[],D=(0,Lt.Wg)(v.vertexHandle),I=D.component;if(I.edges.length<2||"polyline"===v.editGeometryOperations.data.type&&(0===D.index||D.index===I.vertices.length-1))return M;const{view:x}=this,X=(0,Mi.$D)(D.leftEdge.leftVertex.pos,x,v),he=(0,Mi.$D)(D.rightEdge.rightVertex.pos,x,v);return this._processCandidateProposal(X,he,C,v,M),M}_processCandidateProposal(C,v,M,D,I){if(!this.exceedsShortLineThreshold(C,v,D))return;const x=(0,ds.l)(SX,C,v,.5),X=.5*(0,ds.d)(C,v),he=(0,uu.c)();(0,A0.xO)(he,M,x,X),he[2]=M[2];const Se=(0,Mi.uc)(he),{spatialReference:Ae,pointer:Ve}=D,qe=(0,Jo.Rs)(M,Ae,ro.jG,this.view);if((0,Ds.Bb)(qe,(0,Jo.Rs)(Se,Ae,ro.jG,this.view))<this.squaredProximityThreshold(Ve)){if(this.isVertical(C,Se)||this.isVertical(Se,v))return;I.push(new CX({targetPoint:Se,point1:C,point2:v,isDraped:"on-the-ground"===D.elevationInfo?.mode}))}}}const SX=(0,m0.a)();let uf=class extends Ci.Z{constructor(g){super(g),this.updating=!1,this._snappers=new ss.Z,this._domain=jl.B.SELF}initialize(){this._snappers.push(new _X(this.view,this.options),new gX(this.view,this.options),new EX(this.view,this.options),new MX(this.view,this.options))}set options(g){this._set("options",g);for(const C of this._snappers)C.options=g}fetchCandidates(g,C,v){var M=this;return(0,xn.Z)(function*(){if(!(C&M._domain&&M.options.effectiveSelfEnabled))return[];const D=[];for(const I of M._snappers.items)for(const x of I.snap(g,v))D.push(x);return(0,Ds.lQ)(g,D),D})()}};function TX(g,C){return[new uf({view:g,options:C}),new yd({view:g,options:C,spatialReference:g.spatialReference})]}(0,ze._)([(0,Ke.Cb)({readOnly:!0})],uf.prototype,"updating",void 0),(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],uf.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],uf.prototype,"options",null),uf=(0,ze._)([(0,cr.j)("esri.views.interactive.snapping.SelfSnappingEngine")],uf);let Ch=class extends Ci.Z{constructor(g){super(g),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1}};(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],Ch.prototype,"layer",void 0),(0,ze._)([(0,Ke.Cb)()],Ch.prototype,"enabled",void 0),(0,ze._)([(0,Ke.Cb)()],Ch.prototype,"updating",void 0),(0,ze._)([(0,Ke.Cb)()],Ch.prototype,"availability",void 0),Ch=(0,ze._)([(0,cr.j)("esri.views.interactive.snapping.FeatureSnappingLayerSource")],Ch);const PX=Ch;let Ga=class extends Ci.Z{constructor(g){super(g),this.enabled=!1,this.enabledToggled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new ss.Z,this.distance=cu.c.distance,this.touchSensitivityMultiplier=cu.c.touchSensitivityMultiplier}get effectiveEnabled(){return this.enabledToggled?!this.enabled:this.enabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}};(0,ze._)([(0,Ke.Cb)()],Ga.prototype,"enabled",void 0),(0,ze._)([(0,Ke.Cb)()],Ga.prototype,"enabledToggled",void 0),(0,ze._)([(0,Ke.Cb)()],Ga.prototype,"selfEnabled",void 0),(0,ze._)([(0,Ke.Cb)()],Ga.prototype,"featureEnabled",void 0),(0,ze._)([(0,Ke.Cb)({type:ss.Z.ofType(PX)})],Ga.prototype,"featureSources",void 0),(0,ze._)([(0,Ke.Cb)()],Ga.prototype,"distance",void 0),(0,ze._)([(0,Ke.Cb)()],Ga.prototype,"touchSensitivityMultiplier",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ga.prototype,"effectiveEnabled",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ga.prototype,"effectiveSelfEnabled",null),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ga.prototype,"effectiveFeatureEnabled",null),Ga=(0,ze._)([(0,cr.j)("esri.views.interactive.snapping.SnappingOptions")],Ga);const dT=Ga;var DX=T(80985);class o_ extends O0.j{constructor(C,v,M,D){super(C,new lf.Bq(C,v.constraint,M.constraint),D,jl.B.ALL),this.first=v,this.second=M}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new DX.w(this.targetPoint,this.isDraped,this.domain)]}}let Ul=class extends(oh.Z.EventedMixin(Qu.r)){constructor(g){super(g),this.options=new dT,this.snappingEnginesFactory=TX,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=du.MAIN}initialize(){this.handles.add([(0,en.YP)(()=>{const{effectiveFeatureEnabled:g,effectiveSelfEnabled:C,touchSensitivityMultiplier:v,distance:M}=this.options;return{effectiveFeatureEnabled:g,effectiveSelfEnabled:C,touchSensitivityMultiplier:v,distance:M}},()=>{this.doneSnapping(),this.emit("changed")},en.Z_),(0,en.YP)(()=>this.options,g=>{for(const C of this._engines)C.options=g},en.Z_),(0,en.YP)(()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory}),({viewReady:g,snappingEnginesFactory:C})=>this._recreateEngines(g,C),en.tX)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some(g=>g.updating)}_recreateEngines(g,C){if(this._destroyEngines(),!g)return;const{view:v,options:M}=this;this._engines=C(v,M)}_destroyEngines(){for(const g of this._engines)g.destroy();this._engines=[]}get _squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:g,touchSensitivityMultiplier:C}=this.options,v=g*C;return v*v}get _squaredSatisfiesConstraintThreshold(){return cu.c.satisfiesConstraintScreenThreshold*cu.c.satisfiesConstraintScreenThreshold}snap(g){var C=this;return(0,xn.Z)(function*(){return function wX(g){return(0,Lt.pC)(g.scenePoint)}(g)?C._snapMultiPoint(g):C._snapSinglePoint(g)})()}update(g){const{point:C,context:v}=g;this._removeVisualization();const M=this._currentMainCandidate;if((0,Lt.Wi)(M))return C;const D=this._selectUpdateInput(g);if((0,Lt.Wi)(D))return C;const{spatialReference:I}=v,x=(0,Ro.iV)(D,I);if((0,Lt.Wi)(x))return C;const{view:X}=this,{elevationInfo:he,visualizer:Se}=v,Ae=[],Ve=(0,Mi.dF)(x,X,v),qe=M.constraint.closestTo(Ve);if(!this._arePointsWithinScreenThreshold(Ve,qe,v))return this._resetSnappingState(),C;M.targetPoint=qe,Ae.push(...M.hints);for(const rt of this._currentOtherActiveCandidates)rt.targetPoint=qe,Ae.push(...rt.hints);return(0,Lt.pC)(Se)&&this.handles.add(Se.draw(Ae,{spatialReference:I,elevationInfo:IX(v),view:X,selfSnappingZ:v.selfSnappingZ}),a_),(0,Mi.Gs)(qe,X,{z:C.z,m:C.m,spatialReference:C.spatialReference,elevationInfo:he})}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:g,scenePoint:C}){switch(this._currentSnappedType){case du.MAIN:return g;case du.SCENE:return C}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=du.MAIN}_removeVisualization(){this.handles.remove(a_)}_snapSinglePoint({point:g,context:C,signal:v}){var M=this;return(0,xn.Z)(function*(){const{view:D}=M,I=(0,Mi.dF)(g,D,C),x=yield M._fetchCandidates(I,jl.B.ALL,C,v);return M._createSnapResult(I,du.MAIN,x,D,C,{z:g.z,m:g.m,spatialReference:g.spatialReference,elevationInfo:C.elevationInfo},v)})()}_snapMultiPoint({point:g,scenePoint:C,context:v,signal:M}){var D=this;return(0,xn.Z)(function*(){const{view:I}=D,{coordinateHelper:x,spatialReference:X}=v;yield(0,Ro.iQ)(C.spatialReference,X);const he=(0,Ro.iV)(C,X),Se=(0,Mi.dF)(he,I,v),Ae=yield D._fetchCandidates(Se,jl.B.FEATURE,v,M);if(Ae.length>0){const rt=yield D._fetchCandidates(Se,jl.B.SELF,v,M);return D._createSnapResult(Se,du.SCENE,[...Ae,...rt],I,v,{z:he.z,m:he.m,spatialReference:he.spatialReference,elevationInfo:v.elevationInfo},M)}const Ve=(0,Mi.dF)(g,I,v),qe=yield D._fetchCandidates(Ve,jl.B.SELF,v,M);return D._createSnapResult(Ve,du.MAIN,qe,I,v,{z:x.hasZ()&&g.hasZ?g.z??0:void 0,m:x.hasM()&&g.hasM?g.m??0:void 0,spatialReference:g.spatialReference,elevationInfo:v.elevationInfo},M)})()}_fetchCandidates(g,C,v,M){var D=this;return(0,xn.Z)(function*(){return(yield Promise.all(D._engines.map(I=>I.fetchCandidates(g,C,v,M)))).flat()})()}_createSnapResult(g,C,v,M,D,I,x){return{get valid(){return!(0,ei.Hc)(x)},apply:()=>{const{spatialReference:X}=D,{snappedPoint:he,hints:Se}=this._processCandidates(g,C,v,D);return this._removeVisualization(),(0,Lt.pC)(D.visualizer)&&this.handles.add(D.visualizer.draw(Se,{spatialReference:X,elevationInfo:ro.jG,view:M,selfSnappingZ:D.selfSnappingZ}),a_),(0,Mi.Gs)(he,M,I)}}}_processCandidates(g,C,v,M){if(v.length<1)return this.doneSnapping(),{snappedPoint:g,hints:[]};this._currentSnappedType!==C&&this._resetSnappingState(),(0,Ds.lQ)(g,v);const D=this._currentMainCandidate;if((0,Lt.pC)(D)){const I=this._findOldConstraintInNewCandidates(D,v);if(I>=0){if(!(v[I]instanceof o_))return this._intersectWithOtherCandidates(I,v,g,C,M);if(this._arePointsWithinScreenThreshold(g,D.targetPoint,M))return this._updateSnappingCandidate(D,C,v,M)}}return this._intersectWithOtherCandidates(0,v,g,C,M)}_findOldConstraintInNewCandidates(g,C){return g instanceof o_?this._findOldCandidateIndex(C,g.first)>=0&&this._findOldCandidateIndex(C,g.second)>=0?0:-1:this._findOldCandidateIndex(C,g)}_intersectWithOtherCandidates(g,C,v,M,D){const{coordinateHelper:I}=D,x=C[g],X=[];for(let he=0;he<C.length;++he){if(he===g)continue;const Se=C[he];for(const Ae of x.constraint.intersect(Se.constraint)){const Ve=Ae.closestTo(x.targetPoint);X.push([new o_(Ve,x,Se,Se.isDraped),this._squaredScreenDistance(v,Ve,I)])}}return X.length>0&&(X.sort((he,Se)=>he[1]-Se[1]),X[0][1]<this._squaredPointProximityThreshold(D.pointer))?this._updateSnappingCandidate(X[0][0],M,C,D):this._updateSnappingCandidate(x,M,C,D)}_updateSnappingCandidate(g,C,v,M){this.doneSnapping(),this._currentMainCandidate=g,this._currentSnappedType=C;const D=this._currentMainCandidate.targetPoint,I=[];I.push(...g.hints);for(const x of v){if(g instanceof o_){if(x.constraint.equals(g.first.constraint)||x.constraint.equals(g.second.constraint))continue}else if(x.constraint.equals(g.constraint))continue;const X=x.constraint.closestTo(D);this._squaredScreenDistance(X,D,M.coordinateHelper)<this._squaredSatisfiesConstraintThreshold&&(x.targetPoint=D,this._currentOtherActiveCandidates.push(x),I.push(...x.hints))}return{snappedPoint:D,hints:I}}_squaredPointProximityThreshold(g){return"touch"===g?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}_arePointsWithinScreenThreshold(g,C,v){return this._squaredScreenDistance(g,C,v.coordinateHelper)<this._squaredPointProximityThreshold(v.pointer)}_squaredScreenDistance(g,C,v){return(0,Ds.Bb)(this._toScreen(g,v),this._toScreen(C,v))}_toScreen(g,C){return(0,Jo.Rs)(g,C.spatialReference,ro.jG,this.view)}_findOldCandidateIndex(g,C){let v=-1;for(let M=0;M<g.length;++M)if(C.constraint.equals(g[M].constraint)){v=M;break}return v}get test(){return{visualizationsActive:this.handles.has(a_),engines:this._engines}}};var du;(0,ze._)([(0,Ke.Cb)({constructOnly:!0})],Ul.prototype,"view",void 0),(0,ze._)([(0,Ke.Cb)()],Ul.prototype,"options",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Ul.prototype,"updating",null),(0,ze._)([(0,Ke.Cb)()],Ul.prototype,"snappingEnginesFactory",void 0),(0,ze._)([(0,Ke.Cb)()],Ul.prototype,"_engines",void 0),(0,ze._)([(0,Ke.Cb)()],Ul.prototype,"_squaredMouseProximityTreshold",null),(0,ze._)([(0,Ke.Cb)()],Ul.prototype,"_squaredTouchProximityThreshold",null),(0,ze._)([(0,Ke.Cb)()],Ul.prototype,"_squaredSatisfiesConstraintThreshold",null),Ul=(0,ze._)([(0,cr.j)("esri.views.interactive.snapping.SnappingManager")],Ul),function(g){g[g.MAIN=0]="MAIN",g[g.SCENE=1]="SCENE"}(du||(du={}));const a_="visualization-handle";function IX({coordinateHelper:g,elevationInfo:C}){return g.hasZ()?ro.jG:C}var OX=T(69001);let No=class extends oh.Z.EventedAccessor{constructor(g){super(g),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case"graphic-mover":case"move-3d":return"move";case"box":case"transform-3d":return"transform";case"reshape":case"reshape-3d":return"reshape";case"draw-2d":case"draw-3d":return this.activeComponent.geometryType;default:(0,IR.Bg)(this.activeComponent)}return null}addToHistory(g){this.history.redo=[],this.history.undo.push(g)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit("complete")}cancel(){this.cancelled=!0,this.complete()}_reset(){this.activeComponent?.reset()}refreshComponent(){const g=this.activeComponent;g&&("box"!==g.type&&"reshape"!==g.type&&"graphic-mover"!==g.type||g.refresh())}set undo(g){this._set("undo",()=>{this.canUndo()&&g()})}set redo(g){this._set("redo",()=>{this.canRedo()&&g()})}};(0,ze._)([(0,Ke.Cb)()],No.prototype,"activeComponent",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"cancelled",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"history",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"tool",null),(0,ze._)([(0,Ke.Cb)()],No.prototype,"type",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"canUndo",null),(0,ze._)([(0,Ke.Cb)()],No.prototype,"canRedo",null),(0,ze._)([(0,Ke.Cb)()],No.prototype,"onEnd",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"undo",null),(0,ze._)([(0,Ke.Cb)()],No.prototype,"redo",null),(0,ze._)([(0,Ke.Cb)()],No.prototype,"toggleTool",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"addToSelection",void 0),(0,ze._)([(0,Ke.Cb)()],No.prototype,"removeFromSelection",void 0),No=(0,ze._)([(0,cr.j)("esri.widgets.Sketch.support.OperationHandle")],No);let l_=class extends No{};(0,ze._)([(0,Ke.Cb)()],l_.prototype,"activeComponent",void 0),l_=(0,ze._)([(0,cr.j)("esri.widgets.Sketch.support.CreateOperationHandle")],l_);let hu=class extends No{};(0,ze._)([(0,Ke.Cb)()],hu.prototype,"activeComponent",void 0),hu=(0,ze._)([(0,cr.j)("esri.widgets.Sketch.support.UpdateOperationHandle")],hu);var hT=T(57213);const FF={defaultZ:0},c_={reshapeOptions:{edgeOperation:"split",shapeOperation:"move",vertexOperation:"move"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,tool:"transform"};let Yi=class extends oh.Z.EventedAccessor{constructor(g){super(g),this._numUpdating=0,this._handles=new Rl.Z,this._internalGraphicsLayer=new TS.Z({listMode:"hide",internal:!0,title:"SVM Internal"}),this._operationHandle=null,this._viewHandles=new Rl.Z,this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.labelOptions=new IF.Z,this.layer=null,this.pointSymbol=new hT.Z({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new UM.Z({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new Bx.Z({color:[130,130,130,1],width:2}),this._snappingManager=null,this.tooltipOptions=new OF.Z,this.updateGraphics=new ss.Z,this.updateOnGraphicClick=!0,this.updatePointSymbol=new hT.Z({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}}),this.updatePolygonSymbol=new UM.Z({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}}),this.updatePolylineSymbol=new Bx.Z({color:[12,207,255],width:2}),this.vertexSymbol=new hT.Z({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._originalAutoOpenEnabled=null,this.defaultCreateOptions=FF,this.defaultUpdateOptions=c_,this.snappingOptions=new dT}initialize(){this._handles.add([(0,en.on)(()=>this.view?.map?.layers,"change",g=>{g.removed.includes(this.layer)&&this.cancel()}),(0,en.on)(()=>this.layer?.graphics,"change",g=>{if((0,Lt.pC)(this._operationHandle))for(const C of g.removed)this.updateGraphics.includes(C)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(C):this._operationHandle.cancel())}),(0,en.YP)(()=>this.layer?.elevationInfo??null,g=>{g!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=g)},en.tX),(0,en.YP)(()=>this.view,g=>{(0,Lt.SC)(this._snappingManager),g&&(this._snappingManager=new Ul({view:g,options:this.snappingOptions}),"2d"===g.type?Promise.all([T.e(4918),T.e(14),T.e(8415),T.e(4998),T.e(3522),T.e(5055),T.e(8592),T.e(1545)]).then(T.bind(T,13066)):"3d"===g.type&&(Promise.all([T.e(5086),T.e(5314),T.e(4918),T.e(479),T.e(14),T.e(8415),T.e(3867),T.e(4998),T.e(2274),T.e(2585),T.e(3522),T.e(8592),T.e(3448)]).then(T.bind(T,77418)),Promise.all([T.e(5086),T.e(5314),T.e(479),T.e(14),T.e(3867),T.e(8742),T.e(2274),T.e(2585),T.e(1983),T.e(9941),T.e(8592),T.e(5881)]).then(T.bind(T,25881))))},en.tX),(0,en.YP)(()=>this.view?.spatialReference,(g,C)=>{g&&C&&!g.equals(C)&&this.cancel()})]),(0,Ds.Ob)(this)}destroy(){this.cancel(),this._handles=(0,Lt.SC)(this._handles),this._viewHandles=(0,Lt.SC)(this._viewHandles),this._removeDefaultLayer(),this._snappingManager=(0,Lt.SC)(this._snappingManager),this._set("view",null),this.emit("destroy")}get _defaultUpdateTool(){return"3d"===this.view?.type?"move":"transform"}get updating(){return this._numUpdating>0||(0,Lt.pC)(this._snappingManager)&&this._snappingManager.updating}get activeTool(){return this._operationHandle?.tool??null}get activeComponent(){return this._operationHandle?.activeComponent??null}get createGraphic(){return!(0,Lt.pC)(this.activeComponent)||"draw-3d"!==this.activeComponent.type&&"draw-2d"!==this.activeComponent.type?this._get("createGraphic"):(0,Lt.Wg)(this.activeComponent.graphic)}get defaultCreateOptions(){return this._get("defaultCreateOptions")}set defaultCreateOptions(g){this._set("defaultCreateOptions",{...FF,...g})}get defaultUpdateOptions(){return this._get("defaultUpdateOptions")}set defaultUpdateOptions(g){this._set("defaultUpdateOptions",{...c_,...g,reshapeOptions:{...c_.reshapeOptions,...g?.reshapeOptions}})}set snappingOptions(g){(0,Lt.pC)(this._snappingManager)&&(this._snappingManager.options=g),this._set("snappingOptions",g)}get state(){const g=!(!this.view?.ready||!this.layer);return g&&this._operationHandle?"active":g?"ready":"disabled"}get view(){return this._get("view")}set view(g){const C=this._get("view");if(C){const{container:M,map:D}=C;M&&(C.cursor=null),D&&D.remove(this._internalGraphicsLayer),this._viewHandles.removeAll(),this.cancel()}const v="view-ready";this._handles.remove(v),g&&this._handles.add((0,en.gx)(()=>g.ready,M=>{this._viewHandles.removeAll(),M&&this._viewHandles.add(this._generateViewHandles(g))},en.tX),v),this._set("view",g)}cancel(){this._moduleLoaderAbortController=(0,Lt.IM)(this._moduleLoaderAbortController),this._viewReadyAbortController=(0,Lt.IM)(this._viewReadyAbortController),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:g,updateGraphics:C}=this;if("active"===g&&C.length){const{activeTool:v,layer:M}=this,D=C.toArray();M.removeMany(D),this.cancel(),this._emitDeleteEvent({graphics:D,tool:v})}}duplicate(){if("active"===this.state&&this.updateGraphics.length){const g=this.updateGraphics.map(C=>C.clone()).toArray();return this.layer.addMany(g),this.emit("duplicate",{graphics:g,type:"duplicate"}),g}return[]}create(g,C){var v=this;return(0,xn.Z)(function*(){v.cancel(),yield v._waitViewReady();const{view:M,layer:D}=v;if(!M||"disabled"===v.state)throw D||v._logMissingLayer(),(0,ei.zE)();if((0,Lt.pC)(M.activeTool)&&(M.activeTool=null),!g)return void v._logError("sketch:missing-parameter","Missing parameter 'tool'.");(0,wF.p)(M,v._internalGraphicsLayer);const I=yield v._setupCreateOperation(g,C);(0,Lt.Wi)(I)||v.destroyed?M.map.remove(v._internalGraphicsLayer):(I.on("complete",()=>{if(I===v._operationHandle){const X=v.createGraphic,he=v._operationHandle.cancelled;v._operationHandle.destroy(),v._operationHandle=null,v._set("createGraphic",null),v.view&&v.view.map&&v.view.map.remove(v._internalGraphicsLayer),I.cancelled||null==X||D.add(X),v.emit("create",{graphic:X,state:he?"cancel":"complete",tool:g,toolEventInfo:null,type:"create"})}}),v._operationHandle=I,M.ready&&M.focus())})()}update(g,C){var v=this;return(0,xn.Z)(function*(){v.cancel(),yield v._waitViewReady();const{layer:M,view:D,state:I}=v;if(!D||"disabled"===I)throw M||v._logMissingLayer(),(0,ei.zE)();(0,Lt.pC)(D.activeTool)&&(D.activeTool=null);const x=Array.isArray(g)?g:[g];if(null==g||!x||!x.length)return void v._logError("sketch:missing-parameter","Missing parameter 'graphics'.");if(x.some(he=>he.layer!==M?(v._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):!!(0,Lt.Wi)(he.geometry)&&(v._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0)))return;const X=yield v._setupUpdateOperation(x,C);v.destroyed||(0,Lt.Wi)(X)||so(X)||((0,wF.p)(D,v._internalGraphicsLayer),v._setUpdateOperationHandle(X,C),v.emit("update",{graphics:x,state:"start",aborted:!1,tool:X.tool,toolEventInfo:null,type:"update"}))})()}_updateSpatialReference(g){var C=this;return(0,xn.Z)(function*(){const v=C.view;if(v){C._beginAsyncOperation(),g=Array.isArray(g)?g:[g];for(const M of g)(0,Lt.pC)(M.geometry)&&"mesh"!==M.geometry.type&&!(0,SC.fS)(M.geometry.spatialReference,v.spatialReference)&&((0,Ro.Up)(M.geometry.spatialReference,v.spatialReference)||(0,Ro.kR)()||(yield(0,Ro.zD)()),M.geometry=(0,Ro.iV)(M.geometry,v.spatialReference));C._endAsyncOperation()}else C._logMissingView()})()}undo(){this.canUndo()&&this._operationHandle?.undo()}redo(){this.canRedo()&&this._operationHandle?.redo()}canUndo(){return!(!this._operationHandle||!this._operationHandle.canUndo())}canRedo(){return!(!this._operationHandle||!this._operationHandle.canRedo())}toggleUpdateTool(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}_getFirstHit(g){var C=this;return(0,xn.Z)(function*(){const v=C.view;if(!v)return C._logMissingView(),null;if("2d"===v.type){const I=[];v.map.allLayers.forEach(X=>{"vector-tile"!==X.type&&"imagery"!==X.type||I.push(X)});const x=yield v.hitTest(g,{exclude:I});return(0,OX.qm)(x.results)}const M=[v.map.ground];v.map.allLayers.forEach(I=>{"integrated-mesh"===I.type&&M.push(I)});const D=yield v.hitTest(g,{exclude:M});if(D.results.length>0){const I=D.results[0];if((0,Lt.pC)(I)&&"graphic"===I.type&&I.graphic&&(!D.ground.mapPoint||v.map.ground.opacity<1||D.ground.distance-(0,Lt.Pt)(I.distance,0)>-Math.min(3*D.ground.distance,"global"===v.viewingMode?(0,rX.Iu)(v.renderCoordsHelper.spatialReference).radius/v.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return I}return null})()}_generateViewHandles(g){var C=this;return[g.on("immediate-click",function(){var v=(0,xn.Z)(function*(M){if("disabled"===C.state||"active"===C.state&&"create"===C._operationHandle?.type||!C.updateOnGraphicClick)return;C._beginAsyncOperation();const I=yield M.async(()=>C._getFirstHit((0,Ko.vT)(M)));let x=null;if((0,Lt.pC)(I)){const X=I.graphic;C.updateGraphics.includes(X)||X.layer===C.layer?(M.stopPropagation(),x=X):"2d"!==g.type||C._isComponentGraphic(X)||"active"!==C.state||C.cancel()}else"active"===C.state&&C.cancel();(0,Lt.pC)(x)&&!C.updateGraphics.includes(x)&&(yield C.update([x],{...C.defaultUpdateOptions,reshapeOptions:{...C.defaultUpdateOptions.reshapeOptions}})),C._endAsyncOperation()});return function(M){return v.apply(this,arguments)}}(),gs.f.WIDGET)]}_setupCreateOperation(g,C){var v=this;return(0,xn.Z)(function*(){const M=v.view;if(!M)return v._logMissingView(),null;const D={hasZ:"3d"===M.type,...v.defaultCreateOptions,...C},I=yield v._setupDrawGraphicTool(g,M,D);return(0,Lt.Wi)(I)?null:(M.tools.add(I),M.activeTool=I,v._setupCreateOperationHandle(I))})()}_setupDrawGraphicTool(g,C,v){var M=this;return(0,xn.Z)(function*(){if("multipoint"===g&&"3d"===C.type)return M._logError("sketch:create","Multipoint geometries are not supported in SceneView."),null;if(!C)return M._logMissingView(),null;const D="rectangle"!==g,I="rectangle"!==g,x={view:C,mode:"rectangle"===g||"circle"===g?"hybrid":"click",...v,snapToScene:!1,geometryType:g,graphicSymbol:M._getGraphicSymbolFromTool(g),snappingManager:M._snappingManager,forceUniformSize:I,centered:D};return"2d"===C.type?M._makeDrawGraphicTool2D(x):M._makeDrawGraphicTool3D(x)})()}_makeDrawGraphicTool2D(g){var C=this;return(0,xn.Z)(function*(){const v=yield C._requireModule(Promise.all([T.e(4918),T.e(14),T.e(8415),T.e(4998),T.e(3522),T.e(5055),T.e(8592),T.e(1545)]).then(T.bind(T,13066)));return so(v)||C.destroyed?null:new v.module.DrawGraphicTool2D({...g,activeVertexSymbol:C.activeVertexSymbol,regularVerticesSymbol:C.vertexSymbol,activeLineSymbol:C.activeLineSymbol,activeFillSymbol:xX(g.geometryType)?C.activeFillSymbol:null,tooltipOptions:C.tooltipOptions})})()}_makeDrawGraphicTool3D(g){var C=this;return(0,xn.Z)(function*(){const v=yield C._requireModule(Promise.all([T.e(5086),T.e(5314),T.e(4918),T.e(479),T.e(14),T.e(8415),T.e(3867),T.e(4998),T.e(2274),T.e(2585),T.e(3522),T.e(8592),T.e(3448)]).then(T.bind(T,77418)));if(so(v)||C.destroyed)return null;const{elevationInfo:M}=C.layer;return new v.module.DrawGraphicTool3D({...g,elevationInfo:M,snapToScene:!(0,Lt.pC)(M)||"absolute-height"===M.mode,labelOptions:C.labelOptions,tooltipOptions:C.tooltipOptions})})()}_setupCreateOperationHandle(g){const C=this.view;if(!C)return this._logMissingView(),null;let v=null;const M=g.forceUniformSize,D=g.centered,I=[C.on("key-down",X=>{if(X.key===io.j.pan)X.stopPropagation(),X.repeat||(g.enabled=!1);else if(X.key===io.j.complete)X.stopPropagation(),g.completeCreateOperation();else if(X.key!==io.j.vertexAdd||X.repeat)X.key===io.j.undo?(X.stopPropagation(),x.undo()):X.key===io.j.redo?(X.stopPropagation(),x.redo()):X.key!==io.j.constraint||"rectangle"!==g.geometryType&&"circle"!==g.geometryType||X.repeat?X.key===io.j.center&&(X.repeat||(g.centered=!D,X.stopPropagation())):(g.forceUniformSize=!M,X.stopPropagation());else{const he=g.drawOperation.geometryType;"polyline"!==he&&"polygon"!==he&&"multipoint"!==he||(X.stopPropagation(),g.drawOperation.commitStagedVertex())}},gs.f.WIDGET),C.on("key-up",X=>{X.key===io.j.pan?g.enabled=!0:X.key!==io.j.constraint||"rectangle"!==g.geometryType&&"circle"!==g.geometryType?X.key===io.j.center&&(g.centered=D,X.stopPropagation()):(g.forceUniformSize=M,X.stopPropagation())},gs.f.WIDGET),g.on("vertex-add",X=>{switch(v=(0,Lt.Wi)(v)?"start":"active",X.operation){case"apply":this.emit("create",{graphic:(0,Lt.Wg)(g.graphic),state:v,tool:this.activeTool,toolEventInfo:X,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[(0,Lt.Wg)(g.graphic)],tool:g.geometryType});break;case"redo":this._emitRedoEvent({graphics:[(0,Lt.Wg)(g.graphic)],tool:g.geometryType})}}),g.on("cursor-update",X=>{g.drawOperation.numCommittedVertices>0&&this.emit("create",{graphic:(0,Lt.Wg)(g.graphic),state:"active",tool:this.activeTool,toolEventInfo:{coordinates:X.vertices[0].coordinates,type:"cursor-update"},type:"create"})}),g.on("vertex-remove",X=>{switch(X.operation){case"apply":this.emit("create",{graphic:(0,Lt.Wg)(g.graphic),state:"active",tool:this.activeTool,toolEventInfo:X,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[(0,Lt.Wg)(g.graphic)],tool:g.geometryType});break;case"redo":this._emitRedoEvent({graphics:[(0,Lt.Wg)(g.graphic)],tool:g.geometryType})}}),g.on("complete",X=>{this._set("createGraphic",(0,Lt.Wg)(X.graphic)),v="complete",X.aborted?x&&x.cancel():x&&x.complete()}),(0,en.YP)(()=>this._getGraphicSymbolFromTool(g.geometryType),X=>{g.graphicSymbol=X})],x=new l_({activeComponent:g,tool:g.geometryType,type:"create",onEnd:()=>{I.forEach(X=>X.remove()),I.length=0,C.tools?.remove(g)},undo:()=>{g.canUndo&&g.undo()},redo:()=>{g.canRedo&&g.redo()},canUndo:()=>g.canUndo,canRedo:()=>g.canRedo});return x}_getGraphicSymbolFromTool(g){switch(g){case"point":case"multipoint":return this.pointSymbol;case"polyline":return this.polylineSymbol;case"circle":case"rectangle":case"polygon":return this.polygonSymbol}}_setupUpdateOperation(g,C){var v=this;return(0,xn.Z)(function*(){const{layer:M,view:D}=v;if(!D)return v._logMissingView(),null;const I={tool:v._defaultUpdateTool,...v.defaultUpdateOptions,...C,reshapeOptions:{...v.defaultUpdateOptions.reshapeOptions,...C?.reshapeOptions}};let x=I.tool;for(const X of g)M.remove(X),M.add(X);if("3d"===D.type){if(0===g.length)return null;switch(x){case"move":return v._setupMove3DOperation(g,I,D,x);case"reshape":{if(g.length>1)return v._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null;const X=(0,r_.P)(g[0]);return X===Yo.e.SUPPORTED?v._setupReshape3DOperation(g[0],I,D):(v._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${(0,Yo.Z)(X)}).`),null)}case"transform":return v._setupGraphicTransform3DOperation(g,I,D)}}switch(x){case"move":return v._setupMove2DOperation(g,I,D);case"reshape":{if(g.length>1)return v._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null;const X=(0,r_.P)(g[0]);return X===Yo.e.SUPPORTED?v._setupTransformOrReshape2DOperation(g,x,I,D):(v._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${(0,Yo.Z)(X)}).`),null)}case"transform":if(1===g.length){const X=(0,Lt.U2)(g[0].geometry,"type");"point"!==X&&"multipoint"!==X||(x="reshape")}return v._setupTransformOrReshape2DOperation(g,x,I,D)}})()}_setupMove3DOperation(g,C,v,M,D=!1){var I=this;return(0,xn.Z)(function*(){for(const Ae of g){const Ve=(0,iX.P)(Ae);if(Ve!==Yo.e.SUPPORTED)return I._logError("sketch:move",`Move operation not supported for provided graphic(s) (${(0,Yo.Z)(Ve)}).`),null}const x=yield I._requireModule(Promise.all([T.e(5086),T.e(5314),T.e(4918),T.e(479),T.e(14),T.e(8415),T.e(3867),T.e(4998),T.e(2274),T.e(2585),T.e(3522),T.e(8592),T.e(3448)]).then(T.bind(T,77418)));if(so(x))return x;const X=new x.module.GraphicMoveTool({view:v,enableZ:C.enableZ,snappingManager:I._snappingManager,tooltipOptions:I.tooltipOptions});v.tools.add(X),X.graphics.addMany(g),D||I.updateGraphics.addMany(g);const he=[],Se=new hu({activeComponent:X,tool:M,type:"update",onEnd:()=>{he.forEach(Ae=>Ae.remove()),he.length=0,v.tools?.remove(X),X.destroyed||X.destroy()},undo:()=>{u_(Se,I.updateGraphics.toArray()),I._emitUndoEvent({graphics:I.updateGraphics.toArray(),tool:M})},redo:()=>{d_(Se,I.updateGraphics.toArray()),I._emitRedoEvent({graphics:I.updateGraphics.toArray(),tool:M})},addToSelection:Ae=>{I.updateGraphics.push(Ae),X.graphics.push(Ae),I.emit("update",{graphics:I.updateGraphics.toArray(),state:"active",aborted:!1,tool:I.activeTool,toolEventInfo:{added:[Ae],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:Ae=>{const Ve=I.updateGraphics.indexOf(Ae);Se.history.undo.forEach(qe=>qe.updates.splice(Ve,1)),Se.history.redo.forEach(qe=>qe.updates.splice(Ve,1)),I.updateGraphics.remove(Ae),I.emit("update",{graphics:I.updateGraphics.toArray(),state:"active",aborted:!1,tool:I.activeTool,toolEventInfo:{added:[],removed:[Ae],type:"selection-change"},type:"update"}),0!==I.updateGraphics.length?X.graphics.remove(Ae):Se.complete()},toggleTool:(Ae=(0,xn.Z)(function*(){if(1!==I.updateGraphics.length||!1===C.toggleToolOnClick||"transform"!==M)return;const Ve=I.updateGraphics.getItemAt(0);if((0,r_.P)(Ve)!==Yo.e.SUPPORTED)return;const qe=yield I._setupReshape3DOperation(Ve,C,v,!0);so(qe)||(Se.onEnd(),Se.destroy(),I._setUpdateOperationHandle(qe,C))}),function(){return Ae.apply(this,arguments)})});var Ae;return he.push(...I._getHandlesForComponent(Se,C),v.on("immediate-click",Ae=>I._getCommonUpdateOperationClickHandlers(Se,Ae,C),gs.f.WIDGET),v.on("key-down",Ae=>{I._getCommonUpdateOperationKeyDownHandlers(Se,Ae)},gs.f.WIDGET)),Se})()}_setupGraphicTransform3DOperation(g,C,v,M=!1){if(1===g.length&&function sX(g){if("graphics"!==g.layer?.type)return Yo.e.GRAPHICS_LAYER_MISSING;if((0,Lt.Wi)(g.geometry))return Yo.e.GEOMETRY_MISSING;switch(g.geometry.type){case"point":break;case"polygon":case"polyline":case"multipoint":case"extent":case"mesh":return Yo.e.SUPPORTED;default:return Yo.e.GEOMETRY_TYPE_UNSUPPORTED}const C=(0,Lt.pC)(g.symbol)&&"point-3d"===g.symbol.type&&g.symbol.symbolLayers;return C&&C.length>0&&C.some(v=>"object"===v.type)?"on-the-ground"!==(0,ro.vu)(g)&&(0,ro.Lt)(g)?Yo.e.ELEVATION_MODE_UNSUPPORTED:Yo.e.SUPPORTED:Yo.e.SYMBOL_TYPE_UNSUPPORTED}(g[0])===Yo.e.SUPPORTED){const D=g[0],I=D.geometry;if((0,Lt.pC)(I)&&("point"===I.type||"mesh"===I.type))return this._setupPointTransform3DOperation(D,C,v);if((0,Lt.pC)(I)&&("polygon"===I.type||"polyline"===I.type))return this._setupPolyTransform3DOperation(D,C,v,M)}return this._setupMove3DOperation(g,C,v,"transform",M)}_setupPointTransform3DOperation(g,C,v){var M=this;return(0,xn.Z)(function*(){const D="transform",{enableRotation:I,enableScaling:x,enableZ:X}=C,he=yield M._requireModule(Promise.all([T.e(5086),T.e(5314),T.e(4918),T.e(479),T.e(14),T.e(8415),T.e(3867),T.e(4998),T.e(2274),T.e(2585),T.e(3522),T.e(8592),T.e(3448)]).then(T.bind(T,77418)));if(so(he))return he;const Se=new he.module.GraphicTransformTool({graphic:g,view:v,enableRotation:I,enableScaling:x,enableZ:X,snappingManager:M._snappingManager,tooltipOptions:M.tooltipOptions});v.tools.add(Se),M.updateGraphics.add(g);const Ae=[],Ve=new hu({activeComponent:Se,tool:D,type:"update",onEnd:()=>{Ae.forEach(qe=>qe.remove()),Ae.length=0,v.tools?.remove(Se),Se.destroyed||Se.destroy()},undo:()=>{u_(Ve,M.updateGraphics.toArray()),M._emitUndoEvent({graphics:M.updateGraphics.toArray(),tool:D})},redo:()=>{d_(Ve,M.updateGraphics.toArray()),M._emitRedoEvent({graphics:M.updateGraphics.toArray(),tool:D})},addToSelection:(qe=(0,xn.Z)(function*(rt){M.updateGraphics.add(rt),M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{added:[rt],removed:[],type:"selection-change"},type:"update"});const gt=yield M._setupMove3DOperation(M.updateGraphics.toArray(),C,v,"transform",!0);so(gt)||(Ve.onEnd(),Ve.destroy(),M._setUpdateOperationHandle(gt,C))}),function(gt){return qe.apply(this,arguments)}),removeFromSelection:qe=>{M.updateGraphics.remove(qe),M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{added:[],removed:[qe],type:"selection-change"},type:"update"}),Ve.complete()},toggleTool:()=>{}});var qe;return Ae.push(...M._getHandlesForComponent(Ve,C),v.on("immediate-click",qe=>M._getCommonUpdateOperationClickHandlers(Ve,qe,C),gs.f.WIDGET),v.on("key-down",qe=>{M._getCommonUpdateOperationKeyDownHandlers(Ve,qe)},gs.f.WIDGET)),Ve})()}_setupPolyTransform3DOperation(g,C,v,M=!1){var D=this;return(0,xn.Z)(function*(){const I="transform",{enableRotation:x,enableScaling:X,enableZ:he,preserveAspectRatio:Se}=C,Ae=yield D._requireModule(Promise.all([T.e(5086),T.e(5314),T.e(4918),T.e(479),T.e(14),T.e(8415),T.e(3867),T.e(4998),T.e(2274),T.e(2585),T.e(3522),T.e(8592),T.e(3448)]).then(T.bind(T,77418)));if(so(Ae))return Ae;const Ve=new Ae.module.ExtentTransformTool({graphic:g,view:v,enableRotation:x,enableScaling:X,enableZ:he,preserveAspectRatio:Se,tooltipOptions:D.tooltipOptions});v.tools.add(Ve),M||D.updateGraphics.add(g);const qe=[],rt=new hu({activeComponent:Ve,tool:I,type:"update",onEnd:()=>{qe.forEach(gt=>gt.remove()),qe.length=0,v.tools?.remove(Ve),Ve.destroyed||Ve.destroy()},canUndo:()=>Ve.canUndo,undo:()=>{Ve.undo(),D._emitUndoEvent({graphics:D.updateGraphics.toArray(),tool:I})},canRedo:()=>Ve.canRedo,redo:()=>{Ve.redo(),D._emitRedoEvent({graphics:D.updateGraphics.toArray(),tool:I})},addToSelection:(gt=(0,xn.Z)(function*(Ot){D.updateGraphics.add(Ot),D.emit("update",{graphics:D.updateGraphics.toArray(),state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[Ot],removed:[],type:"selection-change"},type:"update"});const Ut=yield D._setupMove3DOperation(D.updateGraphics.toArray(),C,v,"transform",!0);so(Ut)||(rt.onEnd(),rt.destroy(),D._setUpdateOperationHandle(Ut,C))}),function(Ut){return gt.apply(this,arguments)}),removeFromSelection:gt=>{D.updateGraphics.remove(gt),D.emit("update",{graphics:D.updateGraphics.toArray(),state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[],removed:[gt],type:"selection-change"},type:"update"}),rt.complete()},toggleTool:function(){var gt=(0,xn.Z)(function*(){if(1!==D.updateGraphics.length||!1===C.toggleToolOnClick)return;const Ot=D.updateGraphics.getItemAt(0);if((0,r_.P)(Ot)!==Yo.e.SUPPORTED)return;const Ut=yield D._setupReshape3DOperation(Ot,C,v,!0);so(Ut)||(rt.onEnd(),rt.destroy(),D._setUpdateOperationHandle(Ut,C))});return function(){return gt.apply(this,arguments)}}()});var gt;return qe.push(...D._getHandlesForComponent(rt,C),v.on("immediate-click",gt=>D._getCommonUpdateOperationClickHandlers(rt,gt,C),gs.f.WIDGET),v.on("key-down",gt=>D._getCommonUpdateOperationKeyDownHandlers(rt,gt),gs.f.WIDGET),v.on("key-down",gt=>{gt.key!==io.j.constraint||gt.repeat||(Ve.preserveAspectRatio=!Ve.preserveAspectRatio,gt.stopPropagation())},gs.f.WIDGET),v.on("key-up",gt=>{gt.key===io.j.constraint&&(Ve.preserveAspectRatio=!Ve.preserveAspectRatio,gt.stopPropagation())},gs.f.WIDGET)),rt})()}_setupMove2DOperation(g,C,v){var M=this;return(0,xn.Z)(function*(){const D="move";M.updateGraphics.addMany(g),yield M._updateSpatialReference(g);const I=yield M._getGraphicMover(g,C,v);if(so(I))return I;const x=new hu({activeComponent:I,tool:D,type:"update",onEnd:()=>{M._displayDefaultCursor(),Se.forEach(Ae=>Ae.remove()),he.forEach(Ae=>Ae.remove()),Se=[],he=[],I.destroy(),M._internalGraphicsLayer?.removeMany([...M.updateGraphics.toArray()])},undo:()=>{const Ae=M.updateGraphics.toArray();u_(x,Ae),x.refreshComponent(),M._emitUndoEvent({graphics:Ae,tool:D})},redo:()=>{const Ae=M.updateGraphics.toArray();d_(x,Ae),x.refreshComponent(),M._emitRedoEvent({graphics:Ae,tool:D})},addToSelection:(Ae=(0,xn.Z)(function*(Ve){yield M._updateSpatialReference(Ve),M.updateGraphics.push(Ve),I.graphics=M.updateGraphics.toArray(),M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{added:[Ve],removed:[],type:"selection-change"},type:"update"})}),function(qe){return Ae.apply(this,arguments)}),removeFromSelection:Ae=>{const Ve=M.updateGraphics.indexOf(Ae);x.history.undo.forEach(rt=>rt.updates.splice(Ve,1)),x.history.redo.forEach(rt=>rt.updates.splice(Ve,1)),M.updateGraphics.remove(Ae);const qe=M.updateGraphics.toArray();M.emit("update",{graphics:qe,state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{added:[],removed:[Ae],type:"selection-change"},type:"update"}),0!==M.updateGraphics.length?I.graphics=qe:x.complete()}});var Ae;let X=!1,he=[v.on("immediate-click",Ae=>M._getCommonUpdateOperationClickHandlers(x,Ae,C),gs.f.WIDGET),v.on("key-down",Ae=>{M._getCommonUpdateOperationKeyDownHandlers(x,Ae),Ae.key!==io.j.constraint||Ae.repeat||(X=!0,I.enableMoveAllGraphics=!I.enableMoveAllGraphics)},gs.f.WIDGET),v.on("key-up",Ae=>{Ae.key===io.j.constraint&&X&&(X=!1,I.enableMoveAllGraphics=!I.enableMoveAllGraphics)},gs.f.WIDGET)],Se=M._getHandlesForComponent(x,C);return x})()}_setupReshape3DOperation(g,C,v,M=!1){var D=this;return(0,xn.Z)(function*(){const I="reshape",x=yield D._requireModule(Promise.all([T.e(5086),T.e(5314),T.e(4918),T.e(479),T.e(14),T.e(8415),T.e(3867),T.e(4998),T.e(2274),T.e(2585),T.e(3522),T.e(8592),T.e(3448)]).then(T.bind(T,77418)));if(so(x))return x;const X=C.reshapeOptions,he=new x.module.GraphicReshapeTool({view:v,graphic:g,enableZVertex:C.enableZ&&"move"===X?.vertexOperation,enableZShape:C.enableZ&&"move"===X?.shapeOperation,enableMoveGraphic:"move"===X?.shapeOperation||"move-xy"===X?.shapeOperation,enableMidpoints:"split"===X?.edgeOperation,enableEdgeOffset:"offset"===X?.edgeOperation,snappingManager:D._snappingManager,labelOptions:D.labelOptions,tooltipOptions:D.tooltipOptions});v.tools.add(he),M||D.updateGraphics.add(g);const Se=[],Ae=new hu({activeComponent:he,tool:I,type:"update",onEnd:()=>{Se.forEach(Ve=>Ve.remove()),Se.length=0,v.tools?.remove(he),he.destroyed||he.destroy()},canUndo:()=>he.canUndo,undo:()=>{he.undo(),D._emitUndoEvent({graphics:D.updateGraphics.toArray(),tool:I})},canRedo:()=>he.canRedo,redo:()=>{he.redo(),D._emitRedoEvent({graphics:D.updateGraphics.toArray(),tool:I})},addToSelection:(Ve=(0,xn.Z)(function*(qe){D.updateGraphics.add(qe),D.emit("update",{graphics:D.updateGraphics.toArray(),state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[qe],removed:[],type:"selection-change"},type:"update"});const rt=yield D._setupMove3DOperation(D.updateGraphics.toArray(),C,v,"transform",!0);so(rt)||(Ae.onEnd(),Ae.destroy(),D._setUpdateOperationHandle(rt,C))}),function(rt){return Ve.apply(this,arguments)}),removeFromSelection:Ve=>{D.updateGraphics.remove(Ve),D.emit("update",{graphics:D.updateGraphics.toArray(),state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[],removed:[Ve],type:"selection-change"},type:"update"}),Ae.complete()},toggleTool:function(){var Ve=(0,xn.Z)(function*(){if(!1===C.toggleToolOnClick)return;const qe=yield D._setupGraphicTransform3DOperation(D.updateGraphics.toArray(),C,v,!0);so(qe)||(Ae.onEnd(),Ae.destroy(),D._setUpdateOperationHandle(qe,C))});return function(){return Ve.apply(this,arguments)}}()});var Ve;return Se.push(...D._getHandlesForComponent(Ae,C),v.on("immediate-click",Ve=>D._getCommonUpdateOperationClickHandlers(Ae,Ve,C),gs.f.WIDGET),v.on("key-down",Ve=>{D._getCommonUpdateOperationKeyDownHandlers(Ae,Ve)},gs.f.WIDGET)),Ae})()}_setupTransformOrReshape2DOperation(g,C,v,M){var D=this;return(0,xn.Z)(function*(){D.updateGraphics.addMany(g),yield D._updateSpatialReference(g);const I="transform"===C?yield D._getBox(g,v,M):yield D._getReshape(g,v,M);if(so(I))return I;const x=new hu({activeComponent:I,type:"update",onEnd:()=>{he.forEach(Se=>Se.remove()),X.forEach(Se=>Se.remove()),he=[],X=[],x.activeComponent&&!x.activeComponent.destroyed&&x.activeComponent.destroy(),D._internalGraphicsLayer.removeMany(D.updateGraphics.toArray())},undo:()=>{u_(x,D.updateGraphics.toArray()),x.refreshComponent(),D._emitUndoEvent({graphics:D.updateGraphics.toArray(),tool:x.tool})},redo:()=>{d_(x,D.updateGraphics.toArray()),x.refreshComponent(),D._emitRedoEvent({graphics:D.updateGraphics.toArray(),tool:x.tool})},addToSelection:(Se=(0,xn.Z)(function*(Ae){let Ve=x.activeComponent;if("reshape"===Ve?.type){const qe=[...D.updateGraphics,Ae];D.updateGraphics.removeAll();const rt=yield D._setupMove2DOperation(qe,v,M);if(so(rt))return;x.onEnd(),x.destroy(),D._setUpdateOperationHandle(rt,v)}else D.updateGraphics.add(Ae),Ve.graphics=D.updateGraphics.toArray(),Ve.refresh(),x.resetHistory();D.emit("update",{graphics:D.updateGraphics.toArray(),state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[Ae],removed:[],type:"selection-change"},type:"update"})}),function(Ve){return Se.apply(this,arguments)}),removeFromSelection:function(){var Se=(0,xn.Z)(function*(Ae){const Ve=D.updateGraphics.indexOf(Ae);x.history.undo.forEach(rt=>rt.updates.splice(Ve,1)),x.history.redo.forEach(rt=>rt.updates.splice(Ve,1)),D.updateGraphics.remove(Ae);const qe=D.updateGraphics.toArray();if(0===qe.length)x.complete();else{const rt=qe[0].geometry;1!==qe.length||!(0,Lt.pC)(rt)||"point"!==rt.type&&"multipoint"!==rt.type?x.activeComponent.graphics=qe:x.toggleTool()}D.emit("update",{graphics:qe,state:"active",aborted:!1,tool:D.activeTool,toolEventInfo:{added:[],removed:[Ae],type:"selection-change"},type:"update"})});return function(Ve){return Se.apply(this,arguments)}}(),toggleTool:function(){var Se=(0,xn.Z)(function*(){if(D.updateGraphics.length>1)return;const Ae=D.updateGraphics.getItemAt(0),Ve=Ae.geometry;if((0,Lt.pC)(Ve)&&("reshape"===x.tool&&("point"===Ve.type||"multipoint"===Ve.type)||"transform"===x.tool&&"extent"===Ve.type))return;let qe=null;"transform"===x.tool?qe=yield D._getReshape([Ae],v,M):"reshape"===x.tool&&(qe=yield D._getBox([Ae],v,M)),so(qe)||(x.activeComponent?.destroy(),x.activeComponent=qe,x.activeComponent&&(he.forEach(rt=>rt.remove()),he=D._getHandlesForComponent(x,v)))});return function(){return Se.apply(this,arguments)}}()});var Se;let X=[M.on("immediate-click",Se=>D._getCommonUpdateOperationClickHandlers(x,Se,v),gs.f.WIDGET),M.on("key-down",Se=>{if(D._getCommonUpdateOperationKeyDownHandlers(x,Se),Se.key===io.j.constraint&&!Se.repeat&&x){const Ae=x.activeComponent;Ae&&"box"===Ae.type&&(Ae.preserveAspectRatio=!Ae.preserveAspectRatio)}},gs.f.WIDGET),M.on("key-up",Se=>{if(Se.key===io.j.constraint&&x){const Ae=x.activeComponent;Ae&&"box"===Ae.type&&(Ae.preserveAspectRatio=!Ae.preserveAspectRatio)}},gs.f.WIDGET)],he=D._getHandlesForComponent(x,v);return x})()}_getGraphicMover(g,C,v){var M=this;return(0,xn.Z)(function*(){const{enableMoveAllGraphics:D}=C,I=yield M._requireModule(Promise.all([T.e(8592),T.e(928)]).then(T.bind(T,9119)));return so(I)?I:new I.module.default({enableMoveAllGraphics:D,highlightsEnabled:!0,indicatorsEnabled:!1,graphics:g,view:v,callbacks:{onGraphicMoveStart:({dx:x,dy:X,graphic:he})=>{M._displayGrabbingCursor(),M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{dx:x,dy:X,mover:he,type:"move-start"},type:"update"})},onGraphicMove:({dx:x,dy:X,graphic:he})=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{dx:x,dy:X,mover:he,type:"move"},type:"update"}),onGraphicMoveStop:({dx:x,dy:X,graphic:he})=>{M._displayPointerCursor(),M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{dx:x,dy:X,mover:he,type:"move-stop"},type:"update"})},onGraphicPointerOver:()=>M._displayPointerCursor(),onGraphicPointerOut:()=>M._displayDefaultCursor()}})})()}_getBox(g,C,v){var M=this;return(0,xn.Z)(function*(){const{enableRotation:D,enableScaling:I,preserveAspectRatio:x}=C,X=yield M._requireModule(Promise.all([T.e(4918),T.e(8415),T.e(8592),T.e(878)]).then(T.bind(T,878)));return so(X)?X:new X.module.default({graphics:g,enableRotation:D,enableScaling:I,preserveAspectRatio:x,layer:M._internalGraphicsLayer,view:v,tooltipOptions:M.tooltipOptions,callbacks:{onMoveStart:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onMove:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onMoveStop:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onScaleStart:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onScale:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onScaleStop:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onRotateStart:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onRotate:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"}),onRotateStop:he=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...he},type:"update"})}})})()}_getReshape(g,C,v){var M=this;return(0,xn.Z)(function*(){const D="split"===C.reshapeOptions?.edgeOperation,I="move"===C.reshapeOptions?.shapeOperation,x=yield M._requireModule(Promise.all([T.e(4918),T.e(14),T.e(8415),T.e(4998),T.e(5055),T.e(8592),T.e(120)]).then(T.bind(T,30120)));return so(x)?x:new x.module.default({enableMidpoints:D,enableMovement:I,graphic:g[0],layer:M._internalGraphicsLayer,snappingManager:M._snappingManager,tooltipOptions:M.tooltipOptions,view:v,callbacks:{onReshapeStart:X=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...X},type:"update"}),onReshape:X=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{...X},type:"update"}),onReshapeStop:({mover:X,type:he})=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{mover:X,type:he},type:"update"}),onMoveStart:({dx:X,dy:he,mover:Se,type:Ae})=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{dx:X,dy:he,mover:Se,type:Ae},type:"update"}),onMove:({dx:X,dy:he,mover:Se,type:Ae})=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{dx:X,dy:he,mover:Se,type:Ae},type:"update"}),onMoveStop:({dx:X,dy:he,mover:Se,type:Ae})=>M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{dx:X,dy:he,mover:Se,type:Ae},type:"update"}),onVertexAdd:({added:X,type:he,vertices:Se})=>{const Ae=X.map(Ve=>(0,sS.nA)(Ve.geometry));M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{added:Ae,vertices:Se,type:he},type:"update"})},onVertexRemove:({removed:X,type:he,vertices:Se})=>{const Ae=X.map(Ve=>(0,sS.nA)(Ve.geometry));M.emit("update",{graphics:M.updateGraphics.toArray(),state:"active",aborted:!1,tool:M.activeTool,toolEventInfo:{removed:Ae,vertices:Se,type:he},type:"update"})}}})})()}_getHandlesForComponent(g,C){const v=g.activeComponent;if(!v)return[];switch(v.type){case"graphic-mover":return[v.on("graphic-click",({graphic:M,viewEvent:D})=>{D.native?.shiftKey&&(D.stopPropagation(),g.removeFromSelection(M))}),v.on("graphic-move-start",M=>g.addToHistory(pu(M.allGraphics)))];case"box":return[v.on("graphic-click",M=>this._onTransformOrReshape2DGraphicClick(g,C,M)),v.on("move-start",M=>g.addToHistory(pu(M.graphics))),v.on("rotate-start",M=>g.addToHistory(pu(M.graphics))),v.on("scale-start",M=>g.addToHistory(pu(M.graphics)))];case"reshape":return[v.on("graphic-click",M=>this._onTransformOrReshape2DGraphicClick(g,C,M)),v.on("move-start",M=>g.addToHistory(pu([M.mover]))),v.on("reshape-start",M=>g.addToHistory(pu([M.graphic]))),v.on("vertex-add",M=>g.addToHistory(pu([M.oldGraphic]))),v.on("vertex-remove",M=>g.addToHistory(pu([M.oldGraphic])))];case"move-3d":return[v.on("graphic-move-start",M=>{g.addToHistory(pu(M.allGraphics)),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:M.allGraphics.length>0?M.allGraphics[0]:null,type:"move-start"},type:"update"})}),v.on("graphic-move",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:M.dx,dy:M.dy,mover:M.allGraphics.length>0?M.allGraphics[0]:null,type:"move"},type:"update"})}),v.on("graphic-move-stop",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:M.allGraphics.length>0?M.allGraphics[0]:null,type:"move-stop"},type:"update"})}),v.on("immediate-click",M=>{M.shiftKey?this._toggleSelection([M.graphic],g,C):g.toggleTool()})];case"transform-3d":return[v.on("record-undo",({record:M})=>{g.addToHistory({updates:[M]})}),v.on("graphic-translate-start",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,dx:M.dxScreen,dy:M.dyScreen,type:"move-start"},type:"update"})}),v.on("graphic-translate-stop",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,dx:M.dxScreen,dy:M.dyScreen,type:"move-stop"},type:"update"})}),v.on("graphic-rotate-start",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,angle:M.angle,type:"rotate-start"},type:"update"})}),v.on("graphic-rotate-stop",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,angle:M.angle,type:"rotate-stop"},type:"update"})}),v.on("graphic-scale-start",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,xScale:M.xScale,yScale:M.yScale,type:"scale-start"},type:"update"})}),v.on("graphic-scale-stop",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,xScale:M.xScale,yScale:M.yScale,type:"scale-stop"},type:"update"})}),v.on("graphic-translate",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,dx:M.dxScreen,dy:M.dyScreen,type:"move"},type:"update"})}),v.on("graphic-rotate",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,angle:M.angle,type:"rotate"},type:"update"})}),v.on("graphic-scale",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:M.graphic,xScale:M.xScale,yScale:M.yScale,type:"scale"},type:"update"})}),v.on("immediate-click",M=>{M.shiftKey?this._toggleSelection([M.graphic],g,C):g.toggleTool()})];case"reshape-3d":return[v.on("reshape",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:M,type:"update"})}),v.on("move",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:M,type:"update"})}),v.on("vertex-add",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:M,type:"update"})}),v.on("vertex-remove",M=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:M,type:"update"})}),v.on("immediate-click",M=>{M.shiftKey?this._toggleSelection([M.graphic],g,C):g.toggleTool()})]}}_onTransformOrReshape2DGraphicClick(g,C,v){const{graphic:M,viewEvent:D}=v;return D.native?.shiftKey&&M.layer===this.layer?(D.stopPropagation(),g.removeFromSelection(M)):C.toggleToolOnClick?(D.stopPropagation(),g.toggleTool()):void 0}_setUpdateOperationHandle(g,C){this._operationHandle=g;const v=this.view?.map;this._disablePopup(C),g.on("complete",()=>{if(g===this._operationHandle){const D=this.updateGraphics.toArray(),I=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),v&&v.remove(this._internalGraphicsLayer),this._restorePopup(C),this.emit("update",{graphics:D,state:"complete",aborted:g.cancelled,tool:I,toolEventInfo:null,type:"update"})}})}_getCommonUpdateOperationClickHandlers(g,C,v){var M=this;return(0,xn.Z)(function*(){const D=(0,Ko.vT)(C),I=yield C.async(()=>M._getFirstHit(D));(0,Lt.Wi)(I)?g.complete():C.native.shiftKey&&M._toggleSelection([I.graphic],g,v)||M.updateGraphics.includes(I.graphic)?C.stopPropagation():g.complete()})()}_toggleSelection(g,C,v){const M=!!v.multipleSelectionEnabled;return g.some(D=>null!=D&&!(!M||D.layer!==this.layer)&&(this.updateGraphics.includes(D)?C.removeFromSelection(D):C.addToSelection(D),!0))}_getCommonUpdateOperationKeyDownHandlers(g,C){if(!g)return;const v=C.key;v===io.j.undo&&g.canUndo()?(C.stopPropagation(),g.undo()):v===io.j.redo&&g.canRedo()?(C.stopPropagation(),g.redo()):v===io.j.cancel?(C.stopPropagation(),g.cancel()):this.allowDeleteKey&&io.j.delete.includes(v)&&this._onDeleteKey(C)}_onDeleteKey(g){if(!this._operationHandle||"update"!==this._operationHandle.type)return;const C=this.activeComponent,v=this.updateGraphics.toArray();(0,Lt.Wi)(C)||"reshape-3d"===C.type||("reshape"!==C.type||1===v.length&&"point"===(0,Lt.U2)(v[0].geometry,"type"))&&(g.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view?.map?.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=(0,Lt.SC)(this._internalGraphicsLayer))}_isComponentGraphic(g){const{activeComponent:C}=this;return!(!g||(0,Lt.Wi)(C))&&(g.attributes&&g.attributes.esriSketchTool||"draw-2d"===C.type&&C.graphic===g||("box"===C.type||"reshape"===C.type)&&C.isUIGraphic(g))}_displayPointerCursor(){this.view&&this.view.container&&"pointer"!==this.view.cursor&&(this.view.cursor="pointer")}_displayGrabbingCursor(){this.view&&this.view.container&&"grabbing"!==this.view.cursor&&(this.view.cursor="grabbing")}_displayDefaultCursor(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(g,C,v){Ai.Z.getLogger(this.declaredClass).error(new Ar.Z(g,C,v))}_requireModule(g){var C=this;return(0,xn.Z)(function*(){const v=new AbortController;C._moduleLoaderAbortController=v;const M=yield g;return C._moduleLoaderAbortController!==v||v.signal.aborted?{requireError:"aborted"}:{module:M}})()}_emitUndoEvent(g){this.emit("undo",{...g,type:"undo"})}_emitRedoEvent(g){this.emit("redo",{...g,type:"redo"})}_emitDeleteEvent(g){this.emit("delete",{...g,type:"delete"})}get test(){return{operationHandle:this._operationHandle,defaultUpdateOptions:c_}}wait(){return(0,en.N1)(()=>!this.updating)}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange("updating")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange("updating")}_disablePopupEnabled(g){return"3d"!==this.view?.type||this.updateOnGraphicClick||((0,Lt.Wg)(g)?.toggleToolOnClick??!1)}_disablePopup(g){if(!this._disablePopupEnabled(g))return;const C=this.view?.popup;C&&(0,Lt.Wi)(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=C.autoOpenEnabled,C.autoOpenEnabled=!1)}_restorePopup(g){if(!this._disablePopupEnabled(g))return;const C=this.view?.popup;C&&(0,Lt.pC)(this._originalAutoOpenEnabled)&&(C.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)}_waitViewReady(){var g=this;return(0,xn.Z)(function*(){const C=g.view;C?((0,Lt.IM)(g._viewReadyAbortController),g._viewReadyAbortController=new AbortController,yield(0,ei.Hl)((0,en.N1)(()=>C?.ready),g._viewReadyAbortController.signal)):g._logMissingView()})()}_logMissingView(){this._logError("sketch:missing-property",NF("view"))}_logMissingLayer(){this._logError(AX,NF("layer"))}};(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"updating",null),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"_operationHandle",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Yi.prototype,"activeTool",null),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"activeFillSymbol",void 0),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"activeLineSymbol",void 0),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"activeVertexSymbol",void 0),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"allowDeleteKey",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Yi.prototype,"createGraphic",null),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"defaultCreateOptions",null),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"defaultUpdateOptions",null),(0,ze._)([(0,Ke.Cb)({type:IF.Z,nonNullable:!0})],Yi.prototype,"labelOptions",void 0),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"layer",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"pointSymbol",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"polygonSymbol",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"polylineSymbol",void 0),(0,ze._)([(0,Ke.Cb)({type:dT,nonNullable:!0})],Yi.prototype,"snappingOptions",null),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"_snappingManager",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Yi.prototype,"state",null),(0,ze._)([(0,Ke.Cb)({type:OF.Z,nonNullable:!0})],Yi.prototype,"tooltipOptions",void 0),(0,ze._)([(0,Ke.Cb)({readOnly:!0})],Yi.prototype,"updateGraphics",void 0),(0,ze._)([(0,Ke.Cb)()],Yi.prototype,"updateOnGraphicClick",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"updatePointSymbol",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"updatePolygonSymbol",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"updatePolylineSymbol",void 0),(0,ze._)([(0,Ke.Cb)({types:ih.LB})],Yi.prototype,"vertexSymbol",void 0),(0,ze._)([(0,Ke.Cb)({value:null})],Yi.prototype,"view",null),Yi=(0,ze._)([(0,cr.j)("esri.widgets.Sketch.SketchViewModel")],Yi);const AX="sketch:missing-property",NF=g=>`Property '${g}' is missing on SketchViewModel.`;function xX(g){return"polygon"===g||"rectangle"===g||"circle"===g}function u_(g,C){jF("undo",g.history.undo,g.history.redo,C)}function d_(g,C){jF("redo",g.history.redo,g.history.undo,C)}function jF(g,C,v,M){const D=C.pop();if(!D)return;const I=D.updates,x=[];M.forEach((X,he)=>{const Se=I[he];null!=Se&&("geometry"in Se&&(0,Lt.pC)(Se.geometry)&&(x.push({geometry:X.geometry}),X.geometry=Se.geometry),"symbol"in Se&&(0,Lt.pC)(Se.symbol)&&(x.push({symbol:X.symbol}),X.symbol=Se.symbol),"undo"in Se&&(x.push(Se),Se[g](X)))}),v.push({updates:x})}function pu(g){return{updates:g.map(C=>({geometry:C.geometry}))}}function so(g){return"requireError"in g&&"aborted"===g.requireError}const RX=Yi;let h_=(()=>{class g{constructor(v,M,D){this.el=v,this.zone=M,this.config=D}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(v){let M=this.getInk();if(!M||"none"===getComputedStyle(M,null).display)return;if(Ln.removeClass(M,"p-ink-active"),!Ln.getHeight(M)&&!Ln.getWidth(M)){let X=Math.max(Ln.getOuterWidth(this.el.nativeElement),Ln.getOuterHeight(this.el.nativeElement));M.style.height=X+"px",M.style.width=X+"px"}let D=Ln.getOffset(this.el.nativeElement),I=v.pageX-D.left+document.body.scrollTop-Ln.getWidth(M)/2,x=v.pageY-D.top+document.body.scrollLeft-Ln.getHeight(M)/2;M.style.top=x+"px",M.style.left=I+"px",Ln.addClass(M,"p-ink-active"),this.timeout=setTimeout(()=>{let X=this.getInk();X&&Ln.removeClass(X,"p-ink-active")},401)}getInk(){const v=this.el.nativeElement.children;for(let M=0;M<v.length;M++)if("string"==typeof v[M].className&&-1!==v[M].className.indexOf("p-ink"))return v[M];return null}resetInk(){let v=this.getInk();v&&Ln.removeClass(v,"p-ink-active")}onAnimationEnd(v){this.timeout&&clearTimeout(this.timeout),Ln.removeClass(v.currentTarget,"p-ink-active")}create(){let v=document.createElement("span");v.className="p-ink",this.el.nativeElement.appendChild(v),this.animationListener=this.onAnimationEnd.bind(this),v.addEventListener("animationend",this.animationListener)}remove(){let v=this.getInk();v&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),v.removeEventListener("animationend",this.animationListener),Ln.removeElement(v))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return g.\u0275fac=function(v){return new(v||g)(pn(As),pn(Ri),pn(Xd,8))},g.\u0275dir=Tr({type:g,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),g})(),p_=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})();function LX(g,C){1&g&&qi(0)}const FX=function(g,C,v,M){return{"p-button-icon":!0,"p-button-icon-left":g,"p-button-icon-right":C,"p-button-icon-top":v,"p-button-icon-bottom":M}};function NX(g,C){if(1&g&&Xi(0,"span",4),2&g){const v=kn();xs(v.loading?"p-button-loading-icon "+v.loadingIcon:v.icon),mn("ngClass",gp(4,FX,"left"===v.iconPos&&v.label,"right"===v.iconPos&&v.label,"top"===v.iconPos&&v.label,"bottom"===v.iconPos&&v.label)),ls("aria-hidden",!0)}}function jX(g,C){if(1&g&&(Yn(0,"span",5),Zi(1),er()),2&g){const v=kn();ls("aria-hidden",v.icon&&!v.label),Tn(1),Ca(v.label)}}function UX(g,C){if(1&g&&(Yn(0,"span",4),Zi(1),er()),2&g){const v=kn();xs(v.badgeClass),mn("ngClass",v.badgeStyleClass()),Tn(1),Ca(v.badge)}}const BX=function(g,C,v,M,D){return{"p-button p-component":!0,"p-button-icon-only":g,"p-button-vertical":C,"p-disabled":v,"p-button-loading":M,"p-button-loading-label-only":D}},VX=["*"],Mh={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let WX=(()=>{class g{constructor(v){this.el=v,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(Mh)}get label(){return this._label}set label(v){this._label=v,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(v){this._icon=v,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(v){this._loading=v,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){Ln.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const v=[Mh.button,Mh.component];return this.icon&&!this.label&&Gi.isEmpty(this.htmlElement.textContent)&&v.push(Mh.iconOnly),this.loading&&(v.push(Mh.disabled,Mh.loading),!this.icon&&this.label&&v.push(Mh.labelOnly)),v}setStyleClass(){const v=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...v)}createLabel(){if(this.label){let v=document.createElement("span");this.icon&&!this.label&&v.setAttribute("aria-hidden","true"),v.className="p-button-label",v.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(v)}}createIcon(){if(this.icon||this.loading){let v=document.createElement("span");v.className="p-button-icon",v.setAttribute("aria-hidden","true");let M=this.label?"p-button-icon-"+this.iconPos:null;M&&Ln.addClass(v,M);let D=this.getIconClass();D&&Ln.addMultipleClasses(v,D),this.htmlElement.insertBefore(v,this.htmlElement.firstChild)}}updateLabel(){let v=Ln.findSingle(this.htmlElement,".p-button-label");this.label?v?v.textContent=this.label:this.createLabel():v&&this.htmlElement.removeChild(v)}updateIcon(){let v=Ln.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?v?v.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():v&&this.htmlElement.removeChild(v)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return g.\u0275fac=function(v){return new(v||g)(pn(As))},g.\u0275dir=Tr({type:g,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),g})(),kX=(()=>{class g{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new Nr,this.onFocus=new Nr,this.onBlur=new Nr}ngAfterContentInit(){this.templates.forEach(v=>{v.getType(),this.contentTemplate=v.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275cmp=fs({type:g,selectors:[["p-button"]],contentQueries:function(v,M,D){if(1&v&&nc(D,Kc,4),2&v){let I;Ni(I=ji())&&(M.templates=I)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:VX,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(v,M){1&v&&(lp(),Yn(0,"button",0),Fr("click",function(I){return M.onClick.emit(I)})("focus",function(I){return M.onFocus.emit(I)})("blur",function(I){return M.onBlur.emit(I)}),cp(1),Zn(2,LX,1,0,"ng-container",1),Zn(3,NX,1,9,"span",2),Zn(4,jX,2,2,"span",3),Zn(5,UX,2,4,"span",2),er()),2&v&&(xs(M.styleClass),mn("ngStyle",M.style)("disabled",M.disabled||M.loading)("ngClass",function nI(g,C,v,M,D,I,x,X){const he=To()+g,Se=Bn(),Ae=qa(Se,he,v,M,D,I);return Vo(Se,he+4,x)||Ae?ql(Se,he+5,X?C.call(X,v,M,D,I,x):C(v,M,D,I,x)):nm(Se,he+5)}(11,BX,M.icon&&!M.label,("top"===M.iconPos||"bottom"===M.iconPos)&&M.label,M.disabled||M.loading,M.loading,M.loading&&!M.icon&&M.label)),ls("type",M.type)("aria-label",M.ariaLabel),Tn(2),mn("ngTemplateOutlet",M.contentTemplate),Tn(1),mn("ngIf",!M.contentTemplate&&(M.icon||M.loading)),Tn(1),mn("ngIf",!M.contentTemplate&&M.label),Tn(1),mn("ngIf",!M.contentTemplate&&M.badge))},dependencies:[Wo,ja,kc,ol,h_],encapsulation:2,changeDetection:0}),g})(),pT=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,p_]}),g})(),zX=(()=>{class g{constructor(v){this.host=v,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const v=Ln.getFocusableElements(this.host.nativeElement);0===v.length&&this.host.nativeElement.focus(),v.length>0&&v[0].focus(),this.focused=!0}}}return g.\u0275fac=function(v){return new(v||g)(pn(As))},g.\u0275dir=Tr({type:g,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),g})(),$X=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})();const ZX=["overlay"],GX=["content"];function KX(g,C){1&g&&qi(0)}const HX=function(g,C,v){return{showTransitionParams:g,hideTransitionParams:C,transform:v}},YX=function(g){return{value:"visible",params:g}},JX=function(g){return{mode:g}},QX=function(g){return{$implicit:g}};function XX(g,C){if(1&g){const v=Ms();Yn(0,"div",1,3),Fr("click",function(D){return fi(v),mi(kn(2).onOverlayContentClick(D))})("@overlayContentAnimation.start",function(D){return fi(v),mi(kn(2).onOverlayContentAnimationStart(D))})("@overlayContentAnimation.done",function(D){return fi(v),mi(kn(2).onOverlayContentAnimationDone(D))}),cp(2),Zn(3,KX,1,0,"ng-container",4),er()}if(2&g){const v=kn(2);xs(v.contentStyleClass),mn("ngStyle",v.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",xi(11,YX,mp(7,HX,v.showTransitionOptions,v.hideTransitionOptions,v.transformOptions[v.modal?v.overlayResponsiveDirection:"default"]))),Tn(3),mn("ngTemplateOutlet",v.contentTemplate)("ngTemplateOutletContext",xi(15,QX,xi(13,JX,v.overlayMode)))}}const qX=function(g,C,v,M,D,I,x,X,he,Se,Ae,Ve,qe,rt){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":g,"p-overlay-center":C,"p-overlay-top":v,"p-overlay-top-start":M,"p-overlay-top-end":D,"p-overlay-bottom":I,"p-overlay-bottom-start":x,"p-overlay-bottom-end":X,"p-overlay-left":he,"p-overlay-left-start":Se,"p-overlay-left-end":Ae,"p-overlay-right":Ve,"p-overlay-right-start":qe,"p-overlay-right-end":rt}};function eq(g,C){if(1&g){const v=Ms();Yn(0,"div",1,2),Fr("click",function(D){return fi(v),mi(kn().onOverlayClick(D))}),Zn(2,XX,4,17,"div",0),er()}if(2&g){const v=kn();xs(v.styleClass),mn("ngStyle",v.style)("ngClass",dE(5,qX,[v.modal,v.modal&&"center"===v.overlayResponsiveDirection,v.modal&&"top"===v.overlayResponsiveDirection,v.modal&&"top-start"===v.overlayResponsiveDirection,v.modal&&"top-end"===v.overlayResponsiveDirection,v.modal&&"bottom"===v.overlayResponsiveDirection,v.modal&&"bottom-start"===v.overlayResponsiveDirection,v.modal&&"bottom-end"===v.overlayResponsiveDirection,v.modal&&"left"===v.overlayResponsiveDirection,v.modal&&"left-start"===v.overlayResponsiveDirection,v.modal&&"left-end"===v.overlayResponsiveDirection,v.modal&&"right"===v.overlayResponsiveDirection,v.modal&&"right-start"===v.overlayResponsiveDirection,v.modal&&"right-end"===v.overlayResponsiveDirection])),Tn(2),mn("ngIf",v.visible)}}const tq=["*"],nq={provide:Za,useExisting:yr(()=>UF),multi:!0},rq=bp([Ua({transform:"{{transform}}",opacity:0}),Wu("{{showTransitionParams}}")]),iq=bp([Wu("{{hideTransitionParams}}",Ua({transform:"{{transform}}",opacity:0}))]);let UF=(()=>{class g{constructor(v,M,D,I,x,X){this.document=v,this.el=M,this.renderer=D,this.config=I,this.overlayService=x,this.zone=X,this.visibleChange=new Nr,this.onBeforeShow=new Nr,this.onShow=new Nr,this.onBeforeHide=new Nr,this.onHide=new Nr,this.onAnimationStart=new Nr,this.onAnimationDone=new Nr,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(v){this._visible=v,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(v){this._mode=v}get style(){return Gi.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(v){this._style=v}get styleClass(){return Gi.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(v){this._styleClass=v}get contentStyle(){return Gi.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(v){this._contentStyle=v}get contentStyleClass(){return Gi.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(v){this._contentStyleClass=v}get target(){const v=this._target||this.overlayOptions?.target;return void 0===v?"@prev":v}set target(v){this._target=v}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(v){this._appendTo=v}get autoZIndex(){const v=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===v||v}set autoZIndex(v){this._autoZIndex=v}get baseZIndex(){const v=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===v?0:v}set baseZIndex(v){this._baseZIndex=v}get showTransitionOptions(){const v=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===v?".12s cubic-bezier(0, 0, 0.2, 1)":v}set showTransitionOptions(v){this._showTransitionOptions=v}get hideTransitionOptions(){const v=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===v?".1s linear":v}set hideTransitionOptions(v){this._hideTransitionOptions=v}get listener(){return this._listener||this.overlayOptions?.listener}set listener(v){this._listener=v}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(v){this._responsive=v}get options(){return this._options}set options(v){this._options=v}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return Ln.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(v=>{v.getType(),this.contentTemplate=v.template})}show(v,M=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:v||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),M&&Ln.focus(this.targetEl),this.modal&&Ln.addClass(this.document?.body,"p-overflow-hidden")}hide(v,M=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:v||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),M&&Ln.focus(this.targetEl),this.modal&&Ln.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&Ln.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(v){this._visible=v,this.visibleChange.emit(v)}onOverlayClick(v){this.isOverlayClicked=!0}onOverlayContentClick(v){this.overlayService.add({originalEvent:v,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(v){switch(v.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&da.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),Ln.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&Ln.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",v)}onOverlayContentAnimationDone(v){const M=this.overlayEl||v.element.parentElement;switch(v.toState){case"visible":this.show(M,!0),this.bindListeners();break;case"void":this.hide(M,!0),this.unbindListeners(),Ln.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),da.clear(M),this.modalVisible=!1}this.handleEvents("onAnimationDone",v)}handleEvents(v,M){this[v].emit(M),this.options&&this.options[v]&&this.options[v](M),this.config?.overlayOptions&&this.config?.overlayOptions[v]&&this.config?.overlayOptions[v](M)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new sx(this.targetEl,v=>{(!this.listener||this.listener(v,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(v,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",v=>{const D=!(this.targetEl&&(this.targetEl.isSameNode(v.target)||!this.isOverlayClicked&&this.targetEl.contains(v.target))||this.isOverlayContentClicked);(this.listener?this.listener(v,{type:"outside",mode:this.overlayMode,valid:3!==v.which&&D}):D)&&this.hide(v),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",v=>{(this.listener?this.listener(v,{type:"resize",mode:this.overlayMode,valid:!Ln.isTouchDevice()}):!Ln.isTouchDevice())&&this.hide(v,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",v=>{this.overlayOptions.hideOnEscape&&27===v.keyCode&&(this.listener?this.listener(v,{type:"keydown",mode:this.overlayMode,valid:!Ln.isTouchDevice()}):!Ln.isTouchDevice())&&this.zone.run(()=>{this.hide(v,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(Ln.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),da.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return g.\u0275fac=function(v){return new(v||g)(pn(Io),pn(As),pn(ba),pn(Xd),pn(Hz),pn(Ri))},g.\u0275cmp=fs({type:g,selectors:[["p-overlay"]],contentQueries:function(v,M,D){if(1&v&&nc(D,Kc,4),2&v){let I;Ni(I=ji())&&(M.templates=I)}},viewQuery:function(v,M){if(1&v&&(Ss(ZX,5),Ss(GX,5)),2&v){let D;Ni(D=ji())&&(M.overlayViewChild=D.first),Ni(D=ji())&&(M.contentViewChild=D.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[es([nq])],ngContentSelectors:tq,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(v,M){1&v&&(lp(),Zn(0,eq,3,20,"div",0)),2&v&&mn("ngIf",M.modalVisible)},dependencies:[Wo,ja,kc,ol],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[Mm("overlayContentAnimation",[$c(":enter",[Cp(rq)]),$c(":leave",[Cp(iq)])])]},changeDetection:0}),g})(),BF=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,Hu,Hu]}),g})();const sq=["element"],oq=["content"];function aq(g,C){1&g&&qi(0)}const fT=function(g,C){return{$implicit:g,options:C}};function lq(g,C){if(1&g&&(zs(0),Zn(1,aq,1,0,"ng-container",7),$s()),2&g){const v=kn(2);Tn(1),mn("ngTemplateOutlet",v.contentTemplate)("ngTemplateOutletContext",tl(2,fT,v.loadedItems,v.getContentOptions()))}}function cq(g,C){1&g&&qi(0)}function uq(g,C){if(1&g&&(zs(0),Zn(1,cq,1,0,"ng-container",7),$s()),2&g){const v=C.$implicit,M=C.index,D=kn(3);Tn(1),mn("ngTemplateOutlet",D.itemTemplate)("ngTemplateOutletContext",tl(2,fT,v,D.getOptions(M)))}}const dq=function(g){return{"p-scroller-loading":g}};function hq(g,C){if(1&g&&(Yn(0,"div",8,9),Zn(2,uq,2,5,"ng-container",10),er()),2&g){const v=kn(2);mn("ngClass",xi(4,dq,v.d_loading))("ngStyle",v.contentStyle),Tn(2),mn("ngForOf",v.loadedItems)("ngForTrackBy",v._trackBy||v.index)}}function pq(g,C){1&g&&Xi(0,"div",11),2&g&&mn("ngStyle",kn(2).spacerStyle)}function fq(g,C){1&g&&qi(0)}const mq=function(g){return{numCols:g}},VF=function(g){return{options:g}};function gq(g,C){if(1&g&&(zs(0),Zn(1,fq,1,0,"ng-container",7),$s()),2&g){const v=C.index,M=kn(4);Tn(1),mn("ngTemplateOutlet",M.loaderTemplate)("ngTemplateOutletContext",xi(4,VF,M.getLoaderOptions(v,M.both&&xi(2,mq,M._numItemsInViewport.cols))))}}function yq(g,C){if(1&g&&(zs(0),Zn(1,gq,2,6,"ng-container",14),$s()),2&g){const v=kn(3);Tn(1),mn("ngForOf",v.loaderArr)}}function vq(g,C){1&g&&qi(0)}const _q=function(){return{styleClass:"p-scroller-loading-icon"}};function Eq(g,C){if(1&g&&(zs(0),Zn(1,vq,1,0,"ng-container",7),$s()),2&g){const v=kn(4);Tn(1),mn("ngTemplateOutlet",v.loaderIconTemplate)("ngTemplateOutletContext",xi(3,VF,dm(2,_q)))}}function bq(g,C){1&g&&Xi(0,"i",16)}function Cq(g,C){if(1&g&&(Zn(0,Eq,2,5,"ng-container",0),Zn(1,bq,1,0,"ng-template",null,15,jc)),2&g){const v=Na(2);mn("ngIf",kn(3).loaderIconTemplate)("ngIfElse",v)}}const Mq=function(g){return{"p-component-overlay":g}};function Sq(g,C){if(1&g&&(Yn(0,"div",12),Zn(1,yq,2,1,"ng-container",0),Zn(2,Cq,3,2,"ng-template",null,13,jc),er()),2&g){const v=Na(3),M=kn(2);mn("ngClass",xi(3,Mq,!M.loaderTemplate)),Tn(1),mn("ngIf",M.loaderTemplate)("ngIfElse",v)}}const Tq=function(g,C,v){return{"p-scroller":!0,"p-scroller-inline":g,"p-both-scroll":C,"p-horizontal-scroll":v}};function Pq(g,C){if(1&g){const v=Ms();zs(0),Yn(1,"div",2,3),Fr("scroll",function(D){return fi(v),mi(kn().onContainerScroll(D))}),Zn(3,lq,2,5,"ng-container",0),Zn(4,hq,3,6,"ng-template",null,4,jc),Zn(6,pq,1,1,"div",5),Zn(7,Sq,4,5,"div",6),er(),$s()}if(2&g){const v=Na(5),M=kn();Tn(1),xs(M._styleClass),mn("ngStyle",M._style)("ngClass",mp(10,Tq,M.inline,M.both,M.horizontal)),ls("id",M._id)("tabindex",M.tabindex),Tn(2),mn("ngIf",M.contentTemplate)("ngIfElse",v),Tn(3),mn("ngIf",M._showSpacer),Tn(1),mn("ngIf",!M.loaderDisabled&&M._showLoader&&M.d_loading)}}function Dq(g,C){1&g&&qi(0)}const wq=function(g,C){return{rows:g,columns:C}};function Iq(g,C){if(1&g&&(zs(0),Zn(1,Dq,1,0,"ng-container",7),$s()),2&g){const v=kn(2);Tn(1),mn("ngTemplateOutlet",v.contentTemplate)("ngTemplateOutletContext",tl(5,fT,v.items,tl(2,wq,v._items,v.loadedColumns)))}}function Oq(g,C){if(1&g&&(cp(0),Zn(1,Iq,2,8,"ng-container",17)),2&g){const v=kn();Tn(1),mn("ngIf",v.contentTemplate)}}const Aq=["*"];let xq=(()=>{class g{constructor(v,M){this.cd=v,this.zone=M,this.onLazyLoad=new Nr,this.onScroll=new Nr,this.onScrollIndexChange=new Nr,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.isRangeChanged=!1,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(v){this._id=v}get style(){return this._style}set style(v){this._style=v}get styleClass(){return this._styleClass}set styleClass(v){this._styleClass=v}get tabindex(){return this._tabindex}set tabindex(v){this._tabindex=v}get items(){return this._items}set items(v){this._items=v}get itemSize(){return this._itemSize}set itemSize(v){this._itemSize=v}get scrollHeight(){return this._scrollHeight}set scrollHeight(v){this._scrollHeight=v}get scrollWidth(){return this._scrollWidth}set scrollWidth(v){this._scrollWidth=v}get orientation(){return this._orientation}set orientation(v){this._orientation=v}get step(){return this._step}set step(v){this._step=v}get delay(){return this._delay}set delay(v){this._delay=v}get resizeDelay(){return this._resizeDelay}set resizeDelay(v){this._resizeDelay=v}get appendOnly(){return this._appendOnly}set appendOnly(v){this._appendOnly=v}get inline(){return this._inline}set inline(v){this._inline=v}get lazy(){return this._lazy}set lazy(v){this._lazy=v}get disabled(){return this._disabled}set disabled(v){this._disabled=v}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(v){this._loaderDisabled=v}get columns(){return this._columns}set columns(v){this._columns=v}get showSpacer(){return this._showSpacer}set showSpacer(v){this._showSpacer=v}get showLoader(){return this._showLoader}set showLoader(v){this._showLoader=v}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(v){this._numToleratedItems=v}get loading(){return this._loading}set loading(v){this._loading=v}get autoSize(){return this._autoSize}set autoSize(v){this._autoSize=v}get trackBy(){return this._trackBy}set trackBy(v){this._trackBy=v}get options(){return this._options}set options(v){this._options=v,v&&"object"==typeof v&&Object.entries(v).forEach(([M,D])=>this[`_${M}`]!==D&&(this[`_${M}`]=D))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(v=>this._columns?v:v.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(v){let M=!1;if(v.loading){const{previousValue:D,currentValue:I}=v.loading;this.lazy&&D!==I&&I!==this.d_loading&&(this.d_loading=I,M=!0)}if(v.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),v.numToleratedItems){const{previousValue:D,currentValue:I}=v.numToleratedItems;D!==I&&I!==this.d_numToleratedItems&&(this.d_numToleratedItems=I)}if(v.options){const{previousValue:D,currentValue:I}=v.options;this.lazy&&D?.loading!==I?.loading&&I?.loading!==this.d_loading&&(this.d_loading=I.loading,M=!0),D?.numToleratedItems!==I?.numToleratedItems&&I?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=I.numToleratedItems)}this.initialized&&!M&&(v.items?.previousValue?.length!==v.items?.currentValue?.length||v.itemSize||v.scrollHeight||v.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(v=>{switch(v.getType()){case"content":this.contentTemplate=v.template;break;case"item":default:this.itemTemplate=v.template;break;case"loader":this.loaderTemplate=v.template;break;case"loadericon":this.loaderIconTemplate=v.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Ln.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=Ln.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=Ln.getHeight(this.elementViewChild.nativeElement),this.defaultContentWidth=Ln.getWidth(this.contentEl),this.defaultContentHeight=Ln.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(v){this.contentEl=v||this.contentViewChild?.nativeElement||Ln.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(v){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(v)}scrollToIndex(v,M="auto"){const{numToleratedItems:D}=this.calculateNumItems(),I=this.getContentPosition(),x=(Ae=0,Ve)=>Ae<=Ve?0:Ae,X=(Ae,Ve,qe)=>Ae*Ve+qe,he=(Ae=0,Ve=0)=>this.scrollTo({left:Ae,top:Ve,behavior:M});let Se=0;this.both?(Se={rows:x(v[0],D[0]),cols:x(v[1],D[1])},he(X(Se.cols,this._itemSize[1],I.left),X(Se.rows,this._itemSize[0],I.top))):(Se=x(v,D),this.horizontal?he(X(Se,this._itemSize,I.left),0):he(0,X(Se,this._itemSize,I.top))),this.isRangeChanged=this.first!==Se,this.first=Se}scrollInView(v,M,D="auto"){if(M){const{first:I,viewport:x}=this.getRenderedRange(),X=(Ae=0,Ve=0)=>this.scrollTo({left:Ae,top:Ve,behavior:D}),Se="to-end"===M;if("to-start"===M){if(this.both)x.first.rows-I.rows>v[0]?X(x.first.cols*this._itemSize[1],(x.first.rows-1)*this._itemSize[0]):x.first.cols-I.cols>v[1]&&X((x.first.cols-1)*this._itemSize[1],x.first.rows*this._itemSize[0]);else if(x.first-I>v){const Ae=(x.first-1)*this._itemSize;this.horizontal?X(Ae,0):X(0,Ae)}}else if(Se)if(this.both)x.last.rows-I.rows<=v[0]+1?X(x.first.cols*this._itemSize[1],(x.first.rows+1)*this._itemSize[0]):x.last.cols-I.cols<=v[1]+1&&X((x.first.cols+1)*this._itemSize[1],x.first.rows*this._itemSize[0]);else if(x.last-I<=v+1){const Ae=(x.first+1)*this._itemSize;this.horizontal?X(Ae,0):X(0,Ae)}}else this.scrollToIndex(v,D)}getRenderedRange(){const v=(I,x)=>Math.floor(I/(x||I));let M=this.first,D=0;if(this.elementViewChild?.nativeElement){const{scrollTop:I,scrollLeft:x}=this.elementViewChild.nativeElement;this.both?(M={rows:v(I,this._itemSize[0]),cols:v(x,this._itemSize[1])},D={rows:M.rows+this.numItemsInViewport.rows,cols:M.cols+this.numItemsInViewport.cols}):(M=v(this.horizontal?x:I,this._itemSize),D=M+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:M,last:D}}}calculateNumItems(){const v=this.getContentPosition(),M=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-v.left:0,D=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-v.top:0,I=(Se,Ae)=>Math.ceil(Se/(Ae||Se)),x=Se=>Math.ceil(Se/2),X=this.both?{rows:I(D,this._itemSize[0]),cols:I(M,this._itemSize[1])}:I(this.horizontal?M:D,this._itemSize);return{numItemsInViewport:X,numToleratedItems:this.d_numToleratedItems||(this.both?[x(X.rows),x(X.cols)]:x(X))}}calculateOptions(){const{numItemsInViewport:v,numToleratedItems:M}=this.calculateNumItems(),D=(X,he,Se,Ae=!1)=>this.getLast(X+he+(X<Se?2:3)*Se,Ae),I=this.first,x=this.both?{rows:D(this.first.rows,v.rows,M[0]),cols:D(this.first.cols,v.cols,M[1],!0)}:D(this.first,v,M);this.last=x,this.numItemsInViewport=v,this.d_numToleratedItems=M,this.showLoader&&(this.loaderArr=this.both?Array.from({length:v.rows}).map(()=>Array.from({length:v.cols})):Array.from({length:v})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:I.cols}:0:I,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[v,M]=[Ln.getWidth(this.contentEl),Ln.getHeight(this.contentEl)];v!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),M!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[D,I]=[Ln.getWidth(this.elementViewChild.nativeElement),Ln.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=D<this.defaultWidth?D+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=I<this.defaultHeight?I+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(v=0,M=!1){return this._items?Math.min(M?(this._columns||this._items[0]).length:this._items.length,v):0}getContentPosition(){if(this.contentEl){const v=getComputedStyle(this.contentEl),M=parseFloat(v.paddingLeft)+Math.max(parseFloat(v.left)||0,0),D=parseFloat(v.paddingRight)+Math.max(parseFloat(v.right)||0,0),I=parseFloat(v.paddingTop)+Math.max(parseFloat(v.top)||0,0),x=parseFloat(v.paddingBottom)+Math.max(parseFloat(v.bottom)||0,0);return{left:M,right:D,top:I,bottom:x,x:M+D,y:I+x}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const v=this.elementViewChild.nativeElement.parentElement.parentElement,M=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||v.offsetWidth}px`,D=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||v.offsetHeight}px`,I=(x,X)=>this.elementViewChild.nativeElement.style[x]=X;this.both||this.horizontal?(I("height",D),I("width",M)):I("height",D)}}setSpacerSize(){if(this._items){const v=this.getContentPosition(),M=(D,I,x,X=0)=>this.spacerStyle={...this.spacerStyle,[`${D}`]:(I||[]).length*x+X+"px"};this.both?(M("height",this._items,this._itemSize[0],v.y),M("width",this._columns||this._items[1],this._itemSize[1],v.x)):this.horizontal?M("width",this._columns||this._items,this._itemSize,v.x):M("height",this._items,this._itemSize,v.y)}}setContentPosition(v){if(this.contentEl&&!this._appendOnly){const M=v?v.first:this.first,D=(x,X)=>x*X,I=(x=0,X=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${x}px, ${X}px, 0)`};if(this.both)I(D(M.cols,this._itemSize[1]),D(M.rows,this._itemSize[0]));else{const x=D(M,this._itemSize);this.horizontal?I(x,0):I(0,x)}}}onScrollPositionChange(v){const M=v.target,D=this.getContentPosition(),I=(Ut,qt)=>Ut?Ut>qt?Ut-qt:Ut:0,x=(Ut,qt)=>Math.floor(Ut/(qt||Ut)),X=(Ut,qt,_n,tn,Gn,_r)=>Ut<=Gn?Gn:_r?_n-tn-Gn:qt+Gn-1,he=(Ut,qt,_n,tn,Gn,_r,Mr)=>Ut<=_r?0:Math.max(0,Mr?Ut<qt?_n:Ut-_r:Ut>qt?_n:Ut-2*_r),Se=(Ut,qt,_n,tn,Gn,_r=!1)=>{let Mr=qt+tn+2*Gn;return Ut>=Gn&&(Mr+=Gn+1),this.getLast(Mr,_r)},Ae=I(M.scrollTop,D.top),Ve=I(M.scrollLeft,D.left);let qe=this.both?{rows:0,cols:0}:0,rt=this.last,gt=!1,Ot=this.lastScrollPos;if(this.both){const Ut=this.lastScrollPos.top<=Ae,qt=this.lastScrollPos.left<=Ve;if(!this._appendOnly||this._appendOnly&&(Ut||qt)){const _n={rows:x(Ae,this._itemSize[0]),cols:x(Ve,this._itemSize[1])},tn={rows:X(_n.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Ut),cols:X(_n.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],qt)};qe={rows:he(_n.rows,tn.rows,this.first.rows,0,0,this.d_numToleratedItems[0],Ut),cols:he(_n.cols,tn.cols,this.first.cols,0,0,this.d_numToleratedItems[1],qt)},rt={rows:Se(_n.rows,qe.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:Se(_n.cols,qe.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},gt=qe.rows!==this.first.rows||rt.rows!==this.last.rows||qe.cols!==this.first.cols||rt.cols!==this.last.cols||this.isRangeChanged,Ot={top:Ae,left:Ve}}}else{const Ut=this.horizontal?Ve:Ae,qt=this.lastScrollPos<=Ut;if(!this._appendOnly||this._appendOnly&&qt){const _n=x(Ut,this._itemSize);qe=he(_n,X(_n,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,qt),this.first,0,0,this.d_numToleratedItems,qt),rt=Se(_n,qe,0,this.numItemsInViewport,this.d_numToleratedItems),gt=qe!==this.first||rt!==this.last||this.isRangeChanged,Ot=Ut}}return{first:qe,last:rt,isRangeChanged:gt,scrollPos:Ot}}onScrollChange(v){const{first:M,last:D,isRangeChanged:I,scrollPos:x}=this.onScrollPositionChange(v);if(I){const X={first:M,last:D};if(this.setContentPosition(X),this.first=M,this.last=D,this.lastScrollPos=x,this.handleEvents("onScrollIndexChange",X),this._lazy&&this.isPageChanged){const he={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):M,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:D,this.items.length)};(this.lazyLoadState.first!==he.first||this.lazyLoadState.last!==he.last)&&this.handleEvents("onLazyLoad",he),this.lazyLoadState=he}}}onContainerScroll(v){if(this.handleEvents("onScroll",{originalEvent:v}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:M}=this.onScrollPositionChange(v);(M||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(v),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(v)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(Ln.isVisible(this.elementViewChild?.nativeElement)){const[v,M]=[Ln.getWidth(this.elementViewChild.nativeElement),Ln.getHeight(this.elementViewChild.nativeElement)],[D,I]=[v!==this.defaultWidth,M!==this.defaultHeight];(this.both?D||I:this.horizontal?D:this.vertical&&I)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=v,this.defaultHeight=M,this.defaultContentWidth=Ln.getWidth(this.contentEl),this.defaultContentHeight=Ln.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(v,M){return this.options&&this.options[v]?this.options[v](M):this[v].emit(M)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:v=>this.getOptions(v),loading:this.d_loading,getLoaderOptions:(v,M)=>this.getLoaderOptions(v,M),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(v){const M=(this._items||[]).length,D=this.both?this.first.rows+v:this.first+v;return{index:D,count:M,first:0===D,last:D===M-1,even:D%2==0,odd:D%2!=0}}getLoaderOptions(v,M){const D=this.loaderArr.length;return{index:v,count:D,first:0===v,last:v===D-1,even:v%2==0,odd:v%2!=0,...M}}}return g.\u0275fac=function(v){return new(v||g)(pn(rl),pn(Ri))},g.\u0275cmp=fs({type:g,selectors:[["p-scroller"]],contentQueries:function(v,M,D){if(1&v&&nc(D,Kc,4),2&v){let I;Ni(I=ji())&&(M.templates=I)}},viewQuery:function(v,M){if(1&v&&(Ss(sq,5),Ss(oq,5)),2&v){let D;Ni(D=ji())&&(M.elementViewChild=D.first),Ni(D=ji())&&(M.contentViewChild=D.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Cr],ngContentSelectors:Aq,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(v,M){if(1&v&&(lp(),Zn(0,Pq,8,14,"ng-container",0),Zn(1,Oq,2,1,"ng-template",null,1,jc)),2&v){const D=Na(2);mn("ngIf",!M._disabled)("ngIfElse",D)}},dependencies:[Wo,_m,ja,kc,ol],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),g})(),WF=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})(),Rq=(()=>{class g{constructor(v,M,D,I,x){this.el=v,this.zone=M,this.config=D,this.renderer=I,this.changeDetector=x,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0}}get disabled(){return this._disabled}set disabled(v){this._disabled=v,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let v=this.getTarget(this.el.nativeElement);v.addEventListener("focus",this.focusListener),v.addEventListener("blur",this.blurListener)}})}ngOnChanges(v){v.tooltipPosition&&this.setOption({tooltipPosition:v.tooltipPosition.currentValue}),v.tooltipEvent&&this.setOption({tooltipEvent:v.tooltipEvent.currentValue}),v.appendTo&&this.setOption({appendTo:v.appendTo.currentValue}),v.positionStyle&&this.setOption({positionStyle:v.positionStyle.currentValue}),v.tooltipStyleClass&&this.setOption({tooltipStyleClass:v.tooltipStyleClass.currentValue}),v.tooltipZIndex&&this.setOption({tooltipZIndex:v.tooltipZIndex.currentValue}),v.escape&&this.setOption({escape:v.escape.currentValue}),v.showDelay&&this.setOption({showDelay:v.showDelay.currentValue}),v.hideDelay&&this.setOption({hideDelay:v.hideDelay.currentValue}),v.life&&this.setOption({life:v.life.currentValue}),v.positionTop&&this.setOption({positionTop:v.positionTop.currentValue}),v.positionLeft&&this.setOption({positionLeft:v.positionLeft.currentValue}),v.disabled&&this.setOption({disabled:v.disabled.currentValue}),v.text&&(this.setOption({tooltipLabel:v.text.currentValue}),this.active&&(v.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),v.autoHide&&this.setOption({autoHide:v.autoHide.currentValue}),v.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...v.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(v){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(v){(this.isAutoHide()||!(Ln.hasClass(v.toElement,"p-tooltip")||Ln.hasClass(v.toElement,"p-tooltip-arrow")||Ln.hasClass(v.toElement,"p-tooltip-text")||Ln.hasClass(v.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(v){this.activate()}onBlur(v){this.deactivate()}onInputClick(v){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let v=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},v)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let v=document.createElement("div");v.className="p-tooltip-arrow",this.container.appendChild(v),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Ln.appendChild(this.container,this.el.nativeElement):Ln.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",M=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Ln.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?da.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&da.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let v=this.el.nativeElement.getBoundingClientRect();return{left:v.left+Ln.getWindowScrollLeft(),top:v.top+Ln.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let v=this.getHostOffset(),M=v.left+Ln.getOuterWidth(this.el.nativeElement),D=v.top+(Ln.getOuterHeight(this.el.nativeElement)-Ln.getOuterHeight(this.container))/2;this.container.style.left=M+this.getOption("positionLeft")+"px",this.container.style.top=D+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let v=this.getHostOffset(),M=v.left-Ln.getOuterWidth(this.container),D=v.top+(Ln.getOuterHeight(this.el.nativeElement)-Ln.getOuterHeight(this.container))/2;this.container.style.left=M+this.getOption("positionLeft")+"px",this.container.style.top=D+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let v=this.getHostOffset(),M=v.left+(Ln.getOuterWidth(this.el.nativeElement)-Ln.getOuterWidth(this.container))/2,D=v.top-Ln.getOuterHeight(this.container);this.container.style.left=M+this.getOption("positionLeft")+"px",this.container.style.top=D+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let v=this.getHostOffset(),M=v.left+(Ln.getOuterWidth(this.el.nativeElement)-Ln.getOuterWidth(this.container))/2,D=v.top+Ln.getOuterHeight(this.el.nativeElement);this.container.style.left=M+this.getOption("positionLeft")+"px",this.container.style.top=D+this.getOption("positionTop")+"px"}setOption(v){this._tooltipOptions={...this._tooltipOptions,...v}}getOption(v){return this._tooltipOptions[v]}getTarget(v){return Ln.hasClass(v,"p-inputwrapper")?Ln.findSingle(v,"input"):v}preAlign(v){this.container.style.left="-999px",this.container.style.top="-999px";let M="p-tooltip p-component p-tooltip-"+v;this.container.className=this.getOption("tooltipStyleClass")?M+" "+this.getOption("tooltipStyleClass"):M}isOutOfBounds(){let v=this.container.getBoundingClientRect(),M=v.top,D=v.left,I=Ln.getOuterWidth(this.container),x=Ln.getOuterHeight(this.container),X=Ln.getViewport();return D+I>X.width||D<0||M<0||M+x>X.height}onWindowResize(v){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new sx(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let v=this.getTarget(this.el.nativeElement);v.removeEventListener("focus",this.focusListener),v.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Ln.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&da.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return g.\u0275fac=function(v){return new(v||g)(pn(As),pn(Ri),pn(Xd),pn(ba),pn(rl))},g.\u0275dir=Tr({type:g,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Cr]}),g})(),Lq=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})();function Fq(g,C){if(1&g&&(Yn(0,"span"),Zi(1),er()),2&g){const v=kn();let M;Tn(1),Ca(null!==(M=v.label)&&void 0!==M?M:"empty")}}function Nq(g,C){1&g&&qi(0)}const x0=function(g){return{height:g}},jq=function(g,C){return{"p-dropdown-item":!0,"p-highlight":g,"p-disabled":C}},mT=function(g){return{$implicit:g}},Uq=["container"],Bq=["filter"],Vq=["in"],Wq=["editableInput"],kq=["items"],zq=["scroller"],$q=["overlay"];function Zq(g,C){if(1&g&&(zs(0),Zi(1),$s()),2&g){const v=kn(2);Tn(1),Ca(v.label||"empty")}}function Gq(g,C){1&g&&qi(0)}const Kq=function(g){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":g}};function Hq(g,C){if(1&g&&(Yn(0,"span",14),Zn(1,Zq,2,1,"ng-container",15),Zn(2,Gq,1,0,"ng-container",16),er()),2&g){const v=kn();mn("ngClass",xi(9,Kq,null==v.label||0===v.label.length))("pTooltip",v.tooltip)("tooltipPosition",v.tooltipPosition)("positionStyle",v.tooltipPositionStyle)("tooltipStyleClass",v.tooltipStyleClass),ls("id",v.labelId),Tn(1),mn("ngIf",!v.selectedItemTemplate),Tn(1),mn("ngTemplateOutlet",v.selectedItemTemplate)("ngTemplateOutletContext",xi(11,mT,v.selectedOption))}}const Yq=function(g){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":g}};function Jq(g,C){if(1&g&&(Yn(0,"span",17),Zi(1),er()),2&g){const v=kn();mn("ngClass",xi(2,Yq,null==v.placeholder||0===v.placeholder.length)),Tn(1),Ca(v.placeholder||"empty")}}function Qq(g,C){if(1&g){const v=Ms();Yn(0,"input",18,19),Fr("input",function(D){return fi(v),mi(kn().onEditableInputChange(D))})("focus",function(D){return fi(v),mi(kn().onEditableInputFocus(D))})("blur",function(D){return fi(v),mi(kn().onInputBlur(D))}),er()}if(2&g){const v=kn();mn("disabled",v.disabled),ls("maxlength",v.maxlength)("placeholder",v.placeholder)("aria-expanded",v.overlayVisible)}}function Xq(g,C){if(1&g){const v=Ms();Yn(0,"i",20),Fr("click",function(D){return fi(v),mi(kn().clear(D))}),er()}}function qq(g,C){1&g&&qi(0)}function eee(g,C){1&g&&qi(0)}const kF=function(g){return{options:g}};function tee(g,C){if(1&g&&(zs(0),Zn(1,eee,1,0,"ng-container",16),$s()),2&g){const v=kn(3);Tn(1),mn("ngTemplateOutlet",v.filterTemplate)("ngTemplateOutletContext",xi(2,kF,v.filterOptions))}}function nee(g,C){if(1&g){const v=Ms();Yn(0,"div",30)(1,"input",31,32),Fr("keydown.enter",function(D){return D.preventDefault()})("keydown",function(D){return fi(v),mi(kn(3).onKeydown(D,!1))})("input",function(D){return fi(v),mi(kn(3).onFilterInputChange(D))}),er(),Xi(3,"span",33),er()}if(2&g){const v=kn(3);Tn(1),mn("value",v.filterValue||""),ls("placeholder",v.filterPlaceholder)("aria-label",v.ariaFilterLabel)("aria-activedescendant",v.overlayVisible?"p-highlighted-option":v.labelId)}}function ree(g,C){if(1&g&&(Yn(0,"div",27),Fr("click",function(M){return M.stopPropagation()}),Zn(1,tee,2,4,"ng-container",28),Zn(2,nee,4,4,"ng-template",null,29,jc),er()),2&g){const v=Na(3),M=kn(2);Tn(1),mn("ngIf",M.filterTemplate)("ngIfElse",v)}}function iee(g,C){1&g&&qi(0)}const zF=function(g,C){return{$implicit:g,options:C}};function see(g,C){if(1&g&&Zn(0,iee,1,0,"ng-container",16),2&g){const v=C.$implicit,M=C.options;kn(2),mn("ngTemplateOutlet",Na(7))("ngTemplateOutletContext",tl(2,zF,v,M))}}function oee(g,C){1&g&&qi(0)}function aee(g,C){if(1&g&&Zn(0,oee,1,0,"ng-container",16),2&g){const v=C.options;mn("ngTemplateOutlet",kn(4).loaderTemplate)("ngTemplateOutletContext",xi(2,kF,v))}}function lee(g,C){1&g&&(zs(0),Zn(1,aee,1,4,"ng-template",36),$s())}function cee(g,C){if(1&g){const v=Ms();Yn(0,"p-scroller",34,35),Fr("onLazyLoad",function(D){return fi(v),mi(kn(2).onLazyLoad.emit(D))}),Zn(2,see,1,5,"ng-template",13),Zn(3,lee,2,0,"ng-container",15),er()}if(2&g){const v=kn(2);el(xi(8,x0,v.scrollHeight)),mn("items",v.optionsToDisplay)("itemSize",v.virtualScrollItemSize||v._itemSize)("autoSize",!0)("lazy",v.lazy)("options",v.virtualScrollOptions),Tn(3),mn("ngIf",v.loaderTemplate)}}function uee(g,C){1&g&&qi(0)}const dee=function(){return{}};function hee(g,C){if(1&g&&(zs(0),Zn(1,uee,1,0,"ng-container",16),$s()),2&g){kn();const v=Na(7),M=kn();Tn(1),mn("ngTemplateOutlet",v)("ngTemplateOutletContext",tl(3,zF,M.optionsToDisplay,dm(2,dee)))}}function pee(g,C){if(1&g&&(Yn(0,"span"),Zi(1),er()),2&g){const v=kn().$implicit,M=kn(4);Tn(1),Ca(M.getOptionGroupLabel(v)||"empty")}}function fee(g,C){1&g&&qi(0)}function mee(g,C){1&g&&qi(0)}const $F=function(g,C){return{$implicit:g,selectedOption:C}};function gee(g,C){if(1&g&&(Yn(0,"li",42),Zn(1,pee,2,1,"span",15),Zn(2,fee,1,0,"ng-container",16),er(),Zn(3,mee,1,0,"ng-container",16)),2&g){const v=C.$implicit,M=kn(2).options,D=Na(5),I=kn(2);mn("ngStyle",xi(6,x0,M.itemSize+"px")),Tn(1),mn("ngIf",!I.groupTemplate),Tn(1),mn("ngTemplateOutlet",I.groupTemplate)("ngTemplateOutletContext",xi(8,mT,v)),Tn(1),mn("ngTemplateOutlet",D)("ngTemplateOutletContext",tl(10,$F,I.getOptionGroupChildren(v),I.selectedOption))}}function yee(g,C){if(1&g&&(zs(0),Zn(1,gee,4,13,"ng-template",41),$s()),2&g){const v=kn().$implicit;Tn(1),mn("ngForOf",v)}}function vee(g,C){1&g&&qi(0)}function _ee(g,C){if(1&g&&(zs(0),Zn(1,vee,1,0,"ng-container",16),$s()),2&g){const v=kn().$implicit,M=Na(5),D=kn(2);Tn(1),mn("ngTemplateOutlet",M)("ngTemplateOutletContext",tl(2,$F,v,D.selectedOption))}}function Eee(g,C){if(1&g){const v=Ms();Yn(0,"p-dropdownItem",43),Fr("onClick",function(D){return fi(v),mi(kn(4).onItemClick(D))}),er()}if(2&g){const v=C.$implicit,M=kn().selectedOption,D=kn(3);mn("option",v)("selected",M==v)("label",D.getOptionLabel(v))("disabled",D.isOptionDisabled(v))("template",D.itemTemplate)}}function bee(g,C){1&g&&Zn(0,Eee,1,5,"ng-template",41),2&g&&mn("ngForOf",C.$implicit)}function Cee(g,C){if(1&g&&(zs(0),Zi(1),$s()),2&g){const v=kn(4);Tn(1),Uu(" ",v.emptyFilterMessageLabel," ")}}function Mee(g,C){1&g&&qi(0,null,45)}function See(g,C){if(1&g&&(Yn(0,"li",44),Zn(1,Cee,2,1,"ng-container",28),Zn(2,Mee,2,0,"ng-container",22),er()),2&g){const v=kn().options,M=kn(2);mn("ngStyle",xi(4,x0,v.itemSize+"px")),Tn(1),mn("ngIf",!M.emptyFilterTemplate&&!M.emptyTemplate)("ngIfElse",M.emptyFilter),Tn(1),mn("ngTemplateOutlet",M.emptyFilterTemplate||M.emptyTemplate)}}function Tee(g,C){if(1&g&&(zs(0),Zi(1),$s()),2&g){const v=kn(4);Tn(1),Uu(" ",v.emptyMessageLabel," ")}}function Pee(g,C){1&g&&qi(0,null,46)}function Dee(g,C){if(1&g&&(Yn(0,"li",44),Zn(1,Tee,2,1,"ng-container",28),Zn(2,Pee,2,0,"ng-container",22),er()),2&g){const v=kn().options,M=kn(2);mn("ngStyle",xi(4,x0,v.itemSize+"px")),Tn(1),mn("ngIf",!M.emptyTemplate)("ngIfElse",M.empty),Tn(1),mn("ngTemplateOutlet",M.emptyTemplate)}}function wee(g,C){if(1&g&&(Yn(0,"ul",37,38),Zn(2,yee,2,1,"ng-container",15),Zn(3,_ee,2,5,"ng-container",15),Zn(4,bee,1,1,"ng-template",null,39,jc),Zn(6,See,3,6,"li",40),Zn(7,Dee,3,6,"li",40),er()),2&g){const v=C.options,M=kn(2);el(v.contentStyle),mn("ngClass",v.contentStyleClass),ls("id",M.listId),Tn(2),mn("ngIf",M.group),Tn(1),mn("ngIf",!M.group),Tn(3),mn("ngIf",M.filterValue&&M.isEmpty()),Tn(1),mn("ngIf",!M.filterValue&&M.isEmpty())}}function Iee(g,C){1&g&&qi(0)}function Oee(g,C){if(1&g&&(Yn(0,"div",21),Zn(1,qq,1,0,"ng-container",22),Zn(2,ree,4,2,"div",23),Yn(3,"div",24),Zn(4,cee,4,10,"p-scroller",25),Zn(5,hee,2,6,"ng-container",15),Zn(6,wee,8,8,"ng-template",null,26,jc),er(),Zn(8,Iee,1,0,"ng-container",22),er()),2&g){const v=kn();xs(v.panelStyleClass),mn("ngClass","p-dropdown-panel p-component")("ngStyle",v.panelStyle),Tn(1),mn("ngTemplateOutlet",v.headerTemplate),Tn(1),mn("ngIf",v.filter),Tn(1),im("max-height",v.virtualScroll?"auto":v.scrollHeight||"auto"),Tn(1),mn("ngIf",v.virtualScroll),Tn(1),mn("ngIf",!v.virtualScroll),Tn(3),mn("ngTemplateOutlet",v.footerTemplate)}}const Aee=function(g,C,v,M){return{"p-dropdown p-component":!0,"p-disabled":g,"p-dropdown-open":C,"p-focus":v,"p-dropdown-clearable":M}},xee={provide:Za,useExisting:yr(()=>ZF),multi:!0};let Ree=(()=>{class g{constructor(){this.onClick=new Nr}onOptionClick(v){this.onClick.emit({originalEvent:v,option:this.option})}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275cmp=fs({type:g,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(v,M){1&v&&(Yn(0,"li",0),Fr("click",function(I){return M.onOptionClick(I)}),Zn(1,Fq,2,1,"span",1),Zn(2,Nq,1,0,"ng-container",2),er()),2&v&&(mn("ngStyle",xi(8,x0,M.itemSize+"px"))("id",M.selected?"p-highlighted-option":"")("ngClass",tl(10,jq,M.selected,M.disabled)),ls("aria-label",M.label)("aria-selected",M.selected),Tn(1),mn("ngIf",!M.template),Tn(1),mn("ngTemplateOutlet",M.template)("ngTemplateOutletContext",xi(13,mT,M.option)))},dependencies:[Wo,ja,kc,ol,h_],encapsulation:2}),g})(),ZF=(()=>{class g{constructor(v,M,D,I,x,X){this.el=v,this.renderer=M,this.cd=D,this.zone=I,this.filterService=x,this.config=X,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new Nr,this.onFilter=new Nr,this.onFocus=new Nr,this.onBlur=new Nr,this.onClick=new Nr,this.onShow=new Nr,this.onHide=new Nr,this.onClear=new Nr,this.onLazyLoad=new Nr,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=mC()}get disabled(){return this._disabled}set disabled(v){v&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=v,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(v){this._itemSize=v,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(v){this._autoZIndex=v,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(v){this._baseZIndex=v,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(v){this._showTransitionOptions=v,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(v){this._hideTransitionOptions=v,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(v=>{switch(v.getType()){case"item":default:this.itemTemplate=v.template;break;case"selectedItem":this.selectedItemTemplate=v.template;break;case"header":this.headerTemplate=v.template;break;case"filter":this.filterTemplate=v.template;break;case"footer":this.footerTemplate=v.template;break;case"emptyfilter":this.emptyFilterTemplate=v.template;break;case"empty":this.emptyTemplate=v.template;break;case"group":this.groupTemplate=v.template;break;case"loader":this.loaderTemplate=v.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:v=>this.onFilterInputChange(v),reset:()=>this.resetFilter()})}get options(){return this._options}set options(v){this._options=v,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Gi.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(v){this._filterValue=v,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Yy.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Yy.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(v){return this.optionLabel?Gi.resolveFieldData(v,this.optionLabel):v&&void 0!==v.label?v.label:v}getOptionValue(v){return this.optionValue?Gi.resolveFieldData(v,this.optionValue):!this.optionLabel&&v&&void 0!==v.value?v.value:v}isOptionDisabled(v){return this.optionDisabled?Gi.resolveFieldData(v,this.optionDisabled):!(!v||void 0===v.disabled)&&v.disabled}getOptionGroupLabel(v){return this.optionGroupLabel?Gi.resolveFieldData(v,this.optionGroupLabel):v&&void 0!==v.label?v.label:v}getOptionGroupChildren(v){return this.optionGroupChildren?Gi.resolveFieldData(v,this.optionGroupChildren):v.items}onItemClick(v){const M=v.option;this.isOptionDisabled(M)||(this.selectItem(v.originalEvent,M),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(v,M){this.selectedOption!=M&&(this.selectedOption=M,this.value=this.getOptionValue(M),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:v,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let v=Ln.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");v&&Ln.scrollInView(this.itemsWrapper,v),this.selectedOptionUpdated=!1}}writeValue(v){this.filter&&this.resetFilter(),this.value=v,this.updateSelectedOption(v),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(v){this.selectedOption=this.findOption(v,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(v){this.onModelChange=v}registerOnTouched(v){this.onModelTouched=v}setDisabledState(v){this.disabled=v,this.cd.markForCheck()}onMouseclick(v){this.disabled||this.readonly||this.isInputClick(v)||(this.onClick.emit(v),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(v){return Ln.hasClass(v.target,"p-dropdown-clear-icon")||v.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&v.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(v){this.focused=!0,this.hide(),this.onFocus.emit(v)}onEditableInputChange(v){this.value=v.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:v,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(v){if("visible"===v.toState){if(this.itemsWrapper=Ln.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const M=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==M&&this.scroller.scrollToIndex(M)}else{let M=Ln.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");M&&M.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(v)}"void"===v.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(v))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(v){this.focused=!0,this.onFocus.emit(v)}onInputBlur(v){this.focused=!1,this.onBlur.emit(v),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(v){let M;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let D=v-1;0<=D;D--){let I=this.optionsToDisplay[D];if(!this.isOptionDisabled(I)){M=I;break}}if(!M)for(let D=this.optionsToDisplay.length-1;D>=v;D--){let I=this.optionsToDisplay[D];if(!this.isOptionDisabled(I)){M=I;break}}}return M}findNextEnabledOption(v){let M;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let D=v+1;D<this.optionsToDisplay.length;D++){let I=this.optionsToDisplay[D];if(!this.isOptionDisabled(I)){M=I;break}}if(!M)for(let D=0;D<v;D++){let I=this.optionsToDisplay[D];if(!this.isOptionDisabled(I)){M=I;break}}}return M}onKeydown(v,M){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(v.which){case 40:if(!this.overlayVisible&&v.altKey)this.show();else if(this.group){let D=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==D){let I=D.itemIndex+1;I<this.getOptionGroupChildren(this.optionsToDisplay[D.groupIndex]).length?(this.selectItem(v,this.getOptionGroupChildren(this.optionsToDisplay[D.groupIndex])[I]),this.selectedOptionUpdated=!0):this.optionsToDisplay[D.groupIndex+1]&&(this.selectItem(v,this.getOptionGroupChildren(this.optionsToDisplay[D.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(v,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let D=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,I=this.findNextEnabledOption(D);I&&(this.selectItem(v,I),this.selectedOptionUpdated=!0)}v.preventDefault();break;case 38:if(this.group){let D=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==D){let I=D.itemIndex-1;if(I>=0)this.selectItem(v,this.getOptionGroupChildren(this.optionsToDisplay[D.groupIndex])[I]),this.selectedOptionUpdated=!0;else if(I<0){let x=this.optionsToDisplay[D.groupIndex-1];x&&(this.selectItem(v,this.getOptionGroupChildren(x)[this.getOptionGroupChildren(x).length-1]),this.selectedOptionUpdated=!0)}}}else{let D=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,I=this.findPrevEnabledOption(D);I&&(this.selectItem(v,I),this.selectedOptionUpdated=!0)}v.preventDefault();break;case 32:M&&(this.overlayVisible?this.hide():this.show(),v.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),v.preventDefault();break;case 27:case 9:this.hide();break;default:M&&!v.metaKey&&17!==v.which&&this.search(v)}}search(v){this.searchTimeout&&clearTimeout(this.searchTimeout);const M=v.key;let D;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=M,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+M:M,this.group){let I=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};D=this.searchOptionWithinGroup(I)}else{let I=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;D=this.searchOption(++I)}D&&!this.isOptionDisabled(D)&&(this.selectItem(v,D),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(v){let M;return this.searchValue&&(M=this.searchOptionInRange(v,this.optionsToDisplay.length),M||(M=this.searchOptionInRange(0,v))),M}searchOptionInRange(v,M){for(let D=v;D<M;D++){let I=this.optionsToDisplay[D];if(this.getOptionLabel(I).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(I))return I}return null}searchOptionWithinGroup(v){if(this.searchValue){for(let D=v.groupIndex;D<this.optionsToDisplay.length;D++)for(let I=v.groupIndex===D?v.itemIndex+1:0;I<this.getOptionGroupChildren(this.optionsToDisplay[D]).length;I++){let x=this.getOptionGroupChildren(this.optionsToDisplay[D])[I];if(this.getOptionLabel(x).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(x))return x}for(let D=0;D<=v.groupIndex;D++)for(let I=0;I<(v.groupIndex===D?v.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[D]).length);I++){let x=this.getOptionGroupChildren(this.optionsToDisplay[D])[I];if(this.getOptionLabel(x).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(x))return x}}return null}findOptionIndex(v,M){let D=-1;if(M)for(let I=0;I<M.length;I++)if(null==v&&null==this.getOptionValue(M[I])||Gi.equals(v,this.getOptionValue(M[I]),this.dataKey)){D=I;break}return D}findOptionGroupIndex(v,M){let D,I;if(M)for(let x=0;x<M.length&&(D=x,I=this.findOptionIndex(v,this.getOptionGroupChildren(M[x])),-1===I);x++);return-1!==I?{groupIndex:D,itemIndex:I}:-1}findOption(v,M,D){if(this.group&&!D){let I;if(M&&M.length)for(let x of M)if(I=this.findOption(v,this.getOptionGroupChildren(x),!0),I)break;return I}{let I=this.findOptionIndex(v,M);return-1!=I?M[I]:null}}onFilterInputChange(v){let M=v.target.value;M&&M.length?(this._filterValue=M,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:v,filter:this._filterValue})}activateFilter(){let v=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let M=[];for(let D of this.options){let I=this.filterService.filter(this.getOptionGroupChildren(D),v,this.filterValue,this.filterMatchMode,this.filterLocale);I&&I.length&&M.push({...D,[this.optionGroupChildren]:I})}this.optionsToDisplay=M}else this.optionsToDisplay=this.filterService.filter(this.options,v,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Ln.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Ln.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(v){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:v,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(v)}}return g.\u0275fac=function(v){return new(v||g)(pn(As),pn(ba),pn(rl),pn(Ri),pn(Kz),pn(Xd))},g.\u0275cmp=fs({type:g,selectors:[["p-dropdown"]],contentQueries:function(v,M,D){if(1&v&&nc(D,Kc,4),2&v){let I;Ni(I=ji())&&(M.templates=I)}},viewQuery:function(v,M){if(1&v&&(Ss(Uq,5),Ss(Bq,5),Ss(Vq,5),Ss(Wq,5),Ss(kq,5),Ss(zq,5),Ss($q,5)),2&v){let D;Ni(D=ji())&&(M.containerViewChild=D.first),Ni(D=ji())&&(M.filterViewChild=D.first),Ni(D=ji())&&(M.accessibleViewChild=D.first),Ni(D=ji())&&(M.editableInputViewChild=D.first),Ni(D=ji())&&(M.itemsViewChild=D.first),Ni(D=ji())&&(M.scroller=D.first),Ni(D=ji())&&(M.overlayViewChild=D.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(v,M){2&v&&dp("p-inputwrapper-filled",M.filled)("p-inputwrapper-focus",M.focused||M.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[es([xee])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(v,M){1&v&&(Yn(0,"div",0,1),Fr("click",function(I){return M.onMouseclick(I)}),Yn(2,"div",2)(3,"input",3,4),Fr("focus",function(I){return M.onInputFocus(I)})("blur",function(I){return M.onInputBlur(I)})("keydown",function(I){return M.onKeydown(I,!0)}),er()(),Zn(5,Hq,3,13,"span",5),Zn(6,Jq,2,4,"span",6),Zn(7,Qq,2,4,"input",7),Zn(8,Xq,1,0,"i",8),Yn(9,"div",9),Xi(10,"span",10),er(),Yn(11,"p-overlay",11,12),Fr("visibleChange",function(I){return M.overlayVisible=I})("onAnimationStart",function(I){return M.onOverlayAnimationStart(I)})("onHide",function(){return M.hide()}),Zn(13,Oee,9,11,"ng-template",13),er()()),2&v&&(xs(M.styleClass),mn("ngClass",gp(27,Aee,M.disabled,M.overlayVisible,M.focused,M.showClear&&!M.disabled))("ngStyle",M.style),Tn(3),mn("disabled",M.disabled)("autofocus",M.autofocus),ls("id",M.inputId)("placeholder",M.placeholder)("aria-label",M.ariaLabel)("aria-expanded",!1)("aria-labelledby",M.ariaLabelledBy)("tabindex",M.tabindex)("aria-activedescendant",M.overlayVisible?M.labelId:null),Tn(2),mn("ngIf",!M.editable&&null!=M.label),Tn(1),mn("ngIf",!M.editable&&null==M.label),Tn(1),mn("ngIf",M.editable),Tn(1),mn("ngIf",M.isVisibleClearIcon),Tn(1),ls("aria-expanded",M.overlayVisible),Tn(1),mn("ngClass",M.dropdownIcon),Tn(1),mn("visible",M.overlayVisible)("options",M.overlayOptions)("target","@parent")("appendTo",M.appendTo)("autoZIndex",M.autoZIndex)("baseZIndex",M.baseZIndex)("showTransitionOptions",M.showTransitionOptions)("hideTransitionOptions",M.hideTransitionOptions))},dependencies:[Wo,_m,ja,kc,ol,UF,Kc,Rq,xq,zX,Ree],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),g})(),Lee=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,BF,Hu,Lq,p_,WF,$X,BF,Hu,WF]}),g})();const Fee=["rb"],Nee=function(g,C,v){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":g,"p-disabled":C,"p-radiobutton-label-focus":v}};function jee(g,C){if(1&g){const v=Ms();Yn(0,"label",4),Fr("click",function(D){return fi(v),mi(kn().select(D))}),Zi(1),er()}if(2&g){const v=kn(),M=Na(3);xs(v.labelStyleClass),mn("ngClass",mp(5,Nee,M.checked,v.disabled,v.focused)),ls("for",v.inputId),Tn(1),Ca(v.label)}}const Uee=function(g,C,v){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":g,"p-radiobutton-disabled":C,"p-radiobutton-focused":v}},Bee=function(g,C,v){return{"p-radiobutton-box":!0,"p-highlight":g,"p-disabled":C,"p-focus":v}},Vee={provide:Za,useExisting:yr(()=>GF),multi:!0};let Wee=(()=>{class g{constructor(){this.accessors=[]}add(v,M){this.accessors.push([v,M])}remove(v){this.accessors=this.accessors.filter(M=>M[1]!==v)}select(v){this.accessors.forEach(M=>{this.isSameGroup(M,v)&&M[1]!==v&&M[1].writeValue(v.value)})}isSameGroup(v,M){return!!v[0].control&&v[0].control.root===M.control.control.root&&v[1].name===M.name}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275prov=lr({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),GF=(()=>{class g{constructor(v,M,D){this.cd=v,this.injector=M,this.registry=D,this.onClick=new Nr,this.onFocus=new Nr,this.onBlur=new Nr,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(lu),this.checkName(),this.registry.add(this.control,this)}handleClick(v,M,D){v.preventDefault(),!this.disabled&&(this.select(v),D&&M.focus())}select(v){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:v,value:this.value}))}writeValue(v){this.checked=v==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(v){this.onModelChange=v}registerOnTouched(v){this.onModelTouched=v}setDisabledState(v){this.disabled=v,this.cd.markForCheck()}onInputFocus(v){this.focused=!0,this.onFocus.emit(v)}onInputBlur(v){this.focused=!1,this.onModelTouched(),this.onBlur.emit(v)}onChange(v){this.select(v)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return g.\u0275fac=function(v){return new(v||g)(pn(rl),pn(La),pn(Wee))},g.\u0275cmp=fs({type:g,selectors:[["p-radioButton"]],viewQuery:function(v,M){if(1&v&&Ss(Fee,5),2&v){let D;Ni(D=ji())&&(M.inputViewChild=D.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[es([Vee])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(v,M){if(1&v){const D=Ms();Yn(0,"div",0)(1,"div",1)(2,"input",2,3),Fr("change",function(x){return M.onChange(x)})("focus",function(x){return M.onInputFocus(x)})("blur",function(x){return M.onInputBlur(x)}),er()(),Yn(4,"div",4),Fr("click",function(x){fi(D);const X=Na(3);return mi(M.handleClick(x,X,!0))}),Xi(5,"span",5),er()(),Zn(6,jee,2,9,"label",6)}2&v&&(xs(M.styleClass),mn("ngStyle",M.style)("ngClass",mp(15,Uee,M.checked,M.disabled,M.focused)),Tn(2),mn("checked",M.checked)("disabled",M.disabled),ls("id",M.inputId)("name",M.name)("value",M.value)("tabindex",M.tabindex)("aria-checked",M.checked)("aria-label",M.ariaLabel)("aria-labelledby",M.ariaLabelledBy),Tn(2),mn("ngClass",mp(19,Bee,M.checked,M.disabled,M.focused)),Tn(2),mn("ngIf",M.label))},dependencies:[Wo,ja,ol],encapsulation:2,changeDetection:0}),g})(),kee=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo]}),g})();const zee=["mapViewNode"];class R0{constructor(C){this.appService=C,this.graphicsLayer=null,this.view=null,this.locationName="",this.parcelNumber="",this.statusDropdown={name:"Packed",code:"Packed"},this.selectedGeometry="",this.operation="Create",this.statusLists=[{name:"Packed",code:"Packed"},{name:"In Transit",code:"In Transit"},{name:"Delivered",code:"Delivered"}],this.simpleMarkerSymbol={type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:1}}}ngOnInit(){this.initializeMap().then(()=>{console.log("The map is ready.")})}initializeMap(){const C=this.mapViewEl.nativeElement;this.graphicsLayer=new TS.Z;const v=new GM({basemap:"topo-vector",layers:[this.graphicsLayer]}),M=new WL({map:v,center:[100.5379733488179,13.692471868103356],zoom:15,container:C});this.view=M;let D=new RX({layer:this.graphicsLayer,view:M});return D.on("create",I=>{if("complete"===I.state){this.graphicsLayer.removeAll(),this.selectedGeometry=JSON.stringify(I.graphic.geometry.toJSON());const x=new lc.Z({geometry:I.graphic.geometry,symbol:this.simpleMarkerSymbol});this.graphicsLayer.add(x),D.create("point")}}),D.create("point"),this.view.when()}submit(){var C=this;return(0,xn.Z)(function*(){if(C.parcelNumber&&C.statusDropdown&&C.locationName&&C.selectedGeometry){let v="ADD_PARCEL";C.appService.showLoading(v);let M="/invoke/CreateAsset";"Update"==C.operation&&(M="/invoke/UpdateAsset");let D={url:M,data:{input:{address:C.locationName,location:C.selectedGeometry,status:C.statusDropdown.code,trackID:C.parcelNumber}}},I=yield C.appService.post(D);if(C.appService.hideLoading(v),I){let x=I.tx;C.appService.showMessage("Transaction Submitted"),C.graphicsLayer.removeAll();let X=C.appService.showDialog(Lp,{header:"System",contentStyle:{overflow:"auto"},baseZIndex:1e4,data:{text:"Transaction Submitted",detail:x}});X&&X.onClose.subscribe(he=>{})}else C.appService.showError("Try again later.")}else C.appService.showError("Please fill all required field.")})()}}R0.\u0275fac=function(C){return new(C||R0)(pn(pd))},R0.\u0275cmp=fs({type:R0,selectors:[["app-simulate"]],viewQuery:function(C,v){if(1&C&&Ss(zee,7),2&C){let M;Ni(M=ji())&&(v.mapViewEl=M.first)}},decls:30,vars:6,consts:[[1,"flex","flex-row",2,"height","100%"],[1,"flex","side-panel","flex-column",2,"width","400px","padding","10px"],[1,"txt-title","align-items-center","flex",2,"margin-top","20px"],[1,"flex","flex-wrap","gap-3",2,"justify-content","center","margin-top","24px"],[1,"flex","align-items-center"],["name","operation","value","Create","inputId","ingredient1",3,"ngModel","ngModelChange"],["for","ingredient1",1,"ml-2"],["name","operation","value","Update","inputId","ingredient2",3,"ngModel","ngModelChange"],["for","ingredient2",1,"ml-2"],[1,"p-inputgroup","align-items-center",2,"margin-top","14px"],[1,"p-inputgroup-addon",2,"width","95px"],["pInputText","","placeholder","Track Number",3,"ngModel","ngModelChange"],[1,"p-inputgroup","align-items-center",2,"margin-top","24px"],["pInputText","","placeholder","Location Name",3,"ngModel","ngModelChange"],[1,"flex","flex-row","align-items-center",2,"margin-top","14px"],[2,"margin-right","10px"],["optionLabel","name",1,"flex-1",3,"options","ngModel","ngModelChange"],[1,"align-items-center","flex",2,"justify-content","center","margin-top","14px","width","80%"],["label","Submit","styleClass","p-button-raised p-button-success",3,"click"],[1,"flex","flex-1"],[2,"width","100%","height","100%",3,"ngClass"],["mapViewNode",""]],template:function(C,v){1&C&&(Yn(0,"div",0)(1,"div",1)(2,"div",2),Zi(3,"Parcel Management"),er(),Yn(4,"div",3)(5,"div",4)(6,"p-radioButton",5),Fr("ngModelChange",function(D){return v.operation=D}),er(),Yn(7,"label",6),Zi(8,"Create"),er()(),Yn(9,"div",4)(10,"p-radioButton",7),Fr("ngModelChange",function(D){return v.operation=D}),er(),Yn(11,"label",8),Zi(12,"Update"),er()()(),Yn(13,"div",9)(14,"span",10),Zi(15," ID "),er(),Yn(16,"input",11),Fr("ngModelChange",function(D){return v.parcelNumber=D}),er()(),Yn(17,"div",12)(18,"span",10),Zi(19," Location "),er(),Yn(20,"input",13),Fr("ngModelChange",function(D){return v.locationName=D}),er()(),Yn(21,"div",14)(22,"div",15),Zi(23,"Status: "),er(),Yn(24,"p-dropdown",16),Fr("ngModelChange",function(D){return v.statusDropdown=D}),er()(),Yn(25,"div",17)(26,"p-button",18),Fr("click",function(){return v.submit()}),er()()(),Yn(27,"div",19),Xi(28,"div",20,21),er()()),2&C&&(Tn(6),mn("ngModel",v.operation),Tn(4),mn("ngModel",v.operation),Tn(6),mn("ngModel",v.parcelNumber),Tn(4),mn("ngModel",v.locationName),Tn(4),mn("options",v.statusLists)("ngModel",v.statusDropdown))},dependencies:[Wo,PF,C0,zS,w0,kX,ZF,GF],styles:["[_nghost-%COMP%]{height:100vh;display:block;width:100%}[_nghost-%COMP%]   .esri-view[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}[_nghost-%COMP%]   #mapViewNode[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}[_nghost-%COMP%]   .side-panel[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}[_nghost-%COMP%]   .txt-title[_ngcontent-%COMP%]{font-weight:600;font-size:2rem}"]});const $ee=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:I0},{path:"admin",component:R0}];class df{}df.\u0275fac=function(C){return new(C||df)},df.\u0275mod=li({type:df}),df.\u0275inj=hn({imports:[rx.forRoot($ee),rx]});const KF=["container"],Zee=function(g,C,v,M){return{"pi-info-circle":g,"pi-exclamation-triangle":C,"pi-times-circle":v,"pi-check":M}};function Gee(g,C){if(1&g&&(zs(0),Xi(1,"span",6),Yn(2,"div",7)(3,"div",8),Zi(4),er(),Yn(5,"div",9),Zi(6),er()(),$s()),2&g){const v=kn();Tn(1),xs("p-toast-message-icon pi"+(v.message.icon?" "+v.message.icon:"")),mn("ngClass",gp(5,Zee,"info"==v.message.severity,"warn"==v.message.severity,"error"==v.message.severity,"success"==v.message.severity)),Tn(3),Ca(v.message.summary),Tn(2),Ca(v.message.detail)}}function Kee(g,C){1&g&&qi(0)}function Hee(g,C){if(1&g){const v=Ms();Yn(0,"button",10),Fr("click",function(D){return fi(v),mi(kn().onCloseIconClick(D))})("keydown.enter",function(D){return fi(v),mi(kn().onCloseIconClick(D))}),Xi(1,"span",11),er()}}const Yee=function(g){return[g,"p-toast-message"]},Jee=function(g,C,v,M){return{showTransformParams:g,hideTransformParams:C,showTransitionParams:v,hideTransitionParams:M}},Qee=function(g){return{value:"visible",params:g}},Xee=function(g){return{$implicit:g}};function qee(g,C){if(1&g){const v=Ms();Yn(0,"p-toastItem",3),Fr("onClose",function(D){return fi(v),mi(kn().onMessageClose(D))})("@toastAnimation.start",function(D){return fi(v),mi(kn().onAnimationStart(D))})("@toastAnimation.done",function(D){return fi(v),mi(kn().onAnimationEnd(D))}),er()}if(2&g){const v=C.$implicit,M=C.index,D=kn();mn("message",v)("index",M)("template",D.template)("@toastAnimation",void 0)("showTransformOptions",D.showTransformOptions)("hideTransformOptions",D.hideTransformOptions)("showTransitionOptions",D.showTransitionOptions)("hideTransitionOptions",D.hideTransitionOptions)}}let ete=(()=>{class g{constructor(v){this.zone=v,this.onClose=new Nr}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(v){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),v.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return g.\u0275fac=function(v){return new(v||g)(pn(Ri))},g.\u0275cmp=fs({type:g,selectors:[["p-toastItem"]],viewQuery:function(v,M){if(1&v&&Ss(KF,5),2&v){let D;Ni(D=ji())&&(M.containerViewChild=D.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(v,M){1&v&&(Yn(0,"div",0,1),Fr("mouseenter",function(){return M.onMouseEnter()})("mouseleave",function(){return M.onMouseLeave()}),Yn(2,"div",2),Zn(3,Gee,7,10,"ng-container",3),Zn(4,Kee,1,0,"ng-container",4),Zn(5,Hee,2,0,"button",5),er()()),2&v&&(xs(M.message.styleClass),mn("ngClass",xi(10,Yee,"p-toast-message-"+M.message.severity))("@messageState",xi(17,Qee,gp(12,Jee,M.showTransformOptions,M.hideTransformOptions,M.showTransitionOptions,M.hideTransitionOptions))),ls("id",M.message.id),Tn(2),mn("ngClass",M.message.contentStyleClass),Tn(1),mn("ngIf",!M.template),Tn(1),mn("ngTemplateOutlet",M.template)("ngTemplateOutletContext",xi(19,Xee,M.message)),Tn(1),mn("ngIf",!1!==M.message.closable))},dependencies:[Wo,ja,kc,h_],encapsulation:2,data:{animation:[Mm("messageState",[c7("visible",Ua({transform:"translateY(0)",opacity:1})),$c("void => *",[Ua({transform:"{{showTransformParams}}",opacity:0}),Wu("{{showTransitionParams}}")]),$c("* => void",[Wu("{{hideTransitionParams}}",Ua({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),g})(),tte=(()=>{class g{constructor(v,M,D){this.messageService=v,this.cd=M,this.config=D,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new Nr,this.id=mC()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(v=>{if(v)if(Array.isArray(v)){const M=v.filter(D=>this.canAdd(D));this.add(M)}else this.canAdd(v)&&this.add([v])}),this.clearSubscription=this.messageService.clearObserver.subscribe(v=>{v?this.key===v&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(v){this.messages=this.messages?[...this.messages,...v]:[...v],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...v]:[...v]),this.cd.markForCheck()}canAdd(v){let M=this.key===v.key;return M&&this.preventOpenDuplicates&&(M=!this.containsMessage(this.messages,v)),M&&this.preventDuplicates&&(M=!this.containsMessage(this.messagesArchieve,v)),M}containsMessage(v,M){return!!v&&null!=v.find(D=>D.summary===M.summary&&D.detail==M.detail&&D.severity===M.severity)}ngAfterContentInit(){this.templates.forEach(v=>{v.getType(),this.template=v.template})}onMessageClose(v){this.messages.splice(v.index,1),this.onClose.emit({message:v.message}),this.cd.detectChanges()}onAnimationStart(v){"void"===v.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&da.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(v){"void"===v.toState&&this.autoZIndex&&Gi.isEmpty(this.messages)&&da.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let v="";for(let M in this.breakpoints){let D="";for(let I in this.breakpoints[M])D+=I+":"+this.breakpoints[M][I]+" !important;";v+=`\n                    @media screen and (max-width: ${M}) {\n                        .p-toast[${this.id}] {\n                           ${D}\n                        }\n                    }\n                `}this.styleElement.innerHTML=v}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&da.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return g.\u0275fac=function(v){return new(v||g)(pn(yC),pn(rl),pn(Xd))},g.\u0275cmp=fs({type:g,selectors:[["p-toast"]],contentQueries:function(v,M,D){if(1&v&&nc(D,Kc,4),2&v){let I;Ni(I=ji())&&(M.templates=I)}},viewQuery:function(v,M){if(1&v&&Ss(KF,5),2&v){let D;Ni(D=ji())&&(M.containerViewChild=D.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(v,M){1&v&&(Yn(0,"div",0,1),Zn(2,qee,1,8,"p-toastItem",2),er()),2&v&&(xs(M.styleClass),mn("ngClass","p-toast p-component p-toast-"+M.position)("ngStyle",M.style),Tn(2),mn("ngForOf",M.messages))},dependencies:[Wo,_m,ol,ete],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Mm("toastAnimation",[$c(":enter, :leave",[d7("@*",u7())])])]},changeDetection:0}),g})(),nte=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,p_,Hu]}),g})();const rte=["content"];function ite(g,C){1&g&&qi(0)}function ste(g,C){if(1&g&&(Yn(0,"div",10),Zn(1,ite,1,0,"ng-container",11),er()),2&g){const v=kn(3);Tn(1),mn("ngTemplateOutlet",v.headerTemplate)}}function ote(g,C){if(1&g&&(Yn(0,"span",15),Zi(1),er()),2&g){const v=kn(4);Tn(1),Ca(v.option("header"))}}const ate=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function lte(g,C){if(1&g){const v=Ms();Yn(0,"button",16),Fr("click",function(D){return fi(v),mi(kn(4).close(D))})("keydown.enter",function(D){return fi(v),mi(kn(4).close(D))}),Xi(1,"span",17),er()}2&g&&mn("ngClass",dm(1,ate))}function cte(g,C){if(1&g&&(Yn(0,"div",10),Zn(1,ote,2,1,"span",12),Yn(2,"div",13),Zn(3,lte,2,2,"button",14),er()()),2&g){const v=kn(3);Tn(1),mn("ngIf",v.option("header")),Tn(2),mn("ngIf",v.closable)}}function ute(g,C){1&g&&Xi(0,"i",1),2&g&&(xs(kn(3).option("icon")),mn("ngClass","p-confirm-dialog-icon"))}function dte(g,C){1&g&&qi(0)}function hte(g,C){if(1&g&&(Yn(0,"div",18),cp(1),Zn(2,dte,1,0,"ng-container",11),er()),2&g){const v=kn(3);Tn(2),mn("ngTemplateOutlet",v.footerTemplate)}}function pte(g,C){if(1&g){const v=Ms();Yn(0,"button",20),Fr("click",function(){return fi(v),mi(kn(4).reject())}),er()}if(2&g){const v=kn(4);xs(v.option("rejectButtonStyleClass")),mn("icon",v.option("rejectIcon"))("label",v.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),ls("aria-label",v.rejectAriaLabel)}}function fte(g,C){if(1&g){const v=Ms();Yn(0,"button",20),Fr("click",function(){return fi(v),mi(kn(4).accept())}),er()}if(2&g){const v=kn(4);xs(v.option("acceptButtonStyleClass")),mn("icon",v.option("acceptIcon"))("label",v.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),ls("aria-label",v.acceptAriaLabel)}}function mte(g,C){if(1&g&&(Yn(0,"div",18),Zn(1,pte,1,6,"button",19),Zn(2,fte,1,6,"button",19),er()),2&g){const v=kn(3);Tn(1),mn("ngIf",v.option("rejectVisible")),Tn(1),mn("ngIf",v.option("acceptVisible"))}}const gte=function(g){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":g}},yte=function(g,C){return{transform:g,transition:C}},vte=function(g){return{value:"visible",params:g}};function _te(g,C){if(1&g){const v=Ms();Yn(0,"div",3),Fr("@animation.start",function(D){return fi(v),mi(kn(2).onAnimationStart(D))})("@animation.done",function(D){return fi(v),mi(kn(2).onAnimationEnd(D))}),Zn(1,ste,2,1,"div",4),Zn(2,cte,4,2,"div",4),Yn(3,"div",5,6),Zn(5,ute,1,3,"i",7),Xi(6,"span",8),er(),Zn(7,hte,3,1,"div",9),Zn(8,mte,3,2,"div",9),er()}if(2&g){const v=kn(2);xs(v.styleClass),mn("ngClass",xi(11,gte,v.rtl))("ngStyle",v.style)("@animation",xi(16,vte,tl(13,yte,v.transformOptions,v.transitionOptions))),Tn(1),mn("ngIf",v.headerTemplate),Tn(1),mn("ngIf",!v.headerTemplate),Tn(3),mn("ngIf",v.option("icon")),Tn(1),mn("innerHTML",v.option("message"),EP),Tn(1),mn("ngIf",v.footer||v.footerTemplate),Tn(1),mn("ngIf",!v.footer&&!v.footerTemplate)}}function Ete(g,C){if(1&g&&(Yn(0,"div",1),Zn(1,_te,9,18,"div",2),er()),2&g){const v=kn();xs(v.maskStyleClass),mn("ngClass",v.getMaskClass()),Tn(1),mn("ngIf",v.visible)}}const bte=[[["p-footer"]]],Cte=["p-footer"],Mte=bp([Ua({transform:"{{transform}}",opacity:0}),Wu("{{transition}}",Ua({transform:"none",opacity:1}))]),Ste=bp([Wu("{{transition}}",Ua({transform:"{{transform}}",opacity:0}))]);let Tte=(()=>{class g{constructor(v,M,D,I,x,X){this.el=v,this.renderer=M,this.confirmationService=D,this.zone=I,this.cd=x,this.config=X,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new Nr,this._position="center",this.transformOptions="scale(0.7)",this.id=mC(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(he=>{he?he.key===this.key&&(this.confirmation=he,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new Nr,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new Nr,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(v){this._visible=v,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(v){switch(this._position=v,v){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(v=>{switch(v.getType()){case"header":this.headerTemplate=v.template;break;case"footer":this.footerTemplate=v.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(v){const M=this.confirmationOptions||this;if(M.hasOwnProperty(v))return M[v]}onAnimationStart(v){if("visible"===v.toState){this.container=v.element,this.wrapper=this.container.parentElement,this.contentContainer=Ln.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const M=this.getElementToFocus();M&&M.focus()}}onAnimationEnd(v){"void"===v.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return Ln.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return Ln.findSingle(this.container,".p-confirm-dialog-reject");case"close":return Ln.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Ln.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&Ln.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",v=>{this.wrapper&&this.wrapper.isSameNode(v.target)&&this.close(v)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&Ln.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let v="";for(let M in this.breakpoints)v+=`\n                    @media screen and (max-width: ${M}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[M]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=v}}close(v){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Ku.CANCEL),this.hide(Ku.CANCEL),v.preventDefault()}hide(v){this.onHide.emit(v),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(da.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let v={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return v[this.getPositionClass().toString()]=!0,v}getPositionClass(){const M=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(D=>D===this.position);return M?`p-dialog-${M}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",M=>{if(27==M.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===da.get(this.container)&&this.visible&&this.close(M),9===M.which&&this.focusTrap){M.preventDefault();let D=Ln.getFocusableElements(this.container);if(D&&D.length>0)if(D[0].ownerDocument.activeElement){let I=D.indexOf(D[0].ownerDocument.activeElement);M.shiftKey?-1==I||0===I?D[D.length-1].focus():D[I-1].focus():-1==I||I===D.length-1?D[0].focus():D[I+1].focus()}else D[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&da.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Ku.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Ku.REJECT),this.hide(Ku.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(Yy.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(Yy.REJECT)}}return g.\u0275fac=function(v){return new(v||g)(pn(As),pn(ba),pn(gC),pn(Ri),pn(rl),pn(Xd))},g.\u0275cmp=fs({type:g,selectors:[["p-confirmDialog"]],contentQueries:function(v,M,D){if(1&v&&(nc(D,Yz,5),nc(D,Kc,4)),2&v){let I;Ni(I=ji())&&(M.footer=I.first),Ni(I=ji())&&(M.templates=I)}},viewQuery:function(v,M){if(1&v&&Ss(rte,5),2&v){let D;Ni(D=ji())&&(M.contentViewChild=D.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:Cte,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(v,M){1&v&&(lp(bte),Zn(0,Ete,2,4,"div",0)),2&v&&mn("ngIf",M.maskVisible)},dependencies:[Wo,ja,kc,ol,WX,h_],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Mm("animation",[$c("void => visible",[Cp(Mte)]),$c("visible => void",[Cp(Ste)])])]},changeDetection:0}),g})(),Pte=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,pT,p_,pT,Hu]}),g})();const Dte=function(g){return{hidden:g}};function wte(g,C){if(1&g&&(zs(0),Xi(1,"router-outlet"),Yn(2,"div",1),Xi(3,"div",2),er(),Xi(4,"p-toast",3)(5,"p-confirmDialog",4),$s()),2&g){const v=kn();Tn(2),mn("ngClass",xi(1,Dte,v.hideLoading))}}rM.Z.assetsPath="./assets";class L0{constructor(C,v,M,D){this.appService=C,this.messageService=v,this.confirmationService=M,this.dialogService=D,this.title="parcel-app",this.isReady=!1,this.appService.setMessageServices(v),this.appService.setConfirmationServices(M),this.appService.setDialogService(D)}ngOnInit(){this.systemReady()}systemReady(){var C=this;return(0,xn.Z)(function*(){C.isReady=!0})()}get hideLoading(){return 0==this.appService.loadingList.length}}L0.\u0275fac=function(C){return new(C||L0)(pn(pd),pn(yC),pn(gC),pn(lx))},L0.\u0275cmp=fs({type:L0,selectors:[["app-root"]],features:[es([yC,gC,lx])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"app-loading",3,"ngClass"],[1,"lds-dual-ring"],["position","top-center"],["header","Confirmation"]],template:function(C,v){1&C&&Zn(0,wte,6,3,"ng-container",0),2&C&&mn("ngIf",v.isReady)},dependencies:[Wo,ja,tte,Tte,nC],styles:['@import"https://js.arcgis.com/4.26/@arcgis/core/assets/esri/themes/light/main.css";[_nghost-%COMP%]{height:100vh;display:block;width:100%}[_nghost-%COMP%]   .app-loading[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.2);z-index:99}[_nghost-%COMP%]   .lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}[_nghost-%COMP%]   .lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border:6px solid #fff;border-color:#002B53 transparent #002B53 transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{height:64px;border-bottom:1px solid #ccc}[_nghost-%COMP%]   .parcel-container[_ngcontent-%COMP%]{background:rgba(48,189,180,.7);border-radius:24px;height:400px}[_nghost-%COMP%]   .txt-title[_ngcontent-%COMP%]{font-weight:600;font-size:2rem}[_nghost-%COMP%]   .txt-detail[_ngcontent-%COMP%]{color:#ccc;font-size:1.4rem;color:gray}[_nghost-%COMP%]   .cus-size[_ngcontent-%COMP%]{font-size:1.2rem!important}[_nghost-%COMP%]   .custom-profile[_ngcontent-%COMP%]{background-color:#000;color:#fff;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border-radius:40px}[_nghost-%COMP%]   .custom-icon[_ngcontent-%COMP%]{background-color:#fbc51b;width:40px;height:40px;display:flex;justify-content:center;align-items:center;border-radius:40px;color:#fff;margin-top:2px;position:absolute;right:.4rem}']});let Rte=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=li({type:g}),g.\u0275inj=hn({imports:[Oo,Hu]}),g})();var Lte=T(44487),Fte=T.n(Lte);class hf{}hf.\u0275fac=function(C){return new(C||hf)},hf.\u0275mod=li({type:hf,bootstrap:[L0]}),hf.\u0275inj=hn({imports:[qO,uW,VQ,BQ,nte,Pte,f$,JQ,Rte,Lee,pT,kee,df,w$.forRoot({player:function Nte(){return Fte()}})]}),X9().bootstrapModule(hf).catch(g=>console.error(g))},76210:(j,F,T)=>{"use strict";T.d(F,{Z5:()=>V,HY:()=>Ui,mv:()=>Da,AA:()=>Fe,yM:()=>Ge,xE:()=>It,K3:()=>$,h:()=>Re,GH:()=>ft,YY:()=>z});var w=T(15861);let k,re,ee,Y=!1,ne=!1,ae=!1,se=!1,ie=null,Q=!1;const V={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=st=>{const ht=new URL(st,Ir.$resourcesUrl$);return ht.origin!==Fi.location.origin?ht.href:ht.pathname},z=st=>Ir.$resourcesUrl$=st,ue="http://www.w3.org/1999/xlink",Me={},Ie=st=>"object"==(st=typeof st)||"function"===st,Re=(st,ht,...Mt)=>{let Nt=null,At=null,Zt=null,nn=!1,fn=!1;const yn=[],Sn=Er=>{for(let Kr=0;Kr<Er.length;Kr++)Nt=Er[Kr],Array.isArray(Nt)?Sn(Nt):null!=Nt&&"boolean"!=typeof Nt&&((nn="function"!=typeof st&&!Ie(Nt))&&(Nt=String(Nt)),nn&&fn?yn[yn.length-1].$text$+=Nt:yn.push(nn?Ce(null,Nt):Nt),fn=nn)};if(Sn(Mt),ht&&(ht.key&&(At=ht.key),ht.name&&(Zt=ht.name),true)){const Er=ht.className||ht.class;Er&&(ht.class="object"!=typeof Er?Er:Object.keys(Er).filter(Kr=>Er[Kr]).join(" "))}if("function"==typeof st)return st(null===ht?{}:ht,yn,Le);const Vn=Ce(st,null);return Vn.$attrs$=ht,yn.length>0&&(Vn.$children$=yn),Vn.$key$=At,Vn.$name$=Zt,Vn},Ce=(st,ht)=>{const Mt={$flags$:0,$tag$:st,$text$:ht,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return Mt},Fe={},Ne=st=>st&&st.$tag$===Fe,Le={forEach:(st,ht)=>st.map(Oe).forEach(ht),map:(st,ht)=>st.map(Oe).map(ht).map(Ue)},Oe=st=>({vattrs:st.$attrs$,vchildren:st.$children$,vkey:st.$key$,vname:st.$name$,vtag:st.$tag$,vtext:st.$text$}),Ue=st=>{if("function"==typeof st.vtag){const Mt=Object.assign({},st.vattrs);return st.vkey&&(Mt.key=st.vkey),st.vname&&(Mt.name=st.vname),Re(st.vtag,Mt,...st.vchildren||[])}const ht=Ce(st.vtag,st.vtext);return ht.$attrs$=st.vattrs,ht.$children$=st.vchildren,ht.$key$=st.vkey,ht.$name$=st.vname,ht},Ge=(st,ht,Mt)=>{const Nt=st;return{emit:At=>$e(Nt,ht,{bubbles:!!(4&Mt),composed:!!(2&Mt),cancelable:!!(1&Mt),detail:At})}},$e=(st,ht,Mt)=>{const Nt=Ir.ce(ht,Mt);return st.dispatchEvent(Nt),Nt},Xe=new WeakMap,we=(st,ht,Mt,Nt)=>{let At=pt(ht,Mt);const Zt=ys.get(At);if(st=11===st.nodeType?st:oi,Zt)if("string"==typeof Zt){let fn,nn=Xe.get(st=st.head||st);nn||Xe.set(st,nn=new Set),nn.has(At)||(fn=oi.createElement("style"),fn.innerHTML=Zt,st.insertBefore(fn,st.querySelector("link")),nn&&nn.add(At))}else!st.adoptedStyleSheets.includes(Zt)&&(st.adoptedStyleSheets=[...st.adoptedStyleSheets,Zt]);return At},pt=(st,ht)=>"sc-"+(ht&&32&st.$flags$?st.$tagName$+"-"+ht:st.$tagName$),mt=(st,ht,Mt,Nt,At,Zt)=>{if(Mt!==Nt){let nn=Xn(st,ht),fn=ht.toLowerCase();if("class"===ht){const yn=st.classList,Sn=ut(Mt),Vn=ut(Nt);yn.remove(...Sn.filter(Er=>Er&&!Vn.includes(Er))),yn.add(...Vn.filter(Er=>Er&&!Sn.includes(Er)))}else if("style"===ht){for(const yn in Mt)(!Nt||null==Nt[yn])&&(yn.includes("-")?st.style.removeProperty(yn):st.style[yn]="");for(const yn in Nt)(!Mt||Nt[yn]!==Mt[yn])&&(yn.includes("-")?st.style.setProperty(yn,Nt[yn]):st.style[yn]=Nt[yn])}else if("key"!==ht)if("ref"===ht)Nt&&Nt(st);else if(st.__lookupSetter__(ht)||"o"!==ht[0]||"n"!==ht[1]){{const yn=Ie(Nt);if((nn||yn&&null!==Nt)&&!At)try{if(st.tagName.includes("-"))st[ht]=Nt;else{const Vn=Nt??"";"list"===ht?nn=!1:(null==Mt||st[ht]!=Vn)&&(st[ht]=Vn)}}catch{}let Sn=!1;fn!==(fn=fn.replace(/^xlink\:?/,""))&&(ht=fn,Sn=!0),null==Nt||!1===Nt?(!1!==Nt||""===st.getAttribute(ht))&&(Sn?st.removeAttributeNS(ue,ht):st.removeAttribute(ht)):(!nn||4&Zt||At)&&!yn&&(Nt=!0===Nt?"":Nt,Sn?st.setAttributeNS(ue,ht,Nt):st.setAttribute(ht,Nt))}}else ht="-"===ht[2]?ht.slice(3):Xn(Fi,fn)?fn.slice(2):fn[2]+ht.slice(3),Mt&&Ir.rel(st,ht,Mt,!1),Nt&&Ir.ael(st,ht,Nt,!1)}},St=/\s/,ut=st=>st?st.split(St):[],_t=(st,ht,Mt,Nt)=>{const At=11===ht.$elm$.nodeType&&ht.$elm$.host?ht.$elm$.host:ht.$elm$,Zt=st&&st.$attrs$||Me,nn=ht.$attrs$||Me;for(Nt in Zt)Nt in nn||mt(At,Nt,Zt[Nt],void 0,Mt,ht.$flags$);for(Nt in nn)mt(At,Nt,Zt[Nt],nn[Nt],Mt,ht.$flags$)},Ct=(st,ht,Mt,Nt)=>{const At=ht.$children$[Mt];let nn,fn,yn,Zt=0;if(!Y&&(ae=!0,"slot"===At.$tag$&&(k&&Nt.classList.add(k+"-s"),At.$flags$|=At.$children$?2:1)),null!==At.$text$)nn=At.$elm$=oi.createTextNode(At.$text$);else if(1&At.$flags$)nn=At.$elm$=oi.createTextNode("");else{if(!se&&(se="svg"===At.$tag$),nn=At.$elm$=oi.createElementNS(se?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&At.$flags$?"slot-fb":At.$tag$),se&&"foreignObject"===At.$tag$&&(se=!1),_t(null,At,se),(st=>null!=st)(k)&&nn["s-si"]!==k&&nn.classList.add(nn["s-si"]=k),At.$children$)for(Zt=0;Zt<At.$children$.length;++Zt)fn=Ct(st,At,Zt,nn),fn&&nn.appendChild(fn);"svg"===At.$tag$?se=!1:"foreignObject"===nn.tagName&&(se=!0)}return nn["s-hn"]=ee,3&At.$flags$&&(nn["s-sr"]=!0,nn["s-cr"]=re,nn["s-sn"]=At.$name$||"",yn=st&&st.$children$&&st.$children$[Mt],yn&&yn.$tag$===At.$tag$&&st.$elm$&&Rt(st.$elm$,!1)),nn},Rt=(st,ht)=>{Ir.$flags$|=1;const Mt=st.childNodes;for(let Nt=Mt.length-1;Nt>=0;Nt--){const At=Mt[Nt];At["s-hn"]!==ee&&At["s-ol"]&&(an(At).insertBefore(At,Kn(At)),At["s-ol"].remove(),At["s-ol"]=void 0,ae=!0),ht&&Rt(At,ht)}Ir.$flags$&=-2},Gt=(st,ht,Mt,Nt,At,Zt)=>{let fn,nn=st["s-cr"]&&st["s-cr"].parentNode||st;for(nn.shadowRoot&&nn.tagName===ee&&(nn=nn.shadowRoot);At<=Zt;++At)Nt[At]&&(fn=Ct(null,Mt,At,st),fn&&(Nt[At].$elm$=fn,nn.insertBefore(fn,Kn(ht))))},bn=(st,ht,Mt,Nt,At)=>{for(;ht<=Mt;++ht)(Nt=st[ht])&&(At=Nt.$elm$,Dt(Nt),ne=!0,At["s-ol"]?At["s-ol"].remove():Rt(At,!0),At.remove())},Dn=(st,ht)=>st.$tag$===ht.$tag$&&("slot"===st.$tag$?st.$name$===ht.$name$:st.$key$===ht.$key$),Kn=st=>st&&st["s-ol"]||st,an=st=>(st["s-ol"]?st["s-ol"]:st).parentNode,Fn=(st,ht)=>{const Mt=ht.$elm$=st.$elm$,Nt=st.$children$,At=ht.$children$,Zt=ht.$tag$,nn=ht.$text$;let fn;null!==nn?(fn=Mt["s-cr"])?fn.parentNode.textContent=nn:st.$text$!==nn&&(Mt.data=nn):(se="svg"===Zt||"foreignObject"!==Zt&&se,"slot"===Zt||_t(st,ht,se),null!==Nt&&null!==At?((st,ht,Mt,Nt)=>{let Us,oo,At=0,Zt=0,nn=0,fn=0,yn=ht.length-1,Sn=ht[0],Vn=ht[yn],Er=Nt.length-1,Kr=Nt[0],Qi=Nt[Er];for(;At<=yn&&Zt<=Er;)if(null==Sn)Sn=ht[++At];else if(null==Vn)Vn=ht[--yn];else if(null==Kr)Kr=Nt[++Zt];else if(null==Qi)Qi=Nt[--Er];else if(Dn(Sn,Kr))Fn(Sn,Kr),Sn=ht[++At],Kr=Nt[++Zt];else if(Dn(Vn,Qi))Fn(Vn,Qi),Vn=ht[--yn],Qi=Nt[--Er];else if(Dn(Sn,Qi))("slot"===Sn.$tag$||"slot"===Qi.$tag$)&&Rt(Sn.$elm$.parentNode,!1),Fn(Sn,Qi),st.insertBefore(Sn.$elm$,Vn.$elm$.nextSibling),Sn=ht[++At],Qi=Nt[--Er];else if(Dn(Vn,Kr))("slot"===Sn.$tag$||"slot"===Qi.$tag$)&&Rt(Vn.$elm$.parentNode,!1),Fn(Vn,Kr),st.insertBefore(Vn.$elm$,Sn.$elm$),Vn=ht[--yn],Kr=Nt[++Zt];else{for(nn=-1,fn=At;fn<=yn;++fn)if(ht[fn]&&null!==ht[fn].$key$&&ht[fn].$key$===Kr.$key$){nn=fn;break}nn>=0?(oo=ht[nn],oo.$tag$!==Kr.$tag$?Us=Ct(ht&&ht[Zt],Mt,nn,st):(Fn(oo,Kr),ht[nn]=void 0,Us=oo.$elm$),Kr=Nt[++Zt]):(Us=Ct(ht&&ht[Zt],Mt,Zt,st),Kr=Nt[++Zt]),Us&&an(Sn.$elm$).insertBefore(Us,Kn(Sn.$elm$))}At>yn?Gt(st,null==Nt[Er+1]?null:Nt[Er+1].$elm$,Mt,Nt,Zt,Er):Zt>Er&&bn(ht,At,yn)})(Mt,Nt,ht,At):null!==At?(null!==st.$text$&&(Mt.textContent=""),Gt(Mt,null,ht,At,0,At.length-1)):null!==Nt&&bn(Nt,0,Nt.length-1),se&&"svg"===Zt&&(se=!1))},zn=st=>{const ht=st.childNodes;let Mt,Nt,At,Zt,nn,fn;for(Nt=0,At=ht.length;Nt<At;Nt++)if(Mt=ht[Nt],1===Mt.nodeType){if(Mt["s-sr"])for(nn=Mt["s-sn"],Mt.hidden=!1,Zt=0;Zt<At;Zt++)if(fn=ht[Zt].nodeType,ht[Zt]["s-hn"]!==Mt["s-hn"]||""!==nn){if(1===fn&&nn===ht[Zt].getAttribute("slot")){Mt.hidden=!0;break}}else if(1===fn||3===fn&&""!==ht[Zt].textContent.trim()){Mt.hidden=!0;break}zn(Mt)}},rr=[],mr=st=>{let ht,Mt,Nt,At,Zt,nn,fn=0;const yn=st.childNodes,Sn=yn.length;for(;fn<Sn;fn++){if(ht=yn[fn],ht["s-sr"]&&(Mt=ht["s-cr"])&&Mt.parentNode)for(Nt=Mt.parentNode.childNodes,At=ht["s-sn"],nn=Nt.length-1;nn>=0;nn--)Mt=Nt[nn],!Mt["s-cn"]&&!Mt["s-nr"]&&Mt["s-hn"]!==ht["s-hn"]&&(Et(Mt,At)?(Zt=rr.find(Vn=>Vn.$nodeToRelocate$===Mt),ne=!0,Mt["s-sn"]=Mt["s-sn"]||At,Zt?Zt.$slotRefNode$=ht:rr.push({$slotRefNode$:ht,$nodeToRelocate$:Mt}),Mt["s-sr"]&&rr.map(Vn=>{Et(Vn.$nodeToRelocate$,Mt["s-sn"])&&(Zt=rr.find(Er=>Er.$nodeToRelocate$===Mt),Zt&&!Vn.$slotRefNode$&&(Vn.$slotRefNode$=Zt.$slotRefNode$))})):rr.some(Vn=>Vn.$nodeToRelocate$===Mt)||rr.push({$nodeToRelocate$:Mt}));1===ht.nodeType&&mr(ht)}},Et=(st,ht)=>1===st.nodeType?null===st.getAttribute("slot")&&""===ht||st.getAttribute("slot")===ht:st["s-sn"]===ht||""===ht,Dt=st=>{st.$attrs$&&st.$attrs$.ref&&st.$attrs$.ref(null),st.$children$&&st.$children$.map(Dt)},Bt=(st,ht)=>{const Mt=st.$hostElement$,Nt=st.$cmpMeta$,At=st.$vnode$||Ce(null,null),Zt=Ne(ht)?ht:Re(null,null,ht);if(ee=Mt.tagName,Nt.$attrsToReflect$&&(Zt.$attrs$=Zt.$attrs$||{},Nt.$attrsToReflect$.map(([nn,fn])=>Zt.$attrs$[fn]=Mt[nn])),Zt.$tag$=null,Zt.$flags$|=4,st.$vnode$=Zt,Zt.$elm$=At.$elm$=Mt.shadowRoot||Mt,k=Mt["s-sc"],re=Mt["s-cr"],Y=hi&&0!=(1&Nt.$flags$),ne=!1,Fn(At,Zt),Ir.$flags$|=1,ae){mr(Zt.$elm$);let nn,fn,yn,Sn,Vn,Er,Kr=0;for(;Kr<rr.length;Kr++)nn=rr[Kr],fn=nn.$nodeToRelocate$,fn["s-ol"]||(yn=oi.createTextNode(""),yn["s-nr"]=fn,fn.parentNode.insertBefore(fn["s-ol"]=yn,fn));for(Kr=0;Kr<rr.length;Kr++)if(nn=rr[Kr],fn=nn.$nodeToRelocate$,nn.$slotRefNode$){for(Sn=nn.$slotRefNode$.parentNode,Vn=nn.$slotRefNode$.nextSibling,yn=fn["s-ol"];yn=yn.previousSibling;)if(Er=yn["s-nr"],Er&&Er["s-sn"]===fn["s-sn"]&&Sn===Er.parentNode&&(Er=Er.nextSibling,!Er||!Er["s-nr"])){Vn=Er;break}(!Vn&&Sn!==fn.parentNode||fn.nextSibling!==Vn)&&fn!==Vn&&(!fn["s-hn"]&&fn["s-ol"]&&(fn["s-hn"]=fn["s-ol"].parentNode.nodeName),Sn.insertBefore(fn,Vn))}else 1===fn.nodeType&&(fn.hidden=!0)}ne&&zn(Zt.$elm$),Ir.$flags$&=-2,rr.length=0},cn=(st,ht)=>{st.$flags$|=16;const Mt=()=>un(st,ht);return va(Mt)},un=(st,ht)=>{const Mt=st.$hostElement$,Nt=()=>{},At=Mt;let Zt;return ht?(yt(Mt,"componentWillLoad"),Zt=Qt(At,"componentWillLoad")):(yt(Mt,"componentWillUpdate"),Zt=Qt(At,"componentWillUpdate")),yt(Mt,"componentWillRender"),Zt=Rn(Zt,()=>Qt(At,"componentWillRender")),Nt(),Rn(Zt,()=>$n(st,At,ht))},$n=function(){var st=(0,w.Z)(function*(ht,Mt,Nt){const At=ht.$hostElement$,Zt=()=>{};Nt&&(st=>{const ht=st.$cmpMeta$,Mt=st.$hostElement$,Nt=ht.$flags$,At=()=>{},Zt=we(hi&&Mt.shadowRoot?Mt.shadowRoot:Mt.getRootNode(),ht,st.$modeName$);10&Nt&&(Mt["s-sc"]=Zt,Mt.classList.add(Zt+"-h"),2&Nt&&Mt.classList.add(Zt+"-s")),At()})(ht);const fn=()=>{};Cn(ht,Mt,At),fn(),Zt(),tr(ht)});return function(Mt,Nt,At){return st.apply(this,arguments)}}(),Cn=(st,ht,Mt)=>{try{ie=ht,ht=ht.render&&ht.render(),st.$flags$&=-17,st.$flags$|=2,Bt(st,ht)}catch(fn){qn(fn,st.$hostElement$)}return ie=null,null},tr=st=>{const Mt=st.$hostElement$,Nt=()=>{},At=Mt;Qt(At,"componentDidRender"),yt(Mt,"componentDidRender"),64&st.$flags$?(Qt(At,"componentDidUpdate"),yt(Mt,"componentDidUpdate"),Nt()):(st.$flags$|=64,Qt(At,"componentDidLoad"),yt(Mt,"componentDidLoad"),Nt())},It=st=>{{const ht=vt(st),Mt=ht.$hostElement$.isConnected;return Mt&&2==(18&ht.$flags$)&&cn(ht,!1),Mt}},Qt=(st,ht,Mt)=>{if(st&&st[ht])try{return st[ht](Mt)}catch(Nt){qn(Nt)}},Rn=(st,ht)=>st&&st.then?st.then(ht):ht(),yt=(st,ht)=>{},gr=(st,ht,Mt)=>{if(ht.$members$){st.watchers&&(ht.$watchers$=st.watchers);const Nt=Object.entries(ht.$members$),At=st.prototype;Nt.map(([Zt,[nn]])=>{(31&nn||32&nn)&&Object.defineProperty(At,Zt,{get(){return((st,ht)=>vt(this).$instanceValues$.get(ht))(0,Zt)},set(fn){((st,ht,Mt,Nt)=>{const At=vt(st),Zt=st,nn=At.$instanceValues$.get(ht),fn=At.$flags$,yn=Zt;Mt=((st,ht)=>null==st||Ie(st)?st:4&ht?"false"!==st&&(""===st||!!st):2&ht?parseFloat(st):1&ht?String(st):st)(Mt,Nt.$members$[ht][0]);const Sn=Number.isNaN(nn)&&Number.isNaN(Mt);if(Mt!==nn&&!Sn&&(At.$instanceValues$.set(ht,Mt),1)){if(Nt.$watchers$&&128&fn){const Er=Nt.$watchers$[ht];Er&&Er.map(Kr=>{try{yn[Kr](Mt,nn,ht)}catch(Qi){qn(Qi,Zt)}})}if(2==(18&fn)){if(yn.componentShouldUpdate&&!1===yn.componentShouldUpdate(Mt,nn,ht))return;cn(At,!1)}}})(this,Zt,fn,ht)},configurable:!0,enumerable:!0})});{const Zt=new Map;At.attributeChangedCallback=function(nn,fn,yn){Ir.jmp(()=>{const Sn=Zt.get(nn);if(this.hasOwnProperty(Sn))yn=this[Sn],delete this[Sn];else if(At.hasOwnProperty(Sn)&&"number"==typeof this[Sn]&&this[Sn]==yn)return;this[Sn]=(null!==yn||"boolean"!=typeof this[Sn])&&yn})},st.observedAttributes=Nt.filter(([nn,fn])=>15&fn[0]).map(([nn,fn])=>{const yn=fn[1]||nn;return Zt.set(yn,nn),512&fn[0]&&ht.$attrsToReflect$.push([nn,yn]),yn})}}return st},Lr=function(){var st=(0,w.Z)(function*(ht,Mt,Nt,At,Zt){if(!(32&Mt.$flags$)&&(Zt=ht.constructor,Mt.$flags$|=32,customElements.whenDefined(Nt.$tagName$).then(()=>Mt.$flags$|=128),Zt.style)){let yn=Zt.style;"string"!=typeof yn&&(yn=yn[Mt.$modeName$=(st=>Gs.map(ht=>ht(st)).find(ht=>!!ht))(ht)]);const Sn=pt(Nt,Mt.$modeName$);if(!ys.has(Sn)){const Vn=()=>{};((st,ht,Mt)=>{let Nt=ys.get(st);Cs&&Mt?(Nt=Nt||new CSSStyleSheet,"string"==typeof Nt?Nt=ht:Nt.replaceSync(ht)):Nt=ht,ys.set(st,Nt)})(Sn,yn,!!(1&Nt.$flags$)),Vn()}}const fn=()=>cn(Mt,!0);fn()});return function(Mt,Nt,At,Zt,nn){return st.apply(this,arguments)}}(),ti=st=>{},He=st=>{const ht=st["s-cr"]=oi.createComment("");ht["s-cn"]=!0,st.insertBefore(ht,st.firstChild)},ft=(st,ht)=>{const Mt={$flags$:ht[0],$tagName$:ht[1]};Mt.$members$=ht[2],Mt.$listeners$=ht[3],Mt.$watchers$=st.$watchers$,Mt.$attrsToReflect$=[],!hi&&1&Mt.$flags$&&(Mt.$flags$|=8);const Nt=st.prototype.connectedCallback,At=st.prototype.disconnectedCallback;return Object.assign(st.prototype,{__registerHost(){gn(this,Mt)},connectedCallback(){(st=>{if(!(1&Ir.$flags$)){const ht=vt(st),Mt=ht.$cmpMeta$,Nt=()=>{};if(1&ht.$flags$)ui(st,ht,Mt.$listeners$,!1),ti(ht.$lazyInstance$);else{let At;ht.$flags$|=1,!At&&12&Mt.$flags$&&He(st),Mt.$members$&&Object.entries(Mt.$members$).map(([Zt,[nn]])=>{if(31&nn&&st.hasOwnProperty(Zt)){const fn=st[Zt];delete st[Zt],st[Zt]=fn}}),Lr(st,ht,Mt)}Nt()}})(this),Nt&&Nt.call(this)},disconnectedCallback(){(st=>{if(!(1&Ir.$flags$)){const ht=vt(st);ht.$rmListeners$&&(ht.$rmListeners$.map(Nt=>Nt()),ht.$rmListeners$=void 0)}})(this),At&&At.call(this)},__attachShadow(){hi?this.attachShadow({mode:"open",delegatesFocus:!!(16&Mt.$flags$)}):this.shadowRoot=this}}),st.is=Mt.$tagName$,gr(st,Mt)},Ui=(st,ht)=>ht,ui=(st,ht,Mt,Nt)=>{Mt&&Mt.map(([At,Zt,nn])=>{const fn=Is(st,At),yn=Ji(ht,nn),Sn=yr(At);Ir.ael(fn,Zt,yn,Sn),(ht.$rmListeners$=ht.$rmListeners$||[]).push(()=>Ir.rel(fn,Zt,yn,Sn))})},Ji=(st,ht)=>Mt=>{try{st.$hostElement$[ht](Mt)}catch(Nt){qn(Nt)}},Is=(st,ht)=>4&ht?oi:8&ht?Fi:16&ht?oi.body:st,yr=st=>ai?{passive:0!=(1&st),capture:0!=(2&st)}:0!=(2&st),dt=new WeakMap,vt=st=>dt.get(st),gn=(st,ht)=>{const Mt={$flags$:0,$hostElement$:st,$cmpMeta$:ht,$instanceValues$:new Map};return ui(st,Mt,ht.$listeners$,!1),dt.set(st,Mt)},Xn=(st,ht)=>ht in st,qn=(st,ht)=>(0,console.error)(st,ht),ys=new Map,Gs=[],Fi=typeof window<"u"?window:{},oi=Fi.document||{head:{}},Da=Fi.HTMLElement||class{},Ir={$flags$:0,$resourcesUrl$:"",jmp:st=>st(),raf:st=>requestAnimationFrame(st),ael:(st,ht,Mt,Nt)=>st.addEventListener(ht,Mt,Nt),rel:(st,ht,Mt,Nt)=>st.removeEventListener(ht,Mt,Nt),ce:(st,ht)=>new CustomEvent(st,ht)},hi=!0,ai=(()=>{let st=!1;try{oi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){st=!0}}))}catch{}return st})(),Cs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),go=[],lr=[],hn=(st,ht)=>Mt=>{st.push(Mt),Q||(Q=!0,ht&&4&Ir.$flags$?Di($i):Ir.raf($i))},An=st=>{for(let ht=0;ht<st.length;ht++)try{st[ht](performance.now())}catch(Mt){qn(Mt)}st.length=0},$i=()=>{An(go),An(lr),(Q=go.length>0)&&Ir.raf($i)},Di=st=>Promise.resolve(void 0).then(st),va=hn(lr,!0)},44487:function(module,exports,__webpack_require__){var F;typeof navigator<"u"&&(F=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(F){_useWebWorker=!!F},getWebWorker=function(){return _useWebWorker},setLocationHref=function(F){locationHref=F},getLocationHref=function(){return locationHref};function createTag(j){return document.createElement(j)}function extendPrototype(j,F){var T,O,w=j.length;for(T=0;T<w;T+=1)for(var W in O=j[T].prototype)Object.prototype.hasOwnProperty.call(O,W)&&(F.prototype[W]=O[W])}function getDescriptor(j,F){return Object.getOwnPropertyDescriptor(j,F)}function createProxyFunction(j){function F(){}return F.prototype=j,F}var audioControllerFactory=function(){function j(F){this.audios=[],this.audioFactory=F,this._volume=1,this._isMuted=!1}return j.prototype={addAudio:function(T){this.audios.push(T)},pause:function(){var T,w=this.audios.length;for(T=0;T<w;T+=1)this.audios[T].pause()},resume:function(){var T,w=this.audios.length;for(T=0;T<w;T+=1)this.audios[T].resume()},setRate:function(T){var w,O=this.audios.length;for(w=0;w<O;w+=1)this.audios[w].setRate(T)},createAudio:function(T){return this.audioFactory?this.audioFactory(T):window.Howl?new window.Howl({src:[T]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(T){this.audioFactory=T},setVolume:function(T){this._volume=T,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var T,w=this.audios.length;for(T=0;T<w;T+=1)this.audios[T].volume(this._volume*(this._isMuted?0:1))}},function(){return new j}}(),createTypedArray=function(){function j(T,w){var B,O=0,W=[];switch(T){case"int16":case"uint8c":B=1;break;default:B=1.1}for(O=0;O<w;O+=1)W.push(B);return W}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function F(T,w){return"float32"===T?new Float32Array(w):"int16"===T?new Int16Array(w):"uint8c"===T?new Uint8ClampedArray(w):j(T,w)}:j}();function createSizedArray(j){return Array.apply(null,{length:j})}function _typeof$6(j){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var F,j=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],T=j.length;for(F=0;F<T;F+=1)BMMath[j[F]]=Math[j[F]]}(),BMMath.random=Math.random,BMMath.abs=function(j){if("object"===_typeof$6(j)&&j.length){var w,T=createSizedArray(j.length),O=j.length;for(w=0;w<O;w+=1)T[w]=Math.abs(j[w]);return T}return Math.abs(j)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(j){_shouldRoundValues=!!j}function bmRnd(j){return _shouldRoundValues?Math.round(j):j}function styleDiv(j){j.style.position="absolute",j.style.top=0,j.style.left=0,j.style.display="block",j.style.transformOrigin="0 0",j.style.webkitTransformOrigin="0 0",j.style.backfaceVisibility="visible",j.style.webkitBackfaceVisibility="visible",j.style.transformStyle="preserve-3d",j.style.webkitTransformStyle="preserve-3d",j.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(j,F,T,w){this.type=j,this.currentTime=F,this.totalTime=T,this.direction=w<0?-1:1}function BMCompleteEvent(j,F){this.type=j,this.direction=F<0?-1:1}function BMCompleteLoopEvent(j,F,T,w){this.type=j,this.currentLoop=T,this.totalLoops=F,this.direction=w<0?-1:1}function BMSegmentStartEvent(j,F,T){this.type=j,this.firstFrame=F,this.totalFrames=T}function BMDestroyEvent(j,F){this.type=j,this.target=F}function BMRenderFrameErrorEvent(j,F){this.type="renderFrameError",this.nativeError=j,this.currentTime=F}function BMConfigErrorEvent(j){this.type="configError",this.nativeError=j}function BMAnimationConfigErrorEvent(j,F){this.type=j,this.nativeError=F}var createElementID=(j=0,function(){return idPrefix$1+"__lottie_element_"+(j+=1)}),j;function HSVtoRGB(j,F,T){var w,O,W,B,k,re,ee,Z;switch(re=T*(1-F),ee=T*(1-(k=6*j-(B=Math.floor(6*j)))*F),Z=T*(1-(1-k)*F),B%6){case 0:w=T,O=Z,W=re;break;case 1:w=ee,O=T,W=re;break;case 2:w=re,O=T,W=Z;break;case 3:w=re,O=ee,W=T;break;case 4:w=Z,O=re,W=T;break;case 5:w=T,O=re,W=ee}return[w,O,W]}function RGBtoHSV(j,F,T){var B,w=Math.max(j,F,T),O=Math.min(j,F,T),W=w-O,k=0===w?0:W/w,re=w/255;switch(w){case O:B=0;break;case j:B=F-T+W*(F<T?6:0),B/=6*W;break;case F:B=T-j+2*W,B/=6*W;break;case T:B=j-F+4*W,B/=6*W}return[B,k,re]}function addSaturationToRGB(j,F){var T=RGBtoHSV(255*j[0],255*j[1],255*j[2]);return T[1]+=F,T[1]>1?T[1]=1:T[1]<=0&&(T[1]=0),HSVtoRGB(T[0],T[1],T[2])}function addBrightnessToRGB(j,F){var T=RGBtoHSV(255*j[0],255*j[1],255*j[2]);return T[2]+=F,T[2]>1?T[2]=1:T[2]<0&&(T[2]=0),HSVtoRGB(T[0],T[1],T[2])}function addHueToRGB(j,F){var T=RGBtoHSV(255*j[0],255*j[1],255*j[2]);return T[0]+=F/360,T[0]>1?T[0]-=1:T[0]<0&&(T[0]+=1),HSVtoRGB(T[0],T[1],T[2])}var rgbToHex=function(){var F,T,j=[];for(F=0;F<256;F+=1)T=F.toString(16),j[F]=1===T.length?"0"+T:T;return function(w,O,W){return w<0&&(w=0),O<0&&(O=0),W<0&&(W=0),"#"+j[w]+j[O]+j[W]}}(),setSubframeEnabled=function(F){subframeEnabled=!!F},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(F){expressionsPlugin=F},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(F){expressionsInterfaces=F},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(F){defaultCurveSegments=F},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(F){idPrefix$1=F},getIdPrefix=function(){return idPrefix$1};function createNS(j){return document.createElementNS(svgNS,j)}function _typeof$5(j){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}var dataManager=function(){var T,w,j=1,F=[],O={onmessage:function(){},postMessage:function(ne){T({data:ne})}},W={postMessage:function(ne){O.onmessage({data:ne})}};function k(){w||((w=function B(Y){if(window.Worker&&window.Blob&&getWebWorker()){var ne=new Blob(["var _workerSelf = self; self.onmessage = ",Y.toString()],{type:"text/javascript"}),ae=URL.createObjectURL(ne);return new Worker(ae)}return T=Y,O}(function(ne){if(W.dataManager||(W.dataManager=function ae(){function ie(le,fe){var Ee,ye,Me,ce,ge,Pe,ue=le.length;for(ye=0;ye<ue;ye+=1)if("ks"in(Ee=le[ye])&&!Ee.completed){if(Ee.completed=!0,Ee.hasMask){var Ie=Ee.masksProperties;for(ce=Ie.length,Me=0;Me<ce;Me+=1)if(Ie[Me].pt.k.i)$(Ie[Me].pt.k);else for(Pe=Ie[Me].pt.k.length,ge=0;ge<Pe;ge+=1)Ie[Me].pt.k[ge].s&&$(Ie[Me].pt.k[ge].s[0]),Ie[Me].pt.k[ge].e&&$(Ie[Me].pt.k[ge].e[0])}0===Ee.ty?(Ee.layers=V(Ee.refId,fe),ie(Ee.layers,fe)):4===Ee.ty&&U(Ee.shapes)}}function V(le,fe){var Ee=function Q(le,fe){for(var Ee=0,ye=fe.length;Ee<ye;){if(fe[Ee].id===le)return fe[Ee];Ee+=1}return null}(le,fe);return Ee?Ee.layers.__used?JSON.parse(JSON.stringify(Ee.layers)):(Ee.layers.__used=!0,Ee.layers):null}function U(le){var fe,ye,ue;for(fe=le.length-1;fe>=0;fe-=1)if("sh"===le[fe].ty)if(le[fe].ks.k.i)$(le[fe].ks.k);else for(ue=le[fe].ks.k.length,ye=0;ye<ue;ye+=1)le[fe].ks.k[ye].s&&$(le[fe].ks.k[ye].s[0]),le[fe].ks.k[ye].e&&$(le[fe].ks.k[ye].e[0]);else"gr"===le[fe].ty&&U(le[fe].it)}function $(le){var fe,Ee=le.i.length;for(fe=0;fe<Ee;fe+=1)le.i[fe][0]+=le.v[fe][0],le.i[fe][1]+=le.v[fe][1],le.o[fe][0]+=le.v[fe][0],le.o[fe][1]+=le.v[fe][1]}function z(le,fe){var Ee=fe?fe.split("."):[100,100,100];return le[0]>Ee[0]||!(Ee[0]>le[0])&&(le[1]>Ee[1]||!(Ee[1]>le[1])&&(le[2]>Ee[2]||!(Ee[2]>le[2])&&null))}var le,J=function(){var le=[4,4,14];function fe(ye){ye.t.d={k:[{s:ye.t.d,t:0}]}}function Ee(ye){var ue,Me=ye.length;for(ue=0;ue<Me;ue+=1)5===ye[ue].ty&&fe(ye[ue])}return function(ye){if(z(le,ye.v)&&(Ee(ye.layers),ye.assets)){var ue,Me=ye.assets.length;for(ue=0;ue<Me;ue+=1)ye.assets[ue].layers&&Ee(ye.assets[ue].layers)}}}(),q=(le=[4,7,99],function(fe){if(fe.chars&&!z(le,fe.v)){var Ee,ye=fe.chars.length;for(Ee=0;Ee<ye;Ee+=1){var ue=fe.chars[Ee];ue.data&&ue.data.shapes&&(U(ue.data.shapes),ue.data.ip=0,ue.data.op=99999,ue.data.st=0,ue.data.sr=1,ue.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},fe.chars[Ee].t||(ue.data.shapes.push({ty:"no"}),ue.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),oe=function(){var le=[5,7,15];function fe(ye){var ue=ye.t.p;"number"==typeof ue.a&&(ue.a={a:0,k:ue.a}),"number"==typeof ue.p&&(ue.p={a:0,k:ue.p}),"number"==typeof ue.r&&(ue.r={a:0,k:ue.r})}function Ee(ye){var ue,Me=ye.length;for(ue=0;ue<Me;ue+=1)5===ye[ue].ty&&fe(ye[ue])}return function(ye){if(z(le,ye.v)&&(Ee(ye.layers),ye.assets)){var ue,Me=ye.assets.length;for(ue=0;ue<Me;ue+=1)ye.assets[ue].layers&&Ee(ye.assets[ue].layers)}}}(),pe=function(){var le=[4,1,9];function fe(ye){var ue,ce,ge,Me=ye.length;for(ue=0;ue<Me;ue+=1)if("gr"===ye[ue].ty)fe(ye[ue].it);else if("fl"===ye[ue].ty||"st"===ye[ue].ty)if(ye[ue].c.k&&ye[ue].c.k[0].i)for(ge=ye[ue].c.k.length,ce=0;ce<ge;ce+=1)ye[ue].c.k[ce].s&&(ye[ue].c.k[ce].s[0]/=255,ye[ue].c.k[ce].s[1]/=255,ye[ue].c.k[ce].s[2]/=255,ye[ue].c.k[ce].s[3]/=255),ye[ue].c.k[ce].e&&(ye[ue].c.k[ce].e[0]/=255,ye[ue].c.k[ce].e[1]/=255,ye[ue].c.k[ce].e[2]/=255,ye[ue].c.k[ce].e[3]/=255);else ye[ue].c.k[0]/=255,ye[ue].c.k[1]/=255,ye[ue].c.k[2]/=255,ye[ue].c.k[3]/=255}function Ee(ye){var ue,Me=ye.length;for(ue=0;ue<Me;ue+=1)4===ye[ue].ty&&fe(ye[ue].shapes)}return function(ye){if(z(le,ye.v)&&(Ee(ye.layers),ye.assets)){var ue,Me=ye.assets.length;for(ue=0;ue<Me;ue+=1)ye.assets[ue].layers&&Ee(ye.assets[ue].layers)}}}(),de=function(){var le=[4,4,18];function fe(ye){var ue,ce,ge;for(ue=ye.length-1;ue>=0;ue-=1)if("sh"===ye[ue].ty)if(ye[ue].ks.k.i)ye[ue].ks.k.c=ye[ue].closed;else for(ge=ye[ue].ks.k.length,ce=0;ce<ge;ce+=1)ye[ue].ks.k[ce].s&&(ye[ue].ks.k[ce].s[0].c=ye[ue].closed),ye[ue].ks.k[ce].e&&(ye[ue].ks.k[ce].e[0].c=ye[ue].closed);else"gr"===ye[ue].ty&&fe(ye[ue].it)}function Ee(ye){var ue,Me,ge,Pe,Ie,Re,ce=ye.length;for(Me=0;Me<ce;Me+=1){if((ue=ye[Me]).hasMask){var Ce=ue.masksProperties;for(Pe=Ce.length,ge=0;ge<Pe;ge+=1)if(Ce[ge].pt.k.i)Ce[ge].pt.k.c=Ce[ge].cl;else for(Re=Ce[ge].pt.k.length,Ie=0;Ie<Re;Ie+=1)Ce[ge].pt.k[Ie].s&&(Ce[ge].pt.k[Ie].s[0].c=Ce[ge].cl),Ce[ge].pt.k[Ie].e&&(Ce[ge].pt.k[Ie].e[0].c=Ce[ge].cl)}4===ue.ty&&fe(ue.shapes)}}return function(ye){if(z(le,ye.v)&&(Ee(ye.layers),ye.assets)){var ue,Me=ye.assets.length;for(ue=0;ue<Me;ue+=1)ye.assets[ue].layers&&Ee(ye.assets[ue].layers)}}}(),_e={completeData:function be(le){le.__complete||(pe(le),J(le),q(le),oe(le),de(le),ie(le.layers,le.assets),function te(le,fe){if(le){var Ee=0,ye=le.length;for(Ee=0;Ee<ye;Ee+=1)1===le[Ee].t&&(le[Ee].data.layers=V(le[Ee].data.refId,fe),ie(le[Ee].data.layers,fe))}}(le.chars,le.assets),le.__complete=!0)}};return _e.checkColors=pe,_e.checkChars=q,_e.checkPathProperties=oe,_e.checkShapes=de,_e.completeLayers=ie,_e}()),W.assetLoader||(W.assetLoader=function(){function ie(Q){var V=Q.getResponseHeader("content-type");return V&&"json"===Q.responseType&&-1!==V.indexOf("json")||Q.response&&"object"===_typeof$5(Q.response)?Q.response:Q.response&&"string"==typeof Q.response?JSON.parse(Q.response):Q.responseText?JSON.parse(Q.responseText):null}return{load:function te(Q,V,U,$){var z,J=new XMLHttpRequest;try{J.responseType="json"}catch{}J.onreadystatechange=function(){if(4===J.readyState)if(200===J.status)z=ie(J),U(z);else try{z=ie(J),U(z)}catch(q){$&&$(q)}};try{J.open(["G","E","T"].join(""),Q,!0)}catch{J.open(["G","E","T"].join(""),V+"/"+Q,!0)}J.send()}}}()),"loadAnimation"===ne.data.type)W.assetLoader.load(ne.data.path,ne.data.fullPath,function(ie){W.dataManager.completeData(ie),W.postMessage({id:ne.data.id,payload:ie,status:"success"})},function(){W.postMessage({id:ne.data.id,status:"error"})});else if("complete"===ne.data.type){var se=ne.data.animation;W.dataManager.completeData(se),W.postMessage({id:ne.data.id,payload:se,status:"success"})}else"loadData"===ne.data.type&&W.assetLoader.load(ne.data.path,ne.data.fullPath,function(ie){W.postMessage({id:ne.data.id,payload:ie,status:"success"})},function(){W.postMessage({id:ne.data.id,status:"error"})})})).onmessage=function(Y){var ne=Y.data,ae=ne.id,se=F[ae];F[ae]=null,"success"===ne.status?se.onComplete(ne.payload):se.onError&&se.onError()})}function re(Y,ne){var ae="processId_"+(j+=1);return F[ae]={onComplete:Y,onError:ne},ae}return{loadAnimation:function ee(Y,ne,ae){k();var se=re(ne,ae);w.postMessage({type:"loadAnimation",path:Y,fullPath:window.location.origin+window.location.pathname,id:se})},loadData:function Z(Y,ne,ae){k();var se=re(ne,ae);w.postMessage({type:"loadData",path:Y,fullPath:window.location.origin+window.location.pathname,id:se})},completeAnimation:function G(Y,ne,ae){k();var se=re(ne,ae);w.postMessage({type:"complete",animation:Y,id:se})}}}(),ImagePreloader=function(){var j=function(){var te=createTag("canvas");te.width=1,te.height=1;var Q=te.getContext("2d");return Q.fillStyle="rgba(0,0,0,0)",Q.fillRect(0,0,1,1),te}();function F(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function T(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function w(te,Q,V){var U="";if(te.e)U=te.p;else if(Q){var $=te.p;-1!==$.indexOf("images/")&&($=$.split("/")[1]),U=Q+$}else U=V,U+=te.u?te.u:"",U+=te.p;return U}function O(te){var Q=0,V=setInterval(function(){(te.getBBox().width||Q>500)&&(this._imageLoaded(),clearInterval(V)),Q+=1}.bind(this),50)}function k(te){var Q={assetData:te},V=w(te,this.assetsPath,this.path);return dataManager.loadData(V,function(U){Q.img=U,this._footageLoaded()}.bind(this),function(){Q.img={},this._footageLoaded()}.bind(this)),Q}function ie(){this._imageLoaded=F.bind(this),this._footageLoaded=T.bind(this),this.testImageLoaded=O.bind(this),this.createFootageData=k.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ie.prototype={loadAssets:function re(te,Q){this.imagesLoadedCb=Q;var V,U=te.length;for(V=0;V<U;V+=1)te[V].layers||(te[V].t&&"seq"!==te[V].t?3===te[V].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(te[V]))):(this.totalImages+=1,this.images.push(this._createImageData(te[V]))))},setAssetsPath:function Z(te){this.assetsPath=te||""},setPath:function ee(te){this.path=te||""},loadedImages:function ne(){return this.totalImages===this.loadedAssets},loadedFootages:function ae(){return this.totalFootages===this.loadedFootagesCount},destroy:function Y(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function G(te){for(var Q=0,V=this.images.length;Q<V;){if(this.images[Q].assetData===te)return this.images[Q].img;Q+=1}return null},createImgData:function B(te){var Q=w(te,this.assetsPath,this.path),V=createTag("img");V.crossOrigin="anonymous",V.addEventListener("load",this._imageLoaded,!1),V.addEventListener("error",function(){U.img=j,this._imageLoaded()}.bind(this),!1),V.src=Q;var U={img:V,assetData:te};return U},createImageData:function W(te){var Q=w(te,this.assetsPath,this.path),V=createNS("image");isSafari?this.testImageLoaded(V):V.addEventListener("load",this._imageLoaded,!1),V.addEventListener("error",function(){U.img=j,this._imageLoaded()}.bind(this),!1),V.setAttributeNS("http://www.w3.org/1999/xlink","href",Q),this._elementHelper.append?this._elementHelper.append(V):this._elementHelper.appendChild(V);var U={img:V,assetData:te};return U},imageLoaded:F,footageLoaded:T,setCacheType:function se(te,Q){"svg"===te?(this._elementHelper=Q,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},ie}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(F,T){if(this._cbs[F])for(var w=this._cbs[F],O=0;O<w.length;O+=1)w[O](T)},addEventListener:function(F,T){return this._cbs[F]||(this._cbs[F]=[]),this._cbs[F].push(T),function(){this.removeEventListener(F,T)}.bind(this)},removeEventListener:function(F,T){if(T){if(this._cbs[F]){for(var w=0,O=this._cbs[F].length;w<O;)this._cbs[F][w]===T&&(this._cbs[F].splice(w,1),w-=1,O-=1),w+=1;this._cbs[F].length||(this._cbs[F]=null)}}else this._cbs[F]=null}};var markerParser=function(){function j(F){for(var O,T=F.split("\r\n"),w={},W=0,B=0;B<T.length;B+=1)2===(O=T[B].split(":")).length&&(w[O[0]]=O[1].trim(),W+=1);if(0===W)throw new Error;return w}return function(F){for(var T=[],w=0;w<F.length;w+=1){var O=F[w],W={time:O.tm,duration:O.dr};try{W.payload=JSON.parse(F[w].cm)}catch{try{W.payload=j(F[w].cm)}catch{W.payload={name:F[w].cm}}}T.push(W)}return T}}(),ProjectInterface=function(){function j(F){this.compositions.push(F)}return function(){function F(T){for(var w=0,O=this.compositions.length;w<O;){if(this.compositions[w].data&&this.compositions[w].data.nm===T)return this.compositions[w].prepareFrame&&this.compositions[w].data.xt&&this.compositions[w].prepareFrame(this.currentFrame),this.compositions[w].compInterface;w+=1}return null}return F.compositions=[],F.currentFrame=0,F.registerComposition=j,F}}(),renderers={},registerRenderer=function(F,T){renderers[F]=T};function getRenderer(j){return renderers[j]}function _typeof$4(j){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(j){(j.wrapper||j.container)&&(this.wrapper=j.wrapper||j.container);var F="svg";j.animType?F=j.animType:j.renderer&&(F=j.renderer);var T=getRenderer(F);this.renderer=new T(this,j.rendererSettings),this.imagePreloader.setCacheType(F,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=F,this.loop=""===j.loop||null==j.loop||!0===j.loop||!1!==j.loop&&parseInt(j.loop,10),this.autoplay=!("autoplay"in j)||j.autoplay,this.name=j.name?j.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(j,"autoloadSegments")||j.autoloadSegments,this.assetsPath=j.assetsPath,this.initialSegment=j.initialSegment,j.audioFactory&&this.audioController.setAudioFactory(j.audioFactory),j.animationData?this.setupAnimation(j.animationData):j.path&&(this.path=-1!==j.path.lastIndexOf("\\")?j.path.substr(0,j.path.lastIndexOf("\\")+1):j.path.substr(0,j.path.lastIndexOf("/")+1),this.fileName=j.path.substr(j.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(j.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(j){dataManager.completeAnimation(j,this.configAnimation)},AnimationItem.prototype.setData=function(j,F){F&&"object"!==_typeof$4(F)&&(F=JSON.parse(F));var T={wrapper:j,animationData:F},w=j.attributes;T.path=w.getNamedItem("data-animation-path")?w.getNamedItem("data-animation-path").value:w.getNamedItem("data-bm-path")?w.getNamedItem("data-bm-path").value:w.getNamedItem("bm-path")?w.getNamedItem("bm-path").value:"",T.animType=w.getNamedItem("data-anim-type")?w.getNamedItem("data-anim-type").value:w.getNamedItem("data-bm-type")?w.getNamedItem("data-bm-type").value:w.getNamedItem("bm-type")?w.getNamedItem("bm-type").value:w.getNamedItem("data-bm-renderer")?w.getNamedItem("data-bm-renderer").value:w.getNamedItem("bm-renderer")?w.getNamedItem("bm-renderer").value:"canvas";var O=w.getNamedItem("data-anim-loop")?w.getNamedItem("data-anim-loop").value:w.getNamedItem("data-bm-loop")?w.getNamedItem("data-bm-loop").value:w.getNamedItem("bm-loop")?w.getNamedItem("bm-loop").value:"";"false"===O?T.loop=!1:"true"===O?T.loop=!0:""!==O&&(T.loop=parseInt(O,10));var W=w.getNamedItem("data-anim-autoplay")?w.getNamedItem("data-anim-autoplay").value:w.getNamedItem("data-bm-autoplay")?w.getNamedItem("data-bm-autoplay").value:!w.getNamedItem("bm-autoplay")||w.getNamedItem("bm-autoplay").value;T.autoplay="false"!==W,T.name=w.getNamedItem("data-name")?w.getNamedItem("data-name").value:w.getNamedItem("data-bm-name")?w.getNamedItem("data-bm-name").value:w.getNamedItem("bm-name")?w.getNamedItem("bm-name").value:"","false"===(w.getNamedItem("data-anim-prerender")?w.getNamedItem("data-anim-prerender").value:w.getNamedItem("data-bm-prerender")?w.getNamedItem("data-bm-prerender").value:w.getNamedItem("bm-prerender")?w.getNamedItem("bm-prerender").value:"")&&(T.prerender=!1),this.setParams(T)},AnimationItem.prototype.includeLayers=function(j){j.op>this.animationData.op&&(this.animationData.op=j.op,this.totalFrames=Math.floor(j.op-this.animationData.ip));var T,W,F=this.animationData.layers,w=F.length,O=j.layers,B=O.length;for(W=0;W<B;W+=1)for(T=0;T<w;){if(F[T].id===O[W].id){F[T]=O[W];break}T+=1}if((j.chars||j.fonts)&&(this.renderer.globalData.fontManager.addChars(j.chars),this.renderer.globalData.fontManager.addFonts(j.fonts,this.renderer.globalData.defs)),j.assets)for(w=j.assets.length,T=0;T<w;T+=1)this.animationData.assets.push(j.assets[T]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(j){this.animationData=j;var F=getExpressionsPlugin();F&&F.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var j=this.animationData.segments;if(!j||0===j.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var F=j.shift();this.timeCompleted=F.time*this.frameRate;var T=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(T,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(j){if(this.renderer)try{this.animationData=j,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(j),j.assets||(j.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(j.assets),this.markers=markerParser(j.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(F){this.triggerConfigError(F)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var j=getExpressionsPlugin();j&&j.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(j,F){this.renderer.updateContainerSize("number"==typeof j?j:void 0,"number"==typeof F?F:void 0)},AnimationItem.prototype.setSubframe=function(j){this.isSubframeEnabled=!!j},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(j){this.triggerRenderFrameError(j)}},AnimationItem.prototype.play=function(j){j&&this.name!==j||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(j){j&&this.name!==j||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(j){j&&this.name!==j||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(j){j&&this.name!==j||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(j){for(var F,T=0;T<this.markers.length;T+=1)if((F=this.markers[T]).payload&&F.payload.name===j)return F;return null},AnimationItem.prototype.goToAndStop=function(j,F,T){if(!T||this.name===T){var w=Number(j);if(isNaN(w)){var O=this.getMarkerData(j);O&&this.goToAndStop(O.time,!0)}else this.setCurrentRawFrameValue(F?j:j*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(j,F,T){if(!T||this.name===T){var w=Number(j);if(isNaN(w)){var O=this.getMarkerData(j);O&&(O.duration?this.playSegments([O.time,O.time+O.duration],!0):this.goToAndStop(O.time,!0))}else this.goToAndStop(w,F,T);this.play()}},AnimationItem.prototype.advanceTime=function(j){if(!0!==this.isPaused&&!1!==this.isLoaded){var F=this.currentRawFrame+j*this.frameModifier,T=!1;F>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?F>=this.totalFrames?(this.playCount+=1,this.checkSegments(F%this.totalFrames)||(this.setCurrentRawFrameValue(F%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(F):this.checkSegments(F>this.totalFrames?F%this.totalFrames:0)||(T=!0,F=this.totalFrames-1):F<0?this.checkSegments(F%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(T=!0,F=0):(this.setCurrentRawFrameValue(this.totalFrames+F%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(F),T&&(this.setCurrentRawFrameValue(F),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(j,F){this.playCount=0,j[1]<j[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=j[0]-j[1],this.timeCompleted=this.totalFrames,this.firstFrame=j[1],this.setCurrentRawFrameValue(this.totalFrames-.001-F)):j[1]>j[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=j[1]-j[0],this.timeCompleted=this.totalFrames,this.firstFrame=j[0],this.setCurrentRawFrameValue(.001+F)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(j,F){var T=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<j?T=j:this.currentRawFrame+this.firstFrame>F&&(T=F-j)),this.firstFrame=j,this.totalFrames=F-j,this.timeCompleted=this.totalFrames,-1!==T&&this.goToAndStop(T,!0)},AnimationItem.prototype.playSegments=function(j,F){if(F&&(this.segments.length=0),"object"===_typeof$4(j[0])){var T,w=j.length;for(T=0;T<w;T+=1)this.segments.push(j[T])}else this.segments.push(j);this.segments.length&&F&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(j){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),j&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(j){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),j),!0)},AnimationItem.prototype.destroy=function(j){j&&this.name!==j||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(j){this.currentRawFrame=j,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(j){this.playSpeed=j,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(j){this.playDirection=j<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(j){this.loop=j},AnimationItem.prototype.setVolume=function(j,F){F&&this.name!==F||this.audioController.setVolume(j)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(j){j&&this.name!==j||this.audioController.mute()},AnimationItem.prototype.unmute=function(j){j&&this.name!==j||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(j){var F="";if(j.e)F=j.p;else if(this.assetsPath){var T=j.p;-1!==T.indexOf("images/")&&(T=T.split("/")[1]),F=this.assetsPath+T}else F=this.path,F+=j.u?j.u:"",F+=j.p;return F},AnimationItem.prototype.getAssetData=function(j){for(var F=0,T=this.assets.length;F<T;){if(j===this.assets[F].id)return this.assets[F];F+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(j){return j?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(j,F,T){try{this.renderer.getElementByPath(j).updateDocumentData(F,T)}catch{}},AnimationItem.prototype.trigger=function(j){if(this._cbs&&this._cbs[j])switch(j){case"enterFrame":this.triggerEvent(j,new BMEnterFrameEvent(j,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(j,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(j,new BMCompleteLoopEvent(j,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(j,new BMCompleteEvent(j,this.frameMult));break;case"segmentStart":this.triggerEvent(j,new BMSegmentStartEvent(j,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(j,new BMDestroyEvent(j,this));break;default:this.triggerEvent(j)}"enterFrame"===j&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(j,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===j&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(j,this.loop,this.playCount,this.frameMult)),"complete"===j&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(j,this.frameMult)),"segmentStart"===j&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(j,this.firstFrame,this.totalFrames)),"destroy"===j&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(j,this))},AnimationItem.prototype.triggerRenderFrameError=function(j){var F=new BMRenderFrameErrorEvent(j,this.currentFrame);this.triggerEvent("error",F),this.onError&&this.onError.call(this,F)},AnimationItem.prototype.triggerConfigError=function(j){var F=new BMConfigErrorEvent(j,this.currentFrame);this.triggerEvent("error",F),this.onError&&this.onError.call(this,F)};var animationManager=function(){var j={},F=[],T=0,w=0,O=0,W=!0,B=!1;function k(fe){for(var Ee=0,ye=fe.target;Ee<w;)F[Ee].animation===ye&&(F.splice(Ee,1),Ee-=1,w-=1,ye.isPaused||G()),Ee+=1}function re(fe,Ee){if(!fe)return null;for(var ye=0;ye<w;){if(F[ye].elem===fe&&null!==F[ye].elem)return F[ye].animation;ye+=1}var ue=new AnimationItem;return Y(ue,fe),ue.setData(fe,Ee),ue}function Z(){O+=1,pe()}function G(){O-=1}function Y(fe,Ee){fe.addEventListener("destroy",k),fe.addEventListener("_active",Z),fe.addEventListener("_idle",G),F.push({elem:Ee,animation:fe}),w+=1}function te(fe){var ye,Ee=fe-T;for(ye=0;ye<w;ye+=1)F[ye].animation.advanceTime(Ee);T=fe,O&&!B?window.requestAnimationFrame(te):W=!0}function Q(fe){T=fe,window.requestAnimationFrame(te)}function pe(){!B&&O&&W&&(window.requestAnimationFrame(Q),W=!1)}return j.registerAnimation=re,j.loadAnimation=function ne(fe){var Ee=new AnimationItem;return Y(Ee,null),Ee.setParams(fe),Ee},j.setSpeed=function ae(fe,Ee){var ye;for(ye=0;ye<w;ye+=1)F[ye].animation.setSpeed(fe,Ee)},j.setDirection=function se(fe,Ee){var ye;for(ye=0;ye<w;ye+=1)F[ye].animation.setDirection(fe,Ee)},j.play=function ie(fe){var Ee;for(Ee=0;Ee<w;Ee+=1)F[Ee].animation.play(fe)},j.pause=function V(fe){var Ee;for(Ee=0;Ee<w;Ee+=1)F[Ee].animation.pause(fe)},j.stop=function $(fe){var Ee;for(Ee=0;Ee<w;Ee+=1)F[Ee].animation.stop(fe)},j.togglePause=function z(fe){var Ee;for(Ee=0;Ee<w;Ee+=1)F[Ee].animation.togglePause(fe)},j.searchAnimations=function q(fe,Ee,ye){var Me,ue=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),ce=ue.length;for(Me=0;Me<ce;Me+=1)ye&&ue[Me].setAttribute("data-bm-type",ye),re(ue[Me],fe);if(Ee&&0===ce){ye||(ye="svg");var ge=document.getElementsByTagName("body")[0];ge.innerText="";var Pe=createTag("div");Pe.style.width="100%",Pe.style.height="100%",Pe.setAttribute("data-bm-type",ye),ge.appendChild(Pe),re(Pe,fe)}},j.resize=function oe(){var fe;for(fe=0;fe<w;fe+=1)F[fe].animation.resize()},j.goToAndStop=function U(fe,Ee,ye){var ue;for(ue=0;ue<w;ue+=1)F[ue].animation.goToAndStop(fe,Ee,ye)},j.destroy=function J(fe){var Ee;for(Ee=w-1;Ee>=0;Ee-=1)F[Ee].animation.destroy(fe)},j.freeze=function de(){B=!0},j.unfreeze=function be(){B=!1,pe()},j.setVolume=function me(fe,Ee){var ye;for(ye=0;ye<w;ye+=1)F[ye].animation.setVolume(fe,Ee)},j.mute=function _e(fe){var Ee;for(Ee=0;Ee<w;Ee+=1)F[Ee].animation.mute(fe)},j.unmute=function le(fe){var Ee;for(Ee=0;Ee<w;Ee+=1)F[Ee].animation.unmute(fe)},j.getRegisteredAnimations=function ee(){var fe,Ee=F.length,ye=[];for(fe=0;fe<Ee;fe+=1)ye.push(F[fe].animation);return ye},j}(),BezierFactory=function(){var j={getBezierEasing:function T(Q,V,U,$,z){var J=z||("bez_"+Q+"_"+V+"_"+U+"_"+$).replace(/\./g,"p");if(F[J])return F[J];var q=new te([Q,V,U,$]);return F[J]=q,q}},F={},ee="function"==typeof Float32Array;function Z(Q,V){return 1-3*V+3*Q}function G(Q,V){return 3*V-6*Q}function Y(Q){return 3*Q}function ne(Q,V,U){return((Z(V,U)*Q+G(V,U))*Q+Y(V))*Q}function ae(Q,V,U){return 3*Z(V,U)*Q*Q+2*G(V,U)*Q+Y(V)}function te(Q){this._p=Q,this._mSampleValues=ee?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return te.prototype={get:function(V){var U=this._p[0],$=this._p[1],z=this._p[2],J=this._p[3];return this._precomputed||this._precompute(),U===$&&z===J?V:0===V?0:1===V?1:ne(this._getTForX(V),$,J)},_precompute:function(){var V=this._p[0],U=this._p[1],$=this._p[2],z=this._p[3];this._precomputed=!0,(V!==U||$!==z)&&this._calcSampleValues()},_calcSampleValues:function(){for(var V=this._p[0],U=this._p[2],$=0;$<11;++$)this._mSampleValues[$]=ne(.1*$,V,U)},_getTForX:function(V){for(var U=this._p[0],$=this._p[2],z=this._mSampleValues,J=0,q=1;10!==q&&z[q]<=V;++q)J+=.1;var de=J+(V-z[--q])/(z[q+1]-z[q])*.1,be=ae(de,U,$);return be>=.001?function ie(Q,V,U,$){for(var z=0;z<4;++z){var J=ae(V,U,$);if(0===J)return V;V-=(ne(V,U,$)-Q)/J}return V}(V,de,U,$):0===be?de:function se(Q,V,U,$,z){var J,q,oe=0;do{(J=ne(q=V+(U-V)/2,$,z)-Q)>0?U=q:V=q}while(Math.abs(J)>1e-7&&++oe<10);return q}(V,J,J+.1,U,$)}},j}(),pooling={double:function j(F){return F.concat(createSizedArray(F.length))}},poolFactory=function(j,F,T){var w=0,O=j,W=createSizedArray(O);return{newElement:function k(){return w?W[w-=1]:F()},release:function re(ee){w===O&&(W=pooling.double(W),O*=2),T&&T(ee),W[w]=ee,w+=1}}},bezierLengthPool=poolFactory(8,function j(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function j(){return{lengths:[],totalLength:0}},function F(T){var w,O=T.lengths.length;for(w=0;w<O;w+=1)bezierLengthPool.release(T.lengths[w]);T.lengths.length=0});function bezFunction(){var j=Math;function F(Y,ne,ae,se,ie,te){var Q=Y*se+ne*ie+ae*te-ie*se-te*Y-ae*ne;return Q>-.001&&Q<.001}var w=function(Y,ne,ae,se){var te,Q,V,U,$,J,ie=getDefaultCurveSegments(),z=0,q=[],oe=[],pe=bezierLengthPool.newElement();for(V=ae.length,te=0;te<ie;te+=1){for($=te/(ie-1),J=0,Q=0;Q<V;Q+=1)U=bmPow(1-$,3)*Y[Q]+3*bmPow(1-$,2)*$*ae[Q]+3*(1-$)*bmPow($,2)*se[Q]+bmPow($,3)*ne[Q],q[Q]=U,null!==oe[Q]&&(J+=bmPow(q[Q]-oe[Q],2)),oe[Q]=q[Q];J&&(z+=J=bmSqrt(J)),pe.percents[te]=$,pe.lengths[te]=z}return pe.addedLength=z,pe};function W(Y){this.segmentLength=0,this.points=new Array(Y)}function B(Y,ne){this.partialLength=Y,this.point=ne}var Y,k=(Y={},function(ne,ae,se,ie){var te=(ne[0]+"_"+ne[1]+"_"+ae[0]+"_"+ae[1]+"_"+se[0]+"_"+se[1]+"_"+ie[0]+"_"+ie[1]).replace(/\./g,"p");if(!Y[te]){var V,U,$,z,J,oe,pe,Q=getDefaultCurveSegments(),q=0,de=null;2===ne.length&&(ne[0]!==ae[0]||ne[1]!==ae[1])&&F(ne[0],ne[1],ae[0],ae[1],ne[0]+se[0],ne[1]+se[1])&&F(ne[0],ne[1],ae[0],ae[1],ae[0]+ie[0],ae[1]+ie[1])&&(Q=2);var be=new W(Q);for($=se.length,V=0;V<Q;V+=1){for(pe=createSizedArray($),J=V/(Q-1),oe=0,U=0;U<$;U+=1)z=bmPow(1-J,3)*ne[U]+3*bmPow(1-J,2)*J*(ne[U]+se[U])+3*(1-J)*bmPow(J,2)*(ae[U]+ie[U])+bmPow(J,3)*ae[U],pe[U]=z,null!==de&&(oe+=bmPow(pe[U]-de[U],2));q+=oe=bmSqrt(oe),be.points[V]=new B(oe,pe),de=pe}be.segmentLength=q,Y[te]=be}return Y[te]});function re(Y,ne){var ae=ne.percents,se=ne.lengths,ie=ae.length,te=bmFloor((ie-1)*Y),Q=Y*ne.addedLength,V=0;if(te===ie-1||0===te||Q===se[te])return ae[te];for(var U=se[te]>Q?-1:1,$=!0;$;)if(se[te]<=Q&&se[te+1]>Q?(V=(Q-se[te])/(se[te+1]-se[te]),$=!1):te+=U,te<0||te>=ie-1){if(te===ie-1)return ae[te];$=!1}return ae[te]+(ae[te+1]-ae[te])*V}var Z=createTypedArray("float32",8);return{getSegmentsLength:function O(Y){var Q,ne=segmentsLengthPool.newElement(),ae=Y.c,se=Y.v,ie=Y.o,te=Y.i,V=Y._length,U=ne.lengths,$=0;for(Q=0;Q<V-1;Q+=1)U[Q]=w(se[Q],se[Q+1],ie[Q],te[Q+1]),$+=U[Q].addedLength;return ae&&V&&(U[Q]=w(se[Q],se[0],ie[Q],te[0]),$+=U[Q].addedLength),ne.totalLength=$,ne},getNewSegment:function G(Y,ne,ae,se,ie,te,Q){ie<0?ie=0:ie>1&&(ie=1);var $,V=re(ie,Q),U=re(te=te>1?1:te,Q),z=Y.length,J=1-V,q=1-U,oe=J*J*J,pe=V*J*J*3,de=V*V*J*3,be=V*V*V,me=J*J*q,_e=V*J*q+J*V*q+J*J*U,le=V*V*q+J*V*U+V*J*U,fe=V*V*U,Ee=J*q*q,ye=V*q*q+J*U*q+J*q*U,ue=V*U*q+J*U*U+V*q*U,Me=V*U*U,ce=q*q*q,ge=U*q*q+q*U*q+q*q*U,Pe=U*U*q+q*U*U+U*q*U,Ie=U*U*U;for($=0;$<z;$+=1)Z[4*$]=j.round(1e3*(oe*Y[$]+pe*ae[$]+de*se[$]+be*ne[$]))/1e3,Z[4*$+1]=j.round(1e3*(me*Y[$]+_e*ae[$]+le*se[$]+fe*ne[$]))/1e3,Z[4*$+2]=j.round(1e3*(Ee*Y[$]+ye*ae[$]+ue*se[$]+Me*ne[$]))/1e3,Z[4*$+3]=j.round(1e3*(ce*Y[$]+ge*ae[$]+Pe*se[$]+Ie*ne[$]))/1e3;return Z},getPointInSegment:function ee(Y,ne,ae,se,ie,te){var Q=re(ie,te),V=1-Q;return[j.round(1e3*(V*V*V*Y[0]+(Q*V*V+V*Q*V+V*V*Q)*ae[0]+(Q*Q*V+V*Q*Q+Q*V*Q)*se[0]+Q*Q*Q*ne[0]))/1e3,j.round(1e3*(V*V*V*Y[1]+(Q*V*V+V*Q*V+V*V*Q)*ae[1]+(Q*Q*V+V*Q*Q+Q*V*Q)*se[1]+Q*Q*Q*ne[1]))/1e3]},buildBezierData:k,pointOnLine2D:F,pointOnLine3D:function T(Y,ne,ae,se,ie,te,Q,V,U){if(0===ae&&0===te&&0===U)return F(Y,ne,se,ie,Q,V);var q,$=j.sqrt(j.pow(se-Y,2)+j.pow(ie-ne,2)+j.pow(te-ae,2)),z=j.sqrt(j.pow(Q-Y,2)+j.pow(V-ne,2)+j.pow(U-ae,2)),J=j.sqrt(j.pow(Q-se,2)+j.pow(V-ie,2)+j.pow(U-te,2));return(q=$>z?$>J?$-z-J:J-z-$:J>z?J-z-$:z-$-J)>-1e-4&&q<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var j=initialDefaultFrame,F=Math.abs;function T(ie,te){var V,Q=this.offsetTime;"multidimensional"===this.propType&&(V=createTypedArray("float32",this.pv.length));for(var q,oe,pe,U=te.lastIndex,$=U,z=this.keyframes.length-1,J=!0;J;){if(q=this.keyframes[$],oe=this.keyframes[$+1],$===z-1&&ie>=oe.t-Q){q.h&&(q=oe),U=0;break}if(oe.t-Q>ie){U=$;break}$<z-1?$+=1:(U=0,J=!1)}pe=this.keyframesMetadata[$]||{};var de,be,me,_e,le,fe,ue,Ee=oe.t-Q,ye=q.t-Q;if(q.to){pe.bezierData||(pe.bezierData=bez.buildBezierData(q.s,oe.s||q.e,q.to,q.ti));var Me=pe.bezierData;if(ie>=Ee||ie<ye){var ce=ie>=Ee?Me.points.length-1:0;for(be=Me.points[ce].point.length,de=0;de<be;de+=1)V[de]=Me.points[ce].point[de]}else{pe.__fnct?fe=pe.__fnct:(fe=BezierFactory.getBezierEasing(q.o.x,q.o.y,q.i.x,q.i.y,q.n).get,pe.__fnct=fe),me=fe((ie-ye)/(Ee-ye));var Pe,ge=Me.segmentLength*me,Ie=te.lastFrame<ie&&te._lastKeyframeIndex===$?te._lastAddedLength:0;for(le=te.lastFrame<ie&&te._lastKeyframeIndex===$?te._lastPoint:0,J=!0,_e=Me.points.length;J;){if(Ie+=Me.points[le].partialLength,0===ge||0===me||le===Me.points.length-1){for(be=Me.points[le].point.length,de=0;de<be;de+=1)V[de]=Me.points[le].point[de];break}if(ge>=Ie&&ge<Ie+Me.points[le+1].partialLength){for(Pe=(ge-Ie)/Me.points[le+1].partialLength,be=Me.points[le].point.length,de=0;de<be;de+=1)V[de]=Me.points[le].point[de]+(Me.points[le+1].point[de]-Me.points[le].point[de])*Pe;break}le<_e-1?le+=1:J=!1}te._lastPoint=le,te._lastAddedLength=Ie-Me.points[le].partialLength,te._lastKeyframeIndex=$}}else{var Le;if(z=q.s.length,ue=oe.s||q.e,this.sh&&1!==q.h)ie>=Ee?(V[0]=ue[0],V[1]=ue[1],V[2]=ue[2]):ie<=ye?(V[0]=q.s[0],V[1]=q.s[1],V[2]=q.s[2]):function O(ie,te){var Q=te[0],V=te[1],U=te[2],$=te[3],z=Math.atan2(2*V*$-2*Q*U,1-2*V*V-2*U*U),J=Math.asin(2*Q*V+2*U*$),q=Math.atan2(2*Q*$-2*V*U,1-2*Q*Q-2*U*U);ie[0]=z/degToRads,ie[1]=J/degToRads,ie[2]=q/degToRads}(V,function w(ie,te,Q){var be,me,_e,le,fe,V=[],U=ie[0],$=ie[1],z=ie[2],J=ie[3],q=te[0],oe=te[1],pe=te[2],de=te[3];return(me=U*q+$*oe+z*pe+J*de)<0&&(me=-me,q=-q,oe=-oe,pe=-pe,de=-de),1-me>1e-6?(be=Math.acos(me),_e=Math.sin(be),le=Math.sin((1-Q)*be)/_e,fe=Math.sin(Q*be)/_e):(le=1-Q,fe=Q),V[0]=le*U+fe*q,V[1]=le*$+fe*oe,V[2]=le*z+fe*pe,V[3]=le*J+fe*de,V}(W(q.s),W(ue),(ie-ye)/(Ee-ye)));else for($=0;$<z;$+=1)1!==q.h&&(ie>=Ee?me=1:ie<ye?me=0:(q.o.x.constructor===Array?(pe.__fnct||(pe.__fnct=[]),pe.__fnct[$]?fe=pe.__fnct[$]:(fe=BezierFactory.getBezierEasing(void 0===q.o.x[$]?q.o.x[0]:q.o.x[$],void 0===q.o.y[$]?q.o.y[0]:q.o.y[$],void 0===q.i.x[$]?q.i.x[0]:q.i.x[$],void 0===q.i.y[$]?q.i.y[0]:q.i.y[$]).get,pe.__fnct[$]=fe)):pe.__fnct?fe=pe.__fnct:(fe=BezierFactory.getBezierEasing(q.o.x,q.o.y,q.i.x,q.i.y).get,q.keyframeMetadata=fe),me=fe((ie-ye)/(Ee-ye)))),ue=oe.s||q.e,Le=1===q.h?q.s[$]:q.s[$]+(ue[$]-q.s[$])*me,"multidimensional"===this.propType?V[$]=Le:V=Le}return te.lastIndex=U,V}function W(ie){var te=ie[0]*degToRads,Q=ie[1]*degToRads,V=ie[2]*degToRads,U=Math.cos(te/2),$=Math.cos(Q/2),z=Math.cos(V/2),J=Math.sin(te/2),q=Math.sin(Q/2),oe=Math.sin(V/2);return[J*q*z+U*$*oe,J*$*z+U*q*oe,U*q*z-J*$*oe,U*$*z-J*q*oe]}function B(){var ie=this.comp.renderedFrame-this.offsetTime,te=this.keyframes[0].t-this.offsetTime,Q=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(ie===this._caching.lastFrame||this._caching.lastFrame!==j&&(this._caching.lastFrame>=Q&&ie>=Q||this._caching.lastFrame<te&&ie<te))){this._caching.lastFrame>=ie&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var V=this.interpolateValue(ie,this._caching);this.pv=V}return this._caching.lastFrame=ie,this.pv}function k(ie){var te;if("unidimensional"===this.propType)F(this.v-(te=ie*this.mult))>1e-5&&(this.v=te,this._mdf=!0);else for(var Q=0,V=this.v.length;Q<V;)F(this.v[Q]-(te=ie[Q]*this.mult))>1e-5&&(this.v[Q]=te,this._mdf=!0),Q+=1}function re(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var ie,te=this.effectsSequence.length,Q=this.kf?this.pv:this.data.k;for(ie=0;ie<te;ie+=1)Q=this.effectsSequence[ie](Q);this.setVValue(Q),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ee(ie){this.effectsSequence.push(ie),this.container.addDynamicProperty(this)}function Z(ie,te,Q,V){this.propType="unidimensional",this.mult=Q||1,this.data=te,this.v=Q?te.k*Q:te.k,this.pv=te.k,this._mdf=!1,this.elem=ie,this.container=V,this.comp=ie.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=re,this.setVValue=k,this.addEffect=ee}function G(ie,te,Q,V){this.propType="multidimensional",this.mult=Q||1,this.data=te,this._mdf=!1,this.elem=ie,this.container=V,this.comp=ie.comp,this.k=!1,this.kf=!1,this.frameId=-1;var U,$=te.k.length;for(this.v=createTypedArray("float32",$),this.pv=createTypedArray("float32",$),this.vel=createTypedArray("float32",$),U=0;U<$;U+=1)this.v[U]=te.k[U]*this.mult,this.pv[U]=te.k[U];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=re,this.setVValue=k,this.addEffect=ee}function Y(ie,te,Q,V){this.propType="unidimensional",this.keyframes=te.k,this.keyframesMetadata=[],this.offsetTime=ie.data.st,this.frameId=-1,this._caching={lastFrame:j,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=te,this.mult=Q||1,this.elem=ie,this.container=V,this.comp=ie.comp,this.v=j,this.pv=j,this._isFirstFrame=!0,this.getValue=re,this.setVValue=k,this.interpolateValue=T,this.effectsSequence=[B.bind(this)],this.addEffect=ee}function ne(ie,te,Q,V){this.propType="multidimensional";var U,z,J,q,oe,$=te.k.length;for(U=0;U<$-1;U+=1)te.k[U].to&&te.k[U].s&&te.k[U+1]&&te.k[U+1].s&&(J=te.k[U+1].s,q=te.k[U].to,oe=te.k[U].ti,(2===(z=te.k[U].s).length&&!(z[0]===J[0]&&z[1]===J[1])&&bez.pointOnLine2D(z[0],z[1],J[0],J[1],z[0]+q[0],z[1]+q[1])&&bez.pointOnLine2D(z[0],z[1],J[0],J[1],J[0]+oe[0],J[1]+oe[1])||3===z.length&&!(z[0]===J[0]&&z[1]===J[1]&&z[2]===J[2])&&bez.pointOnLine3D(z[0],z[1],z[2],J[0],J[1],J[2],z[0]+q[0],z[1]+q[1],z[2]+q[2])&&bez.pointOnLine3D(z[0],z[1],z[2],J[0],J[1],J[2],J[0]+oe[0],J[1]+oe[1],J[2]+oe[2]))&&(te.k[U].to=null,te.k[U].ti=null),z[0]===J[0]&&z[1]===J[1]&&0===q[0]&&0===q[1]&&0===oe[0]&&0===oe[1]&&(2===z.length||z[2]===J[2]&&0===q[2]&&0===oe[2])&&(te.k[U].to=null,te.k[U].ti=null));this.effectsSequence=[B.bind(this)],this.data=te,this.keyframes=te.k,this.keyframesMetadata=[],this.offsetTime=ie.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Q||1,this.elem=ie,this.container=V,this.comp=ie.comp,this.getValue=re,this.setVValue=k,this.interpolateValue=T,this.frameId=-1;var pe=te.k[0].s.length;for(this.v=createTypedArray("float32",pe),this.pv=createTypedArray("float32",pe),U=0;U<pe;U+=1)this.v[U]=j,this.pv[U]=j;this._caching={lastFrame:j,lastIndex:0,value:createTypedArray("float32",pe)},this.addEffect=ee}return{getProp:function ae(ie,te,Q,V,U){var $;if(te.k.length)if("number"==typeof te.k[0])$=new G(ie,te,V,U);else switch(Q){case 0:$=new Y(ie,te,V,U);break;case 1:$=new ne(ie,te,V,U)}else $=new Z(ie,te,V,U);return $.effectsSequence.length&&U.addDynamicProperty($),$}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(F){-1===this.dynamicProperties.indexOf(F)&&(this.dynamicProperties.push(F),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var F,T=this.dynamicProperties.length;for(F=0;F<T;F+=1)this.dynamicProperties[F].getValue(),this.dynamicProperties[F]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(F){this.container=F,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function j(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(j,F){this.c=j,this.setLength(F);for(var T=0;T<F;)this.v[T]=pointPool.newElement(),this.o[T]=pointPool.newElement(),this.i[T]=pointPool.newElement(),T+=1},ShapePath.prototype.setLength=function(j){for(;this._maxLength<j;)this.doubleArrayLength();this._length=j},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(j,F,T,w,O){var W;switch(this._length=Math.max(this._length,w+1),this._length>=this._maxLength&&this.doubleArrayLength(),T){case"v":W=this.v;break;case"i":W=this.i;break;case"o":W=this.o;break;default:W=[]}(!W[w]||W[w]&&!O)&&(W[w]=pointPool.newElement()),W[w][0]=j,W[w][1]=F},ShapePath.prototype.setTripleAt=function(j,F,T,w,O,W,B,k){this.setXYAt(j,F,"v",B,k),this.setXYAt(T,w,"o",B,k),this.setXYAt(O,W,"i",B,k)},ShapePath.prototype.reverse=function(){var j=new ShapePath;j.setPathData(this.c,this._length);var F=this.v,T=this.o,w=this.i,O=0;this.c&&(j.setTripleAt(F[0][0],F[0][1],w[0][0],w[0][1],T[0][0],T[0][1],0,!1),O=1);var k,W=this._length-1,B=this._length;for(k=O;k<B;k+=1)j.setTripleAt(F[W][0],F[W][1],w[W][0],w[W][1],T[W][0],T[W][1],k,!1),W-=1;return j},ShapePath.prototype.length=function(){return this._length};var shapePool=(w=poolFactory(4,function j(){return new ShapePath},function F(O){var B,W=O._length;for(B=0;B<W;B+=1)pointPool.release(O.v[B]),pointPool.release(O.i[B]),pointPool.release(O.o[B]),O.v[B]=null,O.i[B]=null,O.o[B]=null;O._length=0,O.c=!1}),w.clone=function T(O){var B,W=w.newElement(),k=void 0===O._length?O.v.length:O._length;for(W.setLength(k),W.c=O.c,B=0;B<k;B+=1)W.setTripleAt(O.v[B][0],O.v[B][1],O.o[B][0],O.o[B][1],O.i[B][0],O.i[B][1],B);return W},w),w;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(j){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=j,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var j;for(j=0;j<this._length;j+=1)shapePool.release(this.shapes[j]);this._length=0};var shapeCollectionPool=function(){var j={newShapeCollection:function O(){return F?w[F-=1]:new ShapeCollection},release:function W(B){var k,re=B._length;for(k=0;k<re;k+=1)shapePool.release(B.shapes[k]);B._length=0,F===T&&(w=pooling.double(w),T*=2),w[F]=B,F+=1}},F=0,T=4,w=createSizedArray(T);return j}(),ShapePropertyFactory=function(){var j=-999999;function F(te,Q,V){var $,z,J,q,oe,pe,de,be,U=V.lastIndex,_e=this.keyframes;if(te<_e[0].t-this.offsetTime)$=_e[0].s[0],J=!0,U=0;else if(te>=_e[_e.length-1].t-this.offsetTime)$=_e[_e.length-1].s?_e[_e.length-1].s[0]:_e[_e.length-2].e[0],J=!0;else{for(var ye,ue,Me,le=U,fe=_e.length-1,Ee=!0;Ee&&(ye=_e[le],!((ue=_e[le+1]).t-this.offsetTime>te));)le<fe-1?le+=1:Ee=!1;if(Me=this.keyframesMetadata[le]||{},U=le,!(J=1===ye.h)){if(te>=ue.t-this.offsetTime)be=1;else if(te<ye.t-this.offsetTime)be=0;else{var ce;Me.__fnct?ce=Me.__fnct:(ce=BezierFactory.getBezierEasing(ye.o.x,ye.o.y,ye.i.x,ye.i.y).get,Me.__fnct=ce),be=ce((te-(ye.t-this.offsetTime))/(ue.t-this.offsetTime-(ye.t-this.offsetTime)))}z=ue.s?ue.s[0]:ye.e[0]}$=ye.s[0]}for(pe=Q._length,de=$.i[0].length,V.lastIndex=U,q=0;q<pe;q+=1)for(oe=0;oe<de;oe+=1)Q.i[q][oe]=J?$.i[q][oe]:$.i[q][oe]+(z.i[q][oe]-$.i[q][oe])*be,Q.o[q][oe]=J?$.o[q][oe]:$.o[q][oe]+(z.o[q][oe]-$.o[q][oe])*be,Q.v[q][oe]=J?$.v[q][oe]:$.v[q][oe]+(z.v[q][oe]-$.v[q][oe])*be}function T(){var te=this.comp.renderedFrame-this.offsetTime,Q=this.keyframes[0].t-this.offsetTime,V=this.keyframes[this.keyframes.length-1].t-this.offsetTime,U=this._caching.lastFrame;return U!==j&&(U<Q&&te<Q||U>V&&te>V)||(this._caching.lastIndex=U<te?this._caching.lastIndex:0,this.interpolateShape(te,this.pv,this._caching)),this._caching.lastFrame=te,this.pv}function w(){this.paths=this.localShapeCollection}function W(te){(function O(te,Q){if(te._length!==Q._length||te.c!==Q.c)return!1;var V,U=te._length;for(V=0;V<U;V+=1)if(te.v[V][0]!==Q.v[V][0]||te.v[V][1]!==Q.v[V][1]||te.o[V][0]!==Q.o[V][0]||te.o[V][1]!==Q.o[V][1]||te.i[V][0]!==Q.i[V][0]||te.i[V][1]!==Q.i[V][1])return!1;return!0})(this.v,te)||(this.v=shapePool.clone(te),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function B(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var te;this.lock=!0,this._mdf=!1,te=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var Q,V=this.effectsSequence.length;for(Q=0;Q<V;Q+=1)te=this.effectsSequence[Q](te);this.setVValue(te),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function k(te,Q,V){this.propType="shape",this.comp=te.comp,this.container=te,this.elem=te,this.data=Q,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===V?Q.pt.k:Q.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=w,this.effectsSequence=[]}function re(te){this.effectsSequence.push(te),this.container.addDynamicProperty(this)}function ee(te,Q,V){this.propType="shape",this.comp=te.comp,this.elem=te,this.container=te,this.offsetTime=te.data.st,this.keyframes=3===V?Q.pt.k:Q.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var U=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,U),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=j,this.reset=w,this._caching={lastFrame:j,lastIndex:0},this.effectsSequence=[T.bind(this)]}k.prototype.interpolateShape=F,k.prototype.getValue=B,k.prototype.setVValue=W,k.prototype.addEffect=re,ee.prototype.getValue=B,ee.prototype.interpolateShape=F,ee.prototype.setVValue=W,ee.prototype.addEffect=re;var Z=function(){var te=roundCorner;function Q(V,U){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=U.d,this.elem=V,this.comp=V.comp,this.frameId=-1,this.initDynamicPropertyContainer(V),this.p=PropertyFactory.getProp(V,U.p,1,0,this),this.s=PropertyFactory.getProp(V,U.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Q.prototype={reset:w,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var U=this.p.v[0],$=this.p.v[1],z=this.s.v[0]/2,J=this.s.v[1]/2,q=3!==this.d,oe=this.v;oe.v[0][0]=U,oe.v[0][1]=$-J,oe.v[1][0]=q?U+z:U-z,oe.v[1][1]=$,oe.v[2][0]=U,oe.v[2][1]=$+J,oe.v[3][0]=q?U-z:U+z,oe.v[3][1]=$,oe.i[0][0]=q?U-z*te:U+z*te,oe.i[0][1]=$-J,oe.i[1][0]=q?U+z:U-z,oe.i[1][1]=$-J*te,oe.i[2][0]=q?U+z*te:U-z*te,oe.i[2][1]=$+J,oe.i[3][0]=q?U-z:U+z,oe.i[3][1]=$+J*te,oe.o[0][0]=q?U+z*te:U-z*te,oe.o[0][1]=$-J,oe.o[1][0]=q?U+z:U-z,oe.o[1][1]=$+J*te,oe.o[2][0]=q?U-z*te:U+z*te,oe.o[2][1]=$+J,oe.o[3][0]=q?U-z:U+z,oe.o[3][1]=$-J*te}},extendPrototype([DynamicPropertyContainer],Q),Q}(),G=function(){function te(Q,V){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Q,this.comp=Q.comp,this.data=V,this.frameId=-1,this.d=V.d,this.initDynamicPropertyContainer(Q),1===V.sy?(this.ir=PropertyFactory.getProp(Q,V.ir,0,0,this),this.is=PropertyFactory.getProp(Q,V.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Q,V.pt,0,0,this),this.p=PropertyFactory.getProp(Q,V.p,1,0,this),this.r=PropertyFactory.getProp(Q,V.r,0,degToRads,this),this.or=PropertyFactory.getProp(Q,V.or,0,0,this),this.os=PropertyFactory.getProp(Q,V.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return te.prototype={reset:w,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var be,me,_e,le,V=2*Math.floor(this.pt.v),U=2*Math.PI/V,$=!0,z=this.or.v,J=this.ir.v,q=this.os.v,oe=this.is.v,pe=2*Math.PI*z/(2*V),de=2*Math.PI*J/(2*V),fe=-Math.PI/2;fe+=this.r.v;var Ee=3===this.data.d?-1:1;for(this.v._length=0,be=0;be<V;be+=1){_e=$?q:oe,le=$?pe:de;var ye=(me=$?z:J)*Math.cos(fe),ue=me*Math.sin(fe),Me=0===ye&&0===ue?0:ue/Math.sqrt(ye*ye+ue*ue),ce=0===ye&&0===ue?0:-ye/Math.sqrt(ye*ye+ue*ue);this.v.setTripleAt(ye+=+this.p.v[0],ue+=+this.p.v[1],ye-Me*le*_e*Ee,ue-ce*le*_e*Ee,ye+Me*le*_e*Ee,ue+ce*le*_e*Ee,be,!0),$=!$,fe+=U*Ee}},convertPolygonToPath:function(){var q,V=Math.floor(this.pt.v),U=2*Math.PI/V,$=this.or.v,z=this.os.v,J=2*Math.PI*$/(4*V),oe=.5*-Math.PI,pe=3===this.data.d?-1:1;for(oe+=this.r.v,this.v._length=0,q=0;q<V;q+=1){var de=$*Math.cos(oe),be=$*Math.sin(oe),me=0===de&&0===be?0:be/Math.sqrt(de*de+be*be),_e=0===de&&0===be?0:-de/Math.sqrt(de*de+be*be);this.v.setTripleAt(de+=+this.p.v[0],be+=+this.p.v[1],de-me*J*z*pe,be-_e*J*z*pe,de+me*J*z*pe,be+_e*J*z*pe,q,!0),oe+=U*pe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],te),te}(),Y=function(){function te(Q,V){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Q,this.comp=Q.comp,this.frameId=-1,this.d=V.d,this.initDynamicPropertyContainer(Q),this.p=PropertyFactory.getProp(Q,V.p,1,0,this),this.s=PropertyFactory.getProp(Q,V.s,1,0,this),this.r=PropertyFactory.getProp(Q,V.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return te.prototype={convertRectToPath:function(){var V=this.p.v[0],U=this.p.v[1],$=this.s.v[0]/2,z=this.s.v[1]/2,J=bmMin($,z,this.r.v),q=J*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(V+$,U-z+J,V+$,U-z+J,V+$,U-z+q,0,!0),this.v.setTripleAt(V+$,U+z-J,V+$,U+z-q,V+$,U+z-J,1,!0),0!==J?(this.v.setTripleAt(V+$-J,U+z,V+$-J,U+z,V+$-q,U+z,2,!0),this.v.setTripleAt(V-$+J,U+z,V-$+q,U+z,V-$+J,U+z,3,!0),this.v.setTripleAt(V-$,U+z-J,V-$,U+z-J,V-$,U+z-q,4,!0),this.v.setTripleAt(V-$,U-z+J,V-$,U-z+q,V-$,U-z+J,5,!0),this.v.setTripleAt(V-$+J,U-z,V-$+J,U-z,V-$+q,U-z,6,!0),this.v.setTripleAt(V+$-J,U-z,V+$-q,U-z,V+$-J,U-z,7,!0)):(this.v.setTripleAt(V-$,U+z,V-$+q,U+z,V-$,U+z,2),this.v.setTripleAt(V-$,U-z,V-$,U-z+q,V-$,U-z,3))):(this.v.setTripleAt(V+$,U-z+J,V+$,U-z+q,V+$,U-z+J,0,!0),0!==J?(this.v.setTripleAt(V+$-J,U-z,V+$-J,U-z,V+$-q,U-z,1,!0),this.v.setTripleAt(V-$+J,U-z,V-$+q,U-z,V-$+J,U-z,2,!0),this.v.setTripleAt(V-$,U-z+J,V-$,U-z+J,V-$,U-z+q,3,!0),this.v.setTripleAt(V-$,U+z-J,V-$,U+z-q,V-$,U+z-J,4,!0),this.v.setTripleAt(V-$+J,U+z,V-$+J,U+z,V-$+q,U+z,5,!0),this.v.setTripleAt(V+$-J,U+z,V+$-q,U+z,V+$-J,U+z,6,!0),this.v.setTripleAt(V+$,U+z-J,V+$,U+z-J,V+$,U+z-q,7,!0)):(this.v.setTripleAt(V-$,U-z,V-$+q,U-z,V-$,U-z,1,!0),this.v.setTripleAt(V-$,U+z,V-$,U+z-q,V-$,U+z,2,!0),this.v.setTripleAt(V+$,U+z,V+$-q,U+z,V+$,U+z,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:w},extendPrototype([DynamicPropertyContainer],te),te}();return{getShapeProp:function ne(te,Q,V){var U;return 3===V||4===V?U=(3===V?Q.pt:Q.ks).k.length?new ee(te,Q,V):new k(te,Q,V):5===V?U=new Y(te,Q):6===V?U=new Z(te,Q):7===V&&(U=new G(te,Q)),U.k&&te.addDynamicProperty(U),U},getConstructorFunction:function ae(){return k},getKeyframedConstructorFunction:function se(){return ee}}}(),Matrix=function(){var j=Math.cos,F=Math.sin,T=Math.tan,w=Math.round;function O(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function W(Ee){if(0===Ee)return this;var ye=j(Ee),ue=F(Ee);return this._t(ye,-ue,0,0,ue,ye,0,0,0,0,1,0,0,0,0,1)}function B(Ee){if(0===Ee)return this;var ye=j(Ee),ue=F(Ee);return this._t(1,0,0,0,0,ye,-ue,0,0,ue,ye,0,0,0,0,1)}function k(Ee){if(0===Ee)return this;var ye=j(Ee),ue=F(Ee);return this._t(ye,0,ue,0,0,1,0,0,-ue,0,ye,0,0,0,0,1)}function re(Ee){if(0===Ee)return this;var ye=j(Ee),ue=F(Ee);return this._t(ye,-ue,0,0,ue,ye,0,0,0,0,1,0,0,0,0,1)}function ee(Ee,ye){return this._t(1,ye,Ee,1,0,0)}function Z(Ee,ye){return this.shear(T(Ee),T(ye))}function G(Ee,ye){var ue=j(ye),Me=F(ye);return this._t(ue,Me,0,0,-Me,ue,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,T(Ee),1,0,0,0,0,1,0,0,0,0,1)._t(ue,-Me,0,0,Me,ue,0,0,0,0,1,0,0,0,0,1)}function Y(Ee,ye,ue){return!ue&&0!==ue&&(ue=1),1===Ee&&1===ye&&1===ue?this:this._t(Ee,0,0,0,0,ye,0,0,0,0,ue,0,0,0,0,1)}function ne(Ee,ye,ue,Me,ce,ge,Pe,Ie,Re,Ce,Fe,Ne,Le,Oe,Ue,ke){return this.props[0]=Ee,this.props[1]=ye,this.props[2]=ue,this.props[3]=Me,this.props[4]=ce,this.props[5]=ge,this.props[6]=Pe,this.props[7]=Ie,this.props[8]=Re,this.props[9]=Ce,this.props[10]=Fe,this.props[11]=Ne,this.props[12]=Le,this.props[13]=Oe,this.props[14]=Ue,this.props[15]=ke,this}function ae(Ee,ye,ue){return ue=ue||0,0!==Ee||0!==ye||0!==ue?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ee,ye,ue,1):this}function se(Ee,ye,ue,Me,ce,ge,Pe,Ie,Re,Ce,Fe,Ne,Le,Oe,Ue,ke){var Ye=this.props;if(1===Ee&&0===ye&&0===ue&&0===Me&&0===ce&&1===ge&&0===Pe&&0===Ie&&0===Re&&0===Ce&&1===Fe&&0===Ne)return Ye[12]=Ye[12]*Ee+Ye[15]*Le,Ye[13]=Ye[13]*ge+Ye[15]*Oe,Ye[14]=Ye[14]*Fe+Ye[15]*Ue,Ye[15]*=ke,this._identityCalculated=!1,this;var xe=Ye[0],We=Ye[1],Qe=Ye[2],lt=Ye[3],ve=Ye[4],Te=Ye[5],Be=Ye[6],Ge=Ye[7],$e=Ye[8],Xe=Ye[9],at=Ye[10],we=Ye[11],tt=Ye[12],pt=Ye[13],Pt=Ye[14],mt=Ye[15];return Ye[0]=xe*Ee+We*ce+Qe*Re+lt*Le,Ye[1]=xe*ye+We*ge+Qe*Ce+lt*Oe,Ye[2]=xe*ue+We*Pe+Qe*Fe+lt*Ue,Ye[3]=xe*Me+We*Ie+Qe*Ne+lt*ke,Ye[4]=ve*Ee+Te*ce+Be*Re+Ge*Le,Ye[5]=ve*ye+Te*ge+Be*Ce+Ge*Oe,Ye[6]=ve*ue+Te*Pe+Be*Fe+Ge*Ue,Ye[7]=ve*Me+Te*Ie+Be*Ne+Ge*ke,Ye[8]=$e*Ee+Xe*ce+at*Re+we*Le,Ye[9]=$e*ye+Xe*ge+at*Ce+we*Oe,Ye[10]=$e*ue+Xe*Pe+at*Fe+we*Ue,Ye[11]=$e*Me+Xe*Ie+at*Ne+we*ke,Ye[12]=tt*Ee+pt*ce+Pt*Re+mt*Le,Ye[13]=tt*ye+pt*ge+Pt*Ce+mt*Oe,Ye[14]=tt*ue+pt*Pe+Pt*Fe+mt*Ue,Ye[15]=tt*Me+pt*Ie+Pt*Ne+mt*ke,this._identityCalculated=!1,this}function ie(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function te(Ee){for(var ye=0;ye<16;){if(Ee.props[ye]!==this.props[ye])return!1;ye+=1}return!0}function Q(Ee){var ye;for(ye=0;ye<16;ye+=1)Ee.props[ye]=this.props[ye];return Ee}function V(Ee){var ye;for(ye=0;ye<16;ye+=1)this.props[ye]=Ee[ye]}function U(Ee,ye,ue){return{x:Ee*this.props[0]+ye*this.props[4]+ue*this.props[8]+this.props[12],y:Ee*this.props[1]+ye*this.props[5]+ue*this.props[9]+this.props[13],z:Ee*this.props[2]+ye*this.props[6]+ue*this.props[10]+this.props[14]}}function $(Ee,ye,ue){return Ee*this.props[0]+ye*this.props[4]+ue*this.props[8]+this.props[12]}function z(Ee,ye,ue){return Ee*this.props[1]+ye*this.props[5]+ue*this.props[9]+this.props[13]}function J(Ee,ye,ue){return Ee*this.props[2]+ye*this.props[6]+ue*this.props[10]+this.props[14]}function q(){var Ee=this.props[0]*this.props[5]-this.props[1]*this.props[4],ye=this.props[5]/Ee,ue=-this.props[1]/Ee,Me=-this.props[4]/Ee,ce=this.props[0]/Ee,ge=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ee,Pe=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ee,Ie=new Matrix;return Ie.props[0]=ye,Ie.props[1]=ue,Ie.props[4]=Me,Ie.props[5]=ce,Ie.props[12]=ge,Ie.props[13]=Pe,Ie}function oe(Ee){return this.getInverseMatrix().applyToPointArray(Ee[0],Ee[1],Ee[2]||0)}function pe(Ee){var ye,ue=Ee.length,Me=[];for(ye=0;ye<ue;ye+=1)Me[ye]=oe(Ee[ye]);return Me}function de(Ee,ye,ue){var Me=createTypedArray("float32",6);if(this.isIdentity())Me[0]=Ee[0],Me[1]=Ee[1],Me[2]=ye[0],Me[3]=ye[1],Me[4]=ue[0],Me[5]=ue[1];else{var ce=this.props[0],ge=this.props[1],Pe=this.props[4],Ie=this.props[5],Re=this.props[12],Ce=this.props[13];Me[0]=Ee[0]*ce+Ee[1]*Pe+Re,Me[1]=Ee[0]*ge+Ee[1]*Ie+Ce,Me[2]=ye[0]*ce+ye[1]*Pe+Re,Me[3]=ye[0]*ge+ye[1]*Ie+Ce,Me[4]=ue[0]*ce+ue[1]*Pe+Re,Me[5]=ue[0]*ge+ue[1]*Ie+Ce}return Me}function be(Ee,ye,ue){return this.isIdentity()?[Ee,ye,ue]:[Ee*this.props[0]+ye*this.props[4]+ue*this.props[8]+this.props[12],Ee*this.props[1]+ye*this.props[5]+ue*this.props[9]+this.props[13],Ee*this.props[2]+ye*this.props[6]+ue*this.props[10]+this.props[14]]}function me(Ee,ye){if(this.isIdentity())return Ee+","+ye;var ue=this.props;return Math.round(100*(Ee*ue[0]+ye*ue[4]+ue[12]))/100+","+Math.round(100*(Ee*ue[1]+ye*ue[5]+ue[13]))/100}function _e(){for(var Ee=0,ye=this.props,ue="matrix3d(";Ee<16;)ue+=w(1e4*ye[Ee])/1e4,ue+=15===Ee?")":",",Ee+=1;return ue}function le(Ee){return Ee<1e-6&&Ee>0||Ee>-1e-6&&Ee<0?w(1e4*Ee)/1e4:Ee}function fe(){var Ee=this.props;return"matrix("+le(Ee[0])+","+le(Ee[1])+","+le(Ee[4])+","+le(Ee[5])+","+le(Ee[12])+","+le(Ee[13])+")"}return function(){this.reset=O,this.rotate=W,this.rotateX=B,this.rotateY=k,this.rotateZ=re,this.skew=Z,this.skewFromAxis=G,this.shear=ee,this.scale=Y,this.setTransform=ne,this.translate=ae,this.transform=se,this.applyToPoint=U,this.applyToX=$,this.applyToY=z,this.applyToZ=J,this.applyToPointArray=be,this.applyToTriplePoints=de,this.applyToPointStringified=me,this.toCSS=_e,this.to2dCSS=fe,this.clone=Q,this.cloneFromProps=V,this.equals=te,this.inversePoints=pe,this.inversePoint=oe,this.getInverseMatrix=q,this._t=this.transform,this.isIdentity=ie,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(j){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(j){setLocationHref(j)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(j){setSubframeEnabled(j)}function setPrefix(j){setIdPrefix(j)}function loadAnimation(j){return!0===standalone&&(j.animationData=JSON.parse(animationData)),animationManager.loadAnimation(j)}function setQuality(j){if("string"==typeof j)switch(j){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(j)&&j>1&&setDefaultCurveSegments(j);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(j,F){"expressions"===j&&setExpressionsPlugin(F)}function getFactory(j){switch(j){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(j){for(var F=queryString.split("&"),T=0;T<F.length;T+=1){var w=F[T].split("=");if(decodeURIComponent(w[0])==j)return decodeURIComponent(w[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(j){}var ShapeModifiers=function(){var j={},F={};return j.registerModifier=function T(O,W){F[O]||(F[O]=W)},j.getModifier=function w(O,W,B){return new F[O](W,B)},j}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(j){if(!this.closed){j.sh.container.addDynamicProperty(j.sh);var F={shape:j.sh,data:j,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(F),this.addShapeToModifier(F),this._isAnimated&&j.setAsAnimated()}},ShapeModifier.prototype.init=function(j,F){this.shapes=[],this.elem=j,this.initDynamicPropertyContainer(j),this.initModifierProperties(j,F),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(j,F){this.s=PropertyFactory.getProp(j,F.s,0,.01,this),this.e=PropertyFactory.getProp(j,F.e,0,.01,this),this.o=PropertyFactory.getProp(j,F.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=F.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(j){j.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(j,F,T,w,O){var W=[];F<=1?W.push({s:j,e:F}):j>=1?W.push({s:j-1,e:F-1}):(W.push({s:j,e:1}),W.push({s:0,e:F-1}));var k,ee,B=[],re=W.length;for(k=0;k<re;k+=1)(ee=W[k]).e*O<w||ee.s*O>w+T||B.push([ee.s*O<=w?0:(ee.s*O-w)/T,ee.e*O>=w+T?1:(ee.e*O-w)/T]);return B.length||B.push([0,0]),B},TrimModifier.prototype.releasePathsData=function(j){var F,T=j.length;for(F=0;F<T;F+=1)segmentsLengthPool.release(j[F]);return j.length=0,j},TrimModifier.prototype.processShapes=function(j){var F,T;if(this._mdf||j){var w=this.o.v%360/360;if(w<0&&(w+=1),(F=this.s.v>1?1+w:this.s.v<0?0+w:this.s.v+w)>(T=this.e.v>1?1+w:this.e.v<0?0+w:this.e.v+w)){var O=F;F=T,T=O}F=1e-4*Math.round(1e4*F),T=1e-4*Math.round(1e4*T),this.sValue=F,this.eValue=T}else F=this.sValue,T=this.eValue;var W,B,re,ee,Z,G,Y,k=this.shapes.length,ne=0;if(T===F)for(B=0;B<k;B+=1)this.shapes[B].localShapeCollection.releaseShapes(),this.shapes[B].shape._mdf=!0,this.shapes[B].shape.paths=this.shapes[B].localShapeCollection,this._mdf&&(this.shapes[B].pathsData.length=0);else if(1===T&&0===F||0===T&&1===F){if(this._mdf)for(B=0;B<k;B+=1)this.shapes[B].pathsData.length=0,this.shapes[B].shape._mdf=!0}else{var se,ie,ae=[];for(B=0;B<k;B+=1)if((se=this.shapes[B]).shape._mdf||this._mdf||j||2===this.m){if(ee=(W=se.shape.paths)._length,Y=0,!se.shape._mdf&&se.pathsData.length)Y=se.totalShapeLength;else{for(Z=this.releasePathsData(se.pathsData),re=0;re<ee;re+=1)G=bez.getSegmentsLength(W.shapes[re]),Z.push(G),Y+=G.totalLength;se.totalShapeLength=Y,se.pathsData=Z}ne+=Y,se.shape._mdf=!0}else se.shape.paths=se.localShapeCollection;var U,te=F,Q=T,V=0;for(B=k-1;B>=0;B-=1)if((se=this.shapes[B]).shape._mdf){for((ie=se.localShapeCollection).releaseShapes(),2===this.m&&k>1?(U=this.calculateShapeEdges(F,T,se.totalShapeLength,V,ne),V+=se.totalShapeLength):U=[[te,Q]],ee=U.length,re=0;re<ee;re+=1){te=U[re][0],Q=U[re][1],ae.length=0,Q<=1?ae.push({s:se.totalShapeLength*te,e:se.totalShapeLength*Q}):te>=1?ae.push({s:se.totalShapeLength*(te-1),e:se.totalShapeLength*(Q-1)}):(ae.push({s:se.totalShapeLength*te,e:se.totalShapeLength}),ae.push({s:0,e:se.totalShapeLength*(Q-1)}));var $=this.addShapes(se,ae[0]);if(ae[0].s!==ae[0].e){if(ae.length>1)if(se.shape.paths.shapes[se.shape.paths._length-1].c){var J=$.pop();this.addPaths($,ie),$=this.addShapes(se,ae[1],J)}else this.addPaths($,ie),$=this.addShapes(se,ae[1]);this.addPaths($,ie)}}se.shape.paths=ie}}},TrimModifier.prototype.addPaths=function(j,F){var T,w=j.length;for(T=0;T<w;T+=1)F.addShape(j[T])},TrimModifier.prototype.addSegment=function(j,F,T,w,O,W,B){O.setXYAt(F[0],F[1],"o",W),O.setXYAt(T[0],T[1],"i",W+1),B&&O.setXYAt(j[0],j[1],"v",W),O.setXYAt(w[0],w[1],"v",W+1)},TrimModifier.prototype.addSegmentFromArray=function(j,F,T,w){F.setXYAt(j[1],j[5],"o",T),F.setXYAt(j[2],j[6],"i",T+1),w&&F.setXYAt(j[0],j[4],"v",T),F.setXYAt(j[3],j[7],"v",T+1)},TrimModifier.prototype.addShapes=function(j,F,T){var W,k,re,Z,G,Y,ne,se,w=j.pathsData,O=j.shape.paths.shapes,B=j.shape.paths._length,ee=0,ae=[],ie=!0;for(T?(G=T._length,se=T._length):(T=shapePool.newElement(),G=0,se=0),ae.push(T),W=0;W<B;W+=1){for(Y=w[W].lengths,T.c=O[W].c,re=O[W].c?Y.length:Y.length+1,k=1;k<re;k+=1)if(ee+(Z=Y[k-1]).addedLength<F.s)ee+=Z.addedLength,T.c=!1;else{if(ee>F.e){T.c=!1;break}F.s<=ee&&F.e>=ee+Z.addedLength?(this.addSegment(O[W].v[k-1],O[W].o[k-1],O[W].i[k],O[W].v[k],T,G,ie),ie=!1):(ne=bez.getNewSegment(O[W].v[k-1],O[W].v[k],O[W].o[k-1],O[W].i[k],(F.s-ee)/Z.addedLength,(F.e-ee)/Z.addedLength,Y[k-1]),this.addSegmentFromArray(ne,T,G,ie),ie=!1,T.c=!1),ee+=Z.addedLength,G+=1}if(O[W].c&&Y.length){if(Z=Y[k-1],ee<=F.e){var te=Y[k-1].addedLength;F.s<=ee&&F.e>=ee+te?(this.addSegment(O[W].v[k-1],O[W].o[k-1],O[W].i[0],O[W].v[0],T,G,ie),ie=!1):(ne=bez.getNewSegment(O[W].v[k-1],O[W].v[0],O[W].o[k-1],O[W].i[0],(F.s-ee)/te,(F.e-ee)/te,Y[k-1]),this.addSegmentFromArray(ne,T,G,ie),ie=!1,T.c=!1)}else T.c=!1;ee+=Z.addedLength,G+=1}if(T._length&&(T.setXYAt(T.v[se][0],T.v[se][1],"i",se),T.setXYAt(T.v[T._length-1][0],T.v[T._length-1][1],"o",T._length-1)),ee>F.e)break;W<B-1&&(T=shapePool.newElement(),ie=!0,ae.push(T),G=0)}return ae},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(j,F){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(j,F.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(j,F){var T=F/100,w=[0,0],O=j._length,W=0;for(W=0;W<O;W+=1)w[0]+=j.v[W][0],w[1]+=j.v[W][1];w[0]/=O,w[1]/=O;var B=shapePool.newElement();for(B.c=j.c,W=0;W<O;W+=1)B.setTripleAt(j.v[W][0]+(w[0]-j.v[W][0])*T,j.v[W][1]+(w[1]-j.v[W][1])*T,j.o[W][0]+(w[0]-j.o[W][0])*-T,j.o[W][1]+(w[1]-j.o[W][1])*-T,j.i[W][0]+(w[0]-j.i[W][0])*-T,j.i[W][1]+(w[1]-j.i[W][1])*-T,W);return B},PuckerAndBloatModifier.prototype.processShapes=function(j){var F,T,O,W,k,re,w=this.shapes.length,B=this.amount.v;if(0!==B)for(T=0;T<w;T+=1){if(re=(k=this.shapes[T]).localShapeCollection,k.shape._mdf||this._mdf||j)for(re.releaseShapes(),k.shape._mdf=!0,F=k.shape.paths.shapes,W=k.shape.paths._length,O=0;O<W;O+=1)re.addShape(this.processPath(F[O],B));k.shape.paths=k.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var j=[0,0];function B(re,ee,Z){if(this.elem=re,this.frameId=-1,this.propType="transform",this.data=ee,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Z||re),ee.p&&ee.p.s?(this.px=PropertyFactory.getProp(re,ee.p.x,0,0,this),this.py=PropertyFactory.getProp(re,ee.p.y,0,0,this),ee.p.z&&(this.pz=PropertyFactory.getProp(re,ee.p.z,0,0,this))):this.p=PropertyFactory.getProp(re,ee.p||{k:[0,0,0]},1,0,this),ee.rx){if(this.rx=PropertyFactory.getProp(re,ee.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(re,ee.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(re,ee.rz,0,degToRads,this),ee.or.k[0].ti){var G,Y=ee.or.k.length;for(G=0;G<Y;G+=1)ee.or.k[G].to=null,ee.or.k[G].ti=null}this.or=PropertyFactory.getProp(re,ee.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(re,ee.r||{k:0},0,degToRads,this);ee.sk&&(this.sk=PropertyFactory.getProp(re,ee.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(re,ee.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(re,ee.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(re,ee.s||{k:[100,100,100]},1,.01,this),this.o=ee.o?PropertyFactory.getProp(re,ee.o,0,.01,re):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return B.prototype={applyToMatrix:function F(re){var ee=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ee,this.a&&re.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&re.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&re.skewFromAxis(-this.sk.v,this.sa.v),this.r?re.rotate(-this.r.v):re.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?re.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):re.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function T(re){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||re){var ee;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Z,G;if(ee=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Z=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ee,0),G=this.p.getValueAtTime(this.p.keyframes[0].t/ee,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Z=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ee,0),G=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ee,0)):(Z=this.p.pv,G=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ee,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Z=[],G=[];var Y=this.px,ne=this.py;Y._caching.lastFrame+Y.offsetTime<=Y.keyframes[0].t?(Z[0]=Y.getValueAtTime((Y.keyframes[0].t+.01)/ee,0),Z[1]=ne.getValueAtTime((ne.keyframes[0].t+.01)/ee,0),G[0]=Y.getValueAtTime(Y.keyframes[0].t/ee,0),G[1]=ne.getValueAtTime(ne.keyframes[0].t/ee,0)):Y._caching.lastFrame+Y.offsetTime>=Y.keyframes[Y.keyframes.length-1].t?(Z[0]=Y.getValueAtTime(Y.keyframes[Y.keyframes.length-1].t/ee,0),Z[1]=ne.getValueAtTime(ne.keyframes[ne.keyframes.length-1].t/ee,0),G[0]=Y.getValueAtTime((Y.keyframes[Y.keyframes.length-1].t-.01)/ee,0),G[1]=ne.getValueAtTime((ne.keyframes[ne.keyframes.length-1].t-.01)/ee,0)):(Z=[Y.pv,ne.pv],G[0]=Y.getValueAtTime((Y._caching.lastFrame+Y.offsetTime-.01)/ee,Y.offsetTime),G[1]=ne.getValueAtTime((ne._caching.lastFrame+ne.offsetTime-.01)/ee,ne.offsetTime))}else Z=G=j;this.v.rotate(-Math.atan2(Z[1]-G[1],Z[0]-G[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function w(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function O(){}},extendPrototype([DynamicPropertyContainer],B),B.prototype.addDynamicProperty=function W(re){this._addDynamicProperty(re),this.elem.addDynamicProperty(re),this._isDirty=!0},B.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function k(re,ee,Z){return new B(re,ee,Z)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(j,F){return 1e5*Math.abs(j-F)<=Math.min(Math.abs(j),Math.abs(F))}function floatZero(j){return Math.abs(j)<=1e-5}function lerp(j,F,T){return j*(1-T)+F*T}function lerpPoint(j,F,T){return[lerp(j[0],F[0],T),lerp(j[1],F[1],T)]}function quadRoots(j,F,T){if(0===j)return[];var w=F*F-4*j*T;if(w<0)return[];var O=-F/(2*j);if(0===w)return[O];var W=Math.sqrt(w)/(2*j);return[O-W,O+W]}function polynomialCoefficients(j,F,T,w){return[3*F-j-3*T+w,3*j-6*F+3*T,-3*j+3*F,j]}function singlePoint(j){return new PolynomialBezier(j,j,j,j,!1)}function PolynomialBezier(j,F,T,w,O){O&&pointEqual(j,F)&&(F=lerpPoint(j,w,1/3)),O&&pointEqual(T,w)&&(T=lerpPoint(j,w,2/3));var W=polynomialCoefficients(j[0],F[0],T[0],w[0]),B=polynomialCoefficients(j[1],F[1],T[1],w[1]);this.a=[W[0],B[0]],this.b=[W[1],B[1]],this.c=[W[2],B[2]],this.d=[W[3],B[3]],this.points=[j,F,T,w]}function extrema(j,F){var T=j.points[0][F],w=j.points[j.points.length-1][F];if(T>w){var O=w;w=T,T=O}for(var W=quadRoots(3*j.a[F],2*j.b[F],j.c[F]),B=0;B<W.length;B+=1)if(W[B]>0&&W[B]<1){var k=j.point(W[B])[F];k<T?T=k:k>w&&(w=k)}return{min:T,max:w}}function intersectData(j,F,T){var w=j.boundingBox();return{cx:w.cx,cy:w.cy,width:w.width,height:w.height,bez:j,t:(F+T)/2,t1:F,t2:T}}function splitData(j){var F=j.bez.split(.5);return[intersectData(F[0],j.t1,j.t),intersectData(F[1],j.t,j.t2)]}function boxIntersect(j,F){return 2*Math.abs(j.cx-F.cx)<j.width+F.width&&2*Math.abs(j.cy-F.cy)<j.height+F.height}function intersectsImpl(j,F,T,w,O,W){if(boxIntersect(j,F)){if(T>=W||j.width<=w&&j.height<=w&&F.width<=w&&F.height<=w)return void O.push([j.t,F.t]);var B=splitData(j),k=splitData(F);intersectsImpl(B[0],k[0],T+1,w,O,W),intersectsImpl(B[0],k[1],T+1,w,O,W),intersectsImpl(B[1],k[0],T+1,w,O,W),intersectsImpl(B[1],k[1],T+1,w,O,W)}}function crossProduct(j,F){return[j[1]*F[2]-j[2]*F[1],j[2]*F[0]-j[0]*F[2],j[0]*F[1]-j[1]*F[0]]}function lineIntersection(j,F,T,w){var B=[T[0],T[1],1],k=[w[0],w[1],1],re=crossProduct(crossProduct([j[0],j[1],1],[F[0],F[1],1]),crossProduct(B,k));return floatZero(re[2])?null:[re[0]/re[2],re[1]/re[2]]}function polarOffset(j,F,T){return[j[0]+Math.cos(F)*T,j[1]-Math.sin(F)*T]}function pointDistance(j,F){return Math.hypot(j[0]-F[0],j[1]-F[1])}function pointEqual(j,F){return floatEqual(j[0],F[0])&&floatEqual(j[1],F[1])}function ZigZagModifier(){}function setPoint(j,F,T,w,O,W,B){var k=T-Math.PI/2,re=T+Math.PI/2,ee=F[0]+Math.cos(T)*w*O,Z=F[1]-Math.sin(T)*w*O;j.setTripleAt(ee,Z,ee+Math.cos(k)*W,Z-Math.sin(k)*W,ee+Math.cos(re)*B,Z-Math.sin(re)*B,j.length())}function getPerpendicularVector(j,F){var T=[F[0]-j[0],F[1]-j[1]],w=.5*-Math.PI;return[Math.cos(w)*T[0]-Math.sin(w)*T[1],Math.sin(w)*T[0]+Math.cos(w)*T[1]]}function getProjectingAngle(j,F){var T=0===F?j.length()-1:F-1,w=(F+1)%j.length(),B=getPerpendicularVector(j.v[T],j.v[w]);return Math.atan2(0,1)-Math.atan2(B[1],B[0])}function zigZagCorner(j,F,T,w,O,W,B){var k=getProjectingAngle(F,T),re=F.v[T%F._length],ee=F.v[0===T?F._length-1:T-1],Z=F.v[(T+1)%F._length],G=2===W?Math.sqrt(Math.pow(re[0]-ee[0],2)+Math.pow(re[1]-ee[1],2)):0,Y=2===W?Math.sqrt(Math.pow(re[0]-Z[0],2)+Math.pow(re[1]-Z[1],2)):0;setPoint(j,F.v[T%F._length],k,B,w,Y/(2*(O+1)),G/(2*(O+1)),W)}function zigZagSegment(j,F,T,w,O,W){for(var B=0;B<w;B+=1){var k=(B+1)/(w+1),re=2===O?Math.sqrt(Math.pow(F.points[3][0]-F.points[0][0],2)+Math.pow(F.points[3][1]-F.points[0][1],2)):0,ee=F.normalAngle(k);setPoint(j,F.point(k),ee,W,T,re/(2*(w+1)),re/(2*(w+1)),O),W=-W}return W}function linearOffset(j,F,T){var w=Math.atan2(F[0]-j[0],F[1]-j[1]);return[polarOffset(j,w,T),polarOffset(F,w,T)]}function offsetSegment(j,F){var T,w,O,W,B,k,re;T=(re=linearOffset(j.points[0],j.points[1],F))[0],w=re[1],O=(re=linearOffset(j.points[1],j.points[2],F))[0],W=re[1],B=(re=linearOffset(j.points[2],j.points[3],F))[0],k=re[1];var ee=lineIntersection(T,w,O,W);null===ee&&(ee=w);var Z=lineIntersection(B,k,O,W);return null===Z&&(Z=B),new PolynomialBezier(T,ee,Z,k)}function joinLines(j,F,T,w,O){var W=F.points[3],B=T.points[0];if(3===w||pointEqual(W,B))return W;if(2===w){var k=-F.tangentAngle(1),re=-T.tangentAngle(0)+Math.PI,ee=lineIntersection(W,polarOffset(W,k+Math.PI/2,100),B,polarOffset(B,k+Math.PI/2,100)),Z=ee?pointDistance(ee,W):pointDistance(W,B)/2,G=polarOffset(W,k,2*Z*roundCorner);return j.setXYAt(G[0],G[1],"o",j.length()-1),G=polarOffset(B,re,2*Z*roundCorner),j.setTripleAt(B[0],B[1],B[0],B[1],G[0],G[1],j.length()),B}var ae=lineIntersection(pointEqual(W,F.points[2])?F.points[0]:F.points[2],W,B,pointEqual(B,T.points[1])?T.points[3]:T.points[1]);return ae&&pointDistance(ae,W)<O?(j.setTripleAt(ae[0],ae[1],ae[0],ae[1],ae[0],ae[1],j.length()),ae):W}function getIntersection(j,F){var T=j.intersections(F);return T.length&&floatEqual(T[0][0],1)&&T.shift(),T.length?T[0]:null}function pruneSegmentIntersection(j,F){var T=j.slice(),w=F.slice(),O=getIntersection(j[j.length-1],F[0]);return O&&(T[j.length-1]=j[j.length-1].split(O[0])[0],w[0]=F[0].split(O[1])[1]),j.length>1&&F.length>1&&(O=getIntersection(j[0],F[F.length-1]))?[[j[0].split(O[0])[0]],[F[F.length-1].split(O[1])[1]]]:[T,w]}function pruneIntersections(j){for(var F,T=1;T<j.length;T+=1)F=pruneSegmentIntersection(j[T-1],j[T]),j[T-1]=F[0],j[T]=F[1];return j.length>1&&(F=pruneSegmentIntersection(j[j.length-1],j[0]),j[j.length-1]=F[0],j[0]=F[1]),j}function offsetSegmentSplit(j,F){var w,O,W,B,T=j.inflectionPoints();return 0===T.length?[offsetSegment(j,F)]:1===T.length||floatEqual(T[1],1)?(O=(W=j.split(T[0]))[1],[offsetSegment(w=W[0],F),offsetSegment(O,F)]):(w=(W=j.split(T[0]))[0],B=(W=W[1].split((T[1]-T[0])/(1-T[0])))[0],O=W[1],[offsetSegment(w,F),offsetSegment(B,F),offsetSegment(O,F)])}function OffsetPathModifier(){}function getFontProperties(j){for(var W,F=j.fStyle?j.fStyle.split(" "):[],T="normal",w="normal",O=F.length,B=0;B<O;B+=1)switch(W=F[B].toLowerCase(),W){case"italic":w="italic";break;case"bold":T="700";break;case"black":T="900";break;case"medium":T="500";break;case"regular":case"normal":T="400";break;case"light":case"thin":T="200"}return{style:w,weight:j.fWeight||T}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(j,F){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(j,F.c,0,null,this),this.o=PropertyFactory.getProp(j,F.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(j,F.tr,this),this.so=PropertyFactory.getProp(j,F.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(j,F.tr.eo,0,.01,this),this.data=F,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(j,F,T,w,O,W){var B=W?-1:1,k=w.s.v[0]+(1-w.s.v[0])*(1-O),re=w.s.v[1]+(1-w.s.v[1])*(1-O);j.translate(w.p.v[0]*B*O,w.p.v[1]*B*O,w.p.v[2]),F.translate(-w.a.v[0],-w.a.v[1],w.a.v[2]),F.rotate(-w.r.v*B*O),F.translate(w.a.v[0],w.a.v[1],w.a.v[2]),T.translate(-w.a.v[0],-w.a.v[1],w.a.v[2]),T.scale(W?1/k:k,W?1/re:re),T.translate(w.a.v[0],w.a.v[1],w.a.v[2])},RepeaterModifier.prototype.init=function(j,F,T,w){for(this.elem=j,this.arr=F,this.pos=T,this.elemsData=w,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(j),this.initModifierProperties(j,F[T]);T>0;)this._elements.unshift(F[T-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(j){var F,T=j.length;for(F=0;F<T;F+=1)j[F]._processed=!1,"gr"===j[F].ty&&this.resetElements(j[F].it)},RepeaterModifier.prototype.cloneElements=function(j){var F=JSON.parse(JSON.stringify(j));return this.resetElements(F),F},RepeaterModifier.prototype.changeGroupRender=function(j,F){var T,w=j.length;for(T=0;T<w;T+=1)j[T]._render=F,"gr"===j[T].ty&&this.changeGroupRender(j[T].it,F)},RepeaterModifier.prototype.processShapes=function(j){var F,T,w,O,W,B=!1;if(this._mdf||j){var ee,k=Math.ceil(this.c.v);if(this._groups.length<k){for(;this._groups.length<k;){var re={it:this.cloneElements(this._elements),ty:"gr"};re.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,re),this._groups.splice(0,0,re),this._currentCopies+=1}this.elem.reloadShapes(),B=!0}for(W=0,w=0;w<=this._groups.length-1;w+=1){if(this._groups[w]._render=ee=W<k,this.changeGroupRender(this._groups[w].it,ee),!ee){var Z=this.elemsData[w].it,G=Z[Z.length-1];0!==G.transform.op.v?(G.transform.op._mdf=!0,G.transform.op.v=0):G.transform.op._mdf=!1}W+=1}this._currentCopies=k;var Y=this.o.v,ne=Y%1,ae=Y>0?Math.floor(Y):Math.ceil(Y),se=this.pMatrix.props,ie=this.rMatrix.props,te=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var V,U,Q=0;if(Y>0){for(;Q<ae;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Q+=1;ne&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ne,!1),Q+=ne)}else if(Y<0){for(;Q>ae;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Q-=1;ne&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ne,!0),Q-=ne)}for(w=1===this.data.m?0:this._currentCopies-1,O=1===this.data.m?1:-1,W=this._currentCopies;W;){if(U=(T=(F=this.elemsData[w].it)[F.length-1].transform.mProps.v.props).length,F[F.length-1].transform.mProps._mdf=!0,F[F.length-1].transform.op._mdf=!0,F[F.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+w/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==Q){for((0!==w&&1===O||w!==this._currentCopies-1&&-1===O)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5],ie[6],ie[7],ie[8],ie[9],ie[10],ie[11],ie[12],ie[13],ie[14],ie[15]),this.matrix.transform(te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15]),this.matrix.transform(se[0],se[1],se[2],se[3],se[4],se[5],se[6],se[7],se[8],se[9],se[10],se[11],se[12],se[13],se[14],se[15]),V=0;V<U;V+=1)T[V]=this.matrix.props[V];this.matrix.reset()}else for(this.matrix.reset(),V=0;V<U;V+=1)T[V]=this.matrix.props[V];Q+=1,W-=1,w+=O}}else for(W=this._currentCopies,w=0,O=1;W;)T=(F=this.elemsData[w].it)[F.length-1].transform.mProps.v.props,F[F.length-1].transform.mProps._mdf=!1,F[F.length-1].transform.op._mdf=!1,W-=1,w+=O;return B},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(j,F){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(j,F.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(j,F){var T=shapePool.newElement();T.c=j.c;var w,W,B,k,re,ee,Z,Y,ne,ae,se,ie,te,O=j._length,G=0;for(w=0;w<O;w+=1)B=j.i[w],(W=j.v[w])[0]===(k=j.o[w])[0]&&W[1]===k[1]&&W[0]===B[0]&&W[1]===B[1]?0!==w&&w!==O-1||j.c?(re=0===w?j.v[O-1]:j.v[w-1],Z=(ee=Math.sqrt(Math.pow(W[0]-re[0],2)+Math.pow(W[1]-re[1],2)))?Math.min(ee/2,F)/ee:0,T.setTripleAt(Y=ie=W[0]+(re[0]-W[0])*Z,ne=te=W[1]-(W[1]-re[1])*Z,Y-(Y-W[0])*roundCorner,ne-(ne-W[1])*roundCorner,ie,te,G),G+=1,re=w===O-1?j.v[0]:j.v[w+1],Z=(ee=Math.sqrt(Math.pow(W[0]-re[0],2)+Math.pow(W[1]-re[1],2)))?Math.min(ee/2,F)/ee:0,T.setTripleAt(Y=ae=W[0]+(re[0]-W[0])*Z,ne=se=W[1]+(re[1]-W[1])*Z,ae,se,ie=Y-(Y-W[0])*roundCorner,te=ne-(ne-W[1])*roundCorner,G),G+=1):(T.setTripleAt(W[0],W[1],k[0],k[1],B[0],B[1],G),G+=1):(T.setTripleAt(j.v[w][0],j.v[w][1],j.o[w][0],j.o[w][1],j.i[w][0],j.i[w][1],G),G+=1);return T},RoundCornersModifier.prototype.processShapes=function(j){var F,T,O,W,k,re,w=this.shapes.length,B=this.rd.v;if(0!==B)for(T=0;T<w;T+=1){if(re=(k=this.shapes[T]).localShapeCollection,k.shape._mdf||this._mdf||j)for(re.releaseShapes(),k.shape._mdf=!0,F=k.shape.paths.shapes,W=k.shape.paths._length,O=0;O<W;O+=1)re.addShape(this.processPath(F[O],B));k.shape.paths=k.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(j){return[((this.a[0]*j+this.b[0])*j+this.c[0])*j+this.d[0],((this.a[1]*j+this.b[1])*j+this.c[1])*j+this.d[1]]},PolynomialBezier.prototype.derivative=function(j){return[(3*j*this.a[0]+2*this.b[0])*j+this.c[0],(3*j*this.a[1]+2*this.b[1])*j+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(j){var F=this.derivative(j);return Math.atan2(F[1],F[0])},PolynomialBezier.prototype.normalAngle=function(j){var F=this.derivative(j);return Math.atan2(F[0],F[1])},PolynomialBezier.prototype.inflectionPoints=function(){var j=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(j))return[];var F=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/j,T=F*F-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/j;if(T<0)return[];var w=Math.sqrt(T);return floatZero(w)?w>0&&w<1?[F]:[]:[F-w,F+w].filter(function(O){return O>0&&O<1})},PolynomialBezier.prototype.split=function(j){if(j<=0)return[singlePoint(this.points[0]),this];if(j>=1)return[this,singlePoint(this.points[this.points.length-1])];var F=lerpPoint(this.points[0],this.points[1],j),T=lerpPoint(this.points[1],this.points[2],j),w=lerpPoint(this.points[2],this.points[3],j),O=lerpPoint(F,T,j),W=lerpPoint(T,w,j),B=lerpPoint(O,W,j);return[new PolynomialBezier(this.points[0],F,O,B,!0),new PolynomialBezier(B,W,w,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var j=this.bounds();return{left:j.x.min,right:j.x.max,top:j.y.min,bottom:j.y.max,width:j.x.max-j.x.min,height:j.y.max-j.y.min,cx:(j.x.max+j.x.min)/2,cy:(j.y.max+j.y.min)/2}},PolynomialBezier.prototype.intersections=function(j,F,T){void 0===F&&(F=2),void 0===T&&(T=7);var w=[];return intersectsImpl(intersectData(this,0,1),intersectData(j,0,1),0,F,w,T),w},PolynomialBezier.shapeSegment=function(j,F){var T=(F+1)%j.length();return new PolynomialBezier(j.v[F],j.o[F],j.i[T],j.v[T],!0)},PolynomialBezier.shapeSegmentInverted=function(j,F){var T=(F+1)%j.length();return new PolynomialBezier(j.v[T],j.i[T],j.o[F],j.v[F],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(j,F){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(j,F.s,0,null,this),this.frequency=PropertyFactory.getProp(j,F.r,0,null,this),this.pointsType=PropertyFactory.getProp(j,F.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(j,F,T,w){var O=j._length,W=shapePool.newElement();if(W.c=j.c,j.c||(O-=1),0===O)return W;var B=-1,k=PolynomialBezier.shapeSegment(j,0);zigZagCorner(W,j,0,F,T,w,B);for(var re=0;re<O;re+=1)B=zigZagSegment(W,k,F,T,w,-B),k=re!==O-1||j.c?PolynomialBezier.shapeSegment(j,(re+1)%O):null,zigZagCorner(W,j,re+1,F,T,w,B);return W},ZigZagModifier.prototype.processShapes=function(j){var F,T,O,W,ee,Z,w=this.shapes.length,B=this.amplitude.v,k=Math.max(0,Math.round(this.frequency.v)),re=this.pointsType.v;if(0!==B)for(T=0;T<w;T+=1){if(Z=(ee=this.shapes[T]).localShapeCollection,ee.shape._mdf||this._mdf||j)for(Z.releaseShapes(),ee.shape._mdf=!0,F=ee.shape.paths.shapes,W=ee.shape.paths._length,O=0;O<W;O+=1)Z.addShape(this.processPath(F[O],B,k,re));ee.shape.paths=ee.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(j,F){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(j,F.a,0,null,this),this.miterLimit=PropertyFactory.getProp(j,F.ml,0,null,this),this.lineJoin=F.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(j,F,T,w){var O=shapePool.newElement();O.c=j.c;var W=j.length();j.c||(W-=1);var B,k,re,ee=[];for(B=0;B<W;B+=1)re=PolynomialBezier.shapeSegment(j,B),ee.push(offsetSegmentSplit(re,F));if(!j.c)for(B=W-1;B>=0;B-=1)re=PolynomialBezier.shapeSegmentInverted(j,B),ee.push(offsetSegmentSplit(re,F));ee=pruneIntersections(ee);var Z=null,G=null;for(B=0;B<ee.length;B+=1){var Y=ee[B];for(G&&(Z=joinLines(O,G,Y[0],T,w)),G=Y[Y.length-1],k=0;k<Y.length;k+=1)re=Y[k],Z&&pointEqual(re.points[0],Z)?O.setXYAt(re.points[1][0],re.points[1][1],"o",O.length()-1):O.setTripleAt(re.points[0][0],re.points[0][1],re.points[1][0],re.points[1][1],re.points[0][0],re.points[0][1],O.length()),O.setTripleAt(re.points[3][0],re.points[3][1],re.points[3][0],re.points[3][1],re.points[2][0],re.points[2][1],O.length()),Z=re.points[3]}return ee.length&&joinLines(O,G,ee[0][0],T,w),O},OffsetPathModifier.prototype.processShapes=function(j){var F,T,O,W,ee,Z,w=this.shapes.length,B=this.amount.v,k=this.miterLimit.v,re=this.lineJoin;if(0!==B)for(T=0;T<w;T+=1){if(Z=(ee=this.shapes[T]).localShapeCollection,ee.shape._mdf||this._mdf||j)for(Z.releaseShapes(),ee.shape._mdf=!0,F=ee.shape.paths.shapes,W=ee.shape.paths._length,O=0;O<W;O+=1)Z.addShape(this.processPath(F[O],B,re,k));ee.shape.paths=ee.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var F={w:0,size:0,shapes:[],data:{shapes:[]}},T=[];T=T.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var w=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],O=[65039,8205];function B(U,$){var z=createTag("span");z.setAttribute("aria-hidden",!0),z.style.fontFamily=$;var J=createTag("span");J.innerText="giItT1WQy@!-/#",z.style.position="absolute",z.style.left="-10000px",z.style.top="-10000px",z.style.fontSize="300px",z.style.fontVariant="normal",z.style.fontStyle="normal",z.style.fontWeight="normal",z.style.letterSpacing="0",z.appendChild(J),document.body.appendChild(z);var q=J.offsetWidth;return J.style.fontFamily=function W(U){var z,$=U.split(","),J=$.length,q=[];for(z=0;z<J;z+=1)"sans-serif"!==$[z]&&"monospace"!==$[z]&&q.push($[z]);return q.join(",")}(U)+", "+$,{node:J,w:q,parent:z}}function re(U,$){var J,z=document.body&&$?"svg":"canvas",q=getFontProperties(U);if("svg"===z){var oe=createNS("text");oe.style.fontSize="100px",oe.setAttribute("font-family",U.fFamily),oe.setAttribute("font-style",q.style),oe.setAttribute("font-weight",q.weight),oe.textContent="1",U.fClass?(oe.style.fontFamily="inherit",oe.setAttribute("class",U.fClass)):oe.style.fontFamily=U.fFamily,$.appendChild(oe),J=oe}else{var pe=new OffscreenCanvas(500,500).getContext("2d");pe.font=q.style+" "+q.weight+" 100px "+U.fFamily,J=pe}return{measureText:function de(be){return"svg"===z?(J.textContent=be,J.getComputedTextLength()):J.measureText(be).width}}}var Q=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return Q.isModifier=function ae(U,$){var z=U.toString(16)+$.toString(16);return-1!==w.indexOf(z)},Q.isZeroWidthJoiner=function se(U,$){return $?U===O[0]&&$===O[1]:U===O[1]},Q.isCombinedCharacter=function ie(U){return-1!==T.indexOf(U)},Q.prototype={addChars:function Z(U){if(U){this.chars||(this.chars=[]);var $,J,oe,z=U.length,q=this.chars.length;for($=0;$<z;$+=1){for(J=0,oe=!1;J<q;)this.chars[J].style===U[$].style&&this.chars[J].fFamily===U[$].fFamily&&this.chars[J].ch===U[$].ch&&(oe=!0),J+=1;oe||(this.chars.push(U[$]),q+=1)}}},addFonts:function ee(U,$){if(U){if(this.chars)return this.isLoaded=!0,void(this.fonts=U.list);if(!document.body)return this.isLoaded=!0,U.list.forEach(function(fe){fe.helper=re(fe),fe.cache={}}),void(this.fonts=U.list);var J,z=U.list,q=z.length,oe=q;for(J=0;J<q;J+=1){var de,be,pe=!0;if(z[J].loaded=!1,z[J].monoCase=B(z[J].fFamily,"monospace"),z[J].sansCase=B(z[J].fFamily,"sans-serif"),z[J].fPath){if("p"===z[J].fOrigin||3===z[J].origin){if((de=document.querySelectorAll('style[f-forigin="p"][f-family="'+z[J].fFamily+'"], style[f-origin="3"][f-family="'+z[J].fFamily+'"]')).length>0&&(pe=!1),pe){var me=createTag("style");me.setAttribute("f-forigin",z[J].fOrigin),me.setAttribute("f-origin",z[J].origin),me.setAttribute("f-family",z[J].fFamily),me.type="text/css",me.innerText="@font-face {font-family: "+z[J].fFamily+"; font-style: normal; src: url('"+z[J].fPath+"');}",$.appendChild(me)}}else if("g"===z[J].fOrigin||1===z[J].origin){for(de=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),be=0;be<de.length;be+=1)-1!==de[be].href.indexOf(z[J].fPath)&&(pe=!1);if(pe){var _e=createTag("link");_e.setAttribute("f-forigin",z[J].fOrigin),_e.setAttribute("f-origin",z[J].origin),_e.type="text/css",_e.rel="stylesheet",_e.href=z[J].fPath,document.body.appendChild(_e)}}else if("t"===z[J].fOrigin||2===z[J].origin){for(de=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),be=0;be<de.length;be+=1)z[J].fPath===de[be].src&&(pe=!1);if(pe){var le=createTag("link");le.setAttribute("f-forigin",z[J].fOrigin),le.setAttribute("f-origin",z[J].origin),le.setAttribute("rel","stylesheet"),le.setAttribute("href",z[J].fPath),$.appendChild(le)}}}else z[J].loaded=!0,oe-=1;z[J].helper=re(z[J],$),z[J].cache={},this.fonts.push(z[J])}0===oe?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function G(U,$,z){for(var J=0,q=this.chars.length;J<q;){if(this.chars[J].ch===U&&this.chars[J].style===$&&this.chars[J].fFamily===z)return this.chars[J];J+=1}return("string"==typeof U&&13!==U.charCodeAt(0)||!U)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",U,$,z)),F},getFontByName:function ne(U){for(var $=0,z=this.fonts.length;$<z;){if(this.fonts[$].fName===U)return this.fonts[$];$+=1}return this.fonts[0]},measureText:function Y(U,$,z){var J=this.getFontByName($),q=U.charCodeAt(0);if(!J.cache[q+1]){var oe=J.helper;if(" "===U){var pe=oe.measureText("|"+U+"|"),de=oe.measureText("||");J.cache[q+1]=(pe-de)/100}else J.cache[q+1]=oe.measureText(U)/100}return J.cache[q+1]*z},checkLoadedFonts:function k(){var U,$=this.fonts.length,q=$;for(U=0;U<$;U+=1)this.fonts[U].loaded?q-=1:"n"===this.fonts[U].fOrigin||0===this.fonts[U].origin?this.fonts[U].loaded=!0:((this.fonts[U].monoCase.node.offsetWidth!==this.fonts[U].monoCase.w||this.fonts[U].sansCase.node.offsetWidth!==this.fonts[U].sansCase.w)&&(q-=1,this.fonts[U].loaded=!0),this.fonts[U].loaded&&(this.fonts[U].sansCase.parent.parentNode.removeChild(this.fonts[U].sansCase.parent),this.fonts[U].monoCase.parent.parentNode.removeChild(this.fonts[U].monoCase.parent)));0!==q&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function te(){this.isLoaded=!0}},Q}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(F){-1===this.renderableComponents.indexOf(F)&&this.renderableComponents.push(F)},removeRenderableComponent:function(F){-1!==this.renderableComponents.indexOf(F)&&this.renderableComponents.splice(this.renderableComponents.indexOf(F),1)},prepareRenderableFrame:function(F){this.checkLayerLimits(F)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(F){this.data.ip-this.data.st<=F&&this.data.op-this.data.st>F?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var F,T=this.renderableComponents.length;for(F=0;F<T;F+=1)this.renderableComponents[F].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var j={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(F){return j[F]||""}}();function SliderEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,0,0,T)}function AngleEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,0,0,T)}function ColorEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,1,0,T)}function PointEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,1,0,T)}function LayerIndexEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,0,0,T)}function MaskIndexEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,0,0,T)}function CheckboxEffect(j,F,T){this.p=PropertyFactory.getProp(F,j.v,0,0,T)}function NoValueEffect(){this.p={}}function EffectsManager(j,F){var T=j.ef||[];this.effectElements=[];var w,W,O=T.length;for(w=0;w<O;w+=1)W=new GroupEffect(T[w],F),this.effectElements.push(W)}function GroupEffect(j,F){this.init(j,F)}function BaseElement(){}function FrameElement(){}function FootageElement(j,F,T){this.initFrame(),this.initRenderable(),this.assetData=F.getAssetData(j.refId),this.footageData=F.imageLoader.getAsset(this.assetData),this.initBaseData(j,F,T)}function AudioElement(j,F,T){this.initFrame(),this.initRenderable(),this.assetData=F.getAssetData(j.refId),this.initBaseData(j,F,T),this._isPlaying=!1,this._canPlay=!1;var w=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(w),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=j.tm?PropertyFactory.getProp(this,j.tm,0,F.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,j.au&&j.au.lv?j.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(j,F,T){this.data=j,this.element=F,this.globalData=T,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var O,w=this.globalData.defs,W=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(W),this.solidPath="";var B,Z,G,ne,ae,se,ie,k=this.masksProperties,re=0,ee=[],Y=createElementID(),te="clipPath",Q="clip-path";for(O=0;O<W;O+=1)if(("a"!==k[O].mode&&"n"!==k[O].mode||k[O].inv||100!==k[O].o.k||k[O].o.x)&&(te="mask",Q="mask"),"s"!==k[O].mode&&"i"!==k[O].mode||0!==re?ne=null:((ne=createNS("rect")).setAttribute("fill","#ffffff"),ne.setAttribute("width",this.element.comp.data.w||0),ne.setAttribute("height",this.element.comp.data.h||0),ee.push(ne)),B=createNS("path"),"n"===k[O].mode)this.viewData[O]={op:PropertyFactory.getProp(this.element,k[O].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,k[O],3),elem:B,lastPath:""},w.appendChild(B);else{var V;if(re+=1,B.setAttribute("fill","s"===k[O].mode?"#000000":"#ffffff"),B.setAttribute("clip-rule","nonzero"),0!==k[O].x.k?(te="mask",Q="mask",ie=PropertyFactory.getProp(this.element,k[O].x,0,null,this.element),V=createElementID(),(ae=createNS("filter")).setAttribute("id",V),(se=createNS("feMorphology")).setAttribute("operator","erode"),se.setAttribute("in","SourceGraphic"),se.setAttribute("radius","0"),ae.appendChild(se),w.appendChild(ae),B.setAttribute("stroke","s"===k[O].mode?"#000000":"#ffffff")):(se=null,ie=null),this.storedData[O]={elem:B,x:ie,expan:se,lastPath:"",lastOperator:"",filterId:V,lastRadius:0},"i"===k[O].mode){G=ee.length;var U=createNS("g");for(Z=0;Z<G;Z+=1)U.appendChild(ee[Z]);var $=createNS("mask");$.setAttribute("mask-type","alpha"),$.setAttribute("id",Y+"_"+re),$.appendChild(B),w.appendChild($),U.setAttribute("mask","url("+getLocationHref()+"#"+Y+"_"+re+")"),ee.length=0,ee.push(U)}else ee.push(B);k[O].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[O]={elem:B,lastPath:"",op:PropertyFactory.getProp(this.element,k[O].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,k[O],3),invRect:ne},this.viewData[O].prop.k||this.drawPath(k[O],this.viewData[O].prop.v,this.viewData[O])}for(this.maskElement=createNS(te),W=ee.length,O=0;O<W;O+=1)this.maskElement.appendChild(ee[O]);re>0&&(this.maskElement.setAttribute("id",Y),this.element.maskedElement.setAttribute(Q,"url("+getLocationHref()+"#"+Y+")"),w.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(j,F){this.data=j,this.effectElements=[],this.initDynamicPropertyContainer(F);var T,O,w=this.data.ef.length,W=this.data.ef;for(T=0;T<w;T+=1){switch(O=null,W[T].ty){case 0:O=new SliderEffect(W[T],F,this);break;case 1:O=new AngleEffect(W[T],F,this);break;case 2:O=new ColorEffect(W[T],F,this);break;case 3:O=new PointEffect(W[T],F,this);break;case 4:case 7:O=new CheckboxEffect(W[T],F,this);break;case 10:O=new LayerIndexEffect(W[T],F,this);break;case 11:O=new MaskIndexEffect(W[T],F,this);break;case 5:O=new EffectsManager(W[T],F,this);break;default:O=new NoValueEffect(W[T],F,this)}O&&this.effectElements.push(O)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var F=0,T=this.data.masksProperties.length;F<T;){if("n"!==this.data.masksProperties[F].mode&&!1!==this.data.masksProperties[F].cl)return!0;F+=1}return!1},initExpressions:function(){var F=getExpressionInterfaces();if(F){var T=F("layer"),w=F("effects"),O=F("shape"),W=F("text"),B=F("comp");this.layerInterface=T(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var k=w.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(k),0===this.data.ty||this.data.xt?this.compInterface=B(this):4===this.data.ty?(this.layerInterface.shapeInterface=O(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=W(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var F=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=F},initBaseData:function(F,T,w){this.globalData=T,this.comp=w,this.data=F,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(F,T){var w,O=this.dynamicProperties.length;for(w=0;w<O;w+=1)(T||this._isParent&&"transform"===this.dynamicProperties[w].propType)&&(this.dynamicProperties[w].getValue(),this.dynamicProperties[w]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(F){-1===this.dynamicProperties.indexOf(F)&&this.dynamicProperties.push(F)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var j=getExpressionInterfaces();if(j){var F=j("footage");this.layerInterface=F(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(j){this.prepareRenderableFrame(j,!0),this.prepareProperties(j,!0),this._currentTime=this.tm._placeholder?j/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var T=this._volume*this._volumeMultiplier;this._previousVolume!==T&&(this._previousVolume=T,this.audio.volume(T))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(j){this.audio.rate(j)},AudioElement.prototype.volume=function(j){this._volumeMultiplier=j,this._previousVolume=j*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(j){var F,w,T=this.layers.length;for(this.completeLayers=!0,F=T-1;F>=0;F-=1)this.elements[F]||(w=this.layers[F]).ip-w.st<=j-this.layers[F].st&&w.op-w.st>j-this.layers[F].st&&this.buildItem(F),this.completeLayers=!!this.elements[F]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(j){switch(j.ty){case 2:return this.createImage(j);case 0:return this.createComp(j);case 1:return this.createSolid(j);case 3:default:return this.createNull(j);case 4:return this.createShape(j);case 5:return this.createText(j);case 6:return this.createAudio(j);case 13:return this.createCamera(j);case 15:return this.createFootage(j)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(j){return new AudioElement(j,this.globalData,this)},BaseRenderer.prototype.createFootage=function(j){return new FootageElement(j,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var j,F=this.layers.length;for(j=0;j<F;j+=1)this.buildItem(j);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(j){this.completeLayers=!1;var F,w,T=j.length,O=this.layers.length;for(F=0;F<T;F+=1)for(w=0;w<O;){if(this.layers[w].id===j[F].id){this.layers[w]=j[F];break}w+=1}},BaseRenderer.prototype.setProjectInterface=function(j){this.globalData.projectInterface=j},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(j,F,T){for(var w=this.elements,O=this.layers,W=0,B=O.length;W<B;)O[W].ind==F&&(w[W]&&!0!==w[W]?(T.push(w[W]),w[W].setAsParent(),void 0!==O[W].parent?this.buildElementParenting(j,O[W].parent,T):j.setHierarchy(T)):(this.buildItem(W),this.addPendingElement(j))),W+=1},BaseRenderer.prototype.addPendingElement=function(j){this.pendingElements.push(j)},BaseRenderer.prototype.searchExtraCompositions=function(j){var F,T=j.length;for(F=0;F<T;F+=1)if(j[F].xt){var w=this.createComp(j[F]);w.initExpressions(),this.globalData.projectInterface.registerComposition(w)}},BaseRenderer.prototype.getElementById=function(j){var F,T=this.elements.length;for(F=0;F<T;F+=1)if(this.elements[F].data.ind===j)return this.elements[F];return null},BaseRenderer.prototype.getElementByPath=function(j){var T,F=j.shift();if("number"==typeof F)T=this.elements[F];else{var w,O=this.elements.length;for(w=0;w<O;w+=1)if(this.elements[w].data.nm===F){T=this.elements[w];break}}return 0===j.length?T:T.getElementByPath(j)},BaseRenderer.prototype.setupGlobalData=function(j,F){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(j.chars),this.globalData.fontManager.addFonts(j.fonts,F),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=j.fr,this.globalData.nm=j.nm,this.globalData.compSize={w:j.w,h:j.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var F,T=this.finalTransform.mat,w=0,O=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;w<O;){if(this.hierarchy[w].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}w+=1}if(this.finalTransform._matMdf)for(T.cloneFromProps(F=this.finalTransform.mProp.v.props),w=0;w<O;w+=1)T.transform((F=this.hierarchy[w].finalTransform.mProp.v.props)[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],F[8],F[9],F[10],F[11],F[12],F[13],F[14],F[15])}},globalToLocal:function(F){var T=[];T.push(this.finalTransform);for(var w=!0,O=this.comp;w;)O.finalTransform?(O.data.hasMask&&T.splice(0,0,O.finalTransform),O=O.comp):w=!1;var W,k,B=T.length;for(W=0;W<B;W+=1)k=T[W].mat.applyToPointArray(0,0,0),F=[F[0]-k[0],F[1]-k[1],0];return F},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(j){return this.viewData[j].prop},MaskElement.prototype.renderFrame=function(j){var T,F=this.element.finalTransform.mat,w=this.masksProperties.length;for(T=0;T<w;T+=1)if((this.viewData[T].prop._mdf||j)&&this.drawPath(this.masksProperties[T],this.viewData[T].prop.v,this.viewData[T]),(this.viewData[T].op._mdf||j)&&this.viewData[T].elem.setAttribute("fill-opacity",this.viewData[T].op.v),"n"!==this.masksProperties[T].mode&&(this.viewData[T].invRect&&(this.element.finalTransform.mProp._mdf||j)&&this.viewData[T].invRect.setAttribute("transform",F.getInverseMatrix().to2dCSS()),this.storedData[T].x&&(this.storedData[T].x._mdf||j))){var O=this.storedData[T].expan;this.storedData[T].x.v<0?("erode"!==this.storedData[T].lastOperator&&(this.storedData[T].lastOperator="erode",this.storedData[T].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[T].filterId+")")),O.setAttribute("radius",-this.storedData[T].x.v)):("dilate"!==this.storedData[T].lastOperator&&(this.storedData[T].lastOperator="dilate",this.storedData[T].elem.setAttribute("filter",null)),this.storedData[T].elem.setAttribute("stroke-width",2*this.storedData[T].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var j="M0,0 ";return j+=" h"+this.globalData.compSize.w,j+=" v"+this.globalData.compSize.h,(j+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(j,F,T){var O,W,w=" M"+F.v[0][0]+","+F.v[0][1];for(W=F._length,O=1;O<W;O+=1)w+=" C"+F.o[O-1][0]+","+F.o[O-1][1]+" "+F.i[O][0]+","+F.i[O][1]+" "+F.v[O][0]+","+F.v[O][1];if(F.c&&W>1&&(w+=" C"+F.o[O-1][0]+","+F.o[O-1][1]+" "+F.i[0][0]+","+F.i[0][1]+" "+F.v[0][0]+","+F.v[0][1]),T.lastPath!==w){var B="";T.elem&&(F.c&&(B=j.inv?this.solidPath+w:w),T.elem.setAttribute("d",B)),T.lastPath=w}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var j={createFilter:function F(w,O){var W=createNS("filter");return W.setAttribute("id",w),!0!==O&&(W.setAttribute("filterUnits","objectBoundingBox"),W.setAttribute("x","0%"),W.setAttribute("y","0%"),W.setAttribute("width","100%"),W.setAttribute("height","100%")),W},createAlphaToLuminanceFilter:function T(){var w=createNS("feColorMatrix");return w.setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),w}};return j}(),featureSupport=function(){var j={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(j.maskType=!1),/firefox/i.test(navigator.userAgent)&&(j.svgLumaHidden=!1),j}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(j){var F,k,T="SourceGraphic",w=j.data.ef?j.data.ef.length:0,O=createElementID(),W=filtersFactory.createFilter(O,!0),B=0;for(this.filters=[],F=0;F<w;F+=1){k=null;var re=j.data.ef[F].ty;registeredEffects[re]&&(k=new(0,registeredEffects[re].effect)(W,j.effectsManager.effectElements[F],j,idPrefix+B,T),T=idPrefix+B,registeredEffects[re].countsAsEffect&&(B+=1)),k&&this.filters.push(k)}B&&(j.globalData.defs.appendChild(W),j.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+O+")")),this.filters.length&&j.addRenderableComponent(this)}function registerEffect(j,F,T){registeredEffects[j]={effect:F,countsAsEffect:T}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(j,F,T){this.assetData=F.getAssetData(j.refId),this.initElement(j,F,T),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(j,F){this.elem=j,this.pos=F}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(j){var F,T=this.filters.length;for(F=0;F<T;F+=1)this.filters[F].renderFrame(j)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var F=null;if(this.data.td){this.matteMasks={};var T=createNS("g");T.setAttribute("id",this.layerId),T.appendChild(this.layerElement),F=T,this.globalData.defs.appendChild(T)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),F=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var w=createNS("clipPath"),O=createNS("path");O.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var W=createElementID();if(w.setAttribute("id",W),w.appendChild(O),this.globalData.defs.appendChild(w),this.checkMasks()){var B=createNS("g");B.setAttribute("clip-path","url("+getLocationHref()+"#"+W+")"),B.appendChild(this.layerElement),this.transformedElement=B,F?F.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+W+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(F){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[F]){var w,O,W,B,T=this.layerId+"_"+F;if(1===F||3===F){var k=createNS("mask");k.setAttribute("id",T),k.setAttribute("mask-type",3===F?"luminance":"alpha"),(W=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),k.appendChild(W),this.globalData.defs.appendChild(k),!featureSupport.maskType&&1===F&&(k.setAttribute("mask-type","luminance"),w=createElementID(),O=filtersFactory.createFilter(w),this.globalData.defs.appendChild(O),O.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(B=createNS("g")).appendChild(W),k.appendChild(B),B.setAttribute("filter","url("+getLocationHref()+"#"+w+")"))}else if(2===F){var re=createNS("mask");re.setAttribute("id",T),re.setAttribute("mask-type","alpha");var ee=createNS("g");re.appendChild(ee),w=createElementID(),O=filtersFactory.createFilter(w);var Z=createNS("feComponentTransfer");Z.setAttribute("in","SourceGraphic"),O.appendChild(Z);var G=createNS("feFuncA");G.setAttribute("type","table"),G.setAttribute("tableValues","1.0 0.0"),Z.appendChild(G),this.globalData.defs.appendChild(O);var Y=createNS("rect");Y.setAttribute("width",this.comp.data.w),Y.setAttribute("height",this.comp.data.h),Y.setAttribute("x","0"),Y.setAttribute("y","0"),Y.setAttribute("fill","#ffffff"),Y.setAttribute("opacity","0"),ee.setAttribute("filter","url("+getLocationHref()+"#"+w+")"),ee.appendChild(Y),(W=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ee.appendChild(W),featureSupport.maskType||(re.setAttribute("mask-type","luminance"),O.appendChild(filtersFactory.createAlphaToLuminanceFilter()),B=createNS("g"),ee.appendChild(Y),B.appendChild(this.layerElement),ee.appendChild(B)),this.globalData.defs.appendChild(re)}this.matteMasks[F]=T}return this.matteMasks[F]},setMatte:function(F){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+F+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(F){this.hierarchy=F},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(T,w,O){this.initFrame(),this.initBaseData(T,w,O),this.initTransform(T,w,O),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(T){this._mdf=!1,this.prepareRenderableFrame(T),this.prepareProperties(T,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var j=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",j),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(F){var T,w=this.shapeModifiers.length;for(T=0;T<w;T+=1)this.shapeModifiers[T].addShape(F)},isShapeInAnimatedModifiers:function(F){for(var w=this.shapeModifiers.length;0<w;)if(this.shapeModifiers[0].isAnimatedWithShape(F))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var F,T=this.shapes.length;for(F=0;F<T;F+=1)this.shapes[F].sh.reset();for(F=(T=this.shapeModifiers.length)-1;F>=0&&!this.shapeModifiers[F].processShapes(this._isFirstFrame);F-=1);}},searchProcessedElement:function(F){for(var T=this.processedElements,w=0,O=T.length;w<O;){if(T[w].elem===F)return T[w].pos;w+=1}return 0},addProcessedElement:function(F,T){for(var w=this.processedElements,O=w.length;O;)if(w[O-=1].elem===F)return void(w[O].pos=T);w.push(new ProcessedElement(F,T))},prepareFrame:function(F){this.prepareRenderableFrame(F),this.prepareProperties(F,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(j,F,T){this.caches=[],this.styles=[],this.transformers=j,this.lStr="",this.sh=T,this.lvl=F,this._isAnimated=!!T.k;for(var w=0,O=j.length;w<O;){if(j[w].mProps.dynamicProperties.length){this._isAnimated=!0;break}w+=1}}function SVGStyleData(j,F){this.data=j,this.type=j.ty,this.d="",this.lvl=F,this._mdf=!1,this.closed=!0===j.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(j,F,T,w){this.elem=j,this.frameId=-1,this.dataProps=createSizedArray(F.length),this.renderer=T,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",F.length?F.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(w);var O,B,W=F.length||0;for(O=0;O<W;O+=1)B=PropertyFactory.getProp(j,F[O].v,0,0,this),this.k=B.k||this.k,this.dataProps[O]={n:F[O].n,p:B};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(j,F,T){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(j,F.o,0,.01,this),this.w=PropertyFactory.getProp(j,F.w,0,null,this),this.d=new DashProperty(j,F.d||{},"svg",this),this.c=PropertyFactory.getProp(j,F.c,1,255,this),this.style=T,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(j,F,T){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(j,F.o,0,.01,this),this.c=PropertyFactory.getProp(j,F.c,1,255,this),this.style=T}function SVGNoStyleData(j,F,T){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.style=T}function GradientProperty(j,F,T){this.data=F,this.c=createTypedArray("uint8c",4*F.p);var w=F.k.k[0].s?F.k.k[0].s.length-4*F.p:F.k.k.length-4*F.p;this.o=createTypedArray("float32",w),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=w,this.initDynamicPropertyContainer(T),this.prop=PropertyFactory.getProp(j,F.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(j,F,T){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.initGradientData(j,F,T)}function SVGGradientStrokeStyleData(j,F,T){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(j,F.w,0,null,this),this.d=new DashProperty(j,F.d||{},"svg",this),this.initGradientData(j,F,T),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(j,F,T){this.transform={mProps:j,op:F,container:T},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(j){if((this.elem.globalData.frameId!==this.frameId||j)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||j,this._mdf)){var F=0,T=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),F=0;F<T;F+=1)"o"!==this.dataProps[F].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[F].p.v:this.dashArray[F]=this.dataProps[F].p.v:this.dashoffset[0]=this.dataProps[F].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(j,F){for(var T=0,w=this.o.length/2;T<w;){if(Math.abs(j[4*T]-j[4*F+2*T])>.01)return!1;T+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var j=0,F=this.data.k.k.length;j<F;){if(!this.comparePoints(this.data.k.k[j].s,this.data.p))return!1;j+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(j){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||j){var F,w,O,T=4*this.data.p;for(F=0;F<T;F+=1)w=F%4==0?100:255,O=Math.round(this.prop.v[F]*w),this.c[F]!==O&&(this.c[F]=O,this._cmdf=!j);if(this.o.length)for(T=this.prop.v.length,F=4*this.data.p;F<T;F+=1)w=F%2==0?100:1,O=F%2==0?Math.round(100*this.prop.v[F]):this.prop.v[F],this.o[F-4*this.data.p]!==O&&(this.o[F-4*this.data.p]=O,this._omdf=!j);this._mdf=!j}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(j,F,T){this.o=PropertyFactory.getProp(j,F.o,0,.01,this),this.s=PropertyFactory.getProp(j,F.s,1,null,this),this.e=PropertyFactory.getProp(j,F.e,1,null,this),this.h=PropertyFactory.getProp(j,F.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(j,F.a||{k:0},0,degToRads,this),this.g=new GradientProperty(j,F.g,this),this.style=T,this.stops=[],this.setGradientData(T.pElem,F),this.setGradientOpacity(F,T),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(j,F){var T=createElementID(),w=createNS(1===F.t?"linearGradient":"radialGradient");w.setAttribute("id",T),w.setAttribute("spreadMethod","pad"),w.setAttribute("gradientUnits","userSpaceOnUse");var W,B,k,O=[];for(k=4*F.g.p,B=0;B<k;B+=4)W=createNS("stop"),w.appendChild(W),O.push(W);j.setAttribute("gf"===F.ty?"fill":"stroke","url("+getLocationHref()+"#"+T+")"),this.gf=w,this.cst=O},SVGGradientFillStyleData.prototype.setGradientOpacity=function(j,F){if(this.g._hasOpacity&&!this.g._collapsable){var T,w,O,W=createNS("mask"),B=createNS("path");W.appendChild(B);var k=createElementID(),re=createElementID();W.setAttribute("id",re);var ee=createNS(1===j.t?"linearGradient":"radialGradient");ee.setAttribute("id",k),ee.setAttribute("spreadMethod","pad"),ee.setAttribute("gradientUnits","userSpaceOnUse"),O=j.g.k.k[0].s?j.g.k.k[0].s.length:j.g.k.k.length;var Z=this.stops;for(w=4*j.g.p;w<O;w+=2)(T=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),ee.appendChild(T),Z.push(T);B.setAttribute("gf"===j.ty?"fill":"stroke","url("+getLocationHref()+"#"+k+")"),"gs"===j.ty&&(B.setAttribute("stroke-linecap",lineCapEnum[j.lc||2]),B.setAttribute("stroke-linejoin",lineJoinEnum[j.lj||2]),1===j.lj&&B.setAttribute("stroke-miterlimit",j.ml)),this.of=ee,this.ms=W,this.ost=Z,this.maskId=re,F.msElem=B}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(F,T,w,O){if(0===T)return"";var re,W=F.o,B=F.i,k=F.v,ee=" M"+O.applyToPointStringified(k[0][0],k[0][1]);for(re=1;re<T;re+=1)ee+=" C"+O.applyToPointStringified(W[re-1][0],W[re-1][1])+" "+O.applyToPointStringified(B[re][0],B[re][1])+" "+O.applyToPointStringified(k[re][0],k[re][1]);return w&&T&&(ee+=" C"+O.applyToPointStringified(W[re-1][0],W[re-1][1])+" "+O.applyToPointStringified(B[0][0],B[0][1])+" "+O.applyToPointStringified(k[0][0],k[0][1]),ee+="z"),ee},SVGElementsRenderer=function(){var j=new Matrix,F=new Matrix;function O(G,Y,ne){(ne||Y.transform.op._mdf)&&Y.transform.container.setAttribute("opacity",Y.transform.op.v),(ne||Y.transform.mProps._mdf)&&Y.transform.container.setAttribute("transform",Y.transform.mProps.v.to2dCSS())}function W(){}function B(G,Y,ne){var ae,se,ie,te,Q,V,z,J,q,oe,pe,U=Y.styles.length,$=Y.lvl;for(V=0;V<U;V+=1){if(te=Y.sh._mdf||ne,Y.styles[V].lvl<$){for(J=F.reset(),oe=$-Y.styles[V].lvl,pe=Y.transformers.length-1;!te&&oe>0;)te=Y.transformers[pe].mProps._mdf||te,oe-=1,pe-=1;if(te)for(oe=$-Y.styles[V].lvl,pe=Y.transformers.length-1;oe>0;)J.transform((q=Y.transformers[pe].mProps.v.props)[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),oe-=1,pe-=1}else J=j;if(se=(z=Y.sh.paths)._length,te){for(ie="",ae=0;ae<se;ae+=1)(Q=z.shapes[ae])&&Q._length&&(ie+=buildShapeString(Q,Q._length,Q.c,J));Y.caches[V]=ie}else ie=Y.caches[V];Y.styles[V].d+=!0===G.hd?"":ie,Y.styles[V]._mdf=te||Y.styles[V]._mdf}}function k(G,Y,ne){var ae=Y.style;(Y.c._mdf||ne)&&ae.pElem.setAttribute("fill","rgb("+bmFloor(Y.c.v[0])+","+bmFloor(Y.c.v[1])+","+bmFloor(Y.c.v[2])+")"),(Y.o._mdf||ne)&&ae.pElem.setAttribute("fill-opacity",Y.o.v)}function re(G,Y,ne){ee(G,Y,ne),Z(0,Y,ne)}function ee(G,Y,ne){var $,z,J,q,de,ae=Y.gf,se=Y.g._hasOpacity,ie=Y.s.v,te=Y.e.v;if((Y.o._mdf||ne)&&Y.style.pElem.setAttribute("gf"===G.ty?"fill-opacity":"stroke-opacity",Y.o.v),Y.s._mdf||ne){var V=1===G.t?"x1":"cx",U="x1"===V?"y1":"cy";ae.setAttribute(V,ie[0]),ae.setAttribute(U,ie[1]),se&&!Y.g._collapsable&&(Y.of.setAttribute(V,ie[0]),Y.of.setAttribute(U,ie[1]))}if(Y.g._cmdf||ne){var oe=Y.g.c;for(J=($=Y.cst).length,z=0;z<J;z+=1)(q=$[z]).setAttribute("offset",oe[4*z]+"%"),q.setAttribute("stop-color","rgb("+oe[4*z+1]+","+oe[4*z+2]+","+oe[4*z+3]+")")}if(se&&(Y.g._omdf||ne)){var pe=Y.g.o;for(J=($=Y.g._collapsable?Y.cst:Y.ost).length,z=0;z<J;z+=1)q=$[z],Y.g._collapsable||q.setAttribute("offset",pe[2*z]+"%"),q.setAttribute("stop-opacity",pe[2*z+1])}if(1===G.t)(Y.e._mdf||ne)&&(ae.setAttribute("x2",te[0]),ae.setAttribute("y2",te[1]),se&&!Y.g._collapsable&&(Y.of.setAttribute("x2",te[0]),Y.of.setAttribute("y2",te[1])));else if((Y.s._mdf||Y.e._mdf||ne)&&(de=Math.sqrt(Math.pow(ie[0]-te[0],2)+Math.pow(ie[1]-te[1],2)),ae.setAttribute("r",de),se&&!Y.g._collapsable&&Y.of.setAttribute("r",de)),Y.e._mdf||Y.h._mdf||Y.a._mdf||ne){de||(de=Math.sqrt(Math.pow(ie[0]-te[0],2)+Math.pow(ie[1]-te[1],2)));var be=Math.atan2(te[1]-ie[1],te[0]-ie[0]),me=Y.h.v;me>=1?me=.99:me<=-1&&(me=-.99);var _e=de*me,le=Math.cos(be+Y.a.v)*_e+ie[0],fe=Math.sin(be+Y.a.v)*_e+ie[1];ae.setAttribute("fx",le),ae.setAttribute("fy",fe),se&&!Y.g._collapsable&&(Y.of.setAttribute("fx",le),Y.of.setAttribute("fy",fe))}}function Z(G,Y,ne){var ae=Y.style,se=Y.d;se&&(se._mdf||ne)&&se.dashStr&&(ae.pElem.setAttribute("stroke-dasharray",se.dashStr),ae.pElem.setAttribute("stroke-dashoffset",se.dashoffset[0])),Y.c&&(Y.c._mdf||ne)&&ae.pElem.setAttribute("stroke","rgb("+bmFloor(Y.c.v[0])+","+bmFloor(Y.c.v[1])+","+bmFloor(Y.c.v[2])+")"),(Y.o._mdf||ne)&&ae.pElem.setAttribute("stroke-opacity",Y.o.v),(Y.w._mdf||ne)&&(ae.pElem.setAttribute("stroke-width",Y.w.v),ae.msElem&&ae.msElem.setAttribute("stroke-width",Y.w.v))}return{createRenderFunction:function w(G){switch(G.ty){case"fl":return k;case"gf":return ee;case"gs":return re;case"st":return Z;case"sh":case"el":case"rc":case"sr":return B;case"tr":return O;case"no":return W;default:return null}}}}();function SVGShapeElement(j,F,T){this.shapes=[],this.shapesData=j.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(j,F,T),this.prevViewData=[]}function LetterProps(j,F,T,w,O,W){this.o=j,this.sw=F,this.sc=T,this.fc=w,this.m=O,this.p=W,this._mdf={o:!0,sw:!!F,sc:!!T,fc:!!w,m:!0,p:!0}}function TextProperty(j,F){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=F,this.elem=j,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var j,T,w,W,F=this.shapes.length,O=this.stylesList.length,B=[],k=!1;for(w=0;w<O;w+=1){for(W=this.stylesList[w],k=!1,B.length=0,j=0;j<F;j+=1)-1!==(T=this.shapes[j]).styles.indexOf(W)&&(B.push(T),k=T._isAnimated||k);B.length>1&&k&&this.setShapesAsAnimated(B)}},SVGShapeElement.prototype.setShapesAsAnimated=function(j){var F,T=j.length;for(F=0;F<T;F+=1)j[F].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(j,F){var T,w=new SVGStyleData(j,F),O=w.pElem;return"st"===j.ty?T=new SVGStrokeStyleData(this,j,w):"fl"===j.ty?T=new SVGFillStyleData(this,j,w):"gf"===j.ty||"gs"===j.ty?(T=new("gf"===j.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,j,w),this.globalData.defs.appendChild(T.gf),T.maskId&&(this.globalData.defs.appendChild(T.ms),this.globalData.defs.appendChild(T.of),O.setAttribute("mask","url("+getLocationHref()+"#"+T.maskId+")"))):"no"===j.ty&&(T=new SVGNoStyleData(this,j,w)),("st"===j.ty||"gs"===j.ty)&&(O.setAttribute("stroke-linecap",lineCapEnum[j.lc||2]),O.setAttribute("stroke-linejoin",lineJoinEnum[j.lj||2]),O.setAttribute("fill-opacity","0"),1===j.lj&&O.setAttribute("stroke-miterlimit",j.ml)),2===j.r&&O.setAttribute("fill-rule","evenodd"),j.ln&&O.setAttribute("id",j.ln),j.cl&&O.setAttribute("class",j.cl),j.bm&&(O.style["mix-blend-mode"]=getBlendMode(j.bm)),this.stylesList.push(w),this.addToAnimatedContents(j,T),T},SVGShapeElement.prototype.createGroupElement=function(j){var F=new ShapeGroupData;return j.ln&&F.gr.setAttribute("id",j.ln),j.cl&&F.gr.setAttribute("class",j.cl),j.bm&&(F.gr.style["mix-blend-mode"]=getBlendMode(j.bm)),F},SVGShapeElement.prototype.createTransformElement=function(j,F){var T=TransformPropertyFactory.getTransformProperty(this,j,this),w=new SVGTransformData(T,T.o,F);return this.addToAnimatedContents(j,w),w},SVGShapeElement.prototype.createShapeElement=function(j,F,T){var w=4;"rc"===j.ty?w=5:"el"===j.ty?w=6:"sr"===j.ty&&(w=7);var W=new SVGShapeData(F,T,ShapePropertyFactory.getShapeProp(this,j,w,this));return this.shapes.push(W),this.addShapeToModifiers(W),this.addToAnimatedContents(j,W),W},SVGShapeElement.prototype.addToAnimatedContents=function(j,F){for(var T=0,w=this.animatedContents.length;T<w;){if(this.animatedContents[T].element===F)return;T+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(j),element:F,data:j})},SVGShapeElement.prototype.setElementStyles=function(j){var T,F=j.styles,w=this.stylesList.length;for(T=0;T<w;T+=1)this.stylesList[T].closed||F.push(this.stylesList[T])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var j,F=this.itemsData.length;for(j=0;j<F;j+=1)this.prevViewData[j]=this.itemsData[j];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),F=this.dynamicProperties.length,j=0;j<F;j+=1)this.dynamicProperties[j].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(j,F,T,w,O,W,B){var re,Z,G,se,ie,k=[].concat(W),ee=j.length-1,Y=[],ne=[];for(re=ee;re>=0;re-=1){if((ie=this.searchProcessedElement(j[re]))?F[re]=T[ie-1]:j[re]._render=B,"fl"===j[re].ty||"st"===j[re].ty||"gf"===j[re].ty||"gs"===j[re].ty||"no"===j[re].ty)ie?F[re].style.closed=!1:F[re]=this.createStyleElement(j[re],O),j[re]._render&&F[re].style.pElem.parentNode!==w&&w.appendChild(F[re].style.pElem),Y.push(F[re].style);else if("gr"===j[re].ty){if(ie)for(G=F[re].it.length,Z=0;Z<G;Z+=1)F[re].prevViewData[Z]=F[re].it[Z];else F[re]=this.createGroupElement(j[re]);this.searchShapes(j[re].it,F[re].it,F[re].prevViewData,F[re].gr,O+1,k,B),j[re]._render&&F[re].gr.parentNode!==w&&w.appendChild(F[re].gr)}else"tr"===j[re].ty?(ie||(F[re]=this.createTransformElement(j[re],w)),k.push(F[re].transform)):"sh"===j[re].ty||"rc"===j[re].ty||"el"===j[re].ty||"sr"===j[re].ty?(ie||(F[re]=this.createShapeElement(j[re],k,O)),this.setElementStyles(F[re])):"tm"===j[re].ty||"rd"===j[re].ty||"ms"===j[re].ty||"pb"===j[re].ty||"zz"===j[re].ty||"op"===j[re].ty?(ie?(se=F[re]).closed=!1:((se=ShapeModifiers.getModifier(j[re].ty)).init(this,j[re]),F[re]=se,this.shapeModifiers.push(se)),ne.push(se)):"rp"===j[re].ty&&(ie?(se=F[re]).closed=!0:(se=ShapeModifiers.getModifier(j[re].ty),F[re]=se,se.init(this,j,re,F),this.shapeModifiers.push(se),B=!1),ne.push(se));this.addProcessedElement(j[re],re+1)}for(ee=Y.length,re=0;re<ee;re+=1)Y[re].closed=!0;for(ee=ne.length,re=0;re<ee;re+=1)ne[re].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var j,F=this.stylesList.length;for(j=0;j<F;j+=1)this.stylesList[j].reset();for(this.renderShape(),j=0;j<F;j+=1)(this.stylesList[j]._mdf||this._isFirstFrame)&&(this.stylesList[j].msElem&&(this.stylesList[j].msElem.setAttribute("d",this.stylesList[j].d),this.stylesList[j].d="M0 0"+this.stylesList[j].d),this.stylesList[j].pElem.setAttribute("d",this.stylesList[j].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var j,T,F=this.animatedContents.length;for(j=0;j<F;j+=1)T=this.animatedContents[j],(this._isFirstFrame||T.element._isAnimated)&&!0!==T.data&&T.fn(T.data,T.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(j,F,T,w,O,W){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var B=!1;return this.o!==j&&(this.o=j,this._mdf.o=!0,B=!0),this.sw!==F&&(this.sw=F,this._mdf.sw=!0,B=!0),this.sc!==T&&(this.sc=T,this._mdf.sc=!0,B=!0),this.fc!==w&&(this.fc=w,this._mdf.fc=!0,B=!0),this.m!==O&&(this.m=O,this._mdf.m=!0,B=!0),W.length&&(this.p[0]!==W[0]||this.p[1]!==W[1]||this.p[4]!==W[4]||this.p[5]!==W[5]||this.p[12]!==W[12]||this.p[13]!==W[13])&&(this.p=W,this._mdf.p=!0,B=!0),B},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(j,F){for(var T in F)Object.prototype.hasOwnProperty.call(F,T)&&(j[T]=F[T]);return j},TextProperty.prototype.setCurrentData=function(j){j.__complete||this.completeTextData(j),this.currentData=j,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(j){this.effectsSequence.push(j),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(j){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||j){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var F=this.currentData,T=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var w,O=this.effectsSequence.length,W=j||this.data.d.k[this.keysIndex].s;for(w=0;w<O;w+=1)W=this.effectsSequence[w](T!==this.keysIndex?W:this.currentData,W.t);F!==W&&this.setCurrentData(W),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var j=this.data.d.k,F=this.elem.comp.renderedFrame,T=0,w=j.length;T<=w-1&&!(T===w-1||j[T+1].t>F);)T+=1;return this.keysIndex!==T&&(this.keysIndex=T),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(j){for(var O,W,F=[],T=0,w=j.length,B=!1;T<w;)O=j.charCodeAt(T),FontManager.isCombinedCharacter(O)?F[F.length-1]+=j.charAt(T):O>=55296&&O<=56319?(W=j.charCodeAt(T+1))>=56320&&W<=57343?(B||FontManager.isModifier(O,W)?(F[F.length-1]+=j.substr(T,2),B=!1):F.push(j.substr(T,2)),T+=1):F.push(j.charAt(T)):O>56319?(W=j.charCodeAt(T+1),FontManager.isZeroWidthJoiner(O,W)?(B=!0,F[F.length-1]+=j.substr(T,2),T+=1):F.push(j.charAt(T))):FontManager.isZeroWidthJoiner(O)?(F[F.length-1]+=j.charAt(T),B=!0):F.push(j.charAt(T)),T+=1;return F},TextProperty.prototype.completeTextData=function(j){j.__complete=!0;var O,W,B,re,ie,te,V,F=this.elem.globalData.fontManager,T=this.data,w=[],k=0,ee=T.m.g,Z=0,G=0,Y=0,ne=[],ae=0,se=0,Q=F.getFontByName(j.f),U=0,$=getFontProperties(Q);j.fWeight=$.weight,j.fStyle=$.style,j.finalSize=j.s,j.finalText=this.buildFinalText(j.t),W=j.finalText.length,j.finalLineHeight=j.lh;var J,z=j.tr/1e3*j.finalSize;if(j.sz)for(var de,be,q=!0,oe=j.sz[0],pe=j.sz[1];q;){de=0,ae=0,W=(be=this.buildFinalText(j.t)).length,z=j.tr/1e3*j.finalSize;var me=-1;for(O=0;O<W;O+=1)J=be[O].charCodeAt(0),B=!1," "===be[O]?me=O:(13===J||3===J)&&(ae=0,B=!0,de+=j.finalLineHeight||1.2*j.finalSize),F.chars?(V=F.getCharData(be[O],Q.fStyle,Q.fFamily),U=B?0:V.w*j.finalSize/100):U=F.measureText(be[O],j.f,j.finalSize),ae+U>oe&&" "!==be[O]?(-1===me?W+=1:O=me,de+=j.finalLineHeight||1.2*j.finalSize,be.splice(O,me===O?1:0,"\r"),me=-1,ae=0):(ae+=U,ae+=z);de+=Q.ascent*j.finalSize/100,this.canResize&&j.finalSize>this.minimumFontSize&&pe<de?(j.finalSize-=1,j.finalLineHeight=j.finalSize*j.lh/j.s):(j.finalText=be,W=j.finalText.length,q=!1)}ae=-z,U=0;var le,_e=0;for(O=0;O<W;O+=1)if(B=!1,13===(J=(le=j.finalText[O]).charCodeAt(0))||3===J?(_e=0,ne.push(ae),se=ae>se?ae:se,ae=-2*z,re="",B=!0,Y+=1):re=le,F.chars?(V=F.getCharData(le,Q.fStyle,F.getFontByName(j.f).fFamily),U=B?0:V.w*j.finalSize/100):U=F.measureText(re,j.f,j.finalSize)," "===le?_e+=U+z:(ae+=U+z+_e,_e=0),w.push({l:U,an:U,add:Z,n:B,anIndexes:[],val:re,line:Y,animatorJustifyOffset:0}),2==ee){if(Z+=U,""===re||" "===re||O===W-1){for((""===re||" "===re)&&(Z-=U);G<=O;)w[G].an=Z,w[G].ind=k,w[G].extra=U,G+=1;k+=1,Z=0}}else if(3==ee){if(Z+=U,""===re||O===W-1){for(""===re&&(Z-=U);G<=O;)w[G].an=Z,w[G].ind=k,w[G].extra=U,G+=1;Z=0,k+=1}}else w[k].ind=k,w[k].extra=0,k+=1;if(j.l=w,se=ae>se?ae:se,ne.push(ae),j.sz)j.boxWidth=j.sz[0],j.justifyOffset=0;else switch(j.boxWidth=se,j.j){case 1:j.justifyOffset=-j.boxWidth;break;case 2:j.justifyOffset=-j.boxWidth/2;break;default:j.justifyOffset=0}j.lineWidths=ne;var Ee,ye,fe=T.a;te=fe.length;var ue,Me,ce=[];for(ie=0;ie<te;ie+=1){for((Ee=fe[ie]).a.sc&&(j.strokeColorAnim=!0),Ee.a.sw&&(j.strokeWidthAnim=!0),(Ee.a.fc||Ee.a.fh||Ee.a.fs||Ee.a.fb)&&(j.fillColorAnim=!0),Me=0,ue=Ee.s.b,O=0;O<W;O+=1)(ye=w[O]).anIndexes[ie]=Me,(1==ue&&""!==ye.val||2==ue&&""!==ye.val&&" "!==ye.val||3==ue&&(ye.n||" "==ye.val||O==W-1)||4==ue&&(ye.n||O==W-1))&&(1===Ee.s.rn&&ce.push(Me),Me+=1);T.a[ie].s.totalChars=Me;var Pe,ge=-1;if(1===Ee.s.rn)for(O=0;O<W;O+=1)ge!=(ye=w[O]).anIndexes[ie]&&(ge=ye.anIndexes[ie],Pe=ce.splice(Math.floor(Math.random()*ce.length),1)[0]),ye.anIndexes[ie]=Pe}j.yOffset=j.finalLineHeight||1.2*j.finalSize,j.ls=j.ls||0,j.ascent=Q.ascent*j.finalSize/100},TextProperty.prototype.updateDocumentData=function(j,F){var T=this.copyData({},this.data.d.k[F=void 0===F?this.keysIndex:F].s);T=this.copyData(T,j),this.data.d.k[F].s=T,this.recalculate(F),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(j){var F=this.data.d.k[j].s;F.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(F)},TextProperty.prototype.canResizeFont=function(j){this.canResize=j,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(j){this.minimumFontSize=Math.floor(j)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var j=Math.max,F=Math.min,T=Math.floor;function w(W,B){this._currentTextLength=-1,this.k=!1,this.data=B,this.elem=W,this.comp=W.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(W),this.s=PropertyFactory.getProp(W,B.s||{k:0},0,0,this),this.e="e"in B?PropertyFactory.getProp(W,B.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(W,B.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(W,B.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(W,B.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(W,B.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(W,B.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return w.prototype={getMult:function(B){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var k=0,re=0,ee=1,Z=1;this.ne.v>0?k=this.ne.v/100:re=-this.ne.v/100,this.xe.v>0?ee=1-this.xe.v/100:Z=1+this.xe.v/100;var G=BezierFactory.getBezierEasing(k,re,ee,Z).get,Y=0,ne=this.finalS,ae=this.finalE,se=this.data.sh;if(2===se)Y=G(Y=ae===ne?B>=ae?1:0:j(0,F(.5/(ae-ne)+(B-ne)/(ae-ne),1)));else if(3===se)Y=G(Y=ae===ne?B>=ae?0:1:1-j(0,F(.5/(ae-ne)+(B-ne)/(ae-ne),1)));else if(4===se)ae===ne?Y=0:(Y=j(0,F(.5/(ae-ne)+(B-ne)/(ae-ne),1)))<.5?Y*=2:Y=1-2*(Y-.5),Y=G(Y);else if(5===se){if(ae===ne)Y=0;else{var ie=ae-ne,te=-ie/2+(B=F(j(0,B+.5-ne),ae-ne)),Q=ie/2;Y=Math.sqrt(1-te*te/(Q*Q))}Y=G(Y)}else 6===se?(ae===ne?Y=0:(B=F(j(0,B+.5-ne),ae-ne),Y=(1+Math.cos(Math.PI+2*Math.PI*B/(ae-ne)))/2),Y=G(Y)):(B>=T(ne)&&(Y=j(0,F(B-ne<0?F(ae,1)-(ne-B):ae-B,1))),Y=G(Y));if(100!==this.sm.v){var V=.01*this.sm.v;0===V&&(V=1e-8);var U=.5-.5*V;Y<U?Y=0:(Y=(Y-U)/V)>1&&(Y=1)}return Y*this.a.v},getValue:function(B){this.iterateDynamicProperties(),this._mdf=B||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,B&&2===this.data.r&&(this.e.v=this._currentTextLength);var k=2===this.data.r?1:100/this.data.totalChars,re=this.o.v/k,ee=this.s.v/k+re,Z=this.e.v/k+re;if(ee>Z){var G=ee;ee=Z,Z=G}this.finalS=ee,this.finalE=Z}},extendPrototype([DynamicPropertyContainer],w),{getTextSelectorProp:function O(W,B,k){return new w(W,B,k)}}}();function TextAnimatorDataProperty(j,F,T){var w={propType:!1},O=PropertyFactory.getProp,W=F.a;this.a={r:W.r?O(j,W.r,0,degToRads,T):w,rx:W.rx?O(j,W.rx,0,degToRads,T):w,ry:W.ry?O(j,W.ry,0,degToRads,T):w,sk:W.sk?O(j,W.sk,0,degToRads,T):w,sa:W.sa?O(j,W.sa,0,degToRads,T):w,s:W.s?O(j,W.s,1,.01,T):w,a:W.a?O(j,W.a,1,0,T):w,o:W.o?O(j,W.o,0,.01,T):w,p:W.p?O(j,W.p,1,0,T):w,sw:W.sw?O(j,W.sw,0,0,T):w,sc:W.sc?O(j,W.sc,1,0,T):w,fc:W.fc?O(j,W.fc,1,0,T):w,fh:W.fh?O(j,W.fh,0,0,T):w,fs:W.fs?O(j,W.fs,0,.01,T):w,fb:W.fb?O(j,W.fb,0,.01,T):w,t:W.t?O(j,W.t,0,0,T):w},this.s=TextSelectorProp.getTextSelectorProp(j,F.s,T),this.s.t=F.s.t}function TextAnimatorProperty(j,F,T){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=j,this._renderType=F,this._elem=T,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(T)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var j,F=this._textData.a.length,w=PropertyFactory.getProp;for(j=0;j<F;j+=1)this._animatorsData[j]=new TextAnimatorDataProperty(this._elem,this._textData.a[j],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:w(this._elem,this._textData.p.a,0,0,this),f:w(this._elem,this._textData.p.f,0,0,this),l:w(this._elem,this._textData.p.l,0,0,this),r:w(this._elem,this._textData.p.r,0,0,this),p:w(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=w(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(j,F){if(this.lettersChangedFlag=F,this._mdf||this._isFirstFrame||F||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var re,ee,Z,G,ne,ae,se,ie,te,Q,V,U,$,z,J,q,oe,de,T=this._moreOptions.alignment.v,w=this._animatorsData,O=this._textData,W=this.mHelper,B=this._renderType,k=this.renderedLetters.length,Y=j.l;if(this._hasMaskedPath){if(de=this._pathData.m,!this._pathData.n||this._pathData._mdf){var me,be=de.v;for(this._pathData.r.v&&(be=be.reverse()),ne={tLength:0,segments:[]},G=be._length-1,q=0,Z=0;Z<G;Z+=1)me=bez.buildBezierData(be.v[Z],be.v[Z+1],[be.o[Z][0]-be.v[Z][0],be.o[Z][1]-be.v[Z][1]],[be.i[Z+1][0]-be.v[Z+1][0],be.i[Z+1][1]-be.v[Z+1][1]]),ne.tLength+=me.segmentLength,ne.segments.push(me),q+=me.segmentLength;Z=G,de.v.c&&(me=bez.buildBezierData(be.v[Z],be.v[0],[be.o[Z][0]-be.v[Z][0],be.o[Z][1]-be.v[Z][1]],[be.i[0][0]-be.v[0][0],be.i[0][1]-be.v[0][1]]),ne.tLength+=me.segmentLength,ne.segments.push(me),q+=me.segmentLength),this._pathData.pi=ne}if(V=0,Q=1,ie=0,te=!0,z=(ne=this._pathData.pi).segments,(ae=this._pathData.f.v)<0&&de.v.c)for(ne.tLength<Math.abs(ae)&&(ae=-Math.abs(ae)%ne.tLength),Q=($=z[V=z.length-1].points).length-1;ae<0;)ae+=$[Q].partialLength,(Q-=1)<0&&(Q=($=z[V-=1].points).length-1);U=($=z[V].points)[Q-1],J=(se=$[Q]).partialLength}G=Y.length,re=0,ee=0;var fe,ye,ue,Me,_e=1.2*j.finalSize*.714,le=!0;ue=w.length;var ce,Pe,Ie,Re,Oe,Ue,ke,Ye,xe,We,Qe,lt,Be,ge=-1,Ce=ae,Fe=V,Ne=Q,Le=-1,ve="",Te=this.defaultPropsArray;if(2===j.j||1===j.j){var Ge=0,$e=0,Xe=2===j.j?-.5:-1,at=0,we=!0;for(Z=0;Z<G;Z+=1)if(Y[Z].n){for(Ge&&(Ge+=$e);at<Z;)Y[at].animatorJustifyOffset=Ge,at+=1;Ge=0,we=!0}else{for(ye=0;ye<ue;ye+=1)(fe=w[ye].a).t.propType&&(we&&2===j.j&&($e+=fe.t.v*Xe),Ge+=(ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars)).length?fe.t.v*ce[0]*Xe:fe.t.v*ce*Xe);we=!1}for(Ge&&(Ge+=$e);at<Z;)Y[at].animatorJustifyOffset=Ge,at+=1}for(Z=0;Z<G;Z+=1){if(W.reset(),Oe=1,Y[Z].n)re=0,ee+=j.yOffset,ee+=le?1:0,ae=Ce,le=!1,this._hasMaskedPath&&(U=($=z[V=Fe].points)[(Q=Ne)-1],J=(se=$[Q]).partialLength,ie=0),ve="",lt="",We="",Be="",Te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Le!==Y[Z].line){switch(j.j){case 1:ae+=q-j.lineWidths[Y[Z].line];break;case 2:ae+=(q-j.lineWidths[Y[Z].line])/2}Le=Y[Z].line}ge!==Y[Z].ind&&(Y[ge]&&(ae+=Y[ge].extra),ae+=Y[Z].an/2,ge=Y[Z].ind),ae+=T[0]*Y[Z].an*.005;var tt=0;for(ye=0;ye<ue;ye+=1)(fe=w[ye].a).p.propType&&(tt+=(ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars)).length?fe.p.v[0]*ce[0]:fe.p.v[0]*ce),fe.a.propType&&(tt+=(ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars)).length?fe.a.v[0]*ce[0]:fe.a.v[0]*ce);for(te=!0,this._pathData.a.v&&(ae=.5*Y[0].an+(q-this._pathData.f.v-.5*Y[0].an-.5*Y[Y.length-1].an)*ge/(G-1),ae+=this._pathData.f.v);te;)ie+J>=ae+tt||!$?(Ie=U.point[0]+(se.point[0]-U.point[0])*(oe=(ae+tt-ie)/se.partialLength),Re=U.point[1]+(se.point[1]-U.point[1])*oe,W.translate(-T[0]*Y[Z].an*.005,-T[1]*_e*.01),te=!1):$&&(ie+=se.partialLength,(Q+=1)>=$.length&&(Q=0,z[V+=1]?$=z[V].points:de.v.c?(Q=0,$=z[V=0].points):(ie-=se.partialLength,$=null)),$&&(U=se,J=(se=$[Q]).partialLength));W.translate(-(Pe=Y[Z].an/2-Y[Z].add),0,0)}else W.translate(-(Pe=Y[Z].an/2-Y[Z].add),0,0),W.translate(-T[0]*Y[Z].an*.005,-T[1]*_e*.01,0);for(ye=0;ye<ue;ye+=1)(fe=w[ye].a).t.propType&&(ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars),(0!==re||0!==j.j)&&(this._hasMaskedPath?ae+=ce.length?fe.t.v*ce[0]:fe.t.v*ce:re+=ce.length?fe.t.v*ce[0]:fe.t.v*ce));for(j.strokeWidthAnim&&(ke=j.sw||0),j.strokeColorAnim&&(Ue=j.sc?[j.sc[0],j.sc[1],j.sc[2]]:[0,0,0]),j.fillColorAnim&&j.fc&&(Ye=[j.fc[0],j.fc[1],j.fc[2]]),ye=0;ye<ue;ye+=1)(fe=w[ye].a).a.propType&&((ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars)).length?W.translate(-fe.a.v[0]*ce[0],-fe.a.v[1]*ce[1],fe.a.v[2]*ce[2]):W.translate(-fe.a.v[0]*ce,-fe.a.v[1]*ce,fe.a.v[2]*ce));for(ye=0;ye<ue;ye+=1)(fe=w[ye].a).s.propType&&((ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars)).length?W.scale(1+(fe.s.v[0]-1)*ce[0],1+(fe.s.v[1]-1)*ce[1],1):W.scale(1+(fe.s.v[0]-1)*ce,1+(fe.s.v[1]-1)*ce,1));for(ye=0;ye<ue;ye+=1){if(fe=w[ye].a,ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars),fe.sk.propType&&(ce.length?W.skewFromAxis(-fe.sk.v*ce[0],fe.sa.v*ce[1]):W.skewFromAxis(-fe.sk.v*ce,fe.sa.v*ce)),fe.r.propType&&W.rotateZ(ce.length?-fe.r.v*ce[2]:-fe.r.v*ce),fe.ry.propType&&W.rotateY(ce.length?fe.ry.v*ce[1]:fe.ry.v*ce),fe.rx.propType&&W.rotateX(ce.length?fe.rx.v*ce[0]:fe.rx.v*ce),fe.o.propType&&(Oe+=ce.length?(fe.o.v*ce[0]-Oe)*ce[0]:(fe.o.v*ce-Oe)*ce),j.strokeWidthAnim&&fe.sw.propType&&(ke+=ce.length?fe.sw.v*ce[0]:fe.sw.v*ce),j.strokeColorAnim&&fe.sc.propType)for(xe=0;xe<3;xe+=1)Ue[xe]+=ce.length?(fe.sc.v[xe]-Ue[xe])*ce[0]:(fe.sc.v[xe]-Ue[xe])*ce;if(j.fillColorAnim&&j.fc){if(fe.fc.propType)for(xe=0;xe<3;xe+=1)Ye[xe]+=ce.length?(fe.fc.v[xe]-Ye[xe])*ce[0]:(fe.fc.v[xe]-Ye[xe])*ce;fe.fh.propType&&(Ye=addHueToRGB(Ye,ce.length?fe.fh.v*ce[0]:fe.fh.v*ce)),fe.fs.propType&&(Ye=addSaturationToRGB(Ye,ce.length?fe.fs.v*ce[0]:fe.fs.v*ce)),fe.fb.propType&&(Ye=addBrightnessToRGB(Ye,ce.length?fe.fb.v*ce[0]:fe.fb.v*ce))}}for(ye=0;ye<ue;ye+=1)(fe=w[ye].a).p.propType&&(ce=w[ye].s.getMult(Y[Z].anIndexes[ye],O.a[ye].s.totalChars),this._hasMaskedPath?ce.length?W.translate(0,fe.p.v[1]*ce[0],-fe.p.v[2]*ce[1]):W.translate(0,fe.p.v[1]*ce,-fe.p.v[2]*ce):ce.length?W.translate(fe.p.v[0]*ce[0],fe.p.v[1]*ce[1],-fe.p.v[2]*ce[2]):W.translate(fe.p.v[0]*ce,fe.p.v[1]*ce,-fe.p.v[2]*ce));if(j.strokeWidthAnim&&(We=ke<0?0:ke),j.strokeColorAnim&&(Qe="rgb("+Math.round(255*Ue[0])+","+Math.round(255*Ue[1])+","+Math.round(255*Ue[2])+")"),j.fillColorAnim&&j.fc&&(lt="rgb("+Math.round(255*Ye[0])+","+Math.round(255*Ye[1])+","+Math.round(255*Ye[2])+")"),this._hasMaskedPath){if(W.translate(0,-j.ls),W.translate(0,T[1]*_e*.01+ee,0),this._pathData.p.v){var pt=180*Math.atan((se.point[1]-U.point[1])/(se.point[0]-U.point[0]))/Math.PI;se.point[0]<U.point[0]&&(pt+=180),W.rotate(-pt*Math.PI/180)}W.translate(Ie,Re,0),ae-=T[0]*Y[Z].an*.005,Y[Z+1]&&ge!==Y[Z+1].ind&&(ae+=Y[Z].an/2,ae+=.001*j.tr*j.finalSize)}else{switch(W.translate(re,ee,0),j.ps&&W.translate(j.ps[0],j.ps[1]+j.ascent,0),j.j){case 1:W.translate(Y[Z].animatorJustifyOffset+j.justifyOffset+(j.boxWidth-j.lineWidths[Y[Z].line]),0,0);break;case 2:W.translate(Y[Z].animatorJustifyOffset+j.justifyOffset+(j.boxWidth-j.lineWidths[Y[Z].line])/2,0,0)}W.translate(0,-j.ls),W.translate(Pe,0,0),W.translate(T[0]*Y[Z].an*.005,T[1]*_e*.01,0),re+=Y[Z].l+.001*j.tr*j.finalSize}"html"===B?ve=W.toCSS():"svg"===B?ve=W.to2dCSS():Te=[W.props[0],W.props[1],W.props[2],W.props[3],W.props[4],W.props[5],W.props[6],W.props[7],W.props[8],W.props[9],W.props[10],W.props[11],W.props[12],W.props[13],W.props[14],W.props[15]],Be=Oe}k<=Z?(Me=new LetterProps(Be,We,Qe,lt,ve,Te),this.renderedLetters.push(Me),k+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(Me=this.renderedLetters[Z]).update(Be,We,Qe,lt,ve,Te)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(j,F,T){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(j,F,T),this.textProperty=new TextProperty(this,j.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(j.t,this.renderType,this),this.initTransform(j,F,T),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(j){this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(j,F){var T,O,w=F.length,W="";for(T=0;T<w;T+=1)"sh"===F[T].ty&&(W+=buildShapeString(O=F[T].ks.k,O.i.length,!0,j));return W},ITextElement.prototype.updateDocumentData=function(j,F){this.textProperty.updateDocumentData(j,F)},ITextElement.prototype.canResizeFont=function(j){this.textProperty.canResizeFont(j)},ITextElement.prototype.setMinimumFontSize=function(j){this.textProperty.setMinimumFontSize(j)},ITextElement.prototype.applyTextPropertiesToMatrix=function(j,F,T,w,O){switch(j.ps&&F.translate(j.ps[0],j.ps[1]+j.ascent,0),F.translate(0,-j.ls,0),j.j){case 1:F.translate(j.justifyOffset+(j.boxWidth-j.lineWidths[T]),0,0);break;case 2:F.translate(j.justifyOffset+(j.boxWidth-j.lineWidths[T])/2,0,0)}F.translate(w,O,0)},ITextElement.prototype.buildColor=function(j){return"rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(j,F,T){this.textSpans=[],this.renderType="svg",this.initElement(j,F,T)}function ISolidElement(j,F,T){this.initElement(j,F,T)}function NullElement(j,F,T){this.initFrame(),this.initBaseData(j,F,T),this.initFrame(),this.initTransform(j,F,T),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(j,F,T){this.layers=j.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(j,F,T),this.tm=j.tm?PropertyFactory.getProp(this,j.tm,0,F.frameRate,this):{_placeholder:!0}}function SVGRenderer(j,F){this.animationItem=j,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var T="";if(F&&F.title){var w=createNS("title"),O=createElementID();w.setAttribute("id",O),w.textContent=F.title,this.svgElement.appendChild(w),T+=O}if(F&&F.description){var W=createNS("desc"),B=createElementID();W.setAttribute("id",B),W.textContent=F.description,this.svgElement.appendChild(W),T+=" "+B}T&&this.svgElement.setAttribute("aria-labelledby",T);var k=createNS("defs");this.svgElement.appendChild(k);var re=createNS("g");this.svgElement.appendChild(re),this.layerElement=re,this.renderConfig={preserveAspectRatio:F&&F.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:F&&F.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:F&&F.contentVisibility||"visible",progressiveLoad:F&&F.progressiveLoad||!1,hideOnTransparent:!(F&&!1===F.hideOnTransparent),viewBoxOnly:F&&F.viewBoxOnly||!1,viewBoxSize:F&&F.viewBoxSize||!1,className:F&&F.className||"",id:F&&F.id||"",focusable:F&&F.focusable,filterSize:{width:F&&F.filterSize&&F.filterSize.width||"100%",height:F&&F.filterSize&&F.filterSize.height||"100%",x:F&&F.filterSize&&F.filterSize.x||"0%",y:F&&F.filterSize&&F.filterSize.y||"0%"},width:F&&F.width,height:F&&F.height,runExpressions:!F||void 0===F.runExpressions||F.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:k,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var j;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),j=0;j<15;j+=1)this.saved[j]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(j){for(var F=0,T=j.length,w=[],O="";F<T;)j[F]===String.fromCharCode(13)||j[F]===String.fromCharCode(3)?(w.push(O),O=""):O+=j[F],F+=1;return w.push(O),w},SVGTextLottieElement.prototype.buildShapeData=function(j,F){if(j.shapes&&j.shapes.length){var T=j.shapes[0];if(T.it){var w=T.it[T.it.length-1];w.s&&(w.s.k[0]=F,w.s.k[1]=F)}}return j},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var j,F,T=this.textProperty.currentData;this.renderedLetters=createSizedArray(T?T.l.length:0),this.layerElement.setAttribute("fill",T.fc?this.buildColor(T.fc):"rgba(0,0,0,0)"),T.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(T.sc)),this.layerElement.setAttribute("stroke-width",T.sw)),this.layerElement.setAttribute("font-size",T.finalSize);var w=this.globalData.fontManager.getFontByName(T.f);if(w.fClass)this.layerElement.setAttribute("class",w.fClass);else{this.layerElement.setAttribute("font-family",w.fFamily);var O=T.fWeight;this.layerElement.setAttribute("font-style",T.fStyle),this.layerElement.setAttribute("font-weight",O)}this.layerElement.setAttribute("aria-label",T.t);var B=T.l||[],k=!!this.globalData.fontManager.chars;F=B.length;var re,ee=this.mHelper,G=this.data.singleShape,Y=0,ne=0,ae=!0,se=.001*T.tr*T.finalSize;if(!G||k||T.sz){var U,V=this.textSpans.length;for(j=0;j<F;j+=1){if(this.textSpans[j]||(this.textSpans[j]={span:null,childSpan:null,glyph:null}),!k||!G||0===j){if(re=V>j?this.textSpans[j].span:createNS(k?"g":"text"),V<=j){if(re.setAttribute("stroke-linecap","butt"),re.setAttribute("stroke-linejoin","round"),re.setAttribute("stroke-miterlimit","4"),this.textSpans[j].span=re,k){var $=createNS("g");re.appendChild($),this.textSpans[j].childSpan=$}this.textSpans[j].span=re,this.layerElement.appendChild(re)}re.style.display="inherit"}if(ee.reset(),G&&(B[j].n&&(Y=-se,ne+=T.yOffset,ne+=ae?1:0,ae=!1),this.applyTextPropertiesToMatrix(T,ee,B[j].line,Y,ne),Y+=B[j].l||0,Y+=se),k){var z;if(1===(U=this.globalData.fontManager.getCharData(T.finalText[j],w.fStyle,this.globalData.fontManager.getFontByName(T.f).fFamily)).t)z=new SVGCompElement(U.data,this.globalData,this);else{var J=emptyShapeData;U.data&&U.data.shapes&&(J=this.buildShapeData(U.data,T.finalSize)),z=new SVGShapeElement(J,this.globalData,this)}if(this.textSpans[j].glyph){var q=this.textSpans[j].glyph;this.textSpans[j].childSpan.removeChild(q.layerElement),q.destroy()}this.textSpans[j].glyph=z,z._debug=!0,z.prepareFrame(0),z.renderFrame(),this.textSpans[j].childSpan.appendChild(z.layerElement),1===U.t&&this.textSpans[j].childSpan.setAttribute("transform","scale("+T.finalSize/100+","+T.finalSize/100+")")}else G&&re.setAttribute("transform","translate("+ee.props[12]+","+ee.props[13]+")"),re.textContent=B[j].val,re.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}G&&re&&re.setAttribute("d","")}else{var ie=this.textContainer,te="start";switch(T.j){case 1:te="end";break;case 2:te="middle";break;default:te="start"}ie.setAttribute("text-anchor",te),ie.setAttribute("letter-spacing",se);var Q=this.buildTextContents(T.finalText);for(F=Q.length,ne=T.ps?T.ps[1]+T.ascent:0,j=0;j<F;j+=1)(re=this.textSpans[j].span||createNS("tspan")).textContent=Q[j],re.setAttribute("x",0),re.setAttribute("y",ne),re.style.display="inherit",ie.appendChild(re),this.textSpans[j]||(this.textSpans[j]={span:null,glyph:null}),this.textSpans[j].span=re,ne+=T.finalLineHeight;this.layerElement.appendChild(ie)}for(;j<this.textSpans.length;)this.textSpans[j].span.style.display="none",j+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var j=this.layerElement.getBBox();this.bbox={top:j.y,left:j.x,width:j.width,height:j.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var j,T,F=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,j=0;j<F;j+=1)(T=this.textSpans[j].glyph)&&(T.prepareFrame(this.comp.renderedFrame-this.data.st),T._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var j,F,O,W,B,T=this.textAnimator.renderedLetters,w=this.textProperty.currentData.l;for(F=w.length,j=0;j<F;j+=1)w[j].n||(O=T[j],W=this.textSpans[j].span,(B=this.textSpans[j].glyph)&&B.renderFrame(),O._mdf.m&&W.setAttribute("transform",O.m),O._mdf.o&&W.setAttribute("opacity",O.o),O._mdf.sw&&W.setAttribute("stroke-width",O.sw),O._mdf.sc&&W.setAttribute("stroke",O.sc),O._mdf.fc&&W.setAttribute("fill",O.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var j=createNS("rect");j.setAttribute("width",this.data.sw),j.setAttribute("height",this.data.sh),j.setAttribute("fill",this.data.sc),this.layerElement.appendChild(j)},NullElement.prototype.prepareFrame=function(j){this.prepareProperties(j,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(j){return new NullElement(j,this.globalData,this)},SVGRendererBase.prototype.createShape=function(j){return new SVGShapeElement(j,this.globalData,this)},SVGRendererBase.prototype.createText=function(j){return new SVGTextLottieElement(j,this.globalData,this)},SVGRendererBase.prototype.createImage=function(j){return new IImageElement(j,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(j){return new ISolidElement(j,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(j){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+j.w+" "+j.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",j.w),this.svgElement.setAttribute("height",j.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var F=this.globalData.defs;this.setupGlobalData(j,F),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=j;var T=createNS("clipPath"),w=createNS("rect");w.setAttribute("width",j.w),w.setAttribute("height",j.h),w.setAttribute("x",0),w.setAttribute("y",0);var O=createElementID();T.setAttribute("id",O),T.appendChild(w),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+O+")"),F.appendChild(T),this.layers=j.layers,this.elements=createSizedArray(j.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var j,F=this.layers?this.layers.length:0;for(j=0;j<F;j+=1)this.elements[j]&&this.elements[j].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(j){var F=0,T=this.layers.length;for(F=0;F<T;F+=1)if(this.layers[F].ind===j)return F;return-1},SVGRendererBase.prototype.buildItem=function(j){var F=this.elements;if(!F[j]&&99!==this.layers[j].ty){F[j]=!0;var T=this.createItem(this.layers[j]);if(F[j]=T,getExpressionsPlugin()&&(0===this.layers[j].ty&&this.globalData.projectInterface.registerComposition(T),T.initExpressions()),this.appendElementInPos(T,j),this.layers[j].tt){var w="tp"in this.layers[j]?this.findIndexByInd(this.layers[j].tp):j-1;if(-1===w)return;if(this.elements[w]&&!0!==this.elements[w]){var W=F[w].getMatte(this.layers[j].tt);T.setMatte(W)}else this.buildItem(w),this.addPendingElement(T)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var j=this.pendingElements.pop();if(j.checkParenting(),j.data.tt)for(var F=0,T=this.elements.length;F<T;){if(this.elements[F]===j){var w="tp"in j.data?this.findIndexByInd(j.data.tp):F-1,W=this.elements[w].getMatte(this.layers[F].tt);j.setMatte(W);break}F+=1}}},SVGRendererBase.prototype.renderFrame=function(j){if(this.renderedFrame!==j&&!this.destroyed){null===j?j=this.renderedFrame:this.renderedFrame=j,this.globalData.frameNum=j,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=j,this.globalData._mdf=!1;var F,T=this.layers.length;for(this.completeLayers||this.checkLayers(j),F=T-1;F>=0;F-=1)(this.completeLayers||this.elements[F])&&this.elements[F].prepareFrame(j-this.layers[F].st);if(this.globalData._mdf)for(F=0;F<T;F+=1)(this.completeLayers||this.elements[F])&&this.elements[F].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(j,F){var T=j.getBaseElement();if(T){for(var O,w=0;w<F;)this.elements[w]&&!0!==this.elements[w]&&this.elements[w].getBaseElement()&&(O=this.elements[w].getBaseElement()),w+=1;O?this.layerElement.insertBefore(T,O):this.layerElement.appendChild(T)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(j,F,T){this.initFrame(),this.initBaseData(j,F,T),this.initTransform(j,F,T),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!F.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(j){if(this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=j/this.data.sr;else{var F=this.tm.v;F===this.data.op&&(F=this.data.op-1),this.renderedFrame=F}var T,w=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),T=w-1;T>=0;T-=1)(this.completeLayers||this.elements[T])&&(this.elements[T].prepareFrame(this.renderedFrame-this.layers[T].st),this.elements[T]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var j,F=this.layers.length;for(j=0;j<F;j+=1)(this.completeLayers||this.elements[j])&&this.elements[j].renderFrame()},ICompElement.prototype.setElements=function(j){this.elements=j},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var j,F=this.layers.length;for(j=0;j<F;j+=1)this.elements[j]&&this.elements[j].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(j){return new SVGCompElement(j,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(j){return new SVGCompElement(j,this.globalData,this)},CVContextData.prototype.duplicate=function(){var j=2*this._length,F=this.savedOp;this.savedOp=createTypedArray("float32",j),this.savedOp.set(F);var T=0;for(T=this._length;T<j;T+=1)this.saved[T]=createTypedArray("float32",16);this._length=j},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var F,j=this.saved[this.cArrPos],T=this.cTr.props;for(F=0;F<16;F+=1)T[F]=j[F];return j},CVContextData.prototype.popOpacity=function(){var j=this.savedOp[this.cArrPos];return this.cO=j,j},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var j=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var F,T=this.saved[this.cArrPos];for(F=0;F<16;F+=1)T[F]=j[F];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(j){this.cO=j},ShapeTransformManager.prototype={addTransformSequence:function(F){var T,w=F.length,O="_";for(T=0;T<w;T+=1)O+=F[T].transform.key+"_";var W=this.sequences[O];return W||(W={transforms:[].concat(F),finalTransform:new Matrix,_mdf:!1},this.sequences[O]=W,this.sequenceList.push(W)),W},processSequence:function(F,T){for(var w=0,O=F.transforms.length,W=T;w<O&&!T;){if(F.transforms[w].transform.mProps._mdf){W=!0;break}w+=1}var B;if(W)for(F.finalTransform.reset(),w=O-1;w>=0;w-=1)F.finalTransform.transform((B=F.transforms[w].transform.mProps.v.props)[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],B[8],B[9],B[10],B[11],B[12],B[13],B[14],B[15]);F._mdf=W},processSequences:function(F){var T,w=this.sequenceList.length;for(T=0;T<w;T+=1)this.processSequence(this.sequenceList[T],F)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var F="__lottie_element_luma_buffer",T=null,w=null,O=null;function B(){T||(O=function W(){var re=createNS("svg"),ee=createNS("filter"),Z=createNS("feColorMatrix");return ee.setAttribute("id",F),Z.setAttribute("type","matrix"),Z.setAttribute("color-interpolation-filters","sRGB"),Z.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ee.appendChild(Z),re.appendChild(ee),re.setAttribute("id",F+"_svg"),featureSupport.svgLumaHidden&&(re.style.display="none"),re}(),document.body.appendChild(O),T=createTag("canvas"),(w=T.getContext("2d")).filter="url(#"+F+")",w.fillStyle="rgba(0,0,0,0)",w.fillRect(0,0,1,1))}return{load:B,get:function k(re){return T||B(),T.width=re.width,T.height=re.height,w.filter="url(#"+F+")",T}}};function createCanvas(j,F){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(j,F);var T=createTag("canvas");return T.width=j,T.height=F,T}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(j,F){this.data=j,this.element=F,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var T,w=this.masksProperties.length,O=!1;for(T=0;T<w;T+=1)"n"!==this.masksProperties[T].mode&&(O=!0),this.viewData[T]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[T],3);this.hasMasks=O,O&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var T,O,W,B,j=this.element.finalTransform.mat,F=this.element.canvasContext,w=this.masksProperties.length;for(F.beginPath(),T=0;T<w;T+=1)if("n"!==this.masksProperties[T].mode){this.masksProperties[T].inv&&(F.moveTo(0,0),F.lineTo(this.element.globalData.compSize.w,0),F.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),F.lineTo(0,this.element.globalData.compSize.h),F.lineTo(0,0)),O=j.applyToPointArray((B=this.viewData[T].v).v[0][0],B.v[0][1],0),F.moveTo(O[0],O[1]);var k,re=B._length;for(k=1;k<re;k+=1)W=j.applyToTriplePoints(B.o[k-1],B.i[k],B.v[k]),F.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);W=j.applyToTriplePoints(B.o[k-1],B.i[0],B.v[0]),F.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5])}this.element.globalData.renderer.save(!0),F.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(j,F,T,w){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var O=4;"rc"===F.ty?O=5:"el"===F.ty?O=6:"sr"===F.ty&&(O=7),this.sh=ShapePropertyFactory.getShapeProp(j,F,O,j);var W,k,B=T.length;for(W=0;W<B;W+=1)T[W].closed||(k={transforms:w.addTransformSequence(T[W].transforms),trNodes:[]},this.styledShapes.push(k),T[W].elements.push(k))}function CVShapeElement(j,F,T){this.shapes=[],this.shapesData=j.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(j,F,T)}function CVTextElement(j,F,T){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(j,F,T)}function CVImageElement(j,F,T){this.assetData=F.getAssetData(j.refId),this.img=F.imageLoader.getAsset(this.assetData),this.initElement(j,F,T)}function CVSolidElement(j,F,T){this.initElement(j,F,T)}function CanvasRendererBase(j,F){this.animationItem=j,this.renderConfig={clearCanvas:!F||void 0===F.clearCanvas||F.clearCanvas,context:F&&F.context||null,progressiveLoad:F&&F.progressiveLoad||!1,preserveAspectRatio:F&&F.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:F&&F.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:F&&F.contentVisibility||"visible",className:F&&F.className||"",id:F&&F.id||""},this.renderConfig.dpr=F&&F.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=F&&F.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(j,F,T){this.completeLayers=!1,this.layers=j.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(j,F,T),this.tm=j.tm?PropertyFactory.getProp(this,j.tm,0,F.frameRate,this):{_placeholder:!0}}function CanvasRenderer(j,F){this.animationItem=j,this.renderConfig={clearCanvas:!F||void 0===F.clearCanvas||F.clearCanvas,context:F&&F.context||null,progressiveLoad:F&&F.progressiveLoad||!1,preserveAspectRatio:F&&F.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:F&&F.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:F&&F.contentVisibility||"visible",className:F&&F.className||"",id:F&&F.id||"",runExpressions:!F||void 0===F.runExpressions||F.runExpressions},this.renderConfig.dpr=F&&F.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=F&&F.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(j,F,T){this.initElement(j,F,T)}function HShapeElement(j,F,T){this.shapes=[],this.shapesData=j.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(j,F,T),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(j,F,T){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(j,F,T)}function HCameraElement(j,F,T){this.initFrame(),this.initBaseData(j,F,T),this.initHierarchy();var w=PropertyFactory.getProp;if(this.pe=w(this,j.pe,0,0,this),j.ks.p.s?(this.px=w(this,j.ks.p.x,1,0,this),this.py=w(this,j.ks.p.y,1,0,this),this.pz=w(this,j.ks.p.z,1,0,this)):this.p=w(this,j.ks.p,1,0,this),j.ks.a&&(this.a=w(this,j.ks.a,1,0,this)),j.ks.or.k.length&&j.ks.or.k[0].to){var O,W=j.ks.or.k.length;for(O=0;O<W;O+=1)j.ks.or.k[O].to=null,j.ks.or.k[O].ti=null}this.or=w(this,j.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=w(this,j.ks.rx,0,degToRads,this),this.ry=w(this,j.ks.ry,0,degToRads,this),this.rz=w(this,j.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(j,F,T){this.assetData=F.getAssetData(j.refId),this.initElement(j,F,T)}function HybridRendererBase(j,F){this.animationItem=j,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:F&&F.className||"",imagePreserveAspectRatio:F&&F.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(F&&!1===F.hideOnTransparent),filterSize:{width:F&&F.filterSize&&F.filterSize.width||"400%",height:F&&F.filterSize&&F.filterSize.height||"400%",x:F&&F.filterSize&&F.filterSize.x||"-100%",y:F&&F.filterSize&&F.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(j,F,T){this.layers=j.layers,this.supports3d=!j.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(j,F,T),this.tm=j.tm?PropertyFactory.getProp(this,j.tm,0,F.frameRate,this):{_placeholder:!0}}function HybridRenderer(j,F){this.animationItem=j,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:F&&F.className||"",imagePreserveAspectRatio:F&&F.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(F&&!1===F.hideOnTransparent),filterSize:{width:F&&F.filterSize&&F.filterSize.width||"400%",height:F&&F.filterSize&&F.filterSize.height||"400%",x:F&&F.filterSize&&F.filterSize.x||"-100%",y:F&&F.filterSize&&F.filterSize.y||"-100%"},runExpressions:!F||void 0===F.runExpressions||F.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var F=this.globalData.canvasContext,T=assetLoader.createCanvas(F.canvas.width,F.canvas.height);this.buffers.push(T);var w=assetLoader.createCanvas(F.canvas.width,F.canvas.height);this.buffers.push(w),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var F=this.globalData;if(F.blendMode!==this.data.bm){F.blendMode=this.data.bm;var T=getBlendMode(this.data.bm);F.canvasContext.globalCompositeOperation=T}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(F){F.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var T=this.buffers[0].getContext("2d");this.clearCanvas(T),T.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var F=this.buffers[1],T=F.getContext("2d");if(this.clearCanvas(T),T.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var O=assetLoader.getLumaCanvas(this.canvasContext.canvas);O.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(O,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(F,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(F){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||F)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var T=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(T),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(T),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(j,F){var T={data:j,type:j.ty,preTransforms:this.transformsManager.addTransformSequence(F),transforms:[],elements:[],closed:!0===j.hd},w={};if("fl"===j.ty||"st"===j.ty?(w.c=PropertyFactory.getProp(this,j.c,1,255,this),w.c.k||(T.co="rgb("+bmFloor(w.c.v[0])+","+bmFloor(w.c.v[1])+","+bmFloor(w.c.v[2])+")")):("gf"===j.ty||"gs"===j.ty)&&(w.s=PropertyFactory.getProp(this,j.s,1,null,this),w.e=PropertyFactory.getProp(this,j.e,1,null,this),w.h=PropertyFactory.getProp(this,j.h||{k:0},0,.01,this),w.a=PropertyFactory.getProp(this,j.a||{k:0},0,degToRads,this),w.g=new GradientProperty(this,j.g,this)),w.o=PropertyFactory.getProp(this,j.o,0,.01,this),"st"===j.ty||"gs"===j.ty){if(T.lc=lineCapEnum[j.lc||2],T.lj=lineJoinEnum[j.lj||2],1==j.lj&&(T.ml=j.ml),w.w=PropertyFactory.getProp(this,j.w,0,null,this),w.w.k||(T.wi=w.w.v),j.d){var O=new DashProperty(this,j.d,"canvas",this);w.d=O,w.d.k||(T.da=w.d.dashArray,T.do=w.d.dashoffset[0])}}else T.r=2===j.r?"evenodd":"nonzero";return this.stylesList.push(T),w.style=T,w},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(j){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,j.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,j,this)}}},CVShapeElement.prototype.createShapeElement=function(j){var F=new CVShapeData(this,j,this.stylesList,this.transformsManager);return this.shapes.push(F),this.addShapeToModifiers(F),F},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var j,F=this.itemsData.length;for(j=0;j<F;j+=1)this.prevViewData[j]=this.itemsData[j];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),F=this.dynamicProperties.length,j=0;j<F;j+=1)this.dynamicProperties[j].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(j){var F,T=this.stylesList.length;for(F=0;F<T;F+=1)this.stylesList[F].closed||this.stylesList[F].transforms.push(j)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var j,F=this.stylesList.length;for(j=0;j<F;j+=1)this.stylesList[j].closed||this.stylesList[j].transforms.pop()},CVShapeElement.prototype.closeStyles=function(j){var F,T=j.length;for(F=0;F<T;F+=1)j[F].closed=!0},CVShapeElement.prototype.searchShapes=function(j,F,T,w,O){var W,k,re,G,Y,ne,B=j.length-1,ee=[],Z=[],ae=[].concat(O);for(W=B;W>=0;W-=1){if((G=this.searchProcessedElement(j[W]))?F[W]=T[G-1]:j[W]._shouldRender=w,"fl"===j[W].ty||"st"===j[W].ty||"gf"===j[W].ty||"gs"===j[W].ty)G?F[W].style.closed=!1:F[W]=this.createStyleElement(j[W],ae),ee.push(F[W].style);else if("gr"===j[W].ty){if(G)for(re=F[W].it.length,k=0;k<re;k+=1)F[W].prevViewData[k]=F[W].it[k];else F[W]=this.createGroupElement(j[W]);this.searchShapes(j[W].it,F[W].it,F[W].prevViewData,w,ae)}else"tr"===j[W].ty?(G||(ne=this.createTransformElement(j[W]),F[W]=ne),ae.push(F[W]),this.addTransformToStyleList(F[W])):"sh"===j[W].ty||"rc"===j[W].ty||"el"===j[W].ty||"sr"===j[W].ty?G||(F[W]=this.createShapeElement(j[W])):"tm"===j[W].ty||"rd"===j[W].ty||"pb"===j[W].ty||"zz"===j[W].ty||"op"===j[W].ty?(G?(Y=F[W]).closed=!1:((Y=ShapeModifiers.getModifier(j[W].ty)).init(this,j[W]),F[W]=Y,this.shapeModifiers.push(Y)),Z.push(Y)):"rp"===j[W].ty&&(G?(Y=F[W]).closed=!0:(Y=ShapeModifiers.getModifier(j[W].ty),F[W]=Y,Y.init(this,j,W,F),this.shapeModifiers.push(Y),w=!1),Z.push(Y));this.addProcessedElement(j[W],W+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ee),B=Z.length,W=0;W<B;W+=1)Z[W].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(j,F){(j._opMdf||F.op._mdf||this._isFirstFrame)&&(F.opacity=j.opacity,F.opacity*=F.op.v,F._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var j,T,w,O,W,B,k,Z,G,F=this.stylesList.length,re=this.globalData.renderer,ee=this.globalData.canvasContext;for(j=0;j<F;j+=1)if(("st"!==(Z=(G=this.stylesList[j]).type)&&"gs"!==Z||0!==G.wi)&&G.data._shouldRender&&0!==G.coOp&&0!==this.globalData.currentGlobalAlpha){for(re.save(),B=G.elements,"st"===Z||"gs"===Z?(ee.strokeStyle="st"===Z?G.co:G.grd,ee.lineWidth=G.wi,ee.lineCap=G.lc,ee.lineJoin=G.lj,ee.miterLimit=G.ml||0):ee.fillStyle="fl"===Z?G.co:G.grd,re.ctxOpacity(G.coOp),"st"!==Z&&"gs"!==Z&&ee.beginPath(),re.ctxTransform(G.preTransforms.finalTransform.props),w=B.length,T=0;T<w;T+=1){for(("st"===Z||"gs"===Z)&&(ee.beginPath(),G.da&&(ee.setLineDash(G.da),ee.lineDashOffset=G.do)),W=(k=B[T].trNodes).length,O=0;O<W;O+=1)"m"===k[O].t?ee.moveTo(k[O].p[0],k[O].p[1]):"c"===k[O].t?ee.bezierCurveTo(k[O].pts[0],k[O].pts[1],k[O].pts[2],k[O].pts[3],k[O].pts[4],k[O].pts[5]):ee.closePath();("st"===Z||"gs"===Z)&&(ee.stroke(),G.da&&ee.setLineDash(this.dashResetter))}"st"!==Z&&"gs"!==Z&&ee.fill(G.r),re.restore()}},CVShapeElement.prototype.renderShape=function(j,F,T,w){var O,B;for(B=j,O=F.length-1;O>=0;O-=1)"tr"===F[O].ty?this.renderShapeTransform(j,B=T[O].transform):"sh"===F[O].ty||"el"===F[O].ty||"rc"===F[O].ty||"sr"===F[O].ty?this.renderPath(F[O],T[O]):"fl"===F[O].ty?this.renderFill(F[O],T[O],B):"st"===F[O].ty?this.renderStroke(F[O],T[O],B):"gf"===F[O].ty||"gs"===F[O].ty?this.renderGradientFill(F[O],T[O],B):"gr"===F[O].ty&&this.renderShape(B,F[O].it,T[O].it);w&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(j,F){if(this._isFirstFrame||F._mdf||j.transforms._mdf){var O,W,B,T=j.trNodes,w=F.paths,k=w._length;T.length=0;var re=j.transforms.finalTransform;for(B=0;B<k;B+=1){var ee=w.shapes[B];if(ee&&ee.v){for(W=ee._length,O=1;O<W;O+=1)1===O&&T.push({t:"m",p:re.applyToPointArray(ee.v[0][0],ee.v[0][1],0)}),T.push({t:"c",pts:re.applyToTriplePoints(ee.o[O-1],ee.i[O],ee.v[O])});1===W&&T.push({t:"m",p:re.applyToPointArray(ee.v[0][0],ee.v[0][1],0)}),ee.c&&W&&(T.push({t:"c",pts:re.applyToTriplePoints(ee.o[O-1],ee.i[0],ee.v[0])}),T.push({t:"z"}))}}j.trNodes=T}},CVShapeElement.prototype.renderPath=function(j,F){if(!0!==j.hd&&j._shouldRender){var T,w=F.styledShapes.length;for(T=0;T<w;T+=1)this.renderStyledShape(F.styledShapes[T],F.sh)}},CVShapeElement.prototype.renderFill=function(j,F,T){var w=F.style;(F.c._mdf||this._isFirstFrame)&&(w.co="rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||T._opMdf||this._isFirstFrame)&&(w.coOp=F.o.v*T.opacity)},CVShapeElement.prototype.renderGradientFill=function(j,F,T){var O,w=F.style;if(!w.grd||F.g._mdf||F.s._mdf||F.e._mdf||1!==j.t&&(F.h._mdf||F.a._mdf)){var W=this.globalData.canvasContext,B=F.s.v,k=F.e.v;if(1===j.t)O=W.createLinearGradient(B[0],B[1],k[0],k[1]);else{var re=Math.sqrt(Math.pow(B[0]-k[0],2)+Math.pow(B[1]-k[1],2)),ee=Math.atan2(k[1]-B[1],k[0]-B[0]),Z=F.h.v;Z>=1?Z=.99:Z<=-1&&(Z=-.99);var G=re*Z,Y=Math.cos(ee+F.a.v)*G+B[0],ne=Math.sin(ee+F.a.v)*G+B[1];O=W.createRadialGradient(Y,ne,0,B[0],B[1],re)}var ae,se=j.g.p,ie=F.g.c,te=1;for(ae=0;ae<se;ae+=1)F.g._hasOpacity&&F.g._collapsable&&(te=F.g.o[2*ae+1]),O.addColorStop(ie[4*ae]/100,"rgba("+ie[4*ae+1]+","+ie[4*ae+2]+","+ie[4*ae+3]+","+te+")");w.grd=O}w.coOp=F.o.v*T.opacity},CVShapeElement.prototype.renderStroke=function(j,F,T){var w=F.style,O=F.d;O&&(O._mdf||this._isFirstFrame)&&(w.da=O.dashArray,w.do=O.dashoffset[0]),(F.c._mdf||this._isFirstFrame)&&(w.co="rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||T._opMdf||this._isFirstFrame)&&(w.coOp=F.o.v*T.opacity),(F.w._mdf||this._isFirstFrame)&&(w.wi=F.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var j=this.textProperty.currentData;this.renderedLetters=createSizedArray(j.l?j.l.length:0);var F=!1;j.fc?(F=!0,this.values.fill=this.buildColor(j.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=F;var T=!1;j.sc&&(T=!0,this.values.stroke=this.buildColor(j.sc),this.values.sWidth=j.sw);var O,W,w=this.globalData.fontManager.getFontByName(j.f),B=j.l,k=this.mHelper;this.stroke=T,this.values.fValue=j.finalSize+"px "+this.globalData.fontManager.getFontByName(j.f).fFamily,W=j.finalText.length;var re,ee,Z,G,Y,ne,ae,se,ie,te,Q=this.data.singleShape,V=.001*j.tr*j.finalSize,U=0,$=0,z=!0,J=0;for(O=0;O<W;O+=1){ee=(re=this.globalData.fontManager.getCharData(j.finalText[O],w.fStyle,this.globalData.fontManager.getFontByName(j.f).fFamily))&&re.data||{},k.reset(),Q&&B[O].n&&(U=-V,$+=j.yOffset,$+=z?1:0,z=!1),ae=(Y=ee.shapes?ee.shapes[0].it:[]).length,k.scale(j.finalSize/100,j.finalSize/100),Q&&this.applyTextPropertiesToMatrix(j,k,B[O].line,U,$),ie=createSizedArray(ae-1);var q=0;for(ne=0;ne<ae;ne+=1)if("sh"===Y[ne].ty){for(G=Y[ne].ks.k.i.length,se=Y[ne].ks.k,te=[],Z=1;Z<G;Z+=1)1===Z&&te.push(k.applyToX(se.v[0][0],se.v[0][1],0),k.applyToY(se.v[0][0],se.v[0][1],0)),te.push(k.applyToX(se.o[Z-1][0],se.o[Z-1][1],0),k.applyToY(se.o[Z-1][0],se.o[Z-1][1],0),k.applyToX(se.i[Z][0],se.i[Z][1],0),k.applyToY(se.i[Z][0],se.i[Z][1],0),k.applyToX(se.v[Z][0],se.v[Z][1],0),k.applyToY(se.v[Z][0],se.v[Z][1],0));te.push(k.applyToX(se.o[Z-1][0],se.o[Z-1][1],0),k.applyToY(se.o[Z-1][0],se.o[Z-1][1],0),k.applyToX(se.i[0][0],se.i[0][1],0),k.applyToY(se.i[0][0],se.i[0][1],0),k.applyToX(se.v[0][0],se.v[0][1],0),k.applyToY(se.v[0][0],se.v[0][1],0)),ie[q]=te,q+=1}Q&&(U+=B[O].l,U+=V),this.textSpans[J]?this.textSpans[J].elem=ie:this.textSpans[J]={elem:ie},J+=1}},CVTextElement.prototype.renderInnerContent=function(){var j=this.canvasContext;j.font=this.values.fValue,j.lineCap="butt",j.lineJoin="miter",j.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var F,T,w,O,W,B,k=this.textAnimator.renderedLetters,re=this.textProperty.currentData.l;T=re.length;var ee,ne,ae,Z=null,G=null,Y=null;for(F=0;F<T;F+=1)if(!re[F].n){if((ee=k[F])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(ee.p),this.globalData.renderer.ctxOpacity(ee.o)),this.fill){for(ee&&ee.fc?Z!==ee.fc&&(Z=ee.fc,j.fillStyle=ee.fc):Z!==this.values.fill&&(Z=this.values.fill,j.fillStyle=this.values.fill),O=(ne=this.textSpans[F].elem).length,this.globalData.canvasContext.beginPath(),w=0;w<O;w+=1)for(B=(ae=ne[w]).length,this.globalData.canvasContext.moveTo(ae[0],ae[1]),W=2;W<B;W+=6)this.globalData.canvasContext.bezierCurveTo(ae[W],ae[W+1],ae[W+2],ae[W+3],ae[W+4],ae[W+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(ee&&ee.sw?Y!==ee.sw&&(Y=ee.sw,j.lineWidth=ee.sw):Y!==this.values.sWidth&&(Y=this.values.sWidth,j.lineWidth=this.values.sWidth),ee&&ee.sc?G!==ee.sc&&(G=ee.sc,j.strokeStyle=ee.sc):G!==this.values.stroke&&(G=this.values.stroke,j.strokeStyle=this.values.stroke),O=(ne=this.textSpans[F].elem).length,this.globalData.canvasContext.beginPath(),w=0;w<O;w+=1)for(B=(ae=ne[w]).length,this.globalData.canvasContext.moveTo(ae[0],ae[1]),W=2;W<B;W+=6)this.globalData.canvasContext.bezierCurveTo(ae[W],ae[W+1],ae[W+2],ae[W+3],ae[W+4],ae[W+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}ee&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var j=createTag("canvas");j.width=this.assetData.w,j.height=this.assetData.h;var B,k,F=j.getContext("2d"),T=this.img.width,w=this.img.height,O=T/w,W=this.assetData.w/this.assetData.h,re=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;O>W&&"xMidYMid slice"===re||O<W&&"xMidYMid slice"!==re?B=(k=w)*W:k=(B=T)/W,F.drawImage(this.img,(T-B)/2,(w-k)/2,B,k,0,0,this.assetData.w,this.assetData.h),this.img=j}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var j=this.canvasContext;j.fillStyle=this.data.sc,j.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(j){return new CVShapeElement(j,this.globalData,this)},CanvasRendererBase.prototype.createText=function(j){return new CVTextElement(j,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(j){return new CVImageElement(j,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(j){return new CVSolidElement(j,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(j){if(1!==j[0]||0!==j[1]||0!==j[4]||1!==j[5]||0!==j[12]||0!==j[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(j[0],j[1],j[4],j[5],j[12],j[13]);this.transformMat.cloneFromProps(j);var F=this.contextData.getTransform(),T=F.props;this.transformMat.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),F.cloneFromProps(this.transformMat.props);var w=F.props;this.canvasContext.setTransform(w[0],w[1],w[4],w[5],w[12],w[13])}},CanvasRendererBase.prototype.ctxOpacity=function(j){var F=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=j<0?0:j,void(this.globalData.currentGlobalAlpha=F);this.contextData.setOpacity(F*=j<0?0:j),this.globalData.currentGlobalAlpha!==F&&(this.canvasContext.globalAlpha=F,this.globalData.currentGlobalAlpha=F)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(j){this.renderConfig.clearCanvas?(j&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(j){if(this.renderConfig.clearCanvas){j&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var F=this.contextData.pop(),T=F.transform,w=F.opacity;this.canvasContext.setTransform(T[0],T[1],T[4],T[5],T[12],T[13]),this.globalData.currentGlobalAlpha!==w&&(this.canvasContext.globalAlpha=w,this.globalData.currentGlobalAlpha=w)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(j){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var F=this.animationItem.container.style;F.width="100%",F.height="100%";var T="0px 0px 0px";F.transformOrigin=T,F.mozTransformOrigin=T,F.webkitTransformOrigin=T,F["-webkit-transform"]=T,F.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=j,this.layers=j.layers,this.transformCanvas={w:j.w,h:j.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(j,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(j.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(j,F){var T,w,O,W;if(this.reset(),j?(w=F,this.canvasContext.canvas.width=T=j,this.canvasContext.canvas.height=w):(this.animationItem.wrapper&&this.animationItem.container?(T=this.animationItem.wrapper.offsetWidth,w=this.animationItem.wrapper.offsetHeight):(T=this.canvasContext.canvas.width,w=this.canvasContext.canvas.height),this.canvasContext.canvas.width=T*this.renderConfig.dpr,this.canvasContext.canvas.height=w*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var B=this.renderConfig.preserveAspectRatio.split(" "),k=B[1]||"meet",re=B[0]||"xMidYMid",ee=re.substr(0,4),Z=re.substr(4);(W=this.transformCanvas.w/this.transformCanvas.h)>(O=T/w)&&"meet"===k||W<O&&"slice"===k?(this.transformCanvas.sx=T/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=T/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=w/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=w/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===ee&&(W<O&&"meet"===k||W>O&&"slice"===k)?(T-this.transformCanvas.w*(w/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===ee&&(W<O&&"meet"===k||W>O&&"slice"===k)?(T-this.transformCanvas.w*(w/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===Z&&(W>O&&"meet"===k||W<O&&"slice"===k)?(w-this.transformCanvas.h*(T/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===Z&&(W>O&&"meet"===k||W<O&&"slice"===k)?(w-this.transformCanvas.h*(T/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=T/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=w/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var j;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),j=(this.layers?this.layers.length:0)-1;j>=0;j-=1)this.elements[j]&&this.elements[j].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(j,F){if((this.renderedFrame!==j||!0!==this.renderConfig.clearCanvas||F)&&!this.destroyed&&-1!==j){this.renderedFrame=j,this.globalData.frameNum=j-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||F,this.globalData.projectInterface.currentFrame=j;var T,w=this.layers.length;for(this.completeLayers||this.checkLayers(j),T=0;T<w;T+=1)(this.completeLayers||this.elements[T])&&this.elements[T].prepareFrame(j-this.layers[T].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),T=w-1;T>=0;T-=1)(this.completeLayers||this.elements[T])&&this.elements[T].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(j){var F=this.elements;if(!F[j]&&99!==this.layers[j].ty){var T=this.createItem(this.layers[j],this,this.globalData);F[j]=T,T.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var F,j=this.canvasContext;for(j.beginPath(),j.moveTo(0,0),j.lineTo(this.data.w,0),j.lineTo(this.data.w,this.data.h),j.lineTo(0,this.data.h),j.lineTo(0,0),j.clip(),F=this.layers.length-1;F>=0;F-=1)(this.completeLayers||this.elements[F])&&this.elements[F].renderFrame()},CVCompElement.prototype.destroy=function(){var j;for(j=this.layers.length-1;j>=0;j-=1)this.elements[j]&&this.elements[j].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(j){return new CVCompElement(j,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(j){return new CVCompElement(j,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var F=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var T=this.finalTransform.mat.toCSS();F.transform=T,F.webkitTransform=T}this.finalTransform._opMdf&&(F.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var j;this.data.hasMask?((j=createNS("rect")).setAttribute("width",this.data.sw),j.setAttribute("height",this.data.sh),j.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((j=createTag("div")).style.width=this.data.sw+"px",j.style.height=this.data.sh+"px",j.style.backgroundColor=this.data.sc),this.layerElement.appendChild(j)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var j;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),j=this.svgElement;else{j=createNS("svg");var F=this.comp.data?this.comp.data:this.globalData.compSize;j.setAttribute("width",F.w),j.setAttribute("height",F.h),j.appendChild(this.shapesContainer),this.layerElement.appendChild(j)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=j},HShapeElement.prototype.getTransformedPoint=function(j,F){var T,w=j.length;for(T=0;T<w;T+=1)F=j[T].mProps.v.applyToPointArray(F[0],F[1],0);return F},HShapeElement.prototype.calculateShapeBoundingBox=function(j,F){var O,B,k,re,ee,T=j.sh.v,w=j.transformers,W=T._length;if(!(W<=1)){for(O=0;O<W-1;O+=1)B=this.getTransformedPoint(w,T.v[O]),k=this.getTransformedPoint(w,T.o[O]),re=this.getTransformedPoint(w,T.i[O+1]),ee=this.getTransformedPoint(w,T.v[O+1]),this.checkBounds(B,k,re,ee,F);T.c&&(B=this.getTransformedPoint(w,T.v[O]),k=this.getTransformedPoint(w,T.o[O]),re=this.getTransformedPoint(w,T.i[0]),ee=this.getTransformedPoint(w,T.v[0]),this.checkBounds(B,k,re,ee,F))}},HShapeElement.prototype.checkBounds=function(j,F,T,w,O){this.getBoundsOfCurve(j,F,T,w);var W=this.shapeBoundingBox;O.x=bmMin(W.left,O.x),O.xMax=bmMax(W.right,O.xMax),O.y=bmMin(W.top,O.y),O.yMax=bmMax(W.bottom,O.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(j,F,T,w){for(var W,B,k,re,ee,Z,G,O=[[j[0],w[0]],[j[1],w[1]]],Y=0;Y<2;++Y)B=6*j[Y]-12*F[Y]+6*T[Y],W=-3*j[Y]+9*F[Y]-9*T[Y]+3*w[Y],k=3*F[Y]-3*j[Y],B|=0,k|=0,0==(W|=0)&&0===B||(0===W?(re=-k/B)>0&&re<1&&O[Y].push(this.calculateF(re,j,F,T,w,Y)):(ee=B*B-4*k*W)>=0&&((Z=(-B+bmSqrt(ee))/(2*W))>0&&Z<1&&O[Y].push(this.calculateF(Z,j,F,T,w,Y)),(G=(-B-bmSqrt(ee))/(2*W))>0&&G<1&&O[Y].push(this.calculateF(G,j,F,T,w,Y))));this.shapeBoundingBox.left=bmMin.apply(null,O[0]),this.shapeBoundingBox.top=bmMin.apply(null,O[1]),this.shapeBoundingBox.right=bmMax.apply(null,O[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,O[1])},HShapeElement.prototype.calculateF=function(j,F,T,w,O,W){return bmPow(1-j,3)*F[W]+3*bmPow(1-j,2)*j*T[W]+3*(1-j)*bmPow(j,2)*w[W]+bmPow(j,3)*O[W]},HShapeElement.prototype.calculateBoundingBox=function(j,F){var T,w=j.length;for(T=0;T<w;T+=1)j[T]&&j[T].sh?this.calculateShapeBoundingBox(j[T],F):j[T]&&j[T].it?this.calculateBoundingBox(j[T].it,F):j[T]&&j[T].style&&j[T].w&&this.expandStrokeBoundingBox(j[T].w,F)},HShapeElement.prototype.expandStrokeBoundingBox=function(j,F){var T=0;if(j.keyframes){for(var w=0;w<j.keyframes.length;w+=1){var O=j.keyframes[w].s;O>T&&(T=O)}T*=j.mult}else T=j.v*j.mult;F.x-=T,F.xMax+=T,F.y-=T,F.yMax+=T},HShapeElement.prototype.currentBoxContains=function(j){return this.currentBBox.x<=j.x&&this.currentBBox.y<=j.y&&this.currentBBox.width+this.currentBBox.x>=j.x+j.width&&this.currentBBox.height+this.currentBBox.y>=j.y+j.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var j=this.tempBoundingBox,F=999999;if(j.x=F,j.xMax=-F,j.y=F,j.yMax=-F,this.calculateBoundingBox(this.itemsData,j),j.width=j.xMax<j.x?0:j.xMax-j.x,j.height=j.yMax<j.y?0:j.yMax-j.y,this.currentBoxContains(j))return;var T=!1;if(this.currentBBox.w!==j.width&&(this.currentBBox.w=j.width,this.shapeCont.setAttribute("width",j.width),T=!0),this.currentBBox.h!==j.height&&(this.currentBBox.h=j.height,this.shapeCont.setAttribute("height",j.height),T=!0),T||this.currentBBox.x!==j.x||this.currentBBox.y!==j.y){this.currentBBox.w=j.width,this.currentBBox.h=j.height,this.currentBBox.x=j.x,this.currentBBox.y=j.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var w=this.shapeCont.style,O="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";w.transform=O,w.webkitTransform=O}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var j=createNS("g");this.maskedElement.appendChild(j),this.innerElem=j}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var j=this.textProperty.currentData;this.renderedLetters=createSizedArray(j.l?j.l.length:0);var F=this.innerElem.style,T=j.fc?this.buildColor(j.fc):"rgba(0,0,0,0)";F.fill=T,F.color=T,j.sc&&(F.stroke=this.buildColor(j.sc),F.strokeWidth=j.sw+"px");var w=this.globalData.fontManager.getFontByName(j.f);if(!this.globalData.fontManager.chars)if(F.fontSize=j.finalSize+"px",F.lineHeight=j.finalSize+"px",w.fClass)this.innerElem.className=w.fClass;else{F.fontFamily=w.fFamily;var O=j.fWeight;F.fontStyle=j.fStyle,F.fontWeight=O}var B,k,re=j.l;k=re.length;var ee,Z,G,ne,Y=this.mHelper,ae="",se=0;for(B=0;B<k;B+=1){if(this.globalData.fontManager.chars?(this.textPaths[se]?ee=this.textPaths[se]:((ee=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),ee.setAttribute("stroke-linejoin",lineJoinEnum[2]),ee.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[se]?G=(Z=this.textSpans[se]).children[0]:((Z=createTag("div")).style.lineHeight=0,(G=createNS("svg")).appendChild(ee),styleDiv(Z)))):this.isMasked?ee=this.textPaths[se]?this.textPaths[se]:createNS("text"):this.textSpans[se]?(Z=this.textSpans[se],ee=this.textPaths[se]):(styleDiv(Z=createTag("span")),styleDiv(ee=createTag("span")),Z.appendChild(ee)),this.globalData.fontManager.chars){var te,ie=this.globalData.fontManager.getCharData(j.finalText[B],w.fStyle,this.globalData.fontManager.getFontByName(j.f).fFamily);if(te=ie?ie.data:null,Y.reset(),te&&te.shapes&&te.shapes.length&&(ne=te.shapes[0].it,Y.scale(j.finalSize/100,j.finalSize/100),ae=this.createPathShape(Y,ne),ee.setAttribute("d",ae)),this.isMasked)this.innerElem.appendChild(ee);else{if(this.innerElem.appendChild(Z),te&&te.shapes){document.body.appendChild(G);var Q=G.getBBox();G.setAttribute("width",Q.width+2),G.setAttribute("height",Q.height+2),G.setAttribute("viewBox",Q.x-1+" "+(Q.y-1)+" "+(Q.width+2)+" "+(Q.height+2));var V=G.style,U="translate("+(Q.x-1)+"px,"+(Q.y-1)+"px)";V.transform=U,V.webkitTransform=U,re[B].yOffset=Q.y-1}else G.setAttribute("width",1),G.setAttribute("height",1);Z.appendChild(G)}}else if(ee.textContent=re[B].val,ee.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ee);else{this.innerElem.appendChild(Z);var $=ee.style,z="translate3d(0,"+-j.finalSize/1.2+"px,0)";$.transform=z,$.webkitTransform=z}this.textSpans[se]=this.isMasked?ee:Z,this.textSpans[se].style.display="block",this.textPaths[se]=ee,se+=1}for(;se<this.textSpans.length;)this.textSpans[se].style.display="none",se+=1},HTextElement.prototype.renderInnerContent=function(){var j;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var F="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(j=this.svgElement.style).transform=F,j.webkitTransform=F}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var T,w,k,re,ee,O=0,W=this.textAnimator.renderedLetters,B=this.textProperty.currentData.l;for(w=B.length,T=0;T<w;T+=1)B[T].n?O+=1:(re=this.textSpans[T],ee=this.textPaths[T],k=W[O],O+=1,k._mdf.m&&(this.isMasked?re.setAttribute("transform",k.m):(re.style.webkitTransform=k.m,re.style.transform=k.m)),re.style.opacity=k.o,k.sw&&k._mdf.sw&&ee.setAttribute("stroke-width",k.sw),k.sc&&k._mdf.sc&&ee.setAttribute("stroke",k.sc),k.fc&&k._mdf.fc&&(ee.setAttribute("fill",k.fc),ee.style.color=k.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Z=this.innerElem.getBBox();if(this.currentBBox.w!==Z.width&&(this.currentBBox.w=Z.width,this.svgElement.setAttribute("width",Z.width)),this.currentBBox.h!==Z.height&&(this.currentBBox.h=Z.height,this.svgElement.setAttribute("height",Z.height)),this.currentBBox.w!==Z.width+2||this.currentBBox.h!==Z.height+2||this.currentBBox.x!==Z.x-1||this.currentBBox.y!==Z.y-1){this.currentBBox.w=Z.width+2,this.currentBBox.h=Z.height+2,this.currentBBox.x=Z.x-1,this.currentBBox.y=Z.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Y="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(j=this.svgElement.style).transform=Y,j.webkitTransform=Y}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var j,T,w,O,F=this.comp.threeDElements.length;for(j=0;j<F;j+=1)if("3d"===(T=this.comp.threeDElements[j]).type){O=T.container.style;var W=this.pe.v+"px",B="0px 0px 0px",k="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(w=T.perspectiveElem.style).perspective=W,w.webkitPerspective=W,O.transformOrigin=B,O.mozTransformOrigin=B,O.webkitTransformOrigin=B,w.transform=k,w.webkitTransform=k}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var F,T,j=this._isFirstFrame;if(this.hierarchy)for(T=this.hierarchy.length,F=0;F<T;F+=1)j=this.hierarchy[F].finalTransform.mProp._mdf||j;if(j||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(F=T=this.hierarchy.length-1;F>=0;F-=1){var w=this.hierarchy[F].finalTransform.mProp;this.mat.translate(-w.p.v[0],-w.p.v[1],w.p.v[2]),this.mat.rotateX(-w.or.v[0]).rotateY(-w.or.v[1]).rotateZ(w.or.v[2]),this.mat.rotateX(-w.rx.v).rotateY(-w.ry.v).rotateZ(w.rz.v),this.mat.scale(1/w.s.v[0],1/w.s.v[1],1/w.s.v[2]),this.mat.translate(w.a.v[0],w.a.v[1],w.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var O;O=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var W=Math.sqrt(Math.pow(O[0],2)+Math.pow(O[1],2)+Math.pow(O[2],2)),B=[O[0]/W,O[1]/W,O[2]/W],k=Math.sqrt(B[2]*B[2]+B[0]*B[0]),re=Math.atan2(B[1],k),ee=Math.atan2(B[0],-B[2]);this.mat.rotateY(ee).rotateX(-re)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Z=!this._prevMat.equals(this.mat);if((Z||this.pe._mdf)&&this.comp.threeDElements){var G,Y,ne;for(T=this.comp.threeDElements.length,F=0;F<T;F+=1)if("3d"===(G=this.comp.threeDElements[F]).type){if(Z){var ae=this.mat.toCSS();(ne=G.container.style).transform=ae,ne.webkitTransform=ae}this.pe._mdf&&((Y=G.perspectiveElem.style).perspective=this.pe.v+"px",Y.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(j){this.prepareProperties(j,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var j=this.globalData.getAssetsPath(this.assetData),F=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",j),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(F),F.crossOrigin="anonymous",F.src=j,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(j,F){var T=j.getBaseElement();if(T){var w=this.layers[F];if(w.ddd&&this.supports3d)this.addTo3dContainer(T,F);else if(this.threeDElements)this.addTo3dContainer(T,F);else{for(var W,B,O=0;O<F;)this.elements[O]&&!0!==this.elements[O]&&this.elements[O].getBaseElement&&(B=this.elements[O],W=(this.layers[O].ddd?this.getThreeDContainerByPos(O):B.getBaseElement())||W),O+=1;W?(!w.ddd||!this.supports3d)&&this.layerElement.insertBefore(T,W):(!w.ddd||!this.supports3d)&&this.layerElement.appendChild(T)}}},HybridRendererBase.prototype.createShape=function(j){return this.supports3d?new HShapeElement(j,this.globalData,this):new SVGShapeElement(j,this.globalData,this)},HybridRendererBase.prototype.createText=function(j){return this.supports3d?new HTextElement(j,this.globalData,this):new SVGTextLottieElement(j,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(j){return this.camera=new HCameraElement(j,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(j){return this.supports3d?new HImageElement(j,this.globalData,this):new IImageElement(j,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(j){return this.supports3d?new HSolidElement(j,this.globalData,this):new ISolidElement(j,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(j){for(var F=0,T=this.threeDElements.length;F<T;){if(this.threeDElements[F].startPos<=j&&this.threeDElements[F].endPos>=j)return this.threeDElements[F].perspectiveElem;F+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(j,F){var w,O,T=createTag("div");styleDiv(T);var W=createTag("div");if(styleDiv(W),"3d"===F){(w=T.style).width=this.globalData.compSize.w+"px",w.height=this.globalData.compSize.h+"px";var B="50% 50%";w.webkitTransformOrigin=B,w.mozTransformOrigin=B,w.transformOrigin=B;var k="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(O=W.style).transform=k,O.webkitTransform=k}T.appendChild(W);var re={container:W,perspectiveElem:T,startPos:j,endPos:j,type:F};return this.threeDElements.push(re),re},HybridRendererBase.prototype.build3dContainers=function(){var j,T,F=this.layers.length,w="";for(j=0;j<F;j+=1)this.layers[j].ddd&&3!==this.layers[j].ty?("3d"!==w&&(w="3d",T=this.createThreeDContainer(j,"3d")),T.endPos=Math.max(T.endPos,j)):("2d"!==w&&(w="2d",T=this.createThreeDContainer(j,"2d")),T.endPos=Math.max(T.endPos,j));for(j=(F=this.threeDElements.length)-1;j>=0;j-=1)this.resizerElem.appendChild(this.threeDElements[j].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(j,F){for(var T=0,w=this.threeDElements.length;T<w;){if(F<=this.threeDElements[T].endPos){for(var W,O=this.threeDElements[T].startPos;O<F;)this.elements[O]&&this.elements[O].getBaseElement&&(W=this.elements[O].getBaseElement()),O+=1;W?this.threeDElements[T].container.insertBefore(j,W):this.threeDElements[T].container.appendChild(j);break}T+=1}},HybridRendererBase.prototype.configAnimation=function(j){var F=createTag("div"),T=this.animationItem.wrapper,w=F.style;w.width=j.w+"px",w.height=j.h+"px",this.resizerElem=F,styleDiv(F),w.transformStyle="flat",w.mozTransformStyle="flat",w.webkitTransformStyle="flat",this.renderConfig.className&&F.setAttribute("class",this.renderConfig.className),T.appendChild(F),w.overflow="hidden";var O=createNS("svg");O.setAttribute("width","1"),O.setAttribute("height","1"),styleDiv(O),this.resizerElem.appendChild(O);var W=createNS("defs");O.appendChild(W),this.data=j,this.setupGlobalData(j,O),this.globalData.defs=W,this.layers=j.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var j,F=this.layers?this.layers.length:0;for(j=0;j<F;j+=1)this.elements[j].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var O,W,B,k,j=this.animationItem.wrapper.offsetWidth,F=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>j/F?(O=j/this.globalData.compSize.w,W=j/this.globalData.compSize.w,B=0,k=(F-this.globalData.compSize.h*(j/this.globalData.compSize.w))/2):(O=F/this.globalData.compSize.h,W=F/this.globalData.compSize.h,B=(j-this.globalData.compSize.w*(F/this.globalData.compSize.h))/2,k=0);var re=this.resizerElem.style;re.webkitTransform="matrix3d("+O+",0,0,0,0,"+W+",0,0,0,0,1,0,"+B+","+k+",0,1)",re.transform=re.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var T,j=this.globalData.compSize.w,F=this.globalData.compSize.h,w=this.threeDElements.length;for(T=0;T<w;T+=1){var O=this.threeDElements[T].perspectiveElem.style;O.webkitPerspective=Math.sqrt(Math.pow(j,2)+Math.pow(F,2))+"px",O.perspective=O.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(j){var F,T=j.length,w=createTag("div");for(F=0;F<T;F+=1)if(j[F].xt){var O=this.createComp(j[F],w,this.globalData.comp,null);O.initExpressions(),this.globalData.projectInterface.registerComposition(O)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(j,F){for(var w,T=0;T<F;)this.elements[T]&&this.elements[T].getBaseElement&&(w=this.elements[T].getBaseElement()),T+=1;w?this.layerElement.insertBefore(j,w):this.layerElement.appendChild(j)},HCompElement.prototype.createComp=function(j){return this.supports3d?new HCompElement(j,this.globalData,this):new SVGCompElement(j,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(j){return this.supports3d?new HCompElement(j,this.globalData,this):new SVGCompElement(j,this.globalData,this)};var CompExpressionInterface=function(j){function F(T){for(var w=0,O=j.layers.length;w<O;){if(j.layers[w].nm===T||j.layers[w].ind===T)return j.elements[w].layerInterface;w+=1}return null}return Object.defineProperty(F,"_name",{value:j.data.nm}),F.layer=F,F.pixelAspect=1,F.height=j.data.h||j.globalData.compSize.h,F.width=j.data.w||j.globalData.compSize.w,F.pixelAspect=1,F.frameDuration=1/j.globalData.frameRate,F.displayStartTime=0,F.numLayers=j.layers.length,F},Expressions=function(){var j={initExpressions:function F(T){var w=0,O=[];T.renderer.compInterface=CompExpressionInterface(T.renderer),T.renderer.globalData.projectInterface.registerComposition(T.renderer),T.renderer.globalData.pushExpression=function W(){w+=1},T.renderer.globalData.popExpression=function B(){0==(w-=1)&&function re(){var ee,Z=O.length;for(ee=0;ee<Z;ee+=1)O[ee].release();O.length=0}()},T.renderer.globalData.registerExpressionProperty=function k(ee){-1===O.indexOf(ee)&&O.push(ee)}}};return j}(),MaskManagerInterface=function(){function j(T,w){this._mask=T,this._data=w}return Object.defineProperty(j.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(j.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(w){var W,O=createSizedArray(w.viewData.length),B=w.viewData.length;for(W=0;W<B;W+=1)O[W]=new j(w.viewData[W],w.masksProperties[W]);return function(ee){for(W=0;W<B;){if(w.masksProperties[W].nm===ee)return O[W];W+=1}return null}}}(),ExpressionPropertyInterface=function(){var j={pv:0,v:0,mult:1},F={pv:[0,0,0],v:[0,0,0],mult:1};function T(B,k,re){Object.defineProperty(B,"velocity",{get:function(){return k.getVelocityAtTime(k.comp.currentFrame)}}),B.numKeys=k.keyframes?k.keyframes.length:0,B.key=function(ee){if(!B.numKeys)return 0;var Z;Z="s"in k.keyframes[ee-1]?k.keyframes[ee-1].s:"e"in k.keyframes[ee-2]?k.keyframes[ee-2].e:k.keyframes[ee-2].s;var G="unidimensional"===re?new Number(Z):Object.assign({},Z);return G.time=k.keyframes[ee-1].t/k.elem.comp.globalData.frameRate,G.value="unidimensional"===re?Z[0]:Z,G},B.valueAtTime=k.getValueAtTime,B.speedAtTime=k.getSpeedAtTime,B.velocityAtTime=k.getVelocityAtTime,B.propertyGroup=k.propertyGroup}function W(){return j}return function(B){return B?"unidimensional"===B.propType?function w(B){(!B||!("pv"in B))&&(B=j);var k=1/B.mult,re=B.pv*k,ee=new Number(re);return ee.value=re,T(ee,B,"unidimensional"),function(){return B.k&&B.getValue(),ee.value!==(re=B.v*k)&&((ee=new Number(re)).value=re,T(ee,B,"unidimensional")),ee}}(B):function O(B){(!B||!("pv"in B))&&(B=F);var k=1/B.mult,re=B.data&&B.data.l||B.pv.length,ee=createTypedArray("float32",re),Z=createTypedArray("float32",re);return ee.value=Z,T(ee,B,"multidimensional"),function(){B.k&&B.getValue();for(var G=0;G<re;G+=1)Z[G]=B.v[G]*k,ee[G]=Z[G];return ee}}(B):W}}(),TransformExpressionInterface=function(j){function F(B){switch(B){case"scale":case"Scale":case"ADBE Scale":case 6:return F.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return F.rotation;case"ADBE Rotate X":return F.xRotation;case"ADBE Rotate Y":return F.yRotation;case"position":case"Position":case"ADBE Position":case 2:return F.position;case"ADBE Position_0":return F.xPosition;case"ADBE Position_1":return F.yPosition;case"ADBE Position_2":return F.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return F.anchorPoint;case"opacity":case"Opacity":case 11:return F.opacity;default:return null}}var T,w,O,W;return Object.defineProperty(F,"rotation",{get:ExpressionPropertyInterface(j.r||j.rz)}),Object.defineProperty(F,"zRotation",{get:ExpressionPropertyInterface(j.rz||j.r)}),Object.defineProperty(F,"xRotation",{get:ExpressionPropertyInterface(j.rx)}),Object.defineProperty(F,"yRotation",{get:ExpressionPropertyInterface(j.ry)}),Object.defineProperty(F,"scale",{get:ExpressionPropertyInterface(j.s)}),j.p?W=ExpressionPropertyInterface(j.p):(T=ExpressionPropertyInterface(j.px),w=ExpressionPropertyInterface(j.py),j.pz&&(O=ExpressionPropertyInterface(j.pz))),Object.defineProperty(F,"position",{get:function(){return j.p?W():[T(),w(),O?O():0]}}),Object.defineProperty(F,"xPosition",{get:ExpressionPropertyInterface(j.px)}),Object.defineProperty(F,"yPosition",{get:ExpressionPropertyInterface(j.py)}),Object.defineProperty(F,"zPosition",{get:ExpressionPropertyInterface(j.pz)}),Object.defineProperty(F,"anchorPoint",{get:ExpressionPropertyInterface(j.a)}),Object.defineProperty(F,"opacity",{get:ExpressionPropertyInterface(j.o)}),Object.defineProperty(F,"skew",{get:ExpressionPropertyInterface(j.sk)}),Object.defineProperty(F,"skewAxis",{get:ExpressionPropertyInterface(j.sa)}),Object.defineProperty(F,"orientation",{get:ExpressionPropertyInterface(j.or)}),F},LayerExpressionInterface=function(){function j(ee){var Z=new Matrix;return void 0!==ee?this._elem.finalTransform.mProp.getValueAtTime(ee).clone(Z):this._elem.finalTransform.mProp.applyToMatrix(Z),Z}function F(ee,Z){var G=this.getMatrix(Z);return G.props[12]=0,G.props[13]=0,G.props[14]=0,this.applyPoint(G,ee)}function T(ee,Z){var G=this.getMatrix(Z);return this.applyPoint(G,ee)}function w(ee,Z){var G=this.getMatrix(Z);return G.props[12]=0,G.props[13]=0,G.props[14]=0,this.invertPoint(G,ee)}function O(ee,Z){var G=this.getMatrix(Z);return this.invertPoint(G,ee)}function W(ee,Z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var G,Y=this._elem.hierarchy.length;for(G=0;G<Y;G+=1)this._elem.hierarchy[G].finalTransform.mProp.applyToMatrix(ee)}return ee.applyToPointArray(Z[0],Z[1],Z[2]||0)}function B(ee,Z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var G,Y=this._elem.hierarchy.length;for(G=0;G<Y;G+=1)this._elem.hierarchy[G].finalTransform.mProp.applyToMatrix(ee)}return ee.inversePoint(Z)}function k(ee){var Z=new Matrix;if(Z.reset(),this._elem.finalTransform.mProp.applyToMatrix(Z),this._elem.hierarchy&&this._elem.hierarchy.length){var G,Y=this._elem.hierarchy.length;for(G=0;G<Y;G+=1)this._elem.hierarchy[G].finalTransform.mProp.applyToMatrix(Z);return Z.inversePoint(ee)}return Z.inversePoint(ee)}function re(){return[1,1,1,1]}return function(ee){var Z;function ne(se){switch(se){case"ADBE Root Vectors Group":case"Contents":case 2:return ne.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Z;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ne.effect;case"ADBE Text Properties":return ne.textInterface;default:return null}}ne.getMatrix=j,ne.invertPoint=B,ne.applyPoint=W,ne.toWorld=T,ne.toWorldVec=F,ne.fromWorld=O,ne.fromWorldVec=w,ne.toComp=T,ne.fromComp=k,ne.sampleImage=re,ne.sourceRectAtTime=ee.sourceRectAtTime.bind(ee),ne._elem=ee;var ae=getDescriptor(Z=TransformExpressionInterface(ee.finalTransform.mProp),"anchorPoint");return Object.defineProperties(ne,{hasParent:{get:function(){return ee.hierarchy.length}},parent:{get:function(){return ee.hierarchy[0].layerInterface}},rotation:getDescriptor(Z,"rotation"),scale:getDescriptor(Z,"scale"),position:getDescriptor(Z,"position"),opacity:getDescriptor(Z,"opacity"),anchorPoint:ae,anchor_point:ae,transform:{get:function(){return Z}},active:{get:function(){return ee.isInRange}}}),ne.startTime=ee.data.st,ne.index=ee.data.ind,ne.source=ee.data.refId,ne.height=0===ee.data.ty?ee.data.h:100,ne.width=0===ee.data.ty?ee.data.w:100,ne.inPoint=ee.data.ip/ee.comp.globalData.frameRate,ne.outPoint=ee.data.op/ee.comp.globalData.frameRate,ne._name=ee.data.nm,ne.registerMaskInterface=function G(se){ne.mask=new MaskManagerInterface(se,ee)},ne.registerEffectsInterface=function Y(se){ne.effect=se},ne}}(),propertyGroupFactory=function(j,F){return function(T){return(T=void 0===T?1:T)<=0?j:F(T-1)}},PropertyInterface=function(j,F){var T={_name:j};return function w(O){return(O=void 0===O?1:O)<=0?T:F(O-1)}},EffectsExpressionInterface=function(){function T(O,W,B,k){function re(ne){for(var ae=O.ef,se=0,ie=ae.length;se<ie;){if(ne===ae[se].nm||ne===ae[se].mn||ne===ae[se].ix)return 5===ae[se].ty?Z[se]:Z[se]();se+=1}throw new Error}var G,ee=propertyGroupFactory(re,B),Z=[],Y=O.ef.length;for(G=0;G<Y;G+=1)Z.push(5===O.ef[G].ty?T(O.ef[G],W.effectElements[G],W.effectElements[G].propertyGroup,k):w(W.effectElements[G],O.ef[G].ty,k,ee));return"ADBE Color Control"===O.mn&&Object.defineProperty(re,"color",{get:function(){return Z[0]()}}),Object.defineProperties(re,{numProperties:{get:function(){return O.np}},_name:{value:O.nm},propertyGroup:{value:ee}}),re.active=re.enabled=0!==O.en,re}function w(O,W,B,k){var re=ExpressionPropertyInterface(O.p);return O.p.setGroupProperty&&O.p.setGroupProperty(PropertyInterface("",k)),function ee(){return 10===W?B.comp.compInterface(O.p.v):re()}}return{createEffectsInterface:function F(O,W){if(O.effectsManager){var re,B=[],k=O.data.ef,ee=O.effectsManager.effectElements.length;for(re=0;re<ee;re+=1)B.push(T(k[re],O.effectsManager.effectElements[re],W,O));var Z=O.data.ef||[],G=function(ne){for(re=0,ee=Z.length;re<ee;){if(ne===Z[re].nm||ne===Z[re].mn||ne===Z[re].ix)return B[re];re+=1}return null};return Object.defineProperty(G,"numProperties",{get:function(){return Z.length}}),G}return null}}}(),ShapePathInterface=function(F,T,w){var O=T.sh;function W(k){return"Shape"===k||"shape"===k||"Path"===k||"path"===k||"ADBE Vector Shape"===k||2===k?W.path:null}var B=propertyGroupFactory(W,w);return O.setGroupProperty(PropertyInterface("Path",B)),Object.defineProperties(W,{path:{get:function(){return O.k&&O.getValue(),O}},shape:{get:function(){return O.k&&O.getValue(),O}},_name:{value:F.nm},ix:{value:F.ix},propertyIndex:{value:F.ix},mn:{value:F.mn},propertyGroup:{value:w}}),W},ShapeExpressionInterface=function(){function j(ae,se,ie){var Q,te=[],V=ae?ae.length:0;for(Q=0;Q<V;Q+=1)"gr"===ae[Q].ty?te.push(T(ae[Q],se[Q],ie)):"fl"===ae[Q].ty?te.push(w(ae[Q],se[Q],ie)):"st"===ae[Q].ty?te.push(B(ae[Q],se[Q],ie)):"tm"===ae[Q].ty?te.push(k(ae[Q],se[Q],ie)):"tr"===ae[Q].ty||te.push("el"===ae[Q].ty?ee(ae[Q],se[Q],ie):"sr"===ae[Q].ty?Z(ae[Q],se[Q],ie):"sh"===ae[Q].ty?ShapePathInterface(ae[Q],se[Q],ie):"rc"===ae[Q].ty?G(ae[Q],se[Q],ie):"rd"===ae[Q].ty?Y(ae[Q],se[Q],ie):"rp"===ae[Q].ty?ne(ae[Q],se[Q],ie):"gf"===ae[Q].ty?O(ae[Q],se[Q],ie):function ae(){return null});return te}function T(ae,se,ie){var te=function($){switch($){case"ADBE Vectors Group":case"Contents":case 2:return te.content;default:return te.transform}};te.propertyGroup=propertyGroupFactory(te,ie);var Q=function F(ae,se,ie){var te,Q=function($){for(var z=0,J=te.length;z<J;){if(te[z]._name===$||te[z].mn===$||te[z].propertyIndex===$||te[z].ix===$||te[z].ind===$)return te[z];z+=1}return"number"==typeof $?te[$-1]:null};Q.propertyGroup=propertyGroupFactory(Q,ie),te=j(ae.it,se.it,Q.propertyGroup),Q.numProperties=te.length;var V=re(ae.it[ae.it.length-1],se.it[se.it.length-1],Q.propertyGroup);return Q.transform=V,Q.propertyIndex=ae.cix,Q._name=ae.nm,Q}(ae,se,te.propertyGroup),V=re(ae.it[ae.it.length-1],se.it[se.it.length-1],te.propertyGroup);return te.content=Q,te.transform=V,Object.defineProperty(te,"_name",{get:function(){return ae.nm}}),te.numProperties=ae.np,te.propertyIndex=ae.ix,te.nm=ae.nm,te.mn=ae.mn,te}function w(ae,se,ie){function te(Q){return"Color"===Q||"color"===Q?te.color:"Opacity"===Q||"opacity"===Q?te.opacity:null}return Object.defineProperties(te,{color:{get:ExpressionPropertyInterface(se.c)},opacity:{get:ExpressionPropertyInterface(se.o)},_name:{value:ae.nm},mn:{value:ae.mn}}),se.c.setGroupProperty(PropertyInterface("Color",ie)),se.o.setGroupProperty(PropertyInterface("Opacity",ie)),te}function O(ae,se,ie){function te(Q){return"Start Point"===Q||"start point"===Q?te.startPoint:"End Point"===Q||"end point"===Q?te.endPoint:"Opacity"===Q||"opacity"===Q?te.opacity:null}return Object.defineProperties(te,{startPoint:{get:ExpressionPropertyInterface(se.s)},endPoint:{get:ExpressionPropertyInterface(se.e)},opacity:{get:ExpressionPropertyInterface(se.o)},type:{get:function(){return"a"}},_name:{value:ae.nm},mn:{value:ae.mn}}),se.s.setGroupProperty(PropertyInterface("Start Point",ie)),se.e.setGroupProperty(PropertyInterface("End Point",ie)),se.o.setGroupProperty(PropertyInterface("Opacity",ie)),te}function B(ae,se,ie){var U,q,te=propertyGroupFactory(J,ie),Q=propertyGroupFactory(z,te),$=ae.d?ae.d.length:0,z={};for(U=0;U<$;U+=1)q=U,Object.defineProperty(z,ae.d[q].nm,{get:ExpressionPropertyInterface(se.d.dataProps[q].p)}),se.d.dataProps[U].p.setGroupProperty(Q);function J(q){return"Color"===q||"color"===q?J.color:"Opacity"===q||"opacity"===q?J.opacity:"Stroke Width"===q||"stroke width"===q?J.strokeWidth:null}return Object.defineProperties(J,{color:{get:ExpressionPropertyInterface(se.c)},opacity:{get:ExpressionPropertyInterface(se.o)},strokeWidth:{get:ExpressionPropertyInterface(se.w)},dash:{get:function(){return z}},_name:{value:ae.nm},mn:{value:ae.mn}}),se.c.setGroupProperty(PropertyInterface("Color",te)),se.o.setGroupProperty(PropertyInterface("Opacity",te)),se.w.setGroupProperty(PropertyInterface("Stroke Width",te)),J}function k(ae,se,ie){function te(V){return V===ae.e.ix||"End"===V||"end"===V?te.end:V===ae.s.ix?te.start:V===ae.o.ix?te.offset:null}var Q=propertyGroupFactory(te,ie);return te.propertyIndex=ae.ix,se.s.setGroupProperty(PropertyInterface("Start",Q)),se.e.setGroupProperty(PropertyInterface("End",Q)),se.o.setGroupProperty(PropertyInterface("Offset",Q)),te.propertyIndex=ae.ix,te.propertyGroup=ie,Object.defineProperties(te,{start:{get:ExpressionPropertyInterface(se.s)},end:{get:ExpressionPropertyInterface(se.e)},offset:{get:ExpressionPropertyInterface(se.o)},_name:{value:ae.nm}}),te.mn=ae.mn,te}function re(ae,se,ie){function te(V){return ae.a.ix===V||"Anchor Point"===V?te.anchorPoint:ae.o.ix===V||"Opacity"===V?te.opacity:ae.p.ix===V||"Position"===V?te.position:ae.r.ix===V||"Rotation"===V||"ADBE Vector Rotation"===V?te.rotation:ae.s.ix===V||"Scale"===V?te.scale:ae.sk&&ae.sk.ix===V||"Skew"===V?te.skew:ae.sa&&ae.sa.ix===V||"Skew Axis"===V?te.skewAxis:null}var Q=propertyGroupFactory(te,ie);return se.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Q)),se.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Q)),se.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Q)),se.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Q)),se.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Q)),se.transform.mProps.sk&&(se.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Q)),se.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Q))),se.transform.op.setGroupProperty(PropertyInterface("Opacity",Q)),Object.defineProperties(te,{opacity:{get:ExpressionPropertyInterface(se.transform.mProps.o)},position:{get:ExpressionPropertyInterface(se.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(se.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(se.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(se.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(se.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(se.transform.mProps.sa)},_name:{value:ae.nm}}),te.ty="tr",te.mn=ae.mn,te.propertyGroup=ie,te}function ee(ae,se,ie){function te(U){return ae.p.ix===U?te.position:ae.s.ix===U?te.size:null}var Q=propertyGroupFactory(te,ie);te.propertyIndex=ae.ix;var V="tm"===se.sh.ty?se.sh.prop:se.sh;return V.s.setGroupProperty(PropertyInterface("Size",Q)),V.p.setGroupProperty(PropertyInterface("Position",Q)),Object.defineProperties(te,{size:{get:ExpressionPropertyInterface(V.s)},position:{get:ExpressionPropertyInterface(V.p)},_name:{value:ae.nm}}),te.mn=ae.mn,te}function Z(ae,se,ie){function te(U){return ae.p.ix===U?te.position:ae.r.ix===U?te.rotation:ae.pt.ix===U?te.points:ae.or.ix===U||"ADBE Vector Star Outer Radius"===U?te.outerRadius:ae.os.ix===U?te.outerRoundness:!ae.ir||ae.ir.ix!==U&&"ADBE Vector Star Inner Radius"!==U?ae.is&&ae.is.ix===U?te.innerRoundness:null:te.innerRadius}var Q=propertyGroupFactory(te,ie),V="tm"===se.sh.ty?se.sh.prop:se.sh;return te.propertyIndex=ae.ix,V.or.setGroupProperty(PropertyInterface("Outer Radius",Q)),V.os.setGroupProperty(PropertyInterface("Outer Roundness",Q)),V.pt.setGroupProperty(PropertyInterface("Points",Q)),V.p.setGroupProperty(PropertyInterface("Position",Q)),V.r.setGroupProperty(PropertyInterface("Rotation",Q)),ae.ir&&(V.ir.setGroupProperty(PropertyInterface("Inner Radius",Q)),V.is.setGroupProperty(PropertyInterface("Inner Roundness",Q))),Object.defineProperties(te,{position:{get:ExpressionPropertyInterface(V.p)},rotation:{get:ExpressionPropertyInterface(V.r)},points:{get:ExpressionPropertyInterface(V.pt)},outerRadius:{get:ExpressionPropertyInterface(V.or)},outerRoundness:{get:ExpressionPropertyInterface(V.os)},innerRadius:{get:ExpressionPropertyInterface(V.ir)},innerRoundness:{get:ExpressionPropertyInterface(V.is)},_name:{value:ae.nm}}),te.mn=ae.mn,te}function G(ae,se,ie){function te(U){return ae.p.ix===U?te.position:ae.r.ix===U?te.roundness:ae.s.ix===U||"Size"===U||"ADBE Vector Rect Size"===U?te.size:null}var Q=propertyGroupFactory(te,ie),V="tm"===se.sh.ty?se.sh.prop:se.sh;return te.propertyIndex=ae.ix,V.p.setGroupProperty(PropertyInterface("Position",Q)),V.s.setGroupProperty(PropertyInterface("Size",Q)),V.r.setGroupProperty(PropertyInterface("Rotation",Q)),Object.defineProperties(te,{position:{get:ExpressionPropertyInterface(V.p)},roundness:{get:ExpressionPropertyInterface(V.r)},size:{get:ExpressionPropertyInterface(V.s)},_name:{value:ae.nm}}),te.mn=ae.mn,te}function Y(ae,se,ie){function te(U){return ae.r.ix===U||"Round Corners 1"===U?te.radius:null}var Q=propertyGroupFactory(te,ie),V=se;return te.propertyIndex=ae.ix,V.rd.setGroupProperty(PropertyInterface("Radius",Q)),Object.defineProperties(te,{radius:{get:ExpressionPropertyInterface(V.rd)},_name:{value:ae.nm}}),te.mn=ae.mn,te}function ne(ae,se,ie){function te(U){return ae.c.ix===U||"Copies"===U?te.copies:ae.o.ix===U||"Offset"===U?te.offset:null}var Q=propertyGroupFactory(te,ie),V=se;return te.propertyIndex=ae.ix,V.c.setGroupProperty(PropertyInterface("Copies",Q)),V.o.setGroupProperty(PropertyInterface("Offset",Q)),Object.defineProperties(te,{copies:{get:ExpressionPropertyInterface(V.c)},offset:{get:ExpressionPropertyInterface(V.o)},_name:{value:ae.nm}}),te.mn=ae.mn,te}return function(ae,se,ie){var te;function Q(U){if("number"==typeof U)return 0===(U=void 0===U?1:U)?ie:te[U-1];for(var $=0,z=te.length;$<z;){if(te[$]._name===U)return te[$];$+=1}return null}return Q.propertyGroup=propertyGroupFactory(Q,function V(){return ie}),te=j(ae,se,Q.propertyGroup),Q.numProperties=te.length,Q._name="Contents",Q}}(),TextExpressionInterface=function(j){var F,T;function w(O){return"ADBE Text Document"===O?w.sourceText:null}return Object.defineProperty(w,"sourceText",{get:function(){j.textProperty.getValue();var W=j.textProperty.currentData.t;return W!==F&&(F=j.textProperty.currentData.t,(T=new String(W)).value=W||new String(W),Object.defineProperty(T,"style",{get:function(){return{fillColor:j.textProperty.currentData.fc}}})),T}}),w};function _typeof$2(j){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}var FootageInterface=(F=function(w){function O(W){return"Outline"===W?O.outlineInterface():null}return O._name="Outline",O.outlineInterface=function(w){var O="",W=w.getFootageData();function k(re){if(W[re])return O=re,"object"===_typeof$2(W=W[re])?k:W;var ee=re.indexOf(O);if(-1!==ee){var Z=parseInt(re.substr(ee+O.length),10);return"object"===_typeof$2(W=W[Z])?k:W}return""}return function B(){return O="",W=w.getFootageData(),k}}(w),O},function(T){function w(O){return"Data"===O?w.dataInterface:null}return w._name="Data",w.dataInterface=F(T),w}),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface},F;function getInterface(j){return interfaces[j]||null}function _typeof$1(j){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}function seedRandom(j,F){var T=this,w=256,B="random",k=F.pow(w,6),re=F.pow(2,52),ee=2*re,Z=255;function ne(V){var U,$=V.length,z=this,J=0,q=z.i=z.j=0,oe=z.S=[];for($||(V=[$++]);J<w;)oe[J]=J++;for(J=0;J<w;J++)oe[J]=oe[q=Z&q+V[J%$]+(U=oe[J])],oe[q]=U;z.g=function(pe){for(var de,be=0,me=z.i,_e=z.j,le=z.S;pe--;)de=le[me=Z&me+1],be=be*w+le[Z&(le[me]=le[_e=Z&_e+de])+(le[_e]=de)];return z.i=me,z.j=_e,be}}function ae(V,U){return U.i=V.i,U.j=V.j,U.S=V.S.slice(),U}function se(V,U){var J,$=[],z=_typeof$1(V);if(U&&"object"==z)for(J in V)try{$.push(se(V[J],U-1))}catch{}return $.length?$:"string"==z?V:V+"\0"}function ie(V,U){for(var z,$=V+"",J=0;J<$.length;)U[Z&J]=Z&(z^=19*U[Z&J])+$.charCodeAt(J++);return Q(U)}function Q(V){return String.fromCharCode.apply(0,V)}F["seed"+B]=function Y(V,U,$){var z=[],J=ie(se((U=!0===U?{entropy:!0}:U||{}).entropy?[V,Q(j)]:null===V?function te(){try{var V=new Uint8Array(w);return(T.crypto||T.msCrypto).getRandomValues(V),Q(V)}catch{var U=T.navigator,$=U&&U.plugins;return[+new Date,T,$,T.screen,Q(j)]}}():V,3),z),q=new ne(z),oe=function(){for(var de=q.g(6),be=k,me=0;de<re;)de=(de+me)*w,be*=w,me=q.g(1);for(;de>=ee;)de/=2,be/=2,me>>>=1;return(de+me)/be};return oe.int32=function(){return 0|q.g(4)},oe.quick=function(){return q.g(4)/4294967296},oe.double=oe,ie(Q(q.S),j),(U.pass||$||function(pe,de,be,me){return me&&(me.S&&ae(me,q),pe.state=function(){return ae(q,{})}),be?(F[B]=pe,de):pe})(oe,J,"global"in U?U.global:this==F,U.state)},ie(F.random(),j)}function initialize$2(j){seedRandom([],j)}var propTypes={SHAPE:"shape"};function _typeof(j){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(j)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(j){return j.constructor===Array||j.constructor===Float32Array}function isNumerable(j,F){return"number"===j||"boolean"===j||"string"===j||F instanceof Number}function $bm_neg(j){var F=_typeof(j);if("number"===F||"boolean"===F||j instanceof Number)return-j;if($bm_isInstanceOfArray(j)){var T,w=j.length,O=[];for(T=0;T<w;T+=1)O[T]=-j[T];return O}return j.propType?j.v:-j}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(j,F){var T=_typeof(j),w=_typeof(F);if("string"===T||"string"===w||isNumerable(T,j)&&isNumerable(w,F))return j+F;if($bm_isInstanceOfArray(j)&&isNumerable(w,F))return(j=j.slice(0))[0]+=F,j;if(isNumerable(T,j)&&$bm_isInstanceOfArray(F))return(F=F.slice(0))[0]=j+F[0],F;if($bm_isInstanceOfArray(j)&&$bm_isInstanceOfArray(F)){for(var O=0,W=j.length,B=F.length,k=[];O<W||O<B;)k[O]=("number"==typeof j[O]||j[O]instanceof Number)&&("number"==typeof F[O]||F[O]instanceof Number)?j[O]+F[O]:void 0===F[O]?j[O]:j[O]||F[O],O+=1;return k}return 0}var add=sum;function sub(j,F){var T=_typeof(j),w=_typeof(F);if(isNumerable(T,j)&&isNumerable(w,F))return"string"===T&&(j=parseInt(j,10)),"string"===w&&(F=parseInt(F,10)),j-F;if($bm_isInstanceOfArray(j)&&isNumerable(w,F))return(j=j.slice(0))[0]-=F,j;if(isNumerable(T,j)&&$bm_isInstanceOfArray(F))return(F=F.slice(0))[0]=j-F[0],F;if($bm_isInstanceOfArray(j)&&$bm_isInstanceOfArray(F)){for(var O=0,W=j.length,B=F.length,k=[];O<W||O<B;)k[O]=("number"==typeof j[O]||j[O]instanceof Number)&&("number"==typeof F[O]||F[O]instanceof Number)?j[O]-F[O]:void 0===F[O]?j[O]:j[O]||F[O],O+=1;return k}return 0}function mul(j,F){var O,W,B,T=_typeof(j),w=_typeof(F);if(isNumerable(T,j)&&isNumerable(w,F))return j*F;if($bm_isInstanceOfArray(j)&&isNumerable(w,F)){for(O=createTypedArray("float32",B=j.length),W=0;W<B;W+=1)O[W]=j[W]*F;return O}if(isNumerable(T,j)&&$bm_isInstanceOfArray(F)){for(O=createTypedArray("float32",B=F.length),W=0;W<B;W+=1)O[W]=j*F[W];return O}return 0}function div(j,F){var O,W,B,T=_typeof(j),w=_typeof(F);if(isNumerable(T,j)&&isNumerable(w,F))return j/F;if($bm_isInstanceOfArray(j)&&isNumerable(w,F)){for(O=createTypedArray("float32",B=j.length),W=0;W<B;W+=1)O[W]=j[W]/F;return O}if(isNumerable(T,j)&&$bm_isInstanceOfArray(F)){for(O=createTypedArray("float32",B=F.length),W=0;W<B;W+=1)O[W]=j/F[W];return O}return 0}function mod(j,F){return"string"==typeof j&&(j=parseInt(j,10)),"string"==typeof F&&(F=parseInt(F,10)),j%F}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(j,F,T){if(F>T){var w=T;T=F,F=w}return Math.min(Math.max(j,F),T)}function radiansToDegrees(j){return j/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(j){return j*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(j,F){if("number"==typeof j||j instanceof Number)return Math.abs(j-(F=F||0));F||(F=helperLengthArray);var T,w=Math.min(j.length,F.length),O=0;for(T=0;T<w;T+=1)O+=Math.pow(F[T]-j[T],2);return Math.sqrt(O)}function normalize(j){return div(j,length(j))}function rgbToHsl(j){var B,k,F=j[0],T=j[1],w=j[2],O=Math.max(F,T,w),W=Math.min(F,T,w),re=(O+W)/2;if(O===W)B=0,k=0;else{var ee=O-W;switch(k=re>.5?ee/(2-O-W):ee/(O+W),O){case F:B=(T-w)/ee+(T<w?6:0);break;case T:B=(w-F)/ee+2;break;case w:B=(F-T)/ee+4}B/=6}return[B,k,re,j[3]]}function hue2rgb(j,F,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?j+6*(F-j)*T:T<.5?F:T<2/3?j+(F-j)*(2/3-T)*6:j}function hslToRgb(j){var O,W,B,F=j[0],T=j[1],w=j[2];if(0===T)O=w,B=w,W=w;else{var k=w<.5?w*(1+T):w+T-w*T,re=2*w-k;O=hue2rgb(re,k,F+1/3),W=hue2rgb(re,k,F),B=hue2rgb(re,k,F-1/3)}return[O,W,B,j[3]]}function linear(j,F,T,w,O){if((void 0===w||void 0===O)&&(w=F,O=T,F=0,T=1),T<F){var W=T;T=F,F=W}if(j<=F)return w;if(j>=T)return O;var B=T===F?0:(j-F)/(T-F);if(!w.length)return w+(O-w)*B;var k,re=w.length,ee=createTypedArray("float32",re);for(k=0;k<re;k+=1)ee[k]=w[k]+(O[k]-w[k])*B;return ee}function random(j,F){if(void 0===F&&(void 0===j?(j=0,F=1):(F=j,j=void 0)),F.length){var T,w=F.length;j||(j=createTypedArray("float32",w));var O=createTypedArray("float32",w),W=BMMath.random();for(T=0;T<w;T+=1)O[T]=j[T]+W*(F[T]-j[T]);return O}return void 0===j&&(j=0),j+BMMath.random()*(F-j)}function createPath(j,F,T,w){var O,W=j.length,B=shapePool.newElement();B.setPathData(!!w,W);var re,ee,k=[0,0];for(O=0;O<W;O+=1)B.setTripleAt(j[O][0],j[O][1],(ee=T&&T[O]?T[O]:k)[0]+j[O][0],ee[1]+j[O][1],(re=F&&F[O]?F[O]:k)[0]+j[O][0],re[1]+j[O][1],O,!0);return B}function initiateExpression(elem,data,property){function noOp(j){return j}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function j(F,T){var w,O,W=this.pv.length?this.pv.length:1,B=createTypedArray("float32",W),k=Math.floor(5*time);for(w=0,O=0;w<k;){for(O=0;O<W;O+=1)B[O]+=-T+2*T*BMMath.random();w+=1}var re=5*time,ee=re-Math.floor(re),Z=createTypedArray("float32",W);if(W>1){for(O=0;O<W;O+=1)Z[O]=this.pv[O]+B[O]+(-T+2*T*BMMath.random())*ee;return Z}return this.pv+B[0]+(-T+2*T*BMMath.random())*ee}.bind(this);function loopInDuration(j,F){return loopIn(j,F,!0)}function loopOutDuration(j,F){return loopOut(j,F,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(j,F){var T=[F[0]-j[0],F[1]-j[1],F[2]-j[2]],w=Math.atan2(T[0],Math.sqrt(T[1]*T[1]+T[2]*T[2]))/degToRads;return[-Math.atan2(T[1],T[2])/degToRads,w,0]}function easeOut(j,F,T,w,O){return applyEase(easeOutBez,j,F,T,w,O)}function easeIn(j,F,T,w,O){return applyEase(easeInBez,j,F,T,w,O)}function ease(j,F,T,w,O){return applyEase(easeInOutBez,j,F,T,w,O)}function applyEase(j,F,T,w,O,W){void 0===O?(O=T,W=w):F=(F-T)/(w-T),F>1?F=1:F<0&&(F=0);var B=j(F);if($bm_isInstanceOfArray(O)){var k,re=O.length,ee=createTypedArray("float32",re);for(k=0;k<re;k+=1)ee[k]=(W[k]-O[k])*B+O[k];return ee}return(W-O)*B+O}function nearestKey(j){var F,w,O,T=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(w=-1,(j*=elem.comp.globalData.frameRate)<data.k[0].t)w=1,O=data.k[0].t;else{for(F=0;F<T-1;F+=1){if(j===data.k[F].t){w=F+1,O=data.k[F].t;break}if(j>data.k[F].t&&j<data.k[F+1].t){j-data.k[F].t>data.k[F+1].t-j?(w=F+2,O=data.k[F+1].t):(w=F+1,O=data.k[F].t);break}}-1===w&&(w=F+1,O=data.k[F].t)}else w=0,O=0;var W={};return W.index=w,W.time=O/elem.comp.globalData.frameRate,W}function key(j){var F,T,w;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+j);F={time:data.k[j-=1].t/elem.comp.globalData.frameRate,value:[]};var O=Object.prototype.hasOwnProperty.call(data.k[j],"s")?data.k[j].s:data.k[j-1].e;for(w=O.length,T=0;T<w;T+=1)F[T]=O[T],F.value[T]=O[T];return F}function framesToTime(j,F){return F||(F=elem.comp.globalData.frameRate),j/F}function timeToFrames(j,F){return!j&&0!==j&&(j=time),F||(F=elem.comp.globalData.frameRate),j*F}function seedRandom(j){BMMath.seedrandom(randSeed+j)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(j,F){return"string"==typeof value?void 0===F?value.substring(j):value.substring(j,F):""}function substr(j,F){return"string"==typeof value?void 0===F?value.substr(j):value.substr(j,F):""}function posterizeTime(j){time=0===j?0:Math.floor(time*j)/j,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(j){return value=j,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function j(B,k,re){k.x&&(re.k=!0,re.x=!0,re.initiateExpression=ExpressionManager.initiateExpression,re.effectsSequence.push(re.initiateExpression(B,k,re).bind(re)))},getSpeedAtTime:function T(B){var re=this.getValueAtTime(B),ee=this.getValueAtTime(B+-.01),Z=0;if(re.length){var G;for(G=0;G<re.length;G+=1)Z+=Math.pow(ee[G]-re[G],2);Z=100*Math.sqrt(Z)}else Z=0;return Z},getVelocityAtTime:function w(B){if(void 0!==this.vel)return this.vel;var Z,G,k=-.001,re=this.getValueAtTime(B),ee=this.getValueAtTime(B+k);if(re.length)for(Z=createTypedArray("float32",re.length),G=0;G<re.length;G+=1)Z[G]=(ee[G]-re[G])/k;else Z=(ee-re)/k;return Z},getValueAtTime:function F(B){return B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<B?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(B,this._cachingAtTime),this._cachingAtTime.lastFrame=B),this._cachingAtTime.value},getStaticValueAtTime:function O(){return this.pv},setGroupProperty:function W(B){this.propertyGroup=B}};function addPropertyDecorator(){function j(Y,ne,ae){if(!this.k||!this.keyframes)return this.pv;Y=Y?Y.toLowerCase():"";var Q,V,U,$,z,se=this.comp.renderedFrame,ie=this.keyframes,te=ie[ie.length-1].t;if(se<=te)return this.pv;if(ae?V=te-(Q=ne?Math.abs(te-this.elem.comp.globalData.frameRate*ne):Math.max(0,te-this.elem.data.ip)):((!ne||ne>ie.length-1)&&(ne=ie.length-1),Q=te-(V=ie[ie.length-1-ne].t)),"pingpong"===Y){if(Math.floor((se-V)/Q)%2!=0)return this.getValueAtTime((Q-(se-V)%Q+V)/this.comp.globalData.frameRate,0)}else{if("offset"===Y){var q=this.getValueAtTime(V/this.comp.globalData.frameRate,0),oe=this.getValueAtTime(te/this.comp.globalData.frameRate,0),pe=this.getValueAtTime(((se-V)%Q+V)/this.comp.globalData.frameRate,0),de=Math.floor((se-V)/Q);if(this.pv.length){for($=(z=new Array(q.length)).length,U=0;U<$;U+=1)z[U]=(oe[U]-q[U])*de+pe[U];return z}return(oe-q)*de+pe}if("continue"===Y){var be=this.getValueAtTime(te/this.comp.globalData.frameRate,0),me=this.getValueAtTime((te-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for($=(z=new Array(be.length)).length,U=0;U<$;U+=1)z[U]=be[U]+(se-te)/this.comp.globalData.frameRate*(be[U]-me[U])/5e-4;return z}return be+(se-te)/.001*(be-me)}}return this.getValueAtTime(((se-V)%Q+V)/this.comp.globalData.frameRate,0)}function F(Y,ne,ae){if(!this.k)return this.pv;Y=Y?Y.toLowerCase():"";var Q,V,U,$,z,se=this.comp.renderedFrame,ie=this.keyframes,te=ie[0].t;if(se>=te)return this.pv;if(ae?V=te+(Q=ne?Math.abs(this.elem.comp.globalData.frameRate*ne):Math.max(0,this.elem.data.op-te)):((!ne||ne>ie.length-1)&&(ne=ie.length-1),Q=(V=ie[ne].t)-te),"pingpong"===Y){if(Math.floor((te-se)/Q)%2==0)return this.getValueAtTime(((te-se)%Q+te)/this.comp.globalData.frameRate,0)}else{if("offset"===Y){var q=this.getValueAtTime(te/this.comp.globalData.frameRate,0),oe=this.getValueAtTime(V/this.comp.globalData.frameRate,0),pe=this.getValueAtTime((Q-(te-se)%Q+te)/this.comp.globalData.frameRate,0),de=Math.floor((te-se)/Q)+1;if(this.pv.length){for($=(z=new Array(q.length)).length,U=0;U<$;U+=1)z[U]=pe[U]-(oe[U]-q[U])*de;return z}return pe-(oe-q)*de}if("continue"===Y){var be=this.getValueAtTime(te/this.comp.globalData.frameRate,0),me=this.getValueAtTime((te+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for($=(z=new Array(be.length)).length,U=0;U<$;U+=1)z[U]=be[U]+(be[U]-me[U])*(te-se)/.001;return z}return be+(be-me)*(te-se)/.001}}return this.getValueAtTime((Q-((te-se)%Q+te))/this.comp.globalData.frameRate,0)}function T(Y,ne){if(!this.k)return this.pv;if(Y=.5*(Y||.4),(ne=Math.floor(ne||5))<=1)return this.pv;var U,$,ae=this.comp.renderedFrame/this.comp.globalData.frameRate,se=ae-Y,te=ne>1?(ae+Y-se)/(ne-1):1,Q=0,V=0;for(U=this.pv.length?createTypedArray("float32",this.pv.length):0;Q<ne;){if($=this.getValueAtTime(se+Q*te),this.pv.length)for(V=0;V<this.pv.length;V+=1)U[V]+=$[V];else U+=$;Q+=1}if(this.pv.length)for(V=0;V<this.pv.length;V+=1)U[V]/=ne;else U/=ne;return U}function w(Y){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ne=this._transformCachingAtTime.v;if(ne.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ae=this.a.getValueAtTime(Y);ne.translate(-ae[0]*this.a.mult,-ae[1]*this.a.mult,ae[2]*this.a.mult)}if(this.appliedTransformations<2){var se=this.s.getValueAtTime(Y);ne.scale(se[0]*this.s.mult,se[1]*this.s.mult,se[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ie=this.sk.getValueAtTime(Y),te=this.sa.getValueAtTime(Y);ne.skewFromAxis(-ie*this.sk.mult,te*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Q=this.r.getValueAtTime(Y);ne.rotate(-Q*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var V=this.rz.getValueAtTime(Y),U=this.ry.getValueAtTime(Y),$=this.rx.getValueAtTime(Y),z=this.or.getValueAtTime(Y);ne.rotateZ(-V*this.rz.mult).rotateY(U*this.ry.mult).rotateX($*this.rx.mult).rotateZ(-z[2]*this.or.mult).rotateY(z[1]*this.or.mult).rotateX(z[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var J=this.px.getValueAtTime(Y),q=this.py.getValueAtTime(Y);if(this.data.p.z){var oe=this.pz.getValueAtTime(Y);ne.translate(J*this.px.mult,q*this.py.mult,-oe*this.pz.mult)}else ne.translate(J*this.px.mult,q*this.py.mult,0)}else{var pe=this.p.getValueAtTime(Y);ne.translate(pe[0]*this.p.mult,pe[1]*this.p.mult,-pe[2]*this.p.mult)}return ne}function O(){return this.v.clone(new Matrix)}var W=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Y,ne,ae){var se=W(Y,ne,ae);return se.getValueAtTime=se.dynamicProperties.length?w.bind(se):O.bind(se),se.setGroupProperty=expressionHelpers.setGroupProperty,se};var B=PropertyFactory.getProp;PropertyFactory.getProp=function(Y,ne,ae,se,ie){var te=B(Y,ne,ae,se,ie);te.getValueAtTime=te.kf?expressionHelpers.getValueAtTime.bind(te):expressionHelpers.getStaticValueAtTime.bind(te),te.setGroupProperty=expressionHelpers.setGroupProperty,te.loopOut=j,te.loopIn=F,te.smooth=T,te.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(te),te.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(te),te.numKeys=1===ne.a?ne.k.length:0,te.propertyIndex=ne.ix;var Q=0;return 0!==ae&&(Q=createTypedArray("float32",1===ne.a?ne.k[0].s.length:ne.k.length)),te._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Q},expressionHelpers.searchExpressions(Y,ne,te),te.k&&ie.addDynamicProperty(te),te};var re=ShapePropertyFactory.getConstructorFunction(),ee=ShapePropertyFactory.getKeyframedConstructorFunction();function Z(){}Z.prototype={vertices:function(ne,ae){this.k&&this.getValue();var se=this.v;void 0!==ae&&(se=this.getValueAtTime(ae,0));var ie,te=se._length,Q=se[ne],V=se.v,U=createSizedArray(te);for(ie=0;ie<te;ie+=1)U[ie]="i"===ne||"o"===ne?[Q[ie][0]-V[ie][0],Q[ie][1]-V[ie][1]]:[Q[ie][0],Q[ie][1]];return U},points:function(ne){return this.vertices("v",ne)},inTangents:function(ne){return this.vertices("i",ne)},outTangents:function(ne){return this.vertices("o",ne)},isClosed:function(){return this.v.c},pointOnPath:function(ne,ae){var se=this.v;void 0!==ae&&(se=this.getValueAtTime(ae,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(se));for(var z,ie=this._segmentsLength,te=ie.lengths,Q=ie.totalLength*ne,V=0,U=te.length,$=0;V<U;){if($+te[V].addedLength>Q){var q=se.c&&V===U-1?0:V+1;z=bez.getPointInSegment(se.v[V],se.v[q],se.o[V],se.i[q],(Q-$)/te[V].addedLength,te[V]);break}$+=te[V].addedLength,V+=1}return z||(z=se.c?[se.v[0][0],se.v[0][1]]:[se.v[se._length-1][0],se.v[se._length-1][1]]),z},vectorOnPath:function(ne,ae,se){1==ne?ne=this.v.c:0==ne&&(ne=.999);var ie=this.pointOnPath(ne,ae),te=this.pointOnPath(ne+.001,ae),Q=te[0]-ie[0],V=te[1]-ie[1],U=Math.sqrt(Math.pow(Q,2)+Math.pow(V,2));return 0===U?[0,0]:"tangent"===se?[Q/U,V/U]:[-V/U,Q/U]},tangentOnPath:function(ne,ae){return this.vectorOnPath(ne,ae,"tangent")},normalOnPath:function(ne,ae){return this.vectorOnPath(ne,ae,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Z],re),extendPrototype([Z],ee),ee.prototype.getValueAtTime=function k(Y){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Y*=this.elem.globalData.frameRate,(Y-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Y?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Y,this.interpolateShape(Y,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},ee.prototype.initiateExpression=ExpressionManager.initiateExpression;var G=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Y,ne,ae,se,ie){var te=G(Y,ne,ae,se,ie);return te.propertyIndex=ne.ix,te.lock=!1,3===ae?expressionHelpers.searchExpressions(Y,ne.pt,te):4===ae&&expressionHelpers.searchExpressions(Y,ne.ks,te),te.k&&Y.addDynamicProperty(te),te}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(F,T){var w=this.calculateExpression(T);if(F.t!==w){var O={};return this.copyData(O,F),O.t=w.toString(),O.__complete=!1,O}return F},TextProperty.prototype.searchProperty=function(){var F=this.searchKeyframes(),T=this.searchExpressions();return this.kf=F||T,this.kf},TextProperty.prototype.searchExpressions=function j(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function j(F,T){var O,W,w=createNS("feMerge");for(w.setAttribute("result",F),W=0;W<T.length;W+=1)(O=createNS("feMergeNode")).setAttribute("in",T[W]),w.appendChild(O),w.appendChild(O);return w}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(j,F,T,w,O){this.filterManager=F;var W=createNS("feColorMatrix");W.setAttribute("type","matrix"),W.setAttribute("color-interpolation-filters","linearRGB"),W.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=W,W.setAttribute("result",w+"_tint_1"),j.appendChild(W),(W=createNS("feColorMatrix")).setAttribute("type","matrix"),W.setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),W.setAttribute("result",w+"_tint_2"),j.appendChild(W),this.matrixFilter=W;var B=this.createMergeNode(w,[O,w+"_tint_1",w+"_tint_2"]);j.appendChild(B)}function SVGFillFilter(j,F,T,w){this.filterManager=F;var O=createNS("feColorMatrix");O.setAttribute("type","matrix"),O.setAttribute("color-interpolation-filters","sRGB"),O.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),O.setAttribute("result",w),j.appendChild(O),this.matrixFilter=O}function SVGStrokeEffect(j,F,T){this.initialized=!1,this.filterManager=F,this.elem=T,this.paths=[]}function SVGTritoneFilter(j,F,T,w){this.filterManager=F;var O=createNS("feColorMatrix");O.setAttribute("type","matrix"),O.setAttribute("color-interpolation-filters","linearRGB"),O.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),j.appendChild(O);var W=createNS("feComponentTransfer");W.setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("result",w),this.matrixFilter=W;var B=createNS("feFuncR");B.setAttribute("type","table"),W.appendChild(B),this.feFuncR=B;var k=createNS("feFuncG");k.setAttribute("type","table"),W.appendChild(k),this.feFuncG=k;var re=createNS("feFuncB");re.setAttribute("type","table"),W.appendChild(re),this.feFuncB=re,j.appendChild(W)}function SVGProLevelsFilter(j,F,T,w){this.filterManager=F;var O=this.filterManager.effectElements,W=createNS("feComponentTransfer");(O[10].p.k||0!==O[10].p.v||O[11].p.k||1!==O[11].p.v||O[12].p.k||1!==O[12].p.v||O[13].p.k||0!==O[13].p.v||O[14].p.k||1!==O[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",W)),(O[17].p.k||0!==O[17].p.v||O[18].p.k||1!==O[18].p.v||O[19].p.k||1!==O[19].p.v||O[20].p.k||0!==O[20].p.v||O[21].p.k||1!==O[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",W)),(O[24].p.k||0!==O[24].p.v||O[25].p.k||1!==O[25].p.v||O[26].p.k||1!==O[26].p.v||O[27].p.k||0!==O[27].p.v||O[28].p.k||1!==O[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",W)),(O[31].p.k||0!==O[31].p.v||O[32].p.k||1!==O[32].p.v||O[33].p.k||1!==O[33].p.v||O[34].p.k||0!==O[34].p.v||O[35].p.k||1!==O[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",W)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(W.setAttribute("color-interpolation-filters","sRGB"),j.appendChild(W)),(O[3].p.k||0!==O[3].p.v||O[4].p.k||1!==O[4].p.v||O[5].p.k||1!==O[5].p.v||O[6].p.k||0!==O[6].p.v||O[7].p.k||1!==O[7].p.v)&&((W=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("result",w),j.appendChild(W),this.feFuncRComposed=this.createFeFunc("feFuncR",W),this.feFuncGComposed=this.createFeFunc("feFuncG",W),this.feFuncBComposed=this.createFeFunc("feFuncB",W))}function SVGDropShadowEffect(j,F,T,w,O){var W=F.container.globalData.renderConfig.filterSize,B=F.data.fs||W;j.setAttribute("x",B.x||W.x),j.setAttribute("y",B.y||W.y),j.setAttribute("width",B.width||W.width),j.setAttribute("height",B.height||W.height),this.filterManager=F;var k=createNS("feGaussianBlur");k.setAttribute("in","SourceAlpha"),k.setAttribute("result",w+"_drop_shadow_1"),k.setAttribute("stdDeviation","0"),this.feGaussianBlur=k,j.appendChild(k);var re=createNS("feOffset");re.setAttribute("dx","25"),re.setAttribute("dy","0"),re.setAttribute("in",w+"_drop_shadow_1"),re.setAttribute("result",w+"_drop_shadow_2"),this.feOffset=re,j.appendChild(re);var ee=createNS("feFlood");ee.setAttribute("flood-color","#00ff00"),ee.setAttribute("flood-opacity","1"),ee.setAttribute("result",w+"_drop_shadow_3"),this.feFlood=ee,j.appendChild(ee);var Z=createNS("feComposite");Z.setAttribute("in",w+"_drop_shadow_3"),Z.setAttribute("in2",w+"_drop_shadow_2"),Z.setAttribute("operator","in"),Z.setAttribute("result",w+"_drop_shadow_4"),j.appendChild(Z);var G=this.createMergeNode(w,[w+"_drop_shadow_4",O]);j.appendChild(G)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var F=this.filterManager.effectElements[0].p.v,T=this.filterManager.effectElements[1].p.v;this.linearFilter.setAttribute("values",linearFilterValue+" "+this.filterManager.effectElements[2].p.v/100+" 0"),this.matrixFilter.setAttribute("values",T[0]-F[0]+" 0 0 0 "+F[0]+" "+(T[1]-F[1])+" 0 0 0 "+F[1]+" "+(T[2]-F[2])+" 0 0 0 "+F[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var F=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+F[0]+" 0 0 0 0 "+F[1]+" 0 0 0 0 "+F[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var F,T,w,O,j=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(O=this.elem.maskManager.masksProperties.length,w=0):O=1+(w=this.filterManager.effectElements[0].p.v-1),(T=createNS("g")).setAttribute("fill","none"),T.setAttribute("stroke-linecap","round"),T.setAttribute("stroke-dashoffset",1);w<O;w+=1)F=createNS("path"),T.appendChild(F),this.paths.push({p:F,m:w});if(3===this.filterManager.effectElements[10].p.v){var W=createNS("mask"),B=createElementID();W.setAttribute("id",B),W.setAttribute("mask-type","alpha"),W.appendChild(T),this.elem.globalData.defs.appendChild(W);var k=createNS("g");for(k.setAttribute("mask","url("+getLocationHref()+"#"+B+")");j[0];)k.appendChild(j[0]);this.elem.layerElement.appendChild(k),this.masker=W,T.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(j=this.elem.layerElement.children||this.elem.layerElement.childNodes;j.length;)this.elem.layerElement.removeChild(j[0]);this.elem.layerElement.appendChild(T),this.elem.layerElement.removeAttribute("mask"),T.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=T},SVGStrokeEffect.prototype.renderFrame=function(j){this.initialized||this.initialize();var F,w,O,T=this.paths.length;for(F=0;F<T;F+=1)if(-1!==this.paths[F].m&&(w=this.elem.maskManager.viewData[this.paths[F].m],O=this.paths[F].p,(j||this.filterManager._mdf||w.prop._mdf)&&O.setAttribute("d",w.lastPath),j||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||w.prop._mdf)){var W;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var B=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),k=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),re=O.getTotalLength();W="0 0 0 "+re*B+" ";var Y,G=Math.floor(re*(k-B)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(Y=0;Y<G;Y+=1)W+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";W+="0 "+10*re+" 0 0"}else W="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;O.setAttribute("stroke-dasharray",W)}if((j||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(j||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(j||this.filterManager.effectElements[3].p._mdf)){var ne=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*ne[0])+","+bmFloor(255*ne[1])+","+bmFloor(255*ne[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var F=this.filterManager.effectElements[0].p.v,T=this.filterManager.effectElements[1].p.v,w=this.filterManager.effectElements[2].p.v,W=w[1]+" "+T[1]+" "+F[1],B=w[2]+" "+T[2]+" "+F[2];this.feFuncR.setAttribute("tableValues",w[0]+" "+T[0]+" "+F[0]),this.feFuncG.setAttribute("tableValues",W),this.feFuncB.setAttribute("tableValues",B)}},SVGProLevelsFilter.prototype.createFeFunc=function(j,F){var T=createNS(j);return T.setAttribute("type","table"),F.appendChild(T),T},SVGProLevelsFilter.prototype.getTableValue=function(j,F,T,w,O){for(var k,G,W=0,re=Math.min(j,F),ee=Math.max(j,F),Z=Array.call(null,{length:256}),Y=0,ne=O-w,ae=F-j;W<=256;)G=(k=W/256)<=re?ae<0?O:w:k>=ee?ae<0?w:O:w+ne*Math.pow((k-j)/ae,1/T),Z[Y]=G,Y+=1,W+=256/255;return Z.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var F,T=this.filterManager.effectElements;this.feFuncRComposed&&(j||T[3].p._mdf||T[4].p._mdf||T[5].p._mdf||T[6].p._mdf||T[7].p._mdf)&&(F=this.getTableValue(T[3].p.v,T[4].p.v,T[5].p.v,T[6].p.v,T[7].p.v),this.feFuncRComposed.setAttribute("tableValues",F),this.feFuncGComposed.setAttribute("tableValues",F),this.feFuncBComposed.setAttribute("tableValues",F)),this.feFuncR&&(j||T[10].p._mdf||T[11].p._mdf||T[12].p._mdf||T[13].p._mdf||T[14].p._mdf)&&(F=this.getTableValue(T[10].p.v,T[11].p.v,T[12].p.v,T[13].p.v,T[14].p.v),this.feFuncR.setAttribute("tableValues",F)),this.feFuncG&&(j||T[17].p._mdf||T[18].p._mdf||T[19].p._mdf||T[20].p._mdf||T[21].p._mdf)&&(F=this.getTableValue(T[17].p.v,T[18].p.v,T[19].p.v,T[20].p.v,T[21].p.v),this.feFuncG.setAttribute("tableValues",F)),this.feFuncB&&(j||T[24].p._mdf||T[25].p._mdf||T[26].p._mdf||T[27].p._mdf||T[28].p._mdf)&&(F=this.getTableValue(T[24].p.v,T[25].p.v,T[26].p.v,T[27].p.v,T[28].p.v),this.feFuncB.setAttribute("tableValues",F)),this.feFuncA&&(j||T[31].p._mdf||T[32].p._mdf||T[33].p._mdf||T[34].p._mdf||T[35].p._mdf)&&(F=this.getTableValue(T[31].p.v,T[32].p.v,T[33].p.v,T[34].p.v,T[35].p.v),this.feFuncA.setAttribute("tableValues",F))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){if((j||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),j||this.filterManager.effectElements[0].p._mdf){var F=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*F[0]),Math.round(255*F[1]),Math.round(255*F[2])))}if((j||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),j||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var T=this.filterManager.effectElements[3].p.v,w=(this.filterManager.effectElements[2].p.v-90)*degToRads,O=T*Math.cos(w),W=T*Math.sin(w);this.feOffset.setAttribute("dx",O),this.feOffset.setAttribute("dy",W)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(j,F,T){this.initialized=!1,this.filterManager=F,this.filterElem=j,this.elem=T,T.matteElement=createNS("g"),T.matteElement.appendChild(T.layerElement),T.matteElement.appendChild(T.transformedElement),T.baseElement=T.matteElement}function SVGGaussianBlurEffect(j,F,T,w){j.setAttribute("x","-100%"),j.setAttribute("y","-100%"),j.setAttribute("width","300%"),j.setAttribute("height","300%"),this.filterManager=F;var O=createNS("feGaussianBlur");O.setAttribute("result",w),j.appendChild(O),this.feGaussianBlur=O}return SVGMatte3Effect.prototype.findSymbol=function(j){for(var F=0,T=_svgMatteSymbols.length;F<T;){if(_svgMatteSymbols[F]===j)return _svgMatteSymbols[F];F+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(j,F){var T=j.layerElement.parentNode;if(T){for(var w=T.children,O=0,W=w.length;O<W&&w[O]!==j.layerElement;)O+=1;var B;O<=W-2&&(B=w[O+1]);var k=createNS("use");k.setAttribute("href","#"+F),B?T.insertBefore(k,B):T.appendChild(k)}},SVGMatte3Effect.prototype.setElementAsMask=function(j,F){if(!this.findSymbol(F)){var T=createElementID(),w=createNS("mask");w.setAttribute("id",F.layerId),w.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(F);var O=j.globalData.defs;O.appendChild(w);var W=createNS("symbol");W.setAttribute("id",T),this.replaceInParent(F,T),W.appendChild(F.layerElement),O.appendChild(W);var B=createNS("use");B.setAttribute("href","#"+T),w.appendChild(B),F.data.hd=!1,F.show()}j.setMatte(F.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var j=this.filterManager.effectElements[0].p.v,F=this.elem.comp.elements,T=0,w=F.length;T<w;)F[T]&&F[T].data.ind===j&&this.setElementAsMask(this.elem,F[T]),T+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var T=.3*this.filterManager.effectElements[0].p.v,w=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==w?0:T)+" "+(2==w?0:T)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=F())},41993:j=>{function F(T){return Promise.resolve().then(()=>{var w=new Error("Cannot find module '"+T+"'");throw w.code="MODULE_NOT_FOUND",w})}F.keys=()=>[],F.resolve=F,F.id=41993,j.exports=F},73386:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>me});var oe,w=T(15861),O=T(17626),W=T(74333),B=T(89726),k=T(55538),re=T(86810),ee=T(58817),Z=T(47996),G=T(47877),Y=T(63290),ne=T(62208),ae=T(10699),se=T(21726),ie=T(77712),Q=(T(90912),T(76898)),V=T(99433),U=T(65234),$=T(84687),z=T(55463),J=T(33954),q=T(32584);let pe=0;const de="esri.Basemap";let be=oe=class extends((0,re.eC)(Z.Z)){constructor(_e){super(_e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+pe++,this.baseLayers=new W.Z,this.referenceLayers=new W.Z;const le=Ee=>{Ee.parent&&Ee.parent!==this&&"remove"in Ee.parent&&Ee.parent.remove(Ee),Ee.parent=this,"elevation"===Ee.type&&Y.Z.getLogger(this.declaredClass).error(`Layer '${Ee.title}, id:${Ee.id}' of type '${Ee.type}' is not supported as a basemap layer and will therefore be ignored.`)},fe=Ee=>{Ee.parent=null};this.baseLayers.on("after-add",Ee=>le(Ee.item)),this.referenceLayers.on("after-add",Ee=>le(Ee.item)),this.baseLayers.on("after-remove",Ee=>fe(Ee.item)),this.referenceLayers.on("after-remove",Ee=>fe(Ee.item))}initialize(){this.when().catch(_e=>{Y.Z.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,_e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const _e=this.baseLayers.removeAll();for(const fe of _e)fe.destroy();const le=this.referenceLayers.removeAll();for(const fe of le)fe.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem?.destroy(),this.portalItem=null}normalizeCtorArgs(_e){return _e&&"resourceInfo"in _e&&(this._set("resourceInfo",_e.resourceInfo),delete(_e={..._e}).resourceInfo),_e}set baseLayers(_e){this._set("baseLayers",(0,B.Z)(_e,this._get("baseLayers")))}_writeBaseLayers(_e,le,fe){const Ee=[];_e&&(fe={...fe,layerContainerType:"basemap"},this.baseLayers.forEach(ye=>{const ue=(0,q.Nw)(ye,fe.webmap?fe.webmap.getLayerJSONFromResourceInfo(ye):null,fe);(0,ne.pC)(ue)&&Ee.push(ue)}),this.referenceLayers.forEach(ye=>{const ue=(0,q.Nw)(ye,fe.webmap?fe.webmap.getLayerJSONFromResourceInfo(ye):null,fe);(0,ne.pC)(ue)&&("scene"!==ye.type&&(ue.isReference=!0),Ee.push(ue))})),le.baseMapLayers=Ee}set referenceLayers(_e){this._set("referenceLayers",(0,B.Z)(_e,this._get("referenceLayers")))}writeTitle(_e,le){le.title=_e||"Basemap"}load(_e){return this.addResolvingPromise(this._loadFromSource(_e)),Promise.resolve(this)}loadAll(){return(0,G.G)(this,_e=>{_e(this.baseLayers,this.referenceLayers)})}clone(){const _e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(_e.loadStatus="loaded"),new oe({resourceInfo:this.resourceInfo}).set(_e)}read(_e,le){this.resourceInfo||this._set("resourceInfo",{data:_e,context:le}),super.read(_e,le)}write(_e,le){return _e=_e||{},le&&le.origin||(le={origin:"web-map",...le}),super.write(_e,le),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(_e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(fe=>{const Ee=(0,ee.d9)(fe);return Ee.url&&(0,se.oC)(Ee.url)&&(Ee.url=`https:${Ee.url}`),Ee.templateUrl&&(0,se.oC)(Ee.templateUrl)&&(Ee.templateUrl=`https:${Ee.templateUrl}`),Ee})),_e}_loadFromSource(_e){var le=this;return(0,w.Z)(function*(){const{resourceInfo:fe,portalItem:Ee}=le;(0,ae.k_)(_e);const ye=[];fe?(ye.push(le._loadLayersFromJSON(fe.data,fe.context?fe.context.url:null,_e)),fe.data.id&&!fe.data.title&&ye.push((0,J.g)(fe.data.id).then(ce=>{ce&&le.read({title:ce},fe.context)}))):Ee&&ye.push(le._loadFromItem(Ee,_e)),yield Promise.all(ye)})()}_loadLayersFromJSON(_e,le,fe){var Ee=this;return(0,w.Z)(function*(){const ye=Ee.resourceInfo&&Ee.resourceInfo.context,ue=Ee.portalItem&&Ee.portalItem.portal||ye&&ye.portal||null,Me=ye&&"web-scene"===ye.origin?"web-scene":"web-map",{populateOperationalLayers:ce}=yield Promise.all([T.e(7534),T.e(1074)]).then(T.bind(T,71074)),ge=[];if((0,ae.k_)(fe),_e.baseMapLayers&&Array.isArray(_e.baseMapLayers)){const Pe={context:{origin:Me,url:le,portal:ue,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},Ie=Fe=>"web-scene"===Me&&"ArcGISSceneServiceLayer"===Fe.layerType||Fe.isReference,Re=ce(Ee.baseLayers,_e.baseMapLayers.filter(Fe=>!Ie(Fe)),Pe);ge.push(Re);const Ce=ce(Ee.referenceLayers,_e.baseMapLayers.filter(Ie),Pe);ge.push(Ce)}yield(0,ae.as)(ge)})()}_loadFromItem(_e,le){var fe=this;return(0,w.Z)(function*(){const Ee=yield _e.load(le),ye=yield Ee.fetchData("json",le),ue=(0,se.mN)(_e.itemUrl??"");return fe._set("resourceInfo",{data:ye.baseMap??{},context:{origin:"Web Scene"===_e.type?"web-scene":"web-map",portal:_e.portal||$.Z.getDefault(),url:ue}}),fe.read(fe.resourceInfo.data,fe.resourceInfo.context),fe.read({spatialReference:ye.spatialReference},fe.resourceInfo.context),fe.read({title:_e.title,thumbnailUrl:_e.thumbnailUrl},{origin:"portal-item",portal:_e.portal||$.Z.getDefault(),url:ue}),fe._loadLayersFromJSON(fe.resourceInfo.data,ue,le)})()}static fromId(_e){const le=J.s[_e];if(le){if(le.deprecated){let fe=null;"dark-gray"===_e?fe="dark-gray-vector":"gray"===_e?fe="gray-vector":"streets"===_e?fe="streets-vector":"topo"===_e&&(fe="topo-vector"),(0,k.x9)(Y.Z.getLogger(de),`The ${_e} basemap has entered mature support and is no longer being updated.`,{replacement:fe,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return oe.fromJSON(le)}return null}};(0,O._)([(0,ie.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(_e,le,fe,Ee){this._writeBaseLayers(_e,le,Ee)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:W.Z}},writer(_e,le,fe,Ee){this._writeBaseLayers(_e,le,Ee)}}}}}})],be.prototype,"baseLayers",null),(0,O._)([(0,ie.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],be.prototype,"id",void 0),(0,O._)([(0,ie.Cb)({type:z.default})],be.prototype,"portalItem",void 0),(0,O._)([(0,ie.Cb)()],be.prototype,"referenceLayers",null),(0,O._)([(0,ie.Cb)({readOnly:!0})],be.prototype,"resourceInfo",void 0),(0,O._)([(0,ie.Cb)({type:U.Z})],be.prototype,"spatialReference",void 0),(0,O._)([(0,ie.Cb)()],be.prototype,"thumbnailUrl",void 0),(0,O._)([(0,ie.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],be.prototype,"title",void 0),(0,O._)([(0,V.c)("title")],be.prototype,"writeTitle",null),be=oe=(0,O._)([(0,Q.j)(de)],be);const me=be},91558:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var G,Y,w=T(20414),O=T(21286),W=T(62208),B=T(90912);function k(G){return(0,O.uZ)((0,B.vU)(G),0,255)}function re(G,Y,ne){return G=Number(G),isNaN(G)?ne:G<Y?Y:G>ne?ne:G}class ee{static blendColors(Y,ne,ae,se=new ee){return se.r=Math.round(Y.r+(ne.r-Y.r)*ae),se.g=Math.round(Y.g+(ne.g-Y.g)*ae),se.b=Math.round(Y.b+(ne.b-Y.b)*ae),se.a=Y.a+(ne.a-Y.a)*ae,se._sanitize()}static fromRgb(Y,ne){const ae=Y.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(ae){const se=ae[2].split(/\s*,\s*/),ie=ae[1];if("rgb"===ie&&3===se.length||"rgba"===ie&&4===se.length){const te=se[0];if("%"===te.charAt(te.length-1)){const Q=se.map(V=>2.56*parseFloat(V));return 4===se.length&&(Q[3]=parseFloat(se[3])),ee.fromArray(Q,ne)}return ee.fromArray(se.map(Q=>parseFloat(Q)),ne)}if("hsl"===ie&&3===se.length||"hsla"===ie&&4===se.length)return ee.fromArray((0,w.B7)(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100,parseFloat(se[3])),ne)}return null}static fromHex(Y,ne=new ee){if(4!==Y.length&&7!==Y.length||"#"!==Y[0])return null;const ae=4===Y.length?4:8,se=(1<<ae)-1;let ie=Number("0x"+Y.substr(1));return isNaN(ie)?null:(["b","g","r"].forEach(te=>{const Q=ie&se;ie>>=ae,ne[te]=4===ae?17*Q:Q}),ne.a=1,ne)}static fromArray(Y,ne=new ee){return ne._set(Number(Y[0]),Number(Y[1]),Number(Y[2]),Number(Y[3])),isNaN(ne.a)&&(ne.a=1),ne._sanitize()}static fromString(Y,ne){const ae=(0,w.St)(Y)?(0,w.h$)(Y):null;return ae&&ee.fromArray(ae,ne)||ee.fromRgb(Y,ne)||ee.fromHex(Y,ne)}static fromJSON(Y){return Y&&new ee([Y[0],Y[1],Y[2],Y[3]/255])}static toUnitRGB(Y){return(0,W.pC)(Y)?[Y.r/255,Y.g/255,Y.b/255]:null}static toUnitRGBA(Y){return(0,W.pC)(Y)?[Y.r/255,Y.g/255,Y.b/255,null!=Y.a?Y.a:1]:null}constructor(Y){this.r=255,this.g=255,this.b=255,this.a=1,Y&&this.setColor(Y)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(Y){return"string"==typeof Y?ee.fromString(Y,this):Array.isArray(Y)?ee.fromArray(Y,this):(this._set(Y.r??0,Y.g??0,Y.b??0,Y.a??1),Y instanceof ee||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const Y=this.r.toString(16),ne=this.g.toString(16),ae=this.b.toString(16);return`#${Y.length<2?"0"+Y:Y}${ne.length<2?"0"+ne:ne}${ae.length<2?"0"+ae:ae}`}toCss(Y=!1){const ne=this.r+", "+this.g+", "+this.b;return Y?`rgba(${ne}, ${this.a})`:`rgb(${ne})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(Y=ee.AlphaMode.ALWAYS){const ne=k(this.r),ae=k(this.g),se=k(this.b);return Y===ee.AlphaMode.ALWAYS||1!==this.a?[ne,ae,se,k(255*this.a)]:[ne,ae,se]}clone(){return new ee(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(Y){return(0,W.pC)(Y)&&Y.r===this.r&&Y.g===this.g&&Y.b===this.b&&Y.a===this.a}_sanitize(){return this.r=Math.round(re(this.r,0,255)),this.g=Math.round(re(this.g,0,255)),this.b=Math.round(re(this.b,0,255)),this.a=re(this.a,0,1),this}_set(Y,ne,ae,se){this.r=Y,this.g=ne,this.b=ae,this.a=se}}ee.prototype.declaredClass="esri.Color",(Y=(G=ee||(ee={})).AlphaMode||(G.AlphaMode={}))[Y.ALWAYS=0]="ALWAYS",Y[Y.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const Z=ee},88879:(j,F,T)=>{"use strict";T.d(F,{Z:()=>V});var w=T(17626),O=T(29132),W=T(73281),B=T(20383),k=T(79608),re=T(86810),ee=T(62208),Z=T(86236),G=T(77712),ae=(T(90912),T(85931),T(76898)),se=T(91179);function te(U){if(!(0,ee.pC)(U))return null;const $={};for(const z in U){const J=U[z];J&&($[z]=J.toJSON())}return 0!==Object.keys($).length?$:null}let Q=class extends((0,k.J)(re.wq)){constructor(...U){super(...U),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,Z.D)(),configurable:!0})}normalizeCtorArgs(U,$,z,J){return U&&!U.declaredClass?U:{geometry:U,symbol:$,attributes:z,popupTemplate:J}}set aggregateGeometries(U){const $=this._get("aggregateGeometries");JSON.stringify($)!==JSON.stringify(U)&&this._set("aggregateGeometries",U)}set attributes(U){const $=this._get("attributes");$!==U&&(this._set("attributes",U),this._notifyLayer("attributes",$,U))}set geometry(U){const $=this._get("geometry");$!==U&&(this._set("geometry",U),this._notifyLayer("geometry",$,U))}set symbol(U){const $=this._get("symbol");$!==U&&(this._set("symbol",U),this._notifyLayer("symbol",$,U))}set visible(U){const $=this._get("visible");$!==U&&(this._set("visible",U),this._notifyLayer("visible",$,U))}getEffectivePopupTemplate(U=!1){if(this.popupTemplate)return this.popupTemplate;for(const $ of[this.sourceLayer,this.layer])if($){if("popupTemplate"in $&&$.popupTemplate)return $.popupTemplate;if(U&&"defaultPopupTemplate"in $&&(0,ee.pC)($.defaultPopupTemplate))return $.defaultPopupTemplate}return null}getAttribute(U){return this.attributes?.[U]}setAttribute(U,$){if(this.attributes){const z=this.getAttribute(U);this.attributes[U]=$,this._notifyLayer("attributes",z,$,U)}else this.attributes={[U]:$},this._notifyLayer("attributes",void 0,$,U)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:te(this.aggregateGeometries),geometry:(0,ee.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,ee.pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){(0,ee.pC)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(U,$,z,J){if(!this.layer||!("graphicChanged"in this.layer))return;const q={graphic:this,property:U,oldValue:$,newValue:z};"attributes"===U&&(q.attributeName=J),this.layer.graphicChanged(q)}};(0,w._)([(0,G.Cb)({value:null,json:{read:function ie(U){if(!U)return null;const $={};for(const z in U){const J=(0,se.im)(U[z]);J&&($[z]=J)}return 0!==Object.keys($).length?$:null}}})],Q.prototype,"aggregateGeometries",null),(0,w._)([(0,G.Cb)({value:null})],Q.prototype,"attributes",null),(0,w._)([(0,G.Cb)({value:null,types:O.qM,json:{read:se.im}})],Q.prototype,"geometry",null),(0,w._)([(0,G.Cb)({type:Boolean})],Q.prototype,"isAggregate",void 0),(0,w._)([(0,G.Cb)({clonable:"reference"})],Q.prototype,"layer",void 0),(0,w._)([(0,G.Cb)({type:W.Z})],Q.prototype,"popupTemplate",void 0),(0,w._)([(0,G.Cb)({clonable:"reference"})],Q.prototype,"sourceLayer",void 0),(0,w._)([(0,G.Cb)({value:null,types:B.LB})],Q.prototype,"symbol",null),(0,w._)([(0,G.Cb)({type:Boolean,value:!0})],Q.prototype,"visible",null),Q=(0,w._)([(0,ae.j)("esri.Graphic")],Q),(Q||(Q={})).generateUID=Z.D;const V=Q},73281:(j,F,T)=>{"use strict";T.d(F,{Z:()=>xe});var w=T(15861),O=T(17626),W=T(79608),B=T(74333),k=T(86810),re=T(58817),ee=T(63290),Z=T(10699),G=T(77712),Y=T(66656),ne=T(68653),ae=T(76898),se=T(99433),ie=T(90912),te=T(36630),Q=T(55664),V=T(55013),U=T(16615),$=T(82561),z=T(75484),J=T(64531),q=T(6785),oe=T(501);const de={base:null,key:"type",typeMap:{attachment:Q.Z,media:J.Z,text:oe.Z,expression:$.Z,field:z.Z,relationship:q.Z}};var le,be=T(38439),me=T(25621);T(85931);let fe=le=class extends k.wq{constructor(We){super(We),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new le({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,O._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"returnTopmostRaster",void 0),(0,O._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"showNoDataRecords",void 0),fe=le=(0,O._)([(0,ae.j)("esri.popup.LayerOptions")],fe);const Ee=fe;var ue,ye=T(51686);let Me=ue=class extends k.wq{constructor(We){super(We),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new ue({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,re.d9)(this.orderByFields):null})}};(0,O._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],Me.prototype,"showRelatedRecords",void 0),(0,O._)([(0,G.Cb)({type:[ye.Z],json:{write:!0}})],Me.prototype,"orderByFields",void 0),Me=ue=(0,O._)([(0,ae.j)("esri.popup.RelatedRecordsInfo")],Me);const ce=Me;var ge=T(65560),Pe=T(59397),Ie=T(48753),Re=T(10671);const Fe=ee.Z.getLogger("esri.PopupTemplate"),Ne="relationships/",Le="expression/",Oe=B.Z.ofType({key:"type",defaultKeyValue:"button",base:Pe.Z,typeMap:{button:Ie.Z,toggle:Re.Z}}),Ue={base:V.Z,key:"type",typeMap:{media:J.Z,custom:U.Z,text:oe.Z,attachments:Q.Z,fields:z.Z,expression:$.Z,relationship:q.Z}},ke=["attachments","fields","media","text","expression","relationship"];let Ye=class extends((0,W.J)(k.wq)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(We){return Array.isArray(We)?We.map(Qe=>(0,ie.N7)(Ue,Qe)):"string"==typeof We||"function"==typeof We||We instanceof HTMLElement||(0,Z.y8)(We)?We:(Fe.error("content error","unsupported content value",{value:We}),null)}readContent(We,Qe){const{popupElements:lt}=Qe;return Array.isArray(lt)&&lt.length>0?this._readPopupInfoElements(Qe.description,Qe.mediaInfos,lt):this._readPopupInfo(Qe)}writeContent(We,Qe,lt,ve){"string"!=typeof We?Array.isArray(We)&&(Qe.popupElements=We.filter(Te=>ke.includes(Te.type)).map(Te=>Te&&Te.toJSON(ve)),Qe.popupElements.forEach(Te=>{"attachments"===Te.type?this._writeAttachmentContent(Qe):"media"===Te.type?this._writeMediaContent(Te,Qe):"text"===Te.type?this._writeTextContent(Te,Qe):"relationship"===Te.type&&this._writeRelationshipContent(Te,Qe)})):Qe.description=We}writeFieldInfos(We,Qe,lt,ve){const{content:Te}=this,Be=Array.isArray(Te)?Te:null;if(We){const Ge=Be?Be.filter(Xe=>"fields"===Xe.type):[],$e=Ge.length&&Ge.every(Xe=>Xe.fieldInfos?.length);Qe.fieldInfos=We.filter(Boolean).map(Xe=>{const at=Xe.toJSON(ve);return $e&&(at.visible=!1),at})}if(Be)for(const Ge of Be)"fields"===Ge.type&&this._writeFieldsContent(Ge,Qe)}writeLayerOptions(We,Qe,lt,ve){Qe[lt]=!We||null===We.showNoDataRecords&&null===We.returnTopmostRaster?null:We.toJSON(ve)}writeTitle(We,Qe){Qe.title=We||""}collectRequiredFields(We,Qe){var lt=this;return(0,w.Z)(function*(){const ve=lt.expressionInfos||[];yield lt._collectExpressionInfoFields(We,Qe,[...ve,...lt._getContentExpressionInfos(lt.content,ve)]),(0,te.gd)(We,Qe,[...lt.outFields||[],...lt._getActionsFields(lt.actions),...lt._getTitleFields(lt.title),...lt._getContentFields(lt.content)])})()}getRequiredFields(We){var Qe=this;return(0,w.Z)(function*(){const lt=new Set;return yield Qe.collectRequiredFields(lt,We),[...lt].sort()})()}_writeFieldsContent(We,Qe){if(!Array.isArray(We.fieldInfos)||!We.fieldInfos.length)return;const lt=(0,re.d9)(We.fieldInfos);Array.isArray(Qe.fieldInfos)?lt.forEach(ve=>{const Te=Qe.fieldInfos.find(Be=>Be.fieldName.toLowerCase()===ve.fieldName.toLowerCase());Te?Te.visible=!0:Qe.fieldInfos.push(ve)}):Qe.fieldInfos=lt}_writeAttachmentContent(We){We.showAttachments||(We.showAttachments=!0)}_writeRelationshipContent(We,Qe){const lt=We.orderByFields?.map(Te=>this._toFieldOrderJSON(Te,We.relationshipId))||[],ve=[...Qe.relatedRecordsInfo?.orderByFields||[],...lt];Qe.relatedRecordsInfo={showRelatedRecords:!0,...ve?.length&&{orderByFields:ve}}}_writeTextContent(We,Qe){!Qe.description&&We.text&&(Qe.description=We.text)}_writeMediaContent(We,Qe){if(!Array.isArray(We.mediaInfos)||!We.mediaInfos.length)return;const lt=(0,re.d9)(We.mediaInfos);Qe.mediaInfos=Array.isArray(Qe.mediaInfos)?[...Qe.mediaInfos,...lt]:lt}_readPopupInfoElements(We,Qe,lt){const ve={description:!1,mediaInfos:!1};return lt.map(Te=>"media"===Te.type?(Te.mediaInfos||!Qe||ve.mediaInfos||(Te.mediaInfos=Qe,ve.mediaInfos=!0),J.Z.fromJSON(Te)):"text"===Te.type?(Te.text||!We||ve.description||(Te.text=We,ve.description=!0),oe.Z.fromJSON(Te)):"attachments"===Te.type?Q.Z.fromJSON(Te):"fields"===Te.type?z.Z.fromJSON(Te):"expression"===Te.type?$.Z.fromJSON(Te):"relationship"===Te.type?q.Z.fromJSON(Te):void 0).filter(Boolean)}_toRelationshipContent(We){const{field:Qe,order:lt}=We;if(!Qe?.startsWith(Ne))return null;const ve=Qe.replace(Ne,"").split("/");if(2!==ve.length)return null;const Te=parseInt(ve[0],10),Be=ve[1];return"number"==typeof Te&&Be?q.Z.fromJSON({relationshipId:Te,orderByFields:[{field:Be,order:lt}]}):null}_toFieldOrderJSON(We,Qe){const{order:lt,field:ve}=We;return{field:`${Ne}${Qe}/${ve}`,order:lt}}_readPopupInfo({description:We,mediaInfos:Qe,showAttachments:lt,relatedRecordsInfo:ve={showRelatedRecords:!1}}){const Te=[];Te.push(We?new oe.Z({text:We}):new z.Z),Array.isArray(Qe)&&Qe.length&&Te.push(J.Z.fromJSON({mediaInfos:Qe})),lt&&Te.push(Q.Z.fromJSON({displayType:"auto"}));const{showRelatedRecords:Be,orderByFields:Ge}=ve;return Be&&Ge?.length&&Ge.forEach($e=>{const Xe=this._toRelationshipContent($e);Xe&&Te.push(Xe)}),Te.length?Te:We}_getContentElementFields(We){const Qe=We?.type;if("attachments"===Qe)return[...this._extractFieldNames(We.title),...this._extractFieldNames(We.description)];if("custom"===Qe)return We.outFields||[];if("fields"===Qe)return[...this._extractFieldNames(We.title),...this._extractFieldNames(We.description),...this._getFieldInfoFields(We.fieldInfos??this.fieldInfos)];if("media"===Qe){const lt=We.mediaInfos||[];return[...this._extractFieldNames(We.title),...this._extractFieldNames(We.description),...lt.reduce((ve,Te)=>[...ve,...this._getMediaInfoFields(Te)],[])]}return"text"===Qe?this._extractFieldNames(We.text):[]}_getMediaInfoFields(We){const{caption:Qe,title:lt,value:ve}=We,Te=ve||{},{fields:Be,normalizeField:Ge,tooltipField:$e,sourceURL:Xe,linkURL:at}=Te,we=[...this._extractFieldNames(lt),...this._extractFieldNames(Qe),...this._extractFieldNames(Xe),...this._extractFieldNames(at),...Be??[]];return Ge&&we.push(Ge),$e&&we.push($e),we}_getContentExpressionInfos(We,Qe){return Array.isArray(We)?We.reduce((lt,ve)=>[...lt,..."expression"===ve.type&&ve.expressionInfo?[ve.expressionInfo]:[]],Qe):[]}_getContentFields(We){return"string"==typeof We?this._extractFieldNames(We):Array.isArray(We)?We.reduce((Qe,lt)=>[...Qe,...this._getContentElementFields(lt)],[]):[]}_collectExpressionInfoFields(We,Qe,lt){return(0,w.Z)(function*(){lt&&(yield Promise.all(lt.map(ve=>(0,te.io)(We,Qe,ve.expression))))})()}_getFieldInfoFields(We){return We?We.filter(Qe=>void 0===Qe.visible||!!Qe.visible).map(Qe=>Qe.fieldName).filter(Qe=>!Qe.startsWith(Ne)&&!Qe.startsWith(Le)):[]}_getActionsFields(We){return We?We.toArray().reduce((Qe,lt)=>[...Qe,...this._getActionFields(lt)],[]):[]}_getActionFields(We){const{className:Qe,title:lt,type:ve}=We,Te="button"===ve||"toggle"===ve?We.image:"";return[...this._extractFieldNames(lt),...this._extractFieldNames(Qe),...this._extractFieldNames(Te)]}_getTitleFields(We){return"string"==typeof We?this._extractFieldNames(We):[]}_extractFieldNames(We){if(!We||"string"!=typeof We)return[];const lt=We.match(/{[^}]*}/g);if(!lt)return[];const ve=/\{(\w+):.+\}/,Te=lt.filter(Be=>!(0===Be.indexOf(`{${Ne}`)||0===Be.indexOf(`{${Le}`))).map(Be=>Be.replace(ve,"{$1}"));return Te?Te.map(Be=>Be.slice(1,-1)):[]}};(0,O._)([(0,G.Cb)({type:Oe})],Ye.prototype,"actions",void 0),(0,O._)([(0,G.Cb)()],Ye.prototype,"content",void 0),(0,O._)([(0,Y.p)("content")],Ye.prototype,"castContent",null),(0,O._)([(0,ne.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ye.prototype,"readContent",null),(0,O._)([(0,se.c)("content",{popupElements:{type:B.Z.ofType(de)},showAttachments:{type:Boolean},mediaInfos:{type:B.Z.ofType(ge.V)},description:{type:String},relatedRecordsInfo:{type:ce}})],Ye.prototype,"writeContent",null),(0,O._)([(0,G.Cb)({type:[be.Z],json:{write:!0}})],Ye.prototype,"expressionInfos",void 0),(0,O._)([(0,G.Cb)({type:[me.Z]})],Ye.prototype,"fieldInfos",void 0),(0,O._)([(0,se.c)("fieldInfos")],Ye.prototype,"writeFieldInfos",null),(0,O._)([(0,G.Cb)({type:Ee})],Ye.prototype,"layerOptions",void 0),(0,O._)([(0,se.c)("layerOptions")],Ye.prototype,"writeLayerOptions",null),(0,O._)([(0,G.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ye.prototype,"lastEditInfoEnabled",void 0),(0,O._)([(0,G.Cb)()],Ye.prototype,"outFields",void 0),(0,O._)([(0,G.Cb)()],Ye.prototype,"overwriteActions",void 0),(0,O._)([(0,G.Cb)()],Ye.prototype,"returnGeometry",void 0),(0,O._)([(0,G.Cb)({json:{type:String}})],Ye.prototype,"title",void 0),(0,O._)([(0,se.c)("title")],Ye.prototype,"writeTitle",null),Ye=(0,O._)([(0,ae.j)("esri.PopupTemplate")],Ye);const xe=Ye},97478:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var ne,w=T(17626),O=T(86810),W=T(62208),B=T(28170),k=T(77712),Z=(T(90912),T(85931),T(68653)),G=T(76898),Y=T(99433);let ae=ne=class extends O.wq{static get allTime(){return se}static get empty(){return ie}constructor(Q){super(Q),this.end=null,this.start=null}readEnd(Q,V){return null!=V.end?new Date(V.end):null}writeEnd(Q,V){V.end=Q?Q.getTime():null}get isAllTime(){return this.equals(ne.allTime)}get isEmpty(){return this.equals(ne.empty)}readStart(Q,V){return null!=V.start?new Date(V.start):null}writeStart(Q,V){V.start=Q?Q.getTime():null}clone(){return new ne({end:this.end,start:this.start})}equals(Q){if(!Q)return!1;const V=(0,W.pC)(this.start)?this.start.getTime():this.start,U=(0,W.pC)(this.end)?this.end.getTime():this.end,$=(0,W.pC)(Q.start)?Q.start.getTime():Q.start,z=(0,W.pC)(Q.end)?Q.end.getTime():Q.end;return V===$&&U===z}expandTo(Q){if(this.isEmpty||this.isAllTime)return this.clone();const V=(0,W.yw)(this.start,$=>(0,B.JE)($,Q)),U=(0,W.yw)(this.end,$=>{const z=(0,B.JE)($,Q);return $.getTime()===z.getTime()?z:(0,B.Nm)(z,1,Q)});return new ne({start:V,end:U})}intersection(Q){if(!Q)return this.clone();if(this.isEmpty||Q.isEmpty)return ne.empty;if(this.isAllTime)return Q.clone();if(Q.isAllTime)return this.clone();const V=(0,W.R2)(this.start,-1/0,oe=>oe.getTime()),U=(0,W.R2)(this.end,1/0,oe=>oe.getTime()),$=(0,W.R2)(Q.start,-1/0,oe=>oe.getTime()),z=(0,W.R2)(Q.end,1/0,oe=>oe.getTime());let J,q;if($>=V&&$<=U?J=$:V>=$&&V<=z&&(J=V),U>=$&&U<=z?q=U:z>=V&&z<=U&&(q=z),null!=J&&null!=q&&!isNaN(J)&&!isNaN(q)){const oe=new ne;return oe.start=J===-1/0?null:new Date(J),oe.end=q===1/0?null:new Date(q),oe}return ne.empty}offset(Q,V){if(this.isEmpty||this.isAllTime)return this.clone();const U=new ne,{start:$,end:z}=this;return(0,W.pC)($)&&(U.start=(0,B.Nm)($,Q,V)),(0,W.pC)(z)&&(U.end=(0,B.Nm)(z,Q,V)),U}union(Q){if(!Q||Q.isEmpty)return this.clone();if(this.isEmpty)return Q.clone();if(this.isAllTime||Q.isAllTime)return se.clone();const V=(0,W.pC)(this.start)&&(0,W.pC)(Q.start)?new Date(Math.min(this.start.getTime(),Q.start.getTime())):null,U=(0,W.pC)(this.end)&&(0,W.pC)(Q.end)?new Date(Math.max(this.end.getTime(),Q.end.getTime())):null;return new ne({start:V,end:U})}};(0,w._)([(0,k.Cb)({type:Date,json:{write:{allowNull:!0}}})],ae.prototype,"end",void 0),(0,w._)([(0,Z.r)("end")],ae.prototype,"readEnd",null),(0,w._)([(0,Y.c)("end")],ae.prototype,"writeEnd",null),(0,w._)([(0,k.Cb)({readOnly:!0,json:{read:!1}})],ae.prototype,"isAllTime",null),(0,w._)([(0,k.Cb)({readOnly:!0,json:{read:!1}})],ae.prototype,"isEmpty",null),(0,w._)([(0,k.Cb)({type:Date,json:{write:{allowNull:!0}}})],ae.prototype,"start",void 0),(0,w._)([(0,Z.r)("start")],ae.prototype,"readStart",null),(0,w._)([(0,Y.c)("start")],ae.prototype,"writeStart",null),ae=ne=(0,w._)([(0,G.j)("esri.TimeExtent")],ae);const se=new ae,ie=new ae({start:void 0,end:void 0}),te=ae},20849:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var w=T(17626),O=T(79608),W=T(86810),B=T(28170),k=T(77712),Z=(T(90912),T(85931),T(55342)),G=T(76898),Y=T(58926);let ne=class extends((0,O.J)(W.wq)){constructor(se){super(se),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,B.rJ)(this.value,this.unit,"milliseconds")}};(0,w._)([(0,Z.J)(Y.v,{nonNullable:!0})],ne.prototype,"unit",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0},nonNullable:!0})],ne.prototype,"value",void 0),ne=(0,w._)([(0,G.j)("esri.TimeInterval")],ne);const ae=ne},85807:(j,F,T)=>{"use strict";T.d(F,{Z:()=>q});var w=T(17626),O=T(79608),W=T(23719),B=T(86810),k=T(21286),re=T(62208),ee=T(77712),Z=T(66656),Y=(T(85931),T(68653)),ne=T(76898),ae=T(99433),se=T(90912),ie=T(72642);let te=class extends((0,O.J)(B.wq)){constructor(...oe){super(...oe),this.position=new ie.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(oe,pe,de,be){if(oe&&"object"==typeof oe&&("x"in oe||Array.isArray(oe))){const me={position:oe};return null!=pe&&(me.heading=pe),null!=de&&(me.tilt=de),null!=be&&(me.fov=be),me}return oe}writePosition(oe,pe,de,be){const me=oe.clone();me.x=(0,se.q9)(oe.x||0),me.y=(0,se.q9)(oe.y||0),me.z=oe.hasZ?(0,se.q9)(oe.z||0):oe.z,pe[de]=me.write({},be)}readPosition(oe,pe){const de=new ie.Z;return de.read(oe,pe),de.x=(0,se.q9)(de.x||0),de.y=(0,se.q9)(de.y||0),de.z=de.hasZ?(0,se.q9)(de.z||0):de.z,de}equals(oe){return!(0,re.Wi)(oe)&&this.tilt===oe.tilt&&this.heading===oe.heading&&this.fov===oe.fov&&this.position.equals(oe.position)}};(0,w._)([(0,ee.Cb)({type:ie.Z,json:{write:{isRequired:!0}}})],te.prototype,"position",void 0),(0,w._)([(0,ae.c)("position")],te.prototype,"writePosition",null),(0,w._)([(0,Y.r)("position")],te.prototype,"readPosition",null),(0,w._)([(0,ee.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,Z.p)(oe=>W.BV.normalize((0,se.q9)(oe)))],te.prototype,"heading",void 0),(0,w._)([(0,ee.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,Z.p)(oe=>(0,k.uZ)((0,se.q9)(oe),-180,180))],te.prototype,"tilt",void 0),(0,w._)([(0,ee.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],te.prototype,"fov",void 0),te=(0,w._)([(0,ne.j)("esri.Camera")],te);const Q=te;var $,V=T(29132),U=T(91179);let z=$=class extends B.wq{constructor(oe){super(oe),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(oe){return(oe%=360)<0&&(oe+=360),oe}clone(){return new $({rotation:this.rotation,scale:this.scale,targetGeometry:(0,re.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,re.pC)(this.camera)?this.camera.clone():null})}};function J(){return{enabled:!this.camera}}(0,w._)([(0,ee.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J}}}}})],z.prototype,"rotation",void 0),(0,w._)([(0,Z.p)("rotation")],z.prototype,"castRotation",null),(0,w._)([(0,ee.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J}}}}})],z.prototype,"scale",void 0),(0,w._)([(0,ee.Cb)({types:V.qM,json:{read:U.im,write:!0,origins:{"web-scene":{read:U.im,write:{overridePolicy:J}}}}})],z.prototype,"targetGeometry",void 0),(0,w._)([(0,ee.Cb)({type:Q,json:{write:!0}})],z.prototype,"camera",void 0),z=$=(0,w._)([(0,ne.j)("esri.Viewpoint")],z);const q=z},25919:(j,F,T)=>{"use strict";var w,te;T.d(F,{Hy:()=>G,OF:()=>ee,TD:()=>ne,Tu:()=>se,VO:()=>Y,aV:()=>k,kq:()=>Z,rH:()=>w}),(te=w||(w={})).AsyncNotEnabled="AsyncNotEnabled",te.ModulesNotSupported="ModulesNotSupported",te.CircularModules="CircularModules",te.NeverReach="NeverReach",te.UnsupportedHashType="UnsupportedHashType",te.InvalidParameter="InvalidParameter",te.UnexpectedToken="UnexpectedToken",te.Unrecognised="Unrecognised",te.UnrecognisedType="UnrecognisedType",te.MaximumCallDepth="MaximumCallDepth",te.BooleanConditionRequired="BooleanConditionRequired",te.TypeNotAllowedInFeature="TypeNotAllowedInFeature",te.KeyMustBeString="KeyMustBeString",te.WrongNumberOfParameters="WrongNumberOfParameters",te.CallNonFunction="CallNonFunction",te.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",te.NoFunctionInDictionary="NoFunctionInDictionary",te.NoFunctionInArray="NoFunctionInArray",te.AssignModuleFunction="AssignModuleFunction",te.LogicExpressionOrAnd="LogicExpressionOrAnd",te.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",te.FuncionNotFound="FunctionNotFound",te.InvalidMemberAccessKey="InvalidMemberAccessKey",te.UnsupportedUnaryOperator="UnsupportUnaryOperator",te.InvalidIdentifier="InvalidIdentifier",te.MemberOfNull="MemberOfNull",te.UnsupportedOperator="UnsupportedOperator",te.Cancelled="Cancelled",te.ModuleAccessorMustBeString="ModuleAccessorMustBeString",te.ModuleExportNotFound="ModuleExportNotFound",te.Immutable="Immutable",te.OutOfBounds="OutOfBounds",te.IllegalResult="IllegalResult",te.FieldNotFound="FieldNotFound",te.PortalRequired="PortalRequired",te.LogicError="LogicError",te.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",te.KeyAccessorMustBeString="KeyAccessorMustBeString",te.WrongSpatialReference="WrongSpatialReference";const O={[w.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[w.LogicError]:"Logic error - {reason}",[w.NeverReach]:"Encountered unreachable logic",[w.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[w.ModuleAccessorMustBeString]:"Module accessor must be a string",[w.ModuleExportNotFound]:"Module has no export with provided identifier",[w.ModulesNotSupported]:"Current profile does not support modules",[w.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[w.FuncionNotFound]:"Function not found",[w.FieldNotFound]:"Key not found - {key}",[w.CircularModules]:"Circular module dependencies are not allowed",[w.Cancelled]:"Execution cancelled",[w.UnsupportedHashType]:"Type not supported in hash function",[w.IllegalResult]:"Value is not a supported return type",[w.PortalRequired]:"Portal is required",[w.InvalidParameter]:"Invalid parameter",[w.WrongNumberOfParameters]:"Call with wrong number of parameters",[w.Unrecognised]:"Unrecognised code structure",[w.UnrecognisedType]:"Unrecognised type",[w.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[w.BooleanConditionRequired]:"Conditions must use booleans",[w.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[w.NoFunctionInArray]:"Arrays cannot contain functions.",[w.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[w.KeyAccessorMustBeString]:"Accessor must be a string",[w.KeyMustBeString]:"Object keys must be a string",[w.Immutable]:"Object is immutable",[w.InvalidParameter]:"Invalid parameter",[w.UnexpectedToken]:"Unexpected token",[w.MemberOfNull]:"Cannot access property of null object",[w.MaximumCallDepth]:"Exceeded maximum function depth",[w.OutOfBounds]:"Out of bounds",[w.InvalidIdentifier]:"Identifier not recognised",[w.FuncionNotFound]:"Function not found",[w.CallNonFunction]:"Expression is not a function",[w.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[w.AssignModuleFunction]:"Cannot assign function to module variable",[w.UnsupportedUnaryOperator]:"Unsupported unary operator",[w.UnsupportedOperator]:"Unsupported operator",[w.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[w.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&"};class W extends Error{constructor(...Q){super(...Q)}}class B extends W{constructor(Q,V){super(re(V)+Q.message,{cause:Q}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,B),V&&V.loc&&(this.loc=V.loc)}}class k extends Error{constructor(Q,V,U,$){super("Execution error - "+re(U)+G(O[V],$)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,k),U&&U.loc&&(this.loc=U.loc)}}function re(te){return te&&te.loc?`Line : ${te.loc.start?.line}, ${te.loc.start?.column}: `:""}class ee extends Error{constructor(Q,V,U,$){super("Compilation error - "+re(U)+G(O[V],$)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,ee),U&&U.loc&&(this.loc=U.loc)}}class Z extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,Z)}}function G(te,Q){try{if(!Q)return te;for(const V in Q){let U=Q[V];U||(U=""),te=te.replace("{"+V+"}",Q[V])}}catch{}return te}function Y(te,Q,V){return"esri.arcade.arcadeexecutionerror"===V.declaredRootClass||"esri.arcade.arcadecompilationerror"===V.declaredRootClass?null===V.loc&&Q&&Q.loc?new B(V,{cause:V}):V:Q&&Q.loc?new B(V,{cause:V}):V}var ne;!function(te){te.UnrecognisedUri="UnrecognisedUri",te.UnsupportedUriProtocol="UnsupportedUriProtocol"}(ne||(ne={}));const ae={[ne.UnrecognisedUri]:"Unrecognised uri - {uri}",[ne.UnsupportedUriProtocol]:"Unrecognised uri protocol"};class se extends Error{constructor(Q,V){super(G(ae[Q],V)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,se)}}},47982:(j,F,T)=>{"use strict";T.d(F,{EN:()=>ee,H9:()=>k,eS:()=>B,f:()=>O});var O,Z,w=T(25919);(Z=O||(O={})).InvalidFunctionParameters="InvalidFunctionParameters",Z.UnsupportedSqlFunction="UnsupportedSqlFunction",Z.UnsupportedOperator="UnsupportedOperator",Z.UnsupportedSyntax="UnsupportedSyntax",Z.UnsupportedIsRhs="UnsupportedIsRhs",Z.UnsupportedIsLhs="UnsupportedIsLhs",Z.InvalidDataType="InvalidDataType",Z.CannotCastValue="CannotCastValue",Z.MissingStatisticParameters="MissingStatisticParameters";const W={[O.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[O.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[O.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[O.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[O.UnsupportedOperator]:"Unsupported operator - {operator}",[O.UnsupportedSyntax]:"Unsupported syntax - {node}",[O.UnsupportedSqlFunction]:"Sql function not found = {function}",[O.InvalidDataType]:"Invalid sql data type",[O.CannotCastValue]:"Cannot cast value to the required data type"};class B extends Error{constructor(G,Y){super((0,w.Hy)(W[G],Y)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,B)}}var k;!function(Z){Z.NeverReach="NeverReach",Z.NotImplemented="NotImplemented",Z.Cancelled="Cancelled",Z.InvalidStatResponse="InvalidStatResponse",Z.InvalidRequest="InvalidRequest",Z.RequestFailed="RequestFailed",Z.MissingFeatures="MissingFeatures",Z.AggregationFieldNotFound="AggregationFieldNotFound",Z.DataElementsNotFound="DataElementsNotFound"}(k||(k={}));const re={[k.Cancelled]:"Cancelled",[k.InvalidStatResponse]:"Invalid statistics response from service",[k.InvalidRequest]:"Invalid request",[k.RequestFailed]:"Request failed - {reason}",[k.MissingFeatures]:"Missing features",[k.AggregationFieldNotFound]:"Aggregation field not found",[k.DataElementsNotFound]:"Data elements not found on service",[k.NeverReach]:"Encountered unreachable logic",[k.NotImplemented]:"Not implemented"};class ee extends Error{constructor(G,Y){super((0,w.Hy)(re[G],Y)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,ee)}}},54346:(j,F,T)=>{"use strict";T.d(F,{V:()=>Z});var w=T(59318),W=(T(84792),T(26584)),B=T(63290),k=T(21726);const re=B.Z.getLogger("esri.assets");function Z(G){if(!w.Z.assetsPath)throw re.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new W.Z("assets:path-not-set","config.assetsPath is not set");return(0,k.v_)(w.Z.assetsPath,G)}},71530:(j,F,T)=>{"use strict";T.d(F,{a:()=>ne});var G,w=T(17626),O=T(91558),W=T(86810),B=T(58817),k=T(77712),ee=(T(90912),T(76898)),Z=T(60958);let Y=G=class extends W.wq{constructor(){super(...arguments),this.color=new O.Z("white")}clone(){return new G({color:(0,B.d9)(this.color)})}};(0,w._)([(0,k.Cb)(Z.a)],Y.prototype,"color",void 0),Y=G=(0,w._)([(0,ee.j)("esri.symbols.callouts.LineCallout3DBorder")],Y);const ne=Y;Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}))},1719:(j,F,T)=>{"use strict";T.d(F,{c:()=>w,g:()=>O});var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O(W){return W&&W.__esModule&&Object.prototype.hasOwnProperty.call(W,"default")?W.default:W}},39863:(j,F,T)=>{"use strict";T.d(F,{R:()=>B,a:()=>Z,g:()=>O,t:()=>ee});let w=1e-6;function O(){return w}const B=Math.random,k=Math.PI/180,re=180/Math.PI;function ee(ne){return ne*k}function Z(ne){return ne*re}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:B,equals:function G(ne,ae){return Math.abs(ne-ae)<=w*Math.max(1,Math.abs(ne),Math.abs(ae))},getEpsilon:O,setEpsilon:function W(ne){w=ne},toDegree:Z,toRadian:ee},Symbol.toStringTag,{value:"Module"}))},31478:(j,F,T)=>{"use strict";T.d(F,{a:()=>se,b:()=>ne,c:()=>k,d:()=>B,f:()=>ae,i:()=>W,m:()=>ee,r:()=>Z,s:()=>G,t:()=>Y});var w=T(39863);function W(de){return de[0]=1,de[1]=0,de[2]=0,de[3]=1,de[4]=0,de[5]=0,de}function B(de,be,me,_e,le,fe,Ee){return de[0]=be,de[1]=me,de[2]=_e,de[3]=le,de[4]=fe,de[5]=Ee,de}function k(de,be){const me=be[0],_e=be[1],le=be[2],fe=be[3],Ee=be[4],ye=be[5];let ue=me*fe-_e*le;return ue?(ue=1/ue,de[0]=fe*ue,de[1]=-_e*ue,de[2]=-le*ue,de[3]=me*ue,de[4]=(le*ye-fe*Ee)*ue,de[5]=(_e*Ee-me*ye)*ue,de):null}function ee(de,be,me){const _e=be[0],le=be[1],fe=be[2],Ee=be[3],ye=be[4],ue=be[5],Me=me[0],ce=me[1],ge=me[2],Pe=me[3],Ie=me[4],Re=me[5];return de[0]=_e*Me+fe*ce,de[1]=le*Me+Ee*ce,de[2]=_e*ge+fe*Pe,de[3]=le*ge+Ee*Pe,de[4]=_e*Ie+fe*Re+ye,de[5]=le*Ie+Ee*Re+ue,de}function Z(de,be,me){const _e=be[0],le=be[1],fe=be[2],Ee=be[3],ye=be[4],ue=be[5],Me=Math.sin(me),ce=Math.cos(me);return de[0]=_e*ce+fe*Me,de[1]=le*ce+Ee*Me,de[2]=_e*-Me+fe*ce,de[3]=le*-Me+Ee*ce,de[4]=ye,de[5]=ue,de}function G(de,be,me){const le=be[1],fe=be[2],Ee=be[3],ye=be[4],ue=be[5],Me=me[0],ce=me[1];return de[0]=be[0]*Me,de[1]=le*Me,de[2]=fe*ce,de[3]=Ee*ce,de[4]=ye,de[5]=ue,de}function Y(de,be,me){const _e=be[0],le=be[1],fe=be[2],Ee=be[3],ye=be[4],ue=be[5],Me=me[0],ce=me[1];return de[0]=_e,de[1]=le,de[2]=fe,de[3]=Ee,de[4]=_e*Me+fe*ce+ye,de[5]=le*Me+Ee*ce+ue,de}function ne(de,be){const me=Math.sin(be),_e=Math.cos(be);return de[0]=_e,de[1]=me,de[2]=-me,de[3]=_e,de[4]=0,de[5]=0,de}function ae(de,be){return de[0]=be[0],de[1]=0,de[2]=0,de[3]=be[1],de[4]=0,de[5]=0,de}function se(de,be){return de[0]=1,de[1]=0,de[2]=0,de[3]=1,de[4]=be[0],de[5]=be[1],de}function V(de,be,me){return de[0]=be[0]-me[0],de[1]=be[1]-me[1],de[2]=be[2]-me[2],de[3]=be[3]-me[3],de[4]=be[4]-me[4],de[5]=be[5]-me[5],de}Object.freeze(Object.defineProperty({__proto__:null,add:function Q(de,be,me){return de[0]=be[0]+me[0],de[1]=be[1]+me[1],de[2]=be[2]+me[2],de[3]=be[3]+me[3],de[4]=be[4]+me[4],de[5]=be[5]+me[5],de},copy:function O(de,be){return de[0]=be[0],de[1]=be[1],de[2]=be[2],de[3]=be[3],de[4]=be[4],de[5]=be[5],de},determinant:function re(de){return de[0]*de[3]-de[1]*de[2]},equals:function J(de,be){const me=de[0],_e=de[1],le=de[2],fe=de[3],Ee=de[4],ye=de[5],ue=be[0],Me=be[1],ce=be[2],ge=be[3],Pe=be[4],Ie=be[5],Re=(0,w.g)();return Math.abs(me-ue)<=Re*Math.max(1,Math.abs(me),Math.abs(ue))&&Math.abs(_e-Me)<=Re*Math.max(1,Math.abs(_e),Math.abs(Me))&&Math.abs(le-ce)<=Re*Math.max(1,Math.abs(le),Math.abs(ce))&&Math.abs(fe-ge)<=Re*Math.max(1,Math.abs(fe),Math.abs(ge))&&Math.abs(Ee-Pe)<=Re*Math.max(1,Math.abs(Ee),Math.abs(Pe))&&Math.abs(ye-Ie)<=Re*Math.max(1,Math.abs(ye),Math.abs(Ie))},exactEquals:function z(de,be){return de[0]===be[0]&&de[1]===be[1]&&de[2]===be[2]&&de[3]===be[3]&&de[4]===be[4]&&de[5]===be[5]},frob:function te(de){return Math.sqrt(de[0]**2+de[1]**2+de[2]**2+de[3]**2+de[4]**2+de[5]**2+1)},fromRotation:ne,fromScaling:ae,fromTranslation:se,identity:W,invert:k,mul:ee,multiply:ee,multiplyScalar:function U(de,be,me){return de[0]=be[0]*me,de[1]=be[1]*me,de[2]=be[2]*me,de[3]=be[3]*me,de[4]=be[4]*me,de[5]=be[5]*me,de},multiplyScalarAndAdd:function $(de,be,me,_e){return de[0]=be[0]+me[0]*_e,de[1]=be[1]+me[1]*_e,de[2]=be[2]+me[2]*_e,de[3]=be[3]+me[3]*_e,de[4]=be[4]+me[4]*_e,de[5]=be[5]+me[5]*_e,de},rotate:Z,scale:G,set:B,str:function ie(de){return"mat2d("+de[0]+", "+de[1]+", "+de[2]+", "+de[3]+", "+de[4]+", "+de[5]+")"},sub:V,subtract:V,translate:Y},Symbol.toStringTag,{value:"Module"}))},12225:(j,F,T)=>{"use strict";function w(){const Z=new Float32Array(6);return Z[0]=1,Z[3]=1,Z}function k(Z,G,Y,ne){const ae=G[ne],se=G[ne+1];Z[ne]=Y[0]*ae+Y[2]*se+Y[4],Z[ne+1]=Y[1]*ae+Y[3]*se+Y[5]}function re(Z,G,Y,ne=0,ae=0,se=2){const ie=ae||G.length/se;for(let te=ne;te<ie;te++)k(Z,G,Y,te*se)}T.d(F,{c:()=>w,t:()=>re}),Object.freeze(Object.defineProperty({__proto__:null,clone:function O(Z){const G=new Float32Array(6);return G[0]=Z[0],G[1]=Z[1],G[2]=Z[2],G[3]=Z[3],G[4]=Z[4],G[5]=Z[5],G},create:w,createView:function B(Z,G){return new Float32Array(Z,G,6)},fromValues:function W(Z,G,Y,ne,ae,se){const ie=new Float32Array(6);return ie[0]=Z,ie[1]=G,ie[2]=Y,ie[3]=ne,ie[4]=ae,ie[5]=se,ie},transform:k,transformMany:re},Symbol.toStringTag,{value:"Module"}))},46342:(j,F,T)=>{"use strict";function w(){return[1,0,0,1,0,0]}function O(re){return[re[0],re[1],re[2],re[3],re[4],re[5]]}T.d(F,{a:()=>O,c:()=>w}),Object.freeze(Object.defineProperty({__proto__:null,clone:O,create:w,createView:function B(re,ee){return new Float64Array(re,ee,6)},fromValues:function W(re,ee,Z,G,Y,ne){return[re,ee,Z,G,Y,ne]}},Symbol.toStringTag,{value:"Module"}))},30217:(j,F,T)=>{"use strict";T.d(F,{a:()=>Z,b:()=>J,d:()=>se,e:()=>ee,f:()=>O,g:()=>k,h:()=>ne,i:()=>Ee,j:()=>te,k:()=>ie,m:()=>Y,n:()=>z,r:()=>ae,s:()=>B,t:()=>re});var w=T(39863);function O(ce,ge){return ce[0]=ge[0],ce[1]=ge[1],ce[2]=ge[2],ce[3]=ge[4],ce[4]=ge[5],ce[5]=ge[6],ce[6]=ge[8],ce[7]=ge[9],ce[8]=ge[10],ce}function B(ce,ge,Pe,Ie,Re,Ce,Fe,Ne,Le,Oe){return ce[0]=ge,ce[1]=Pe,ce[2]=Ie,ce[3]=Re,ce[4]=Ce,ce[5]=Fe,ce[6]=Ne,ce[7]=Le,ce[8]=Oe,ce}function k(ce){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=1,ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce}function re(ce,ge){if(ce===ge){const Pe=ge[1],Ie=ge[2],Re=ge[5];ce[1]=ge[3],ce[2]=ge[6],ce[3]=Pe,ce[5]=ge[7],ce[6]=Ie,ce[7]=Re}else ce[0]=ge[0],ce[1]=ge[3],ce[2]=ge[6],ce[3]=ge[1],ce[4]=ge[4],ce[5]=ge[7],ce[6]=ge[2],ce[7]=ge[5],ce[8]=ge[8];return ce}function ee(ce,ge){const Pe=ge[0],Ie=ge[1],Re=ge[2],Ce=ge[3],Fe=ge[4],Ne=ge[5],Le=ge[6],Oe=ge[7],Ue=ge[8],ke=Ue*Fe-Ne*Oe,Ye=-Ue*Ce+Ne*Le,xe=Oe*Ce-Fe*Le;let We=Pe*ke+Ie*Ye+Re*xe;return We?(We=1/We,ce[0]=ke*We,ce[1]=(-Ue*Ie+Re*Oe)*We,ce[2]=(Ne*Ie-Re*Fe)*We,ce[3]=Ye*We,ce[4]=(Ue*Pe-Re*Le)*We,ce[5]=(-Ne*Pe+Re*Ce)*We,ce[6]=xe*We,ce[7]=(-Oe*Pe+Ie*Le)*We,ce[8]=(Fe*Pe-Ie*Ce)*We,ce):null}function Z(ce,ge){const Pe=ge[0],Ie=ge[1],Re=ge[2],Ce=ge[3],Fe=ge[4],Ne=ge[5],Le=ge[6],Oe=ge[7],Ue=ge[8];return ce[0]=Fe*Ue-Ne*Oe,ce[1]=Re*Oe-Ie*Ue,ce[2]=Ie*Ne-Re*Fe,ce[3]=Ne*Le-Ce*Ue,ce[4]=Pe*Ue-Re*Le,ce[5]=Re*Ce-Pe*Ne,ce[6]=Ce*Oe-Fe*Le,ce[7]=Ie*Le-Pe*Oe,ce[8]=Pe*Fe-Ie*Ce,ce}function Y(ce,ge,Pe){const Ie=ge[0],Re=ge[1],Ce=ge[2],Fe=ge[3],Ne=ge[4],Le=ge[5],Oe=ge[6],Ue=ge[7],ke=ge[8],Ye=Pe[0],xe=Pe[1],We=Pe[2],Qe=Pe[3],lt=Pe[4],ve=Pe[5],Te=Pe[6],Be=Pe[7],Ge=Pe[8];return ce[0]=Ye*Ie+xe*Fe+We*Oe,ce[1]=Ye*Re+xe*Ne+We*Ue,ce[2]=Ye*Ce+xe*Le+We*ke,ce[3]=Qe*Ie+lt*Fe+ve*Oe,ce[4]=Qe*Re+lt*Ne+ve*Ue,ce[5]=Qe*Ce+lt*Le+ve*ke,ce[6]=Te*Ie+Be*Fe+Ge*Oe,ce[7]=Te*Re+Be*Ne+Ge*Ue,ce[8]=Te*Ce+Be*Le+Ge*ke,ce}function ne(ce,ge,Pe){const Ie=ge[0],Re=ge[1],Ce=ge[2],Fe=ge[3],Ne=ge[4],Le=ge[5],Oe=ge[6],Ue=ge[7],ke=ge[8],Ye=Pe[0],xe=Pe[1];return ce[0]=Ie,ce[1]=Re,ce[2]=Ce,ce[3]=Fe,ce[4]=Ne,ce[5]=Le,ce[6]=Ye*Ie+xe*Fe+Oe,ce[7]=Ye*Re+xe*Ne+Ue,ce[8]=Ye*Ce+xe*Le+ke,ce}function ae(ce,ge,Pe){const Ie=ge[0],Re=ge[1],Ce=ge[2],Fe=ge[3],Ne=ge[4],Le=ge[5],Oe=ge[6],Ue=ge[7],ke=ge[8],Ye=Math.sin(Pe),xe=Math.cos(Pe);return ce[0]=xe*Ie+Ye*Fe,ce[1]=xe*Re+Ye*Ne,ce[2]=xe*Ce+Ye*Le,ce[3]=xe*Fe-Ye*Ie,ce[4]=xe*Ne-Ye*Re,ce[5]=xe*Le-Ye*Ce,ce[6]=Oe,ce[7]=Ue,ce[8]=ke,ce}function se(ce,ge,Pe){const Ie=Pe[0],Re=Pe[1],Ce=Pe[2];return ce[0]=Ie*ge[0],ce[1]=Ie*ge[1],ce[2]=Ie*ge[2],ce[3]=Re*ge[3],ce[4]=Re*ge[4],ce[5]=Re*ge[5],ce[6]=Ce*ge[6],ce[7]=Ce*ge[7],ce[8]=Ce*ge[8],ce}function ie(ce,ge,Pe){const Ie=Pe[0],Re=Pe[1];return ce[0]=Ie*ge[0],ce[1]=Ie*ge[1],ce[2]=Ie*ge[2],ce[3]=Re*ge[3],ce[4]=Re*ge[4],ce[5]=Re*ge[5],ce}function te(ce,ge){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=1,ce[5]=0,ce[6]=ge[0],ce[7]=ge[1],ce[8]=1,ce}function z(ce,ge){const Pe=ge[0],Ie=ge[1],Re=ge[2],Ce=ge[4],Fe=ge[5],Ne=ge[6],Le=ge[8],Oe=ge[9],Ue=ge[10],ke=Ue*Fe-Ne*Oe,Ye=-Ue*Ce+Ne*Le,xe=Oe*Ce-Fe*Le,We=Pe*ke+Ie*Ye+Re*xe;if(!We)return null;const Qe=1/We;return ce[0]=ke*Qe,ce[1]=(-Ue*Ie+Re*Oe)*Qe,ce[2]=(Ne*Ie-Re*Fe)*Qe,ce[3]=Ye*Qe,ce[4]=(Ue*Pe-Re*Le)*Qe,ce[5]=(-Ne*Pe+Re*Ce)*Qe,ce[6]=xe*Qe,ce[7]=(-Oe*Pe+Ie*Le)*Qe,ce[8]=(Fe*Pe-Ie*Ce)*Qe,ce}function J(ce,ge){const Pe=ge[0],Ie=ge[1],Re=ge[2],Ce=ge[3],Fe=ge[4],Ne=ge[5],Le=ge[6],Oe=ge[7],Ue=ge[8],ke=ge[9],Ye=ge[10],xe=ge[11],We=ge[12],Qe=ge[13],lt=ge[14],ve=ge[15],Te=Pe*Ne-Ie*Fe,Be=Pe*Le-Re*Fe,Ge=Pe*Oe-Ce*Fe,$e=Ie*Le-Re*Ne,Xe=Ie*Oe-Ce*Ne,at=Re*Oe-Ce*Le,we=Ue*Qe-ke*We,tt=Ue*lt-Ye*We,pt=Ue*ve-xe*We,Pt=ke*lt-Ye*Qe,mt=ke*ve-xe*Qe,St=Ye*ve-xe*lt;let ut=Te*St-Be*mt+Ge*Pt+$e*pt-Xe*tt+at*we;return ut?(ut=1/ut,ce[0]=(Ne*St-Le*mt+Oe*Pt)*ut,ce[1]=(Le*pt-Fe*St-Oe*tt)*ut,ce[2]=(Fe*mt-Ne*pt+Oe*we)*ut,ce[3]=(Re*mt-Ie*St-Ce*Pt)*ut,ce[4]=(Pe*St-Re*pt+Ce*tt)*ut,ce[5]=(Ie*pt-Pe*mt-Ce*we)*ut,ce[6]=(Qe*at-lt*Xe+ve*$e)*ut,ce[7]=(lt*Ge-We*at-ve*Be)*ut,ce[8]=(We*Xe-Qe*Ge+ve*Te)*ut,ce):null}function be(ce,ge,Pe){return ce[0]=ge[0]-Pe[0],ce[1]=ge[1]-Pe[1],ce[2]=ge[2]-Pe[2],ce[3]=ge[3]-Pe[3],ce[4]=ge[4]-Pe[4],ce[5]=ge[5]-Pe[5],ce[6]=ge[6]-Pe[6],ce[7]=ge[7]-Pe[7],ce[8]=ge[8]-Pe[8],ce}function Ee(ce){const ge=(0,w.g)(),Pe=ce[0],Ie=ce[1],Re=ce[2],Ce=ce[3],Fe=ce[4],Ne=ce[5],Le=ce[6],Oe=ce[7],Ue=ce[8];return Math.abs(1-(Pe*Pe+Ce*Ce+Le*Le))<=ge&&Math.abs(1-(Ie*Ie+Fe*Fe+Oe*Oe))<=ge&&Math.abs(1-(Re*Re+Ne*Ne+Ue*Ue))<=ge}Object.freeze(Object.defineProperty({__proto__:null,add:function de(ce,ge,Pe){return ce[0]=ge[0]+Pe[0],ce[1]=ge[1]+Pe[1],ce[2]=ge[2]+Pe[2],ce[3]=ge[3]+Pe[3],ce[4]=ge[4]+Pe[4],ce[5]=ge[5]+Pe[5],ce[6]=ge[6]+Pe[6],ce[7]=ge[7]+Pe[7],ce[8]=ge[8]+Pe[8],ce},adjoint:Z,copy:function W(ce,ge){return ce[0]=ge[0],ce[1]=ge[1],ce[2]=ge[2],ce[3]=ge[3],ce[4]=ge[4],ce[5]=ge[5],ce[6]=ge[6],ce[7]=ge[7],ce[8]=ge[8],ce},determinant:function G(ce){const Re=ce[3],Ce=ce[4],Fe=ce[5],Ne=ce[6],Le=ce[7],Oe=ce[8];return ce[0]*(Oe*Ce-Fe*Le)+ce[1]*(-Oe*Re+Fe*Ne)+ce[2]*(Le*Re-Ce*Ne)},equals:function fe(ce,ge){const Pe=ce[0],Ie=ce[1],Re=ce[2],Ce=ce[3],Fe=ce[4],Ne=ce[5],Le=ce[6],Oe=ce[7],Ue=ce[8],ke=ge[0],Ye=ge[1],xe=ge[2],We=ge[3],Qe=ge[4],lt=ge[5],ve=ge[6],Te=ge[7],Be=ge[8],Ge=(0,w.g)();return Math.abs(Pe-ke)<=Ge*Math.max(1,Math.abs(Pe),Math.abs(ke))&&Math.abs(Ie-Ye)<=Ge*Math.max(1,Math.abs(Ie),Math.abs(Ye))&&Math.abs(Re-xe)<=Ge*Math.max(1,Math.abs(Re),Math.abs(xe))&&Math.abs(Ce-We)<=Ge*Math.max(1,Math.abs(Ce),Math.abs(We))&&Math.abs(Fe-Qe)<=Ge*Math.max(1,Math.abs(Fe),Math.abs(Qe))&&Math.abs(Ne-lt)<=Ge*Math.max(1,Math.abs(Ne),Math.abs(lt))&&Math.abs(Le-ve)<=Ge*Math.max(1,Math.abs(Le),Math.abs(ve))&&Math.abs(Oe-Te)<=Ge*Math.max(1,Math.abs(Oe),Math.abs(Te))&&Math.abs(Ue-Be)<=Ge*Math.max(1,Math.abs(Ue),Math.abs(Be))},exactEquals:function le(ce,ge){return ce[0]===ge[0]&&ce[1]===ge[1]&&ce[2]===ge[2]&&ce[3]===ge[3]&&ce[4]===ge[4]&&ce[5]===ge[5]&&ce[6]===ge[6]&&ce[7]===ge[7]&&ce[8]===ge[8]},frob:function pe(ce){return Math.sqrt(ce[0]**2+ce[1]**2+ce[2]**2+ce[3]**2+ce[4]**2+ce[5]**2+ce[6]**2+ce[7]**2+ce[8]**2)},fromMat2d:function U(ce,ge){return ce[0]=ge[0],ce[1]=ge[1],ce[2]=0,ce[3]=ge[2],ce[4]=ge[3],ce[5]=0,ce[6]=ge[4],ce[7]=ge[5],ce[8]=1,ce},fromMat4:O,fromQuat:function $(ce,ge){const Pe=ge[0],Ie=ge[1],Re=ge[2],Ce=ge[3],Fe=Pe+Pe,Ne=Ie+Ie,Le=Re+Re,Oe=Pe*Fe,Ue=Ie*Fe,ke=Ie*Ne,Ye=Re*Fe,xe=Re*Ne,We=Re*Le,Qe=Ce*Fe,lt=Ce*Ne,ve=Ce*Le;return ce[0]=1-ke-We,ce[3]=Ue-ve,ce[6]=Ye+lt,ce[1]=Ue+ve,ce[4]=1-Oe-We,ce[7]=xe-Qe,ce[2]=Ye-lt,ce[5]=xe+Qe,ce[8]=1-Oe-ke,ce},fromRotation:function Q(ce,ge){const Pe=Math.sin(ge),Ie=Math.cos(ge);return ce[0]=Ie,ce[1]=Pe,ce[2]=0,ce[3]=-Pe,ce[4]=Ie,ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce},fromScaling:function V(ce,ge){return ce[0]=ge[0],ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=ge[1],ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce},fromTranslation:te,identity:k,invert:ee,isOrthoNormal:Ee,mul:Y,multiply:Y,multiplyScalar:function me(ce,ge,Pe){return ce[0]=ge[0]*Pe,ce[1]=ge[1]*Pe,ce[2]=ge[2]*Pe,ce[3]=ge[3]*Pe,ce[4]=ge[4]*Pe,ce[5]=ge[5]*Pe,ce[6]=ge[6]*Pe,ce[7]=ge[7]*Pe,ce[8]=ge[8]*Pe,ce},multiplyScalarAndAdd:function _e(ce,ge,Pe,Ie){return ce[0]=ge[0]+Pe[0]*Ie,ce[1]=ge[1]+Pe[1]*Ie,ce[2]=ge[2]+Pe[2]*Ie,ce[3]=ge[3]+Pe[3]*Ie,ce[4]=ge[4]+Pe[4]*Ie,ce[5]=ge[5]+Pe[5]*Ie,ce[6]=ge[6]+Pe[6]*Ie,ce[7]=ge[7]+Pe[7]*Ie,ce[8]=ge[8]+Pe[8]*Ie,ce},normalFromMat4:J,normalFromMat4Legacy:z,projection:function q(ce,ge,Pe){return ce[0]=2/ge,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=-2/Pe,ce[5]=0,ce[6]=-1,ce[7]=1,ce[8]=1,ce},rotate:ae,scale:se,scaleByVec2:ie,set:B,str:function oe(ce){return"mat3("+ce[0]+", "+ce[1]+", "+ce[2]+", "+ce[3]+", "+ce[4]+", "+ce[5]+", "+ce[6]+", "+ce[7]+", "+ce[8]+")"},sub:be,subtract:be,translate:ne,transpose:re},Symbol.toStringTag,{value:"Module"}))},49966:(j,F,T)=>{"use strict";function w(){const re=new Float32Array(9);return re[0]=1,re[4]=1,re[8]=1,re}function O(re){const ee=new Float32Array(9);return ee[0]=re[0],ee[1]=re[1],ee[2]=re[2],ee[3]=re[3],ee[4]=re[4],ee[5]=re[5],ee[6]=re[6],ee[7]=re[7],ee[8]=re[8],ee}function W(re,ee,Z,G,Y,ne,ae,se,ie){const te=new Float32Array(9);return te[0]=re,te[1]=ee,te[2]=Z,te[3]=G,te[4]=Y,te[5]=ne,te[6]=ae,te[7]=se,te[8]=ie,te}T.d(F,{a:()=>O,c:()=>w,f:()=>W}),Object.freeze(Object.defineProperty({__proto__:null,clone:O,create:w,createView:function B(re,ee){return new Float32Array(re,ee,9)},fromValues:W},Symbol.toStringTag,{value:"Module"}))},28347:(j,F,T)=>{"use strict";T.d(F,{A:()=>J,E:()=>$,F:()=>ye,a:()=>Z,b:()=>oe,c:()=>W,d:()=>z,e:()=>ie,f:()=>U,g:()=>fe,h:()=>ke,i:()=>k,j:()=>Ue,k:()=>se,m:()=>ne,n:()=>Q,o:()=>V,p:()=>ee,q:()=>ue,r:()=>te,s:()=>B,t:()=>re,u:()=>Pe,w:()=>ae,x:()=>ge,y:()=>xe,z:()=>Ye});var w=T(28093),O=T(39863);function W(ve,Te){return ve[0]=Te[0],ve[1]=Te[1],ve[2]=Te[2],ve[3]=Te[3],ve[4]=Te[4],ve[5]=Te[5],ve[6]=Te[6],ve[7]=Te[7],ve[8]=Te[8],ve[9]=Te[9],ve[10]=Te[10],ve[11]=Te[11],ve[12]=Te[12],ve[13]=Te[13],ve[14]=Te[14],ve[15]=Te[15],ve}function B(ve,Te,Be,Ge,$e,Xe,at,we,tt,pt,Pt,mt,St,ut,_t,Ct,Rt){return ve[0]=Te,ve[1]=Be,ve[2]=Ge,ve[3]=$e,ve[4]=Xe,ve[5]=at,ve[6]=we,ve[7]=tt,ve[8]=pt,ve[9]=Pt,ve[10]=mt,ve[11]=St,ve[12]=ut,ve[13]=_t,ve[14]=Ct,ve[15]=Rt,ve}function k(ve){return ve[0]=1,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=1,ve[6]=0,ve[7]=0,ve[8]=0,ve[9]=0,ve[10]=1,ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve}function re(ve,Te){if(ve===Te){const Be=Te[1],Ge=Te[2],$e=Te[3],Xe=Te[6],at=Te[7],we=Te[11];ve[1]=Te[4],ve[2]=Te[8],ve[3]=Te[12],ve[4]=Be,ve[6]=Te[9],ve[7]=Te[13],ve[8]=Ge,ve[9]=Xe,ve[11]=Te[14],ve[12]=$e,ve[13]=at,ve[14]=we}else ve[0]=Te[0],ve[1]=Te[4],ve[2]=Te[8],ve[3]=Te[12],ve[4]=Te[1],ve[5]=Te[5],ve[6]=Te[9],ve[7]=Te[13],ve[8]=Te[2],ve[9]=Te[6],ve[10]=Te[10],ve[11]=Te[14],ve[12]=Te[3],ve[13]=Te[7],ve[14]=Te[11],ve[15]=Te[15];return ve}function ee(ve,Te){return Z(ve,Te)||k(ve),ve}function Z(ve,Te){const Be=Te[0],Ge=Te[1],$e=Te[2],Xe=Te[3],at=Te[4],we=Te[5],tt=Te[6],pt=Te[7],Pt=Te[8],mt=Te[9],St=Te[10],ut=Te[11],_t=Te[12],Ct=Te[13],Rt=Te[14],Gt=Te[15],bn=Be*we-Ge*at,Mn=Be*tt-$e*at,Dn=Be*pt-Xe*at,Kn=Ge*tt-$e*we,an=Ge*pt-Xe*we,Fn=$e*pt-Xe*tt,zn=Pt*Ct-mt*_t,rr=Pt*Rt-St*_t,mr=Pt*Gt-ut*_t,Et=mt*Rt-St*Ct,Dt=mt*Gt-ut*Ct,Bt=St*Gt-ut*Rt;let Ht=bn*Bt-Mn*Dt+Dn*Et+Kn*mr-an*rr+Fn*zn;return Ht?(Ht=1/Ht,ve[0]=(we*Bt-tt*Dt+pt*Et)*Ht,ve[1]=($e*Dt-Ge*Bt-Xe*Et)*Ht,ve[2]=(Ct*Fn-Rt*an+Gt*Kn)*Ht,ve[3]=(St*an-mt*Fn-ut*Kn)*Ht,ve[4]=(tt*mr-at*Bt-pt*rr)*Ht,ve[5]=(Be*Bt-$e*mr+Xe*rr)*Ht,ve[6]=(Rt*Dn-_t*Fn-Gt*Mn)*Ht,ve[7]=(Pt*Fn-St*Dn+ut*Mn)*Ht,ve[8]=(at*Dt-we*mr+pt*zn)*Ht,ve[9]=(Ge*mr-Be*Dt-Xe*zn)*Ht,ve[10]=(_t*an-Ct*Dn+Gt*bn)*Ht,ve[11]=(mt*Dn-Pt*an-ut*bn)*Ht,ve[12]=(we*rr-at*Et-tt*zn)*Ht,ve[13]=(Be*Et-Ge*rr+$e*zn)*Ht,ve[14]=(Ct*Mn-_t*Kn-Rt*bn)*Ht,ve[15]=(Pt*Kn-mt*Mn+St*bn)*Ht,ve):null}function ne(ve,Te,Be){const Ge=Te[0],$e=Te[1],Xe=Te[2],at=Te[3],we=Te[4],tt=Te[5],pt=Te[6],Pt=Te[7],mt=Te[8],St=Te[9],ut=Te[10],_t=Te[11],Ct=Te[12],Rt=Te[13],Gt=Te[14],bn=Te[15];let Mn=Be[0],Dn=Be[1],Kn=Be[2],an=Be[3];return ve[0]=Mn*Ge+Dn*we+Kn*mt+an*Ct,ve[1]=Mn*$e+Dn*tt+Kn*St+an*Rt,ve[2]=Mn*Xe+Dn*pt+Kn*ut+an*Gt,ve[3]=Mn*at+Dn*Pt+Kn*_t+an*bn,Mn=Be[4],Dn=Be[5],Kn=Be[6],an=Be[7],ve[4]=Mn*Ge+Dn*we+Kn*mt+an*Ct,ve[5]=Mn*$e+Dn*tt+Kn*St+an*Rt,ve[6]=Mn*Xe+Dn*pt+Kn*ut+an*Gt,ve[7]=Mn*at+Dn*Pt+Kn*_t+an*bn,Mn=Be[8],Dn=Be[9],Kn=Be[10],an=Be[11],ve[8]=Mn*Ge+Dn*we+Kn*mt+an*Ct,ve[9]=Mn*$e+Dn*tt+Kn*St+an*Rt,ve[10]=Mn*Xe+Dn*pt+Kn*ut+an*Gt,ve[11]=Mn*at+Dn*Pt+Kn*_t+an*bn,Mn=Be[12],Dn=Be[13],Kn=Be[14],an=Be[15],ve[12]=Mn*Ge+Dn*we+Kn*mt+an*Ct,ve[13]=Mn*$e+Dn*tt+Kn*St+an*Rt,ve[14]=Mn*Xe+Dn*pt+Kn*ut+an*Gt,ve[15]=Mn*at+Dn*Pt+Kn*_t+an*bn,ve}function ae(ve,Te,Be){const Ge=Be[0],$e=Be[1],Xe=Be[2];if(Te===ve)ve[12]=Te[0]*Ge+Te[4]*$e+Te[8]*Xe+Te[12],ve[13]=Te[1]*Ge+Te[5]*$e+Te[9]*Xe+Te[13],ve[14]=Te[2]*Ge+Te[6]*$e+Te[10]*Xe+Te[14],ve[15]=Te[3]*Ge+Te[7]*$e+Te[11]*Xe+Te[15];else{const at=Te[0],we=Te[1],tt=Te[2],pt=Te[3],Pt=Te[4],mt=Te[5],St=Te[6],ut=Te[7],_t=Te[8],Ct=Te[9],Rt=Te[10],Gt=Te[11];ve[0]=at,ve[1]=we,ve[2]=tt,ve[3]=pt,ve[4]=Pt,ve[5]=mt,ve[6]=St,ve[7]=ut,ve[8]=_t,ve[9]=Ct,ve[10]=Rt,ve[11]=Gt,ve[12]=at*Ge+Pt*$e+_t*Xe+Te[12],ve[13]=we*Ge+mt*$e+Ct*Xe+Te[13],ve[14]=tt*Ge+St*$e+Rt*Xe+Te[14],ve[15]=pt*Ge+ut*$e+Gt*Xe+Te[15]}return ve}function se(ve,Te,Be){const Ge=Be[0],$e=Be[1],Xe=Be[2];return ve[0]=Te[0]*Ge,ve[1]=Te[1]*Ge,ve[2]=Te[2]*Ge,ve[3]=Te[3]*Ge,ve[4]=Te[4]*$e,ve[5]=Te[5]*$e,ve[6]=Te[6]*$e,ve[7]=Te[7]*$e,ve[8]=Te[8]*Xe,ve[9]=Te[9]*Xe,ve[10]=Te[10]*Xe,ve[11]=Te[11]*Xe,ve[12]=Te[12],ve[13]=Te[13],ve[14]=Te[14],ve[15]=Te[15],ve}function ie(ve,Te,Be,Ge){let $e,Xe,at,we,tt,pt,Pt,mt,St,ut,_t,Ct,Rt,Gt,bn,Mn,Dn,Kn,an,Fn,zn,rr,mr,Et,Dt=Ge[0],Bt=Ge[1],Ht=Ge[2],on=Math.sqrt(Dt*Dt+Bt*Bt+Ht*Ht);return on<(0,O.g)()?null:(on=1/on,Dt*=on,Bt*=on,Ht*=on,$e=Math.sin(Be),Xe=Math.cos(Be),at=1-Xe,we=Te[0],tt=Te[1],pt=Te[2],Pt=Te[3],mt=Te[4],St=Te[5],ut=Te[6],_t=Te[7],Ct=Te[8],Rt=Te[9],Gt=Te[10],bn=Te[11],Mn=Dt*Dt*at+Xe,Dn=Bt*Dt*at+Ht*$e,Kn=Ht*Dt*at-Bt*$e,an=Dt*Bt*at-Ht*$e,Fn=Bt*Bt*at+Xe,zn=Ht*Bt*at+Dt*$e,rr=Dt*Ht*at+Bt*$e,mr=Bt*Ht*at-Dt*$e,Et=Ht*Ht*at+Xe,ve[0]=we*Mn+mt*Dn+Ct*Kn,ve[1]=tt*Mn+St*Dn+Rt*Kn,ve[2]=pt*Mn+ut*Dn+Gt*Kn,ve[3]=Pt*Mn+_t*Dn+bn*Kn,ve[4]=we*an+mt*Fn+Ct*zn,ve[5]=tt*an+St*Fn+Rt*zn,ve[6]=pt*an+ut*Fn+Gt*zn,ve[7]=Pt*an+_t*Fn+bn*zn,ve[8]=we*rr+mt*mr+Ct*Et,ve[9]=tt*rr+St*mr+Rt*Et,ve[10]=pt*rr+ut*mr+Gt*Et,ve[11]=Pt*rr+_t*mr+bn*Et,Te!==ve&&(ve[12]=Te[12],ve[13]=Te[13],ve[14]=Te[14],ve[15]=Te[15]),ve)}function te(ve,Te,Be){const Ge=Math.sin(Be),$e=Math.cos(Be),Xe=Te[4],at=Te[5],we=Te[6],tt=Te[7],pt=Te[8],Pt=Te[9],mt=Te[10],St=Te[11];return Te!==ve&&(ve[0]=Te[0],ve[1]=Te[1],ve[2]=Te[2],ve[3]=Te[3],ve[12]=Te[12],ve[13]=Te[13],ve[14]=Te[14],ve[15]=Te[15]),ve[4]=Xe*$e+pt*Ge,ve[5]=at*$e+Pt*Ge,ve[6]=we*$e+mt*Ge,ve[7]=tt*$e+St*Ge,ve[8]=pt*$e-Xe*Ge,ve[9]=Pt*$e-at*Ge,ve[10]=mt*$e-we*Ge,ve[11]=St*$e-tt*Ge,ve}function Q(ve,Te,Be){const Ge=Math.sin(Be),$e=Math.cos(Be),Xe=Te[0],at=Te[1],we=Te[2],tt=Te[3],pt=Te[8],Pt=Te[9],mt=Te[10],St=Te[11];return Te!==ve&&(ve[4]=Te[4],ve[5]=Te[5],ve[6]=Te[6],ve[7]=Te[7],ve[12]=Te[12],ve[13]=Te[13],ve[14]=Te[14],ve[15]=Te[15]),ve[0]=Xe*$e-pt*Ge,ve[1]=at*$e-Pt*Ge,ve[2]=we*$e-mt*Ge,ve[3]=tt*$e-St*Ge,ve[8]=Xe*Ge+pt*$e,ve[9]=at*Ge+Pt*$e,ve[10]=we*Ge+mt*$e,ve[11]=tt*Ge+St*$e,ve}function V(ve,Te,Be){const Ge=Math.sin(Be),$e=Math.cos(Be),Xe=Te[0],at=Te[1],we=Te[2],tt=Te[3],pt=Te[4],Pt=Te[5],mt=Te[6],St=Te[7];return Te!==ve&&(ve[8]=Te[8],ve[9]=Te[9],ve[10]=Te[10],ve[11]=Te[11],ve[12]=Te[12],ve[13]=Te[13],ve[14]=Te[14],ve[15]=Te[15]),ve[0]=Xe*$e+pt*Ge,ve[1]=at*$e+Pt*Ge,ve[2]=we*$e+mt*Ge,ve[3]=tt*$e+St*Ge,ve[4]=pt*$e-Xe*Ge,ve[5]=Pt*$e-at*Ge,ve[6]=mt*$e-we*Ge,ve[7]=St*$e-tt*Ge,ve}function U(ve,Te){return ve[0]=1,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=1,ve[6]=0,ve[7]=0,ve[8]=0,ve[9]=0,ve[10]=1,ve[11]=0,ve[12]=Te[0],ve[13]=Te[1],ve[14]=Te[2],ve[15]=1,ve}function $(ve,Te){return ve[0]=Te[0],ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=Te[1],ve[6]=0,ve[7]=0,ve[8]=0,ve[9]=0,ve[10]=Te[2],ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve}function z(ve,Te,Be){if(0===Te)return k(ve);let Ge,$e,Xe,at=Be[0],we=Be[1],tt=Be[2],pt=Math.sqrt(at*at+we*we+tt*tt);return pt<(0,O.g)()?null:(pt=1/pt,at*=pt,we*=pt,tt*=pt,Ge=Math.sin(Te),$e=Math.cos(Te),Xe=1-$e,ve[0]=at*at*Xe+$e,ve[1]=we*at*Xe+tt*Ge,ve[2]=tt*at*Xe-we*Ge,ve[3]=0,ve[4]=at*we*Xe-tt*Ge,ve[5]=we*we*Xe+$e,ve[6]=tt*we*Xe+at*Ge,ve[7]=0,ve[8]=at*tt*Xe+we*Ge,ve[9]=we*tt*Xe-at*Ge,ve[10]=tt*tt*Xe+$e,ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve)}function J(ve,Te){const Be=Math.sin(Te),Ge=Math.cos(Te);return ve[0]=1,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=Ge,ve[6]=Be,ve[7]=0,ve[8]=0,ve[9]=-Be,ve[10]=Ge,ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve}function oe(ve,Te){const Be=Math.sin(Te),Ge=Math.cos(Te);return ve[0]=Ge,ve[1]=Be,ve[2]=0,ve[3]=0,ve[4]=-Be,ve[5]=Ge,ve[6]=0,ve[7]=0,ve[8]=0,ve[9]=0,ve[10]=1,ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve}function pe(ve,Te,Be){const Ge=Te[0],$e=Te[1],Xe=Te[2],at=Te[3],we=Ge+Ge,tt=$e+$e,pt=Xe+Xe,Pt=Ge*we,mt=Ge*tt,St=Ge*pt,ut=$e*tt,_t=$e*pt,Ct=Xe*pt,Rt=at*we,Gt=at*tt,bn=at*pt;return ve[0]=1-(ut+Ct),ve[1]=mt+bn,ve[2]=St-Gt,ve[3]=0,ve[4]=mt-bn,ve[5]=1-(Pt+Ct),ve[6]=_t+Rt,ve[7]=0,ve[8]=St+Gt,ve[9]=_t-Rt,ve[10]=1-(Pt+ut),ve[11]=0,ve[12]=Be[0],ve[13]=Be[1],ve[14]=Be[2],ve[15]=1,ve}const be=(0,w.c)();function fe(ve,Te,Be,Ge){const $e=Te[0],Xe=Te[1],at=Te[2],we=Te[3],tt=$e+$e,pt=Xe+Xe,Pt=at+at,mt=$e*tt,St=$e*pt,ut=$e*Pt,_t=Xe*pt,Ct=Xe*Pt,Rt=at*Pt,Gt=we*tt,bn=we*pt,Mn=we*Pt,Dn=Ge[0],Kn=Ge[1],an=Ge[2];return ve[0]=(1-(_t+Rt))*Dn,ve[1]=(St+Mn)*Dn,ve[2]=(ut-bn)*Dn,ve[3]=0,ve[4]=(St-Mn)*Kn,ve[5]=(1-(mt+Rt))*Kn,ve[6]=(Ct+Gt)*Kn,ve[7]=0,ve[8]=(ut+bn)*an,ve[9]=(Ct-Gt)*an,ve[10]=(1-(mt+_t))*an,ve[11]=0,ve[12]=Be[0],ve[13]=Be[1],ve[14]=Be[2],ve[15]=1,ve}function ye(ve,Te){const Be=Te[0],Ge=Te[1],$e=Te[2],Xe=Te[3],at=Be+Be,we=Ge+Ge,tt=$e+$e,pt=Be*at,Pt=Ge*at,mt=Ge*we,St=$e*at,ut=$e*we,_t=$e*tt,Ct=Xe*at,Rt=Xe*we,Gt=Xe*tt;return ve[0]=1-mt-_t,ve[1]=Pt+Gt,ve[2]=St-Rt,ve[3]=0,ve[4]=Pt-Gt,ve[5]=1-pt-_t,ve[6]=ut+Ct,ve[7]=0,ve[8]=St+Rt,ve[9]=ut-Ct,ve[10]=1-pt-mt,ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve}function ue(ve,Te,Be,Ge,$e,Xe,at){const we=1/(Be-Te),tt=1/($e-Ge),pt=1/(Xe-at);return ve[0]=2*Xe*we,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=2*Xe*tt,ve[6]=0,ve[7]=0,ve[8]=(Be+Te)*we,ve[9]=($e+Ge)*tt,ve[10]=(at+Xe)*pt,ve[11]=-1,ve[12]=0,ve[13]=0,ve[14]=at*Xe*2*pt,ve[15]=0,ve}function ge(ve,Te,Be,Ge,$e,Xe,at){const we=1/(Te-Be),tt=1/(Ge-$e),pt=1/(Xe-at);return ve[0]=-2*we,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=-2*tt,ve[6]=0,ve[7]=0,ve[8]=0,ve[9]=0,ve[10]=2*pt,ve[11]=0,ve[12]=(Te+Be)*we,ve[13]=($e+Ge)*tt,ve[14]=(at+Xe)*pt,ve[15]=1,ve}function Pe(ve,Te,Be,Ge){let $e,Xe,at,we,tt,pt,Pt,mt,St,ut;const _t=Te[0],Ct=Te[1],Rt=Te[2],Gt=Ge[0],bn=Ge[1],Mn=Ge[2],Dn=Be[0],Kn=Be[1],an=Be[2],Fn=(0,O.g)();return Math.abs(_t-Dn)<Fn&&Math.abs(Ct-Kn)<Fn&&Math.abs(Rt-an)<Fn?k(ve):(Pt=_t-Dn,mt=Ct-Kn,St=Rt-an,ut=1/Math.sqrt(Pt*Pt+mt*mt+St*St),Pt*=ut,mt*=ut,St*=ut,$e=bn*St-Mn*mt,Xe=Mn*Pt-Gt*St,at=Gt*mt-bn*Pt,ut=Math.sqrt($e*$e+Xe*Xe+at*at),ut?(ut=1/ut,$e*=ut,Xe*=ut,at*=ut):($e=0,Xe=0,at=0),we=mt*at-St*Xe,tt=St*$e-Pt*at,pt=Pt*Xe-mt*$e,ut=Math.sqrt(we*we+tt*tt+pt*pt),ut?(ut=1/ut,we*=ut,tt*=ut,pt*=ut):(we=0,tt=0,pt=0),ve[0]=$e,ve[1]=we,ve[2]=Pt,ve[3]=0,ve[4]=Xe,ve[5]=tt,ve[6]=mt,ve[7]=0,ve[8]=at,ve[9]=pt,ve[10]=St,ve[11]=0,ve[12]=-($e*_t+Xe*Ct+at*Rt),ve[13]=-(we*_t+tt*Ct+pt*Rt),ve[14]=-(Pt*_t+mt*Ct+St*Rt),ve[15]=1,ve)}function Ne(ve,Te,Be){return ve[0]=Te[0]-Be[0],ve[1]=Te[1]-Be[1],ve[2]=Te[2]-Be[2],ve[3]=Te[3]-Be[3],ve[4]=Te[4]-Be[4],ve[5]=Te[5]-Be[5],ve[6]=Te[6]-Be[6],ve[7]=Te[7]-Be[7],ve[8]=Te[8]-Be[8],ve[9]=Te[9]-Be[9],ve[10]=Te[10]-Be[10],ve[11]=Te[11]-Be[11],ve[12]=Te[12]-Be[12],ve[13]=Te[13]-Be[13],ve[14]=Te[14]-Be[14],ve[15]=Te[15]-Be[15],ve}function Ue(ve,Te){return ve[0]===Te[0]&&ve[1]===Te[1]&&ve[2]===Te[2]&&ve[3]===Te[3]&&ve[4]===Te[4]&&ve[5]===Te[5]&&ve[6]===Te[6]&&ve[7]===Te[7]&&ve[8]===Te[8]&&ve[9]===Te[9]&&ve[10]===Te[10]&&ve[11]===Te[11]&&ve[12]===Te[12]&&ve[13]===Te[13]&&ve[14]===Te[14]&&ve[15]===Te[15]}function ke(ve,Te){if(ve===Te)return!0;const Be=ve[0],Ge=ve[1],$e=ve[2],Xe=ve[3],at=ve[4],we=ve[5],tt=ve[6],pt=ve[7],Pt=ve[8],mt=ve[9],St=ve[10],ut=ve[11],_t=ve[12],Ct=ve[13],Rt=ve[14],Gt=ve[15],bn=Te[0],Mn=Te[1],Dn=Te[2],Kn=Te[3],an=Te[4],Fn=Te[5],zn=Te[6],rr=Te[7],mr=Te[8],Et=Te[9],Dt=Te[10],Bt=Te[11],Ht=Te[12],on=Te[13],rn=Te[14],cn=Te[15],un=(0,O.g)();return Math.abs(Be-bn)<=un*Math.max(1,Math.abs(Be),Math.abs(bn))&&Math.abs(Ge-Mn)<=un*Math.max(1,Math.abs(Ge),Math.abs(Mn))&&Math.abs($e-Dn)<=un*Math.max(1,Math.abs($e),Math.abs(Dn))&&Math.abs(Xe-Kn)<=un*Math.max(1,Math.abs(Xe),Math.abs(Kn))&&Math.abs(at-an)<=un*Math.max(1,Math.abs(at),Math.abs(an))&&Math.abs(we-Fn)<=un*Math.max(1,Math.abs(we),Math.abs(Fn))&&Math.abs(tt-zn)<=un*Math.max(1,Math.abs(tt),Math.abs(zn))&&Math.abs(pt-rr)<=un*Math.max(1,Math.abs(pt),Math.abs(rr))&&Math.abs(Pt-mr)<=un*Math.max(1,Math.abs(Pt),Math.abs(mr))&&Math.abs(mt-Et)<=un*Math.max(1,Math.abs(mt),Math.abs(Et))&&Math.abs(St-Dt)<=un*Math.max(1,Math.abs(St),Math.abs(Dt))&&Math.abs(ut-Bt)<=un*Math.max(1,Math.abs(ut),Math.abs(Bt))&&Math.abs(_t-Ht)<=un*Math.max(1,Math.abs(_t),Math.abs(Ht))&&Math.abs(Ct-on)<=un*Math.max(1,Math.abs(Ct),Math.abs(on))&&Math.abs(Rt-rn)<=un*Math.max(1,Math.abs(Rt),Math.abs(rn))&&Math.abs(Gt-cn)<=un*Math.max(1,Math.abs(Gt),Math.abs(cn))}function Ye(ve){const Te=(0,O.g)(),Be=ve[0],Ge=ve[1],$e=ve[2],Xe=ve[4],at=ve[5],we=ve[6],tt=ve[8],pt=ve[9],Pt=ve[10];return Math.abs(1-(Be*Be+Xe*Xe+tt*tt))<=Te&&Math.abs(1-(Ge*Ge+at*at+pt*pt))<=Te&&Math.abs(1-($e*$e+we*we+Pt*Pt))<=Te}function xe(ve){return 1===ve[0]&&0===ve[1]&&0===ve[2]&&0===ve[4]&&1===ve[5]&&0===ve[6]&&0===ve[8]&&0===ve[9]&&1===ve[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function Fe(ve,Te,Be){return ve[0]=Te[0]+Be[0],ve[1]=Te[1]+Be[1],ve[2]=Te[2]+Be[2],ve[3]=Te[3]+Be[3],ve[4]=Te[4]+Be[4],ve[5]=Te[5]+Be[5],ve[6]=Te[6]+Be[6],ve[7]=Te[7]+Be[7],ve[8]=Te[8]+Be[8],ve[9]=Te[9]+Be[9],ve[10]=Te[10]+Be[10],ve[11]=Te[11]+Be[11],ve[12]=Te[12]+Be[12],ve[13]=Te[13]+Be[13],ve[14]=Te[14]+Be[14],ve[15]=Te[15]+Be[15],ve},adjoint:function G(ve,Te){const Be=Te[0],Ge=Te[1],$e=Te[2],Xe=Te[3],at=Te[4],we=Te[5],tt=Te[6],pt=Te[7],Pt=Te[8],mt=Te[9],St=Te[10],ut=Te[11],_t=Te[12],Ct=Te[13],Rt=Te[14],Gt=Te[15];return ve[0]=we*(St*Gt-ut*Rt)-mt*(tt*Gt-pt*Rt)+Ct*(tt*ut-pt*St),ve[1]=-(Ge*(St*Gt-ut*Rt)-mt*($e*Gt-Xe*Rt)+Ct*($e*ut-Xe*St)),ve[2]=Ge*(tt*Gt-pt*Rt)-we*($e*Gt-Xe*Rt)+Ct*($e*pt-Xe*tt),ve[3]=-(Ge*(tt*ut-pt*St)-we*($e*ut-Xe*St)+mt*($e*pt-Xe*tt)),ve[4]=-(at*(St*Gt-ut*Rt)-Pt*(tt*Gt-pt*Rt)+_t*(tt*ut-pt*St)),ve[5]=Be*(St*Gt-ut*Rt)-Pt*($e*Gt-Xe*Rt)+_t*($e*ut-Xe*St),ve[6]=-(Be*(tt*Gt-pt*Rt)-at*($e*Gt-Xe*Rt)+_t*($e*pt-Xe*tt)),ve[7]=Be*(tt*ut-pt*St)-at*($e*ut-Xe*St)+Pt*($e*pt-Xe*tt),ve[8]=at*(mt*Gt-ut*Ct)-Pt*(we*Gt-pt*Ct)+_t*(we*ut-pt*mt),ve[9]=-(Be*(mt*Gt-ut*Ct)-Pt*(Ge*Gt-Xe*Ct)+_t*(Ge*ut-Xe*mt)),ve[10]=Be*(we*Gt-pt*Ct)-at*(Ge*Gt-Xe*Ct)+_t*(Ge*pt-Xe*we),ve[11]=-(Be*(we*ut-pt*mt)-at*(Ge*ut-Xe*mt)+Pt*(Ge*pt-Xe*we)),ve[12]=-(at*(mt*Rt-St*Ct)-Pt*(we*Rt-tt*Ct)+_t*(we*St-tt*mt)),ve[13]=Be*(mt*Rt-St*Ct)-Pt*(Ge*Rt-$e*Ct)+_t*(Ge*St-$e*mt),ve[14]=-(Be*(we*Rt-tt*Ct)-at*(Ge*Rt-$e*Ct)+_t*(Ge*tt-$e*we)),ve[15]=Be*(we*St-tt*mt)-at*(Ge*St-$e*mt)+Pt*(Ge*tt-$e*we),ve},copy:W,determinant:function Y(ve){const Te=ve[0],Be=ve[1],Ge=ve[2],$e=ve[3],Xe=ve[4],at=ve[5],we=ve[6],tt=ve[7],pt=ve[8],Pt=ve[9],mt=ve[10],St=ve[11],ut=ve[12],_t=ve[13],Ct=ve[14],Rt=ve[15];return(Te*at-Be*Xe)*(mt*Rt-St*Ct)-(Te*we-Ge*Xe)*(Pt*Rt-St*_t)+(Te*tt-$e*Xe)*(Pt*Ct-mt*_t)+(Be*we-Ge*at)*(pt*Rt-St*ut)-(Be*tt-$e*at)*(pt*Ct-mt*ut)+(Ge*tt-$e*we)*(pt*_t-Pt*ut)},equals:ke,exactEquals:Ue,frob:function Ce(ve){return Math.sqrt(ve[0]**2+ve[1]**2+ve[2]**2+ve[3]**2+ve[4]**2+ve[5]**2+ve[6]**2+ve[7]**2+ve[8]**2+ve[9]**2+ve[10]**2+ve[11]**2+ve[12]**2+ve[13]**2+ve[14]**2+ve[15]**2)},fromQuat:ye,fromQuat2:function de(ve,Te){const Be=be,Ge=-Te[0],$e=-Te[1],Xe=-Te[2],at=Te[3],we=Te[4],tt=Te[5],pt=Te[6],Pt=Te[7],mt=Ge*Ge+$e*$e+Xe*Xe+at*at;return mt>0?(Be[0]=2*(we*at+Pt*Ge+tt*Xe-pt*$e)/mt,Be[1]=2*(tt*at+Pt*$e+pt*Ge-we*Xe)/mt,Be[2]=2*(pt*at+Pt*Xe+we*$e-tt*Ge)/mt):(Be[0]=2*(we*at+Pt*Ge+tt*Xe-pt*$e),Be[1]=2*(tt*at+Pt*$e+pt*Ge-we*Xe),Be[2]=2*(pt*at+Pt*Xe+we*$e-tt*Ge)),pe(ve,Te,Be),ve},fromRotation:z,fromRotationTranslation:pe,fromRotationTranslationScale:fe,fromRotationTranslationScaleOrigin:function Ee(ve,Te,Be,Ge,$e){const Xe=Te[0],at=Te[1],we=Te[2],tt=Te[3],pt=Xe+Xe,Pt=at+at,mt=we+we,St=Xe*pt,ut=Xe*Pt,_t=Xe*mt,Ct=at*Pt,Rt=at*mt,Gt=we*mt,bn=tt*pt,Mn=tt*Pt,Dn=tt*mt,Kn=Ge[0],an=Ge[1],Fn=Ge[2],zn=$e[0],rr=$e[1],mr=$e[2],Et=(1-(Ct+Gt))*Kn,Dt=(ut+Dn)*Kn,Bt=(_t-Mn)*Kn,Ht=(ut-Dn)*an,on=(1-(St+Gt))*an,rn=(Rt+bn)*an,cn=(_t+Mn)*Fn,un=(Rt-bn)*Fn,$n=(1-(St+Ct))*Fn;return ve[0]=Et,ve[1]=Dt,ve[2]=Bt,ve[3]=0,ve[4]=Ht,ve[5]=on,ve[6]=rn,ve[7]=0,ve[8]=cn,ve[9]=un,ve[10]=$n,ve[11]=0,ve[12]=Be[0]+zn-(Et*zn+Ht*rr+cn*mr),ve[13]=Be[1]+rr-(Dt*zn+on*rr+un*mr),ve[14]=Be[2]+mr-(Bt*zn+rn*rr+$n*mr),ve[15]=1,ve},fromScaling:$,fromTranslation:U,fromXRotation:J,fromYRotation:function q(ve,Te){const Be=Math.sin(Te),Ge=Math.cos(Te);return ve[0]=Ge,ve[1]=0,ve[2]=-Be,ve[3]=0,ve[4]=0,ve[5]=1,ve[6]=0,ve[7]=0,ve[8]=Be,ve[9]=0,ve[10]=Ge,ve[11]=0,ve[12]=0,ve[13]=0,ve[14]=0,ve[15]=1,ve},fromZRotation:oe,frustum:ue,getRotation:function le(ve,Te){const Be=Te[0]+Te[5]+Te[10];let Ge=0;return Be>0?(Ge=2*Math.sqrt(Be+1),ve[3]=.25*Ge,ve[0]=(Te[6]-Te[9])/Ge,ve[1]=(Te[8]-Te[2])/Ge,ve[2]=(Te[1]-Te[4])/Ge):Te[0]>Te[5]&&Te[0]>Te[10]?(Ge=2*Math.sqrt(1+Te[0]-Te[5]-Te[10]),ve[3]=(Te[6]-Te[9])/Ge,ve[0]=.25*Ge,ve[1]=(Te[1]+Te[4])/Ge,ve[2]=(Te[8]+Te[2])/Ge):Te[5]>Te[10]?(Ge=2*Math.sqrt(1+Te[5]-Te[0]-Te[10]),ve[3]=(Te[8]-Te[2])/Ge,ve[0]=(Te[1]+Te[4])/Ge,ve[1]=.25*Ge,ve[2]=(Te[6]+Te[9])/Ge):(Ge=2*Math.sqrt(1+Te[10]-Te[0]-Te[5]),ve[3]=(Te[1]-Te[4])/Ge,ve[0]=(Te[8]+Te[2])/Ge,ve[1]=(Te[6]+Te[9])/Ge,ve[2]=.25*Ge),ve},getScaling:function _e(ve,Te){const Be=Te[0],Ge=Te[1],$e=Te[2],Xe=Te[4],at=Te[5],we=Te[6],tt=Te[8],pt=Te[9],Pt=Te[10];return ve[0]=Math.sqrt(Be*Be+Ge*Ge+$e*$e),ve[1]=Math.sqrt(Xe*Xe+at*at+we*we),ve[2]=Math.sqrt(tt*tt+pt*pt+Pt*Pt),ve},getTranslation:function me(ve,Te){return ve[0]=Te[12],ve[1]=Te[13],ve[2]=Te[14],ve},hasIdentityRotation:xe,identity:k,invert:Z,invertOrIdentity:ee,isOrthoNormal:Ye,lookAt:Pe,mul:ne,multiply:ne,multiplyScalar:function Le(ve,Te,Be){return ve[0]=Te[0]*Be,ve[1]=Te[1]*Be,ve[2]=Te[2]*Be,ve[3]=Te[3]*Be,ve[4]=Te[4]*Be,ve[5]=Te[5]*Be,ve[6]=Te[6]*Be,ve[7]=Te[7]*Be,ve[8]=Te[8]*Be,ve[9]=Te[9]*Be,ve[10]=Te[10]*Be,ve[11]=Te[11]*Be,ve[12]=Te[12]*Be,ve[13]=Te[13]*Be,ve[14]=Te[14]*Be,ve[15]=Te[15]*Be,ve},multiplyScalarAndAdd:function Oe(ve,Te,Be,Ge){return ve[0]=Te[0]+Be[0]*Ge,ve[1]=Te[1]+Be[1]*Ge,ve[2]=Te[2]+Be[2]*Ge,ve[3]=Te[3]+Be[3]*Ge,ve[4]=Te[4]+Be[4]*Ge,ve[5]=Te[5]+Be[5]*Ge,ve[6]=Te[6]+Be[6]*Ge,ve[7]=Te[7]+Be[7]*Ge,ve[8]=Te[8]+Be[8]*Ge,ve[9]=Te[9]+Be[9]*Ge,ve[10]=Te[10]+Be[10]*Ge,ve[11]=Te[11]+Be[11]*Ge,ve[12]=Te[12]+Be[12]*Ge,ve[13]=Te[13]+Be[13]*Ge,ve[14]=Te[14]+Be[14]*Ge,ve[15]=Te[15]+Be[15]*Ge,ve},ortho:ge,perspective:function Me(ve,Te,Be,Ge,$e){const Xe=1/Math.tan(Te/2);let at;return ve[0]=Xe/Be,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=Xe,ve[6]=0,ve[7]=0,ve[8]=0,ve[9]=0,ve[11]=-1,ve[12]=0,ve[13]=0,ve[15]=0,null!=$e&&$e!==1/0?(at=1/(Ge-$e),ve[10]=($e+Ge)*at,ve[14]=2*$e*Ge*at):(ve[10]=-1,ve[14]=-2*Ge),ve},perspectiveFromFieldOfView:function ce(ve,Te,Be,Ge){const $e=Math.tan(Te.upDegrees*Math.PI/180),Xe=Math.tan(Te.downDegrees*Math.PI/180),at=Math.tan(Te.leftDegrees*Math.PI/180),we=Math.tan(Te.rightDegrees*Math.PI/180),tt=2/(at+we),pt=2/($e+Xe);return ve[0]=tt,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=0,ve[5]=pt,ve[6]=0,ve[7]=0,ve[8]=-(at-we)*tt*.5,ve[9]=($e-Xe)*pt*.5,ve[10]=Ge/(Be-Ge),ve[11]=-1,ve[12]=0,ve[13]=0,ve[14]=Ge*Be/(Be-Ge),ve[15]=0,ve},rotate:ie,rotateX:te,rotateY:Q,rotateZ:V,scale:se,set:B,str:function Re(ve){return"mat4("+ve[0]+", "+ve[1]+", "+ve[2]+", "+ve[3]+", "+ve[4]+", "+ve[5]+", "+ve[6]+", "+ve[7]+", "+ve[8]+", "+ve[9]+", "+ve[10]+", "+ve[11]+", "+ve[12]+", "+ve[13]+", "+ve[14]+", "+ve[15]+")"},sub:Ne,subtract:Ne,targetTo:function Ie(ve,Te,Be,Ge){const $e=Te[0],Xe=Te[1],at=Te[2],we=Ge[0],tt=Ge[1],pt=Ge[2];let Pt=$e-Be[0],mt=Xe-Be[1],St=at-Be[2],ut=Pt*Pt+mt*mt+St*St;ut>0&&(ut=1/Math.sqrt(ut),Pt*=ut,mt*=ut,St*=ut);let _t=tt*St-pt*mt,Ct=pt*Pt-we*St,Rt=we*mt-tt*Pt;return ut=_t*_t+Ct*Ct+Rt*Rt,ut>0&&(ut=1/Math.sqrt(ut),_t*=ut,Ct*=ut,Rt*=ut),ve[0]=_t,ve[1]=Ct,ve[2]=Rt,ve[3]=0,ve[4]=mt*Rt-St*Ct,ve[5]=St*_t-Pt*Rt,ve[6]=Pt*Ct-mt*_t,ve[7]=0,ve[8]=Pt,ve[9]=mt,ve[10]=St,ve[11]=0,ve[12]=$e,ve[13]=Xe,ve[14]=at,ve[15]=1,ve},translate:ae,transpose:re},Symbol.toStringTag,{value:"Module"}))},55494:(j,F,T)=>{"use strict";function w(){const ee=new Float32Array(16);return ee[0]=1,ee[5]=1,ee[10]=1,ee[15]=1,ee}T.d(F,{c:()=>w});const k=w();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:k,clone:function O(ee){const Z=new Float32Array(16);return Z[0]=ee[0],Z[1]=ee[1],Z[2]=ee[2],Z[3]=ee[3],Z[4]=ee[4],Z[5]=ee[5],Z[6]=ee[6],Z[7]=ee[7],Z[8]=ee[8],Z[9]=ee[9],Z[10]=ee[10],Z[11]=ee[11],Z[12]=ee[12],Z[13]=ee[13],Z[14]=ee[14],Z[15]=ee[15],Z},create:w,createView:function B(ee,Z){return new Float32Array(ee,Z,16)},fromValues:function W(ee,Z,G,Y,ne,ae,se,ie,te,Q,V,U,$,z,J,q){const oe=new Float32Array(16);return oe[0]=ee,oe[1]=Z,oe[2]=G,oe[3]=Y,oe[4]=ne,oe[5]=ae,oe[6]=se,oe[7]=ie,oe[8]=te,oe[9]=Q,oe[10]=V,oe[11]=U,oe[12]=$,oe[13]=z,oe[14]=J,oe[15]=q,oe}},Symbol.toStringTag,{value:"Module"}))},44956:(j,F,T)=>{"use strict";T.d(F,{e:()=>Y,f:()=>G,g:()=>Z,h:()=>ie,i:()=>k,j:()=>$,l:()=>ee,p:()=>be});var w=T(54346),O=T(8314);let W,B=null;function k(){return!!B}function ee(){return W||(W=T.e(3714).then(T.bind(T,73714)).then(me=>me.p).then(({default:me})=>me({locateFile:_e=>(0,w.V)(`esri/geometry/support/${_e}`)})).then(me=>{J(me)}),W)}var Z,G,Y,me;(function(me){function _e(ye,ue,Me){B.ensureCache.prepare();const ce=pe(Me),ge=Me===ce,Pe=B.ensureFloat64(ce),Ie=B._pe_geog_to_proj(B.getPointer(ye),ue,Pe);return Ie&&de(Me,ue,Pe,ge),Ie}function fe(ye,ue,Me){return Ee(ye,ue,Me,0)}function Ee(ye,ue,Me,ce){B.ensureCache.prepare();const ge=pe(Me),Pe=Me===ge,Ie=B.ensureFloat64(ge),Re=B._pe_proj_to_geog_center(B.getPointer(ye),ue,Ie,ce);return Re&&de(Me,ue,Ie,Pe),Re}me.geogToProj=_e,me.projGeog=function le(ye,ue,Me,ce){switch(ce){case G.PE_TRANSFORM_P_TO_G:return fe(ye,ue,Me);case G.PE_TRANSFORM_G_TO_P:return _e(ye,ue,Me)}return 0},me.projToGeog=fe,me.projToGeogCenter=Ee})(Z||(Z={})),(me=G||(G={})).init=function _e(){me.PE_BUFFER_MAX=B.PeDefs.prototype.PE_BUFFER_MAX,me.PE_NAME_MAX=B.PeDefs.prototype.PE_NAME_MAX,me.PE_MGRS_MAX=B.PeDefs.prototype.PE_MGRS_MAX,me.PE_USNG_MAX=B.PeDefs.prototype.PE_USNG_MAX,me.PE_DD_MAX=B.PeDefs.prototype.PE_DD_MAX,me.PE_DDM_MAX=B.PeDefs.prototype.PE_DDM_MAX,me.PE_DMS_MAX=B.PeDefs.prototype.PE_DMS_MAX,me.PE_UTM_MAX=B.PeDefs.prototype.PE_UTM_MAX,me.PE_PARM_MAX=B.PeDefs.prototype.PE_PARM_MAX,me.PE_TYPE_NONE=B.PeDefs.prototype.PE_TYPE_NONE,me.PE_TYPE_GEOGCS=B.PeDefs.prototype.PE_TYPE_GEOGCS,me.PE_TYPE_PROJCS=B.PeDefs.prototype.PE_TYPE_PROJCS,me.PE_TYPE_GEOGTRAN=B.PeDefs.prototype.PE_TYPE_GEOGTRAN,me.PE_TYPE_COORDSYS=B.PeDefs.prototype.PE_TYPE_COORDSYS,me.PE_TYPE_UNIT=B.PeDefs.prototype.PE_TYPE_UNIT,me.PE_TYPE_LINUNIT=B.PeDefs.prototype.PE_TYPE_LINUNIT,me.PE_STR_OPTS_NONE=B.PeDefs.prototype.PE_STR_OPTS_NONE,me.PE_STR_AUTH_NONE=B.PeDefs.prototype.PE_STR_AUTH_NONE,me.PE_STR_AUTH_TOP=B.PeDefs.prototype.PE_STR_AUTH_TOP,me.PE_STR_NAME_CANON=B.PeDefs.prototype.PE_STR_NAME_CANON,me.PE_PARM_X0=B.PeDefs.prototype.PE_PARM_X0,me.PE_PARM_ND=B.PeDefs.prototype.PE_PARM_ND,me.PE_TRANSFORM_1_TO_2=B.PeDefs.prototype.PE_TRANSFORM_1_TO_2,me.PE_TRANSFORM_2_TO_1=B.PeDefs.prototype.PE_TRANSFORM_2_TO_1,me.PE_TRANSFORM_P_TO_G=B.PeDefs.prototype.PE_TRANSFORM_P_TO_G,me.PE_TRANSFORM_G_TO_P=B.PeDefs.prototype.PE_TRANSFORM_G_TO_P,me.PE_HORIZON_RECT=B.PeDefs.prototype.PE_HORIZON_RECT,me.PE_HORIZON_POLY=B.PeDefs.prototype.PE_HORIZON_POLY,me.PE_HORIZON_LINE=B.PeDefs.prototype.PE_HORIZON_LINE,me.PE_HORIZON_DELTA=B.PeDefs.prototype.PE_HORIZON_DELTA},function(me){const _e={},le={},fe=Ce=>{if(Ce){const Fe=Ce.getType();switch(Fe){case G.PE_TYPE_GEOGCS:Ce=B.castObject(Ce,B.PeGeogcs);break;case G.PE_TYPE_PROJCS:Ce=B.castObject(Ce,B.PeProjcs);break;case G.PE_TYPE_GEOGTRAN:Ce=B.castObject(Ce,B.PeGeogtran);break;default:Fe&G.PE_TYPE_UNIT&&(Ce=B.castObject(Ce,B.PeUnit))}}return Ce};function ue(Ce,Fe){let Ne=null,Le=_e[Ce];if(Le||(Le={},_e[Ce]=Le),Le.hasOwnProperty(String(Fe)))Ne=Le[Fe];else{const Oe=B.PeFactory.prototype.factoryByType(Ce,Fe);B.compare(Oe,B.NULL)||(Ne=Oe,Le[Fe]=Ne)}return Ne=fe(Ne),Ne}me.initialize=function Ee(){B.PeFactory.prototype.initialize(null)},me.coordsys=function ye(Ce){return ue(G.PE_TYPE_COORDSYS,Ce)},me.factoryByType=ue,me.fromString=function Me(Ce,Fe){let Ne=null,Le=le[Ce];if(Le||(Le={},le[Ce]=Le),Le.hasOwnProperty(Fe))Ne=Le[Fe];else{const Oe=B.PeFactory.prototype.fromString(Ce,Fe);B.compare(Oe,B.NULL)||(Ne=Oe,Le[Fe]=Ne)}return Ne=fe(Ne),Ne},me.geogcs=function ce(Ce){return ue(G.PE_TYPE_GEOGCS,Ce)},me.geogtran=function ge(Ce){return ue(G.PE_TYPE_GEOGTRAN,Ce)},me.getCode=function Pe(Ce){return B.PeFactory.prototype.getCode(Ce)},me.projcs=function Ie(Ce){return ue(G.PE_TYPE_PROJCS,Ce)},me.unit=function Re(Ce){return ue(G.PE_TYPE_UNIT,Ce)}}(Y||(Y={}));let ne=null;var ae,se,ie,te,Q,V,U,$,z;function J(me){function _e(ye,ue,Me){ye[ue]=Me(ye[ue])}B=me,G.init(),ae.init(),Q.init(),U.init(),$.init(),ne=class extends B.PeGCSExtent{destroy(){B.destroy(this)}};const le=[B.PeDatum,B.PeGeogcs,B.PeGeogtran,B.PeObject,B.PeParameter,B.PePrimem,B.PeProjcs,B.PeSpheroid,B.PeUnit];for(const ye of le)_e(ye.prototype,"getName",ue=>function(){return ue.call(this,new Array(G.PE_NAME_MAX))});for(const ye of[B.PeGeogtran,B.PeProjcs])_e(ye.prototype,"getParameters",ue=>function(){const Me=new Array(G.PE_PARM_MAX);let ce=ue.call(this);for(let ge=0;ge<Me.length;ge++){const Pe=B.getValue(ce,"*");Me[ge]=Pe?B.wrapPointer(Pe,B.PeParameter):null,ce+=Int32Array.BYTES_PER_ELEMENT}return Me});_e(B.PeHorizon.prototype,"getCoord",ye=>function(){const ue=this.getSize();if(!ue)return null;const Me=[];return de(Me,ue,ye.call(this)),Me}),_e(B.PeGTlistExtendedEntry.prototype,"getEntries",ye=>{const ue=B._pe_getPeGTlistExtendedGTsSize();return function(){let Me=null;const ce=ye.call(this);if(!B.compare(ce,B.NULL)){Me=[ce];const ge=this.getSteps();if(ge>1){const Pe=B.getPointer(ce);for(let Ie=1;Ie<ge;Ie++)Me.push(B.wrapPointer(Pe+ue*Ie,B.PeGTlistExtendedGTs))}}return Me}});const fe=B._pe_getPeHorizonSize(),Ee=ye=>function(){let ue=this._cache;if(ue||(ue=new Map,this._cache=ue),ue.has(ye))return ue.get(ye);let Me=null;const ce=ye.call(this);if(!B.compare(ce,B.NULL)){Me=[ce];const ge=ce.getNump();if(ge>1){const Pe=B.getPointer(ce);for(let Ie=1;Ie<ge;Ie++)Me.push(B.wrapPointer(Pe+fe*Ie,B.PeHorizon))}}return ue.set(ye,Me),Me};_e(B.PeProjcs.prototype,"horizonGcsGenerate",Ee),_e(B.PeProjcs.prototype,"horizonPcsGenerate",Ee),B.PeObject.prototype.toString=function(ye=G.PE_STR_OPTS_NONE){B.ensureCache.prepare();const ue=B.getPointer(this),Me=B.ensureInt8(new Array(G.PE_BUFFER_MAX));return B.UTF8ToString(B._pe_object_to_string_ext(ue,ye,Me))}}function q(me){if(!me)return;const _e=B.getClass(me);if(!_e)return;const le=B.getCache(_e);if(!le)return;const fe=B.getPointer(me);fe&&delete le[fe]}function oe(me,_e){const le=[],fe=new Array(_e);for(let Ee=0;Ee<me;Ee++)le.push(B.ensureInt8(fe));return le}function pe(me){let _e;return Array.isArray(me[0])?(_e=[],me.forEach(le=>{_e.push(le[0],le[1])})):_e=me,_e}function de(me,_e,le,fe=!1){if(fe)for(let Ee=0;Ee<2*_e;Ee++)me[Ee]=B.getValue(le+Ee*Float64Array.BYTES_PER_ELEMENT,"double");else{const Ee=0===me.length;for(let ye=0;ye<_e;ye++)Ee&&(me[ye]=new Array(2)),me[ye][0]=B.getValue(le,"double"),me[ye][1]=B.getValue(le+Float64Array.BYTES_PER_ELEMENT,"double"),le+=2*Float64Array.BYTES_PER_ELEMENT}}(function(me){let _e;me.init=function le(){me.PE_GTLIST_OPTS_COMMON=B.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,_e=B._pe_getPeGTlistExtendedEntrySize()},me.getGTlist=function fe(Ee,ye,ue,Me,ce,ge){let Pe=null;const Ie=new B.PeInteger(ge);try{const Re=B.PeGTlistExtended.prototype.getGTlist(Ee,ye,ue,Me,ce,Ie);if((ge=Ie.val)&&(Pe=[Re],ge>1)){const Ce=B.getPointer(Re);for(let Fe=1;Fe<ge;Fe++)Pe.push(B.wrapPointer(Ce+_e*Fe,B.PeGTlistExtendedEntry))}}finally{B.destroy(Ie)}return Pe}})(ae||(ae={})),function(me){me.destroy=function _e(le){if(le&&le.length){for(const fe of le)q(fe),fe.getEntries().forEach(Ee=>{q(Ee);const ye=Ee.getGeogtran();q(ye),ye.getParameters().forEach(q),[ye.getGeogcs1(),ye.getGeogcs2()].forEach(ue=>{q(ue);const Me=ue.getDatum();q(Me),q(Me.getSpheroid()),q(ue.getPrimem()),q(ue.getUnit())})});B.PeGTlistExtendedEntry.prototype.Delete(le[0])}}}(se||(se={})),function(me){me.geogToGeog=function _e(le,fe,Ee,ye,ue){B.ensureCache.prepare();const Me=pe(Ee),ce=Ee===Me,ge=B.ensureFloat64(Me);let Pe=0;ye&&(Pe=B.ensureFloat64(ye));const Ie=B._pe_geog_to_geog(B.getPointer(le),fe,ge,Pe,ue);return Ie&&de(Ee,fe,ge,ce),Ie}}(ie||(ie={})),function(me){const _e=(ge,Pe,Ie,Re,Ce,Fe)=>{let Ne,Le;switch(B.ensureCache.prepare(),ge){case"dd":Ne=B._pe_geog_to_dd,Le=G.PE_DD_MAX;break;case"ddm":Ne=B._pe_geog_to_ddm,Le=G.PE_DDM_MAX;break;case"dms":Ne=B._pe_geog_to_dms,Le=G.PE_DMS_MAX}let Oe=0;Pe&&(Oe=B.getPointer(Pe));const Ue=pe(Re),ke=B.ensureFloat64(Ue),Ye=oe(Ie,Le),xe=Ne(Oe,Ie,ke,Ce,B.ensureInt32(Ye));if(xe)for(let We=0;We<Ie;We++)Fe[We]=B.UTF8ToString(Ye[We]);return xe},le=(ge,Pe,Ie,Re,Ce)=>{let Fe;switch(B.ensureCache.prepare(),ge){case"dd":Fe=B._pe_dd_to_geog;break;case"ddm":Fe=B._pe_ddm_to_geog;break;case"dms":Fe=B._pe_dms_to_geog}let Ne=0;Pe&&(Ne=B.getPointer(Pe));const Le=Re.map(Ye=>B.ensureString(Ye)),Oe=B.ensureInt32(Le),Ue=B.ensureFloat64(new Array(2*Ie)),ke=Fe(Ne,Ie,Oe,Ue);return ke&&de(Ce,Ie,Ue),ke};me.geogToDms=function fe(ge,Pe,Ie,Re,Ce){return _e("dms",ge,Pe,Ie,Re,Ce)},me.dmsToGeog=function Ee(ge,Pe,Ie,Re){return le("dms",ge,Pe,Ie,Re)},me.geogToDdm=function ye(ge,Pe,Ie,Re,Ce){return _e("ddm",ge,Pe,Ie,Re,Ce)},me.ddmToGeog=function ue(ge,Pe,Ie,Re){return le("ddm",ge,Pe,Ie,Re)},me.geogToDd=function Me(ge,Pe,Ie,Re,Ce){return _e("dd",ge,Pe,Ie,Re,Ce)},me.ddToGeog=function ce(ge,Pe,Ie,Re){return le("dd",ge,Pe,Ie,Re)}}(te||(te={})),function(me){me.init=function _e(){me.PE_MGRS_STYLE_NEW=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,me.PE_MGRS_STYLE_OLD=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,me.PE_MGRS_STYLE_AUTO=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,me.PE_MGRS_180_ZONE_1_PLUS=B.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,me.PE_MGRS_ADD_SPACES=B.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},me.geogToMgrsExtended=function le(Ee,ye,ue,Me,ce,ge,Pe){B.ensureCache.prepare();let Ie=0;Ee&&(Ie=B.getPointer(Ee));const Re=pe(ue),Ce=B.ensureFloat64(Re),Fe=oe(ye,G.PE_MGRS_MAX),Ne=B.ensureInt32(Fe),Le=B._pe_geog_to_mgrs_extended(Ie,ye,Ce,Me,ce,ge,Ne);if(Le)for(let Oe=0;Oe<ye;Oe++)Pe[Oe]=B.UTF8ToString(Fe[Oe]);return Le},me.mgrsToGeogExtended=function fe(Ee,ye,ue,Me,ce){B.ensureCache.prepare();let ge=0;Ee&&(ge=B.getPointer(Ee));const Pe=ue.map(Fe=>B.ensureString(Fe)),Ie=B.ensureInt32(Pe),Re=B.ensureFloat64(new Array(2*ye)),Ce=B._pe_mgrs_to_geog_extended(ge,ye,Ie,Me,Re);return Ce&&de(ce,ye,Re),Ce}}(Q||(Q={})),function(me){me.geogToUsng=function _e(fe,Ee,ye,ue,Me,ce,ge){B.ensureCache.prepare();let Pe=0;fe&&(Pe=B.getPointer(fe));const Ie=pe(ye),Re=B.ensureFloat64(Ie),Ce=oe(Ee,G.PE_MGRS_MAX),Fe=B.ensureInt32(Ce),Ne=B._pe_geog_to_usng(Pe,Ee,Re,ue,Me,ce,Fe);if(Ne)for(let Le=0;Le<Ee;Le++)ge[Le]=B.UTF8ToString(Ce[Le]);return Ne},me.usngToGeog=function le(fe,Ee,ye,ue){B.ensureCache.prepare();let Me=0;fe&&(Me=B.getPointer(fe));const ce=ye.map(Re=>B.ensureString(Re)),ge=B.ensureInt32(ce),Pe=B.ensureFloat64(new Array(2*Ee)),Ie=B._pe_usng_to_geog(Me,Ee,ge,Pe);return Ie&&de(ue,Ee,Pe),Ie}}(V||(V={})),function(me){me.init=function _e(){me.PE_UTM_OPTS_NONE=B.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,me.PE_UTM_OPTS_ADD_SPACES=B.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,me.PE_UTM_OPTS_NS=B.PeNotationUtm.prototype.PE_UTM_OPTS_NS},me.geogToUtm=function le(Ee,ye,ue,Me,ce){B.ensureCache.prepare();let ge=0;Ee&&(ge=B.getPointer(Ee));const Pe=pe(ue),Ie=B.ensureFloat64(Pe),Re=oe(ye,G.PE_UTM_MAX),Ce=B.ensureInt32(Re),Fe=B._pe_geog_to_utm(ge,ye,Ie,Me,Ce);if(Fe)for(let Ne=0;Ne<ye;Ne++)ce[Ne]=B.UTF8ToString(Re[Ne]);return Fe},me.utmToGeog=function fe(Ee,ye,ue,Me,ce){B.ensureCache.prepare();let ge=0;Ee&&(ge=B.getPointer(Ee));const Pe=ue.map(Fe=>B.ensureString(Fe)),Ie=B.ensureInt32(Pe),Re=B.ensureFloat64(new Array(2*ye)),Ce=B._pe_utm_to_geog(ge,ye,Ie,Me,Re);return Ce&&de(ce,ye,Re),Ce}}(U||(U={})),function(me){const _e=new Map;me.init=function le(){me.PE_PCSINFO_OPTION_NONE=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,me.PE_PCSINFO_OPTION_DOMAIN=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,me.PE_POLE_OUTSIDE_BOUNDARY=B.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,me.PE_POLE_POINT=B.PePCSInfo.prototype.PE_POLE_POINT},me.generate=function fe(Ee,ye=me.PE_PCSINFO_OPTION_DOMAIN){let ue=null,Me=null;return _e.has(Ee)&&(Me=_e.get(Ee),Me[ye]&&(ue=Me[ye])),ue||(ue=B.PePCSInfo.prototype.generate(Ee,ye),Me||(Me=[],_e.set(Ee,Me)),Me[ye]=ue),ue}}($||($={})),function(me){me.versionString=function _e(){return B.PeVersion.prototype.version_string()}}(z||(z={}));const be=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return Z},get PeDefs(){return G},get PeFactory(){return Y},get PeGCSExtent(){return ne},get PeGTTransformations(){return ie},get PeGTlistExtended(){return ae},get PeGTlistExtendedEntry(){return se},get PeNotationDms(){return te},get PeNotationMgrs(){return Q},get PeNotationUsng(){return V},get PeNotationUtm(){return U},get PePCSInfo(){return $},get PeVersion(){return z},_init:J,get _pe(){return B},isLoaded:k,isSupported:function re(){return!!(0,O.Z)("esri-wasm")},load:ee},Symbol.toStringTag,{value:"Module"}))},29840:(j,F,T)=>{"use strict";T.d(F,{M:()=>se,a:()=>ie,e:()=>ne,f:()=>W,i:()=>G,p:()=>Y,r:()=>k,t:()=>B,w:()=>re});var w=T(62208),O=T(21726);function W(te,Q){const V=Q&&Q.url&&Q.url.path;if(te&&V&&(te=(0,O.hF)(te,V,{preserveProtocolRelative:!0}),Q.portalItem&&Q.readResourcePaths)){const U=(0,O.PF)(te,Q.portalItem.itemUrl);null!=U&&Z.test(U)&&Q.readResourcePaths.push(Q.portalItem.resourceFromPath(U).path)}return ae(te,Q&&Q.portal)}function B(te,Q,V=se.YES){if(null==te)return te;!(0,O.YP)(te)&&Q&&Q.blockedRelativeUrls&&Q.blockedRelativeUrls.push(te);let U=(0,O.hF)(te);if(Q){const $=Q.verifyItemRelativeUrls&&Q.verifyItemRelativeUrls.rootPath||Q.url&&Q.url.path;if($){const z=ae($,Q.portal),J=ae(U,Q.portal);U=(0,O.PF)(J,z,z),null!=U&&U!==J&&U!==te&&Q.verifyItemRelativeUrls&&Q.verifyItemRelativeUrls.writtenUrls.push(U)}}return U=ne(U,Q?.portal),(0,O.YP)(U)&&(U=(0,O.Fv)(U)),Q?.resources&&Q?.portalItem&&!(0,O.YP)(U)&&!(0,O.HK)(U)&&V===se.YES&&Q.resources.toKeep.push({resource:Q.portalItem.resourceFromPath(U),compress:!1}),U}function k(te,Q,V){return W(te,V)}function re(te,Q,V,U){const $=B(te,U);void 0!==$&&(Q[V]=$)}const ee=/\/items\/([^\/]+)\/resources\/(.*)/,Z=/^\.\/resources\//;function G(te){return(te?.match(ee)??null)?.[1]??null}function Y(te){const Q=te?.match(ee)??null;if(null==Q)return null;const V=Q[2],U=V.lastIndexOf("/");if(-1===U){const{path:J,extension:q}=(0,O.fZ)(V);return{prefix:null,filename:J,extension:(0,w.Wg)(q)}}const{path:$,extension:z}=(0,O.fZ)(V.slice(U+1));return{prefix:V.slice(0,U),filename:$,extension:(0,w.Wg)(z)}}function ne(te,Q){return Q&&!Q.isPortal&&Q.urlKey&&Q.customBaseUrl?(0,O.Ie)(te,`${Q.urlKey}.${Q.customBaseUrl}`,Q.portalHostname):te}function ae(te,Q){if(!Q||Q.isPortal||!Q.urlKey||!Q.customBaseUrl)return te;const V=`${Q.urlKey}.${Q.customBaseUrl}`,U=(0,O.TI)();return(0,O.D6)(U,`${U.scheme}://${V}`)?(0,O.Ie)(te,Q.portalHostname,V):(0,O.Ie)(te,V,Q.portalHostname)}var se,te;(te=se||(se={}))[te.YES=0]="YES",te[te.NO=1]="NO";const ie=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return se},ensureMainOnlineDomain:ne,fromJSON:W,itemIdFromResourceUrl:G,prefixAndFilenameFromResourceUrl:Y,read:k,toJSON:B,write:re},Symbol.toStringTag,{value:"Module"}))},14259:(j,F,T)=>{"use strict";T.d(F,{q:()=>re});var w,W,B={};w={get exports(){return B},set exports(ee){B=ee}},void 0!==(W=function(){function Z(ne,ae,se,ie,te){for(;ie>se;){if(ie-se>600){var Q=ie-se+1,V=ae-se+1,U=Math.log(Q),$=.5*Math.exp(2*U/3),z=.5*Math.sqrt(U*$*(Q-$)/Q)*(V-Q/2<0?-1:1);Z(ne,ae,Math.max(se,Math.floor(ae-V*$/Q+z)),Math.min(ie,Math.floor(ae+(Q-V)*$/Q+z)),te)}var J=ne[ae],q=se,oe=ie;for(G(ne,se,ae),te(ne[ie],J)>0&&G(ne,se,ie);q<oe;){for(G(ne,q,oe),q++,oe--;te(ne[q],J)<0;)q++;for(;te(ne[oe],J)>0;)oe--}0===te(ne[se],J)?G(ne,se,oe):G(ne,++oe,ie),oe<=ae&&(se=oe+1),ae<=oe&&(ie=oe-1)}}function G(ne,ae,se){var ie=ne[ae];ne[ae]=ne[se],ne[se]=ie}function Y(ne,ae){return ne<ae?-1:ne>ae?1:0}return function ee(ne,ae,se,ie,te){Z(ne,ae,se||0,ie||ne.length-1,te||Y)}}())&&(w.exports=W);const re=B},76279:(j,F,T)=>{"use strict";T.d(F,{r:()=>O});var w=T(14259);function O(V,U){if(!(this instanceof O))return new O(V,U);this._maxEntries=Math.max(4,V||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),U&&("function"==typeof U?this.toBBox=U:this._initFormat(U)),this.clear()}function W(V,U,$){if(!$)return U.indexOf(V);for(var z=0;z<U.length;z++)if($(V,U[z]))return z;return-1}function B(V,U){k(V,0,V.children.length,U,V)}function k(V,U,$,z,J){J||(J=te(null)),J.minX=1/0,J.minY=1/0,J.maxX=-1/0,J.maxY=-1/0;for(var q,oe=U;oe<$;oe++)q=V.children[oe],re(J,V.leaf?z(q):q);return J}function re(V,U){return V.minX=Math.min(V.minX,U.minX),V.minY=Math.min(V.minY,U.minY),V.maxX=Math.max(V.maxX,U.maxX),V.maxY=Math.max(V.maxY,U.maxY),V}function ee(V,U){return V.minX-U.minX}function Z(V,U){return V.minY-U.minY}function G(V){return(V.maxX-V.minX)*(V.maxY-V.minY)}function Y(V){return V.maxX-V.minX+(V.maxY-V.minY)}function ne(V,U){return(Math.max(U.maxX,V.maxX)-Math.min(U.minX,V.minX))*(Math.max(U.maxY,V.maxY)-Math.min(U.minY,V.minY))}function ae(V,U){var $=Math.max(V.minX,U.minX),z=Math.max(V.minY,U.minY),J=Math.min(V.maxX,U.maxX),q=Math.min(V.maxY,U.maxY);return Math.max(0,J-$)*Math.max(0,q-z)}function se(V,U){return V.minX<=U.minX&&V.minY<=U.minY&&U.maxX<=V.maxX&&U.maxY<=V.maxY}function ie(V,U){return U.minX<=V.maxX&&U.minY<=V.maxY&&U.maxX>=V.minX&&U.maxY>=V.minY}function te(V){return{children:V,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Q(V,U,$,z,J){for(var q,oe=[U,$];oe.length;)($=oe.pop())-(U=oe.pop())<=z||(q=U+Math.ceil(($-U)/z/2)*z,(0,w.q)(V,q,U,$,J),oe.push(U,q,q,$))}O.prototype={all:function(){return this._all(this.data,[])},search:function(V){var U=this.data,$=[],z=this.toBBox;if(!ie(V,U))return $;for(var J,q,oe,pe,de=[];U;){for(J=0,q=U.children.length;J<q;J++)oe=U.children[J],ie(V,pe=U.leaf?z(oe):oe)&&(U.leaf?$.push(oe):se(V,pe)?this._all(oe,$):de.push(oe));U=de.pop()}return $},collides:function(V){var U=this.data,$=this.toBBox;if(!ie(V,U))return!1;for(var z,J,q,oe,pe=[];U;){for(z=0,J=U.children.length;z<J;z++)if(q=U.children[z],ie(V,oe=U.leaf?$(q):q)){if(U.leaf||se(V,oe))return!0;pe.push(q)}U=pe.pop()}return!1},load:function(V){if(!V||!V.length)return this;if(V.length<this._minEntries){for(var U=0,$=V.length;U<$;U++)this.insert(V[U]);return this}var z=this._build(V.slice(),0,V.length-1,0);if(this.data.children.length)if(this.data.height===z.height)this._splitRoot(this.data,z);else{if(this.data.height<z.height){var J=this.data;this.data=z,z=J}this._insert(z,this.data.height-z.height-1,!0)}else this.data=z;return this},insert:function(V){return V&&this._insert(V,this.data.height-1),this},clear:function(){return this.data=te([]),this},remove:function(V,U){if(!V)return this;for(var $,z,J,q,oe=this.data,pe=this.toBBox(V),de=[],be=[];oe||de.length;){if(oe||(oe=de.pop(),z=de[de.length-1],$=be.pop(),q=!0),oe.leaf&&-1!==(J=W(V,oe.children,U)))return oe.children.splice(J,1),de.push(oe),this._condense(de),this;q||oe.leaf||!se(oe,pe)?z?($++,oe=z.children[$],q=!1):oe=null:(de.push(oe),be.push($),$=0,z=oe,oe=oe.children[0])}return this},toBBox:function(V){return V},compareMinX:ee,compareMinY:Z,toJSON:function(){return this.data},fromJSON:function(V){return this.data=V,this},_all:function(V,U){for(var $=[];V;)V.leaf?U.push.apply(U,V.children):$.push.apply($,V.children),V=$.pop();return U},_build:function(V,U,$,z){var J,q=$-U+1,oe=this._maxEntries;if(q<=oe)return B(J=te(V.slice(U,$+1)),this.toBBox),J;z||(z=Math.ceil(Math.log(q)/Math.log(oe)),oe=Math.ceil(q/Math.pow(oe,z-1))),(J=te([])).leaf=!1,J.height=z;var pe,de,be,me,_e=Math.ceil(q/oe),le=_e*Math.ceil(Math.sqrt(oe));for(Q(V,U,$,le,this.compareMinX),pe=U;pe<=$;pe+=le)for(Q(V,pe,be=Math.min(pe+le-1,$),_e,this.compareMinY),de=pe;de<=be;de+=_e)me=Math.min(de+_e-1,be),J.children.push(this._build(V,de,me,z-1));return B(J,this.toBBox),J},_chooseSubtree:function(V,U,$,z){for(var J,q,oe,pe,de,be,me,_e;z.push(U),!U.leaf&&z.length-1!==$;){for(me=_e=1/0,J=0,q=U.children.length;J<q;J++)de=G(oe=U.children[J]),(be=ne(V,oe)-de)<_e?(_e=be,me=de<me?de:me,pe=oe):be===_e&&de<me&&(me=de,pe=oe);U=pe||U.children[0]}return U},_insert:function(V,U,$){var J=$?V:(0,this.toBBox)(V),q=[],oe=this._chooseSubtree(J,this.data,U,q);for(oe.children.push(V),re(oe,J);U>=0&&q[U].children.length>this._maxEntries;)this._split(q,U),U--;this._adjustParentBBoxes(J,q,U)},_split:function(V,U){var $=V[U],z=$.children.length,J=this._minEntries;this._chooseSplitAxis($,J,z);var q=this._chooseSplitIndex($,J,z),oe=te($.children.splice(q,$.children.length-q));oe.height=$.height,oe.leaf=$.leaf,B($,this.toBBox),B(oe,this.toBBox),U?V[U-1].children.push(oe):this._splitRoot($,oe)},_splitRoot:function(V,U){this.data=te([V,U]),this.data.height=V.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},_chooseSplitIndex:function(V,U,$){var z,J,q,oe,pe,de,be,me;for(de=be=1/0,z=U;z<=$-U;z++)oe=ae(J=k(V,0,z,this.toBBox),q=k(V,z,$,this.toBBox)),pe=G(J)+G(q),oe<de?(de=oe,me=z,be=pe<be?pe:be):oe===de&&pe<be&&(be=pe,me=z);return me},_chooseSplitAxis:function(V,U,$){var z=V.leaf?this.compareMinX:ee,J=V.leaf?this.compareMinY:Z;this._allDistMargin(V,U,$,z)<this._allDistMargin(V,U,$,J)&&V.children.sort(z)},_allDistMargin:function(V,U,$,z){V.children.sort(z);var J,q,oe=this.toBBox,pe=k(V,0,U,oe),de=k(V,$-U,$,oe),be=Y(pe)+Y(de);for(J=U;J<$-U;J++)q=V.children[J],re(pe,V.leaf?oe(q):q),be+=Y(pe);for(J=$-U-1;J>=U;J--)q=V.children[J],re(de,V.leaf?oe(q):q),be+=Y(de);return be},_adjustParentBBoxes:function(V,U,$){for(var z=$;z>=0;z--)re(U[z],V)},_condense:function(V){for(var U,$=V.length-1;$>=0;$--)0===V[$].children.length?$>0?(U=V[$-1].children).splice(U.indexOf(V[$]),1):this.clear():B(V[$],this.toBBox)},_initFormat:function(V){var U=["return a"," - b",";"];this.compareMinX=new Function("a","b",U.join(V[0])),this.compareMinY=new Function("a","b",U.join(V[1])),this.toBBox=new Function("a","return {minX: a"+V[0]+", minY: a"+V[1]+", maxX: a"+V[2]+", maxY: a"+V[3]+"};")}}},17626:(j,F,T)=>{"use strict";function w(O,W,B,k){var re,ee=arguments.length,Z=ee<3?W:null===k?k=Object.getOwnPropertyDescriptor(W,B):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(O,W,B,k);else for(var G=O.length-1;G>=0;G--)(re=O[G])&&(Z=(ee<3?re(Z):ee>3?re(W,B,Z):re(W,B))||Z);return ee>3&&Z&&Object.defineProperty(W,B,Z),Z}T.d(F,{_:()=>w})},67831:(j,F,T)=>{"use strict";T.d(F,{a:()=>k,b:()=>se,c:()=>O,d:()=>te,e:()=>Pe,f:()=>J,g:()=>oe,h:()=>q,i:()=>V,j:()=>B,k:()=>Q,l:()=>pe,m:()=>ue,n:()=>$,o:()=>Me,p:()=>Ce,q:()=>be,r:()=>fe,s:()=>W,t:()=>me,u:()=>ce,v:()=>U,w:()=>ie,y:()=>Y,z:()=>ne});var w=T(39863);function O(Oe,Ue){return Oe[0]=Ue[0],Oe[1]=Ue[1],Oe}function W(Oe,Ue,ke){return Oe[0]=Ue,Oe[1]=ke,Oe}function B(Oe,Ue,ke){return Oe[0]=Ue[0]+ke[0],Oe[1]=Ue[1]+ke[1],Oe}function k(Oe,Ue,ke){return Oe[0]=Ue[0]-ke[0],Oe[1]=Ue[1]-ke[1],Oe}function re(Oe,Ue,ke){return Oe[0]=Ue[0]*ke[0],Oe[1]=Ue[1]*ke[1],Oe}function ee(Oe,Ue,ke){return Oe[0]=Ue[0]/ke[0],Oe[1]=Ue[1]/ke[1],Oe}function Y(Oe,Ue,ke){return Oe[0]=Math.min(Ue[0],ke[0]),Oe[1]=Math.min(Ue[1],ke[1]),Oe}function ne(Oe,Ue,ke){return Oe[0]=Math.max(Ue[0],ke[0]),Oe[1]=Math.max(Ue[1],ke[1]),Oe}function se(Oe,Ue,ke){return Oe[0]=Ue[0]*ke,Oe[1]=Ue[1]*ke,Oe}function ie(Oe,Ue,ke,Ye){return Oe[0]=Ue[0]+ke[0]*Ye,Oe[1]=Ue[1]+ke[1]*Ye,Oe}function te(Oe,Ue){const ke=Ue[0]-Oe[0],Ye=Ue[1]-Oe[1];return Math.sqrt(ke*ke+Ye*Ye)}function Q(Oe,Ue){const ke=Ue[0]-Oe[0],Ye=Ue[1]-Oe[1];return ke*ke+Ye*Ye}function V(Oe){const Ue=Oe[0],ke=Oe[1];return Math.sqrt(Ue*Ue+ke*ke)}function U(Oe){const Ue=Oe[0],ke=Oe[1];return Ue*Ue+ke*ke}function $(Oe,Ue){return Oe[0]=-Ue[0],Oe[1]=-Ue[1],Oe}function J(Oe,Ue){const ke=Ue[0],Ye=Ue[1];let xe=ke*ke+Ye*Ye;return xe>0&&(xe=1/Math.sqrt(xe),Oe[0]=Ue[0]*xe,Oe[1]=Ue[1]*xe),Oe}function q(Oe,Ue){return Oe[0]*Ue[0]+Oe[1]*Ue[1]}function oe(Oe,Ue,ke){const Ye=Ue[0]*ke[1]-Ue[1]*ke[0];return Oe[0]=Oe[1]=0,Oe[2]=Ye,Oe}function pe(Oe,Ue,ke,Ye){const xe=Ue[0],We=Ue[1];return Oe[0]=xe+Ye*(ke[0]-xe),Oe[1]=We+Ye*(ke[1]-We),Oe}function be(Oe,Ue,ke){const Ye=Ue[0],xe=Ue[1];return Oe[0]=ke[0]*Ye+ke[2]*xe,Oe[1]=ke[1]*Ye+ke[3]*xe,Oe}function me(Oe,Ue,ke){const Ye=Ue[0],xe=Ue[1];return Oe[0]=ke[0]*Ye+ke[2]*xe+ke[4],Oe[1]=ke[1]*Ye+ke[3]*xe+ke[5],Oe}function fe(Oe,Ue,ke,Ye){const xe=Ue[0]-ke[0],We=Ue[1]-ke[1],Qe=Math.sin(Ye),lt=Math.cos(Ye);return Oe[0]=xe*lt-We*Qe+ke[0],Oe[1]=xe*Qe+We*lt+ke[1],Oe}function ue(Oe,Ue){return Oe[0]===Ue[0]&&Oe[1]===Ue[1]}function Me(Oe,Ue){const ke=Oe[0],Ye=Oe[1],xe=Ue[0],We=Ue[1],Qe=(0,w.g)();return Math.abs(ke-xe)<=Qe*Math.max(1,Math.abs(ke),Math.abs(xe))&&Math.abs(Ye-We)<=Qe*Math.max(1,Math.abs(Ye),Math.abs(We))}function ce(Oe,Ue,ke,Ye,xe){let We=Ue[0]-ke[0],Qe=Ue[1]-ke[1];const lt=(Ye[0]*We+Ye[1]*Qe)*(xe-1);return We=Ye[0]*lt,Qe=Ye[1]*lt,Oe[0]=Ue[0]+We,Oe[1]=Ue[1]+Qe,Oe}const Pe=k,Ce=te;Object.freeze(Object.defineProperty({__proto__:null,add:B,angle:function Ee(Oe,Ue){const ke=Oe[0],Ye=Oe[1],xe=Ue[0],We=Ue[1];let Qe=ke*ke+Ye*Ye;Qe>0&&(Qe=1/Math.sqrt(Qe));let lt=xe*xe+We*We;lt>0&&(lt=1/Math.sqrt(lt));const ve=(ke*xe+Ye*We)*Qe*lt;return ve>1?0:ve<-1?Math.PI:Math.acos(ve)},ceil:function Z(Oe,Ue){return Oe[0]=Math.ceil(Ue[0]),Oe[1]=Math.ceil(Ue[1]),Oe},copy:O,cross:oe,dist:Ce,distance:te,div:ee,divide:ee,dot:q,equals:Me,exactEquals:ue,floor:function G(Oe,Ue){return Oe[0]=Math.floor(Ue[0]),Oe[1]=Math.floor(Ue[1]),Oe},inverse:function z(Oe,Ue){return Oe[0]=1/Ue[0],Oe[1]=1/Ue[1],Oe},len:V,length:V,lerp:pe,max:ne,min:Y,mul:re,multiply:re,negate:$,normalize:J,projectAndScale:ce,random:function de(Oe,Ue){Ue=Ue||1;const ke=2*(0,w.R)()*Math.PI;return Oe[0]=Math.cos(ke)*Ue,Oe[1]=Math.sin(ke)*Ue,Oe},rotate:fe,round:function ae(Oe,Ue){return Oe[0]=Math.round(Ue[0]),Oe[1]=Math.round(Ue[1]),Oe},scale:se,scaleAndAdd:ie,set:W,sqrDist:Q,sqrLen:U,squaredDistance:Q,squaredLength:U,str:function ye(Oe){return"vec2("+Oe[0]+", "+Oe[1]+")"},sub:Pe,subtract:k,transformMat2:be,transformMat2d:me,transformMat3:function _e(Oe,Ue,ke){const Ye=Ue[0],xe=Ue[1];return Oe[0]=ke[0]*Ye+ke[3]*xe+ke[6],Oe[1]=ke[1]*Ye+ke[4]*xe+ke[7],Oe},transformMat4:function le(Oe,Ue,ke){const Ye=Ue[0],xe=Ue[1];return Oe[0]=ke[0]*Ye+ke[4]*xe+ke[12],Oe[1]=ke[1]*Ye+ke[5]*xe+ke[13],Oe}},Symbol.toStringTag,{value:"Module"}))},9545:(j,F,T)=>{"use strict";function w(){return new Float32Array(2)}function W(ie,te){const Q=new Float32Array(2);return Q[0]=ie,Q[1]=te,Q}function k(){return w()}function re(){return W(1,1)}function ee(){return W(1,0)}function Z(){return W(0,1)}T.d(F,{O:()=>Y,Z:()=>G,c:()=>w,f:()=>W});const G=k(),Y=re(),ne=ee(),ae=Z();Object.freeze(Object.defineProperty({__proto__:null,ONES:Y,UNIT_X:ne,UNIT_Y:ae,ZEROS:G,clone:function O(ie){const te=new Float32Array(2);return te[0]=ie[0],te[1]=ie[1],te},create:w,createView:function B(ie,te){return new Float32Array(ie,te,2)},fromValues:W,ones:re,unitX:ee,unitY:Z,zeros:k},Symbol.toStringTag,{value:"Module"}))},99770:(j,F,T)=>{"use strict";function w(){return[0,0]}function O(te){return[te[0],te[1]]}function W(te,Q){return[te,Q]}function B(te){const Q=[0,0],V=Math.min(2,te.length);for(let U=0;U<V;++U)Q[U]=te[U];return Q}function k(te,Q){return new Float64Array(te,Q,2)}function ee(){return W(1,1)}function Z(){return W(1,0)}function G(){return W(0,1)}T.d(F,{O:()=>ne,U:()=>ae,Z:()=>Y,a:()=>w,b:()=>B,c:()=>k,d:()=>O,f:()=>W});const Y=[0,0],ne=ee(),ae=Z(),se=G();Object.freeze(Object.defineProperty({__proto__:null,ONES:ne,UNIT_X:ae,UNIT_Y:se,ZEROS:Y,clone:O,create:w,createView:k,fromArray:B,fromValues:W,ones:ee,unitX:Z,unitY:G,zeros:function re(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},84161:(j,F,T)=>{"use strict";T.d(F,{B:()=>Z,C:()=>G,D:()=>Qe,E:()=>xe,F:()=>Ne,I:()=>ge,a:()=>re,b:()=>ee,c:()=>B,d:()=>z,e:()=>de,f:()=>be,g:()=>V,h:()=>me,i:()=>$,j:()=>Ye,k:()=>Fe,l:()=>W,m:()=>Ee,n:()=>pe,o:()=>q,p:()=>J,q:()=>ue,r:()=>Le,s:()=>k,t:()=>ye,u:()=>We,w:()=>Oe,z:()=>U});var w=T(28093),O=T(39863);function W(ve){const Te=ve[0],Be=ve[1],Ge=ve[2];return Math.sqrt(Te*Te+Be*Be+Ge*Ge)}function B(ve,Te){return ve[0]=Te[0],ve[1]=Te[1],ve[2]=Te[2],ve}function k(ve,Te,Be,Ge){return ve[0]=Te,ve[1]=Be,ve[2]=Ge,ve}function re(ve,Te,Be){return ve[0]=Te[0]+Be[0],ve[1]=Te[1]+Be[1],ve[2]=Te[2]+Be[2],ve}function ee(ve,Te,Be){return ve[0]=Te[0]-Be[0],ve[1]=Te[1]-Be[1],ve[2]=Te[2]-Be[2],ve}function Z(ve,Te,Be){return ve[0]=Te[0]*Be[0],ve[1]=Te[1]*Be[1],ve[2]=Te[2]*Be[2],ve}function G(ve,Te,Be){return ve[0]=Te[0]/Be[0],ve[1]=Te[1]/Be[1],ve[2]=Te[2]/Be[2],ve}function V(ve,Te,Be){return ve[0]=Te[0]*Be,ve[1]=Te[1]*Be,ve[2]=Te[2]*Be,ve}function U(ve,Te,Be,Ge){return ve[0]=Te[0]+Be[0]*Ge,ve[1]=Te[1]+Be[1]*Ge,ve[2]=Te[2]+Be[2]*Ge,ve}function $(ve,Te){const Be=Te[0]-ve[0],Ge=Te[1]-ve[1],$e=Te[2]-ve[2];return Math.sqrt(Be*Be+Ge*Ge+$e*$e)}function z(ve,Te){const Be=Te[0]-ve[0],Ge=Te[1]-ve[1],$e=Te[2]-ve[2];return Be*Be+Ge*Ge+$e*$e}function J(ve){const Te=ve[0],Be=ve[1],Ge=ve[2];return Te*Te+Be*Be+Ge*Ge}function q(ve,Te){return ve[0]=-Te[0],ve[1]=-Te[1],ve[2]=-Te[2],ve}function pe(ve,Te){const Be=Te[0],Ge=Te[1],$e=Te[2];let Xe=Be*Be+Ge*Ge+$e*$e;return Xe>0&&(Xe=1/Math.sqrt(Xe),ve[0]=Te[0]*Xe,ve[1]=Te[1]*Xe,ve[2]=Te[2]*Xe),ve}function de(ve,Te){return ve[0]*Te[0]+ve[1]*Te[1]+ve[2]*Te[2]}function be(ve,Te,Be){const Ge=Te[0],$e=Te[1],Xe=Te[2],at=Be[0],we=Be[1],tt=Be[2];return ve[0]=$e*tt-Xe*we,ve[1]=Xe*at-Ge*tt,ve[2]=Ge*we-$e*at,ve}function me(ve,Te,Be,Ge){const $e=Te[0],Xe=Te[1],at=Te[2];return ve[0]=$e+Ge*(Be[0]-$e),ve[1]=Xe+Ge*(Be[1]-Xe),ve[2]=at+Ge*(Be[2]-at),ve}function Ee(ve,Te,Be){const Ge=Te[0],$e=Te[1],Xe=Te[2];return ve[0]=Be[0]*Ge+Be[4]*$e+Be[8]*Xe+Be[12],ve[1]=Be[1]*Ge+Be[5]*$e+Be[9]*Xe+Be[13],ve[2]=Be[2]*Ge+Be[6]*$e+Be[10]*Xe+Be[14],ve}function ye(ve,Te,Be){const Ge=Te[0],$e=Te[1],Xe=Te[2];return ve[0]=Ge*Be[0]+$e*Be[3]+Xe*Be[6],ve[1]=Ge*Be[1]+$e*Be[4]+Xe*Be[7],ve[2]=Ge*Be[2]+$e*Be[5]+Xe*Be[8],ve}function ue(ve,Te,Be){const Ge=Be[0],$e=Be[1],Xe=Be[2],we=Te[0],tt=Te[1],pt=Te[2];let Pt=$e*pt-Xe*tt,mt=Xe*we-Ge*pt,St=Ge*tt-$e*we,ut=$e*St-Xe*mt,_t=Xe*Pt-Ge*St,Ct=Ge*mt-$e*Pt;const Rt=2*Be[3];return Pt*=Rt,mt*=Rt,St*=Rt,ut*=2,_t*=2,Ct*=2,ve[0]=we+Pt+ut,ve[1]=tt+mt+_t,ve[2]=pt+St+Ct,ve}function ge(ve,Te,Be,Ge){const $e=[],Xe=[];return $e[0]=Te[0]-Be[0],$e[1]=Te[1]-Be[1],$e[2]=Te[2]-Be[2],Xe[0]=$e[0]*Math.cos(Ge)-$e[1]*Math.sin(Ge),Xe[1]=$e[0]*Math.sin(Ge)+$e[1]*Math.cos(Ge),Xe[2]=$e[2],ve[0]=Xe[0]+Be[0],ve[1]=Xe[1]+Be[1],ve[2]=Xe[2]+Be[2],ve}const Ie=(0,w.c)(),Re=(0,w.c)();function Fe(ve,Te){return ve[0]===Te[0]&&ve[1]===Te[1]&&ve[2]===Te[2]}function Ne(ve,Te){if(ve===Te)return!0;const Be=ve[0],Ge=ve[1],$e=ve[2],Xe=Te[0],at=Te[1],we=Te[2],tt=(0,O.g)();return Math.abs(Be-Xe)<=tt*Math.max(1,Math.abs(Be),Math.abs(Xe))&&Math.abs(Ge-at)<=tt*Math.max(1,Math.abs(Ge),Math.abs(at))&&Math.abs($e-we)<=tt*Math.max(1,Math.abs($e),Math.abs(we))}function Le(ve,Te,Be){const Ge=Be[0]-Te[0],$e=Be[1]-Te[1],Xe=Be[2]-Te[2];let at=Ge*Ge+$e*$e+Xe*Xe;return at>0?(at=1/Math.sqrt(at),ve[0]=Ge*at,ve[1]=$e*at,ve[2]=Xe*at,ve):(ve[0]=0,ve[1]=0,ve[2]=0,ve)}const Oe=ee,Ye=$,xe=z,We=W,Qe=J;Object.freeze(Object.defineProperty({__proto__:null,abs:function ae(ve,Te){return ve[0]=Math.abs(Te[0]),ve[1]=Math.abs(Te[1]),ve[2]=Math.abs(Te[2]),ve},add:re,angle:function Pe(ve,Te){B(Ie,ve),B(Re,Te),pe(Ie,Ie),pe(Re,Re);const Be=de(Ie,Re);return Be>1?0:Be<-1?Math.PI:Math.acos(Be)},bezier:function le(ve,Te,Be,Ge,$e,Xe){const at=1-Xe,we=at*at,tt=Xe*Xe,pt=we*at,Pt=3*Xe*we,mt=3*tt*at,St=tt*Xe;return ve[0]=Te[0]*pt+Be[0]*Pt+Ge[0]*mt+$e[0]*St,ve[1]=Te[1]*pt+Be[1]*Pt+Ge[1]*mt+$e[1]*St,ve[2]=Te[2]*pt+Be[2]*Pt+Ge[2]*mt+$e[2]*St,ve},ceil:function Y(ve,Te){return ve[0]=Math.ceil(Te[0]),ve[1]=Math.ceil(Te[1]),ve[2]=Math.ceil(Te[2]),ve},copy:B,cross:be,direction:Le,dist:Ye,distance:$,div:G,divide:G,dot:de,equals:Ne,exactEquals:Fe,floor:function ne(ve,Te){return ve[0]=Math.floor(Te[0]),ve[1]=Math.floor(Te[1]),ve[2]=Math.floor(Te[2]),ve},hermite:function _e(ve,Te,Be,Ge,$e,Xe){const at=Xe*Xe,we=at*(2*Xe-3)+1,tt=at*(Xe-2)+Xe,pt=at*(Xe-1),Pt=at*(3-2*Xe);return ve[0]=Te[0]*we+Be[0]*tt+Ge[0]*pt+$e[0]*Pt,ve[1]=Te[1]*we+Be[1]*tt+Ge[1]*pt+$e[1]*Pt,ve[2]=Te[2]*we+Be[2]*tt+Ge[2]*pt+$e[2]*Pt,ve},inverse:function oe(ve,Te){return ve[0]=1/Te[0],ve[1]=1/Te[1],ve[2]=1/Te[2],ve},len:We,length:W,lerp:me,max:function te(ve,Te,Be){return ve[0]=Math.max(Te[0],Be[0]),ve[1]=Math.max(Te[1],Be[1]),ve[2]=Math.max(Te[2],Be[2]),ve},min:function ie(ve,Te,Be){return ve[0]=Math.min(Te[0],Be[0]),ve[1]=Math.min(Te[1],Be[1]),ve[2]=Math.min(Te[2],Be[2]),ve},mul:Z,multiply:Z,negate:q,normalize:pe,random:function fe(ve,Te){Te=Te||1;const Be=O.R,Ge=2*Be()*Math.PI,$e=2*Be()-1,Xe=Math.sqrt(1-$e*$e)*Te;return ve[0]=Math.cos(Ge)*Xe,ve[1]=Math.sin(Ge)*Xe,ve[2]=$e*Te,ve},rotateX:function Me(ve,Te,Be,Ge){const $e=[],Xe=[];return $e[0]=Te[0]-Be[0],$e[1]=Te[1]-Be[1],$e[2]=Te[2]-Be[2],Xe[0]=$e[0],Xe[1]=$e[1]*Math.cos(Ge)-$e[2]*Math.sin(Ge),Xe[2]=$e[1]*Math.sin(Ge)+$e[2]*Math.cos(Ge),ve[0]=Xe[0]+Be[0],ve[1]=Xe[1]+Be[1],ve[2]=Xe[2]+Be[2],ve},rotateY:function ce(ve,Te,Be,Ge){const $e=[],Xe=[];return $e[0]=Te[0]-Be[0],$e[1]=Te[1]-Be[1],$e[2]=Te[2]-Be[2],Xe[0]=$e[2]*Math.sin(Ge)+$e[0]*Math.cos(Ge),Xe[1]=$e[1],Xe[2]=$e[2]*Math.cos(Ge)-$e[0]*Math.sin(Ge),ve[0]=Xe[0]+Be[0],ve[1]=Xe[1]+Be[1],ve[2]=Xe[2]+Be[2],ve},rotateZ:ge,round:function Q(ve,Te){return ve[0]=Math.round(Te[0]),ve[1]=Math.round(Te[1]),ve[2]=Math.round(Te[2]),ve},scale:V,scaleAndAdd:U,set:k,sign:function se(ve,Te){return ve[0]=Math.sign(Te[0]),ve[1]=Math.sign(Te[1]),ve[2]=Math.sign(Te[2]),ve},sqrDist:xe,sqrLen:Qe,squaredDistance:z,squaredLength:J,str:function Ce(ve){return"vec3("+ve[0]+", "+ve[1]+", "+ve[2]+")"},sub:Oe,subtract:ee,transformMat3:ye,transformMat4:Ee,transformQuat:ue},Symbol.toStringTag,{value:"Module"}))},28093:(j,F,T)=>{"use strict";function w(){return[0,0,0]}function O(V){return[V[0],V[1],V[2]]}function W(V,U,$){return[V,U,$]}function B(V){const U=[0,0,0],$=Math.min(3,V.length);for(let z=0;z<$;++z)U[z]=V[z];return U}function k(V,U){return new Float64Array(V,U,3)}function ee(){return W(1,1,1)}function Z(){return W(1,0,0)}function G(){return W(0,1,0)}function Y(){return W(0,0,1)}T.d(F,{O:()=>ae,U:()=>te,Z:()=>ne,a:()=>O,b:()=>k,c:()=>w,d:()=>B,f:()=>W});const ne=[0,0,0],ae=ee(),se=Z(),ie=G(),te=Y();Object.freeze(Object.defineProperty({__proto__:null,ONES:ae,UNIT_X:se,UNIT_Y:ie,UNIT_Z:te,ZEROS:ne,clone:O,create:w,createView:k,fromArray:B,fromValues:W,ones:ee,unitX:Z,unitY:G,unitZ:Y,zeros:function re(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},993:(j,F,T)=>{"use strict";T.d(F,{a:()=>B,b:()=>se,c:()=>O,d:()=>q,e:()=>V,f:()=>U,g:()=>_e,h:()=>le,i:()=>Q,l:()=>oe,n:()=>J,s:()=>W,t:()=>de});var w=T(39863);function O(Ie,Re){return Ie[0]=Re[0],Ie[1]=Re[1],Ie[2]=Re[2],Ie[3]=Re[3],Ie}function W(Ie,Re,Ce,Fe,Ne){return Ie[0]=Re,Ie[1]=Ce,Ie[2]=Fe,Ie[3]=Ne,Ie}function B(Ie,Re,Ce){return Ie[0]=Re[0]+Ce[0],Ie[1]=Re[1]+Ce[1],Ie[2]=Re[2]+Ce[2],Ie[3]=Re[3]+Ce[3],Ie}function k(Ie,Re,Ce){return Ie[0]=Re[0]-Ce[0],Ie[1]=Re[1]-Ce[1],Ie[2]=Re[2]-Ce[2],Ie[3]=Re[3]-Ce[3],Ie}function re(Ie,Re,Ce){return Ie[0]=Re[0]*Ce[0],Ie[1]=Re[1]*Ce[1],Ie[2]=Re[2]*Ce[2],Ie[3]=Re[3]*Ce[3],Ie}function ee(Ie,Re,Ce){return Ie[0]=Re[0]/Ce[0],Ie[1]=Re[1]/Ce[1],Ie[2]=Re[2]/Ce[2],Ie[3]=Re[3]/Ce[3],Ie}function se(Ie,Re,Ce){return Ie[0]=Re[0]*Ce,Ie[1]=Re[1]*Ce,Ie[2]=Re[2]*Ce,Ie[3]=Re[3]*Ce,Ie}function te(Ie,Re){const Ce=Re[0]-Ie[0],Fe=Re[1]-Ie[1],Ne=Re[2]-Ie[2],Le=Re[3]-Ie[3];return Math.sqrt(Ce*Ce+Fe*Fe+Ne*Ne+Le*Le)}function Q(Ie,Re){const Ce=Re[0]-Ie[0],Fe=Re[1]-Ie[1],Ne=Re[2]-Ie[2],Le=Re[3]-Ie[3];return Ce*Ce+Fe*Fe+Ne*Ne+Le*Le}function V(Ie){const Re=Ie[0],Ce=Ie[1],Fe=Ie[2],Ne=Ie[3];return Math.sqrt(Re*Re+Ce*Ce+Fe*Fe+Ne*Ne)}function U(Ie){const Re=Ie[0],Ce=Ie[1],Fe=Ie[2],Ne=Ie[3];return Re*Re+Ce*Ce+Fe*Fe+Ne*Ne}function J(Ie,Re){const Ce=Re[0],Fe=Re[1],Ne=Re[2],Le=Re[3];let Oe=Ce*Ce+Fe*Fe+Ne*Ne+Le*Le;return Oe>0&&(Oe=1/Math.sqrt(Oe),Ie[0]=Ce*Oe,Ie[1]=Fe*Oe,Ie[2]=Ne*Oe,Ie[3]=Le*Oe),Ie}function q(Ie,Re){return Ie[0]*Re[0]+Ie[1]*Re[1]+Ie[2]*Re[2]+Ie[3]*Re[3]}function oe(Ie,Re,Ce,Fe){const Ne=Re[0],Le=Re[1],Oe=Re[2],Ue=Re[3];return Ie[0]=Ne+Fe*(Ce[0]-Ne),Ie[1]=Le+Fe*(Ce[1]-Le),Ie[2]=Oe+Fe*(Ce[2]-Oe),Ie[3]=Ue+Fe*(Ce[3]-Ue),Ie}function de(Ie,Re,Ce){const Fe=Re[0],Ne=Re[1],Le=Re[2],Oe=Re[3];return Ie[0]=Ce[0]*Fe+Ce[4]*Ne+Ce[8]*Le+Ce[12]*Oe,Ie[1]=Ce[1]*Fe+Ce[5]*Ne+Ce[9]*Le+Ce[13]*Oe,Ie[2]=Ce[2]*Fe+Ce[6]*Ne+Ce[10]*Le+Ce[14]*Oe,Ie[3]=Ce[3]*Fe+Ce[7]*Ne+Ce[11]*Le+Ce[15]*Oe,Ie}function _e(Ie,Re){return Ie[0]===Re[0]&&Ie[1]===Re[1]&&Ie[2]===Re[2]&&Ie[3]===Re[3]}function le(Ie,Re){const Ce=Ie[0],Fe=Ie[1],Ne=Ie[2],Le=Ie[3],Oe=Re[0],Ue=Re[1],ke=Re[2],Ye=Re[3],xe=(0,w.g)();return Math.abs(Ce-Oe)<=xe*Math.max(1,Math.abs(Ce),Math.abs(Oe))&&Math.abs(Fe-Ue)<=xe*Math.max(1,Math.abs(Fe),Math.abs(Ue))&&Math.abs(Ne-ke)<=xe*Math.max(1,Math.abs(Ne),Math.abs(ke))&&Math.abs(Le-Ye)<=xe*Math.max(1,Math.abs(Le),Math.abs(Ye))}Object.freeze(Object.defineProperty({__proto__:null,add:B,ceil:function Z(Ie,Re){return Ie[0]=Math.ceil(Re[0]),Ie[1]=Math.ceil(Re[1]),Ie[2]=Math.ceil(Re[2]),Ie[3]=Math.ceil(Re[3]),Ie},copy:O,dist:te,distance:te,div:ee,divide:ee,dot:q,equals:le,exactEquals:_e,floor:function G(Ie,Re){return Ie[0]=Math.floor(Re[0]),Ie[1]=Math.floor(Re[1]),Ie[2]=Math.floor(Re[2]),Ie[3]=Math.floor(Re[3]),Ie},inverse:function z(Ie,Re){return Ie[0]=1/Re[0],Ie[1]=1/Re[1],Ie[2]=1/Re[2],Ie[3]=1/Re[3],Ie},len:V,length:V,lerp:oe,max:function ne(Ie,Re,Ce){return Ie[0]=Math.max(Re[0],Ce[0]),Ie[1]=Math.max(Re[1],Ce[1]),Ie[2]=Math.max(Re[2],Ce[2]),Ie[3]=Math.max(Re[3],Ce[3]),Ie},min:function Y(Ie,Re,Ce){return Ie[0]=Math.min(Re[0],Ce[0]),Ie[1]=Math.min(Re[1],Ce[1]),Ie[2]=Math.min(Re[2],Ce[2]),Ie[3]=Math.min(Re[3],Ce[3]),Ie},mul:re,multiply:re,negate:function $(Ie,Re){return Ie[0]=-Re[0],Ie[1]=-Re[1],Ie[2]=-Re[2],Ie[3]=-Re[3],Ie},normalize:J,random:function pe(Ie,Re){const Ce=w.R;let Fe,Ne,Le,Oe,Ue,ke;Re=Re||1;do{Fe=2*Ce()-1,Ne=2*Ce()-1,Ue=Fe*Fe+Ne*Ne}while(Ue>=1);do{Le=2*Ce()-1,Oe=2*Ce()-1,ke=Le*Le+Oe*Oe}while(ke>=1);const Ye=Math.sqrt((1-Ue)/ke);return Ie[0]=Re*Fe,Ie[1]=Re*Ne,Ie[2]=Re*Le*Ye,Ie[3]=Re*Oe*Ye,Ie},round:function ae(Ie,Re){return Ie[0]=Math.round(Re[0]),Ie[1]=Math.round(Re[1]),Ie[2]=Math.round(Re[2]),Ie[3]=Math.round(Re[3]),Ie},scale:se,scaleAndAdd:function ie(Ie,Re,Ce,Fe){return Ie[0]=Re[0]+Ce[0]*Fe,Ie[1]=Re[1]+Ce[1]*Fe,Ie[2]=Re[2]+Ce[2]*Fe,Ie[3]=Re[3]+Ce[3]*Fe,Ie},set:W,sqrDist:Q,sqrLen:U,squaredDistance:Q,squaredLength:U,str:function me(Ie){return"vec4("+Ie[0]+", "+Ie[1]+", "+Ie[2]+", "+Ie[3]+")"},sub:k,subtract:k,transformMat4:de,transformQuat:function be(Ie,Re,Ce){const Fe=Re[0],Ne=Re[1],Le=Re[2],Oe=Ce[0],Ue=Ce[1],ke=Ce[2],Ye=Ce[3],xe=Ye*Fe+Ue*Le-ke*Ne,We=Ye*Ne+ke*Fe-Oe*Le,Qe=Ye*Le+Oe*Ne-Ue*Fe,lt=-Oe*Fe-Ue*Ne-ke*Le;return Ie[0]=xe*Ye+lt*-Oe+We*-ke-Qe*-Ue,Ie[1]=We*Ye+lt*-Ue+Qe*-Oe-xe*-ke,Ie[2]=Qe*Ye+lt*-ke+xe*-Ue-We*-Oe,Ie[3]=Re[3],Ie}},Symbol.toStringTag,{value:"Module"}))},4794:(j,F,T)=>{"use strict";function w(){return[0,0,0,0]}function O($){return[$[0],$[1],$[2],$[3]]}function W($,z,J,q){return[$,z,J,q]}function B($){const z=[0,0,0,0],J=Math.min(4,$.length);for(let q=0;q<J;++q)z[q]=$[q];return z}function k($,z){return new Float64Array($,z,4)}function ee(){return W(1,1,1,1)}function Z(){return W(1,0,0,0)}function G(){return W(0,1,0,0)}function Y(){return W(0,0,1,0)}function ne(){return W(0,0,0,1)}T.d(F,{O:()=>se,Z:()=>ae,a:()=>k,b:()=>B,c:()=>w,d:()=>O,f:()=>W});const ae=[0,0,0,0],se=ee(),ie=Z(),te=G(),Q=Y(),V=ne();Object.freeze(Object.defineProperty({__proto__:null,ONES:se,UNIT_W:V,UNIT_X:ie,UNIT_Y:te,UNIT_Z:Q,ZEROS:ae,clone:O,create:w,createView:k,fromArray:B,fromValues:W,ones:ee,unitW:ne,unitX:Z,unitY:G,unitZ:Y,zeros:function re(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},20414:(j,F,T)=>{"use strict";T.d(F,{B7:()=>re,St:()=>O,VL:()=>B,h$:()=>W,rW:()=>ee});const w={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function O(Z){return w[Z]||w[Z.toLowerCase()]}function W(Z){return w[Z]??w[Z.toLowerCase()]}function B(Z){return[...W(Z)]}function k(Z,G,Y){Y<0&&++Y,Y>1&&--Y;const ne=6*Y;return ne<1?Z+(G-Z)*ne:2*Y<1?G:3*Y<2?Z+(G-Z)*(2/3-Y)*6:Z}function re(Z,G,Y,ne=1){const ae=(Z%360+360)%360/360,se=Y<=.5?Y*(G+1):Y+G-Y*G,ie=2*Y-se;return[Math.round(255*k(ie,se,ae+1/3)),Math.round(255*k(ie,se,ae)),Math.round(255*k(ie,se,ae-1/3)),ne]}function ee(Z){const G=Z.length>5,Y=G?8:4,ne=(1<<Y)-1,ae=G?1:17,se=G?9===Z.length:5===Z.length;let ie=Number("0x"+Z.substr(1));if(isNaN(ie))return null;const te=[0,0,0,1];let Q;return se&&(Q=ie&ne,ie>>=Y,te[3]=ae*Q/255),Q=ie&ne,ie>>=Y,te[2]=ae*Q,Q=ie&ne,ie>>=Y,te[1]=ae*Q,Q=ie&ne,ie>>=Y,te[0]=ae*Q,te}},59318:(j,F,T)=>{"use strict";T.d(F,{Z:()=>W}),T(8314);var O=T(94113);const W={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,O.RH)(W,globalThis.esriConfig,!0),delete W.has),W.assetsPath||(W.assetsPath=`https://js.arcgis.com/${"4.26.5".slice(0,-2)}/@arcgis/core/assets`,W.defaultAssetsPath=W.assetsPath)},14517:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ce});var w=T(72392),O=T(62208),W=T(5901),B=T(34595),k=T(34117),ee=(T(8314),T(58817)),Z=T(63290),G=T(27899),Y=T(44648),ne=T(7894),ae=T(31283),se=T(36082),ie=T(2345);class te{constructor(Pe,Ie,Re){this.properties=Pe,this.propertyName=Ie,this.metadata=Re,this.observerObject=new Q,this._accessed=null,this._handles=null,this.observerObject.flags=ie.v.Dirty|(Re.nonNullable?ie.v.NonNullable:0)|(Re.hasOwnProperty("value")?ie.v.HasDefaultValue:0)|(void 0===Re.get?ie.v.DepTrackingInitialized:0)|(void 0===Re.dependsOn?ie.v.AutoTracked:0),V.register(this,this.observerObject)}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles(),V.unregister(this)}getComputed(){const Pe=this.observerObject;(0,se.it)(Pe);const Ie=this.properties.store,Re=this.propertyName,Ce=Pe.flags,Fe=Ie.get(Re);if(Ce&ie.v.Computing||~Ce&ie.v.Dirty&&Ie.has(Re))return Fe;Pe.flags|=ie.v.Computing;const Ne=this.properties.host;let Le;Ce&ie.v.AutoTracked?Le=(0,se.LJ)(this,this.metadata.get,Ne):((0,se.GF)(Ne,this),Le=this.metadata.get.call(Ne)),Ie.set(Re,Le,ae.s3.COMPUTED);const Oe=Ie.get(Re);return Oe===Fe?Pe.flags&=~ie.v.Dirty:(0,se.gb)(this.commit,this),Pe.flags&=~ie.v.Computing,Oe}onObservableAccessed(Pe){Pe!==this.observerObject&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(Pe)||this._accessed.push(Pe))}onTrackingEnd(){this._clearObservationHandles();const Pe=this.observerObject;Pe.flags|=ie.v.DepTrackingInitialized;const Ie=this._accessed;if(null===Ie)return;let Re=this._handles;null===Re&&(Re=this._handles=[]);for(let Ce=0;Ce<Ie.length;++Ce)Re.push(Ie[Ce].observe(Pe));Ie.length=0}notifyChange(){const Pe=this.observerObject;Pe.onInvalidated(),Pe.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const Pe=this.observerObject;Pe.flags&=~ie.v.Dirty,Pe.onCommitted()}_clearObservationHandles(){const Pe=this._handles;if(null!==Pe){for(let Ie=0;Ie<Pe.length;++Ie)Pe[Ie].remove();Pe.length=0}}}class Q extends ne.s{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&ie.v.Overriden&&(this.flags|=ie.v.Dirty);const Pe=this._observers;if(Pe&&Pe.length>0)for(const Ie of Pe)Ie.onInvalidated()}onCommitted(){const Pe=this._observers;if(Pe&&Pe.length>0){const Ie=Pe.slice();for(const Re of Ie)Re.onCommitted()}}destroy(){this.flags&ie.v.Dirty&&this.onCommitted(),super.destroy()}}const V=new FinalizationRegistry(ge=>{ge.destroy()});class U{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(Pe){const Ie=new U;return this._values.forEach((Re,Ce)=>{Pe&&Pe.has(Ce)||Ie.set(Ce,(0,ee.d9)(Re))}),Ie}get(Pe){return this._values.get(Pe)}originOf(){return ae.s3.USER}keys(){return[...this._values.keys()]}set(Pe,Ie){this._values.set(Pe,Ie)}delete(Pe){this._values.delete(Pe)}has(Pe){return this._values.has(Pe)}forEach(Pe){this._values.forEach(Pe)}}var $=T(52323);function z(ge,Pe,Ie){return void 0!==ge}function J(ge,Pe,Ie,Re){return!(void 0===ge||null==Ie&&ge.observerObject.flags&ie.v.NonNullable)}Z.Z.getLogger("esri.core.accessorSupport.Properties");class oe{constructor(Pe){this.host=Pe,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Y.F.INITIALIZING,this.store=new U,this._origin=ae.s3.USER;const Ie=(0,O.j0)(this.host.constructor.__accessorMetadata__);for(const Re in Ie){const Ce=new te(this,Re,Ie[Re]);this.properties.set(Re,Ce)}this.metadatas=Ie}initialize(){this.lifecycle=Y.F.CONSTRUCTING}constructed(){this.lifecycle=Y.F.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[Pe,Ie]of this.properties){if(Ie.metadata.autoDestroy){const Re=this.internalGet(Pe);Re&&(ge=Re)&&"function"==typeof ge.destroy&&(Re.destroy(),~Ie.observerObject.flags&ie.v.NonNullable&&this._internalSet(Ie,null))}Ie.destroy()}var ge}get initialized(){return this.lifecycle!==Y.F.INITIALIZING}get(Pe){const Ie=this.properties.get(Pe);if(Ie.metadata.get)return Ie.getComputed();(0,se.it)(Ie.observerObject);const Re=this.store;return Re.has(Pe)?Re.get(Pe):Ie.metadata.value}originOf(Pe){const Ie=this.store.originOf(Pe);if(void 0===Ie){const Re=this.properties.get(Pe);if(void 0!==Re&&Re.observerObject.flags&ie.v.HasDefaultValue)return"defaults"}return(0,ae.x3)(Ie)}has(Pe){return!!this.properties.has(Pe)&&this.store.has(Pe)}keys(){return[...this.properties.keys()]}internalGet(Pe){const Ie=this.properties.get(Pe);if(z(Ie))return this.store.has(Pe)?this.store.get(Pe):Ie.metadata.value}internalSet(Pe,Ie){const Re=this.properties.get(Pe);z(Re)&&this._internalSet(Re,Ie)}getDependsInfo(Pe,Ie,Re){const Ce=this.properties.get(Ie);if(!z(Ce))return"";const Fe=new Set,Ne=(0,se.LJ)({onObservableAccessed:Oe=>Fe.add(Oe),onTrackingEnd:()=>{}},()=>Ce.metadata.get?.call(Pe));let Le=`${Re}${Pe.declaredClass.split(".").pop()}.${Ie}: ${Ne}\n`;if(0===Fe.size)return Le;Re+="  ";for(const Oe of Fe){if(!(Oe instanceof te))continue;const Ue=Oe.properties.host,ke=Oe.propertyName,Ye=(0,$.vw)(Ue);Le+=Ye?Ye.getDependsInfo(Ue,ke,Re):`${Re}${ke}: undefined\n`}return Le}setAtOrigin(Pe,Ie,Re){const Ce=this.properties.get(Pe);if(z(Ce))return this._setAtOrigin(Ce,Ie,Re)}isOverridden(Pe){const Ie=this.properties.get(Pe);return void 0!==Ie&&!!(Ie.observerObject.flags&ie.v.Overriden)}clearOverride(Pe){const Ie=this.properties.get(Pe),Re=Ie?.observerObject;Re&&Re.flags&ie.v.Overriden&&(Re.flags&=~ie.v.Overriden,Ie.notifyChange())}override(Pe,Ie){const Re=this.properties.get(Pe);if(!J(Re,0,Ie))return;const Ce=Re.metadata.cast;if(Ce){const Fe=this._cast(Ce,Ie),{valid:Ne,value:Le}=Fe;if(de.release(Fe),!Ne)return;Ie=Le}Re.observerObject.flags|=ie.v.Overriden,this._internalSet(Re,Ie)}set(Pe,Ie){const Re=this.properties.get(Pe);if(!J(Re,0,Ie))return;const Ce=Re.metadata.cast;if(Ce){const Ne=this._cast(Ce,Ie),{valid:Le,value:Oe}=Ne;if(de.release(Ne),!Le)return;Ie=Oe}const Fe=Re.metadata.set;Fe?Fe.call(this.host,Ie):this._internalSet(Re,Ie)}setDefaultOrigin(Pe){this._origin=(0,ae.M9)(Pe)}getDefaultOrigin(){return(0,ae.x3)(this._origin)}notifyChange(Pe){const Ie=this.properties.get(Pe);void 0!==Ie&&Ie.notifyChange()}invalidate(Pe){const Ie=this.properties.get(Pe);void 0!==Ie&&Ie.invalidate()}commit(Pe){const Ie=this.properties.get(Pe);void 0!==Ie&&Ie.commit()}_internalSet(Pe,Ie){this._setAtOrigin(Pe,Ie,this.lifecycle!==Y.F.INITIALIZING?this._origin:ae.s3.DEFAULTS)}_setAtOrigin(Pe,Ie,Re){const Ce=this.store,Fe=Pe.propertyName;Ce.has(Fe,Re)&&(0,ee.fS)(Ie,Ce.get(Fe))&&~Pe.observerObject.flags&ie.v.Overriden&&Re===Ce.originOf(Fe)||(Pe.invalidate(),Ce.set(Fe,Ie,Re),Pe.commit(),(0,se.mS)(this.host,Pe))}_cast(Pe,Ie){const Re=de.acquire();return Re.valid=!0,Re.value=Ie,Pe&&(Re.value=Pe.call(this.host,Ie,Re)),Re}}const de=new G.Z(class pe{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var fe,Ee,be=T(82255),me=T(30755),_e=T(77712),le=T(76898);function ye(ge){if(null==ge)return{value:ge};if(Array.isArray(ge))return{type:[ge[0]],value:null};switch(typeof ge){case"object":return ge.constructor?.__accessorMetadata__||ge instanceof Date?{type:ge.constructor,value:ge}:ge;case"boolean":return{type:Boolean,value:ge};case"string":return{type:String,value:ge};case"number":return{type:Number,value:ge};case"function":return{type:ge,value:null};default:return}}const ue=Symbol("Accessor-Handles"),Me=Symbol("Accessor-Initialized");class ce{static createSubclass(Pe={}){if(Array.isArray(Pe))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:Ie,declaredClass:Re,constructor:Ce}=Pe;delete Pe.declaredClass,delete Pe.properties,delete Pe.constructor;const Fe=this;class Ne extends Fe{constructor(...Oe){super(...Oe),this.inherited=null,Ce&&Ce.apply(this,Oe)}}(0,k.fp)(Ne.prototype);for(const Le in Pe){const Oe=Pe[Le];Ne.prototype[Le]="function"==typeof Oe?function(...Ue){const ke=this.inherited;let Ye;this.inherited=function(...xe){if(Fe.prototype[Le])return Fe.prototype[Le].apply(this,xe)};try{Ye=Oe.apply(this,Ue)}catch(xe){throw this.inherited=ke,xe}return this.inherited=ke,Ye}:Pe[Le]}for(const Le in Ie){const Oe=ye(Ie[Le]);(0,_e.Cb)(Oe)(Ne.prototype,Le)}return(0,le.j)(Re)(Ne)}constructor(...Pe){if(this[fe]=null,this[Ee]=!1,this.constructor===ce)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new oe(this)}),Pe.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,Pe))}postscript(Pe){const Ie=this.__accessor__,Re=Ie.ctorArgs||Pe;Ie.initialize(),Re&&(this.set(Re),Ie.ctorArgs=null),Ie.constructed(),this.initialize(),this[Me]=!0}initialize(){}[W.F](){this[ue]=(0,O.SC)(this[ue])}destroy(){this.destroyed||((0,me.BT)(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Me]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(Pe){this.get(Pe)}get(Pe){return(0,B.U2)(this,Pe)}hasOwnProperty(Pe){return this.__accessor__?this.__accessor__.has(Pe):Object.prototype.hasOwnProperty.call(this,Pe)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(Pe,Ie){return(0,be.t)(this,Pe,Ie),this}watch(Pe,Ie,Re){return(0,me.YP)(this,Pe,Ie,Re)}own(Pe){this.addHandles(Pe)}addHandles(Pe,Ie){let Re=this[ue];(0,O.Wi)(Re)&&(Re=this[ue]=new w.Z),Re.add(Pe,Ie)}removeHandles(Pe){const Ie=this[ue];(0,O.Wi)(Ie)||Ie.remove(Pe)}hasHandles(Pe){const Ie=this[ue];return!!(0,O.pC)(Ie)&&Ie.has(Pe)}_override(Pe,Ie){void 0===Ie?this.__accessor__.clearOverride(Pe):this.__accessor__.override(Pe,Ie)}_clearOverride(Pe){return this.__accessor__.clearOverride(Pe)}_overrideIfSome(Pe,Ie){null==Ie?this.__accessor__.clearOverride(Pe):this.__accessor__.override(Pe,Ie)}_isOverridden(Pe){return this.__accessor__.isOverridden(Pe)}notifyChange(Pe){this.__accessor__.notifyChange(Pe)}_get(Pe){return this.__accessor__.internalGet(Pe)}_set(Pe,Ie){return this.__accessor__.internalSet(Pe,Ie),this}}fe=ue,Ee=Me},35575:(j,F,T)=>{"use strict";T.d(F,{Z:()=>W});var w=T(27899);function O(k){k.length=0}class W{constructor(re=50,ee=50){this._pool=new w.Z(Array,void 0,O,ee,re)}acquire(){return this._pool.acquire()}release(re){this._pool.release(re)}prune(){this._pool.prune(0)}static acquire(){return B.acquire()}static release(re){return B.release(re)}static prune(){B.prune()}}const B=new W(100)},79608:(j,F,T)=>{"use strict";T.d(F,{J:()=>Y,j:()=>ne});var w=T(17626),O=T(14517),B=(T(8314),T(58817)),re=(T(63290),T(62208)),ee=T(31283),Z=T(52323),G=T(76898);const Y=ae=>{let se=class extends ae{clone(){const ie=(0,re.s3)((0,Z.vw)(this),"unable to clone instance of non-accessor class"),te=ie.metadatas,Q=ie.store,V={},U=new Map;for(const z in te){const J=te[z],q=Q?.originOf(z),oe=J.clonable;if(J.readOnly||!1===oe||q!==ee.s3.USER&&q!==ee.s3.DEFAULTS&&q!==ee.s3.WEB_MAP&&q!==ee.s3.WEB_SCENE)continue;const pe=this[z];let de=null;de="function"==typeof oe?oe(pe):"reference"===oe?pe:(0,B.Vo)(pe),null!=pe&&null==de||(q===ee.s3.DEFAULTS?U.set(z,de):V[z]=de)}const $=new(Object.getPrototypeOf(this).constructor)(V);if(U.size){const z=(0,Z.vw)($)?.store;if(z)for(const[J,q]of U)z.set(J,q,ee.s3.DEFAULTS)}return $}};return se=(0,w._)([(0,G.j)("esri.core.Clonable")],se),se};let ne=class extends(Y(O.Z)){};ne=(0,w._)([(0,G.j)("esri.core.Clonable")],ne)},74333:(j,F,T)=>{"use strict";T.d(F,{Z:()=>le});var ee,fe,w=T(17626),O=T(35575),W=T(61885),B=T(58817),k=T(62208),re=T(27899);(fe=ee||(ee={}))[fe.ADD=1]="ADD",fe[fe.REMOVE=2]="REMOVE",fe[fe.MOVE=4]="MOVE";var te,Z=T(50618),G=T(77712),Y=T(90912),ne=T(61039),ae=T(76898),se=T(36082),ie=T(48902);const V=new re.Z(class Q{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(Ee){this.defaultPrevented=!1,this.item=Ee}},void 0,fe=>{fe.item=null,fe.target=null,fe.defaultPrevented=!1,fe.cancellable=!1}),U=()=>{};function $(fe){return fe?fe instanceof _e?fe.toArray():fe.length?Array.prototype.slice.apply(fe):[]:[]}function z(fe){if(fe&&fe.length)return fe[0]}function J(fe,Ee,ye,ue){const Me=Math.min(fe.length-ye,Ee.length-ue);let ce=0;for(;ce<Me&&fe[ye+ce]===Ee[ue+ce];)ce++;return ce}function q(fe,Ee,ye,ue){Ee&&Ee.forEach((Me,ce,ge)=>{fe.push(Me),q(fe,ye.call(ue,Me,ce,ge),ye,ue)})}const oe=new Set,pe=new Set,de=new Set,be=new Map;let me=0,_e=te=class extends W.Z.EventedAccessor{static isCollection(fe){return null!=fe&&fe instanceof te}constructor(fe){super(fe),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new ie.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:me++})}normalizeCtorArgs(fe){return fe?Array.isArray(fe)||fe instanceof te?{items:fe}:fe:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,se.it)(this._observable),this._items}set items(fe){this._emitBeforeChanges(ee.ADD)||(this._splice(0,this.length,$(fe)),this._emitAfterChanges(ee.ADD))}hasEventListener(fe){return"change"===fe?this._chgListeners.length>0:this._emitter.hasEventListener(fe)}on(fe,Ee){if("change"===fe){const ye=this._chgListeners,ue={removed:!1,callback:Ee};return ye.push(ue),this._notifications&&this._notifications.push({listeners:ye.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=U,ue.removed=!0,ye.splice(ye.indexOf(ue),1)}}}return this._emitter.on(fe,Ee)}once(fe,Ee){const ye=this.on(fe,Ee);return{remove(){ye.remove()}}}add(fe,Ee){if((0,se.it)(this._observable),this._emitBeforeChanges(ee.ADD))return this;const ye=this.getNextIndex(Ee??null);return this._splice(ye,0,[fe]),this._emitAfterChanges(ee.ADD),this}addMany(fe,Ee=this._items.length){if((0,se.it)(this._observable),!fe||!fe.length)return this;if(this._emitBeforeChanges(ee.ADD))return this;const ye=this.getNextIndex(Ee);return this._splice(ye,0,$(fe)),this._emitAfterChanges(ee.ADD),this}at(fe){if((0,se.it)(this._observable),(fe=Math.trunc(fe)||0)<0&&(fe+=this.length),!(fe<0||fe>=this.length))return this._items[fe]}removeAll(){if((0,se.it)(this._observable),!this.length||this._emitBeforeChanges(ee.REMOVE))return[];const fe=this._splice(0,this.length)||[];return this._emitAfterChanges(ee.REMOVE),fe}clone(){return(0,se.it)(this._observable),this._createNewInstance({items:this._items.map(B.d9)})}concat(...fe){(0,se.it)(this._observable);const Ee=fe.map($);return this._createNewInstance({items:this._items.concat(...Ee)})}drain(fe,Ee){if((0,se.it)(this._observable),!this.length||this._emitBeforeChanges(ee.REMOVE))return;const ye=(0,k.j0)(this._splice(0,this.length)),ue=ye.length;for(let Me=0;Me<ue;Me++)fe.call(Ee,ye[Me],Me,ye);this._emitAfterChanges(ee.REMOVE)}every(fe,Ee){return(0,se.it)(this._observable),this._items.every(fe,Ee)}filter(fe,Ee){let ye;return(0,se.it)(this._observable),ye=2===arguments.length?this._items.filter(fe,Ee):this._items.filter(fe),this._createNewInstance({items:ye})}find(fe,Ee){return(0,se.it)(this._observable),this._items.find(fe,Ee)}findIndex(fe,Ee){return(0,se.it)(this._observable),this._items.findIndex(fe,Ee)}flatten(fe,Ee){(0,se.it)(this._observable);const ye=[];return q(ye,this,fe,Ee),new te(ye)}forEach(fe,Ee){return(0,se.it)(this._observable),this._items.forEach(fe,Ee)}getItemAt(fe){return(0,se.it)(this._observable),this._items[fe]}getNextIndex(fe){(0,se.it)(this._observable);const Ee=this.length;return(fe=fe??Ee)<0?fe=0:fe>Ee&&(fe=Ee),fe}includes(fe,Ee=0){return(0,se.it)(this._observable),this._items.includes(fe,Ee)}indexOf(fe,Ee=0){return(0,se.it)(this._observable),this._items.indexOf(fe,Ee)}join(fe=","){return(0,se.it)(this._observable),this._items.join(fe)}lastIndexOf(fe,Ee=this.length-1){return(0,se.it)(this._observable),this._items.lastIndexOf(fe,Ee)}map(fe,Ee){(0,se.it)(this._observable);const ye=this._items.map(fe,Ee);return new te({items:ye})}reorder(fe,Ee=this.length-1){(0,se.it)(this._observable);const ye=this.indexOf(fe);if(-1!==ye){if(Ee<0?Ee=0:Ee>=this.length&&(Ee=this.length-1),ye!==Ee){if(this._emitBeforeChanges(ee.MOVE))return fe;this._splice(ye,1),this._splice(Ee,0,[fe]),this._emitAfterChanges(ee.MOVE)}return fe}}pop(){if((0,se.it)(this._observable),!this.length||this._emitBeforeChanges(ee.REMOVE))return;const fe=z(this._splice(this.length-1,1));return this._emitAfterChanges(ee.REMOVE),fe}push(...fe){return(0,se.it)(this._observable),this._emitBeforeChanges(ee.ADD)||(this._splice(this.length,0,fe),this._emitAfterChanges(ee.ADD)),this.length}reduce(fe,Ee){(0,se.it)(this._observable);const ye=this._items;return 2===arguments.length?ye.reduce(fe,Ee):ye.reduce(fe)}reduceRight(fe,Ee){(0,se.it)(this._observable);const ye=this._items;return 2===arguments.length?ye.reduceRight(fe,Ee):ye.reduceRight(fe)}remove(fe){return(0,se.it)(this._observable),this.removeAt(this.indexOf(fe))}removeAt(fe){if((0,se.it)(this._observable),fe<0||fe>=this.length||this._emitBeforeChanges(ee.REMOVE))return;const Ee=z(this._splice(fe,1));return this._emitAfterChanges(ee.REMOVE),Ee}removeMany(fe){if((0,se.it)(this._observable),!fe||!fe.length||this._emitBeforeChanges(ee.REMOVE))return[];const Ee=fe instanceof te?fe.toArray():fe,ye=this._items,ue=[],Me=Ee.length;for(let ce=0;ce<Me;ce++){const Pe=ye.indexOf(Ee[ce]);if(Pe>-1){const Ie=1+J(Ee,ye,ce+1,Pe+1),Re=this._splice(Pe,Ie);Re&&Re.length>0&&ue.push.apply(ue,Re),ce+=Ie-1}}return this._emitAfterChanges(ee.REMOVE),ue}reverse(){if((0,se.it)(this._observable),this._emitBeforeChanges(ee.MOVE))return this;const fe=this._splice(0,this.length);return fe&&(fe.reverse(),this._splice(0,0,fe)),this._emitAfterChanges(ee.MOVE),this}shift(){if((0,se.it)(this._observable),!this.length||this._emitBeforeChanges(ee.REMOVE))return;const fe=z(this._splice(0,1));return this._emitAfterChanges(ee.REMOVE),fe}slice(fe=0,Ee=this.length){return(0,se.it)(this._observable),this._createNewInstance({items:this._items.slice(fe,Ee)})}some(fe,Ee){return(0,se.it)(this._observable),this._items.some(fe,Ee)}sort(fe){if((0,se.it)(this._observable),!this.length||this._emitBeforeChanges(ee.MOVE))return this;const Ee=(0,k.j0)(this._splice(0,this.length));return arguments.length?Ee.sort(fe):Ee.sort(),this._splice(0,0,Ee),this._emitAfterChanges(ee.MOVE),this}splice(fe,Ee,...ye){(0,se.it)(this._observable);const ue=(Ee?ee.REMOVE:0)|(ye.length?ee.ADD:0);if(this._emitBeforeChanges(ue))return[];const Me=this._splice(fe,Ee,ye)||[];return this._emitAfterChanges(ue),Me}toArray(){return(0,se.it)(this._observable),this._items.slice()}toJSON(){return(0,se.it)(this._observable),this.toArray()}toLocaleString(){return(0,se.it)(this._observable),this._items.toLocaleString()}toString(){return(0,se.it)(this._observable),this._items.toString()}unshift(...fe){return(0,se.it)(this._observable),!fe.length||this._emitBeforeChanges(ee.ADD)||(this._splice(0,0,fe),this._emitAfterChanges(ee.ADD)),this.length}_createNewInstance(fe){return new this.constructor(fe)}_splice(fe,Ee,ye){const ue=this._items,Me=this.itemType;let ce,ge;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,Z.Os)(()=>this._dispatchChange())),Ee){if(ge=ue.splice(fe,Ee),this.hasEventListener("before-remove")){const Pe=V.acquire();Pe.target=this,Pe.cancellable=!0;for(let Ie=0,Re=ge.length;Ie<Re;Ie++)ce=ge[Ie],Pe.reset(ce),this.emit("before-remove",Pe),Pe.defaultPrevented&&(ge.splice(Ie,1),ue.splice(fe,0,ce),fe+=1,Ie-=1,Re-=1);V.release(Pe)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const Pe=V.acquire();Pe.target=this,Pe.cancellable=!1;const Ie=ge.length;for(let Re=0;Re<Ie;Re++)Pe.reset(ge[Re]),this.emit("after-remove",Pe);V.release(Pe)}}if(ye&&ye.length){if(Me){const Ce=[];for(const Fe of ye){const Ne=Me.ensureType(Fe);null==Ne&&null!=Fe||Ce.push(Ne)}ye=Ce}const Pe=this.hasEventListener("before-add"),Ie=this.hasEventListener("after-add"),Re=fe===this.length;if(Pe||Ie){const Ce=V.acquire();Ce.target=this,Ce.cancellable=!0;const Fe=V.acquire();Fe.target=this,Fe.cancellable=!1;for(const Ne of ye)Pe?(Ce.reset(Ne),this.emit("before-add",Ce),Ce.defaultPrevented||(Re?ue.push(Ne):ue.splice(fe++,0,Ne),this._set("length",ue.length),Ie&&(Fe.reset(Ne),this.emit("after-add",Fe)))):(Re?ue.push(Ne):ue.splice(fe++,0,Ne),this._set("length",ue.length),Fe.reset(Ne),this.emit("after-add",Fe));V.release(Fe),V.release(Ce)}else{if(Re)for(const Ce of ye)ue.push(Ce);else ue.splice(fe,0,...ye);this._set("length",ue.length)}}return(ye&&ye.length||ge&&ge.length)&&this._notifyChangeEvent(ye,ge),ge}_emitBeforeChanges(fe){let Ee=!1;if(this.hasEventListener("before-changes")){const ye=V.acquire();ye.target=this,ye.cancellable=!0,ye.type=fe,this.emit("before-changes",ye),Ee=ye.defaultPrevented,V.release(ye)}return Ee}_emitAfterChanges(fe){if(this.hasEventListener("after-changes")){const Ee=V.acquire();Ee.target=this,Ee.cancellable=!1,Ee.type=fe,this.emit("after-changes",Ee),V.release(Ee)}this._observable.notify()}_notifyChangeEvent(fe,Ee){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:fe,removed:Ee})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const fe=this._notifications;this._notifications=null;for(const Ee of fe){const ye=Ee.changes;oe.clear(),pe.clear(),de.clear();for(const{added:Ie,removed:Re}of ye){if(Ie)if(0===de.size&&0===pe.size)for(const Ce of Ie)oe.add(Ce);else for(const Ce of Ie)pe.has(Ce)?(de.add(Ce),pe.delete(Ce)):de.has(Ce)||oe.add(Ce);if(Re)if(0===de.size&&0===oe.size)for(const Ce of Re)pe.add(Ce);else for(const Ce of Re)oe.has(Ce)?oe.delete(Ce):(de.delete(Ce),pe.add(Ce))}const ue=O.Z.acquire();oe.forEach(Ie=>{ue.push(Ie)});const Me=O.Z.acquire();pe.forEach(Ie=>{Me.push(Ie)});const ce=this._items,ge=Ee.items,Pe=O.Z.acquire();if(de.forEach(Ie=>{ge.indexOf(Ie)!==ce.indexOf(Ie)&&Pe.push(Ie)}),Ee.listeners&&(ue.length||Me.length||Pe.length)){const Ie={target:this,added:ue,removed:Me,moved:Pe},Re=Ee.listeners.length;for(let Ce=0;Ce<Re;Ce++){const Fe=Ee.listeners[Ce];Fe.removed||Fe.callback.call(this,Ie)}}O.Z.release(ue),O.Z.release(Me),O.Z.release(Pe)}oe.clear(),pe.clear(),de.clear()}};_e.ofType=fe=>{if(!fe)return te;if(be.has(fe))return be.get(fe);let Ee=null;if("function"==typeof fe)Ee=fe.prototype.declaredClass;else if(fe.base)Ee=fe.base.prototype.declaredClass;else for(const ue in fe.typeMap){const Me=fe.typeMap[ue].prototype.declaredClass;Ee?Ee+=` | ${Me}`:Ee=Me}let ye=class extends te{};return(0,w._)([(0,ne.c)({Type:fe,ensureType:"function"==typeof fe?(0,Y.se)(fe):(0,Y.N7)(fe)})],ye.prototype,"itemType",void 0),ye=(0,w._)([(0,ae.j)(`esri.core.Collection<${Ee}>`)],ye),be.set(fe,ye),ye},(0,w._)([(0,G.Cb)()],_e.prototype,"length",void 0),(0,w._)([(0,G.Cb)()],_e.prototype,"items",null),_e=te=(0,w._)([(0,ae.j)("esri.core.Collection")],_e);const le=_e},46882:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var w=T(17626),O=T(74333),W=T(62208),Z=(T(8314),T(26584),T(63290),T(30755),T(21352)),G=T(77712),ae=(T(90912),T(85931),T(76898));let se=class extends O.Z{constructor(te){super(te),this.getCollections=null}initialize(){this.own((0,Z.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const te=(0,W.pC)(this.getCollections)?this.getCollections():null;if((0,W.Wi)(te))return void this.removeAll();let Q=0;for(const V of te)(0,W.pC)(V)&&(Q=this._processCollection(Q,V));this.splice(Q,this.length)}_createNewInstance(te){return new O.Z(te)}_processCollection(te,Q){if(!Q)return te;const V=this.itemFilterFunction?this.itemFilterFunction:U=>!!U;for(const U of Q)if(U){if(V(U)){const $=this.indexOf(U,te);$>=0?$!==te&&this.reorder(U,te):this.add(U,te),++te}if(this.getChildrenFunction){const $=this.getChildrenFunction(U);if(Array.isArray($))for(const z of $)te=this._processCollection(te,z);else te=this._processCollection(te,$)}}return te}};(0,w._)([(0,G.Cb)()],se.prototype,"getCollections",void 0),(0,w._)([(0,G.Cb)()],se.prototype,"getChildrenFunction",void 0),(0,w._)([(0,G.Cb)()],se.prototype,"itemFilterFunction",void 0),se=(0,w._)([(0,ae.j)("esri.core.CollectionFlattener")],se);const ie=se},23719:(j,F,T)=>{"use strict";T.d(F,{BV:()=>re,Q4:()=>k});var w=T(21286);class O{constructor(Z,G){this.min=Z,this.max=G,this.range=G-Z}ndiff(Z,G=0){return Math.ceil((Z-G)/this.range)*this.range+G}_normalize(Z,G,Y,ne=0,ae=!1){return(Y-=ne)<Z?Y+=this.ndiff(Z-Y):Y>G&&(Y-=this.ndiff(Y-G)),ae&&Y===G&&(Y=Z),Y+ne}normalize(Z,G=0,Y=!1){return this._normalize(this.min,this.max,Z,G,Y)}clamp(Z,G=0){return(0,w.uZ)(Z-G,this.min,this.max)+G}monotonic(Z,G,Y){return Z<G?G:G+this.ndiff(Z-G,Y)}minimalMonotonic(Z,G,Y){return this._normalize(Z,Z+this.range,G,Y)}center(Z,G,Y){return G=this.monotonic(Z,G,Y),this.normalize((Z+G)/2,Y)}diff(Z,G,Y){return this.monotonic(Z,G,Y)-Z}shortestSignedDiff(Z,G){Z=this.normalize(Z);const Y=(G=this.normalize(G))-Z,ne=G<Z?this.minimalMonotonic(Z,G)-Z:G-this.minimalMonotonic(G,Z);return Math.abs(Y)<Math.abs(ne)?Y:ne}contains(Z,G,Y){return G=this.minimalMonotonic(Z,G),(Y=this.minimalMonotonic(Z,Y))>Z&&Y<G}}function W(ee){for(const Z in ee){const G=ee[Z];G instanceof Function&&(ee[Z]=G.bind(ee))}return ee}W(new O(0,2*Math.PI));const k=W(new O(-Math.PI,Math.PI)),re=W(new O(0,360))},26584:(j,F,T)=>{"use strict";T.d(F,{Z:()=>B});var w=T(58817),O=T(63290),W=T(90888);class B extends W.Z{constructor(re,ee,Z){if(super(re,ee,Z),!(this instanceof B))return new B(re,ee,Z)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(re,ee)=>{if(ee&&"object"==typeof ee&&"function"==typeof ee.toJSON)return ee;try{return(0,w.d9)(ee)}catch{return"[object]"}}))}}catch(re){throw O.Z.getLogger("esri.core.Error").error(re),re}return{name:this.name,message:this.message,details:this.details}}static fromJSON(re){return new B(re.name,re.message,re.details)}}B.prototype.type="error"},61885:(j,F,T)=>{"use strict";T.d(F,{Z:()=>re});var w=T(17626),O=T(14517),W=T(54024),B=T(76898);class k{constructor(){this._emitter=new k.EventEmitter(this)}emit(Z,G){return this._emitter.emit(Z,G)}on(Z,G){return this._emitter.on(Z,G)}once(Z,G){return this._emitter.once(Z,G)}hasEventListener(Z){return this._emitter.hasEventListener(Z)}}!function(ee){class Z{constructor(ne=null){this._target=ne,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(ne,ae){const se=this._listenersMap&&this._listenersMap.get(ne);if(!se)return!1;const ie=this._target||this;return[...se].forEach(te=>{te.call(ie,ae)}),se.length>0}on(ne,ae){if(Array.isArray(ne)){const ie=ne.map(te=>this.on(te,ae));return(0,W.AL)(ie)}if(ne.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const se=this._listenersMap.get(ne)||[];return se.push(ae),this._listenersMap.set(ne,se),{remove:()=>{const ie=this._listenersMap&&this._listenersMap.get(ne)||[],te=ie.indexOf(ae);te>=0&&ie.splice(te,1)}}}once(ne,ae){const se=this.on(ne,ie=>{se.remove(),ae.call(null,ie)});return se}hasEventListener(ne){const ae=this._listenersMap&&this._listenersMap.get(ne);return null!=ae&&ae.length>0}}ee.EventEmitter=Z,ee.EventedMixin=Y=>{let ne=class extends Y{constructor(){super(...arguments),this._emitter=new Z}destroy(){this._emitter.clear()}emit(ae,se){return this._emitter.emit(ae,se)}on(ae,se){return this._emitter.on(ae,se)}once(ae,se){return this._emitter.once(ae,se)}hasEventListener(ae){return this._emitter.hasEventListener(ae)}};return ne=(0,w._)([(0,B.j)("esri.core.Evented")],ne),ne};let G=class extends O.Z{constructor(){super(...arguments),this._emitter=new k.EventEmitter(this)}destroy(){this._emitter.clear()}emit(Y,ne){return this._emitter.emit(Y,ne)}on(Y,ne){return this._emitter.on(Y,ne)}once(Y,ne){return this._emitter.once(Y,ne)}hasEventListener(Y){return this._emitter.hasEventListener(Y)}};G=(0,w._)([(0,B.j)("esri.core.Evented")],G),ee.EventedAccessor=G}(k||(k={}));const re=k},80542:(j,F,T)=>{"use strict";T.d(F,{p:()=>ee,r:()=>Z});var w=T(17626),O=T(14517),W=T(72392),B=T(77712),k=T(76898),re=T(17760);const ee=G=>{let Y=class extends G{destroy(){this.destroyed||(this._get("handles")?.destroy(),this._get("updatingHandles")?.destroy())}get handles(){return this._get("handles")||new W.Z}get updatingHandles(){return this._get("updatingHandles")||new re.t}};return(0,w._)([(0,B.Cb)({readOnly:!0})],Y.prototype,"handles",null),(0,w._)([(0,B.Cb)({readOnly:!0})],Y.prototype,"updatingHandles",null),Y=(0,w._)([(0,k.j)("esri.core.HandleOwner")],Y),Y};let Z=class extends(ee(O.Z)){};Z=(0,w._)([(0,k.j)("esri.core.HandleOwner")],Z)},72392:(j,F,T)=>{"use strict";T.d(F,{Z:()=>W});var w=T(56354),O=T(62208);class W{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let k=0;return this._groups.forEach(re=>{k+=re.length}),k}add(k,re){if((0,w.TW)(k)){const ee=this._getOrCreateGroup(re);for(const Z of k)this._isHandle(Z)&&ee.push(Z)}else this._isHandle(k)&&this._getOrCreateGroup(re).push(k);return this}forEach(k,re){if("function"==typeof k)this._groups.forEach(ee=>ee.forEach(k));else{const ee=this._getGroup(k);ee&&re&&ee.forEach(re)}}has(k){return this._groups.has(this._ensureGroupKey(k))}remove(k){if("string"!=typeof k&&(0,w.TW)(k)){for(const re of k)this.remove(re);return this}return this.has(k)?(this._removeAllFromGroup(this._getGroup(k)),this._groups.delete(this._ensureGroupKey(k)),this):this}removeAll(){return this._groups.forEach(k=>this._removeAllFromGroup(k)),this._groups.clear(),this}_isHandle(k){return k&&!!k.remove}_getOrCreateGroup(k){if(this.has(k))return this._getGroup(k);const re=[];return this._groups.set(this._ensureGroupKey(k),re),re}_getGroup(k){return(0,O.j0)(this._groups.get(this._ensureGroupKey(k)))}_ensureGroupKey(k){return k||"_default_"}_removeAllFromGroup(k){k.forEach(re=>re.remove())}}},61996:(j,F,T)=>{"use strict";T.d(F,{IG:()=>B,iv:()=>k});var w=T(17626),O=T(76898);let W=0;const B=ee=>{let Z=class extends ee{constructor(...G){super(...G),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+W++})}};return Z=(0,w._)([(0,O.j)("esri.core.Identifiable")],Z),Z},k=ee=>{let Z=class extends ee{constructor(...G){super(...G),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:W++})}};return Z=(0,w._)([(0,O.j)("esri.core.NumericIdentifiable")],Z),Z};let re=class extends(B(class{})){};re=(0,w._)([(0,O.j)("esri.core.Identifiable")],re)},78498:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(1036);class O{constructor(B,k){this._storage=new w.WJ,this._storage.maxSize=B,k&&this._storage.registerRemoveFunc("",k)}put(B,k){this._storage.put(B,k,1,1)}pop(B){return this._storage.pop(B)}get(B){return this._storage.get(B)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86810:(j,F,T)=>{"use strict";T.d(F,{wq:()=>Q,eC:()=>se});var w=T(17626),O=T(14517),W=T(62208),B=T(58817),k=T(31283);class re{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(U){const $=new re;return this._values.forEach((z,J)=>{U&&U.has(J)||$.set(J,(0,B.d9)(z.value),z.origin)}),$}get(U,$){$=this._normalizeOrigin($);const z=this._values.get(U);return null==$||z?.origin===$?z?.value:void 0}originOf(U){return this._values.get(U)?.origin??k.s3.USER}keys(U){U=this._normalizeOrigin(U);const $=[...this._values.keys()];return null==U?$:$.filter(z=>this._values.get(z)?.origin===U)}set(U,$,z){if((z=this._normalizeOrigin(z))===k.s3.DEFAULTS){const J=this._values.get(U);if(J&&null!=J.origin&&J.origin>z)return}this._values.set(U,new ee($,z))}delete(U,$){null!=($=this._normalizeOrigin($))&&this._values.get(U)?.origin!==$||this._values.delete(U)}has(U,$){return null!=($=this._normalizeOrigin($))?this._values.get(U)?.origin===$:this._values.has(U)}forEach(U){this._values.forEach(({value:$},z)=>U($,z))}_normalizeOrigin(U){if(null!=U)return U===k.s3.DEFAULTS?U:k.s3.USER}}class ee{constructor(U,$){this.value=U,this.origin=$}}var Z=T(12590),G=T(29338),Y=T(52323),ne=T(36054),ae=T(76898);const se=V=>{let U=class extends V{constructor(...$){super(...$);const z=(0,W.j0)((0,Y.vw)(this)),J=z.store,q=new re;z.store=q,(0,Z.M)(z,J,q)}read($,z){(0,G.i)(this,$,z)}write($={},z){return(0,ne.c)(this,$,z)}toJSON($){return this.write({},$)}static fromJSON($,z){return ie.call(this,$,z)}};return U=(0,w._)([(0,ae.j)("esri.core.JSONSupport")],U),U.prototype.toJSON.isDefaultToJSON=!0,U};function ie(V,U){if(!V)return null;if(V.declaredClass)throw new Error("JSON object is already hydrated");const $=new this;return $.read(V,U),$}let Q=class extends(se(O.Z)){};Q=(0,w._)([(0,ae.j)("esri.core.JSONSupport")],Q)},93961:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(1036);class O{constructor(B,k){this._storage=new w.WJ,this._storage.maxSize=B,k&&this._storage.registerRemoveFunc("",k)}put(B,k,re){this._storage.put(B,k,re,1)}pop(B){return this._storage.pop(B)}get(B){return this._storage.get(B)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(B){this._storage.maxSize=B}}},47996:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var w=T(17626),O=T(26584),W=T(60330),B=T(10699),k=T(14889),re=T(77712),ee=T(76898);const ae=te=>{let Q=class extends te{constructor(...V){super(...V),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(U=>{const $=this.load.bind(this);this.load=z=>{const J=new Promise((q,oe)=>{const pe=(0,B.$F)(z,oe);this.destroyed&&oe(new O.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(q,oe).finally(()=>{pe&&pe.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const q=this._loadController=new AbortController;$({signal:q.signal}),(0,B.fu)(q.signal,()=>{this._promiseProps.abort()})}return U(),J}})),this.when(()=>{this._set("loadStatus","loaded"),this._loadController=null},U=>{this._set("loadStatus","failed"),this._set("loadError",U),this._loadController=null})}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new O.Z("load:cancelled","Cancelled")),this._loadController?.abort()),this}};return(0,w._)([(0,re.Cb)({readOnly:!0})],Q.prototype,"loaded",null),(0,w._)([(0,re.Cb)({readOnly:!0})],Q.prototype,"loadError",void 0),(0,w._)([(0,re.Cb)({clonable:!1})],Q.prototype,"loadStatus",void 0),(0,w._)([(0,re.Cb)({type:[k.Z],readOnly:!0})],Q.prototype,"loadWarnings",null),Q=(0,w._)([(0,ee.j)("esri.core.Loadable")],Q),Q};let se=class extends(ae(W.D)){};var te;se=(0,w._)([(0,ee.j)("esri.core.Loadable")],se),(te=se||(se={})).LoadableMixin=ae,te.isLoadable=function Q(V){return!(!V||!V.load)};const ie=se},63290:(j,F,T)=>{"use strict";T.d(F,{Z:()=>re});var w=T(59318),W=(T(8314),T(62208)),B=T(77275);const k={info:0,warn:1,error:2,none:3};class re{constructor(Z){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=Z.level&&(this.level=Z.level),null!=Z.writer&&(this.writer=Z.writer),this._module=Z.module,re._loggers[this.module]=this;const G=this.module.lastIndexOf(".");-1!==G&&(this._parent=re.getLogger(this.module.slice(0,G)))}get module(){return this._module}get parent(){return this._parent}error(...Z){this._log("error","always",...Z)}warn(...Z){this._log("warn","always",...Z)}info(...Z){this._log("info","always",...Z)}errorOnce(...Z){this._log("error","once",...Z)}warnOnce(...Z){this._log("warn","once",...Z)}infoOnce(...Z){this._log("info","once",...Z)}errorOncePerTick(...Z){this._log("error","oncePerTick",...Z)}warnOncePerTick(...Z){this._log("warn","oncePerTick",...Z)}infoOncePerTick(...Z){this._log("info","oncePerTick",...Z)}get test(){const Z=this;return{loggedMessages:Z._loggedMessages,clearLoggedWarnings:()=>Z._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(Z={}){const G=re._loggers;return re._loggers=Z,G},set throttlingDisabled(Z){re._throttlingDisabled=Z}}}static getLogger(Z){let G=re._loggers[Z];return G||(G=new re({module:Z})),G}_log(Z,G,...Y){if(this._matchLevel(Z)){if("always"!==G&&!re._throttlingDisabled){const ne=this._argsToKey(Y),ae=this._loggedMessages[Z].get(ne);if("once"===G&&null!=ae||"oncePerTick"===G&&ae&&ae>=re._tickCounter)return;this._loggedMessages[Z].set(ne,re._tickCounter),re._scheduleTickCounterIncrement()}for(const ne of w.Z.log.interceptors)if(ne(Z,this.module,...Y))return;this._inheritedWriter()(Z,this.module,...Y)}}_parentWithMember(Z,G){let Y=this;for(;(0,W.pC)(Y);){const ne=Y[Z];if((0,W.pC)(ne))return ne;Y=Y.parent}return G}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(Z,G,...Y){console[Z](`[${G}]`,...Y)}_matchLevel(Z){return k[this._parentWithMember("level",w.Z.log.level?w.Z.log.level:"warn")]<=k[Z]}_argsToKey(...Z){return(0,B.hP)(JSON.stringify(Z,(Y,ne)=>"object"!=typeof ne||Array.isArray(ne)?ne:"[Object]"))}static _scheduleTickCounterIncrement(){re._tickCounterScheduled||(re._tickCounterScheduled=!0,Promise.resolve().then(()=>{re._tickCounter++,re._tickCounterScheduled=!1}))}}re._loggers={},re._tickCounter=0,re._tickCounterScheduled=!1,re._throttlingDisabled=!1},50011:(j,F,T)=>{"use strict";T.d(F,{F:()=>Q,M:()=>w});const w={Base64:0,Hex:1,String:2,Raw:3};function B(V,U){const $=(65535&V)+(65535&U);return(V>>16)+(U>>16)+($>>16)<<16|65535&$}function Y(V,U,$,z,J,q){return B(function G(V,U){return V<<U|V>>>32-U}(B(B(U,V),B(z,q)),J),$)}function ne(V,U,$,z,J,q,oe){return Y(U&$|~U&z,V,U,J,q,oe)}function ae(V,U,$,z,J,q,oe){return Y(U&z|$&~z,V,U,J,q,oe)}function se(V,U,$,z,J,q,oe){return Y(U^$^z,V,U,J,q,oe)}function ie(V,U,$,z,J,q,oe){return Y($^(U|~z),V,U,J,q,oe)}function Q(V,U=w.Hex){const $=U||w.Base64,z=function te(V,U){V[U>>5]|=128<<U%32,V[14+(U+64>>>9<<4)]=U;let $=1732584193,z=-271733879,J=-1732584194,q=271733878;for(let oe=0;oe<V.length;oe+=16){const pe=$,de=z,be=J,me=q;$=ne($,z,J,q,V[oe+0],7,-680876936),q=ne(q,$,z,J,V[oe+1],12,-389564586),J=ne(J,q,$,z,V[oe+2],17,606105819),z=ne(z,J,q,$,V[oe+3],22,-1044525330),$=ne($,z,J,q,V[oe+4],7,-176418897),q=ne(q,$,z,J,V[oe+5],12,1200080426),J=ne(J,q,$,z,V[oe+6],17,-1473231341),z=ne(z,J,q,$,V[oe+7],22,-45705983),$=ne($,z,J,q,V[oe+8],7,1770035416),q=ne(q,$,z,J,V[oe+9],12,-1958414417),J=ne(J,q,$,z,V[oe+10],17,-42063),z=ne(z,J,q,$,V[oe+11],22,-1990404162),$=ne($,z,J,q,V[oe+12],7,1804603682),q=ne(q,$,z,J,V[oe+13],12,-40341101),J=ne(J,q,$,z,V[oe+14],17,-1502002290),z=ne(z,J,q,$,V[oe+15],22,1236535329),$=ae($,z,J,q,V[oe+1],5,-165796510),q=ae(q,$,z,J,V[oe+6],9,-1069501632),J=ae(J,q,$,z,V[oe+11],14,643717713),z=ae(z,J,q,$,V[oe+0],20,-373897302),$=ae($,z,J,q,V[oe+5],5,-701558691),q=ae(q,$,z,J,V[oe+10],9,38016083),J=ae(J,q,$,z,V[oe+15],14,-660478335),z=ae(z,J,q,$,V[oe+4],20,-405537848),$=ae($,z,J,q,V[oe+9],5,568446438),q=ae(q,$,z,J,V[oe+14],9,-1019803690),J=ae(J,q,$,z,V[oe+3],14,-187363961),z=ae(z,J,q,$,V[oe+8],20,1163531501),$=ae($,z,J,q,V[oe+13],5,-1444681467),q=ae(q,$,z,J,V[oe+2],9,-51403784),J=ae(J,q,$,z,V[oe+7],14,1735328473),z=ae(z,J,q,$,V[oe+12],20,-1926607734),$=se($,z,J,q,V[oe+5],4,-378558),q=se(q,$,z,J,V[oe+8],11,-2022574463),J=se(J,q,$,z,V[oe+11],16,1839030562),z=se(z,J,q,$,V[oe+14],23,-35309556),$=se($,z,J,q,V[oe+1],4,-1530992060),q=se(q,$,z,J,V[oe+4],11,1272893353),J=se(J,q,$,z,V[oe+7],16,-155497632),z=se(z,J,q,$,V[oe+10],23,-1094730640),$=se($,z,J,q,V[oe+13],4,681279174),q=se(q,$,z,J,V[oe+0],11,-358537222),J=se(J,q,$,z,V[oe+3],16,-722521979),z=se(z,J,q,$,V[oe+6],23,76029189),$=se($,z,J,q,V[oe+9],4,-640364487),q=se(q,$,z,J,V[oe+12],11,-421815835),J=se(J,q,$,z,V[oe+15],16,530742520),z=se(z,J,q,$,V[oe+2],23,-995338651),$=ie($,z,J,q,V[oe+0],6,-198630844),q=ie(q,$,z,J,V[oe+7],10,1126891415),J=ie(J,q,$,z,V[oe+14],15,-1416354905),z=ie(z,J,q,$,V[oe+5],21,-57434055),$=ie($,z,J,q,V[oe+12],6,1700485571),q=ie(q,$,z,J,V[oe+3],10,-1894986606),J=ie(J,q,$,z,V[oe+10],15,-1051523),z=ie(z,J,q,$,V[oe+1],21,-2054922799),$=ie($,z,J,q,V[oe+8],6,1873313359),q=ie(q,$,z,J,V[oe+15],10,-30611744),J=ie(J,q,$,z,V[oe+6],15,-1560198380),z=ie(z,J,q,$,V[oe+13],21,1309151649),$=ie($,z,J,q,V[oe+4],6,-145523070),q=ie(q,$,z,J,V[oe+11],10,-1120210379),J=ie(J,q,$,z,V[oe+2],15,718787259),z=ie(z,J,q,$,V[oe+9],21,-343485551),$=B($,pe),z=B(z,de),J=B(J,be),q=B(q,me)}return[$,z,J,q]}(function k(V){const U=[];for(let $=0,z=8*V.length;$<z;$+=8)U[$>>5]|=(255&V.charCodeAt($/8))<<$%32;return U}(V),8*V.length);switch($){case w.Raw:return z;case w.Hex:return function ee(V){const U="0123456789abcdef",$=[];for(let z=0,J=4*V.length;z<J;z++)$.push(U.charAt(V[z>>2]>>z%4*8+4&15)+U.charAt(V[z>>2]>>z%4*8&15));return $.join("")}(z);case w.String:return function re(V){const U=[];for(let $=0,z=32*V.length;$<z;$+=8)U.push(String.fromCharCode(V[$>>5]>>>$%32&255));return U.join("")}(z);case w.Base64:return function Z(V){const z=[];for(let J=0,q=4*V.length;J<q;J+=3){const oe=(V[J>>2]>>J%4*8&255)<<16|(V[J+1>>2]>>(J+1)%4*8&255)<<8|V[J+2>>2]>>(J+2)%4*8&255;for(let pe=0;pe<4;pe++)z.push(8*J+6*pe>32*V.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(oe>>6*(3-pe)&63))}return z.join("")}(z)}}},88159:(j,F,T)=>{"use strict";function w(k,re){for(const[ee,Z]of k)if(re(Z,ee))return!0;return!1}function O(k,re){for(const[ee,Z]of k)if(re(Z,ee))return Z;return null}function W(k,re,ee){const Z=k.get(re);if(void 0!==Z)return Z;const G=ee();return k.set(re,G),G}T.d(F,{fQ:()=>O,oE:()=>w,s1:()=>W})},1036:(j,F,T)=>{"use strict";T.d(F,{WJ:()=>re,Xq:()=>k,an:()=>W,lN:()=>B});var w=T(62208),O=T(77029);const W=-3;var B,ee;(ee=B||(B={}))[ee.ALL=0]="ALL",ee[ee.SOME=1]="SOME";class k{constructor(Z,G,Y){this._namespace=Z,this._storage=G,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",Y&&(this._storage.registerRemoveFunc(this._namespace,Y),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(Z,G,Y,ne=0){this._storage.put(this._namespace+Z,G,Y,ne)}get(Z){const G=this._storage.get(this._namespace+Z);return void 0===G?++this._miss:++this._hit,G}pop(Z){const G=this._storage.pop(this._namespace+Z);return void 0===G?++this._miss:++this._hit,G}updateSize(Z,G,Y){this._storage.updateSize(this._namespace+Z,G,Y)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class re{constructor(Z=10485760){this._maxSize=Z,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new O.Z,this._users=new O.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(Z){this._users.push(Z)}deregister(Z){this._users.removeUnordered(Z)}registerRemoveFunc(Z,G){this._removeFuncs.push([Z,G])}deregisterRemoveFunc(Z){this._removeFuncs.filterInPlace(G=>G[0]!==Z)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(Z){this._maxSize=Math.max(Z,0),this._checkSizeLimit()}put(Z,G,Y,ne){const ae=this._db.get(Z);if(ae&&(this._size-=ae.size,this._db.delete(Z),ae.entry!==G&&this._notifyRemove(Z,ae.entry,B.ALL)),Y>this._maxSize)return void this._notifyRemove(Z,G,B.ALL);if(void 0===G)return void console.warn("Refusing to cache undefined entry ");if(!Y||Y<0)return void console.warn("Refusing to cache entry with invalid size "+Y);const se=1+Math.max(ne,W)-W;this._db.set(Z,{entry:G,size:Y,lifetime:se,lives:se}),this._size+=Y,this._checkSizeLimit()}updateSize(Z,G,Y){const ne=this._db.get(Z);if(ne&&ne.entry===G){for(this._size-=ne.size;Y>this._maxSize;){const ae=this._notifyRemove(Z,G,B.SOME);if(!((0,w.pC)(ae)&&ae>0))return void this._db.delete(Z);Y=ae}ne.size=Y,this._size+=Y,this._checkSizeLimit()}}pop(Z){const G=this._db.get(Z);if(G)return this._size-=G.size,this._db.delete(Z),++this._hit,G.entry;++this._miss}get(Z){const G=this._db.get(Z);if(void 0!==G)return this._db.delete(Z),G.lives=G.lifetime,this._db.set(Z,G),++this._hit,G.entry;++this._miss}getStats(){const Z={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},G={},Y=new Array;this._db.forEach((se,ie)=>{const te=se.lifetime;Y[te]=(Y[te]||0)+se.size,this._users.forAll(Q=>{const V=Q.namespace;ie.startsWith(V)&&(G[V]=(G[V]||0)+se.size)})});const ne={};this._users.forAll(se=>{const ie=se.namespace;!isNaN(se.hitRate)&&se.hitRate>0?(G[ie]=G[ie]||0,ne[ie]=Math.round(100*se.hitRate)+"%"):ne[ie]="0%"});const ae=Object.keys(G);ae.sort((se,ie)=>G[ie]-G[se]),ae.forEach(se=>Z[se]=Math.round(G[se]/2**20)+"MB / "+ne[se]);for(let se=Y.length-1;se>=0;--se){const ie=Y[se];ie&&(Z["Priority "+(se+W-1)]=Math.round(ie/this.size*100)+"%")}return Z}resetStats(){this._hit=this._miss=0,this._users.forAll(Z=>Z.resetHitRate())}clear(Z){this._db.forEach((G,Y)=>{Y.startsWith(Z)&&(this._size-=G.size,this._db.delete(Y),this._notifyRemove(Y,G.entry,B.ALL))})}clearAll(){this._db.forEach((Z,G)=>this._notifyRemove(G,Z.entry,B.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(Z,G,Y){let ne;return this._removeFuncs.some(ae=>{if(Z.startsWith(ae[0])){const se=ae[1](G,Y);return"number"==typeof se&&(ne=se),!0}return!1}),ne}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[Z,G]of this._db){if(this._db.delete(Z),G.lives<=1){this._size-=G.size;const Y=this._notifyRemove(Z,G.entry,B.SOME);(0,w.pC)(Y)&&Y>0&&(this._size+=Y,G.lives=G.lifetime,G.size=Y,this._db.set(Z,G))}else--G.lives,this._db.set(Z,G);if(this._size<=.9*this.maxSize)return}}}},90888:(j,F,T)=>{"use strict";T.d(F,{Z:()=>W});var w=T(94113);class W{constructor(k,re,ee){this.name=k,this.details=ee,this instanceof W&&(this.message=(re&&function O(B,k){return B.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(re,ee)=>{if(""===ee)return"$";const G=(0,w.hS)(ee,k)??"";if(void 0===G)throw new Error(`could not find key "${ee}" in template`);return G.toString()})}(re,ee))??"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(j,F,T)=>{"use strict";T.d(F,{R:()=>V,w:()=>U});var w=T(17626),O=T(14517),W=T(62208),B=T(12590),k=T(58817),re=T(31283);class ee{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(re.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(z){const J=new ee,q=this._originStores[re.s3.DEFAULTS];q&&q.forEach((oe,pe)=>{J.set(pe,(0,k.d9)(oe),re.s3.DEFAULTS)});for(let oe=re.s3.SERVICE;oe<re.kk;oe++){const pe=this._originStores[oe];pe&&pe.forEach((de,be)=>{z&&z.has(be)||J.set(be,(0,k.d9)(de),oe)})}return J}get(z,J){const q=void 0===J?this._values:this._originStores[J];return q?q.get(z):void 0}keys(z){const J=null==z?this._values:this._originStores[z];return J?[...J.keys()]:[]}set(z,J,q=re.s3.USER){let oe=this._originStores[q];if(oe||(oe=new Map,this._originStores[q]=oe),oe.set(z,J),!this._values.has(z)||(0,W.j0)(this._propertyOriginMap.get(z))<=q){const pe=this._values.get(z);return this._values.set(z,J),this._propertyOriginMap.set(z,q),pe!==J}return!1}delete(z,J=re.s3.USER){const q=this._originStores[J];if(!q)return;const oe=q.get(z);if(q.delete(z),this._values.has(z)&&this._propertyOriginMap.get(z)===J){this._values.delete(z);for(let pe=J-1;pe>=0;pe--){const de=this._originStores[pe];if(de&&de.has(z)){this._values.set(z,de.get(z)),this._propertyOriginMap.set(z,pe);break}}}return oe}has(z,J){const q=void 0===J?this._values:this._originStores[J];return!!q&&q.has(z)}revert(z,J){for(;J>0&&!this.has(z,J);)--J;const q=this._originStores[J],oe=q&&q.get(z),pe=this._values.get(z);return this._values.set(z,oe),this._propertyOriginMap.set(z,J),pe!==oe}originOf(z){return this._propertyOriginMap.get(z)||re.s3.DEFAULTS}forEach(z){this._values.forEach(z)}}var Z=T(29338),G=T(52323),Y=T(76898);const ne=$=>{let z=class extends ${constructor(...J){super(...J);const q=(0,W.j0)((0,G.vw)(this)),oe=q.store,pe=new ee;q.store=pe,(0,B.M)(q,oe,pe)}read(J,q){(0,Z.i)(this,J,q)}getAtOrigin(J,q){const oe=ae(this),pe=(0,re.M9)(q);if("string"==typeof J)return oe.get(J,pe);const de={};return J.forEach(be=>{de[be]=oe.get(be,pe)}),de}originOf(J){return(0,re.x3)(this.originIdOf(J))}originIdOf(J){return ae(this).originOf(J)}revert(J,q){const oe=ae(this),pe=(0,re.M9)(q),de=(0,G.vw)(this);let be;be="string"==typeof J?"*"===J?oe.keys(pe):[J]:J,be.forEach(me=>{de.invalidate(me),oe.revert(me,pe),de.commit(me)})}};return z=(0,w._)([(0,Y.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],z),z};function ae($){return(0,G.vw)($).store}let se=class extends(ne(O.Z)){};se=(0,w._)([(0,Y.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],se);var ie=T(36054);const te=$=>{let z=class extends ${constructor(...J){super(...J)}clear(J,q="user"){return Q(this).delete(J,(0,re.M9)(q))}write(J={},q){return(0,ie.c)(this,J=J||{},q),J}setAtOrigin(J,q,oe){(0,G.vw)(this).setAtOrigin(J,q,(0,re.M9)(oe))}removeOrigin(J){const q=Q(this),oe=(0,re.M9)(J),pe=q.keys(oe);for(const de of pe)q.originOf(de)===oe&&q.set(de,q.get(de,oe),re.s3.USER)}updateOrigin(J,q){const oe=Q(this),pe=(0,re.M9)(q),de=this.get(J);for(let be=pe+1;be<re.kk;++be)oe.delete(J,be);oe.set(J,de,pe)}toJSON(J){return this.write({},J)}};return z=(0,w._)([(0,Y.j)("esri.core.WriteableMultiOriginJSONSupport")],z),z.prototype.toJSON.isDefaultToJSON=!0,z};function Q($){return(0,G.vw)($).store}const V=$=>{let z=class extends(te(ne($))){constructor(...J){super(...J)}};return z=(0,w._)([(0,Y.j)("esri.core.MultiOriginJSONSupport")],z),z};let U=class extends(V(O.Z)){};U=(0,w._)([(0,Y.j)("esri.core.MultiOriginJSONSupport")],U)},27899:(j,F,T)=>{"use strict";T.d(F,{Z:()=>W});let W=(()=>{class B{constructor(re,ee,Z,G=1,Y=0){if(this._ctor=re,this._acquireFunction=ee,this._releaseFunction=Z,this.allocationSize=G,this._pool=new Array(Y),this._initialSize=Y,this._ctor)for(let ne=0;ne<Y;ne++)this._pool[ne]=new this._ctor;this.allocationSize=Math.max(G,1)}destroy(){this.prune(0)}acquire(...re){let ee;if(B.test.disabled)ee=new this._ctor;else{if(0===this._pool.length){const Z=this.allocationSize;for(let G=0;G<Z;G++)this._pool[G]=new this._ctor}ee=this._pool.pop()}return this._acquireFunction?this._acquireFunction(ee,...re):function O(B){return B&&B.acquire&&"function"==typeof B.acquire}(ee)&&ee.acquire(...re),ee}release(re){re&&!B.test.disabled&&(this._releaseFunction?this._releaseFunction(re):function w(B){return B&&B.release&&"function"==typeof B.release}(re)&&re.release(),this._pool.push(re))}prune(re=this._initialSize){if(!(re>=this._pool.length)){for(let ee=re;ee<this._pool.length;++ee)this._dispose(this._pool[ee]);this._pool.length=re}}_dispose(re){re.dispose&&"function"==typeof re.dispose&&re.dispose()}}return B.test={disabled:!1},B})()},73362:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(62208);class O{constructor(B,k=30){this.name=B,this._counter=0,this._samples=new Array(k)}record(B){(0,w.pC)(B)&&(this._samples[++this._counter%this._samples.length]=B)}get median(){return this._samples.slice().sort((B,k)=>B-k)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((B,k)=>B+k,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},77029:(j,F,T)=>{"use strict";T.d(F,{Z:()=>re});var O,w=T(85931);!function(Z){const G=(se,ie,te,Q)=>{let V=ie,U=ie;const $=te>>>1,z=se[V-1];for(;U<=$;){U=V<<1,U<te&&Q(se[U-1],se[U])<0&&++U;const J=se[U-1];if(Q(J,z)<=0)break;se[V-1]=J,V=U}se[V-1]=z},Y=(se,ie)=>se<ie?-1:se>ie?1:0;Z.sort=function ne(se,ie,te,Q){void 0===ie&&(ie=0),void 0===te&&(te=se.length),void 0===Q&&(Q=Y);for(let U=te>>>1;U>ie;U--)G(se,U,te,Q);const V=ie+1;for(let U=te-1;U>ie;U--){const $=se[ie];se[ie]=se[U],se[U]=$,G(se,V,U,Q)}},Z.iterableSort=function*ae(se,ie,te,Q){void 0===ie&&(ie=0),void 0===te&&(te=se.length),void 0===Q&&(Q=Y);for(let U=te>>>1;U>ie;U--)G(se,U,te,Q),yield;const V=ie+1;for(let U=te-1;U>ie;U--){const $=se[ie];se[ie]=se[U],se[U]=$,G(se,V,U,Q),yield}}}(O||(O={}));const W=O;class re{constructor(G){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new w.SO,G&&(G.initialSize&&(this.data=new Array(G.initialSize)),G.allocator&&(this._allocator=G.allocator),void 0!==G.deallocator&&(this._deallocator=G.deallocator),G.shrink&&(this._shrink=()=>ee(this)))}toArray(){return this.data.slice(0,this.length)}filter(G){const Y=new Array;for(let ne=0;ne<this._length;ne++){const ae=this.data[ne];G(ae)&&Y.push(ae)}return Y}getItemAt(G){if(!(G<0||G>=this._length))return this.data[G]}includes(G,Y){const ne=this.data.indexOf(G,Y);return-1!==ne&&ne<this.length}get length(){return this._length}set length(G){if(G>this._length){if(this._allocator){for(;this._length<G;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=G}else{if(this._deallocator)for(let Y=G;Y<this._length;++Y)this.data[Y]=this._deallocator(this.data[Y]);this._length=G,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(G){this.data[this._length++]=G}pushArray(G,Y=G.length){for(let ne=0;ne<Y;ne++)this.data[this._length++]=G[ne]}fill(G,Y){for(let ne=0;ne<Y;ne++)this.data[this._length++]=G}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const G=this.data[this._length];return++this._length,G}unshift(G){this.data.unshift(G),this._length++,ee(this)}pop(){if(0===this.length)return;const G=this.data[this.length-1];return this.length=this.length-1,this._shrink(),G}remove(G){const Y=(0,w.cq)(this.data,G,this.length,this._hint);if(-1!==Y)return this.data.splice(Y,1),this.length=this.length-1,G}removeUnordered(G){return this.removeUnorderedIndex((0,w.cq)(this.data,G,this.length,this._hint))}removeUnorderedIndex(G){if(!(G>=this.length||G<0))return this.swapElements(G,this.length-1),this.pop()}removeUnorderedMany(G,Y=G.length,ne){this.length=(0,w.FY)(this.data,G,this.length,Y,this._hint,ne),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(G,Y){if(G>=this.length||Y>=this.length||G===Y)return;const ne=this.data[G];this.data[G]=this.data[Y],this.data[Y]=ne}sort(G){W.sort(this.data,0,this.length,G)}iterableSort(G){return W.iterableSort(this.data,0,this.length,G)}some(G,Y){for(let ne=0;ne<this.length;++ne)if(G.call(Y,this.data[ne],ne,this.data))return!0;return!1}find(G,Y){for(let ne=0;ne<this.length;++ne){const ae=this.data[ne];if(G.call(Y,ae,ne))return ae}}filterInPlace(G,Y){let ne=0;for(let ae=0;ae<this._length;++ae){const se=this.data[ae];G.call(Y,se,ae,this.data)&&(this.data[ae]=this.data[ne],this.data[ne]=se,ne++)}if(this._deallocator)for(let ae=ne;ae<this._length;ae++)this.data[ae]=this._deallocator(this.data[ae]);return this._length=ne,this._shrink(),this}forAll(G,Y){const ne=this.length,ae=this.data;for(let se=0;se<ne;++se)G.call(Y,ae[se],se,ae)}forEach(G,Y){for(let ne=0;ne<this.length;++ne)G.call(Y,this.data[ne],ne,this.data)}map(G,Y){const ne=new Array(this.length);for(let ae=0;ae<this.length;++ae)ne[ae]=G.call(Y,this.data[ae],ae,this.data);return ne}reduce(G,Y){let ne=Y;for(let ae=0;ae<this.length;++ae)ne=G(ne,this.data[ae],ae,this.data);return ne}has(G){const Y=this.length,ne=this.data;for(let ae=0;ae<Y;++ae)if(ne[ae]===G)return!0;return!1}}function ee(Z){Z.data.length>1.5*Z.length&&(Z.data.length=Math.floor(1.1*Z.length))}},60330:(j,F,T)=>{"use strict";T.d(F,{D:()=>G,v:()=>Z});var re,Y,w=T(17626),O=T(14517),W=T(62208),B=T(10699),k=T(76898);(Y=re||(re={}))[Y.PENDING=0]="PENDING",Y[Y.RESOLVED=1]="RESOLVED",Y[Y.REJECTED=2]="REJECTED";class ee{constructor(ne){this.instance=ne,this._resolver=(0,B.dD)(),this._status=re.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=re.RESOLVED,this._cleanUp()},()=>{this._status=re.REJECTED,this._cleanUp()})}addResolvingPromise(ne){this._resolvingPromises.push(ne),this._tryResolve()}isResolved(){return this._status===re.RESOLVED}isRejected(){return this._status===re.REJECTED}isFulfilled(){return this._status!==re.PENDING}abort(){this._resolver.reject((0,B.zE)())}when(ne,ae){return this._resolver.promise.then(ne,ae)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const ne=(0,B.dD)(),ae=[...this._resolvingPromises,(0,W.j0)(ne.promise)],se=this._allPromise=Promise.all(ae);se.then(()=>{this.isFulfilled()||this._allPromise!==se||this._resolver.resolve(this.instance)},ie=>{this.isFulfilled()||this._allPromise!==se||(0,B.D_)(ie)||this._resolver.reject(ie)}),ne.resolve()}}const Z=Y=>{let ne=class extends Y{constructor(...ae){super(...ae),this._promiseProps=new ee(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(ae,se){return new Promise((ie,te)=>{this._promiseProps.when(ie,te)}).then(ae,se)}catch(ae){return this.when(null,ae)}addResolvingPromise(ae){ae&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in ae?ae.when():ae)}};return ne=(0,w._)([(0,k.j)("esri.core.Promise")],ne),ne};let G=class extends(Z(O.Z)){};G=(0,w._)([(0,k.j)("esri.core.Promise")],G)},35133:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(62208);class O{constructor(B=(k=>k.values().next().value)){this._peeker=B,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let B;for(B of this._items);return B}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(B){this.contains(B)||this._items.add(B)}contains(B){return this._items.has(B)}pop(){if(0===this.length)return;const B=this.peek();return this._items.delete((0,w.j0)(B)),B}popLast(){if(0===this.length)return;const B=this.last();return this._items.delete((0,w.j0)(B)),B}remove(B){this._items.delete(B)}filter(B){return this._items.forEach(k=>{B(k)||this._items.delete(k)}),this}}},4619:(j,F,T)=>{"use strict";T.d(F,{Z:()=>w});class w{constructor(W=1){this._seed=W}set seed(W){this._seed=W??Math.random()*w._m}getInt(){return this._seed=(w._a*this._seed+w._c)%w._m,this._seed}getFloat(){return this.getInt()/(w._m-1)}getIntRange(W,B){return Math.round(this.getFloatRange(W,B))}getFloatRange(W,B){const k=B-W;return W+this.getInt()/w._m*k}}w._m=2147483647,w._a=48271,w._c=0},94530:(j,F,T)=>{"use strict";T.d(F,{e:()=>W});var w=T(62208),O=T(27899);class W extends O.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,w.wN)(this._set)}acquire(...k){const re=super.acquire(...k);return this._set.delete(re),re}release(k){k&&!this._set.has(k)&&(super.release(k),this._set.add(k))}_dispose(k){this._set.delete(k),super._dispose(k)}}},28862:(j,F,T)=>{"use strict";function w(W,B){for(const k of W.entries())if(B(k[0]))return!0;return!1}T.d(F,{f:()=>w})},14889:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(90888);class O extends w.Z{constructor(B,k,re){if(super(B,k,re),!(this instanceof O))return new O(B,k,re)}}O.prototype.type="warning"},7894:(j,F,T)=>{"use strict";T.d(F,{s:()=>W});var w=T(85931);class O{constructor(re,ee){this._observers=re,this._observer=ee}remove(){(0,w.Od)(this._observers,this._observer)}}class W{constructor(){this._observers=null,this.destroyed=!1}observe(re){if(this.destroyed||re.destroyed)return B;null==this._observers&&(this._observers=[]);const ee=this._observers;let Z=!1,G=!1;const Y=ee.length;for(let ne=0;ne<Y;++ne){const ae=ee[ne];if(ae.destroyed)G=!0;else if(ae===re){Z=!0;break}}return Z||(ee.push(re),G&&this._removeDestroyedObservers()),new O(ee,re)}_removeDestroyedObservers(){const re=this._observers;if(!re||0===re.length)return;const ee=re.length;let Z=0;for(let G=0;G<ee;++G){for(;G+Z<ee&&re[G+Z].destroyed;)++Z;if(Z>0){if(!(G+Z<ee))break;re[G]=re[G+Z]}}re.length=ee-Z}destroy(){if(this.destroyed)return;this.destroyed=!0;const re=this._observers;if(null!=re){for(const ee of re)ee.onCommitted();this._observers=null}}}const B={remove:()=>{}}},31283:(j,F,T)=>{"use strict";T.d(F,{M9:()=>B,Wm:()=>ee,kk:()=>W,s3:()=>O,x3:()=>k});var O,Y,w=T(62208);(Y=O||(O={}))[Y.DEFAULTS=0]="DEFAULTS",Y[Y.COMPUTED=1]="COMPUTED",Y[Y.SERVICE=2]="SERVICE",Y[Y.PORTAL_ITEM=3]="PORTAL_ITEM",Y[Y.WEB_SCENE=4]="WEB_SCENE",Y[Y.WEB_MAP=5]="WEB_MAP",Y[Y.USER=6]="USER";const W=O.USER+1;function B(Y){switch(Y){case"defaults":return O.DEFAULTS;case"service":return O.SERVICE;case"portal-item":return O.PORTAL_ITEM;case"web-scene":return O.WEB_SCENE;case"web-map":return O.WEB_MAP;case"user":return O.USER;default:return null}}function k(Y){switch(Y){case O.DEFAULTS:return"defaults";case O.SERVICE:return"service";case O.PORTAL_ITEM:return"portal-item";case O.WEB_SCENE:return"web-scene";case O.WEB_MAP:return"web-map";case O.USER:return"user"}return(0,w.j0)(void 0)}function ee(Y){return k(Y)}},5901:(j,F,T)=>{"use strict";T.d(F,{F:()=>w});const w=Symbol("Accessor-beforeDestroy")},66656:(j,F,T)=>{"use strict";T.d(F,{p:()=>ee});var w=T(90912),O=T(34117);const W=Object.prototype.toString;function B(Z){const G="__accessorMetadata__"in Z?(0,w.se)(Z):Z;return function(...Y){if(Y.push(G),"number"==typeof Y[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return k.apply(this,Y)}}function k(Z,G,Y,ne){(0,O.Oe)(Z,G).cast=ne}function ee(...Z){if(3!==Z.length||"string"!=typeof Z[1])return 1===Z.length&&"[object Function]"===W.call(Z[0])?B(Z[0]):1===Z.length&&"string"==typeof Z[0]?function re(Z){return(G,Y)=>{(0,O.Oe)(G,Z).cast=G[Y]}}(Z[0]):void 0}},55342:(j,F,T)=>{"use strict";T.d(F,{J:()=>W});var w=T(2076),O=T(77712);function W(B,k={}){const re=B instanceof w.X?B:new w.X(B,k),ee={type:k?.ignoreUnknown??1?re.apiValues:String,json:{type:re.jsonValues,read:!k?.readOnly&&{reader:re.read},write:{writer:re.write}}};return void 0!==k?.readOnly&&(ee.readOnly=!!k.readOnly),void 0!==k?.default&&(ee.json.default=k.default),void 0!==k?.name&&(ee.json.name=k.name),void 0!==k?.nonNullable&&(ee.nonNullable=k.nonNullable),(0,O.Cb)(ee)}},77712:(j,F,T)=>{"use strict";T.d(F,{CJ:()=>ee,Cb:()=>re,Eg:()=>G});var w=T(63290),O=T(90912),W=T(34595),B=T(34117),k=T(82255);function re(Y={}){return(ne,ae)=>{if(ne===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${ne.name}.${ae}. Accessor does not support static properties.`);const se=Object.getOwnPropertyDescriptor(ne,ae),ie=(0,B.Oe)(ne,ae);se&&(se.get||se.set?(ie.get=se.get||ie.get,ie.set=se.set||ie.set):"value"in se&&("value"in Y&&w.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${ae}" on "${ne.constructor.name}" already defined in the metadata`,Y),ie.value=Y.value=se.value)),null!=Y.readOnly&&(ie.readOnly=Y.readOnly);const te=Y.aliasOf;if(te){const U="string"==typeof te?te:te.source,$="string"==typeof te?null:!0===te.overridable;let z;ie.dependsOn=[U],ie.get=function(){let J=(0,W.U2)(this,U);if("function"==typeof J){z||(z=U.split(".").slice(0,-1).join("."));const q=(0,W.U2)(this,z);q&&(J=J.bind(q))}return J},ie.readOnly||(ie.set=$?function(J){this._override(ae,J)}:function(J){(0,k.t)(this,U,J)})}const Q=Y.type,V=Y.types;ie.cast||(Q?ie.cast=function Z(Y){let ne=0,ae=Y;if((0,O.AY)(Y))return(0,O.sY)(Y);for(;Array.isArray(ae)&&1===ae.length&&"string"!=typeof ae[0]&&"number"!=typeof ae[0];)ae=ae[0],ne++;const se=ae;if((0,O.gB)(se))return 0===ne?(0,O.i$)(se):(0,O.Iu)((0,O.i$)(se),ne);if(1===ne)return(0,O.rY)(se);if(ne>1)return(0,O.di)(se,ne);return Y.from?Y.from:(0,O.se)(Y)}(Q):V&&(ie.cast=Array.isArray(V)?(0,O.Ls)((0,O.N7)(V[0])):(0,O.N7)(V))),(0,B.tz)(ie,Y),Y.range&&(ie.cast=G(ie.cast,Y.range))}}function ee(Y,ne,ae){const se=(0,B.Oe)(Y,ae);se.json||(se.json={});let ie=se.json;return void 0!==ne&&(ie.origins||(ie.origins={}),ie.origins[ne]||(ie.origins[ne]={}),ie=ie.origins[ne]),ie}function G(Y,ne){return ae=>{let se=+Y(ae);return null!=ne.step&&(se=Math.round(se/ne.step)*ne.step),null!=ne.min&&(se=Math.max(ne.min,se)),null!=ne.max&&(se=Math.min(ne.max,se)),se}}},68653:(j,F,T)=>{"use strict";T.d(F,{r:()=>O});var w=T(77712);function O(W,B,k){let re,ee;return void 0===B||Array.isArray(B)?(ee=W,k=B,re=[void 0]):(ee=B,re=Array.isArray(W)?W:[W]),(Z,G)=>{const Y=Z.constructor.prototype;re.forEach(ne=>{const ae=(0,w.CJ)(Z,ne,ee);ae.read&&"object"==typeof ae.read||(ae.read={}),ae.read.reader=Y[G],k&&(ae.read.source=(ae.read.source||[]).concat(k))})}}},61039:(j,F,T)=>{"use strict";function w(O){return(W,B)=>{W[B]=O}}T.d(F,{c:()=>w})},76898:(j,F,T)=>{"use strict";T.d(F,{j:()=>G}),T(8314);var O=T(5901),W=T(44648),B=T(34117),k=T(36082),re=T(33794);const ee=new Set,Z=new Set;function G(ae){return se=>{se.prototype.declaredClass=ae,function ne(ae){const ie=(0,B.fp)(ae.prototype),te={};for(const Q of Object.getOwnPropertyNames(ie)){const V=ie[Q];(0,re.OM)(V),te[Q]={enumerable:!0,configurable:!0,get:Y(Q,V),set(U){const $=this.__accessor__;if(void 0!==$){if(!Object.isFrozen(this)){if($.initialized&&V.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${Q}' of ${this.declaredClass}`);if($.lifecycle===W.F.CONSTRUCTED&&V.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${Q}' of ${this.declaredClass}`);$.set(Q,U)}}else Object.defineProperty(this,Q,{enumerable:!0,configurable:!0,writable:!0,value:U})}}}Object.defineProperties(ae.prototype,te)}(se);const ie=[],te=[];let Q=se.prototype;for(;Q;)Q.hasOwnProperty("initialize")&&!ee.has(Q.initialize)&&(ee.add(Q.initialize),ie.push(Q.initialize)),Q.hasOwnProperty("destroy")&&!Z.has(Q.destroy)&&(Z.add(Q.destroy),te.push(Q.destroy)),Q=Object.getPrototypeOf(Q);ee.clear(),Z.clear();class V extends se{constructor(...$){if(super(...$),this.constructor===V&&"function"==typeof this.postscript){if(ie.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let z=ie.length-1;z>=0;z--)ie[z].call(this)}}),te.length){let z=!1;const J=this[O.F];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!z){z=!0,J.call(this);for(let q=0;q<te.length;q++)te[q].call(this)}}})}this.postscript(...$)}}}return V.__accessorMetadata__=(0,B.fp)(se.prototype),V.prototype.declaredClass=ae,V}}function Y(ae,se){return null==se.get?function(){const ie=this.__accessor__.properties.get(ae);if(void 0===ie)return;(0,k.it)(ie.observerObject);const te=this.__accessor__.store;return te.has(ae)?te.get(ae):ie.metadata.value}:function(){const ie=this.__accessor__.properties.get(ae);if(void 0!==ie)return ie.getComputed()}}},99433:(j,F,T)=>{"use strict";T.d(F,{c:()=>O});var w=T(77712);function O(W,B,k){let re,ee;return void 0===B?(ee=W,re=[void 0]):"string"!=typeof B?(ee=W,re=[void 0],k=B):(ee=B,re=Array.isArray(W)?W:[W]),(Z,G)=>{const Y=Z.constructor.prototype;for(const ne of re){const ae=(0,w.CJ)(Z,ne,ee);ae.write&&"object"==typeof ae.write||(ae.write={}),k&&(ae.write.target=k),ae.write.writer=Y[G]}}}},12590:(j,F,T)=>{"use strict";T.d(F,{M:()=>O});var w=T(31283);function O(W,B,k){B.keys().forEach(ee=>{k.set(ee,B.get(ee),w.s3.DEFAULTS)}),Object.keys(W.metadatas).forEach(ee=>{W.internalGet(ee)&&k.set(ee,W.internalGet(ee),w.s3.DEFAULTS)})}},84682:(j,F,T)=>{"use strict";T.d(F,{Hg:()=>ie,V7:()=>se,uD:()=>ae,xb:()=>te});var w=T(14517),O=T(74333),W=T(62208),B=T(52323);const k=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function re(Q){return Q instanceof w.Z}function ee(Q){return Q instanceof O.Z?Object.keys(Q.items):re(Q)?(0,B.vw)(Q).keys():Q?Object.keys(Q):[]}function Z(Q,V){return Q instanceof O.Z?Q.items[V]:Q[V]}function Y(Q){return Q?Q.declaredClass:null}function ne(Q,V){const U=Q.diff;if(U&&"function"==typeof U)return U(Q,V);const $=ee(Q),z=ee(V);if(0===$.length&&0===z.length)return;if(!$.length||!z.length||function G(Q,V){return!(!Array.isArray(Q)||!Array.isArray(V))&&Q.length!==V.length}(Q,V))return{type:"complete",oldValue:Q,newValue:V};const J=z.filter(me=>!$.includes(me)),q=$.filter(me=>!z.includes(me)),oe=$.filter(me=>z.includes(me)&&Z(Q,me)!==Z(V,me)).concat(J,q).sort(),pe=Y(Q);if(pe&&k.includes(pe)&&oe.length)return{type:"complete",oldValue:Q,newValue:V};let de;const be=re(Q)&&re(V);for(const me of oe){const _e=Z(Q,me),le=Z(V,me);let fe;if((be||"function"!=typeof _e&&"function"!=typeof le)&&_e!==le&&(null!=_e||null!=le)){if(U&&U[me]&&"function"==typeof U[me])fe=U[me](_e,le);else if(_e instanceof Date&&le instanceof Date){if(_e.getTime()===le.getTime())continue;fe={type:"complete",oldValue:_e,newValue:le}}else fe="object"==typeof _e&&"object"==typeof le&&Y(_e)===Y(le)?ne(_e,le):{type:"complete",oldValue:_e,newValue:le};(0,W.pC)(fe)&&((0,W.pC)(de)?de.diff[me]=fe:de={type:"partial",diff:{[me]:fe}})}}return de}function ae(Q,V){if((0,W.Wi)(Q))return!1;const U=V.split(".");let $=Q;for(const z of U){if("complete"===$.type)return!0;if("partial"!==$.type)return!1;{const J=$.diff[z];if(!J)return!1;$=J}}return!0}function se(Q,V){for(const U of V)if(ae(Q,U))return!0;return!1}function ie(Q,V){if(!("function"==typeof Q||"function"==typeof V||(0,W.Wi)(Q)&&(0,W.Wi)(V)))return(0,W.Wi)(Q)||(0,W.Wi)(V)||"object"==typeof Q&&"object"==typeof V&&Y(Q)!==Y(V)?{type:"complete",oldValue:Q,newValue:V}:ne(Q,V)}function te(Q){if((0,W.Wi)(Q))return!0;switch(Q.type){case"complete":return!1;case"collection":{const V=Q;for(const U of V.added)if(!te(U))return!1;for(const U of V.removed)if(!te(U))return!1;for(const U of V.changed)if(!te(U))return!1;return!0}case"partial":for(const V in Q.diff)if(!te(Q.diff[V]))return!1;return!0}}},90912:(j,F,T)=>{"use strict";T.d(F,{AY:()=>Ee,Iu:()=>pe,Ls:()=>J,N7:()=>_e,TJ:()=>Q,V5:()=>fe,Zs:()=>ee,di:()=>de,gB:()=>be,i$:()=>me,q9:()=>Z,rY:()=>q,sY:()=>ye,se:()=>z,vU:()=>G,z8:()=>le}),T(8314);var O=T(63290),W=T(88159);const B=O.Z.getLogger("esri.core.accessorSupport.ensureTypes");function k(ge){return null==ge?ge:new Date(ge)}function re(ge){return null==ge?ge:!!ge}function ee(ge){return null==ge?ge:ge.toString()}function Z(ge){return null==ge?ge:(ge=parseFloat(ge),isNaN(ge)?0:ge)}function G(ge){return null==ge?ge:Math.round(parseFloat(ge))}function Y(ge){return ge&&ge.constructor&&void 0!==ge.constructor.__accessorMetadata__}function ne(ge,Pe){return null!=Pe&&ge&&!(Pe instanceof ge)}function ae(ge){return ge&&"isCollection"in ge}function se(ge){return ge&&ge.Type?"function"==typeof ge.Type?ge.Type:ge.Type.base:null}function te(ge,Pe){return!!Y(Pe)&&(B.error("Accessor#set","Assigning an instance of '"+(Pe.declaredClass||"unknown")+"' which is not a subclass of '"+V(ge)+"'"),!0)}function Q(ge,Pe){return null==Pe?Pe:ae(ge)?function ie(ge,Pe){if(!Pe||!Pe.constructor||!ae(Pe.constructor))return te(ge,Pe)?Pe:new ge(Pe);const Ie=se(ge.prototype.itemType),Re=se(Pe.constructor.prototype.itemType);return Ie?Re?Ie===Re?Pe:Ie.prototype.isPrototypeOf(Re.prototype)?new ge(Pe):(te(ge,Pe),Pe):new ge(Pe):Pe}(ge,Pe):ne(ge,Pe)?te(ge,Pe)?Pe:new ge(Pe):Pe}function V(ge){return ge&&ge.prototype&&ge.prototype.declaredClass||"unknown"}const U=new WeakMap;function $(ge){switch(ge){case Number:return Z;case le:return G;case Boolean:return re;case String:return ee;case Date:return k;default:return(0,W.s1)(U,ge,()=>Q.bind(null,ge))}}function z(ge,Pe){const Ie=$(ge);return 1===arguments.length?Ie:Ie(Pe)}function J(ge,Pe,Ie){return 1===arguments.length?J.bind(null,ge):Pe&&(Array.isArray(Pe)?Pe.map(Re=>ge(Re,Ie)):[ge(Pe,Ie)])}function q(ge,Pe){return 1===arguments.length?J(z.bind(null,ge)):J(z.bind(null,ge),Pe)}function oe(ge,Pe,Ie){return 0!==Pe&&Array.isArray(Ie)?Ie.map(Re=>oe(ge,Pe-1,Re)):ge(Ie)}function pe(ge,Pe,Ie){if(2===arguments.length)return pe.bind(null,ge,Pe);if(!Ie)return Ie;let Re=Pe,Ce=Ie=oe(ge,Pe,Ie);for(;Re>0&&Array.isArray(Ce);)Re--,Ce=Ce[0];if(void 0!==Ce)for(let Fe=0;Fe<Re;Fe++)Ie=[Ie];return Ie}function de(ge,Pe,Ie){return 2===arguments.length?pe(z.bind(null,ge),Pe):pe(z.bind(null,ge),Pe,Ie)}function be(ge){return!!Array.isArray(ge)&&!ge.some(Pe=>{const Ie=typeof Pe;return!("string"===Ie||"number"===Ie||"function"===Ie&&ge.length>1)})}function me(ge,Pe){if(2===arguments.length)return me(ge).call(null,Pe);const Ie=new Set,Re=ge.filter(Le=>"function"!=typeof Le),Ce=ge.filter(Le=>"function"==typeof Le);for(const Le of ge)"string"!=typeof Le&&"number"!=typeof Le||Ie.add(Le);let Fe=null,Ne=null;return(Le,Oe)=>{if(null==Le)return Le;const Ue=typeof Le,ke="string"===Ue||"number"===Ue;return ke&&(Ie.has(Le)||Ce.some(Ye=>"string"===Ue&&Ye===String||"number"===Ue&&Ye===Number))||"object"===Ue&&Ce.some(Ye=>!ne(Le,Ye))?Le:(ke&&Re.length?(Fe||(Fe=Re.map(Ye=>"string"==typeof Ye?`'${Ye}'`:`${Ye}`).join(", ")),B.error("Accessor#set",`'${Le}' is not a valid value for this property, only the following values are valid: ${Fe}`)):"object"==typeof Le&&Ce.length?(Ne||(Ne=Ce.map(Ye=>V(Ye)).join(", ")),B.error("Accessor#set",`'${Le}' is not a valid value for this property, value must be one of ${Ne}`)):B.error("Accessor#set",`'${Le}' is not a valid value for this property`),Oe&&(Oe.valid=!1),null)}}function _e(ge,Pe){if(2===arguments.length)return _e(ge).call(null,Pe);const Ie={},Re=[],Ce=[];for(const Oe in ge.typeMap){const Ue=ge.typeMap[Oe];Ie[Oe]=z(Ue),Re.push(V(Ue)),Ce.push(Oe)}const Fe=()=>`'${Re.join("', '")}'`,Ne=()=>`'${Ce.join("', '")}'`,Le="string"==typeof ge.key?Oe=>Oe[ge.key]:ge.key;return Oe=>{if(ge.base&&!ne(ge.base,Oe)||null==Oe)return Oe;const Ue=Le(Oe)||ge.defaultKeyValue,ke=Ie[Ue];if(!ke)return B.error("Accessor#set",`Invalid property value, value needs to be one of ${Fe()}, or a plain object that can autocast (having .type = ${Ne()})`),null;if(!ne(ge.typeMap[Ue],Oe))return Oe;if("string"==typeof ge.key&&!Y(Oe)){const Ye={};for(const xe in Oe)xe!==ge.key&&(Ye[xe]=Oe[xe]);return ke(Ye)}return ke(Oe)}}class le{}const fe={native:ge=>({type:"native",value:ge}),array:ge=>({type:"array",value:ge}),oneOf:ge=>({type:"one-of",values:ge})};function Ee(ge){if(!ge||!("type"in ge))return!1;switch(ge.type){case"native":case"array":case"one-of":return!0}return!1}function ye(ge){switch(ge.type){case"native":return z(ge.value);case"array":return J(ye(ge.value));case"one-of":return function ue(ge){let Pe=null;return(Ie,Re)=>ce(Ie,ge)?Ie:(null==Pe&&(Pe=Me(ge)),B.error("Accessor#set",`Invalid property value, value needs to be of type ${Pe}`),Re&&(Re.valid=!1),null)}(ge);default:return null}}function Me(ge){switch(ge.type){case"native":switch(ge.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case le:return"integer";case Date:return"date";default:return V(ge.value)}case"array":return`array of ${Me(ge.value)}`;case"one-of":{const Pe=ge.values.map(Ie=>Me(Ie));return`one of ${Pe.slice(0,Pe.length-1)} or ${Pe[Pe.length-1]}`}}return"unknown"}function ce(ge,Pe){if(null==ge)return!0;switch(Pe.type){case"native":switch(Pe.value){case Number:case le:return"number"==typeof ge;case Boolean:return"boolean"==typeof ge;case String:return"string"==typeof ge}return ge instanceof Pe.value;case"array":return!!Array.isArray(ge)&&!ge.some(Ie=>!ce(Ie,Pe.value));case"one-of":return Pe.values.some(Ie=>ce(ge,Ie))}}},33794:(j,F,T)=>{"use strict";T.d(F,{hk:()=>ne,HS:()=>G,Ah:()=>Y,OM:()=>V});var w=T(90912),W=T(383);function k(U){U.name&&(U.read&&"object"==typeof U.read?void 0===U.read.source&&(U.read.source=U.name):U.read={source:U.name},U.write&&"object"==typeof U.write?void 0===U.write.target&&(U.write.target=U.name):U.write={target:U.name})}function re(U){"boolean"==typeof U.read?U.read={enabled:U.read}:"function"==typeof U.read?U.read={enabled:!0,reader:U.read}:U.read&&"object"==typeof U.read&&void 0===U.read.enabled&&(U.read.enabled=!0)}function ee(U){"boolean"==typeof U.write?U.write={enabled:U.write}:"function"==typeof U.write?U.write={enabled:!0,writer:U.write}:U.write&&"object"==typeof U.write&&void 0===U.write.enabled&&(U.write.enabled=!0)}var Z=T(23025);function G(U,$){return ne(U,"read",$)}function Y(U,$){return ne(U,"write",$)}function ne(U,$,z){let J=U&&U.json;if(U&&U.json&&U.json.origins&&z){const q=z.origin&&U.json.origins[z.origin];q&&("any"===$||$ in q)&&(J=q)}return J}function ie(U){return U.type?te(U):Q(U)}function te(U){if(!U.type)return;let $=0,z=U.type;for(;Array.isArray(z)&&!(0,w.gB)(z);)z=z[0],$++;return{type:z,ndimArray:$}}function Q(U){if(!U.types)return;let $=0,z=U.types;for(;Array.isArray(z);)z=z[0],$++;return{types:z,ndimArray:$}}function V(U){(function B(U){if(U.json||(U.json={}),re(U.json),ee(U.json),k(U.json),U.json.origins)for(const $ in U.json.origins)re(U.json.origins[$]),ee(U.json.origins[$]),k(U.json.origins[$]);return!0})(U)&&(function O(U){if(U.json&&U.json.origins){const $=U.json.origins,z={"web-document":["web-scene","web-map"]};for(const J in z)if($[J]){const q=$[J];z[J].forEach(oe=>{$[oe]=q}),delete $[J]}}}(U),function ae(U){const $=function se(U){return U.json.types?Q(U.json):U.type?te(U):Q(U)}(U);if(U.json.origins)for(const z in U.json.origins){const J=U.json.origins[z],q=J.types?ie(J):$;(0,W.U)(q,J,!1),J.types&&!J.write&&U.json.write&&U.json.write.enabled&&(J.write={...U.json.write}),(0,Z.U)(q,J)}(0,W.U)($,U.json,!0),(0,Z.U)($,U.json)}(U))}},383:(j,F,T)=>{"use strict";T.d(F,{U:()=>ee,d:()=>Z});var w=T(63290),O=T(94113),W=T(14889),B=T(34117),k=T(94056);const re=w.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function ee(z,J,q){z&&(!q&&!J.read||J.read?.reader||!1===J.read?.enabled||function te(z){return"types"in z?V(z.types):Q(z.type)}(z)&&(0,O.RB)("read.reader",Z(z),J))}function Z(z){const J=z.ndimArray??0;if(J>1)return function ae(z){const J=G(z),q=ne.bind(null,J),oe=z.ndimArray??0;return(pe,de,be)=>{if(null==pe)return pe;pe=q(pe,be,oe);let me=oe,_e=pe;for(;me>0&&Array.isArray(_e);)me--,_e=_e[0];if(void 0!==_e)for(let le=0;le<me;le++)pe=[pe];return pe}}(z);if(1===J)return se(z);if("type"in z&&ie(z.type)){const q=z.type.prototype?.itemType?.Type,oe=se("function"==typeof q?{type:q}:{types:q});return(pe,de,be)=>{const me=oe(pe,de,be);return me&&new z.type(me)}}return G(z)}function G(z){return"type"in z?function Y(z){return z.prototype.read?(J,q,oe)=>{if(null==J)return J;const pe=typeof J;if("object"!==pe)return void re.error(`Expected JSON value of type 'object' to deserialize type '${z.prototype.declaredClass}', but got '${pe}'`);const de=new z;return de.read(J,oe),de}:z.fromJSON}(z.type):function U(z){let J=null;const q=z.errorContext??"type";return(oe,pe,de)=>{if(null==oe)return oe;const be=typeof oe;if("object"!==be)return void re.error(`Expected JSON value of type 'object' to deserialize, but got '${be}'`);J||(J=function $(z){const J={};for(const q in z.typeMap){const oe=z.typeMap[q],pe=(0,B.fp)(oe.prototype);if("function"==typeof z.key)continue;const de=pe[z.key];if(!de)continue;de.json?.type&&Array.isArray(de.json.type)&&1===de.json.type.length&&"string"==typeof de.json.type[0]&&(J[de.json.type[0]]=oe);const be=de.json?.write;if(!be||!be.writer){J[q]=oe;continue}const me=be.target,_e="string"==typeof me?me:z.key,le={};be.writer(q,le,_e),le[_e]&&(J[le[_e]]=oe)}return J}(z));const me=z.key;if("string"!=typeof me)return;const _e=oe[me],le=_e?J[_e]:z.defaultKeyValue?z.typeMap[z.defaultKeyValue]:void 0;if(!le){const Ee=`Type '${_e||"unknown"}' is not supported`;return de&&de.messages&&oe&&de.messages.push(new W.Z(`${q}:unsupported`,Ee,{definition:oe,context:de})),void re.error(Ee)}const fe=new le;return fe.read(oe,de),fe}}(z.types)}function ne(z,J,q,oe){return 0!==oe&&Array.isArray(J)?J.map(pe=>ne(z,pe,q,oe-1)):z(J,void 0,q)}function se(z){const J=G(z);return(q,oe,pe)=>{if(null==q)return q;if(Array.isArray(q)){const be=[];for(const me of q){const _e=J(me,void 0,pe);void 0!==_e&&be.push(_e)}return be}const de=J(q,void 0,pe);return void 0!==de?[de]:void 0}}function ie(z){if(!(0,k.u)(z))return!1;const J=z.prototype.itemType;return!(!J||!J.Type)&&("function"==typeof J.Type?Q(J.Type):V(J.Type))}function Q(z){return!Array.isArray(z)&&!!z&&z.prototype&&("read"in z.prototype||"fromJSON"in z||ie(z))}function V(z){for(const J in z.typeMap)if(!Q(z.typeMap[J]))return!1;return!0}},94056:(j,F,T)=>{"use strict";function w(O){return!!O&&O.prototype&&O.prototype.declaredClass&&0===O.prototype.declaredClass.indexOf("esri.core.Collection")}T.d(F,{u:()=>w})},23025:(j,F,T)=>{"use strict";T.d(F,{U:()=>k,k:()=>ne});var w=T(26584),O=T(63290),W=T(94113),B=T(94056);function k(te,Q){if(!Q.write||Q.write.writer||!1===Q.write.enabled&&!Q.write.overridePolicy)return;const V=te?.ndimArray??0;Q.write.writer=te&&(1===V||"type"in te&&(0,B.u)(te.type))?ae:V>1?function ie(te){return(Q,V,U,$)=>{let z;if(null===Q)z=null;else{z=se(Q,$,te);let J=te,q=z;for(;J>0&&Array.isArray(q);)J--,q=q[0];if(void 0!==q)for(let oe=0;oe<J;oe++)z=[z]}(0,W.RB)(U,z,V)}}(V):Q.types?Array.isArray(Q.types)?function Z(te){return(Q,V,U,$)=>Q&&Array.isArray(Q)?G(Q.filter(z=>ee(z,te,$)),V,U,$):G(Q,V,U,$)}(Q.types[0]):function re(te){return(Q,V,U,$)=>Q?ee(Q,te,$)?G(Q,V,U,$):void 0:G(Q,V,U,$)}(Q.types):G}function ee(te,Q,V){for(const U in Q.typeMap)if(te instanceof Q.typeMap[U])return!0;if(V?.messages){const $=`Values of type '${("function"!=typeof Q.key?te[Q.key]:te.declaredClass)??"Unknown"}' cannot be written`;V&&V.messages&&te&&V.messages.push(new w.Z(`${Q.errorContext??"type"}:unsupported`,$,{definition:te,context:V})),O.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error($)}return!1}function G(te,Q,V,U){(0,W.RB)(V,Y(te,U),Q)}function Y(te,Q){return te&&"function"==typeof te.write?te.write({},Q):te&&"function"==typeof te.toJSON?te.toJSON():"number"==typeof te?ne(te):te}function ne(te){return te===-1/0?-Number.MAX_VALUE:te===1/0?Number.MAX_VALUE:isNaN(te)?null:te}function ae(te,Q,V,U){let $;null===te?$=null:te&&"function"==typeof te.map?($=te.map(z=>Y(z,U)),"function"==typeof $.toArray&&($=$.toArray())):$=[Y(te,U)],(0,W.RB)(V,$,Q)}function se(te,Q,V){return 0!==V&&Array.isArray(te)?te.map(U=>se(U,Q,V-1)):Y(te,Q)}},34595:(j,F,T)=>{"use strict";T.d(F,{$z:()=>B,Gg:()=>re,U2:()=>k});var w=T(52323);function O(ee,Z){const G="?"===ee[ee.length-1]?ee.slice(0,-1):ee;if(null!=Z.getItemAt||Array.isArray(Z)){const ne=parseInt(G,10);if(!isNaN(ne))return Array.isArray(Z)?Z[ne]:Z.getItemAt(ne)}const Y=(0,w.vw)(Z);return(0,w.b6)(Y,G)?Y.get(G):Z[G]}function W(ee,Z,G){if(null==ee)return ee;const Y=O(Z[G],ee);return!Y&&G<Z.length-1?void 0:G===Z.length-1?Y:W(Y,Z,G+1)}function B(ee,Z,G=0){return"string"!=typeof Z||Z.includes(".")?W(ee,(0,w.NI)(Z),G):O(Z,ee)}function k(ee,Z){return B(ee,Z)}function re(ee,Z){return void 0!==B(Z,ee)}},44648:(j,F,T)=>{"use strict";var w,O;T.d(F,{F:()=>w}),(O=w||(w={}))[O.INITIALIZING=0]="INITIALIZING",O[O.CONSTRUCTING=1]="CONSTRUCTING",O[O.CONSTRUCTED=2]="CONSTRUCTED"},34117:(j,F,T)=>{"use strict";T.d(F,{Oe:()=>k,fp:()=>B,tz:()=>ee});var w=T(58817),O=T(62208),W=T(52323);function B(Y){let ne=Y.constructor.__accessorMetadata__;const ae=Object.prototype.hasOwnProperty.call(Y.constructor,"__accessorMetadata__");if(ne){if(!ae){ne=Object.create(ne);for(const se in ne)ne[se]=(0,w.d9)(ne[se]);Object.defineProperty(Y.constructor,"__accessorMetadata__",{value:ne,enumerable:!1,configurable:!0,writable:!0})}}else ne={},Object.defineProperty(Y.constructor,"__accessorMetadata__",{value:ne,enumerable:!1,configurable:!0,writable:!0});return(0,O.j0)(Y.constructor.__accessorMetadata__)}function k(Y,ne){const ae=B(Y);let se=ae[ne];return se||(se=ae[ne]={}),se}function ee(Y,ne){return(0,W.TS)(Y,ne,G)}const Z=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function G(Y){return Z.test(Y)?"replace":"merge"}},29338:(j,F,T)=>{"use strict";T.d(F,{$:()=>Y,i:()=>G});var w=T(34595),O=T(52323),W=T(33794);function B(ne,ae,se){if(!ne||!ne.read||!1===ne.read.enabled||!ne.read.source)return!1;const ie=ne.read.source;if("string"==typeof ie){if(ie===ae||ie.includes(".")&&0===ie.indexOf(ae)&&(0,w.Gg)(ie,se))return!0}else for(const te of ie)if(te===ae||te.includes(".")&&0===te.indexOf(ae)&&(0,w.Gg)(te,se))return!0;return!1}function re(ne,ae,se,ie,te){let Q=(0,W.HS)(ae[se],te);(function k(ne){return ne&&(!ne.read||!1!==ne.read.enabled&&!ne.read.source)})(Q)&&(ne[se]=!0);for(const V of Object.getOwnPropertyNames(ae))Q=(0,W.HS)(ae[V],te),B(Q,se,ie)&&(ne[V]=!0)}function ee(ne,ae,se,ie){const Q=(0,W.hk)(se.metadatas[ae],"any",ie),V=Q&&Q.default;if(void 0===V)return;const U="function"==typeof V?V.call(ne,ae,ie):V;void 0!==U&&se.set(ae,U)}const Z={origin:"service"};function G(ne,ae,se=Z){if(!ae||"object"!=typeof ae)return;const ie=(0,O.vw)(ne),te=ie.metadatas,Q={};for(const V of Object.getOwnPropertyNames(ae))re(Q,te,V,ae,se);ie.setDefaultOrigin(se.origin);for(const V of Object.getOwnPropertyNames(Q)){const U=(0,W.HS)(te[V],se).read,$=U&&U.source;let z;z=$&&"string"==typeof $?(0,w.$z)(ae,$):ae[V],U&&U.reader&&(z=U.reader.call(ne,z,ae,se)),void 0!==z&&ie.set(V,z)}if(!se||!se.ignoreDefaults){ie.setDefaultOrigin("defaults");for(const V of Object.getOwnPropertyNames(te))Q[V]||ee(ne,V,ie,se)}ie.setDefaultOrigin("user")}function Y(ne,ae,se,ie=Z){const te={...ie,messages:[]};se(te),te.messages?.forEach(Q=>{"warning"!==Q.type||ne.loaded?ie&&ie.messages&&ie.messages.push(Q):ne.loadWarnings.push(Q)})}},82255:(j,F,T)=>{"use strict";T.d(F,{t:()=>k});var w=T(26584),O=T(8314),B=(T(63290),T(34595));function k(G,Y,ne){if(G&&Y)if("object"==typeof Y)for(const ae of Object.getOwnPropertyNames(Y))k(G,ae,Y[ae]);else{if(Y.includes(".")){const se=Y.split("."),ie=se.splice(se.length-1,1)[0];return void k((0,B.U2)(G,se),ie,ne)}const ae=G.__accessor__;null!=ae&&function re(G,Y){if((0,O.Z)("esri-unknown-property-errors")&&!function ee(G,Y){return null!=Y.metadatas[G]}(G,Y))throw new w.Z("set:unknown-property",function Z(G,Y){return"setting unknown property '"+G+"' on instance of "+Y.host.declaredClass}(G,Y))}(Y,ae),G[Y]=ne}}},36082:(j,F,T)=>{"use strict";T.d(F,{GF:()=>U,LJ:()=>ne,gb:()=>ae,it:()=>Z,mS:()=>Q}),T(8314);var O=T(63290),W=T(52323),B=T(2345);const k={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},re=[];let ee=k;function Z(z){ee.onObservableAccessed(z)}let G=!1,Y=!1;function ne(z,J,q){if(G)return se(z,J,q);ie(z);const oe=J.call(q);return te(),oe}function ae(z,J){return ne(k,z,J)}function se(z,J,q){const oe=G;G=!0,ie(z);let pe=null;try{pe=J.call(q)}catch(de){Y&&O.Z.getLogger("esri.core.accessorSupport.tracking").error(de)}return te(),G=oe,pe}function ie(z){ee=z,re.push(z)}function te(){const z=re.length;if(z>1){const J=re.pop();ee=re[z-2],J.onTrackingEnd()}else if(1===z){const J=re.pop();ee=k,J.onTrackingEnd()}else ee=k}function Q(z,J){const q=J.observerObject;if(q.flags&B.v.DepTrackingInitialized)return;const oe=Y;Y=!1,q.flags&B.v.AutoTracked?se(J,J.metadata.get,z):U(z,J),Y=oe}const V=[];function U(z,J){const q=J.observerObject;q.flags&B.v.ExplicitlyTracking||(q.flags|=B.v.ExplicitlyTracking,se(J,()=>{const oe=J.metadata.dependsOn||V;for(const pe of oe)if("string"!=typeof pe||pe.includes(".")){const de=(0,W.NI)(pe);for(let be=0,me=z;be<de.length&&null!=me&&"object"==typeof me;++be)me=$(me,de[be],be!==de.length-1)}else $(z,pe,!1)}),q.flags&=~B.v.ExplicitlyTracking)}function $(z,J,q){const oe="?"===J[J.length-1]?J.slice(0,-1):J;if(null!=z.getItemAt||Array.isArray(z)){const de=parseInt(oe,10);if(!isNaN(de))return Array.isArray(z)?z[de]:z.getItemAt(de)}const pe=(0,W.vw)(z)?.properties.get(oe);return pe&&(Z(pe.observerObject),Q(z,pe)),q?z[oe]:void 0}},21352:(j,F,T)=>{"use strict";T.d(F,{EH:()=>ee,U5:()=>k,Xz:()=>re});var w=T(36082),O=T(819);let W=!1;const B=[];function k(Y,ne){let ae=new O.M(function te(){if(!ae||ie)return;if(W)return void Z(te);const V=se;ae.clear(),W=!0,ie=!0,se=(0,w.LJ)(ae,Y),ie=!1,W=!1,ne(se,V),G()}),se=null,ie=!1;return ie=!0,se=(0,w.LJ)(ae,Y),ie=!1,{remove:function Q(){ae&&(ae.destroy(),ae=null,se=null)}}}function re(Y,ne){let ae=new O.M(function ie(){ne(se,Q)}),se=null;function Q(){return ae?(ae.clear(),se=(0,w.LJ)(ae,Y),se):null}return Q(),{remove:function te(){ae&&(ae.destroy(),ae=null),se=null}}}function ee(Y){let ne=new O.M(function se(){ne&&!ae&&(W?Z(se):(ne.clear(),W=!0,ae=!0,(0,w.LJ)(ne,Y),ae=!1,W=!1,G()))}),ae=!1;return ae=!0,(0,w.LJ)(ne,Y),ae=!1,{remove:function ie(){ne&&(ne.destroy(),ne=null)}}}function Z(Y){B.includes(Y)||B.unshift(Y)}function G(){for(;B.length;)B.pop()()}},2345:(j,F,T)=>{"use strict";var w,O;T.d(F,{v:()=>w}),(O=w||(w={}))[O.Dirty=1]="Dirty",O[O.Overriden=2]="Overriden",O[O.Computing=4]="Computing",O[O.NonNullable=8]="NonNullable",O[O.HasDefaultValue=16]="HasDefaultValue",O[O.DepTrackingInitialized=32]="DepTrackingInitialized",O[O.AutoTracked=64]="AutoTracked",O[O.ExplicitlyTracking=128]="ExplicitlyTracking"},84395:(j,F,T)=>{"use strict";T.d(F,{f:()=>W});var w=T(36082),O=T(48902);class W{constructor(k){this._observable=new O.s,this._value=k}get(){return(0,w.it)(this._observable),this._value}set(k){k!==this._value&&(this._value=k,this._observable.notify())}}},48902:(j,F,T)=>{"use strict";T.d(F,{s:()=>O});var w=T(7894);class O extends w.s{notify(){const B=this._observers;if(B&&B.length>0){const k=B.slice();for(const re of k)re.onInvalidated(),re.onCommitted()}}}},819:(j,F,T)=>{"use strict";T.d(F,{M:()=>w});class w{constructor(re){this._notify=re,this._accessed=[],this._handles=[],this._observerObject=new O(this._notify),W.register(this,this._observerObject)}destroy(){this._accessed.length=0,this._observerObject?.destroy(),this.clear(),W.unregister(this)}onObservableAccessed(re){const ee=this._accessed;ee.includes(re)||ee.push(re)}onTrackingEnd(){const re=this._handles,ee=this._accessed,Z=this._observerObject;for(let G=0;G<ee.length;++G)re.push(ee[G].observe(Z));ee.length=0}clear(){const re=this._handles;for(let ee=0;ee<re.length;++ee)re[ee].remove();re.length=0}}class O{constructor(re){this._notify=re,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const re=this._invalidCount;if(1===re)return this._invalidCount=0,void this._notify();this._invalidCount=re>0?re-1:0}destroy(){this.destroyed=!0,this._notify=B}}const W=new FinalizationRegistry(k=>{k.destroy()});function B(){}},52323:(j,F,T)=>{"use strict";T.d(F,{IH:()=>te,NI:()=>Y,Qc:()=>ie,TS:()=>ee,b6:()=>k,vw:()=>B});var w=T(54024),O=T(58817),W=T(62208);function B(Q){return Q?Q.__accessor__?Q.__accessor__:Q.propertyInvalidated?Q:null:null}function k(Q,V){return null!=Q&&Q.metadatas&&null!=Q.metadatas[V]}function ee(Q,V,U){return Z(Q,V,U?{policy:U,path:""}:null)}function Z(Q,V,U){return V?Object.keys(V).reduce(($,z)=>{let J=null,q="merge";if(U&&(J=U.path?`${U.path}.${z}`:z,q=U.policy(J)),"replace"===q||"replace-arrays"===q&&Array.isArray($[z]))return $[z]=V[z],$;if(void 0===$[z])return $[z]=(0,O.d9)(V[z]),$;let oe=$[z],pe=V[z];if(oe===pe)return $;if(Array.isArray(pe)||Array.isArray($))oe=$[z]=oe?Array.isArray(oe)?oe.concat():[oe]:[],pe&&(Array.isArray(pe)||(pe=[pe]),pe.forEach(de=>{oe.includes(de)||oe.push(de)}));else if(pe&&"object"==typeof pe)if(U){const de=U.path;U.path=(0,W.j0)(J),$[z]=Z(oe,pe,U),U.path=de}else $[z]=Z(oe,pe,null);else $.hasOwnProperty(z)&&!V.hasOwnProperty(z)||($[z]=pe);return $},Q||{}):Q}function Y(Q){return Array.isArray(Q)?Q:Q.split(".")}function ne(Q){return Q.includes(",")?Q.split(",").map(V=>V.trim()):[Q.trim()]}function ie(Q,V,U,$){const z=function ae(Q){if(Array.isArray(Q)){const V=[];for(const U of Q)V.push(...ne(U));return V}return ne(Q)}(V);if(1!==z.length){const J=z.map(q=>$(Q,q,U));return(0,w.AL)(J)}return $(Q,z[0],U)}function te(Q){let V=!1;return()=>{V||(V=!0,Q())}}},30755:(j,F,T)=>{"use strict";T.d(F,{BT:()=>V,Fs:()=>J,NC:()=>_e,YP:()=>pe,aQ:()=>me});var Y,le,w=T(35575),O=T(58817),W=T(94530),B=T(50618),k=T(28862),re=T(86236),ee=T(34595),Z=T(21352),G=T(52323);(le=Y||(Y={}))[le.Untracked=0]="Untracked",le[le.Tracked=1]="Tracked";class ne{constructor(){this.uid=(0,re.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(fe,Ee,ye,ue,Me){return this.pool.acquire(Y.Untracked,fe,Ee,ye,ue,Me,O.fS)}static acquireTracked(fe,Ee,ye,ue){return this.pool.acquire(Y.Tracked,fe,Ee,ye,null,null,ue)}notify(fe,Ee){this.type===Y.Untracked?this.callback.call(this.target,fe,Ee,this.path,this.target):this.callback.call(null,fe,Ee)}acquire(fe,Ee,ye,ue,Me,ce,ge){this.uid=(0,re.D)(),this.removed=!1,this.type=fe,this.oldValue=Ee,this.callback=ye,this.getValue=ue,this.target=Me,this.path=ce,this.equals=ge}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,re.D)(),this.removed=!0}}ne.pool=new W.e(ne);const ae=new w.Z,se=new Set;let ie;function te(le){se.delete(le),se.add(le),ie||(ie=(0,B.Os)(U))}function Q(le){if(le.removed)return;const fe=le.oldValue,Ee=le.getValue();le.equals(fe,Ee)||(le.oldValue=Ee,le.notify(Ee,fe))}function V(le){for(const fe of se.values())fe.target===le&&(fe.removed=!0)}function U(){let le=10;for(;ie&&le--;){ie=null;const fe=$(),Ee=ae.acquire();for(const ye of fe){const ue=ye.uid;Q(ye),ue===ye.uid&&ye.removed&&Ee.push(ye)}for(const ye of se)ye.removed&&(Ee.push(ye),se.delete(ye));for(const ye of Ee)ne.pool.release(ye);ae.release(Ee),ae.release(fe),z.forEach(ye=>ye())}}function $(){const le=ae.acquire();le.length=se.size;let fe=0;for(const Ee of se)le[fe]=Ee,++fe;return se.clear(),le}const z=new Set;function J(le){return z.add(le),{remove(){z.delete(le)}}}function pe(le,fe,Ee,ye=!1){return!le.__accessor__||le.__accessor__.destroyed?{remove(){}}:ye?function oe(le,fe,Ee){const ye=(0,G.Qc)(le,fe,Ee,(ue,Me,ce)=>{let ge=!1;return(0,Z.U5)(()=>(0,ee.$z)(ue,Me),(Pe,Ie)=>{ue.__accessor__.destroyed?ye.remove():ge||(ge=!0,(0,O.fS)(Ie,Pe)||ce.call(ue,Pe,Ie,Me,ue),ge=!1)})});return ye}(le,fe,Ee):function q(le,fe,Ee){let ye=(0,G.Qc)(le,fe,Ee,(ue,Me,ce)=>{let ge,Pe,Ie=(0,Z.Xz)(()=>(0,ee.$z)(ue,Me),(Re,Ce)=>{ue.__accessor__.destroyed||ge&&ge.uid!==Pe?ye.remove():(ge||(ge=ne.acquireUntracked(Re,ce,Ce,ue,Me),Pe=ge.uid),te(ge))});return{remove:(0,G.IH)(()=>{Ie.remove(),ge&&(ge.uid!==Pe||ge.removed||(ge.removed=!0,te(ge)),ge=null),ye=Ie=null})}});return ye}(le,fe,Ee)}function me(le,fe,Ee=!1,ye=O.y7){return Ee?function be(le,fe,Ee){let ye=!1;return(0,Z.U5)(le,(ue,Me)=>{ye||(ye=!0,Ee(Me,ue)||fe(ue,Me),ye=!1)})}(le,fe,ye):function de(le,fe,Ee){let ye,ue,Me=(0,Z.Xz)(le,(ce,ge)=>{ye&&ye.uid!==ue?Me.remove():(ye||(ye=ne.acquireTracked(ce,fe,ge,Ee),ue=ye.uid),te(ye))});return{remove:(0,G.IH)(()=>{Me.remove(),ye&&(ye.uid!==ue||ye.removed||(ye.removed=!0,te(ye)),ye=null),Me=null})}}(le,fe,ye)}function _e(le){return(0,k.f)(se,fe=>fe.oldValue===le)}},36054:(j,F,T)=>{"use strict";T.d(F,{c:()=>ne,d:()=>Y});var w=T(85931),O=T(26584),W=T(63290),B=T(31283),k=T(52323),re=T(33794);function ee(ae,se,ie,te,Q){const V={};return se.write?.writer?.call(ae,te,V,ie,Q),V}function Z(ae,se,ie,te,Q,V){if(!te||!te.write)return!1;const U=ae.get(ie);if(!Q&&te.write.overridePolicy){const $=te.write.overridePolicy.call(ae,U,ie,V);void 0!==$&&(Q=$)}if(Q||(Q=te.write),!Q||!1===Q.enabled)return!1;if((null===U&&!Q.allowNull&&!Q.writerEnsuresNonNull||void 0===U)&&Q.isRequired){const $=new O.Z("web-document-write:property-required",`Missing value for required property '${ie}' on '${ae.declaredClass}'`,{propertyName:ie,target:ae});return $&&V&&V.messages?V.messages.push($):$&&!V&&W.Z.getLogger("esri.core.accessorSupport.write").error($.name,$.message),!1}return!(void 0===U||null===U&&!Q.allowNull&&!Q.writerEnsuresNonNull||(!se.store.multipleOriginsSupported||se.store.originOf(ie)===B.s3.DEFAULTS)&&function G(ae,se,ie,te,Q){const V=te.default;if(void 0===V)return!1;if(null!=te.defaultEquals)return te.defaultEquals(Q);if("function"==typeof V){if(Array.isArray(Q)){const U=V.call(ae,se,ie);return(0,w.fS)(U,Q)}return!1}return V===Q}(ae,ie,V,te,U)||!Q.ignoreOrigin&&V&&V.origin&&se.store.multipleOriginsSupported&&se.store.originOf(ie)<(0,B.M9)(V.origin))}function Y(ae,se,ie,te){const Q=(0,k.vw)(ae),U=(0,re.Ah)(Q.metadatas[se],te);return!!U&&Z(ae,Q,se,U,ie,te)}function ne(ae,se,ie){if(ae&&"function"==typeof ae.toJSON&&(!ae.toJSON.isDefaultToJSON||!ae.write))return(0,k.TS)(se,ae.toJSON(ie));const te=(0,k.vw)(ae),Q=te.metadatas;for(const V in Q){const U=(0,re.Ah)(Q[V],ie);if(!Z(ae,te,V,U,void 0,ie))continue;const $=ae.get(V),z=ee(ae,U,U.write&&"string"==typeof U.write.target?U.write.target:V,$,ie);Object.keys(z).length>0&&(se=(0,k.TS)(se,z),ie?.resources?.pendingOperations?.length&&ie.resources.pendingOperations.push(Promise.all(ie.resources.pendingOperations).then(()=>(0,k.TS)(se,z,()=>"replace-arrays"))),ie&&ie.writtenProperties&&ie.writtenProperties.push({target:ae,propName:V,oldOrigin:(0,B.Wm)(te.store.originOf(V)),newOrigin:ie.origin}))}return se}},85931:(j,F,T)=>{"use strict";T.d(F,{FY:()=>de,Od:()=>Ee,SO:()=>z,Tw:()=>Z,Vx:()=>Y,a9:()=>Q,cq:()=>q,e$:()=>oe,e5:()=>ne,fS:()=>G,hv:()=>be,w6:()=>V,zG:()=>se});var w=T(62208),O=T(4619);function Z(ue,Me){return ue.filter(Me?(ce,ge,Pe)=>Pe.findIndex(Me.bind(null,ce))===ge:(ce,ge,Pe)=>Pe.indexOf(ce)===ge)}function G(ue,Me,ce){if((0,w.Wi)(ue)&&(0,w.Wi)(Me))return!0;if((0,w.Wi)(ue)||(0,w.Wi)(Me)||ue.length!==Me.length)return!1;if(ce){for(let ge=0;ge<ue.length;ge++)if(!ce(ue[ge],Me[ge]))return!1}else for(let ge=0;ge<ue.length;ge++)if(ue[ge]!==Me[ge])return!1;return!0}function Y(ue,Me){let ce=ue.length!==Me.length;ce&&(ue.length=Me.length);for(let ge=0;ge<Me.length;++ge)ue[ge]!==Me[ge]&&(ue[ge]=Me[ge],ce=!0);return ce}function ne(ue,Me,ce){let ge,Pe;return ce?(ge=Me.filter(Ie=>!ue.some(Re=>ce(Re,Ie))),Pe=ue.filter(Ie=>!Me.some(Re=>ce(Re,Ie)))):(ge=Me.filter(Ie=>!ue.includes(Ie)),Pe=ue.filter(Ie=>!Me.includes(Ie))),{added:ge,removed:Pe}}function se(ue){return ue&&"number"==typeof ue.length}const te=!!Array.prototype.fill;function Q(ue,Me){if(te)return new Array(ue).fill(Me);const ce=new Array(ue);for(let ge=0;ge<ue;ge++)ce[ge]=Me;return ce}function V(ue,Me){void 0===Me&&(Me=ue,ue=0);const ce=new Array(Me-ue);for(let ge=ue;ge<Me;ge++)ce[ge-ue]=ge;return ce}class z{constructor(){this.last=0}}const J=new z;function q(ue,Me,ce,ge){ge=ge||J;const Pe=Math.max(0,ge.last-10);for(let Re=Pe;Re<ce;++Re)if(ue[Re]===Me)return ge.last=Re,Re;const Ie=Math.min(Pe,ce);for(let Re=0;Re<Ie;++Re)if(ue[Re]===Me)return ge.last=Re,Re;return-1}function oe(ue,Me,ce,ge){const Pe=ce??ue.length,Ie=q(ue,Me,Pe,ge);if(-1!==Ie)return ue[Ie]=ue[Pe-1],null==ce&&ue.pop(),Me}const pe=new Set;function de(ue,Me,ce=ue.length,ge=Me.length,Pe,Ie){if(0===ge||0===ce)return ce;pe.clear();for(let Ce=0;Ce<ge;++Ce)pe.add(Me[Ce]);Pe=Pe||J;const Re=Math.max(0,Pe.last-10);for(let Ce=Re;Ce<ce;++Ce)if(pe.has(ue[Ce])&&(Ie&&Ie.push(ue[Ce]),pe.delete(ue[Ce]),ue[Ce]=ue[ce-1],--ce,--Ce,0===pe.size||0===ce))return pe.clear(),ce;for(let Ce=0;Ce<Re;++Ce)if(pe.has(ue[Ce])&&(Ie&&Ie.push(ue[Ce]),pe.delete(ue[Ce]),ue[Ce]=ue[ce-1],--ce,--Ce,0===pe.size||0===ce))return pe.clear(),ce;return pe.clear(),ce}function be(ue,Me){let ce=0;for(let ge=0;ge<ue.length;++ge){const Pe=ue[ge];Me(Pe,ge)&&(ue[ce]=Pe,ce++)}ue.length=ce}function Ee(ue,Me){const ce=ue.indexOf(Me);return-1!==ce?(ue.splice(ce,1),Me):null}new O.Z},59213:(j,F,T)=>{"use strict";T.d(F,{Ed:()=>Y,UI:()=>ne,mt:()=>$,q6:()=>V,vr:()=>q});var w=T(15861),O=T(17626),W=T(14517),B=T(62208),k=T(10699),re=T(77712),G=(T(90912),T(85931),T(76898));function Y(pe,de,be){return(0,k.as)(pe.map((me,_e)=>de.apply(be,[me,_e])))}function ne(pe,de,be){return ae.apply(this,arguments)}function ae(){return(ae=(0,w.Z)(function*(pe,de,be){return(yield(0,k.as)(pe.map((me,_e)=>de.apply(be,[me,_e])))).map(me=>me.value)})).apply(this,arguments)}function se(pe){return{ok:!0,value:pe}}function ie(pe){return{ok:!1,error:pe}}function V(pe){return U.apply(this,arguments)}function U(){return(U=(0,w.Z)(function*(pe){if((0,B.Wi)(pe))return{ok:!1,error:new Error("no promise provided")};try{return se(yield pe)}catch(de){return ie(de)}})).apply(this,arguments)}function $(pe){return z.apply(this,arguments)}function z(){return(z=(0,w.Z)(function*(pe){try{return se(yield pe)}catch(de){return(0,k.r9)(de),ie(de)}})).apply(this,arguments)}function q(pe,de){return new oe(pe,de)}let oe=class extends W.Z{get value(){return function te(pe){return(0,B.pC)(pe)&&!0===pe.ok?pe.value:null}(this._result)}get error(){return function Q(pe){return(0,B.pC)(pe)&&!1===pe.ok?pe.error:null}(this._result)}get finished(){return(0,B.pC)(this._result)}constructor(pe,de){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,B.IM)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:be}=this._abortController;this.promise=pe(be),this.promise.then(me=>{this._result=se(me),this._cleanup()},me=>{this._result=ie(me),this._cleanup()}),this._abortHandle=(0,k.fu)(de,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,B.hw)(this._abortHandle),this._abortController=null}};(0,O._)([(0,re.Cb)()],oe.prototype,"value",null),(0,O._)([(0,re.Cb)()],oe.prototype,"error",null),(0,O._)([(0,re.Cb)()],oe.prototype,"finished",null),(0,O._)([(0,re.Cb)()],oe.prototype,"promise",void 0),(0,O._)([(0,re.Cb)()],oe.prototype,"_result",void 0),oe=(0,O._)([(0,G.j)("esri.core.asyncUtils.ReactiveTask")],oe)},27306:(j,F,T)=>{"use strict";function w(ne){return 32+ne.length}function W(ne){if(!ne)return 0;let ae=Z;for(const se in ne)if(ne.hasOwnProperty(se)){const ie=ne[se];switch(typeof ie){case"string":ae+=w(ie);break;case"number":ae+=16;break;case"boolean":ae+=4}}return ae}function B(ne){if(!ne)return 0;if(Array.isArray(ne))return function k(ne){const ae=ne.length;if(0===ae||"number"==typeof ne[0])return 32+8*ae;let se=G;for(let ie=0;ie<ae;ie++)se+=re(ne[ie]);return se}(ne);let ae=Z;for(const se in ne)ne.hasOwnProperty(se)&&(ae+=re(ne[se]));return ae}function re(ne){switch(typeof ne){case"object":return B(ne);case"string":return w(ne);case"number":return 16;case"boolean":return 4;default:return 8}}function ee(ne,ae){return G+ne.length*ae}T.d(F,{Ul:()=>B,Y8:()=>Y,do:()=>ee,f2:()=>W});const Z=32,G=32;var Y,ne;(ne=Y||(Y={}))[ne.KILOBYTES=1024]="KILOBYTES",ne[ne.MEGABYTES=1048576]="MEGABYTES",ne[ne.GIGABYTES=1073741824]="GIGABYTES"},84244:(j,F,T)=>{"use strict";T.d(F,{m:()=>O});const O=function w(W){return{setTimeout:(B,k)=>{const re=W.setTimeout(B,k);return{remove:()=>W.clearTimeout(re)}}}}(globalThis)},89726:(j,F,T)=>{"use strict";T.d(F,{R:()=>W,Z:()=>O});var w=T(74333);function O(k,re,ee=w.Z){return re||(re=new ee),re===k||(re.removeAll(),function B(k){return k&&(Array.isArray(k)||"items"in k&&Array.isArray(k.items))}(k)?re.addMany(k):k&&re.add(k)),re}function W(k){return k}},78260:(j,F,T)=>{"use strict";function O(me){return"h"in me&&"s"in me&&"v"in me}function W(me){return"l"in me&&"a"in me&&"b"in me}function B(me){return"l"in me&&"c"in me&&"h"in me}T.d(F,{Y3:()=>oe,_Y:()=>q,_j:()=>be,sJ:()=>pe,xr:()=>J});const re=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ee=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function Z(me,_e){const le=[];let fe,Ee;if(me[0].length!==_e.length)throw new Error("dimensions do not match");const ye=me.length,ue=me[0].length;let Me=0;for(fe=0;fe<ye;fe++){for(Me=0,Ee=0;Ee<ue;Ee++)Me+=me[fe][Ee]*_e[Ee];le.push(Me)}return le}function G(me){const _e=[me.r/255,me.g/255,me.b/255].map(fe=>fe<=.04045?fe/12.92:((fe+.055)/1.055)**2.4),le=Z(re,_e);return{x:100*le[0],y:100*le[1],z:100*le[2]}}function Y(me){const _e=Z(ee,[me.x/100,me.y/100,me.z/100]).map(le=>Math.min(1,Math.max(le<=.0031308?12.92*le:1.055*le**.4166666666666667-.055,0)));return{r:Math.round(255*_e[0]),g:Math.round(255*_e[1]),b:Math.round(255*_e[2])}}function ne(me){const _e=[me.x/95.047,me.y/100,me.z/108.883].map(le=>le>.008856451679035631?le**.3333333333333333:7.787037037037035*le+.13793103448275862);return{l:116*_e[1]-16,a:500*(_e[0]-_e[1]),b:200*(_e[1]-_e[2])}}function ae(me){const _e=me.l,le=[(_e+16)/116+me.a/500,(_e+16)/116,(_e+16)/116-me.b/200].map(fe=>fe>6/29?fe**3:3*(6/29)**2*(fe-4/29));return{x:95.047*le[0],y:100*le[1],z:108.883*le[2]}}function te(me){return ne(G(me))}function Q(me){return Y(ae(me))}function J(me){return function w(me){return"r"in me&&"g"in me&&"b"in me}(me)?me:B(me)?function U(me){return Y(ae(function ie(me){const le=me.c,fe=me.h;return{l:me.l,a:le*Math.cos(fe),b:le*Math.sin(fe)}}(me)))}(me):W(me)?Q(me):function k(me){return"x"in me&&"y"in me&&"z"in me}(me)?Y(me):O(me)?function z(me){const _e=(me.h+360)%360/60,fe=me.v/100*255,Ee=fe*(me.s/100),ye=Ee*(1-Math.abs(_e%2-1));let ue;switch(Math.floor(_e)){case 0:ue={r:Ee,g:ye,b:0};break;case 1:ue={r:ye,g:Ee,b:0};break;case 2:ue={r:0,g:Ee,b:ye};break;case 3:ue={r:0,g:ye,b:Ee};break;case 4:ue={r:ye,g:0,b:Ee};break;case 5:case 6:ue={r:Ee,g:0,b:ye};break;default:ue={r:0,g:0,b:0}}return ue.r=Math.round(ue.r+fe-Ee),ue.g=Math.round(ue.g+fe-Ee),ue.b=Math.round(ue.b+fe-Ee),ue}(me):me}function q(me){return O(me)?me:function $(me){const _e=me.r,le=me.g,fe=me.b,Ee=Math.max(_e,le,fe),ye=Ee-Math.min(_e,le,fe);let ue=Ee,Me=0===ye?0:Ee===_e?(le-fe)/ye%6:Ee===le?(fe-_e)/ye+2:(_e-le)/ye+4,ce=0===ye?0:ye/ue;return Me<0&&(Me+=6),Me*=60,ce*=100,ue*=100/255,{h:Me,s:ce,v:ue}}(J(me))}function oe(me){return W(me)?me:te(J(me))}function pe(me){return B(me)?me:function V(me){return function se(me){const _e=me.l,le=me.a,fe=me.b,Ee=Math.sqrt(le*le+fe*fe);let ye=Math.atan2(fe,le);return ye=ye>0?ye:ye+2*Math.PI,{l:_e,c:Ee,h:ye}}(ne(G(me)))}(J(me))}function be(me,_e){const le=te(me);return le.l*=1-_e,Q(le)}},94573:(j,F,T)=>{"use strict";function O(k){}function B(k){return()=>k}T.d(F,{Bg:()=>O,sM:()=>B}),T(8314)},55538:(j,F,T)=>{"use strict";T.d(F,{Mr:()=>re,x9:()=>ee});var w=T(8314);const O=new Set;function re(Z,G,Y={}){if((0,w.Z)("esri-deprecation-warnings")){const{moduleName:ne}=Y;ee(Z,"Property: "+(ne?ne+"::":"")+G,Y)}}function ee(Z,G,Y={}){if((0,w.Z)("esri-deprecation-warnings")){const{replacement:ne,version:ae,see:se,warnOnce:ie}=Y;let te=G;ne&&(te+=`\n\t\u{1f6e0}\ufe0f Replacement: ${ne}`),ae&&(te+=`\n\t\u2699\ufe0f Version: ${ae}`),se&&(te+=`\n\t\u{1f517} See ${se} for more details.`),function W(Z,G,Y=!1){Y&&O.has(G)||(Y&&O.add(G),Z.warn(`\u{1f6d1} DEPRECATED - ${G}`))}(Z,te,ie)}}},83100:(j,F,T)=>{"use strict";function w(G){return G=G||globalThis.location.hostname,Z.some(Y=>null!=G?.match(Y))}function O(G,Y){return G&&(Y=Y||globalThis.location.hostname)?null!=Y.match(B)||null!=Y.match(re)?G.replace("static.arcgis.com","staticdev.arcgis.com"):null!=Y.match(k)||null!=Y.match(ee)?G.replace("static.arcgis.com","staticqa.arcgis.com"):G:G}T.d(F,{XO:()=>w,pJ:()=>O});const B=/^devext.arcgis.com$/,k=/^qaext.arcgis.com$/,re=/^[\w-]*\.mapsdevext.arcgis.com$/,ee=/^[\w-]*\.mapsqa.arcgis.com$/,Z=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,B,k,/^jsapps.esri.com$/,re,ee]},40764:(j,F,T)=>{"use strict";function w(Z){return"string"==typeof Z?document.getElementById(Z):Z??null}function O(Z){for(;Z.hasChildNodes();)Z.removeChild(Z.firstChild)}function B(Z,G){const Y=G.parentNode;Y&&Y.insertBefore(Z,G)}function k(Z,G){for(;;){const Y=Z.firstChild;if(!Y)break;G.appendChild(Y)}}T.d(F,{L7:()=>w,Vt:()=>B,YD:()=>k,cS:()=>O}),(()=>{if("function"==typeof Element.prototype.closest)return(G,Y)=>G.closest(Y);Element.prototype.matches||Element})()},17770:(j,F,T)=>{"use strict";function w(ee){return ee&&("function"==typeof ee.on||"function"==typeof ee.addEventListener)}function O(ee,Z,G){if(!w(ee))throw new TypeError("target is not a Evented or EventTarget object");if("on"in ee)return ee.on(Z,G);if(Array.isArray(Z)){const Y=Z.slice();for(const ne of Y)ee.addEventListener(ne,G);return{remove(){for(const ne of Y)ee.removeEventListener(ne,G)}}}return ee.addEventListener(Z,G),{remove(){ee.removeEventListener(Z,G)}}}function W(ee,Z,G){if(!w(ee))throw new TypeError("target is not a Evented or EventTarget object");if("once"in ee)return ee.once(Z,G);const Y=O(ee,Z,ne=>{Y.remove(),G.call(ee,ne)});return{remove(){Y.remove()}}}T.d(F,{IH:()=>W,kK:()=>re,on:()=>O,vT:()=>w});const k={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function re({key:ee}){return k[ee]||ee}},54024:(j,F,T)=>{"use strict";T.d(F,{AL:()=>O,ed:()=>k,iU:()=>B,kB:()=>W});var w=T(62208);function O(Z){return W(()=>Z.forEach(G=>(0,w.pC)(G)&&G.remove()))}function W(Z){return{remove:()=>{Z&&(Z(),Z=void 0)}}}function B(Z){return W(()=>{const G=Z();(0,w.pC)(G)&&G.remove()})}function k(Z){return W((0,w.pC)(Z)?()=>Z.destroy():void 0)}},8314:(j,F,T)=>{"use strict";let w;function O(W){return"function"==typeof w[W]?w[W]=w[W](globalThis):w[W]}T.d(F,{Z:()=>O}),w=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},O.add=(W,B,k,re)=>((re||void 0===w[W])&&(w[W]=B),k&&O(W)),O.cache=w,O.add("esri-deprecation-warnings",!0),(()=>{O.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const W=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(O.add("host-browser",W),O.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),O.add("dom",W),O("host-browser")){const B=navigator,k=B.userAgent,re=B.appVersion,ee=parseFloat(re);if(O.add("wp",parseFloat(k.split("Windows Phone")[1])||void 0),O.add("msapp",parseFloat(k.split("MSAppHost/")[1])||void 0),O.add("khtml",re.includes("Konqueror")?ee:void 0),O.add("edge",parseFloat(k.split("Edge/")[1])||void 0),O.add("opr",parseFloat(k.split("OPR/")[1])||void 0),O.add("webkit",!O("wp")&&!O("edge")&&parseFloat(k.split("WebKit/")[1])||void 0),O.add("chrome",!O("edge")&&!O("opr")&&parseFloat(k.split("Chrome/")[1])||void 0),O.add("android",!O("wp")&&parseFloat(k.split("Android ")[1])||void 0),O.add("safari",!re.includes("Safari")||O("wp")||O("chrome")||O("android")||O("edge")||O("opr")?void 0:parseFloat(re.split("Version/")[1])),O.add("mac",re.includes("Macintosh")),!O("wp")&&k.match(/(iPhone|iPod|iPad)/)){const Z=RegExp.$1.replace(/P/,"p"),G=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",Y=parseFloat(G.replace(/_/,".").replace(/_/g,""));O.add(Z,Y),O.add("ios",Y)}O("webkit")||(!k.includes("Gecko")||O("wp")||O("khtml")||O("edge")||O.add("mozilla",ee),O("mozilla")&&O.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const W=navigator.userAgent,B=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(W),k=/iPhone/i.test(W);B&&O.add("esri-mobile",B),k&&O.add("esri-iPhone",k),O.add("esri-geolocation",!!navigator.geolocation)}O.add("esri-wasm","WebAssembly"in globalThis),O.add("esri-shared-array-buffer",()=>{const W="SharedArrayBuffer"in globalThis,B=!1===globalThis.crossOriginIsolated;return W&&!B}),O.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),O.add("esri-atomics","Atomics"in globalThis),O.add("esri-workers","Worker"in globalThis),O.add("web-feat:cache","caches"in globalThis),O.add("esri-workers-arraybuffer-transfer",!O("safari")||Number(O("safari"))>=12),O.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),O.add("featurelayer-simplify-payload-size-factors",[1,1,4]),O.add("featurelayer-snapshot-enabled",!0),O.add("featurelayer-snapshot-point-min-threshold",8e4),O.add("featurelayer-snapshot-point-max-threshold",4e5),O.add("featurelayer-snapshot-point-coverage",.1),O.add("featurelayer-advanced-symbols",!1),O.add("featurelayer-pbf",!0),O.add("featurelayer-pbf-statistics",!1),O.add("feature-layers-workers",!0),O.add("feature-polyline-generalization-factor",1),O.add("mapview-transitions-duration",200),O.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),O.add("mapserver-pbf-version-support",10.81),O.add("mapservice-popup-identify-max-tolerance",20),O.add("heatmap-allow-raster-fallback",!0),O.add("heatmap-force-raster",!1),O("host-webworker")||O("host-browser")&&(O.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),O.add("esri-image-decode",()=>{if("decode"in new Image){const W=new Image;return W.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void W.decode().then(()=>{O.add("esri-image-decode",!0,!0,!0)}).catch(()=>{O.add("esri-image-decode",!1,!0,!0)})}return!1}),O.add("esri-url-encodes-apostrophe",()=>{const W=window.document.createElement("a");return W.href="?'",W.href.includes("?%27")}))})()},56354:(j,F,T)=>{"use strict";function w(B){const k=[];return function*(){yield*k;for(const re of B)k.push(re),yield re}}function O(B,k){for(const re of B)if(null!=re&&k(re))return re}function W(B){return null!=B&&"function"==typeof B[Symbol.iterator]}T.d(F,{Fs:()=>w,TW:()=>W,sE:()=>O})},2076:(j,F,T)=>{"use strict";T.d(F,{X:()=>O,w:()=>W});var w=T(94113);class O{constructor(k,re={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=k,this._options=re,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(k),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=ee=>this.fromJSON(ee),this.write=(ee,Z,G)=>{const Y=this.toJSON(ee);void 0!==Y&&(0,w.RB)(G,Y,Z)},this.write.isJSONMapWriter=!0}toJSON(k){if(null==k)return null;if(this._apiToJSON.hasOwnProperty(k)){const re=this._apiToJSON[k];return this._options.useNumericKeys?+re:re}return this._options.ignoreUnknown?void 0:k}fromJSON(k){return null!=k&&this._jsonToAPI.hasOwnProperty(k)?this._jsonToAPI[k]:this._options.ignoreUnknown?void 0:k}_invertMap(k){const re={};for(const ee in k)re[k[ee]]=ee;return re}_getKeysSorted(k){const re=[];for(const ee in k)re.push(ee);return re.sort(),re}}function W(){return function(B,k){return new O(B,{ignoreUnknown:!0,...k})}}},58817:(j,F,T)=>{"use strict";T.d(F,{Vo:()=>re,d9:()=>k,fS:()=>ae,y7:()=>se,yd:()=>B});var w=T(85931),O=T(62208),W=T(55713);function B(V,U){let $;if(U)for($ in V)V.hasOwnProperty($)&&(void 0===V[$]?delete V[$]:V[$]instanceof Object&&B(V[$],!0));else for($ in V)V.hasOwnProperty($)&&void 0===V[$]&&delete V[$];return V}function k(V){if(!V||"object"!=typeof V||"function"==typeof V)return V;const U=ne(V);if((0,O.pC)(U))return U;if(ee(V))return V.clone();if(Z(V))return V.map(k);if(G(V))return V.clone();const $={};for(const z of Object.getOwnPropertyNames(V))$[z]=k(V[z]);return $}function re(V){if(!V||"object"!=typeof V||"function"==typeof V||"HTMLElement"in globalThis&&V instanceof HTMLElement)return V;const U=ne(V);if((0,O.pC)(U))return U;if(Z(V)){let $=!0;const z=V.map(J=>{const q=re(J);return null!=J&&null==q&&($=!1),q});return $?z:null}if(ee(V))return V.clone();if(!G(V)){const $=new(Object.getPrototypeOf(V).constructor);for(const z of Object.getOwnPropertyNames(V)){const J=V[z],q=re(J);if(null!=J&&null==q)return null;$[z]=q}return $}return null}function ee(V){return"function"==typeof V.clone}function Z(V){return"function"==typeof V.map&&"function"==typeof V.forEach}function G(V){return"function"==typeof V.notifyChange&&"function"==typeof V.watch}function Y(V){if("[object Object]"!==Object.prototype.toString.call(V))return!1;const U=Object.getPrototypeOf(V);return null===U||U===Object.prototype}function ne(V){if((0,W.W0)(V)||(0,W.lq)(V)||(0,W.KZ)(V)||(0,W.z3)(V)||(0,W.Uc)(V)||(0,W.Hx)(V)||(0,W.ZY)(V)||(0,W.xZ)(V)||(0,W.fS)(V))return V.slice();if(V instanceof Date)return new Date(V.getTime());if(V instanceof ArrayBuffer)return V.slice(0,V.byteLength);if(V instanceof Map){const U=new Map;for(const[$,z]of V)U.set($,k(z));return U}if(V instanceof Set){const U=new Set;for(const $ of V)U.add(k($));return U}return null}function ae(V,U){return V===U||"number"==typeof V&&isNaN(V)&&"number"==typeof U&&isNaN(U)||"function"==typeof(V||{}).getTime&&"function"==typeof(U||{}).getTime&&V.getTime()===U.getTime()||!1}function se(V,U){return V===U||(null==V||"string"==typeof V?V===U:"number"==typeof V?V===U||"number"==typeof U&&isNaN(V)&&isNaN(U):V instanceof Date?U instanceof Date&&V.getTime()===U.getTime():Array.isArray(V)?Array.isArray(U)&&(0,w.fS)(V,U):V instanceof Set?U instanceof Set&&function te(V,U){if(V.size!==U.size)return!1;for(const $ of V)if(!U.has($))return!1;return!0}(V,U):V instanceof Map?U instanceof Map&&function Q(V,U){if(V.size!==U.size)return!1;for(const[$,z]of V){const J=U.get($);if(J!==z||void 0===J&&!U.has($))return!1}return!0}(V,U):!!Y(V)&&Y(U)&&function ie(V,U){if(null===V||null===U)return!1;const $=Object.keys(V);if(null===U||Object.keys(U).length!==$.length)return!1;for(const z of $)if(V[z]!==U[z]||!Object.prototype.hasOwnProperty.call(U,z))return!1;return!0}(V,U))}},47877:(j,F,T)=>{"use strict";T.d(F,{G:()=>re,w:()=>Z});var w=T(15861),O=T(59213),W=T(74333),B=T(47996),k=T(62208);function re(ne,ae){return ee.apply(this,arguments)}function ee(){return(ee=(0,w.Z)(function*(ne,ae){return yield ne.load(),Z(ne,ae)})).apply(this,arguments)}function Z(ne,ae){return G.apply(this,arguments)}function G(){return G=(0,w.Z)(function*(ne,ae){const se=[],ie=(...Q)=>{for(const V of Q)(0,k.Wi)(V)||(Array.isArray(V)?ie(...V):W.Z.isCollection(V)?V.forEach(U=>ie(U)):B.Z.isLoadable(V)&&se.push(V))};ae(ie);let te=null;if(yield(0,O.UI)(se,function(){var Q=(0,w.Z)(function*(V){const U=yield(0,O.q6)(Y(V)?V.loadAll():V.load());!1!==U.ok||te||(te=U)});return function(V){return Q.apply(this,arguments)}}()),te)throw te.error;return ne}),G.apply(this,arguments)}function Y(ne){return"loadAll"in ne&&"function"==typeof ne.loadAll}},21286:(j,F,T)=>{"use strict";T.d(F,{BV:()=>se,Kt:()=>Q,Sf:()=>B,Vl:()=>ae,W8:()=>V,ZF:()=>te,_3:()=>Me,b_:()=>ie,fp:()=>Z,jE:()=>fe,oK:()=>be,oc:()=>ue,t7:()=>Y,uZ:()=>k,wt:()=>ee});var w=T(84161);T(993);const W=new Float32Array(1);function B(ce){--ce;for(let ge=1;ge<32;ge<<=1)ce|=ce>>ge;return ce+1}function k(ce,ge,Pe){return Math.min(Math.max(ce,ge),Pe)}function ee(ce){return 0==(ce&ce-1)}function Z(ce){return ce--,ce|=ce>>1,ce|=ce>>2,ce|=ce>>4,ce|=ce>>8,ce|=ce>>16,++ce}function Y(ce,ge,Pe){return ce+(ge-ce)*Pe}function ae(ce){return ce*Math.PI/180}function se(ce){return 180*ce/Math.PI}function ie(ce,ge=1e-6){return(ce<0?-1:1)/Math.max(Math.abs(ce),ge)}function te(ce){return Math.acos(k(ce,-1,1))}function Q(ce){return Math.asin(k(ce,-1,1))}function V(ce,ge,Pe=1e-6){return ce===ge||!(!Number.isFinite(ce)||!Number.isFinite(ge))&&(ce>ge?ce-ge:ge-ce)<=Pe}const U=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const J=BigInt("1000000");function be(ce){return me(Math.max(-Me,Math.min(ce,Me)))}function me(ce){return W[0]=ce,W[0]}function fe(ce,ge){const Pe=(0,w.l)(ce),Ie=Q(ce[2]/Pe),Re=Math.atan2(ce[1]/Pe,ce[0]/Pe);return(0,w.s)(ge,Pe,Ie,Re),ge}function ue(ce){const Pe=ce[3]*ce[3]+ce[4]*ce[4]+ce[5]*ce[5],Ie=ce[6]*ce[6]+ce[7]*ce[7]+ce[8]*ce[8];return!(V(ce[0]*ce[0]+ce[1]*ce[1]+ce[2]*ce[2],1)&&V(Pe,1)&&V(Ie,1))}!function oe(ce){const ge=function $(ce){return U.setFloat64(0,ce),U.getBigInt64(0)}(ce=Math.abs(ce)),Pe=function z(ce){return U.setBigInt64(0,ce),U.getFloat64(0)}(ge<=J?J:ge-J);return Math.abs(ce-Pe)}(1);const Me=me(34028234663852886e22)},62208:(j,F,T)=>{"use strict";T.d(F,{Fd:()=>z,IM:()=>te,JR:()=>J,M2:()=>se,O3:()=>G,Pt:()=>Y,R2:()=>q,RY:()=>Q,SC:()=>ae,U2:()=>de,WG:()=>ee,Wg:()=>re,Wi:()=>W,YP:()=>w,_W:()=>V,hw:()=>ie,j0:()=>be,lV:()=>pe,pC:()=>O,s3:()=>Z,wN:()=>U,yl:()=>ne,yw:()=>k});const w=null;function O(me){return null!=me}function W(me){return null==me}function k(me,_e){return O(me)?_e(me):w}function re(me){return me}function ee(me){return me}function Z(me,_e){return G(me,_e),me}function G(me,_e){if(W(me))throw new Error(_e??"value is None")}function Y(me,_e){return O(me)?me:"function"==typeof _e?_e():_e}function ne(me,_e){return O(me)?me:_e}function ae(me){return O(me)&&me.destroy(),null}function se(me){return O(me)&&me.dispose(),null}function ie(me){return O(me)&&me.remove(),null}function te(me){return O(me)&&me.abort(),null}function Q(me){return O(me)&&me.release(),null}function V(me,_e,le){return O(me)&&O(_e)?O(le)?le(me,_e):me.equals(_e):me===_e}function U(me){return null}function z(me,_e){const le=new Array;for(const fe of me)le.push(q(fe,null,_e));return le}function J(me,_e){for(const le of me)k(le,_e)}function q(me,_e,le){return O(me)?le(me):_e}function pe(me){return me.filter(_e=>O(_e))}function de(me,..._e){let le=me;for(let fe=0;fe<_e.length&&le;++fe)le=le[_e[fe]];return le}function be(me){return me}},79682:(j,F,T)=>{"use strict";T.d(F,{Y:()=>O});const w=[];function O(W){w.push(W),1===w.length&&queueMicrotask(()=>{const B=w.slice();w.length=0;for(const k of B)k()})}},94113:(j,F,T)=>{"use strict";T.d(F,{RB:()=>B,RH:()=>O,hS:()=>W});var w=T(58817);function O(ee,Z,G=!1){return re(ee,Z,G)}function W(ee,Z){if(null!=Z)return Z[ee]||k(ee.split("."),!1,Z)}function B(ee,Z,G){const Y=ee.split("."),ne=Y.pop(),ae=k(Y,!0,G);ae&&ne&&(ae[ne]=Z)}function k(ee,Z,G){let Y=G;for(const ne of ee){if(null==Y)return;if(!(ne in Y)){if(!Z)return;Y[ne]={}}Y=Y[ne]}return Y}function re(ee,Z,G){return Z?Object.keys(Z).reduce((Y,ne)=>{let ae=Y[ne],se=Z[ne];return ae===se?Y:void 0===ae?(Y[ne]=(0,w.d9)(se),Y):(Array.isArray(se)||Array.isArray(Y)?(ae=Y[ne]=ae?Array.isArray(ae)?ae.concat():[ae]:[],se&&(Array.isArray(se)||(se=[se]),G?se.forEach(ie=>{ae.includes(ie)||ae.push(ie)}):Y[ne]=se.concat())):se&&"object"==typeof se?Y[ne]=re(ae,se,G):Y.hasOwnProperty(ne)&&!Z.hasOwnProperty(ne)||(Y[ne]=se),Y)},ee||{}):ee}},24192:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ee});var W,Z,w=T(8314),O=T(27899);(Z=W||(W={}))[Z.varint=0]="varint",Z[Z.fixed64=1]="fixed64",Z[Z.delimited=2]="delimited",Z[Z.fixed32=5]="fixed32",Z[Z.unknown=99]="unknown";const B=4294967296,k=new TextDecoder("utf-8"),re=(0,w.Z)("safari")||(0,w.Z)("ios")?6:(0,w.Z)("ff")?12:32;class ee{constructor(G,Y,ne=0,ae=(G?G.byteLength:0)){this._tag=0,this._dataType=W.unknown,this._init(G,Y,ne,ae)}_init(G,Y,ne,ae){this._data=G,this._dataView=Y,this._pos=ne,this._end=ae}asUnsafe(){return this}clone(){return new ee(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(G){this._pos=G}nextTag(G){for(;;){if(this._pos===this._end)return!1;const Y=this._decodeVarint();if(this._tag=Y>>3,this._dataType=7&Y,!G||G===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const G=this._decodeVarint();return this._tag=G>>3,this._dataType=7&G,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let G=4294967295;return G=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?G:(G=(G|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?G:(G=(G|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?G:(G=(G|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?G:(G=(G|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?G:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const G=this.getUInt32();if(void 0!==G)return G>>>1^-(1&G)|0}getSInt64(){return this._decodeSVarint()}getBool(){const G=0!==this._data[this._pos];return this._skip(1),G}getEnum(){return this._decodeVarint()}getFixed64(){const G=this._dataView,Y=this._pos,ne=G.getUint32(Y,!0)+G.getUint32(Y+4,!0)*B;return this._skip(8),ne}getSFixed64(){const G=this._dataView,Y=this._pos,ne=G.getUint32(Y,!0)+G.getInt32(Y+4,!0)*B;return this._skip(8),ne}getDouble(){const G=this._dataView.getFloat64(this._pos,!0);return this._skip(8),G}getFixed32(){const G=this._dataView.getUint32(this._pos,!0);return this._skip(4),G}getSFixed32(){const G=this._dataView.getInt32(this._pos,!0);return this._skip(4),G}getFloat(){const G=this._dataView.getFloat32(this._pos,!0);return this._skip(4),G}getString(){const G=this._getLength(),Y=this._pos,ne=this._toString(this._data,Y,Y+G);return this._skip(G),ne}getBytes(){const G=this._getLength(),Y=this._pos,ne=this._toBytes(this._data,Y,Y+G);return this._skip(G),ne}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(G,Y,ne,ae){const se=this.getMessage(),ie=G(se,Y,ne,ae);return se.release(),ie}processMessage(G){const Y=this.getMessage(),ne=G(Y);return Y.release(),ne}getMessage(){const G=this._getLength(),Y=ee.pool.acquire();return Y._init(this._data,this._dataView,this._pos,this._pos+G),this._skip(G),Y}release(){ee.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case W.varint:this._decodeVarint();break;case W.fixed64:this._skip(8);break;case W.delimited:this._skip(this._getLength());break;case W.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(G){this._skip(G)}_skip(G){if(this._pos+G>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=G}_decodeVarint(){const G=this._data;let Y=this._pos,ne=0,ae=0;if(this._end-Y>=10)do{if(ae=G[Y++],ne|=127&ae,0==(128&ae)||(ae=G[Y++],ne|=(127&ae)<<7,0==(128&ae))||(ae=G[Y++],ne|=(127&ae)<<14,0==(128&ae))||(ae=G[Y++],ne|=(127&ae)<<21,0==(128&ae))||(ae=G[Y++],ne+=268435456*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=34359738368*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=4398046511104*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=562949953421312*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=72057594037927940*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=0x8000000000000000*(127&ae),0==(128&ae)))break;throw new Error("Varint too long!")}while(0);else{let se=1;for(;Y!==this._end&&(ae=G[Y],0!=(128&ae));)++Y,ne+=(127&ae)*se,se*=128;if(Y===this._end)throw new Error("Varint overrun!");++Y,ne+=ae*se}return this._pos=Y,ne}_decodeSVarint(){const G=this._data;let Y=this._pos,ne=0,ae=0;const se=1&G[Y];if(this._end-Y>=10)do{if(ae=G[Y++],ne|=127&ae,0==(128&ae)||(ae=G[Y++],ne|=(127&ae)<<7,0==(128&ae))||(ae=G[Y++],ne|=(127&ae)<<14,0==(128&ae))||(ae=G[Y++],ne|=(127&ae)<<21,0==(128&ae))||(ae=G[Y++],ne+=268435456*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=34359738368*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=4398046511104*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=562949953421312*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=72057594037927940*(127&ae),0==(128&ae))||(ae=G[Y++],ne+=0x8000000000000000*(127&ae),0==(128&ae)))break;throw new Error("Varint too long!")}while(0);else{let ie=1;for(;Y!==this._end&&(ae=G[Y],0!=(128&ae));)++Y,ne+=(127&ae)*ie,ie*=128;if(Y===this._end)throw new Error("Varint overrun!");++Y,ne+=ae*ie}return this._pos=Y,se?-(ne+1)/2:ne/2}_getLength(){if(this._dataType!==W.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(G,Y,ne){if((ne=Math.min(this._end,ne))-Y>re){const ie=G.subarray(Y,ne);return k.decode(ie)}let ae="",se="";for(let ie=Y;ie<ne;++ie){const te=G[ie];128&te?se+="%"+te.toString(16):(ae+=decodeURIComponent(se)+String.fromCharCode(te),se="")}return se.length&&(ae+=decodeURIComponent(se)),ae}_toBytes(G,Y,ne){return ne=Math.min(this._end,ne),new Uint8Array(G.buffer,Y,ne-Y)}}ee.pool=new O.Z(ee,void 0,Z=>{Z._data=null,Z._dataView=null})},10699:(j,F,T)=>{"use strict";T.d(F,{$F:()=>U,D_:()=>J,Ds:()=>ce,H9:()=>Q,Hc:()=>ie,Hl:()=>$,R8:()=>q,WW:()=>le,Yn:()=>Ie,as:()=>me,dD:()=>be,e4:()=>Ee,fu:()=>V,gx:()=>Me,hh:()=>ge,k_:()=>ae,r9:()=>te,y8:()=>ue,zE:()=>ne});var w=T(15861),O=T(84244),B=(T(55538),T(26584)),k=T(17770),ee=(T(63290),T(62208));function ne(Ce="Aborted"){return new B.Z("AbortError",Ce)}function ae(Ce,Fe="Aborted"){if(ie(Ce))throw ne(Fe)}function se(Ce){return(0,ee.pC)(Ce)?"aborted"in Ce?Ce:Ce.signal:Ce}function ie(Ce){const Fe=se(Ce);return(0,ee.pC)(Fe)&&Fe.aborted}function te(Ce){if(J(Ce))throw Ce}function Q(Ce){if(!J(Ce))throw Ce}function V(Ce,Fe){const Ne=se(Ce);if(!(0,ee.Wi)(Ne)){if(!Ne.aborted)return(0,k.IH)(Ne,"abort",()=>Fe());Fe()}}function U(Ce,Fe){const Ne=se(Ce);if(!(0,ee.Wi)(Ne))return ae(Ne),(0,k.IH)(Ne,"abort",()=>Fe(ne()))}function $(Ce,Fe){const Ne=se(Fe);return(0,ee.Wi)(Ne)?Ce:new Promise((Le,Oe)=>{let Ue=V(Fe,()=>Oe(ne()));const ke=()=>Ue=(0,ee.hw)(Ue);Ce.then(ke,ke),Ce.then(Le,Oe)})}function J(Ce){return"AbortError"===Ce?.name}function q(Ce){return oe.apply(this,arguments)}function oe(){return(oe=(0,w.Z)(function*(Ce){try{return yield Ce}catch(Fe){if(!J(Fe))throw Fe;return}})).apply(this,arguments)}function be(){let Ce=null;const Fe=new Promise((Ne,Le)=>{Ce={promise:void 0,resolve:Ne,reject:Le}});return Ce.promise=Fe,Ce}function me(Ce){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(Ce){if(!Ce)return;if("function"!=typeof Ce.forEach){const Ne=Object.keys(Ce),Le=Ne.map(ke=>Ce[ke]),Oe=yield me(Le),Ue={};return Ne.map((ke,Ye)=>Ue[ke]=Oe[Ye]),Ue}const Fe=Ce;return new Promise(Ne=>{const Le=[];let Oe=Fe.length;0===Oe&&Ne(Le),Fe.forEach(Ue=>{const ke={promise:Ue||Promise.resolve(Ue)};Le.push(ke),ke.promise.then(Ye=>{ke.value=Ye}).catch(Ye=>{ke.error=Ye}).then(()=>{--Oe,0===Oe&&Ne(Le)})})})})).apply(this,arguments)}function le(Ce){return fe.apply(this,arguments)}function fe(){return(fe=(0,w.Z)(function*(Ce){return(yield me(Ce)).filter(Fe=>!!Fe.value).map(Fe=>Fe.value)})).apply(this,arguments)}function Ee(Ce,Fe,Ne){const Le=new AbortController;return V(Ne,()=>Le.abort()),new Promise((Oe,Ue)=>{let ke=setTimeout(()=>{ke=0,Oe(Fe)},Ce);V(Le,()=>{ke&&(clearTimeout(ke),Ue(ne()))})})}function ue(Ce){return Ce&&"function"==typeof Ce.then}function Me(Ce){return ue(Ce)?Ce:Promise.resolve(Ce)}function ce(Ce,Fe=-1){let Ne,Le,Oe,Ue,ke=null;const Ye=(...xe)=>{if(Ne){Le=xe,Ue&&Ue.reject(ne()),Ue=be();const ve=(0,ee.j0)(Ue.promise);if(ke){const Te=ke;ke=null,Te.abort()}return ve}if(Oe=Ue||be(),Ue=null,Fe>0){const ve=new AbortController;Ne=Me(Ce(...xe,ve.signal));const Te=Ne;Ee(Fe).then(()=>{Ne===Te&&(Ue?ve.abort():ke=ve)})}else Ne=1,Ne=Me(Ce(...xe));const We=()=>{const ve=Le;Le=Oe=Ne=ke=null,null!=ve&&Ye(...ve)},Qe=Ne,lt=Oe;return Qe.then(We,We),Qe.then(lt.resolve,lt.reject),(0,ee.j0)(lt.promise)};return Ye}function ge(){let Ce,Fe;const Ne=new Promise((Oe,Ue)=>{Ce=Oe,Fe=Ue}),Le=Oe=>{Ce(Oe)};return Le.resolve=Oe=>Ce(Oe),Le.reject=Oe=>Fe(Oe),Le.timeout=(Oe,Ue)=>O.m.setTimeout(()=>Le.reject(Ue),Oe),Le.promise=Ne,Le}function Ie(Ce){return Re.apply(this,arguments)}function Re(){return(Re=(0,w.Z)(function*(Ce){yield Promise.resolve(),ae(Ce)})).apply(this,arguments)}},32917:(j,F,T)=>{"use strict";T.d(F,{N1:()=>ae,Wy:()=>Q,YP:()=>ee,Z_:()=>V,gx:()=>Z,nn:()=>U,on:()=>Y,tX:()=>$});var w=T(17770),O=T(54024),W=T(62208),B=T(10699),k=T(30755);function ee(z,J,q={}){return G(z,J,q,ie)}function Z(z,J,q={}){return G(z,J,q,te)}function G(z,J,q={},oe){let pe=null;const de=q.once?(be,me)=>{oe(be)&&((0,W.hw)(pe),J(be,me))}:(be,me)=>{oe(be)&&J(be,me)};if(pe=(0,k.aQ)(z,de,q.sync,q.equals),q.initial){const be=z();de(be,be)}return pe}function Y(z,J,q,oe={}){let pe=null,de=null,be=null;function me(){pe&&de&&(de.remove(),oe.onListenerRemove?.(pe),pe=null,de=null)}function _e(fe){oe.once&&oe.once&&(0,W.hw)(be),q(fe)}const le=ee(z,(fe,Ee)=>{me(),(0,w.vT)(fe)&&(pe=fe,de=(0,w.on)(fe,J,_e),oe.onListenerAdd?.(fe))},{sync:oe.sync,initial:!0});return be=(0,O.kB)(()=>{le.remove(),me()}),be}function ae(z,J){return function se(z,J,q){if((0,B.Hc)(q))return Promise.reject((0,B.zE)());const oe=z();if(J?.(oe))return Promise.resolve(oe);let pe=null;function de(){pe=(0,W.hw)(pe)}return new Promise((be,me)=>{pe=(0,O.AL)([(0,B.fu)(q,()=>{de(),me((0,B.zE)())}),G(z,_e=>{de(),be(_e)},{sync:!1,once:!0},J??ie)])})}(z,te,J)}function ie(z){return!0}function te(z){return!!z}function Q(z,J,q={}){let oe=!1;const pe=ee(z,(de,be)=>{oe||J(de,be)},q);return{remove(){pe.remove()},pause(){oe=!0},resume(){oe=!1}}}T(21352);const V={sync:!0},U={initial:!0},$={sync:!0,initial:!0}},50618:(j,F,T)=>{"use strict";T.d(F,{A:()=>U,MU:()=>me,Os:()=>V});var w=T(62208),O=T(79682),W=T(73362),B=T(77029),k=T(10699),re=T(27422);class ee{constructor(ye){this.phases=ye,this.paused=!1,this.ticks=-1,this.removed=!1}}class Z{constructor(ye){this.callback=ye,this.isActive=!0}remove(){this.isActive=!1}}let G=0;const ne={time:(0,re.HA)(0),deltaTime:(0,re.HA)(0),elapsedFrameTime:(0,re.HA)(0),frameDuration:(0,re.HA)(0)},ae=["prepare","preRender","render","postRender","update","finish"],se=[],ie=new B.Z;class te{constructor(ye){this._task=ye}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const Q={frameTasks:ie,willDispatch:!1,clearFrameTasks:function z(Ee=!1){ie.forAll(ye=>{ye.removed=!0}),Ee&&de()},dispatch:be,executeFrameTasks:function oe(Ee){const ye=(0,re.HA)(Ee-G);G=Ee;const ue=1e3/60,Me=Math.max(0,ye-ue);ne.time=Ee,ne.frameDuration=(0,re.HA)(ue-Me);for(let ce=0;ce<ae.length;ce++){const ge=performance.now(),Pe=ae[ce];ie.forAll(Ie=>{Ie.paused||Ie.removed||(0===ce&&Ie.ticks++,Ie.phases[Pe]&&(ne.elapsedFrameTime=(0,re.HA)(performance.now()-Ee),ne.deltaTime=0===Ie.ticks?(0,re.HA)(0):ye,Ie.phases[Pe]?.call(Ie,ne)))}),le[ce].record(performance.now()-ge)}de(),fe.record(performance.now()-Ee)}};function V(Ee){const ye=new Z(Ee);return se.push(ye),Q.willDispatch||(Q.willDispatch=!0,(0,O.Y)(be)),ye}function U(Ee){const ye=new ee(Ee);return ie.push(ye),null==$&&(G=performance.now(),$=requestAnimationFrame(q)),new te(ye)}let $=null;function q(){const Ee=performance.now();$=null,$=ie.length>0?requestAnimationFrame(q):null,Q.executeFrameTasks(Ee)}const pe=new B.Z;function de(){ie.forAll(Ee=>{Ee.removed&&pe.push(Ee)}),ie.removeUnorderedMany(pe.data,pe.length),pe.clear()}function be(){for(;se.length;){const Ee=(0,w.j0)(se.shift());Ee.isActive&&Ee.callback()}Q.willDispatch=!1}function me(Ee=1,ye){const ue=(0,k.hh)(),Me=()=>{(0,k.Hc)(ye)?ue.reject((0,k.zE)()):0===Ee?ue():(--Ee,(0,O.Y)(()=>Me()))};return Me(),ue.promise}const le=ae.map(Ee=>new W.Z(Ee)),fe=new W.Z("total")},23841:(j,F,T)=>{"use strict";T.d(F,{F2:()=>B,J$:()=>ne,So:()=>ae,Wv:()=>se,Wz:()=>k,c$:()=>ie,md:()=>Q,s1:()=>Z,t_:()=>re,vW:()=>ee});const w=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function B(V){return V?V/72*96:0}function k(V){return V?72*V/96:0}function re(V){if("string"==typeof V){const U=V.match(w);if(U){const $=Number(U[1]),z=U[3]&&U[3].toLowerCase(),J="-"===V.charAt(0),q="px"===z?k($):$;return J?-q:q}return console.warn("screenUtils.toPt: input not recognized!"),null}return V}function ee(V=0,U=0){return{x:V,y:U}}function Z(V=0,U=0){return[V,U]}function ne(V=0,U=0,$=0){return[V,U,$]}function ae(V){return V}function se(V){return V}function ie(V){return V}function Q(V,U){return U?(U[0]=V.x,U[1]=V.y,U.length>2&&(U[2]=0),U):[V.x,V.y]}},95737:(j,F,T)=>{"use strict";T.d(F,{E:()=>W,_:()=>k});var w=T(15861),O=T(62208);function W(re,ee){return B.apply(this,arguments)}function B(){return(B=(0,w.Z)(function*(re,ee){const{WhereClause:Z}=yield Promise.resolve().then(T.bind(T,10410));return Z.create(re,ee)})).apply(this,arguments)}function k(re,ee){return(0,O.pC)(re)?(0,O.pC)(ee)?`(${re}) AND (${ee})`:re:ee}},10410:(j,F,T)=>{"use strict";T.r(F),T.d(F,{WhereClause:()=>ue,defaultAttributeAdapter:()=>lt});var w=T(8314);const B={min:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.min.apply(Math,ve[0])},max:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.max.apply(Math,ve[0])},avg:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:k(ve[0])},sum:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:function re(ve){let Te=0;for(let Be=0;Be<ve.length;Be++)Te+=ve[Be];return Te}(ve[0])},stddev:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.sqrt(ee(ve[0]))},count:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:ve[0].length},var:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:ee(ve[0])}};function k(ve){let Te=0;for(let Be=0;Be<ve.length;Be++)Te+=ve[Be];return Te/ve.length}function ee(ve){const Te=k(ve),Be=ve.length;let Ge=0;for(const $e of ve)Ge+=($e-Te)**2;return Be>1?Ge/(Be-1):0}var Z=T(47982),G=T(77275),Y=T(21837);class ne{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(Te){if(null!==Te.precision||null!==Te.secondary)throw new Error("Primary and Secondary SqlInterval qualifiers not supported")}static _parseSecondsComponent(Te,Be){if(Be.includes(".")){const Ge=Be.split(".");Te.second=parseFloat(Ge[0]),Te.millis=parseInt(Ge[1],10)}else Te.second=parseFloat(Be)}static createFromMilliseconds(Te){const Be=new ne;return Be.second=Te/1e3,Be}static createFromValueAndQualifer(Te,Be,Ge){let $e=null;const Xe=new ne;if(Xe.op="-"===Ge?"-":"+","interval-period"===Be.type){ne._fixDefaults(Be);const at=new RegExp("^[0-9]{1,}$");if("year"===Be.period||"month"===Be.period)throw new Error("Year-Month Intervals not supported");if("second"===Be.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(Te))throw new Error("Illegal Interval");ne._parseSecondsComponent(Xe,Te)}else{if(!at.test(Te))throw new Error("Illegal Interval");Xe[Be.period]=parseFloat(Te)}}else{if(ne._fixDefaults(Be.start),ne._fixDefaults(Be.end),"year"===Be.start.period||"month"===Be.start.period)throw new Error("Year-Month Intervals not supported");if("year"===Be.end.period||"month"===Be.end.period)throw new Error("Year-Month Intervals not supported");switch(Be.start.period){case"day":switch(Be.end.period){case"hour":if($e=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!$e.test(Te))throw new Error("Illegal Interval");Xe[Be.start.period]=parseFloat(Te.split(" ")[0]),Xe[Be.end.period]=parseFloat(Te.split(" ")[1]);break;case"minute":if($e=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!$e.test(Te))throw new Error("Illegal Interval");{Xe[Be.start.period]=parseFloat(Te.split(" ")[0]);const at=Te.split(" ")[1].split(":");Xe.hour=parseFloat(at[0]),Xe.minute=parseFloat(at[1])}break;case"second":if($e=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!$e.test(Te))throw new Error("Illegal Interval");{Xe[Be.start.period]=parseFloat(Te.split(" ")[0]);const at=Te.split(" ")[1].split(":");Xe.hour=parseFloat(at[0]),Xe.minute=parseFloat(at[1]),ne._parseSecondsComponent(Xe,at[2])}break;default:throw new Error("Invalid Interval.")}break;case"hour":switch(Be.end.period){case"minute":if($e=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!$e.test(Te))throw new Error("Illegal Interval");Xe.hour=parseFloat(Te.split(":")[0]),Xe.minute=parseFloat(Te.split(":")[1]);break;case"second":if($e=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!$e.test(Te))throw new Error("Illegal Interval");{const at=Te.split(":");Xe.hour=parseFloat(at[0]),Xe.minute=parseFloat(at[1]),ne._parseSecondsComponent(Xe,at[2])}break;default:throw new Error("Invalid Interval.")}break;case"minute":if("second"!==Be.end.period)throw new Error("Invalid Interval.");if($e=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!$e.test(Te))throw new Error("Illegal Interval");{const at=Te.split(":");Xe.minute=parseFloat(at[0]),ne._parseSecondsComponent(Xe,at[1])}break;default:throw new Error("Invalid Interval.")}}return Xe}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}function ae(ve,Te){const Be=U[ve.toLowerCase()];if(null==Be)throw new Error("Function Not Recognised");if(Te.length<Be.minParams||Te.length>Be.maxParams)throw new Error(`Invalid Parameter count for call to ${ve.toUpperCase()}`);return Be.evaluate(Te)}function Q(ve){const Te=new Date(ve.getTime());return Te.setHours(0,0,0,0),Te}function V(ve,Te){if(function te(ve){return ve instanceof Date}(ve))return Te?Q(ve):ve;if(function ie(ve){return"string"==typeof ve||ve instanceof String}(ve)){const Be=Y.ou.fromSQL(ve);if(Be.isValid)return Te?Q(Be.toJSDate()):Be.toJSDate()}throw new Z.eS(Z.f.CannotCastValue)}const U={extract:{minParams:2,maxParams:2,evaluate:([ve,Te])=>{if(null==Te)return null;if(Te instanceof Date)switch(ve.toUpperCase()){case"SECOND":return Te.getSeconds();case"MINUTE":return Te.getMinutes();case"HOUR":return Te.getHours();case"DAY":return Te.getDate();case"MONTH":return Te.getMonth()+1;case"YEAR":return Te.getFullYear()}throw new Error("Invalid Parameter for call to EXTRACT")}},substring:{minParams:2,maxParams:3,evaluate:ve=>{if(2===ve.length){const[Te,Be]=ve;return null==Te||null==Be?null:Te.toString().substring(Be-1)}if(3===ve.length){const[Te,Be,Ge]=ve;return null==Te||null==Be||null==Ge?null:Ge<=0?"":Te.toString().substring(Be-1,Be+Ge-1)}}},position:{minParams:2,maxParams:2,evaluate:([ve,Te])=>null==ve||null==Te?null:Te.indexOf(ve)+1},trim:{minParams:2,maxParams:3,evaluate:ve=>{const Te=3===ve.length,Be=Te?ve[1]:" ",Ge=Te?ve[2]:ve[1];if(null==Be||null==Ge)return null;const $e=`(${(0,G.Qs)(Be)})`;switch(ve[0]){case"BOTH":return Ge.replace(new RegExp(`^${$e}*|${$e}*$`,"g"),"");case"LEADING":return Ge.replace(new RegExp(`^${$e}*`,"g"),"");case"TRAILING":return Ge.replace(new RegExp(`${$e}*$`,"g"),"")}throw new Error("Invalid Parameter for call to TRIM")}},abs:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.abs(ve[0])},ceiling:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.ceil(ve[0])},floor:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.floor(ve[0])},log:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.log(ve[0])},log10:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.log(ve[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.sin(ve[0])},cos:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.cos(ve[0])},tan:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.tan(ve[0])},asin:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.asin(ve[0])},acos:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.acos(ve[0])},atan:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.atan(ve[0])},sign:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:ve[0]>0?1:ve[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:ve=>null==ve[0]||null==ve[1]?null:ve[0]**ve[1]},mod:{minParams:2,maxParams:2,evaluate:ve=>null==ve[0]||null==ve[1]?null:ve[0]%ve[1]},round:{minParams:1,maxParams:2,evaluate:ve=>{const Te=ve[0],Be=2===ve.length?10**ve[1]:1;return null==Te?null:Math.round(Te*Be)/Be}},truncate:{minParams:1,maxParams:2,evaluate:ve=>null==ve[0]?null:1===ve.length?parseInt(ve[0].toFixed(0),10):parseFloat(ve[0].toFixed(ve[1]))},char_length:{minParams:1,maxParams:1,evaluate:ve=>"string"==typeof ve[0]||ve[0]instanceof String?ve[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:ve=>{let Te="";for(let Be=0;Be<ve.length;Be++){if(null==ve[Be])return null;Te+=ve[Be].toString()}return Te}},lower:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:ve[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:ve[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:ve=>{for(const Te of ve)if(null!==Te)return Te;return null}},cosh:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.cosh(ve[0])},sinh:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.sinh(ve[0])},tanh:{minParams:1,maxParams:1,evaluate:ve=>null==ve[0]?null:Math.tanh(ve[0])},nullif:{minParams:2,maxParams:2,evaluate:ve=>{const Te=ve[0],Be=ve[1];return(Te instanceof Date?Te.valueOf():Te)===(Be instanceof Date?Be.valueOf():Be)?null:Te}},cast:{minParams:2,maxParams:2,evaluate:ve=>{const Te=ve[0],Be=ve[1];if(null===Te)return null;switch(Be.type){case"integer":{const Ge=parseInt(Te,10);if(isNaN(Ge))throw new Z.eS(Z.f.CannotCastValue);return Ge}case"smallint":{const Ge=parseInt(Te,10);if(isNaN(Ge))throw new Z.eS(Z.f.CannotCastValue);if(Ge>32767||Ge<-32767)throw new Z.eS(Z.f.CannotCastValue);return Ge}case"float":case"real":{const Ge=parseFloat(Te);if(isNaN(Ge))throw new Z.eS(Z.f.CannotCastValue);return Ge}case"date":return V(Te,!0);case"timestamp":return V(Te,!1);case"varchar":{const Ge=Te.toString();if(Ge.length>Be.size)throw new Z.eS(Z.f.CannotCastValue);return Ge}default:throw new Z.eS(Z.f.InvalidDataType)}}}};T(1719);var z,q={};(z={get exports(){return q},set exports(ve){q=ve}}).exports&&(z.exports=function(){function Te($e,Xe,at,we){var tt=Error.call(this,$e);return Object.setPrototypeOf&&Object.setPrototypeOf(tt,Te.prototype),tt.expected=Xe,tt.found=at,tt.location=we,tt.name="SyntaxError",tt}function Be($e,Xe,at){return at=at||" ",$e.length>Xe?$e:$e+(at+=at.repeat(Xe-=$e.length)).slice(0,Xe)}return function ve($e,Xe){function at(){this.constructor=$e}at.prototype=Xe.prototype,$e.prototype=new at}(Te,Error),Te.prototype.format=function($e){var Xe="Error: "+this.message;if(this.location){var at,we=null;for(at=0;at<$e.length;at++)if($e[at].source===this.location.source){we=$e[at].text.split(/\r\n|\n|\r/g);break}var tt=this.location.start,pt=this.location.source+":"+tt.line+":"+tt.column;if(we){var Pt=this.location.end,mt=Be("",tt.line.toString().length," "),St=we[tt.line-1],ut=(tt.line===Pt.line?Pt.column:St.length+1)-tt.column||1;Xe+="\n --\x3e "+pt+"\n"+mt+" |\n"+tt.line+" | "+St+"\n"+mt+" | "+Be("",tt.column-1," ")+Be("",ut,"^")}else Xe+="\n at "+pt}return Xe},Te.buildMessage=function($e,Xe){var at={literal:function(ut){return'"'+tt(ut.text)+'"'},class:function(ut){var _t=ut.parts.map(function(Ct){return Array.isArray(Ct)?pt(Ct[0])+"-"+pt(Ct[1]):pt(Ct)});return"["+(ut.inverted?"^":"")+_t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(ut){return ut.description}};function we(ut){return ut.charCodeAt(0).toString(16).toUpperCase()}function tt(ut){return ut.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_t){return"\\x0"+we(_t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_t){return"\\x"+we(_t)})}function pt(ut){return ut.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_t){return"\\x0"+we(_t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_t){return"\\x"+we(_t)})}function Pt(ut){return at[ut.type](ut)}return"Expected "+function mt(ut){var _t,Ct,Rt=ut.map(Pt);if(Rt.sort(),Rt.length>0){for(_t=1,Ct=1;_t<Rt.length;_t++)Rt[_t-1]!==Rt[_t]&&(Rt[Ct]=Rt[_t],Ct++);Rt.length=Ct}switch(Rt.length){case 1:return Rt[0];case 2:return Rt[0]+" or "+Rt[1];default:return Rt.slice(0,-1).join(", ")+", or "+Rt[Rt.length-1]}}($e)+" but "+function St(ut){return ut?'"'+tt(ut)+'"':"end of input"}(Xe)+" found."},{SyntaxError:Te,parse:function Ge($e,Xe){var at,we={},tt=(Xe=void 0!==Xe?Xe:{}).grammarSource,pt={start:$0},Pt=$0,ur=/^[A-Za-z_\x80-\uFFFF]/,di=/^[A-Za-z0-9_]/,Tt=/^[A-Za-z0-9_.\x80-\uFFFF]/,dt=/^[^']/,vt=/^[0-9]/,xt=/^[eE]/,gn=/^[+\-]/,Xn=/^[ \t\n\r]/,qn=/^[^`]/,Wn=vr("!",!1),sr=vr("=",!1),jn=vr(">=",!1),Gr=vr(">",!1),Si=vr("<=",!1),Os=vr("<>",!1),hs=vr("<",!1),ys=vr("!=",!1),Gs=vr("+",!1),Fi=vr("-",!1),Bi=vr("||",!1),oi=vr("*",!1),Da=vr("/",!1),Ir=Tl([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),mo=Tl([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),hi=Tl([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),ai=vr("@",!1),wa=vr("'",!1),Cs=vr("N'",!1),go=vr("''",!1),lr=Tl(["'"],!0,!1),Ft=vr(".",!1),hn=Tl([["0","9"]],!1,!1),An=Tl(["e","E"],!1,!1),Wr=Tl(["+","-"],!1,!1),$i=vr("NULL",!0),Di=vr("TRUE",!0),js=vr("FALSE",!0),va=vr("IN",!0),st=vr("IS",!0),ht=vr("LIKE",!0),Mt=vr("ESCAPE",!0),Nt=vr("NOT",!0),At=vr("AND",!0),Zt=vr("OR",!0),nn=vr("BETWEEN",!0),fn=vr("FROM",!0),yn=vr("FOR",!0),Sn=vr("SUBSTRING",!0),Vn=vr("EXTRACT",!0),Er=vr("TRIM",!0),Kr=vr("POSITION",!0),Qi=vr("TIMESTAMP",!0),Us=vr("DATE",!0),oo=vr("LEADING",!0),ps=vr("TRAILING",!0),Bl=vr("BOTH",!0),El=vr("CAST",!0),yo=vr("AS",!0),Th=vr("INTEGER",!0),Ks=vr("SMALLINT",!0),qo=vr("FLOAT",!0),pf=vr("REAL",!0),dr=vr("VARCHAR",!0),Ph=vr("TO",!0),Jr=vr("INTERVAL",!0),mu=vr("YEAR",!0),gu=vr("MONTH",!0),_c=vr("DAY",!0),ff=vr("HOUR",!0),vi=vr("MINUTE",!0),Vl=vr("SECOND",!0),Ya=vr("CASE",!0),Ti=vr("END",!0),_d=vr("WHEN",!0),mf=vr("THEN",!0),ea=vr("ELSE",!0),Ia=vr(",",!1),_i=vr("(",!1),Ec=vr(")",!1),Ed=Tl([" ","\t","\n","\r"],!1,!1),yu=vr("`",!1),Co=Tl(["`"],!0,!1),Ze=0,Pd=[{line:1,column:1}],Po=0,xa=[],sn=0;if("startRule"in Xe){if(!(Xe.startRule in pt))throw new Error("Can't start parsing from rule \""+Xe.startRule+'".');Pt=pt[Xe.startRule]}function vr(De,Je){return{type:"literal",text:De,ignoreCase:Je}}function Tl(De,Je,ot){return{type:"class",parts:De,inverted:Je,ignoreCase:ot}}function Nh(De){var Je,ot=Pd[De];if(ot)return ot;for(Je=De-1;!Pd[Je];)Je--;for(ot={line:(ot=Pd[Je]).line,column:ot.column};Je<De;)10===$e.charCodeAt(Je)?(ot.line++,ot.column=1):ot.column++,Je++;return Pd[De]=ot,ot}function ir(De){Ze<Po||(Ze>Po&&(Po=Ze,xa=[]),xa.push(De))}function $0(){var De,Je;return De=Ze,vn(),(Je=as())!==we?(vn(),De=Je):(Ze=De,De=we),De}function Tf(){var De,Je,ot,bt,ar,Ei,Wi,ki;if(De=Ze,(Je=as())!==we){for(ot=[],bt=Ze,ar=vn(),(Ei=Fu())!==we?(Wi=vn(),(ki=as())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);bt!==we;)ot.push(bt),bt=Ze,ar=vn(),(Ei=Fu())!==we?(Wi=vn(),(ki=as())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);De=function(De,Je){var ot={type:"expression-list"},bt=function G_(De,Je,ot){return function Z_(De,Je){for(var ot=[De],bt=0;bt<Je.length;bt++)ot.push(Je[bt][3]);return ot}(De,Je)}(De,Je);return ot.value=bt,ot}(Je,ot)}else Ze=De,De=we;return De}function as(){var De,Je,ot,bt,ar,Ei,Wi,ki;if(De=Ze,(Je=Uh())!==we){for(ot=[],bt=Ze,ar=vn(),(Ei=Oc())!==we?(Wi=vn(),(ki=Uh())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);bt!==we;)ot.push(bt),bt=Ze,ar=vn(),(Ei=Oc())!==we?(Wi=vn(),(ki=Uh())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);De=function(De,Je){return xc(De,Je)}(Je,ot)}else Ze=De,De=we;return De}function Uh(){var De,Je,ot,bt,ar,Ei,Wi,ki;if(De=Ze,(Je=Dd())!==we){for(ot=[],bt=Ze,ar=vn(),(Ei=Ic())!==we?(Wi=vn(),(ki=Dd())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);bt!==we;)ot.push(bt),bt=Ze,ar=vn(),(Ei=Ic())!==we?(Wi=vn(),(ki=Dd())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);De=function(De,Je){return xc(De,Je)}(Je,ot)}else Ze=De,De=we;return De}function Dd(){var De,Je,ot,bt,ar;return De=Ze,(Je=xu())===we&&(Je=Ze,33===$e.charCodeAt(Ze)?(ot="!",Ze++):(ot=we,0===sn&&ir(Wn)),ot!==we?(bt=Ze,sn++,61===$e.charCodeAt(Ze)?(ar="=",Ze++):(ar=we,0===sn&&ir(sr)),sn--,ar===we?bt=void 0:(Ze=bt,bt=we),bt!==we?Je=ot=[ot,bt]:(Ze=Je,Je=we)):(Ze=Je,Je=we)),Je!==we?(ot=vn(),(bt=Dd())!==we?De=function(De){return function $_(De,Je){return{type:"unary-expression",operator:De,expr:Je}}("NOT",De)}(bt):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=function Z0(){var De,Je,ot;return De=Ze,(Je=Pl())!==we?(vn(),(ot=function G0(){var De;return(De=function Pf(){var De,Je,ot,bt,ar,Ei;if(De=[],Je=Ze,ot=vn(),(bt=K0())!==we?(ar=vn(),(Ei=Pl())!==we?Je=ot=[ot,bt,ar,Ei]:(Ze=Je,Je=we)):(Ze=Je,Je=we),Je!==we)for(;Je!==we;)De.push(Je),Je=Ze,ot=vn(),(bt=K0())!==we?(ar=vn(),(Ei=Pl())!==we?Je=ot=[ot,bt,ar,Ei]:(Ze=Je,Je=we)):(Ze=Je,Je=we);else De=we;return De!==we&&(De=function(De){return{type:"arithmetic",tail:De}}(De)),De}())===we&&(De=function A_(){var De,Je,ot,bt;return De=Ze,(Je=is())!==we?(vn(),(ot=_s())!==we?(vn(),(bt=Tf())!==we?(vn(),_o()!==we?De=function(De,Je){return{op:De,right:Je}}(Je,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=is())!==we?(vn(),(ot=_s())!==we?(vn(),(bt=_o())!==we?De=function(De){return{op:De,right:{type:"expression-list",value:[]}}}(Je):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=is())!==we?(vn(),(ot=Af())!==we?De=function(De,Je){return{op:De,right:Je}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we))),De}())===we&&(De=function Do(){var De,Je,ot,bt,ar,Ei;return De=Ze,(Je=xu())!==we?(vn(),(ot=Ac())!==we?(vn(),(bt=Pl())!==we?(vn(),(ar=Ic())!==we?(vn(),(Ei=Pl())!==we?De=function(De,Je,ot){return{op:"NOT"+De,right:{type:"expression-list",value:[Je,ot]}}}(ot,bt,Ei):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Ac())!==we?(vn(),(ot=Pl())!==we?(vn(),(bt=Ic())!==we?(vn(),(ar=Pl())!==we?De=function(De,Je,ot){return{op:De,right:{type:"expression-list",value:[Je,ot]}}}(Je,ot,ar):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)),De}())===we&&(De=function I_(){var De,Je,ot,bt;return De=Ze,(Je=Qs())!==we?(vn(),(ot=xu())!==we?(vn(),(bt=Pl())!==we?De=function(De,Je){return{op:De+"NOT",right:Je}}(Je,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Qs())!==we?(vn(),(ot=Pl())!==we?De=function(De,Je){return{op:De,right:Je}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)),De}())===we&&(De=function O_(){var De,Je,ot,bt;return De=Ze,(Je=Hl())!==we?(vn(),(ot=wo())!==we?(vn(),function U_(){var De,Je,ot,bt;return De=Ze,"escape"===$e.substr(Ze,6).toLowerCase()?(Je=$e.substr(Ze,6),Ze+=6):(Je=we,0===sn&&ir(Mt)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="ESCAPE":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),(bt=Nf())!==we?De=function(De,Je,ot){return{op:De,right:Je,escape:ot.value}}(Je,ot,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Hl())!==we?(vn(),(ot=wo())!==we?De=function(De,Je){return{op:De,right:Je,escape:""}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)),De}()),De}())===we&&(ot=null),De=function(De,Je){return""==Je||null==Je||null==Je?De:"arithmetic"==Je.type?xc(De,Je.tail):hg(Je.op,De,Je.right,Je.escape)}(Je,ot)):(Ze=De,De=we),De}()),De}function K0(){var De;return">="===$e.substr(Ze,2)?(De=">=",Ze+=2):(De=we,0===sn&&ir(jn)),De===we&&(62===$e.charCodeAt(Ze)?(De=">",Ze++):(De=we,0===sn&&ir(Gr)),De===we&&("<="===$e.substr(Ze,2)?(De="<=",Ze+=2):(De=we,0===sn&&ir(Si)),De===we&&("<>"===$e.substr(Ze,2)?(De="<>",Ze+=2):(De=we,0===sn&&ir(Os)),De===we&&(60===$e.charCodeAt(Ze)?(De="<",Ze++):(De=we,0===sn&&ir(hs)),De===we&&(61===$e.charCodeAt(Ze)?(De="=",Ze++):(De=we,0===sn&&ir(sr)),De===we&&("!="===$e.substr(Ze,2)?(De="!=",Ze+=2):(De=we,0===sn&&ir(ys)))))))),De}function Hl(){var De,Je,ot,bt,ar;return De=Ze,Je=Ze,(ot=xu())!==we?(bt=vn(),(ar=$h())!==we?Je=ot=[ot,bt,ar]:(Ze=Je,Je=we)):(Ze=Je,Je=we),Je!==we&&(Je=function(De){return De[0]+" "+De[2]}(Je)),(De=Je)===we&&(De=$h()),De}function is(){var De,Je,ot,bt,ar;return De=Ze,Je=Ze,(ot=xu())!==we?(bt=vn(),(ar=Bf())!==we?Je=ot=[ot,bt,ar]:(Ze=Je,Je=we)):(Ze=Je,Je=we),Je!==we&&(Je=function(De){return De[0]+" "+De[2]}(Je)),(De=Je)===we&&(De=Bf()),De}function Pl(){var De,Je,ot,bt,ar,Ei,Wi,ki;if(De=Ze,(Je=Df())!==we){for(ot=[],bt=Ze,ar=vn(),(Ei=H0())!==we?(Wi=vn(),(ki=Df())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);bt!==we;)ot.push(bt),bt=Ze,ar=vn(),(Ei=H0())!==we?(Wi=vn(),(ki=Df())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);De=function(De,Je){return xc(De,Je)}(Je,ot)}else Ze=De,De=we;return De}function H0(){var De;return 43===$e.charCodeAt(Ze)?(De="+",Ze++):(De=we,0===sn&&ir(Gs)),De===we&&(45===$e.charCodeAt(Ze)?(De="-",Ze++):(De=we,0===sn&&ir(Fi)),De===we&&("||"===$e.substr(Ze,2)?(De="||",Ze+=2):(De=we,0===sn&&ir(Bi)))),De}function Df(){var De,Je,ot,bt,ar,Ei,Wi,ki;if(De=Ze,(Je=Du())!==we){for(ot=[],bt=Ze,ar=vn(),(Ei=Y0())!==we?(Wi=vn(),(ki=Du())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);bt!==we;)ot.push(bt),bt=Ze,ar=vn(),(Ei=Y0())!==we?(Wi=vn(),(ki=Du())!==we?bt=ar=[ar,Ei,Wi,ki]:(Ze=bt,bt=we)):(Ze=bt,bt=we);De=function(De,Je){return xc(De,Je)}(Je,ot)}else Ze=De,De=we;return De}function Y0(){var De;return 42===$e.charCodeAt(Ze)?(De="*",Ze++):(De=we,0===sn&&ir(oi)),De===we&&(47===$e.charCodeAt(Ze)?(De="/",Ze++):(De=we,0===sn&&ir(Da))),De}function Du(){var De,Je;return(De=function Q0(){var De;return(De=Nf())===we&&(De=function rg(){var De,Je,ot,bt;return De=Ze,(Je=function ig(){var De,Je,ot,bt;return De=Ze,(Je=Id())!==we&&(ot=Uf())!==we&&(bt=sg())!==we?De=function(De,Je,ot){return parseFloat(De+Je+ot)}(Je,ot,bt):(Ze=De,De=we),De===we&&(De=Ze,(Je=Id())!==we&&(ot=Uf())!==we?De=function(De,Je){return parseFloat(De+Je)}(Je,ot):(Ze=De,De=we),De===we&&(De=Ze,(Je=Id())!==we&&(ot=sg())!==we?De=function(De,Je){return parseFloat(De+Je)}(Je,ot):(Ze=De,De=we),De===we&&(De=Ze,(Je=Id())!==we&&(Je=function(De){return parseFloat(De)}(Je)),De=Je))),De}())!==we?(ot=Ze,sn++,bt=Of(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De=function(De){return{type:"number",value:De}}(Je):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function N_(){var De,Je;return De=Ze,(Je=function ag(){var De,Je,ot,bt;return De=Ze,"true"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(Di)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De=Je=[Je,ot]:(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(Je={type:"boolean",value:!0}),(De=Je)===we&&(De=Ze,(Je=function Au(){var De,Je,ot,bt;return De=Ze,"false"===$e.substr(Ze,5).toLowerCase()?(Je=$e.substr(Ze,5),Ze+=5):(Je=we,0===sn&&ir(js)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De=Je=[Je,ot]:(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(Je={type:"boolean",value:!1}),De=Je),De}())===we&&(De=function eg(){var De;return(De=function og(){var De,Je,ot,bt;return De=Ze,"null"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir($i)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De=Je=[Je,ot]:(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(De={type:"null",value:null}),De}())===we&&(De=function q0(){var De,Je;return De=Ze,W_()!==we?(vn(),(Je=wo())!==we?De=function(De){return{type:"date",value:De.value}}(Je):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function wd(){var De,Je;return De=Ze,Or()!==we?(vn(),(Je=wo())!==we?De=function(De){return{type:"timestamp",value:De.value}}(Je):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function X0(){var De,Je,ot,bt;return De=Ze,Lu()!==we?(vn(),45===$e.charCodeAt(Ze)?(Je="-",Ze++):(Je=we,0===sn&&ir(Fi)),Je===we&&(43===$e.charCodeAt(Ze)?(Je="+",Ze++):(Je=we,0===sn&&ir(Gs))),Je!==we?(vn(),(ot=wo())!==we?(vn(),(bt=Lf())!==we?De=function(De,Je,ot){return{type:"interval",value:Je,qualifier:ot,op:De}}(Je,ot,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,Lu()!==we?(vn(),(Je=wo())!==we?(vn(),(ot=Lf())!==we?De=function(De,Je){return{type:"interval",value:De,qualifier:Je,op:""}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)),De}()),De}())===we&&(De=function _T(){var De,Je,ot;return De=Ze,function Ru(){var De,Je,ot,bt;return De=Ze,"extract"===$e.substr(Ze,7).toLowerCase()?(Je=$e.substr(Ze,7),Ze+=7):(Je=we,0===sn&&ir(Vn)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="EXTRACT":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),_s()!==we?(vn(),(Je=function J0(){var De;return(De=cg())===we&&(De=aa())===we&&(De=Ql())===we&&(De=kf())===we&&(De=Ad())===we&&(De=Ra()),De}())!==we?(vn(),Jl()!==we?(vn(),(ot=as())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:De},Je]}}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function xf(){var De,Je,ot,bt,ar,Ei,Wi;return De=Ze,function Vf(){var De,Je,ot,bt;return De=Ze,"substring"===$e.substr(Ze,9).toLowerCase()?(Je=$e.substr(Ze,9),Ze+=9):(Je=we,0===sn&&ir(Sn)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="SUBSTRING":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),_s()!==we?(vn(),(Je=as())!==we?(vn(),Jl()!==we?(vn(),(ot=as())!==we?(vn(),bt=Ze,(ar=function lg(){var De,Je,ot,bt;return De=Ze,"for"===$e.substr(Ze,3).toLowerCase()?(Je=$e.substr(Ze,3),Ze+=3):(Je=we,0===sn&&ir(yn)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="FOR":(Ze=De,De=we)):(Ze=De,De=we),De}())!==we?(Ei=vn(),(Wi=as())!==we?bt=ar=[ar,Ei,Wi,vn()]:(Ze=bt,bt=we)):(Ze=bt,bt=we),bt===we&&(bt=null),(ar=_o())!==we?De=function(De,Je,ot){return{type:"function",name:"substring",args:{type:"expression-list",value:ot?[De,Je,ot[2]]:[De,Je]}}}(Je,ot,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function R_(){var De,Je,ot,bt;return De=Ze,B_()!==we?(vn(),_s()!==we?(vn(),(Je=L_())===we&&(Je=null),vn(),(ot=as())!==we?(vn(),Jl()!==we?(vn(),(bt=as())!==we?(vn(),_o()!==we?De=function(De,Je,ot){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:De??"BOTH"},Je,ot]}}}(Je,ot,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,B_()!==we?(vn(),_s()!==we?(vn(),(Je=L_())===we&&(Je=null),vn(),(ot=as())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:De??"BOTH"},Je]}}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)),De}())===we&&(De=function bT(){var De,Je,ot;return De=Ze,function V_(){var De,Je,ot,bt;return De=Ze,"position"===$e.substr(Ze,8).toLowerCase()?(Je=$e.substr(Ze,8),Ze+=8):(Je=we,0===sn&&ir(Kr)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="POSITION":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),_s()!==we?(vn(),(Je=as())!==we?(vn(),Bf()!==we?(vn(),(ot=as())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"function",name:"position",args:{type:"expression-list",value:[De,Je]}}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function ET(){var De,Je,ot;return De=Ze,function TT(){var De,Je,ot,bt;return De=Ze,"cast"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(El)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="CAST":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),_s()!==we?(vn(),(Je=as())!==we?(vn(),function PT(){var De,Je,ot,bt;return De=Ze,"as"===$e.substr(Ze,2).toLowerCase()?(Je=$e.substr(Ze,2),Ze+=2):(Je=we,0===sn&&ir(yo)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="AS":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),(ot=function x_(){var De,Je,ot;return De=Ze,(Je=function DT(){var De,Je,ot,bt;return De=Ze,"integer"===$e.substr(Ze,7).toLowerCase()?(Je=$e.substr(Ze,7),Ze+=7):(Je=we,0===sn&&ir(Th)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="INTEGER":(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(Je={type:"data-type",value:{type:"integer"}}),(De=Je)===we&&(De=Ze,(Je=function Od(){var De,Je,ot,bt;return De=Ze,"smallint"===$e.substr(Ze,8).toLowerCase()?(Je=$e.substr(Ze,8),Ze+=8):(Je=we,0===sn&&ir(Ks)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="SMALLINT":(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(Je={type:"data-type",value:{type:"smallint"}}),(De=Je)===we&&(De=Ze,(Je=function wT(){var De,Je,ot,bt;return De=Ze,"float"===$e.substr(Ze,5).toLowerCase()?(Je=$e.substr(Ze,5),Ze+=5):(Je=we,0===sn&&ir(qo)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="FLOAT":(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(Je={type:"data-type",value:{type:"float"}}),(De=Je)===we&&(De=Ze,(Je=function IT(){var De,Je,ot,bt;return De=Ze,"real"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(pf)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="REAL":(Ze=De,De=we)):(Ze=De,De=we),De}())!==we&&(Je={type:"data-type",value:{type:"real"}}),(De=Je)===we&&(De=Ze,(Je=W_())!==we&&(Je={type:"data-type",value:{type:"date"}}),(De=Je)===we&&(De=Ze,(Je=Or())!==we&&(Je={type:"data-type",value:{type:"timestamp"}}),(De=Je)===we&&(De=Ze,(Je=function ks(){var De,Je,ot,bt;return De=Ze,"varchar"===$e.substr(Ze,7).toLowerCase()?(Je=$e.substr(Ze,7),Ze+=7):(Je=we,0===sn&&ir(dr)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="VARCHAR":(Ze=De,De=we)):(Ze=De,De=we),De}())!==we?(vn(),_s()!==we?(vn(),(ot=Xa())!==we?(vn(),_o()!==we?De=function(De){return{type:"data-type",value:{type:"varchar",size:parseInt(De)}}}(ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we))))))),De}())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"function",name:"cast",args:{type:"expression-list",value:[De,Je]}}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function Rf(){var De,Je,ot;return De=Ze,(Je=function z_(){var De,Je,ot,bt;if(De=Ze,(De=Je=If())===we)if(De=Ze,96===$e.charCodeAt(Ze)?(Je="`",Ze++):(Je=we,0===sn&&ir(yu)),Je!==we){if(ot=[],qn.test($e.charAt(Ze))?(bt=$e.charAt(Ze),Ze++):(bt=we,0===sn&&ir(Co)),bt!==we)for(;bt!==we;)ot.push(bt),qn.test($e.charAt(Ze))?(bt=$e.charAt(Ze),Ze++):(bt=we,0===sn&&ir(Co));else ot=we;ot!==we?(96===$e.charCodeAt(Ze)?(bt="`",Ze++):(bt=we,0===sn&&ir(yu)),bt!==we?De=function(De){return De.join("")}(ot):(Ze=De,De=we)):(Ze=De,De=we)}else Ze=De,De=we;return De}())!==we?(vn(),_s()!==we?(vn(),(ot=Tf())===we&&(ot=null),vn(),_o()!==we?De=function(De,Je){return{type:"function",name:De,args:Je||{type:"expression-list",value:[]}}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function zh(){var De;return(De=function jf(){var De,Je,ot,bt,ar;if(De=Ze,Zh()!==we)if(vn(),(Je=as())!==we){for(vn(),ot=[],bt=Ou();bt!==we;)ot.push(bt),bt=Ou();bt=vn(),(ar=zf())!==we?De=function(De,Je){return{type:"case-expression",format:"simple",operand:De,clauses:Je,else:null}}(Je,ot):(Ze=De,De=we)}else Ze=De,De=we;else Ze=De,De=we;if(De===we)if(De=Ze,Zh()!==we)if(vn(),(Je=as())!==we){for(vn(),ot=[],bt=Ou();bt!==we;)ot.push(bt),bt=Ou();bt=vn(),(ar=ng())!==we?(vn(),zf()!==we?De=function(De,Je,ot){return{type:"case-expression",format:"simple",operand:De,clauses:Je,else:ot.value}}(Je,ot,ar):(Ze=De,De=we)):(Ze=De,De=we)}else Ze=De,De=we;else Ze=De,De=we;return De}())===we&&(De=function tg(){var De,Je,ot,bt;if(De=Ze,Zh()!==we){for(vn(),Je=[],ot=Iu();ot!==we;)Je.push(ot),ot=Iu();ot=vn(),(bt=zf())!==we?De=function(De){return{type:"case-expression",format:"searched",clauses:De,else:null}}(Je):(Ze=De,De=we)}else Ze=De,De=we;if(De===we)if(De=Ze,Zh()!==we){for(vn(),Je=[],ot=Iu();ot!==we;)Je.push(ot),ot=Iu();ot=vn(),(bt=ng())!==we?(vn(),zf()!==we?De=function(De,Je){return{type:"case-expression",format:"searched",clauses:De,else:Je.value}}(Je,bt):(Ze=De,De=we)):(Ze=De,De=we)}else Ze=De,De=we;return De}()),De}())===we&&(De=function Bh(){var De;return(De=function Vh(){var De;return De=function wf(){var De,Je,ot,bt;if(De=Ze,(Je=Of())!==we){for(ot=[],bt=wu();bt!==we;)ot.push(bt),bt=wu();De=function(De,Je){return De+Je.join("")}(Je,ot)}else Ze=De,De=we;return De}(),De}())!==we&&(De=function(De){return/^CURRENT_DATE$/i.test(De)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(De)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:De}}(De)),De}())===we&&(De=Af())===we&&(De=Ze,_s()!==we?(vn(),(Je=as())!==we?(vn(),_o()!==we?De=function(De){return De.paren=!0,De}(Je):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)),De}function If(){var De,Je,ot,bt;if(De=Ze,(Je=Of())!==we){for(ot=[],bt=Br();bt!==we;)ot.push(bt),bt=Br();De=function(De,Je){return De+Je.join("")}(Je,ot)}else Ze=De,De=we;return De}function Of(){var De;return ur.test($e.charAt(Ze))?(De=$e.charAt(Ze),Ze++):(De=we,0===sn&&ir(Ir)),De}function Br(){var De;return di.test($e.charAt(Ze))?(De=$e.charAt(Ze),Ze++):(De=we,0===sn&&ir(mo)),De}function wu(){var De;return Tt.test($e.charAt(Ze))?(De=$e.charAt(Ze),Ze++):(De=we,0===sn&&ir(hi)),De}function Af(){var De,Je,ot;return De=Ze,64===$e.charCodeAt(Ze)?(Je="@",Ze++):(Je=we,0===sn&&ir(ai)),Je!==we&&(ot=If())!==we?De=Je=[Je,ot]:(Ze=De,De=we),De!==we&&(De=function(De){return{type:"parameter",value:De[1]}}(De)),De}function L_(){var De;return(De=function CT(){var De,Je,ot,bt;return De=Ze,"leading"===$e.substr(Ze,7).toLowerCase()?(Je=$e.substr(Ze,7),Ze+=7):(Je=we,0===sn&&ir(oo)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="LEADING":(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function MT(){var De,Je,ot,bt;return De=Ze,"trailing"===$e.substr(Ze,8).toLowerCase()?(Je=$e.substr(Ze,8),Ze+=8):(Je=we,0===sn&&ir(ps)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="TRAILING":(Ze=De,De=we)):(Ze=De,De=we),De}())===we&&(De=function ST(){var De,Je,ot,bt;return De=Ze,"both"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(Bl)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="BOTH":(Ze=De,De=we)):(Ze=De,De=we),De}()),De}function Lf(){var De,Je,ot;return De=Ze,(Je=function Wh(){var De,Je,ot;return De=Ze,(Je=Dc())!==we?(vn(),_s()!==we?(vn(),(ot=Ff())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"interval-period",period:De.value,precision:Je,secondary:null}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Dc())!==we&&(Je=function(De){return{type:"interval-period",period:De.value,precision:null,secondary:null}}(Je)),De=Je),De}())!==we?(vn(),function Wf(){var De,Je,ot,bt;return De=Ze,"to"===$e.substr(Ze,2).toLowerCase()?(Je=$e.substr(Ze,2),Ze+=2):(Je=we,0===sn&&ir(Ph)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="TO":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),(ot=function F_(){var De,Je,ot,bt;return De=Ze,(Je=Dc())!==we&&(Je=function(De){return{type:"interval-period",period:De.value,precision:null,secondary:null}}(Je)),(De=Je)===we&&(De=Ze,(Je=Ra())!==we?(vn(),_s()!==we?(vn(),(ot=Ff())!==we?(vn(),Fu()!==we?(vn(),(bt=wc())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"interval-period",period:"second",precision:De,secondary:Je}}(ot,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Ra())!==we?(vn(),_s()!==we?(vn(),(ot=Ff())!==we?(vn(),_o()!==we?De=function(De){return{type:"interval-period",period:"second",precision:De,secondary:null}}(ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Ra())!==we&&(Je={type:"interval-period",period:"second",precision:null,secondary:null}),De=Je))),De}())!==we?De=function(De,Je){return{type:"interval-qualifier",start:De,end:Je}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=function kh(){var De,Je,ot,bt;return De=Ze,(Je=Dc())!==we?(vn(),_s()!==we?(vn(),(ot=wc())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"interval-period",period:De.value,precision:Je,secondary:null}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Dc())!==we&&(Je=function(De){return{type:"interval-period",period:De.value,precision:null,secondary:null}}(Je)),(De=Je)===we&&(De=Ze,(Je=Ra())!==we?(vn(),_s()!==we?(vn(),(ot=Ff())!==we?(vn(),Fu()!==we?(vn(),(bt=wc())!==we?(vn(),_o()!==we?De=function(De,Je){return{type:"interval-period",period:"second",precision:De,secondary:Je}}(ot,bt):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Ra())!==we?(vn(),_s()!==we?(vn(),(ot=wc())!==we?(vn(),_o()!==we?De=function(De){return{type:"interval-period",period:"second",precision:De,secondary:null}}(ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De===we&&(De=Ze,(Je=Ra())!==we&&(Je={type:"interval-period",period:"second",precision:null,secondary:null}),De=Je)))),De}()),De}function Dc(){var De,Je;return De=Ze,(Je=Ql())!==we&&(Je={type:"string",value:"day"}),(De=Je)===we&&(De=Ze,(Je=kf())!==we&&(Je={type:"string",value:"hour"}),(De=Je)===we&&(De=Ze,(Je=Ad())!==we&&(Je={type:"string",value:"minute"}),(De=Je)===we&&(De=Ze,(Je=aa())!==we&&(Je={type:"string",value:"month"}),(De=Je)===we&&(De=Ze,(Je=cg())!==we&&(Je={type:"string",value:"year"}),De=Je)))),De}function wc(){var De;return(De=Xa())!==we&&(De=function(De){return parseFloat(De)}(De)),De}function Ff(){var De;return(De=Xa())!==we&&(De=function(De){return parseFloat(De)}(De)),De}function wo(){var De;return(De=Nf())===we&&(De=Af()),De}function Nf(){var De,Je,ot,bt,ar;if(De=Ze,39===$e.charCodeAt(Ze)?(Je="'",Ze++):(Je=we,0===sn&&ir(wa)),Je===we&&("N'"===$e.substr(Ze,2)?(Je="N'",Ze+=2):(Je=we,0===sn&&ir(Cs))),Je!==we){for(ot=[],bt=Ze,"''"===$e.substr(Ze,2)?(ar="''",Ze+=2):(ar=we,0===sn&&ir(go)),ar!==we&&(ar="'"),(bt=ar)===we&&(dt.test($e.charAt(Ze))?(bt=$e.charAt(Ze),Ze++):(bt=we,0===sn&&ir(lr)));bt!==we;)ot.push(bt),bt=Ze,"''"===$e.substr(Ze,2)?(ar="''",Ze+=2):(ar=we,0===sn&&ir(go)),ar!==we&&(ar="'"),(bt=ar)===we&&(dt.test($e.charAt(Ze))?(bt=$e.charAt(Ze),Ze++):(bt=we,0===sn&&ir(lr)));39===$e.charCodeAt(Ze)?(bt="'",Ze++):(bt=we,0===sn&&ir(wa)),bt!==we?De=function(De){return{type:"string",value:De.join("")}}(ot):(Ze=De,De=we)}else Ze=De,De=we;return De}function Iu(){var De,Je,ot;return De=Ze,ug()!==we?(vn(),(Je=as())!==we?(vn(),k_()!==we?(vn(),(ot=as())!==we?De=function(De,Je){return{type:"when-clause",operand:De,value:Je}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}function Ou(){var De,Je,ot;return De=Ze,ug()!==we?(vn(),(Je=as())!==we?(vn(),k_()!==we?(vn(),(ot=as())!==we?De=function(De,Je){return{type:"when-clause",operand:De,value:Je}}(Je,ot):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we)):(Ze=De,De=we),De}function ng(){var De,Je;return De=Ze,function la(){var De,Je,ot,bt;return De=Ze,"else"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(ea)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="ELSE":(Ze=De,De=we)):(Ze=De,De=we),De}()!==we?(vn(),(Je=as())!==we?De=function(De){return{type:"else-clause",value:De}}(Je):(Ze=De,De=we)):(Ze=De,De=we),De}function Id(){var De,Je,ot;return(De=Xa())===we&&(De=Ze,45===$e.charCodeAt(Ze)?(Je="-",Ze++):(Je=we,0===sn&&ir(Fi)),Je===we&&(43===$e.charCodeAt(Ze)?(Je="+",Ze++):(Je=we,0===sn&&ir(Gs))),Je!==we&&(ot=Xa())!==we?De=function(De,Je){return De[0]+Je}(Je,ot):(Ze=De,De=we)),De}function Uf(){var De,Je,ot;return De=Ze,46===$e.charCodeAt(Ze)?(Je=".",Ze++):(Je=we,0===sn&&ir(Ft)),Je!==we?((ot=Xa())===we&&(ot=null),De=function(De){return"."+(De??"")}(ot)):(Ze=De,De=we),De}function sg(){var De,Je,ot;return De=Ze,(Je=function j_(){var De,Je,ot;return De=Ze,xt.test($e.charAt(Ze))?(Je=$e.charAt(Ze),Ze++):(Je=we,0===sn&&ir(An)),Je!==we?(gn.test($e.charAt(Ze))?(ot=$e.charAt(Ze),Ze++):(ot=we,0===sn&&ir(Wr)),ot===we&&(ot=null),De=function(De,Je){return"e"+(null===Je?"":Je)}(0,ot)):(Ze=De,De=we),De}())!==we&&(ot=Xa())!==we?De=function(De,Je){return De+Je}(Je,ot):(Ze=De,De=we),De}function Xa(){var De,Je;if(De=[],(Je=Yl())!==we)for(;Je!==we;)De.push(Je),Je=Yl();else De=we;return De!==we&&(De=function(De){return De.join("")}(De)),De}function Yl(){var De;return vt.test($e.charAt(Ze))?(De=$e.charAt(Ze),Ze++):(De=we,0===sn&&ir(hn)),De}function Bf(){var De,Je,ot,bt;return De=Ze,"in"===$e.substr(Ze,2).toLowerCase()?(Je=$e.substr(Ze,2),Ze+=2):(Je=we,0===sn&&ir(va)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="IN":(Ze=De,De=we)):(Ze=De,De=we),De}function Qs(){var De,Je,ot,bt;return De=Ze,"is"===$e.substr(Ze,2).toLowerCase()?(Je=$e.substr(Ze,2),Ze+=2):(Je=we,0===sn&&ir(st)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="IS":(Ze=De,De=we)):(Ze=De,De=we),De}function $h(){var De,Je,ot,bt;return De=Ze,"like"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(ht)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="LIKE":(Ze=De,De=we)):(Ze=De,De=we),De}function xu(){var De,Je,ot,bt;return De=Ze,"not"===$e.substr(Ze,3).toLowerCase()?(Je=$e.substr(Ze,3),Ze+=3):(Je=we,0===sn&&ir(Nt)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="NOT":(Ze=De,De=we)):(Ze=De,De=we),De}function Ic(){var De,Je,ot,bt;return De=Ze,"and"===$e.substr(Ze,3).toLowerCase()?(Je=$e.substr(Ze,3),Ze+=3):(Je=we,0===sn&&ir(At)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="AND":(Ze=De,De=we)):(Ze=De,De=we),De}function Oc(){var De,Je,ot,bt;return De=Ze,"or"===$e.substr(Ze,2).toLowerCase()?(Je=$e.substr(Ze,2),Ze+=2):(Je=we,0===sn&&ir(Zt)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="OR":(Ze=De,De=we)):(Ze=De,De=we),De}function Ac(){var De,Je,ot,bt;return De=Ze,"between"===$e.substr(Ze,7).toLowerCase()?(Je=$e.substr(Ze,7),Ze+=7):(Je=we,0===sn&&ir(nn)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="BETWEEN":(Ze=De,De=we)):(Ze=De,De=we),De}function Jl(){var De,Je,ot,bt;return De=Ze,"from"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(fn)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="FROM":(Ze=De,De=we)):(Ze=De,De=we),De}function B_(){var De,Je,ot,bt;return De=Ze,"trim"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(Er)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="TRIM":(Ze=De,De=we)):(Ze=De,De=we),De}function Or(){var De,Je,ot,bt;return De=Ze,"timestamp"===$e.substr(Ze,9).toLowerCase()?(Je=$e.substr(Ze,9),Ze+=9):(Je=we,0===sn&&ir(Qi)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="TIMESTAMP":(Ze=De,De=we)):(Ze=De,De=we),De}function W_(){var De,Je,ot,bt;return De=Ze,"date"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(Us)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="DATE":(Ze=De,De=we)):(Ze=De,De=we),De}function Lu(){var De,Je,ot,bt;return De=Ze,"interval"===$e.substr(Ze,8).toLowerCase()?(Je=$e.substr(Ze,8),Ze+=8):(Je=we,0===sn&&ir(Jr)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="INTERVAL":(Ze=De,De=we)):(Ze=De,De=we),De}function cg(){var De,Je,ot,bt;return De=Ze,"year"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(mu)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="YEAR":(Ze=De,De=we)):(Ze=De,De=we),De}function aa(){var De,Je,ot,bt;return De=Ze,"month"===$e.substr(Ze,5).toLowerCase()?(Je=$e.substr(Ze,5),Ze+=5):(Je=we,0===sn&&ir(gu)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="MONTH":(Ze=De,De=we)):(Ze=De,De=we),De}function Ql(){var De,Je,ot,bt;return De=Ze,"day"===$e.substr(Ze,3).toLowerCase()?(Je=$e.substr(Ze,3),Ze+=3):(Je=we,0===sn&&ir(_c)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="DAY":(Ze=De,De=we)):(Ze=De,De=we),De}function kf(){var De,Je,ot,bt;return De=Ze,"hour"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(ff)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="HOUR":(Ze=De,De=we)):(Ze=De,De=we),De}function Ad(){var De,Je,ot,bt;return De=Ze,"minute"===$e.substr(Ze,6).toLowerCase()?(Je=$e.substr(Ze,6),Ze+=6):(Je=we,0===sn&&ir(vi)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="MINUTE":(Ze=De,De=we)):(Ze=De,De=we),De}function Ra(){var De,Je,ot,bt;return De=Ze,"second"===$e.substr(Ze,6).toLowerCase()?(Je=$e.substr(Ze,6),Ze+=6):(Je=we,0===sn&&ir(Vl)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="SECOND":(Ze=De,De=we)):(Ze=De,De=we),De}function Zh(){var De,Je,ot,bt;return De=Ze,"case"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(Ya)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="CASE":(Ze=De,De=we)):(Ze=De,De=we),De}function zf(){var De,Je,ot,bt;return De=Ze,"end"===$e.substr(Ze,3).toLowerCase()?(Je=$e.substr(Ze,3),Ze+=3):(Je=we,0===sn&&ir(Ti)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="END":(Ze=De,De=we)):(Ze=De,De=we),De}function ug(){var De,Je,ot,bt;return De=Ze,"when"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(_d)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="WHEN":(Ze=De,De=we)):(Ze=De,De=we),De}function k_(){var De,Je,ot,bt;return De=Ze,"then"===$e.substr(Ze,4).toLowerCase()?(Je=$e.substr(Ze,4),Ze+=4):(Je=we,0===sn&&ir(mf)),Je!==we?(ot=Ze,sn++,bt=Br(),sn--,bt===we?ot=void 0:(Ze=ot,ot=we),ot!==we?De="THEN":(Ze=De,De=we)):(Ze=De,De=we),De}function Fu(){var De;return 44===$e.charCodeAt(Ze)?(De=",",Ze++):(De=we,0===sn&&ir(Ia)),De}function _s(){var De;return 40===$e.charCodeAt(Ze)?(De="(",Ze++):(De=we,0===sn&&ir(_i)),De}function _o(){var De;return 41===$e.charCodeAt(Ze)?(De=")",Ze++):(De=we,0===sn&&ir(Ec)),De}function vn(){var De,Je;for(De=[],Je=dg();Je!==we;)De.push(Je),Je=dg();return De}function dg(){var De;return Xn.test($e.charAt(Ze))?(De=$e.charAt(Ze),Ze++):(De=we,0===sn&&ir(Ed)),De}function hg(De,Je,ot,bt){var ar={type:"binary-expression",operator:De,left:Je,right:ot};return void 0!==bt&&(ar.escape=bt),ar}function xc(De,Je){for(var ot=De,bt=0;bt<Je.length;bt++)ot=hg(Je[bt][1],ot,Je[bt][3]);return ot}if((at=Pt())!==we&&Ze===$e.length)return at;throw at!==we&&Ze<$e.length&&ir({type:"end"}),function Sf(De,Je,ot){return new Te(Te.buildMessage(De,Je),De,Je,ot)}(xa,Po<$e.length?$e.charAt(Po):null,function jh(De,Je){var ot=Nh(De),bt=Nh(Je);return{source:tt,start:{offset:De,line:ot.line,column:ot.column},end:{offset:Je,line:bt.line,column:bt.column}}}(Po,Po<$e.length?Po+1:Po))}}}());class oe{static parse(Te){return q.parse(Te)}}const pe=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,de=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,be=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,me=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,_e=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,le=new Set(["current_timestamp","current_date","current_time"]);function fe(ve,Te){return(ve+="").length>=Te?ve:new Array(Te-ve.length+1).join("0")+ve}function Ee(ve,Te,Be="0",Ge="0",$e="0",Xe="0",at="",we="0",tt="0"){if("+"===at||"-"===at){const pt=`${fe(parseInt(ve,10),4)}-${fe(parseInt(Te,10),2)}-${fe(parseInt(Be,10),2)}`;let Pt="";parseFloat(Xe)<10&&(Pt="0");const mt=`${fe(parseInt(Ge,10),2)}:${fe(parseInt($e,10),2)}:${Pt+parseFloat(Xe).toString()}`,St=`${at}${fe(parseInt(we,10),2)}:${fe(parseInt(tt,10),2)}`;return new Date(pt+"T"+mt+St)}return new Date(parseInt(ve,10),parseInt(Te,10)-1,parseInt(Be,10),parseInt(Ge,10),parseInt($e,10),parseFloat(Xe))}class ye{static makeBool(Te){return ge(Te)}static featureValue(Te,Be,Ge,$e){return Qe(Te,Be,Ge,$e)}static equalsNull(Te){return null===Te}static applyLike(Te,Be,Ge){return Ue(Te,Be,Ge)}static ensureArray(Te){return Pe(Te)}static applyIn(Te,Be){return Fe(Te,Be)}static currentDate(){const Te=new Date;return Te.setHours(0,0,0,0),Te}static makeSqlInterval(Te,Be,Ge){return ne.createFromValueAndQualifer(Te,Be,Ge)}static convertInterval(Te){return Te instanceof ne?Te.valueInMilliseconds():Te}static currentTimestamp(){return new Date}static compare(Te,Be,Ge){return Ye(Te,Be,Ge)}static calculate(Te,Be,Ge){return xe(Te,Be,Ge)}static makeComparable(Te){return ke(Te)}static evaluateFunction(Te,Be){return ae(Te,Be)}static lookup(Te,Be){const Ge=Be[Te];return void 0===Ge?null:Ge}static between(Te,Be){return null==Te||null==Be[0]||null==Be[1]?null:Te>=Be[0]&&Te<=Be[1]}static notbetween(Te,Be){return null==Te||null==Be[0]||null==Be[1]?null:Te<Be[0]||Te>Be[1]}static ternaryNot(Te){return Ie(Te)}static ternaryAnd(Te,Be){return Re(Te,Be)}static ternaryOr(Te,Be){return Ce(Te,Be)}}class ue{constructor(Te,Be){this.fieldsIndex=Be,this._datefields={},this.parameters={},this._hasDateFunctions=void 0,this.parseTree=oe.parse(Te);const{isStandardized:Ge,isAggregate:$e,referencedFieldNames:Xe}=this._extractExpressionInfo(Be);this._referencedFieldNames=Xe,this.isStandardized=Ge,this.isAggregate=$e}static create(Te,Be){return new ue(Te,Be)}get fieldNames(){return this._referencedFieldNames}testSet(Te,Be=lt){const Ge={};for(const $e of this.fieldNames)Ge[$e]=Te.map(Xe=>Be.getAttribute(Xe,$e));return!!this._evaluateNode(this.parseTree,{attributes:Ge},lt)}calculateValue(Te,Be=lt){const Ge=this._evaluateNode(this.parseTree,Te,Be);return Ge instanceof ne?Ge.valueInMilliseconds()/864e5:Ge}calculateValueCompiled(Te,Be=lt){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(Te,this.parameters,Be,this._datefields):(0,w.Z)("esri-csp-restrictions")?this.calculateValue(Te,Be):(this._compileMe(),this.parseTree._compiledVersion(Te,this.parameters,Be,this._datefields))}testFeature(Te,Be=lt){return!!this._evaluateNode(this.parseTree,Te,Be)}testFeatureCompiled(Te,Be=lt){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(Te,this.parameters,Be,this._datefields):(0,w.Z)("esri-csp-restrictions")?this.testFeature(Te,Be):(this._compileMe(),!!this.parseTree._compiledVersion(Te,this.parameters,Be,this._datefields))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,Te=>{"current-time"===Te.type?this._hasDateFunctions=!0:"function"===Te.type&&(this._hasDateFunctions=this._hasDateFunctions||le.has(Te.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const Te=new Set;return this._visitAll(this.parseTree,Be=>{"function"===Be.type&&Te.add(Be.name.toLowerCase())}),Array.from(Te)}getExpressions(){const Te=new Map;return this._visitAll(this.parseTree,Be=>{if("function"===Be.type){const Ge=Be.name.toLowerCase(),$e=Be.args.value[0];if("column-reference"===$e.type){const Xe=$e.column,at=`${Ge}-${Xe}`;Te.has(at)||Te.set(at,{aggregateType:Ge,field:Xe})}}}),[...Te.values()]}getVariables(){const Te=new Set;return this._visitAll(this.parseTree,Be=>{"parameter"===Be.type&&Te.add(Be.value.toLowerCase())}),Array.from(Te)}_compileMe(){const Te="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","datefields",Te).bind(ye)}_extractExpressionInfo(Te){const Be=[],Ge=new Set;let $e=!0,Xe=!0;return this._visitAll(this.parseTree,at=>{switch(at.type){case"column-reference":{const we=Te?.get(at.column);let tt,pt;we?tt=pt=we.name??"":(pt=at.column,tt=pt.toLowerCase()),we&&we.name&&("date"===we.type||"esriFieldTypeDate"===we.type)&&(this._datefields[we.name]=1),Ge.has(tt)||(Ge.add(tt),Be.push(pt)),at.column=pt;break}case"function":{const{name:we,args:tt}=at,pt=tt.value.length;$e&&($e=function se(ve,Te){const Be=U[ve.toLowerCase()];return null!=Be&&Te>=Be.minParams&&Te<=Be.maxParams}(we,pt)),Xe&&(Xe=function W(ve,Te){const Be=B[ve.toLowerCase()];return null!=Be&&Te>=Be.minParams&&Te<=Be.maxParams}(we,pt));break}}}),{referencedFieldNames:Array.from(Be),isStandardized:$e,isAggregate:Xe}}_visitAll(Te,Be){if(null!=Te)switch(Be(Te),Te.type){case"when-clause":this._visitAll(Te.operand,Be),this._visitAll(Te.value,Be);break;case"case-expression":for(const Ge of Te.clauses)this._visitAll(Ge,Be);"simple"===Te.format&&this._visitAll(Te.operand,Be),null!==Te.else&&this._visitAll(Te.else,Be);break;case"expression-list":for(const Ge of Te.value)this._visitAll(Ge,Be);break;case"unary-expression":this._visitAll(Te.expr,Be);break;case"binary-expression":this._visitAll(Te.left,Be),this._visitAll(Te.right,Be);break;case"function":this._visitAll(Te.args,Be)}}evaluateNodeToJavaScript(Te){switch(Te.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(Te.value)+", "+JSON.stringify(Te.qualifier)+","+JSON.stringify(Te.op)+")";case"case-expression":{let Be="";if("simple"===Te.format){const Ge="this.makeComparable("+this.evaluateNodeToJavaScript(Te.operand)+")";Be="( ";for(let $e=0;$e<Te.clauses.length;$e++)Be+=" ("+Ge+" === this.makeComparable("+this.evaluateNodeToJavaScript(Te.clauses[$e].operand)+")) ? ("+this.evaluateNodeToJavaScript(Te.clauses[$e].value)+") : ";Be+=null!==Te.else?this.evaluateNodeToJavaScript(Te.else):"null",Be+=" )"}else{Be="( ";for(let Ge=0;Ge<Te.clauses.length;Ge++)Be+=" this.makeBool("+this.evaluateNodeToJavaScript(Te.clauses[Ge].operand)+")===true ? ("+this.evaluateNodeToJavaScript(Te.clauses[Ge].value)+") : ";Be+=null!==Te.else?this.evaluateNodeToJavaScript(Te.else):"null",Be+=" )"}return Be}case"parameter":return"this.lookup("+JSON.stringify(Te.value.toLowerCase())+",lookups)";case"expression-list":{let Be="[";for(const Ge of Te.value)"["!==Be&&(Be+=","),Be+=this.evaluateNodeToJavaScript(Ge);return Be+="]",Be}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(Te.expr)+")";case"binary-expression":switch(Te.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+" )";case"IS":if("null"!==Te.right.type)throw new Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(Te.left)+")";case"ISNOT":if("null"!==Te.right.type)throw new Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(Te.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(Te.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(Te.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(Te.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(Te.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+")";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+")";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+","+JSON.stringify(Te.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+","+JSON.stringify(Te.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(Te.operator)+","+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+")";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(Te.operator)+","+this.evaluateNodeToJavaScript(Te.left)+","+this.evaluateNodeToJavaScript(Te.right)+")"}throw new Error("Not Supported Operator "+Te.operator);case"null":case"boolean":case"string":case"number":return JSON.stringify(Te.value);case"date":return"(new Date("+ce(Te.value).getTime().toString()+"))";case"timestamp":return"(new Date("+Me(Te.value).getTime().toString()+"))";case"current-time":return"date"===Te.mode?"this.currentDate()":"this.currentTimestamp()";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(Te.column)+",datefields,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(Te.name)+","+this.evaluateNodeToJavaScript(Te.args)+")"}throw new Error("Unsupported sql syntax "+Te.type)}_evaluateNode(Te,Be,Ge){switch(Te.type){case"interval":{const $e=this._evaluateNode(Te.value,Be,Ge);return ne.createFromValueAndQualifer($e,Te.qualifier,Te.op)}case"case-expression":if("simple"===Te.format){const $e=ke(this._evaluateNode(Te.operand,Be,Ge));for(let Xe=0;Xe<Te.clauses.length;Xe++)if($e===ke(this._evaluateNode(Te.clauses[Xe].operand,Be,Ge)))return this._evaluateNode(Te.clauses[Xe].value,Be,Ge);if(null!==Te.else)return this._evaluateNode(Te.else,Be,Ge)}else{for(let $e=0;$e<Te.clauses.length;$e++)if(ge(this._evaluateNode(Te.clauses[$e].operand,Be,Ge)))return this._evaluateNode(Te.clauses[$e].value,Be,Ge);if(null!==Te.else)return this._evaluateNode(Te.else,Be,Ge)}return null;case"parameter":return this.parameters[Te.value.toLowerCase()];case"expression-list":{const $e=[];for(const Xe of Te.value)$e.push(this._evaluateNode(Xe,Be,Ge));return $e}case"unary-expression":return Ie(this._evaluateNode(Te.expr,Be,Ge));case"binary-expression":switch(Te.operator){case"AND":return Re(this._evaluateNode(Te.left,Be,Ge),this._evaluateNode(Te.right,Be,Ge));case"OR":return Ce(this._evaluateNode(Te.left,Be,Ge),this._evaluateNode(Te.right,Be,Ge));case"IS":if("null"!==Te.right.type)throw new Error("Unsupported RHS for IS");return null===this._evaluateNode(Te.left,Be,Ge);case"ISNOT":if("null"!==Te.right.type)throw new Error("Unsupported RHS for IS");return null!==this._evaluateNode(Te.left,Be,Ge);case"IN":{const $e=Pe(this._evaluateNode(Te.right,Be,Ge));return Fe(this._evaluateNode(Te.left,Be,Ge),$e)}case"NOT IN":{const $e=Pe(this._evaluateNode(Te.right,Be,Ge));return Ie(Fe(this._evaluateNode(Te.left,Be,Ge),$e))}case"BETWEEN":{const $e=this._evaluateNode(Te.left,Be,Ge),Xe=this._evaluateNode(Te.right,Be,Ge);return null==$e||null==Xe[0]||null==Xe[1]?null:$e>=ke(Xe[0])&&$e<=ke(Xe[1])}case"NOTBETWEEN":{const $e=this._evaluateNode(Te.left,Be,Ge),Xe=this._evaluateNode(Te.right,Be,Ge);return null==$e||null==Xe[0]||null==Xe[1]?null:$e<ke(Xe[0])||$e>ke(Xe[1])}case"LIKE":return Ue(this._evaluateNode(Te.left,Be,Ge),this._evaluateNode(Te.right,Be,Ge),Te.escape);case"NOT LIKE":return Ie(Ue(this._evaluateNode(Te.left,Be,Ge),this._evaluateNode(Te.right,Be,Ge),Te.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return Ye(Te.operator,this._evaluateNode(Te.left,Be,Ge),this._evaluateNode(Te.right,Be,Ge));case"-":case"+":case"*":case"/":case"||":return xe(Te.operator,this._evaluateNode(Te.left,Be,Ge),this._evaluateNode(Te.right,Be,Ge))}case"null":case"boolean":case"string":case"number":return Te.value;case"date":return ce(Te.value);case"timestamp":return Me(Te.value);case"current-time":{const $e=new Date;return"date"===Te.mode&&$e.setHours(0,0,0,0),$e}case"column-reference":return Qe(Be,Te.column,this._datefields,Ge);case"data-type":return Te.value;case"function":{const $e=this._evaluateNode(Te.args,Be,Ge);return this.isAggregate?function O(ve,Te){const Be=B[ve.toLowerCase()];if(null==Be)throw new Error("Function Not Recognised");if(Te.length<Be.minParams||Te.length>Be.maxParams)throw new Error(`Invalid Parameter count for call to ${ve.toUpperCase()}`);return Be.evaluate(Te)}(Te.name,$e):ae(Te.name,$e)}}throw new Error("Unsupported sql syntax "+Te.type)}}function Me(ve){let Te=de.exec(ve);if(null!==Te){const[,Be,Ge,$e,Xe,at,we]=Te;return Ee(Be,Ge,$e,Xe,at,we)}if(Te=be.exec(ve),null!==Te){const[,Be,Ge,$e,Xe,at,we,tt,pt,Pt]=Te;return Ee(Be,Ge,$e,Xe,at,we,tt,pt,Pt)}if(Te=me.exec(ve),null!==Te){const[,Be,Ge,$e,Xe,at,we,tt,pt]=Te;return Ee(Be,Ge,$e,Xe,at,"0",we,tt,pt)}if(Te=_e.exec(ve),null!==Te){const[,Be,Ge,$e,Xe,at]=Te;return Ee(Be,Ge,$e,Xe,at)}if(Te=pe.exec(ve),null!==Te){const[,Be,Ge,$e]=Te;return Ee(Be,Ge,$e)}throw new Error("SQL Invalid Timestamp")}function ce(ve){const Te=pe.exec(ve);if(null===Te)try{return Me(ve)}catch{throw new Error("SQL Invalid Date")}const[,Be,Ge,$e]=Te;return new Date(parseInt(Be,10),parseInt(Ge,10)-1,parseInt($e,10))}function ge(ve){return!0===ve}function Pe(ve){return Array.isArray(ve)?ve:[ve]}function Ie(ve){return null!==ve?!0!==ve:null}function Re(ve,Te){return null!=ve&&null!=Te?!0===ve&&!0===Te:!1!==ve&&!1!==Te&&null}function Ce(ve,Te){return null!=ve&&null!=Te?!0===ve||!0===Te:!0===ve||!0===Te||null}function Fe(ve,Te){if(null==ve)return null;let Be=!1;for(const Ge of Te)if(null==Ge)Be=null;else if(ve===Ge){Be=!0;break}return Be}const Ne="-[]/{}()*+?.\\^$|";var Le,ve;function Ue(ve,Te,Be){return null==ve?null:function Oe(ve,Te){const Be=Te;let Ge="",$e=Le.Normal;for(let Xe=0;Xe<ve.length;Xe++){const at=ve.charAt(Xe);switch($e){case Le.Normal:at===Be?$e=Le.Escaped:Ne.includes(at)?Ge+="\\"+at:Ge+="%"===at?".*":"_"===at?".":at;break;case Le.Escaped:Ne.includes(at)?Ge+="\\"+at:Ge+=at,$e=Le.Normal}}return new RegExp("^"+Ge+"$","m")}(Te,Be).test(ve)}function ke(ve){return ve instanceof Date?ve.valueOf():ve}function Ye(ve,Te,Be){if(null==Te||null==Be)return null;const Ge=ke(Te),$e=ke(Be);switch(ve){case"<>":return Ge!==$e;case"=":return Ge===$e;case">":return Ge>$e;case"<":return Ge<$e;case">=":return Ge>=$e;case"<=":return Ge<=$e}}function xe(ve,Te,Be){if("||"===ve)return ae("concat",[Te,Be]);if(Te instanceof ne)if(Be instanceof Date)switch(ve){case"+":return new Date(Te.valueInMilliseconds()+Be.getTime());case"-":return Te.valueInMilliseconds()-Be.getTime();case"*":return Te.valueInMilliseconds()*Be.getTime();case"/":return Te.valueInMilliseconds()/Be.getTime()}else if(Be instanceof ne)switch(ve){case"+":return ne.createFromMilliseconds(Te.valueInMilliseconds()+Be.valueInMilliseconds());case"-":return ne.createFromMilliseconds(Te.valueInMilliseconds()-Be.valueInMilliseconds());case"*":return Te.valueInMilliseconds()*Be.valueInMilliseconds();case"/":return Te.valueInMilliseconds()/Be.valueInMilliseconds()}else Te=Te.valueInMilliseconds();else if(Be instanceof ne)if(Te instanceof Date)switch(ve){case"+":return new Date(Be.valueInMilliseconds()+Te.getTime());case"-":return new Date(Te.getTime()-Be.valueInMilliseconds());case"*":return Te.getTime()*Be.valueInMilliseconds();case"/":return Te.getTime()/Be.valueInMilliseconds()}else Be=Be.valueInMilliseconds();else if(Te instanceof Date&&"number"==typeof Be)switch(Be=24*Be*60*60*1e3,Te=Te.getTime(),ve){case"+":return new Date(Te+Be);case"-":return new Date(Te-Be);case"*":return new Date(Te*Be);case"/":return new Date(Te/Be)}else if(Be instanceof Date&&"number"==typeof Te)switch(Te=24*Te*60*60*1e3,Be=Be.getTime(),ve){case"+":return new Date(Te+Be);case"-":return new Date(Te-Be);case"*":return new Date(Te*Be);case"/":return new Date(Te/Be)}switch(ve){case"+":return Te+Be;case"-":return Te-Be;case"*":return Te*Be;case"/":return Te/Be}}function Qe(ve,Te,Be,Ge){const $e=Ge.getAttribute(ve,Te);return null!=$e&&1===Be[Te]?new Date($e):$e}(ve=Le||(Le={}))[ve.Normal=0]="Normal",ve[ve.Escaped=1]="Escaped";const lt={getAttribute:(ve,Te)=>(function We(ve){return ve&&"object"==typeof ve.attributes}(ve)?ve.attributes:ve)[Te]}},77275:(j,F,T)=>{"use strict";T.d(F,{Cb:()=>ee,Qs:()=>k,gx:()=>B,hP:()=>re});var w=T(94113);const O=/\{([^\}]+)\}/g;function W(G){return G??""}function B(G,Y){return G.replace(O,"object"==typeof Y?(ne,ae)=>W((0,w.hS)(ae,Y)):(ne,ae)=>W(Y(ae)))}function k(G,Y){return G.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,ne=>Y&&Y.includes(ne)?ne:`\\${ne}`)}function re(G){let Y=0;for(let ne=0;ne<G.length;ne++)Y=(Y<<5)-Y+G.charCodeAt(ne),Y|=0;return Y}function ee(G){return(new DOMParser).parseFromString(G||"","text/html").body.innerText||""}},28705:(j,F,T)=>{"use strict";T.d(F,{a:()=>ae,z:()=>se});var w=T(17626),O=T(74333),W=T(89726),B=T(80542),ee=(T(8314),T(63290),T(62208)),Z=T(77712),ne=(T(90912),T(85931),T(76898));let ae=class extends((0,B.p)(O.Z)){constructor(ie){super(ie),this.handles.add([this.on("before-add",te=>{(0,ee.Wi)(te.item)&&te.preventDefault()}),this.on("after-add",te=>this._own(te.item)),this.on("after-remove",te=>this._release(te.item))])}get owner(){return this._get("owner")}set owner(ie){ie!==this._get("owner")&&(this._releaseAll(),this._set("owner",ie),this._ownAll())}_ownAll(){for(const ie of this.items)this._own(ie)}_releaseAll(){for(const ie of this.items)this._release(ie)}_createNewInstance(ie){return this.itemType?new(O.Z.ofType(this.itemType.Type))(ie):new O.Z(ie)}};function se(ie,te){return{type:ie,cast:W.R,set(Q){const V=(0,W.Z)(Q,this._get(te),ie);V.owner=this,this._set(te,V)}}}(0,w._)([(0,Z.Cb)()],ae.prototype,"owner",null),ae=(0,w._)([(0,ne.j)("esri.core.support.OwningCollection")],ae)},17760:(j,F,T)=>{"use strict";T.d(F,{t:()=>G});var w=T(17626),O=T(14517),W=T(72392),B=T(62208),k=T(32917),re=T(50618),ee=T(77712),Z=T(76898);let G=class extends O.Z{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new W.Z,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(ne,ae,se={}){return this._installWatch(ne,ae,se,k.YP)}addWhen(ne,ae,se={}){return this._installWatch(ne,ae,se,k.gx)}addOnCollectionChange(ne,ae,{initial:se=!1,final:ie=!1}={}){const te=++this._handleId;return this._handles.add([(0,k.on)(ne,"after-changes",this._createSyncUpdatingCallback(),k.Z_),(0,k.on)(ne,"change",ae,{onListenerAdd:se?Q=>ae({added:Q.toArray(),removed:[]}):void 0,onListenerRemove:ie?Q=>ae({added:[],removed:Q.toArray()}):void 0})],te),{remove:()=>this._handles.remove(te)}}addPromise(ne){if((0,B.Wi)(ne))return ne;const ae=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(ne)&&(0!==this._pendingPromises.size||this._handles.has(Y)||this._set("updating",!1))}},ae),this._pendingPromises.add(ne),this._set("updating",!0);const se=()=>this._handles.remove(ae);return ne.then(se,se),ne}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(ne,ae,se={},ie){const te=++this._handleId;se.sync||this._installSyncUpdatingWatch(ne,te);const Q=ie(ne,ae,se);return this._handles.add(Q,te),{remove:()=>this._handles.remove(te)}}_installSyncUpdatingWatch(ne,ae){const se=this._createSyncUpdatingCallback(),ie=(0,k.YP)(ne,se,{sync:!0,equals:()=>!1});return this._handles.add(ie,ae),ie}_createSyncUpdatingCallback(){return()=>{this._handles.remove(Y),++this._scheduleHandleId;const ne=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add((0,re.Os)(()=>{ne===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(Y))}),Y)}}};(0,w._)([(0,ee.Cb)({readOnly:!0})],G.prototype,"updating",void 0),G=(0,w._)([(0,Z.j)("esri.core.support.WatchUpdatingTracking")],G);const Y=-42},7074:(j,F,T)=>{"use strict";function w(O,W,B,k){let re=null,ee=1e3;"number"==typeof W?(ee=W,k=B):(re=W??null,ee=B);let Z,G=0;const Y=()=>{G=0,O.apply(k,Z)},ne=(...ae)=>{re&&re.apply(k,ae),Z=ae,ee?G||(G=setTimeout(Y,ee)):Y()};return ne.remove=()=>{G&&(clearTimeout(G),G=0)},ne.forceUpdate=()=>{G&&(clearTimeout(G),Y())},ne.hasPendingUpdates=()=>!!G,ne}T.d(F,{P:()=>w})},27422:(j,F,T)=>{"use strict";function w(k){return k}function B(k){return.001*k}T.d(F,{D9:()=>B,HA:()=>w})},28170:(j,F,T)=>{"use strict";T.d(F,{JE:()=>ee,Nm:()=>k,rJ:()=>ae}),T(8314);const O={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},W={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function k(se,ie,te){const Q=new Date(se.getTime());if(ie&&te){const V=W[te],{getter:U,setter:$,multiplier:z}=V;if("months"===te){const J=function B(se,ie){const te=new Date(se,ie+1,1);return te.setDate(0),te.getDate()}(Q.getFullYear(),Q.getMonth()+ie);Q.getDate()>J&&Q.setDate(J)}Q[$](Q[U]()+ie*z)}return Q}function ee(se,ie){switch(ie){case"milliseconds":return new Date(se.getTime());case"seconds":return new Date(se.getFullYear(),se.getMonth(),se.getDate(),se.getHours(),se.getMinutes(),se.getSeconds());case"minutes":return new Date(se.getFullYear(),se.getMonth(),se.getDate(),se.getHours(),se.getMinutes());case"hours":return new Date(se.getFullYear(),se.getMonth(),se.getDate(),se.getHours());case"days":return new Date(se.getFullYear(),se.getMonth(),se.getDate());case"weeks":return new Date(se.getFullYear(),se.getMonth(),se.getDate()-se.getDay());case"months":return new Date(se.getFullYear(),se.getMonth(),1);case"years":return new Date(se.getFullYear(),0,1);case"decades":return new Date(se.getFullYear()-se.getFullYear()%10,0,1);case"centuries":return new Date(se.getFullYear()-se.getFullYear()%100,0,1);default:return new Date}}function ae(se,ie,te){return 0===se?0:se*O[ie]/O[te]}},55713:(j,F,T)=>{"use strict";function w(se){return se instanceof ArrayBuffer}function O(se){return se&&se.constructor&&"Int8Array"===se.constructor.name}function W(se){return se&&se.constructor&&"Uint8Array"===se.constructor.name}function B(se){return se&&se.constructor&&"Uint8ClampedArray"===se.constructor.name}function k(se){return se&&se.constructor&&"Int16Array"===se.constructor.name}function re(se){return se&&se.constructor&&"Uint16Array"===se.constructor.name}function ee(se){return se&&se.constructor&&"Int32Array"===se.constructor.name}function Z(se){return se&&se.constructor&&"Uint32Array"===se.constructor.name}function G(se){return se&&se.constructor&&"Float32Array"===se.constructor.name}function Y(se){return se&&se.constructor&&"Float64Array"===se.constructor.name}T.d(F,{DB:()=>ae,Hx:()=>ee,KZ:()=>B,Uc:()=>re,W0:()=>O,ZY:()=>Z,eP:()=>w,fS:()=>Y,lq:()=>W,xZ:()=>G,z3:()=>k});const ae=1024},86236:(j,F,T)=>{"use strict";T.d(F,{D:()=>W});let w=0;function W(){return++w}},90466:(j,F,T)=>{"use strict";T.d(F,{L4:()=>q,LO:()=>Y,Rd:()=>ne,Ud:()=>te,VG:()=>G,Wv:()=>se,Zv:()=>V,_o:()=>oe,aC:()=>U,h9:()=>ie,ld:()=>$,mg:()=>ae,q6:()=>Q,sS:()=>fe,yc:()=>z});var w=T(27306),O=T(23719),W=T(21286),B=T(62208),k=T(77275),re=T(16730),ee=T(15348);function Z(Ee,ye,ue){return Ee.units[ye][ue]}function G(Ee,ye,ue,Me=2,ce="abbr"){return`${(0,ee.uf)(ye,{minimumFractionDigits:Me,maximumFractionDigits:Me,signDisplay:ye>0?"never":"exceptZero"})} ${Z(Ee,ue,ce)}`}function Y(Ee,ye,ue,Me=2,ce="abbr"){return`${(0,ee.uf)(ye,{minimumFractionDigits:Me,maximumFractionDigits:Me,signDisplay:"exceptZero"})} ${Z(Ee,ue,ce)}`}function ne(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.KU)(ye,ue);return G(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function ae(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.KU)(ye,ue);return Y(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function se(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.OG)(ye,ue);return G(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function ie(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.OG)(ye,ue);return Y(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function te(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.FN)(ye,ue);return G(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function Q(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.FN)(ye,ue);return Y(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function V(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.qv)(ye,ue);return G(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function U(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.qv)(ye,ue);return Y(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function $(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.tQ)(ye,ue);return G(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function z(Ee,ye,ue,Me=2,ce="abbr"){const ge=(0,re.Yl)(ye,ue);return G(Ee,(0,re.En)(ye,ue,ge),ge,Me,ce)}function q(Ee,ye,ue,Me,ce){ce=(0,B.Pt)(ce,2);let ge=O.BV.normalize(function be(Ee,ye,ue){if(ye===ue)return Ee;switch(ue){case"arithmetic":return function me(Ee){return 90-Ee}(Ee);case"geographic":return function _e(Ee){return-Ee-90}(Ee)}}((0,re.En)(Ee,ye,"degrees"),ue,Me),0,!0);const Pe={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:ce,minimumFractionDigits:ce,signDisplay:ge>0?"never":"exceptZero"};return ge=de(ge,Pe),(0,ee.uf)(ge,Pe)}function oe(Ee,ye,ue,Me,ce){ue!==Me&&(Ee=-Ee);const ge={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:ce=(0,B.Pt)(ce,2),minimumFractionDigits:ce,signDisplay:"exceptZero"};let Pe=(0,re.En)(Ee,ye,"degrees")%360;return Pe=de(Pe,ge),(0,ee.uf)(Pe,ge)}const pe=new Map;function de(Ee,ye){const ue=JSON.stringify(ye);let Me=pe.get(ue);return Me||(Me=new Intl.NumberFormat("en-US",ye),pe.set(ue,Me)),/\-?\+?360/.test(Me.format(Ee))?0:Ee}const le=["B","kB","MB","GB","TB"];function fe(Ee,ye){let ue=0===ye?0:Math.floor(Math.log(ye)/Math.log(w.Y8.KILOBYTES));ue=(0,W.uZ)(ue,0,le.length-1);const Me=(0,ee.uf)(ye/w.Y8.KILOBYTES**ue,{maximumFractionDigits:2});return(0,k.gx)(Ee.units.bytes[le[ue]],{fileSize:Me})}},16730:(j,F,T)=>{"use strict";T.d(F,{$C:()=>Ce,CN:()=>Pt,En:()=>le,FN:()=>ce,Jo:()=>pt,KU:()=>ue,OG:()=>Me,UF:()=>de,Yl:()=>Ie,_R:()=>Ne,c9:()=>Oe,cM:()=>Le,gV:()=>tt,hd:()=>Z,j5:()=>We,oq:()=>lt,qE:()=>xe,qv:()=>ge,tQ:()=>Pe,ty:()=>Re,y:()=>Qe,yT:()=>$e}),T(8314);var O=T(2076),W=T(62208),B=T(92383),k=T(94425),re=T(37053),ee=T(84029);const Z=39.37,G=k.sv.radius*Math.PI/200,Y=/UNIT\[([^\]]+)\]\]$/i,ne=ee.Z,ae=/UNIT\[([^\]]+)\]/i,se=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),ie=(0,O.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),te=mt=>mt*mt,Q=mt=>mt*mt*mt,V={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:te(.001)},"square-centimeters":{inBaseUnits:te(.01)},"square-decimeters":{inBaseUnits:te(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:te(1e3)},"square-inches":{inBaseUnits:te(.0254)},"square-feet":{inBaseUnits:te(.3048)},"square-yards":{inBaseUnits:te(.9144)},"square-miles":{inBaseUnits:te(1609.344)},"square-us-feet":{inBaseUnits:te(1200/3937)},acres:{inBaseUnits:.0015625*te(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Q(.001)},"cubic-centimeters":{inBaseUnits:1e3*Q(.01)},"cubic-decimeters":{inBaseUnits:1e3*Q(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Q(1e3)},"cubic-inches":{inBaseUnits:1e3*Q(.0254)},"cubic-feet":{inBaseUnits:1e3*Q(.3048)},"cubic-yards":{inBaseUnits:1e3*Q(.9144)},"cubic-miles":{inBaseUnits:1e3*Q(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},U=(()=>{const mt={};for(const St in V)for(const ut in V[St].units)mt[ut]=St;return mt})(),q=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],oe=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function de(mt){const St=U[mt];if(!St)throw new Error("unknown type");return St}function _e(mt,St=null){return St=St||de(mt),V[St].baseUnit===mt}function le(mt,St,ut){if(St===ut)return mt;const _t=de(St);if(_t!==de(ut))throw new Error("incompatible units");const Ct=_e(St,_t)?mt:function $(mt,St,ut){return mt*V[ut].units[St].inBaseUnits}(mt,St,_t);return _e(ut,_t)?Ct:function z(mt,St,ut){return mt/V[ut].units[St].inBaseUnits}(Ct,ut,_t)}function ue(mt,St){const ut=le(mt,St,"meters");return Math.abs(ut)<3e3?"meters":"kilometers"}function Me(mt,St){const ut=le(mt,St,"meters");return Math.abs(ut)<1e5?"meters":"kilometers"}function ce(mt,St){const ut=le(mt,St,"feet");return Math.abs(ut)<1e3?"feet":"miles"}function ge(mt,St){const ut=le(mt,St,"feet");return Math.abs(ut)<1e5?"feet":"miles"}function Pe(mt,St){const ut=le(mt,St,"square-meters");return Math.abs(ut)<3e6?"square-meters":"square-kilometers"}function Ie(mt,St){const ut=le(mt,St,"square-feet");return Math.abs(ut)<1e6?"square-feet":"square-miles"}function Re(mt,St,ut){return le(mt,St,"meters")/(ut*Math.PI/180)}function Ce(mt){return ie.fromJSON(mt.toLowerCase())||null}function Ne(mt){if((0,W.pC)(mt)&&!(0,re.N$)(mt))return 1;const St=Oe(mt);return St>1e5?1:St}function Le(mt){return Oe(mt)>=(0,B.Iu)(mt).metersPerDegree?"meters":xe(mt)}function Oe(mt,St=k.sv.metersPerDegree){return(0,W.Pt)(function Ue(mt,St=!1){const ut=(0,W.pC)(mt)?mt.wkid:null,_t=(0,W.pC)(mt)?mt.wkt:null;let Ct=null;if(ut){if((0,re.o$)(ut))return k.yr.metersPerDegree;if((0,re.ME)(ut))return k.Z1.metersPerDegree;Ct=ne.values[ne[ut]],!Ct&&St&&se.has(ut)&&(Ct=G)}else _t&&(Te(_t)?Ct=ke(Y.exec(_t),Ct):ve(_t)&&(Ct=ke(ae.exec(_t),Ct)));return Ct}(mt,!0),St)}function ke(mt,St){return mt&&mt[1]?Ye(mt[1]):St}function Ye(mt){return parseFloat(mt.split(",")[1])}function xe(mt){const St=(0,W.pC)(mt)?mt.wkid:null,ut=(0,W.pC)(mt)?mt.wkt:null;let _t=null;if(St)_t=ne.units[ne[St]];else if(ut){const Ct=Te(ut)?Y:ve(ut)?ae:null;if(Ct){const Rt=Ct.exec(ut);Rt&&Rt[1]&&(_t=function Ge(mt){const St=/[\\"\\']{1}([^\\"\\']+)/.exec(mt);let ut=St&&St[1];if(!ut||!ne.units.includes(ut)){const _t=Ye(mt);ut=null;const Ct=ne.values;for(let Rt=0;Rt<Ct.length;++Rt)if(Math.abs(_t-Ct[Rt])<1e-7){ut=ne.units[Rt];break}}return ut}(Rt[1]))}}return(0,W.pC)(_t)?Ce(_t):null}function We(mt){const St=xe(mt);return(0,W.Wi)(St)||!q.includes(St)?null:St}function Qe(mt){const St=Le(mt);return(0,W.Wi)(St)||!q.includes(St)?null:St}function lt(mt){const St=xe(mt);return(0,W.Wi)(St)?null:oe.get(St)}function ve(mt){return/^GEOCCS/i.test(mt)}function Te(mt){return/^PROJCS/i.test(mt)}function $e(mt){const St=xe(mt);if((0,W.Wi)(St))return null;switch(St){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const tt=(0,O.w)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),pt=(0,O.w)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),Pt=(0,O.w)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},21726:(j,F,T)=>{"use strict";T.d(F,{$U:()=>Rt,AH:()=>Be,B7:()=>fe,D6:()=>Le,Fv:()=>xe,HK:()=>Te,Hu:()=>$n,Ie:()=>rn,L:()=>pe,Ml:()=>It,P$:()=>Qe,PF:()=>Ye,Qj:()=>Dt,R9:()=>V,TI:()=>oe,YP:()=>lt,Yd:()=>rr,ZN:()=>Cn,Zo:()=>Ie,_l:()=>at,b7:()=>Ee,ed:()=>Pe,fZ:()=>Wt,fl:()=>Nn,fw:()=>we,hF:()=>ke,hO:()=>Dn,io:()=>pt,jc:()=>ve,kl:()=>Oe,mN:()=>me,oC:()=>_t,oh:()=>Ne,qg:()=>ye,rS:()=>Ge,sJ:()=>Xe,tD:()=>ge,tm:()=>Ce,u0:()=>_e,v_:()=>We,vt:()=>mr,zd:()=>un});var w=T(59318),O=T(26584),W=T(63290),B=T(62208),k=T(24433);const re=W.Z.getLogger("esri.core.urlUtils"),ee=w.Z.request,Z="esri/config: esriConfig.request.proxyUrl is not set.",G=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Y=/^\s*http:/i,ne=/^\s*https:/i,ae=/^\s*file:/i,se=/:\d+$/,ie=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,te=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Q=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class V{constructor(Vt=""){this.uri=Vt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let Yt=(0,B.j0)(this.uri.match(te));this.scheme=Yt[2]||(Yt[1]?"":null),this.authority=Yt[4]||(Yt[3]?"":null),this.path=Yt[5],this.query=Yt[7]||(Yt[6]?"":null),this.fragment=Yt[9]||(Yt[8]?"":null),null!=this.authority&&(Yt=(0,B.j0)(this.authority.match(Q)),this.user=Yt[3]||null,this.password=Yt[4]||null,this.host=Yt[6]||Yt[7],this.port=Yt[9]||null)}toString(){return this.uri}}const U={};let z=new V(w.Z.applicationUrl);let q=function de(){const yt=(0,B.j0)(z.path),Vt=yt.substring(0,yt.lastIndexOf(yt.split("/")[yt.split("/").length-1]));return`${z.scheme}://${z.host}${null!=z.port?`:${z.port}`:""}${Vt}`}();const oe=()=>z,pe=()=>q;function me(yt){if(!yt)return null;const Vt={path:null,query:null},Yt=new V(yt),ln=yt.indexOf("?");return null===Yt.query?Vt.path=yt:(Vt.path=yt.substring(0,ln),Vt.query=_e(Yt.query)),Yt.fragment&&(Vt.hash=Yt.fragment,null===Yt.query&&(Vt.path=Vt.path.substring(0,Vt.path.length-(Yt.fragment.length+1)))),Vt}function _e(yt){const Vt=yt.split("&"),Yt={};for(const ln of Vt){if(!ln)continue;const In=ln.indexOf("=");let gr,Lr;In<0?(gr=decodeURIComponent(ln),Lr=""):(gr=decodeURIComponent(ln.slice(0,In)),Lr=decodeURIComponent(ln.slice(In+1)));let ti=Yt[gr];"string"==typeof ti&&(ti=Yt[gr]=[ti]),Array.isArray(ti)?ti.push(Lr):Yt[gr]=Lr}return Yt}function le(yt){return yt&&"object"==typeof yt&&"toJSON"in yt&&"function"==typeof yt.toJSON}function fe(yt,Vt){return yt?Vt&&"function"==typeof Vt?Object.keys(yt).map(Yt=>encodeURIComponent(Yt)+"="+encodeURIComponent(Vt(Yt,yt[Yt]))).join("&"):Object.keys(yt).map(Yt=>{const ln=yt[Yt];if(null==ln)return"";const In=encodeURIComponent(Yt)+"=",gr=Vt&&Vt[Yt];return gr?In+encodeURIComponent(gr(ln)):Array.isArray(ln)?ln.map(Lr=>le(Lr)?In+encodeURIComponent(JSON.stringify(Lr)):In+encodeURIComponent(Lr)).join("&"):le(ln)?In+encodeURIComponent(JSON.stringify(ln)):In+encodeURIComponent(ln)}).filter(Yt=>Yt).join("&"):""}function Ee(yt=!1){let Vt,Yt=ee.proxyUrl;if("string"==typeof yt){Vt=Rt(yt);const ln=Pe(yt);ln&&(Yt=ln.proxyUrl)}else Vt=!!yt;if(!Yt)throw re.warn(Z),new O.Z("urlutils:proxy-not-set",Z);return Vt&&an()&&(Yt=Dn(Yt)),me(Yt)}function ye(yt){const Vt=Pe(yt);let Yt,ln;if(Vt){const In=Me(Vt.proxyUrl);Yt=In.path,ln=In.query?_e(In.query):null}if(Yt){const In=me(yt);yt=Yt+"?"+In.path;const gr=fe({...ln,...In.query});gr&&(yt=`${yt}?${gr}`)}return yt}const ue={path:"",query:""};function Me(yt){const Vt=yt.indexOf("?");return-1!==Vt?(ue.path=yt.slice(0,Vt),ue.query=yt.slice(Vt+1)):(ue.path=yt,ue.query=null),ue}function ce(yt){return(yt=Fn(yt=function Et(yt){return yt&&"/"===yt[yt.length-1]?yt:`${yt}/`}(yt=Me(yt).path),!0)).toLowerCase()}function ge(yt){const Vt={proxyUrl:yt.proxyUrl,urlPrefix:ce(yt.urlPrefix)},Yt=ee.proxyRules,ln=Vt.urlPrefix;let In=Yt.length;for(let gr=0;gr<Yt.length;gr++){const Lr=Yt[gr].urlPrefix;if(0===ln.indexOf(Lr)){if(ln.length===Lr.length)return-1;In=gr;break}0===Lr.indexOf(ln)&&(In=gr+1)}return Yt.splice(In,0,Vt),In}function Pe(yt){const Vt=ee.proxyRules,Yt=ce(yt);for(let ln=0;ln<Vt.length;ln++)if(0===Yt.indexOf(Vt[ln].urlPrefix))return Vt[ln]}function Ie(yt,Vt){if(!yt||!Vt)return!1;yt=Fe(yt),Vt=Fe(Vt);const Yt=(0,k.a)(yt),ln=(0,k.a)(Vt);return(0,B.pC)(Yt)&&(0,B.pC)(ln)?Yt.portalHostname===ln.portalHostname:!(0,B.pC)(Yt)&&!(0,B.pC)(ln)&&Le(yt,Vt,!0)}function Ce(yt,Vt){return yt=Fe(yt),Vt=Fe(Vt),Fn(yt)===Fn(Vt)}function Fe(yt){const Vt=(yt=xe(yt)).indexOf("/sharing");return Vt>0?yt.substring(0,Vt):yt.replace(/\/+$/,"")}function Ne(yt){const Vt=ln=>null==ln||ln instanceof RegExp&&ln.test(yt)||"string"==typeof ln&&yt.startsWith(ln),Yt=ee.interceptors;if(Yt)for(const ln of Yt)if(Array.isArray(ln.urls)){if(ln.urls.some(Vt))return ln}else if(Vt(ln.urls))return ln;return null}function Le(yt,Vt,Yt=!1){if(!yt||!Vt)return!1;const ln=cn(yt),In=cn(Vt);return!(!Yt&&ln.scheme!==In.scheme)&&null!=ln.host&&null!=In.host&&ln.host.toLowerCase()===In.host.toLowerCase()&&ln.port===In.port}function Oe(yt){if("string"==typeof yt){if(!lt(yt))return!0;yt=cn(yt)}if(Le(yt,z))return!0;const Vt=ee.trustedServers||[];for(let Yt=0;Yt<Vt.length;Yt++){const ln=Ue(Vt[Yt]);for(let In=0;In<ln.length;In++)if(Le(yt,ln[In]))return!0}return!1}function Ue(yt){return U[yt]||(U[yt]=Ct(yt)||_t(yt)?[new V(ke(yt))]:[new V(`http://${yt}`),new V(`https://${yt}`)]),U[yt]}function ke(yt,Vt=q,Yt){return _t(yt)?Yt&&Yt.preserveProtocolRelative?yt:"http"===z.scheme&&z.authority===Qe(yt).slice(2)?`http:${yt}`:`https:${yt}`:Ct(yt)?yt:(0,B.j0)(We("/"===yt[0]?function zn(yt){const Vt=yt.indexOf("//"),Yt=yt.indexOf("/",Vt+2);return-1===Yt?yt:yt.slice(0,Yt)}(Vt):Vt,yt))}function Ye(yt,Vt=q,Yt){if(null==yt||!lt(yt))return yt;const ln=xe(yt),In=ln.toLowerCase(),gr=xe(Vt).toLowerCase().replace(/\/+$/,""),Lr=Yt?xe(Yt).toLowerCase().replace(/\/+$/,""):null;if(Lr&&0!==gr.indexOf(Lr))return yt;const ti=(it,ft,jt)=>-1===(jt=it.indexOf(ft,jt))?it.length:jt;let Jn=ti(In,"/",In.indexOf("//")+2),He=-1;for(;In.slice(0,Jn+1)===gr.slice(0,Jn)+"/"&&(He=Jn+1,Jn!==In.length);)Jn=ti(In,"/",Jn+1);if(-1===He||Lr&&He<Lr.length)return yt;yt=ln.slice(He);const $t=gr.slice(He-1).replace(/[^/]+/g,"").length;if($t>0)for(let it=0;it<$t;it++)yt=`../${yt}`;else yt=`./${yt}`;return yt}function xe(yt){return function on(yt){const Vt=ee.httpsDomains;if(!function Gt(yt){return null!=yt&&Y.test(yt)||"http"===z.scheme&&_t(yt)}(yt))return yt;const Yt=yt.indexOf("/",7);let ln;if(ln=-1===Yt?yt:yt.slice(0,Yt),ln=ln.toLowerCase().slice(7),se.test(ln)){if(!ln.endsWith(":80"))return yt;ln=ln.slice(0,-3),yt=yt.replace(":80","")}return function Kn(){return"http"===z.scheme}()&&ln===z.authority&&!ie.test(yt)||(an()&&ln===z.authority||Vt&&Vt.some(In=>ln===In||ln.endsWith(`.${In}`))||an()&&!Pe(yt))&&(yt=Dn(yt)),yt}(yt=function Ht(yt){return yt.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(yt=function Bt(yt){if(/^https?:\/\//i.test(yt)){const Vt=Me(yt);yt=(yt=Vt.path.replace(/\/{2,}/g,"/")).replace("/","//"),Vt.query&&(yt+=`?${Vt.query}`)}return yt}(yt=ke(yt=yt.trim()))))}function We(...yt){const Vt=yt.filter(B.pC);if(!Vt||!Vt.length)return;const Yt=[];if(lt(Vt[0])){const In=Vt[0],gr=In.indexOf("//");-1!==gr&&(Yt.push(In.slice(0,gr+1)),function bn(yt){return null!=yt&&ae.test(yt)}(Vt[0])&&(Yt[0]+="/"),Vt[0]=In.slice(gr+2))}else"/"===Vt[0][0]&&Yt.push("");const ln=Vt.reduce((In,gr)=>gr?In.concat(gr.split("/")):In,[]);for(let In=0;In<ln.length;In++){const gr=ln[In];".."===gr&&Yt.length>0&&".."!==Yt[Yt.length-1]?Yt.pop():(!gr&&In===ln.length-1||gr&&("."!==gr||0===Yt.length))&&Yt.push(gr)}return Yt.join("/")}function Qe(yt,Vt=!1){if(null==yt||ve(yt)||Te(yt))return null;let Yt=yt.indexOf("://");if(-1===Yt&&_t(yt))Yt=2;else{if(-1===Yt)return null;Yt+=3}const ln=yt.indexOf("/",Yt);return-1!==ln&&(yt=yt.slice(0,ln)),Vt&&(yt=Fn(yt,!0)),yt}function lt(yt){return _t(yt)||Ct(yt)}function ve(yt){return null!=yt&&"blob:"===yt.slice(0,5)}function Te(yt){return null!=yt&&"data:"===yt.slice(0,5)}function Be(yt){const Vt=Xe(yt);if(!Vt||!Vt.isBase64)return null;const Yt=atob(Vt.data),ln=new Uint8Array(Yt.length);for(let In=0;In<Yt.length;In++)ln[In]=Yt.charCodeAt(In);return ln.buffer}function Ge(yt){return btoa(String.fromCharCode.apply(null,yt)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const $e=/^data:(.*?)(;base64)?,(.*)$/;function Xe(yt){const Vt=yt.match($e);if(!Vt)return null;const[,Yt,ln,In]=Vt;return{mediaType:Yt,isBase64:!!ln,data:In}}function at(yt){return yt.isBase64?`data:${yt.mediaType};base64,${yt.data}`:`data:${yt.mediaType},${yt.data}`}function we(yt){const Vt=Be(yt);if(!Vt)return null;const Yt=Xe(yt);return new Blob([Vt],{type:Yt.mediaType})}function pt(yt,Vt){(function mt(yt,Vt){if(!yt)return!1;const Yt=document.createElement("a");if(!("download"in Yt))return!1;const ln=URL.createObjectURL(yt);return Yt.download=Vt,Yt.href=ln,Yt.style.display="none",document.body.appendChild(Yt),Yt.click(),document.body.removeChild(Yt),URL.revokeObjectURL(ln),!0})(yt,Vt)||function ut(yt,Vt){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(yt,Vt)}(yt,Vt)}function _t(yt){return null!=yt&&"/"===yt[0]&&"/"===yt[1]}function Ct(yt){return null!=yt&&G.test(yt)}function Rt(yt){return null!=yt&&ne.test(yt)||"https"===z.scheme&&_t(yt)}function Dn(yt){return _t(yt)?`https:${yt}`:yt.replace(Y,"https:")}function an(){return"https"===z.scheme}function Fn(yt,Vt=!1){return _t(yt)?yt.slice(2):(yt=yt.replace(G,""),Vt&&yt.length>1&&"/"===yt[0]&&"/"===yt[1]&&(yt=yt.slice(2)),yt)}function rr(yt){let Vt=0;if(lt(yt)){const ln=yt.indexOf("//");-1!==ln&&(Vt=ln+2)}const Yt=yt.lastIndexOf("/");return Yt<Vt?yt:yt.slice(0,Yt+1)}function mr(yt,Vt){if(!yt)return"";const Yt=me(yt).path.replace(/\/+$/,""),ln=Yt.substring(Yt.lastIndexOf("/")+1);if(!Vt?.length)return ln;const In=new RegExp(`.(${Vt.join("|")})$`,"ig");return ln.replace(In,"")}function Dt(yt){return yt.replace(/\/+$/,"")}function rn(yt,Vt,Yt){if(!(Vt&&Yt&&yt&&lt(yt)))return yt;const ln=yt.indexOf("//"),In=yt.indexOf("/",ln+2),gr=yt.indexOf(":",ln+2),Lr=Math.min(In<0?yt.length:In,gr<0?yt.length:gr);return yt.slice(ln+2,Lr).toLowerCase()!==Vt.toLowerCase()?yt:`${yt.slice(0,ln+2)}${Yt}${yt.slice(Lr)}`}function cn(yt){return"string"==typeof yt?new V(ke(yt)):(yt.scheme||(yt.scheme=z.scheme),yt)}function un(yt){return Rn.test(yt)}function $n(yt,Vt){const Yt=me(yt),ln=Object.keys(Yt.query||{});return ln.length>0&&Vt&&Vt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ln.join(", ")}.`),Yt.path}function Cn(yt,Vt,Yt){const ln=me(yt),In=ln.query||{};return In[Vt]=String(Yt),`${ln.path}?${fe(In)}`}function Nn(yt,Vt){const Yt=me(yt),ln=Yt.query||{};for(const gr in Vt)ln[gr]=Vt[gr];const In=fe(ln);return In?`${Yt.path}?${In}`:Yt.path}function It(yt){if((0,B.Wi)(yt))return null;const Vt=yt.match(Qt);return Vt?Vt[2]:null}function Wt(yt){if((0,B.Wi)(yt))return null;const Vt=yt.match(Qt);return Vt?{path:Vt[1],extension:Vt[2]}:{path:yt,extension:null}}const Qt=/([^.]*)\.([^\/]*)$/,Rn=/(^data:image\/svg|\.svg$)/i},35948:(j,F,T)=>{"use strict";T.d(F,{D:()=>O});const w="randomUUID"in crypto;function O(){if(w)return crypto.randomUUID();const W=crypto.getRandomValues(new Uint16Array(8));W[3]=4095&W[3]|16384,W[4]=16383&W[4]|32768;const B=k=>W[k].toString(16).padStart(4,"0");return B(0)+B(1)+"-"+B(2)+"-"+B(3)+"-"+B(4)+"-"+B(5)+B(6)+B(7)}},93662:(j,F,T)=>{"use strict";T.d(F,{Z:()=>re});var w=T(54024),O=T(63290),W=T(10699),B=T(35133),k=T(89951);class re{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new B.Z}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(Z,G){return new Promise((Y,ne)=>{let ae=!0;const se=ie=>{(0,W.k_)(G.signal),ae&&(ae=!1,ie())};this._clients.length=Z.length,this._clientPromises.length=Z.length,this._inUseClients.length=Z.length;for(let ie=0;ie<Z.length;++ie){const te=Z[ie];(0,W.y8)(te)?this._clientPromises[ie]=te.then(Q=>(this._clients[ie]=new k.Z(Q,G,()=>this._ongoingJobsQueue.pop()??null),se(Y),this._clients[ie]),()=>(se(ne),null)):(this._clients[ie]=new k.Z(te,G,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[ie]=Promise.resolve(this._clients[ie]),se(Y))}})}broadcast(Z,G,Y){const ne=new Array(this._clientPromises.length);for(let ae=0;ae<this._clientPromises.length;++ae)ne[ae]=this._clientPromises[ae].then(ie=>ie?.invoke(Z,G,Y));return ne}close(){let Z;for(;Z=this._ongoingJobsQueue.pop();)Z.deferred.reject((0,W.zE)(`Worker closing, aborting job calling '${Z.methodName}'`));for(const G of this._clientPromises)G.then(Y=>Y?.close());this._clients.length=0,this._clientPromises.length=0}invoke(Z,G,Y){let ne;Array.isArray(Y)?(O.Z.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),ne={transferList:Y}):ne=Y;const ae=(0,W.dD)();this._ongoingJobsQueue.push({methodName:Z,data:G,invokeOptions:ne,deferred:ae});for(let se=0;se<this._clientPromises.length;se++){const ie=this._clients[se];ie?ie.jobAdded():this._clientPromises[se].then(te=>te?.jobAdded())}return ae.promise}on(Z,G){return Promise.all(this._clientPromises).then(()=>(0,w.AL)(this._clients.map(Y=>Y.on(Z,G))))}openPorts(){return new Promise(Z=>{const G=new Array(this._clientPromises.length);let Y=G.length;for(let ne=0;ne<this._clientPromises.length;++ne)this._clientPromises[ne].then(ae=>{ae&&(G[ne]=ae.openPort()),0==--Y&&Z(G)})})}get test(){return{numClients:this._clients.length}}}},89951:(j,F,T)=>{"use strict";T.d(F,{Z:()=>V});var w=T(24263),O=T(26584),W=T(17770),B=T(62208),k=T(10699),re=T(13126),ee=T(38365);const Z={statsWorker:()=>T.e(4135).then(T.bind(T,44135)),geometryEngineWorker:()=>Promise.all([T.e(4918),T.e(8592),T.e(7692)]).then(T.bind(T,77692)),CSVSourceWorker:()=>Promise.all([T.e(8175),T.e(8592),T.e(9155)]).then(T.bind(T,39155)),EdgeProcessingWorker:()=>Promise.all([T.e(479),T.e(1573),T.e(8592),T.e(1563)]).then(T.bind(T,81563)),ElevationSamplerWorker:()=>Promise.all([T.e(479),T.e(853),T.e(9535)]).then(T.bind(T,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([T.e(8175),T.e(8592),T.e(6354)]).then(T.bind(T,86354)),GeoJSONSourceWorker:()=>Promise.all([T.e(8175),T.e(7013),T.e(4079)]).then(T.bind(T,84079)),LercWorker:()=>T.e(7300).then(T.bind(T,57300)),MemorySourceWorker:()=>Promise.all([T.e(8175),T.e(7013),T.e(8592),T.e(7728)]).then(T.bind(T,7728)),PBFDecoderWorker:()=>T.e(4287).then(T.bind(T,84287)),Pipeline:()=>Promise.all([T.e(3536),T.e(4029),T.e(8175),T.e(9628),T.e(8592),T.e(9773)]).then(T.bind(T,81434)),PointCloudWorker:()=>Promise.all([T.e(7805),T.e(8592),T.e(2315)]).then(T.bind(T,6810)),RasterWorker:()=>Promise.all([T.e(6926),T.e(8594),T.e(2863),T.e(580),T.e(5976)]).then(T.bind(T,15976)),SceneLayerSnappingSourceWorker:()=>Promise.all([T.e(479),T.e(14),T.e(1573),T.e(2274),T.e(7430)]).then(T.bind(T,21269)),SceneLayerWorker:()=>T.e(3320).then(T.bind(T,83320)),WFSSourceWorker:()=>Promise.all([T.e(8175),T.e(7013),T.e(3774),T.e(2305)]).then(T.bind(T,62305)),WorkerTileHandler:()=>Promise.all([T.e(9202),T.e(2815),T.e(8364),T.e(550)]).then(T.bind(T,90195))},{CLOSE:G,ABORT:Y,INVOKE:ne,RESPONSE:ae,OPEN_PORT:se,ON:ie}=re.Cs;class Q{constructor($){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=$,this._timer=null,this._process=this._process.bind(this)}push($){$.type===re.Cs.ABORT?this._cancelledJobIds.add($.jobId):(this._invokeMessages.push($),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const $ of this._invokeMessages)this._cancelledJobIds.has($.jobId)||this._invoke($);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class V{static connect($){const z=new MessageChannel;let J;J="function"==typeof $?new $:"default"in $&&"function"==typeof $.default?new $.default:$;const q=new V(z.port1,{channel:z,client:J},()=>null);return"object"==typeof J&&"remoteClient"in J&&(J.remoteClient=q),V.clients.set(q,J),z.port2}static loadWorker($){const z=Z[$];return z?z():Promise.resolve(null)}constructor($,z,J){this._port=$,this._getNextJob=J,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Q(q=>this._onInvokeMessage(q)),this._client=z.client,this._onMessage=this._onMessage.bind(this),this._channel=z.channel,this._schedule=z.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:G}),this._close()}isBusy(){return this._outJobs.size>0}invoke($,z,J){const q=J&&J.signal,oe=J&&J.transferList;if(!this._port)return Promise.reject(new O.Z("worker:port-closed",`Cannot call invoke('${$}'), port is closed`,{methodName:$,data:z}));const pe=(0,re.jt)();return new Promise((de,be)=>{if((0,k.Hc)(q))return this._processWork(),void be((0,k.zE)());const me=(0,k.fu)(q,()=>{const le=this._outJobs.get(pe);le&&(this._outJobs.delete(pe),this._processWork(),(0,B.hw)(le.abortHandle),this._post({type:Y,jobId:pe}),be((0,k.zE)()))});this._outJobs.set(pe,{resolve:de,reject:be,abortHandle:me,debugInfo:$}),this._post({type:ne,jobId:pe,methodName:$,abortable:null!=q},z,oe)})}on($,z){const J=new MessageChannel;function q(oe){z(oe.data)}return this._port.postMessage({type:re.Cs.ON,eventType:$,port:J.port2},[J.port2]),J.port1.addEventListener("message",q),J.port1.start(),{remove(){J.port1.postMessage({type:re.Cs.CLOSE}),J.port1.close(),J.port1.removeEventListener("message",q)}}}jobAdded(){this._processWork()}openPort(){const $=new MessageChannel;return this._post({type:se,port:$.port2}),$.port1}_processWork(){if(this._outJobs.size>=2)return;const $=this._getNextJob();if(!$)return;const{methodName:z,data:J,invokeOptions:q,deferred:oe}=$;this.invoke(z,J,q).then(pe=>oe.resolve(pe)).catch(pe=>oe.reject(pe))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach($=>{(0,B.hw)($.abortHandle),$.reject((0,k.zE)(`Worker closing, aborting job calling '${$.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage($){(0,B.pC)(this._schedule)?this._schedule(()=>this._processMessage($)):this._processMessage($)}_processMessage($){const z=(0,re.QM)($);if(z)switch(z.type){case ae:this._onResponseMessage(z);break;case ne:this._invokeQueue.push(z);break;case Y:this._onAbortMessage(z);break;case G:this._onCloseMessage();break;case se:this._onOpenPortMessage(z);break;case ie:this._onOnMessage(z)}}_onAbortMessage($){const z=this._inJobs,J=$.jobId,q=z.get(J);this._invokeQueue.push($),q&&(q.controller&&q.controller.abort(),z.delete(J))}_onCloseMessage(){const $=this._client;this._close(),$&&"destroy"in $&&V.clients.get(this)===$&&$.destroy(),V.clients.delete(this),$&&$.remoteClient&&($.remoteClient=null)}_onInvokeMessage($){const{methodName:z,jobId:J,data:q,abortable:oe}=$,pe=oe?new AbortController:null,de=this._inJobs;let be,me=this._client,_e=me[z];try{if(!_e&&z&&z.includes(".")){const le=z.split(".");for(let fe=0;fe<le.length-1;fe++)me=me[le[fe]],_e=me[le[fe+1]]}if("function"!=typeof _e)throw new TypeError(`${z} is not a function`);be=_e.call(me,q,{client:this,signal:pe?pe.signal:null})}catch(le){return void this._post({type:ae,jobId:J,error:(0,re.AB)(le)})}(0,k.y8)(be)?(de.set(J,{controller:pe,promise:be}),be.then(le=>{de.has(J)&&(de.delete(J),this._post({type:ae,jobId:J},le))},le=>{de.has(J)&&(de.delete(J),(0,k.D_)(le)||this._post({type:ae,jobId:J,error:(0,re.AB)(le||{message:`Error encountered at method ${z}`})}))})):this._post({type:ae,jobId:J},be)}_onOpenPortMessage($){new V($.port,{client:this._client},()=>null)}_onOnMessage($){const{port:z}=$,J=this._client.on($.eventType,oe=>{z.postMessage(oe)}),q=(0,W.on)($.port,"message",oe=>{(0,re.QM)(oe)?.type===re.Cs.CLOSE&&(q.remove(),J.remove(),z.close())})}_onResponseMessage($){const{jobId:z,error:J,data:q}=$,oe=this._outJobs;if(!oe.has(z))return;const pe=oe.get(z);oe.delete(z),this._processWork(),(0,B.hw)(pe.abortHandle),J?pe.reject(O.Z.fromJSON(JSON.parse(J))):pe.resolve(q)}_post($,z,J){return(0,re.oi)(this._port,$,z,J)}}V.kernelInfo={revision:ee.$,version:w.i8,buildDate:ee.r},V.clients=new Map},13126:(j,F,T)=>{"use strict";T.d(F,{AB:()=>re,Cs:()=>O,QM:()=>Z,jt:()=>B,oi:()=>ee});var O,ne,w=T(8314);(ne=O||(O={}))[ne.HANDSHAKE=0]="HANDSHAKE",ne[ne.OPEN=1]="OPEN",ne[ne.OPENED=2]="OPENED",ne[ne.RESPONSE=3]="RESPONSE",ne[ne.INVOKE=4]="INVOKE",ne[ne.ABORT=5]="ABORT",ne[ne.CLOSE=6]="CLOSE",ne[ne.OPEN_PORT=7]="OPEN_PORT",ne[ne.ON=8]="ON";let W=0;function B(){return W++}function re(ne){return ne?"string"==typeof ne?JSON.stringify({name:"message",message:ne}):ne.toJSON?JSON.stringify(ne):JSON.stringify({name:ne.name,message:ne.message,details:ne.details||{stack:ne.stack}}):null}function ee(ne,ae,se,ie){if(ae.type===O.OPEN_PORT)return void ne.postMessage(ae,[ae.port]);if(ae.type!==O.INVOKE&&ae.type!==O.RESPONSE)return void ne.postMessage(ae);let te;if(function k(ne){return ne&&"object"==typeof ne&&("result"in ne||"transferList"in ne)}(se)?(te=G(se.transferList),ae.data=se.result):(te=G(ie),ae.data=se),te){if((0,w.Z)("ff"))for(const Q of te)if("byteLength"in Q&&Q.byteLength>267386880){const V="Worker call with large ArrayBuffer would crash Firefox";switch(ae.type){case O.INVOKE:throw V;case O.RESPONSE:return void ee(ne,{type:O.RESPONSE,jobId:ae.jobId,error:re(V)})}}ne.postMessage(ae,te)}else ne.postMessage(ae)}function Z(ne){if(!ne)return null;const ae=ne.data;return ae?"string"==typeof ae?JSON.parse(ae):ae:null}function G(ne){if(!ne||!ne.length)return null;if((0,w.Z)("esri-workers-arraybuffer-transfer"))return ne;const ae=ne.filter(se=>!function Y(ne){return ne instanceof ArrayBuffer||ne&&ne.constructor&&"ArrayBuffer"===ne.constructor.name}(se));return ae.length?ae:null}},59289:(j,F,T)=>{"use strict";T.d(F,{j2:()=>Oe,bA:()=>xe});var w=T(15861),O=T(26584),W=T(8314),B=T(10699),k=T(93662),re=T(89951),ee=T(24263),Z=T(63290),G=T(62208),Y=T(13126),ne=T(54346),ae=T(59318),ie=(T(52515),T(21726));const Q={};var U=T(79682);class ${constructor(){const $e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(Xe=>{this[Xe]=(...at)=>$e[Xe](...at)})}}class z{constructor(){this._dispatcher=new $,this._workerPostMessage({type:Y.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage($e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=$e,$e&&this.addEventListener("message",$e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror($e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=$e,$e&&this.addEventListener("messageerror",$e)}get onerror(){return this._onerrorHandler}set onerror($e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=$e,$e&&this.addEventListener("error",$e)}postMessage($e){(0,U.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:$e}))})}dispatchEvent($e){return this._dispatcher.dispatchEvent($e)}addEventListener($e,Xe,at){this._dispatcher.addEventListener($e,Xe,at)}removeEventListener($e,Xe,at){this._dispatcher.removeEventListener($e,Xe,at)}_workerPostMessage($e){(0,U.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:$e}))})}_workerMessageHandler($e){var Xe=this;return(0,w.Z)(function*(){const at=(0,Y.QM)($e);if(at&&at.type===Y.Cs.OPEN){const{modulePath:we,jobId:tt}=at;let pt=yield re.Z.loadWorker(we);pt||(pt=yield import(we));const Pt=re.Z.connect(pt);Xe._workerPostMessage({type:Y.Cs.OPENED,jobId:tt,data:Pt})}})()}}var J=T(56683),q=T(38365);const oe=Z.Z.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:pe}=Y.Cs,de='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,version:r}=configuration.kernelInfo,{revision:t,version:n}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i=outgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let be,me;const _e="Failed to create Worker. Fallback to execute module in main thread";function fe(){return(fe=(0,w.Z)(function*(){if(!(0,W.Z)("esri-workers")||((0,W.Z)("mozilla"),0))return Ee(new z);if(!be&&!me)try{const $e=de.split('"{CONFIGURATION}"').join(`'${ue()}'`);be=URL.createObjectURL(new Blob([$e],{type:"text/javascript"}))}catch($e){me=$e||{}}let Ge;if(be)try{Ge=new Worker(be,{name:"esri-worker-"+Me++})}catch{oe.warn(_e,me),Ge=new z}else oe.warn(_e,me),Ge=new z;return Ee(Ge)})).apply(this,arguments)}function Ee(Ge){return ye.apply(this,arguments)}function ye(){return(ye=(0,w.Z)(function*(Ge){return new Promise($e=>{function Xe(we){const tt=(0,Y.QM)(we);tt&&tt.type===pe&&(Ge.removeEventListener("message",Xe),Ge.removeEventListener("error",at),$e(Ge))}function at(we){we.preventDefault(),Ge.removeEventListener("message",Xe),Ge.removeEventListener("error",at),oe.warn("Failed to create Worker. Fallback to execute module in main thread",we),(Ge=new z).addEventListener("message",Xe),Ge.addEventListener("error",at)}Ge.addEventListener("message",Xe),Ge.addEventListener("error",at)})})).apply(this,arguments)}function ue(){let Ge;if(null!=ae.Z.default){const we={...ae.Z};delete we.default,Ge=JSON.parse(JSON.stringify(we))}else Ge=JSON.parse(JSON.stringify(ae.Z));Ge.assetsPath=(0,ie.hF)(Ge.assetsPath),Ge.defaultAssetsPath=Ge.defaultAssetsPath?(0,ie.hF)(Ge.defaultAssetsPath):void 0,Ge.request.interceptors=[],Ge.log.interceptors=[],Ge.locale=(0,J.Kd)(),Ge.has={"esri-csp-restrictions":(0,W.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,W.Z)("esri-2d-update-debug"),"featurelayer-pbf":(0,W.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,W.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,W.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,W.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,W.Z)("esri-atomics"),"esri-shared-array-buffer":(0,W.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,W.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,W.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,W.Z)("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":(0,W.Z)("polylabel-placement-enabled")},Ge.workers.loaderUrl&&(Ge.workers.loaderUrl=(0,ie.hF)(Ge.workers.loaderUrl)),Ge.workers.workerPath=(0,ie.hF)(Ge.workers.workerPath?Ge.workers.workerPath:(0,ne.V)("esri/core/workers/RemoteClient.js")),Ge.workers.useDynamicImport=!1;const $e=ae.Z.workers.loaderConfig,Xe=function V(Ge){const $e={async:Ge.async,isDebug:Ge.isDebug,locale:Ge.locale,baseUrl:Ge.baseUrl,has:{...Ge.has},map:{...Ge.map},packages:Ge.packages&&Ge.packages.concat()||[],paths:{...Ge.paths}};return Ge.hasOwnProperty("async")||($e.async=!0),Ge.hasOwnProperty("isDebug")||($e.isDebug=!1),Ge.baseUrl||($e.baseUrl=Q.baseUrl),$e}({baseUrl:$e?.baseUrl,locale:(0,J.Kd)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...$e?.has},map:{...$e?.map},paths:{...$e?.paths},packages:$e?.packages||[]});return JSON.stringify({esriConfig:Ge,loaderConfig:Xe,kernelInfo:{version:ee.i8,buildDate:q.r,revision:q.$}})}let Me=0;const{ABORT:ce,INVOKE:ge,OPEN:Pe,OPENED:Ie,RESPONSE:Re}=Y.Cs;class Ce{static create($e){return(0,w.Z)(function*(){const Xe=yield function le(){return fe.apply(this,arguments)}();return new Ce(Xe,$e)})()}constructor($e,Xe){this._outJobs=new Map,this._inJobs=new Map,this.worker=$e,this.id=Xe,$e.addEventListener("message",this._onMessage.bind(this)),$e.addEventListener("error",at=>{at.preventDefault(),Z.Z.getLogger("esri.core.workers.WorkerOwner").error(at)})}terminate(){this.worker.terminate()}open($e,Xe={}){var at=this;return(0,w.Z)(function*(){const{signal:we}=Xe,tt=(0,Y.jt)();return new Promise((pt,Pt)=>{const mt={resolve:pt,reject:Pt,abortHandle:(0,B.$F)(we,()=>{at._outJobs.delete(tt),at._post({type:ce,jobId:tt})})};at._outJobs.set(tt,mt),at._post({type:Pe,jobId:tt,modulePath:$e})})})()}_onMessage($e){const Xe=(0,Y.QM)($e);if(Xe)switch(Xe.type){case Ie:this._onOpenedMessage(Xe);break;case Re:this._onResponseMessage(Xe);break;case ce:this._onAbortMessage(Xe);break;case ge:this._onInvokeMessage(Xe)}}_onAbortMessage($e){const Xe=this._inJobs,at=$e.jobId,we=Xe.get(at);we&&(we.controller&&we.controller.abort(),Xe.delete(at))}_onInvokeMessage($e){const{methodName:Xe,jobId:at,data:we,abortable:tt}=$e,pt=tt?new AbortController:null,Pt=this._inJobs,mt=ee.Nv[Xe];let St;try{if("function"!=typeof mt)throw new TypeError(`${Xe} is not a function`);St=mt.call(null,we,{signal:pt?pt.signal:null})}catch(ut){return void this._post({type:Re,jobId:at,error:(0,Y.AB)(ut)})}(0,B.y8)(St)?(Pt.set(at,{controller:pt,promise:St}),St.then(ut=>{Pt.has(at)&&(Pt.delete(at),this._post({type:Re,jobId:at},ut))},ut=>{Pt.has(at)&&(Pt.delete(at),ut||(ut={message:"Error encountered at method"+Xe}),(0,B.D_)(ut)||this._post({type:Re,jobId:at,error:(0,Y.AB)(ut||{message:`Error encountered at method ${Xe}`})}))})):this._post({type:Re,jobId:at},St)}_onOpenedMessage($e){const{jobId:Xe,data:at}=$e,we=this._outJobs.get(Xe);we&&(this._outJobs.delete(Xe),(0,G.hw)(we.abortHandle),we.resolve(at))}_onResponseMessage($e){const{jobId:Xe,error:at,data:we}=$e,tt=this._outJobs.get(Xe);tt&&(this._outJobs.delete(Xe),(0,G.hw)(tt.abortHandle),at?tt.reject(O.Z.fromJSON(JSON.parse(at))):tt.resolve(we))}_post($e,Xe,at){return(0,Y.oi)(this.worker,$e,Xe,at)}}let Fe=(0,W.Z)("esri-workers-debug")?1:(0,W.Z)("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):(0,W.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Fe||(Fe=(0,W.Z)("safari")&&(0,W.Z)("mac")?7:2);let Ne=0;const Le=[];function Oe(){Te()}function ke(Ge,$e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,w.Z)(function*(Ge,$e){const Xe=new k.Z;return yield Xe.open(Ge,$e),Xe})).apply(this,arguments)}function xe(Ge){return We.apply(this,arguments)}function We(){return(We=(0,w.Z)(function*(Ge,$e={}){if("string"!=typeof Ge)throw new O.Z("workers:undefined-module","modulePath is missing");let Xe=$e.strategy||"distributed";if((0,W.Z)("host-webworker")&&!(0,W.Z)("esri-workers")&&(Xe="local"),"local"===Xe){let at=yield re.Z.loadWorker(Ge);at||(at=yield import(Ge)),(0,B.k_)($e.signal);const we=$e.client||at;return ke([re.Z.connect(at)],{...$e,client:we})}if(yield Te(),(0,B.k_)($e.signal),"dedicated"===Xe){const at=Ne++%Fe;return ke([yield Le[at].open(Ge,$e)],$e)}if($e.maxNumWorkers&&$e.maxNumWorkers>0){const at=Math.min($e.maxNumWorkers,Fe);if(at<Fe){const we=new Array(at);for(let tt=0;tt<at;++tt){const pt=Ne++%Fe;we[tt]=Le[pt].open(Ge,$e)}return ke(we,$e)}}return ke(Le.map(at=>at.open(Ge,$e)),$e)})).apply(this,arguments)}let lt,ve=null;function Te(){return Be.apply(this,arguments)}function Be(){return(Be=(0,w.Z)(function*(){if(ve)return ve;lt=new AbortController;const Ge=[];for(let $e=0;$e<Fe;$e++){const Xe=Ce.create($e).then(at=>(Le[$e]=at,at));Ge.push(Xe)}return ve=Promise.all(Ge),ve})).apply(this,arguments)}},27402:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Kn});var ne,w=T(17626),O=T(86810),W=T(58817),B=T(77712),k=T(66656),re=T(68653),ee=T(76898),Z=T(99433),G=T(90912);T(85931);let ae=ne=class extends O.wq{constructor(an){super(an),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new ne({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"expression",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"name",void 0),(0,w._)([(0,B.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],ae.prototype,"returnType",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"title",void 0),ae=ne=(0,w._)([(0,ee.j)("esri.form.ExpressionInfo")],ae);const se=ae;let ie=class extends O.wq{constructor(an){super(an),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ie.prototype,"description",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ie.prototype,"label",void 0),(0,w._)([(0,B.Cb)()],ie.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ie.prototype,"visibilityExpression",void 0),ie=(0,w._)([(0,ee.j)("esri.form.elements.Element")],ie);const te=ie;var Q;let V=Q=class extends O.wq{constructor(an){super(an),this.type=null}clone(){return new Q({type:this.type})}};(0,w._)([(0,B.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],V.prototype,"type",void 0),V=Q=(0,w._)([(0,ee.j)("esri.form.elements.inputs.AttachmentInput")],V);const U=V;var $;let z=$=class extends te{constructor(an){super(an),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new $({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],z.prototype,"attachmentKeyword",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],z.prototype,"editable",void 0),(0,w._)([(0,B.Cb)({type:U,json:{read:{source:"inputType"},write:{target:"inputType"}}})],z.prototype,"input",void 0),(0,w._)([(0,B.Cb)({type:["attachment"],json:{read:!1,write:!0}})],z.prototype,"type",void 0),z=$=(0,w._)([(0,ee.j)("esri.form.elements.AttachmentElement")],z);const J=z;var q=T(55538),oe=T(63290);let pe=class extends O.wq{constructor(an){super(an),this.type=null}};(0,w._)([(0,B.Cb)()],pe.prototype,"type",void 0),pe=(0,w._)([(0,ee.j)("esri.form.elements.inputs.Input")],pe);const de=pe;let be=class extends de{constructor(an){super(an),this.maxLength=null,this.minLength=0}};(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],be.prototype,"maxLength",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],be.prototype,"minLength",void 0),be=(0,w._)([(0,ee.j)("esri.form.elements.inputs.TextInput")],be);const me=be;var _e;let le=_e=class extends me{constructor(an){super(an),this.type="barcode-scanner"}clone(){return new _e({maxLength:this.maxLength,minLength:this.minLength})}};(0,w._)([(0,B.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],le.prototype,"type",void 0),le=_e=(0,w._)([(0,ee.j)("esri.form.elements.inputs.BarcodeScannerInput")],le);const fe=le;var Ee;let ye=Ee=class extends de{constructor(an){super(an),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Ee({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ye.prototype,"noValueOptionLabel",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ye.prototype,"showNoValueOption",void 0),(0,w._)([(0,B.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],ye.prototype,"type",void 0),ye=Ee=(0,w._)([(0,ee.j)("esri.form.elements.inputs.ComboBoxInput")],ye);const ue=ye;var Me;function ce(an){return null!=an?new Date(an):null}function ge(an){return an?an.getTime():null}let Pe=Me=class extends de{constructor(an){super(an),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(an,Fn){return ce(Fn.max)}writeMax(an,Fn){Fn.max=ge(an)}readMin(an,Fn){return ce(Fn.min)}writeMin(an,Fn){Fn.min=ge(an)}clone(){return new Me({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],Pe.prototype,"includeTime",void 0),(0,w._)([(0,B.Cb)({type:Date,json:{type:Number,write:!0}})],Pe.prototype,"max",void 0),(0,w._)([(0,re.r)("max")],Pe.prototype,"readMax",null),(0,w._)([(0,Z.c)("max")],Pe.prototype,"writeMax",null),(0,w._)([(0,B.Cb)({type:Date,json:{type:Number,write:!0}})],Pe.prototype,"min",void 0),(0,w._)([(0,re.r)("min")],Pe.prototype,"readMin",null),(0,w._)([(0,Z.c)("min")],Pe.prototype,"writeMin",null),(0,w._)([(0,B.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Pe.prototype,"type",void 0),Pe=Me=(0,w._)([(0,ee.j)("esri.form.elements.inputs.DateTimePickerInput")],Pe);const Ie=Pe;var Re;let Ce=Re=class extends de{constructor(an){super(an),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new Re({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Ce.prototype,"noValueOptionLabel",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],Ce.prototype,"showNoValueOption",void 0),(0,w._)([(0,B.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],Ce.prototype,"type",void 0),Ce=Re=(0,w._)([(0,ee.j)("esri.form.elements.inputs.RadioButtonsInput")],Ce);const Fe=Ce;var Ne;let Le=Ne=class extends de{constructor(an){super(an),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new Ne({offValue:this.offValue,onValue:this.onValue})}};(0,w._)([(0,B.Cb)({type:[String,Number],json:{write:!0}})],Le.prototype,"offValue",void 0),(0,w._)([(0,B.Cb)({type:[String,Number],json:{write:!0}})],Le.prototype,"onValue",void 0),(0,w._)([(0,B.Cb)({type:["switch"],json:{read:!1,write:!0}})],Le.prototype,"type",void 0),Le=Ne=(0,w._)([(0,ee.j)("esri.form.elements.inputs.SwitchInput")],Le);const Oe=Le;var Ue;let ke=Ue=class extends me{constructor(an){super(an),this.type="text-area"}clone(){return new Ue({maxLength:this.maxLength,minLength:this.minLength})}};(0,w._)([(0,B.Cb)({type:["text-area"],json:{read:!1,write:!0}})],ke.prototype,"type",void 0),ke=Ue=(0,w._)([(0,ee.j)("esri.form.elements.inputs.TextAreaInput")],ke);const Ye=ke;var xe;let We=xe=class extends me{constructor(an){super(an),this.type="text-box"}clone(){return new xe({maxLength:this.maxLength,minLength:this.minLength})}};(0,w._)([(0,B.Cb)({type:["text-box"],json:{read:!1,write:!0}})],We.prototype,"type",void 0),We=xe=(0,w._)([(0,ee.j)("esri.form.elements.inputs.TextBoxInput")],We);const lt={base:de,key:"type",typeMap:{"barcode-scanner":fe,"combo-box":ue,"datetime-picker":Ie,"radio-buttons":Fe,switch:Oe,"text-area":Ye,"text-box":We}};var Te,ve=T(26141);const Be="esri.form.elements.FieldElement",Ge=oe.Z.getLogger(Be);let $e=Te=class extends te{constructor(an){super(an),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return(0,q.Mr)(Ge,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(an){(0,q.Mr)(Ge,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",an)}clone(){return new Te({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,w._)([(0,B.Cb)({types:ve.V5,json:{read:{reader:ve.im},write:!0}})],$e.prototype,"domain",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],$e.prototype,"editable",null),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],$e.prototype,"editableExpression",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],$e.prototype,"fieldName",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],$e.prototype,"hint",void 0),(0,w._)([(0,B.Cb)({types:lt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],$e.prototype,"input",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],$e.prototype,"requiredExpression",void 0),(0,w._)([(0,B.Cb)({type:String,json:{read:!1,write:!0}})],$e.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],$e.prototype,"valueExpression",void 0),$e=Te=(0,w._)([(0,ee.j)(Be)],$e);const Xe=$e;var we,at=T(51686);let tt=we=class extends te{constructor(an){super(an),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new we({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,W.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],tt.prototype,"displayCount",void 0),(0,w._)([(0,B.Cb)({type:["list"],json:{write:!0}})],tt.prototype,"displayType",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],tt.prototype,"editable",void 0),(0,w._)([(0,B.Cb)({type:[at.Z],json:{write:!0}})],tt.prototype,"orderByFields",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],tt.prototype,"relationshipId",void 0),(0,w._)([(0,B.Cb)({type:["relationship"],json:{read:!1,write:!0}})],tt.prototype,"type",void 0),tt=we=(0,w._)([(0,ee.j)("esri.form.elements.RelationshipElement")],tt);const pt=tt;function Pt(an){return{typesWithGroup:{base:te,key:"type",typeMap:{attachment:J,field:Xe,group:an,relationship:pt}},typesWithoutGroup:{base:te,key:"type",typeMap:{attachment:J,field:Xe,relationship:pt}}}}function mt(an,Fn,zn=!0){if(!an)return null;const rr=zn?Fn.typesWithGroup.typeMap:Fn.typesWithoutGroup.typeMap;return an.filter(mr=>rr[mr.type]).map(mr=>rr[mr.type].fromJSON(mr))}function St(an,Fn,zn=!0){if(!an)return null;const rr=zn?Fn.typesWithGroup.typeMap:Fn.typesWithoutGroup.typeMap;return an.filter(mr=>rr[mr.type]).map(mr=>mr.toJSON())}function ut(an,Fn,zn=!0){return an?an.map(rr=>(0,G.N7)(zn?Fn.typesWithGroup:Fn.typesWithoutGroup,rr)):null}var _t;let Ct=_t=class extends te{constructor(an){super(an),this.elements=null,this.initialState="expanded",this.type="group"}castElements(an){return ut(an,Rt,!1)}readElements(an,Fn){return mt(Fn.formElements,Rt,!1)}writeElements(an,Fn){Fn.formElements=St(an,Rt,!1)}clone(){return new _t({description:this.description,elements:(0,W.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,w._)([(0,B.Cb)({json:{write:!0}})],Ct.prototype,"elements",void 0),(0,w._)([(0,k.p)("elements")],Ct.prototype,"castElements",null),(0,w._)([(0,re.r)("elements",["formElements"])],Ct.prototype,"readElements",null),(0,w._)([(0,Z.c)("elements")],Ct.prototype,"writeElements",null),(0,w._)([(0,B.Cb)({type:["collapsed","expanded"],json:{write:!0}})],Ct.prototype,"initialState",void 0),(0,w._)([(0,B.Cb)({type:String,json:{read:!1,write:!0}})],Ct.prototype,"type",void 0),Ct=_t=(0,w._)([(0,ee.j)("esri.form.elements.GroupElement")],Ct);const Rt=Pt(Ct);var bn;const Mn=Pt(Ct);let Dn=bn=class extends O.wq{constructor(an){super(an),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(an){return ut(an,Mn)}readElements(an,Fn){return mt(Fn.formElements,Mn)}writeElements(an,Fn){Fn.formElements=St(an,Mn)}clone(){return new bn({description:this.description,expressionInfos:(0,W.d9)(this.expressionInfos),elements:(0,W.d9)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Dn.prototype,"description",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],Dn.prototype,"elements",void 0),(0,w._)([(0,k.p)("elements")],Dn.prototype,"castElements",null),(0,w._)([(0,re.r)("elements",["formElements"])],Dn.prototype,"readElements",null),(0,w._)([(0,Z.c)("elements")],Dn.prototype,"writeElements",null),(0,w._)([(0,B.Cb)({type:[se],json:{write:!0}})],Dn.prototype,"expressionInfos",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],Dn.prototype,"preserveFieldValuesWhenHidden",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Dn.prototype,"title",void 0),Dn=bn=(0,w._)([(0,ee.j)("esri.form.FormTemplate")],Dn);const Kn=Dn},29132:(j,F,T)=>{"use strict";T.d(F,{qM:()=>ae});var w=T(90912),O=T(2004),W=T(21674),B=T(72854),k=T(72642),re=T(37118),ee=T(55214);T(65234),T(71774),T(91179);const ae={base:W.Z,key:"type",typeMap:{extent:O.Z,multipoint:B.Z,point:k.Z,polyline:ee.Z,polygon:re.Z}};(0,w.N7)(ae)},72149:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var se,w=T(17626),O=T(16730),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(92383),Z=T(72642),G=T(37118),Y=T(10049),ne=T(46367),ae=T(84029);let ie=se=class extends G.Z{constructor(...Q){super(...Q),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}normalizeCtorArgs(Q,V){let U;if(Q&&Q.center)U=Q;else{if(Q&&Q.rings)return super.normalizeCtorArgs(Q,V);U={center:Q}}return{...super.normalizeCtorArgs(),...U,...V}}initialize(){const Q=this.center,V=this.numberOfPoints;if(this.hasZ=Q?.hasZ??!1,0!==this.rings.length||!Q)return;const U=(0,O.En)(this.radius,this.radiusUnit,"meters"),$=Q.spatialReference;let z,J="geographic";if($.isWebMercator?J="webMercator":(null!=($.wkid&&ae.Z[$.wkid])||$.wkt&&0===$.wkt.indexOf("PROJCS"))&&(J="projected"),this.geodesic){let q;switch(J){case"webMercator":q=(0,ne.Sx)(Q);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":q=Q}z=this._createGeodesicCircle(q,U,V),"webMercator"===J&&(z=(0,ne.$)(z))}else{let q;"webMercator"===J||"projected"===J?q=U/this._convert2Meters(1,Q.spatialReference):"geographic"===J&&(q=(0,O.ty)(U,"meters",(0,ee.Iu)(Q.spatialReference).radius)),z=this._createPlanarCircle(Q,q,V)}this.spatialReference=z.spatialReference,this.addRing(z.rings[0])}clone(){const{center:Q,numberOfPoints:V,radius:U,radiusUnit:$,geodesic:z}=this;return new se({center:Q?.clone(),numberOfPoints:V,radius:U,radiusUnit:$,geodesic:z})}_createGeodesicCircle(Q,V,U){let $=0;const z=[];for(;$<360;){const J=[0,0];(0,Y.TB)(J,[Q.x,Q.y],$,V),this.hasZ&&J.push(Q.z),z.push(J),$+=360/U}return z.push(z[0]),new G.Z(z)}_createPlanarCircle(Q,V,U){const $=[],z=2*Math.PI/U;for(let J=0;J<U;++J){const q=z*J,oe=[Q.x+Math.cos(-q)*V,Q.y+Math.sin(-q)*V];this.hasZ&&oe.push(Q.z),$.push(oe)}return $.push($[0]),new G.Z({spatialReference:Q.spatialReference,rings:[$]})}_convert2Meters(Q,V){let U;if(V.wkid&&null!=ae.Z[V.wkid])U=ae.Z.values[ae.Z[V.wkid]];else{const $=V.wkt,z=$.lastIndexOf(",")+1,J=$.lastIndexOf("]]");U=parseFloat($.substring(z,J))}return Q*U}};(0,w._)([(0,W.Cb)({type:Z.Z})],ie.prototype,"center",void 0),(0,w._)([(0,W.Cb)()],ie.prototype,"geodesic",void 0),(0,w._)([(0,W.Cb)()],ie.prototype,"numberOfPoints",void 0),(0,w._)([(0,W.Cb)()],ie.prototype,"radius",void 0),(0,w._)([(0,W.Cb)()],ie.prototype,"radiusUnit",void 0),ie=se=(0,w._)([(0,re.j)("esri.geometry.Circle")],ie);const te=ie},2004:(j,F,T)=>{"use strict";T.d(F,{Z:()=>$});var te,w=T(17626),O=T(62208),W=T(77275),B=T(77712),ee=(T(90912),T(85931),T(76898)),Z=T(21674),G=T(72642),Y=T(65234),ne=T(33190),ae=T(11519),se=T(37053),ie=T(46367);function V(z,J,q){return null==J?q:null==q?J:z(J,q)}let U=te=class extends Z.Z{constructor(...z){super(...z),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(z,J,q,oe,pe){return function Q(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}(z)?{spatialReference:z,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof z?(z.spatialReference=null==z.spatialReference?Y.Z.WGS84:z.spatialReference,z):{xmin:z,ymin:J,xmax:q,ymax:oe,spatialReference:pe??Y.Z.WGS84}}static fromBounds(z,J){return new te({xmin:z[0],ymin:z[1],xmax:z[2],ymax:z[3],spatialReference:J})}static fromPoint(z){return new te({xmin:z.x,ymin:z.y,zmin:z.z,xmax:z.x,ymax:z.y,zmax:z.z,spatialReference:z.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const z=new G.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(z.z=.5*(this.zmin+this.zmax)),this.hasM&&(z.m=.5*(this.mmin+this.mmax)),z}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(z){const J=this.center;return null!=z.z&&this.hasZ?this.offset(z.x-J.x,z.y-J.y,z.z-J.z):this.offset(z.x-J.x,z.y-J.y)}clone(){const z=new te;return z.xmin=this.xmin,z.ymin=this.ymin,z.xmax=this.xmax,z.ymax=this.ymax,z.spatialReference=this.spatialReference,null!=this.zmin&&(z.zmin=this.zmin,z.zmax=this.zmax),null!=this.mmin&&(z.mmin=this.mmin,z.mmax=this.mmax),z}contains(z){if(!z)return!1;const J=this.spatialReference,q=z.spatialReference;return J&&q&&!J.equals(q)&&(0,ie.Q8)(J,q)&&(z=J.isWebMercator?(0,ie.$)(z):(0,ie.Sx)(z,!0)),"point"===z.type?(0,ne.aV)(this,z):"extent"===z.type&&(0,ne.uP)(this,z)}equals(z){if(this===z)return!0;if((0,O.Wi)(z))return!1;const J=this.spatialReference,q=z.spatialReference;return J&&q&&!J.equals(q)&&(0,ie.Q8)(J,q)&&(z=J.isWebMercator?(0,ie.$)(z):(0,ie.Sx)(z,!0)),this.xmin===z.xmin&&this.ymin===z.ymin&&this.zmin===z.zmin&&this.mmin===z.mmin&&this.xmax===z.xmax&&this.ymax===z.ymax&&this.zmax===z.zmax&&this.mmax===z.mmax}expand(z){const J=.5*(1-z),q=this.width*J,oe=this.height*J;if(this.xmin+=q,this.ymin+=oe,this.xmax-=q,this.ymax-=oe,this.hasZ){const pe=(this.zmax-this.zmin)*J;this.zmin+=pe,this.zmax-=pe}if(this.hasM){const pe=(this.mmax-this.mmin)*J;this.mmin+=pe,this.mmax-=pe}return this}intersects(z){if((0,O.Wi)(z))return!1;"mesh"===z.type&&(z=z.extent);const J=this.spatialReference,q=z.spatialReference;return J&&q&&!(0,se.fS)(J,q)&&(0,ie.Q8)(J,q)&&(z=J.isWebMercator?(0,ie.$)(z):(0,ie.Sx)(z,!0)),(0,ae.IY)(z.type)(this,z)}normalize(){const z=this._normalize(!1,!0);return Array.isArray(z)?z:[z]}offset(z,J,q){return this.xmin+=z,this.ymin+=J,this.xmax+=z,this.ymax+=J,null!=q&&(this.zmin+=q,this.zmax+=q),this}shiftCentralMeridian(){return this._normalize(!0)}union(z){return this===z||(this.xmin=Math.min(this.xmin,z.xmin),this.ymin=Math.min(this.ymin,z.ymin),this.xmax=Math.max(this.xmax,z.xmax),this.ymax=Math.max(this.ymax,z.ymax),(this.hasZ||z.hasZ)&&(this.zmin=V(Math.min,this.zmin,z.zmin),this.zmax=V(Math.max,this.zmax,z.zmax)),(this.hasM||z.hasM)&&(this.mmin=V(Math.min,this.mmin,z.mmin),this.mmax=V(Math.max,this.mmax,z.mmax))),this}intersection(z){return this===z?this:(0,O.Wi)(z)||!this.intersects(z)?null:(this.xmin=Math.max(this.xmin,z.xmin),this.ymin=Math.max(this.ymin,z.ymin),this.xmax=Math.min(this.xmax,z.xmax),this.ymax=Math.min(this.ymax,z.ymax),(this.hasZ||z.hasZ)&&(this.zmin=V(Math.max,this.zmin,z.zmin),this.zmax=V(Math.min,this.zmax,z.zmax)),(this.hasM||z.hasM)&&(this.mmin=V(Math.max,this.mmin,z.mmin),this.mmax=V(Math.min,this.mmax,z.mmax)),this)}toJSON(z){return this.write({},z)}_shiftCM(z=(0,se.C5)(this.spatialReference)){if(!z||!this.spatialReference)return this;const J=this.spatialReference,q=this._getCM(z);if(q){const oe=J.isWebMercator?(0,ie.Sx)(q):q;this.xmin-=q.x,this.xmax-=q.x,J.isWebMercator||(oe.x=this._normalizeX(oe.x,z).x),this.spatialReference=new Y.Z((0,W.gx)((J.isWGS84?z.altTemplate:null)??z.wkTemplate,{Central_Meridian:oe.x}))}return this}_getCM(z){let J=null;const[q,oe]=z.valid,pe=this.xmin,de=this.xmax;return pe>=q&&pe<=oe&&de>=q&&de<=oe||(J=this.center),J}_normalize(z,J,q){const oe=this.spatialReference;if(!oe)return this;const pe=q??(0,se.C5)(oe);if(null==pe)return this;const de=this._getParts(pe).map(_e=>_e.extent);if(de.length<2)return de[0]||this;if(de.length>2)return z?this._shiftCM(pe):this.set({xmin:pe.valid[0],xmax:pe.valid[1]});if(z)return this._shiftCM(pe);if(J)return de;let be=!0,me=!0;return de.forEach(_e=>{_e.hasZ||(be=!1),_e.hasM||(me=!1)}),{rings:de.map(_e=>{const le=[[_e.xmin,_e.ymin],[_e.xmin,_e.ymax],[_e.xmax,_e.ymax],[_e.xmax,_e.ymin],[_e.xmin,_e.ymin]];if(be){const fe=(_e.zmax-_e.zmin)/2;for(let Ee=0;Ee<le.length;Ee++)le[Ee].push(fe)}if(me){const fe=(_e.mmax-_e.mmin)/2;for(let Ee=0;Ee<le.length;Ee++)le[Ee].push(fe)}return le}),hasZ:be,hasM:me,spatialReference:oe}}_getParts(z){let J=this.cache._parts;if(!J){J=[];const{ymin:pe,ymax:de,spatialReference:be}=this,me=this.width,_e=this.xmin,le=this.xmax;let fe;z=z||(0,se.C5)(be);const[Ee,ye]=z.valid;fe=this._normalizeX(this.xmin,z);const ue=fe.x,Me=fe.frameId;fe=this._normalizeX(this.xmax,z);const ce=fe.x,ge=fe.frameId,Pe=ue===ce&&me>0;if(me>2*ye){const Ie=new te(_e<le?ue:ce,pe,ye,de,be),Re=new te(Ee,pe,_e<le?ce:ue,de,be),Ce=new te(0,pe,ye,de,be),Fe=new te(Ee,pe,0,de,be),Ne=[],Le=[];Ie.contains(Ce)&&Ne.push(Me),Ie.contains(Fe)&&Le.push(Me),Re.contains(Ce)&&Ne.push(ge),Re.contains(Fe)&&Le.push(ge);for(let Oe=Me+1;Oe<ge;Oe++)Ne.push(Oe),Le.push(Oe);J.push({extent:Ie,frameIds:[Me]},{extent:Re,frameIds:[ge]},{extent:Ce,frameIds:Ne},{extent:Fe,frameIds:Le})}else ue>ce||Pe?J.push({extent:new te(ue,pe,ye,de,be),frameIds:[Me]},{extent:new te(Ee,pe,ce,de,be),frameIds:[ge]}):J.push({extent:new te(ue,pe,ce,de,be),frameIds:[Me]});this.cache._parts=J}const q=this.hasZ,oe=this.hasM;if(q||oe){const pe={};q&&(pe.zmin=this.zmin,pe.zmax=this.zmax),oe&&(pe.mmin=this.mmin,pe.mmax=this.mmax);for(let de=0;de<J.length;de++)J[de].extent.set(pe)}return J}_normalizeX(z,J){const[q,oe]=J.valid,pe=2*oe;let de,be=0;return z>oe?(de=Math.ceil(Math.abs(z-oe)/pe),z-=de*pe,be=de):z<q&&(de=Math.ceil(Math.abs(z-q)/pe),z+=de*pe,be=-de),{x:z,frameId:be}}};(0,w._)([(0,B.Cb)({readOnly:!0})],U.prototype,"cache",null),(0,w._)([(0,B.Cb)({readOnly:!0})],U.prototype,"center",null),(0,w._)([(0,B.Cb)({readOnly:!0})],U.prototype,"extent",null),(0,w._)([(0,B.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],U.prototype,"hasM",null),(0,w._)([(0,B.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],U.prototype,"hasZ",null),(0,w._)([(0,B.Cb)({readOnly:!0})],U.prototype,"height",null),(0,w._)([(0,B.Cb)({readOnly:!0})],U.prototype,"width",null),(0,w._)([(0,B.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],U.prototype,"xmin",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],U.prototype,"ymin",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],U.prototype,"mmin",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],U.prototype,"zmin",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],U.prototype,"xmax",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],U.prototype,"ymax",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],U.prototype,"mmax",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],U.prototype,"zmax",void 0),U=te=(0,w._)([(0,ee.j)("esri.geometry.Extent")],U),U.prototype.toJSON.isDefaultToJSON=!0;const $=U},21674:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(68653)),ee=T(76898),Z=T(65234);let G=class extends O.wq{constructor(...ne){super(...ne),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Z.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(ne,ae){if(ne instanceof Z.Z)return ne;if(null!=ne){const se=new Z.Z;return se.read(ne,ae),se}return ne}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(ne){return this.cache[ne]}setCacheValue(ne,ae){this.cache[ne]=ae}};(0,w._)([(0,W.Cb)()],G.prototype,"type",void 0),(0,w._)([(0,W.Cb)({readOnly:!0})],G.prototype,"cache",null),(0,w._)([(0,W.Cb)({readOnly:!0})],G.prototype,"extent",null),(0,w._)([(0,W.Cb)({type:Boolean,json:{write:{overridePolicy:ne=>({enabled:ne})}}})],G.prototype,"hasM",void 0),(0,w._)([(0,W.Cb)({type:Boolean,json:{write:{overridePolicy:ne=>({enabled:ne})}}})],G.prototype,"hasZ",void 0),(0,w._)([(0,W.Cb)({type:Z.Z,json:{write:!0},value:Z.Z.WGS84})],G.prototype,"spatialReference",void 0),(0,w._)([(0,re.r)("spatialReference")],G.prototype,"readSpatialReference",null),G=(0,w._)([(0,ee.j)("esri.geometry.Geometry")],G);const Y=G},79334:(j,F,T)=>{"use strict";T.d(F,{Z:()=>$});var ae,w=T(17626),O=T(85931),W=T(2076),B=T(86810),k=T(16730),re=T(14889),ee=T(77712),G=(T(90912),T(68653)),Y=T(76898),ne=T(99433);const se=(0,W.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),ie=se.jsonValues.slice();(0,O.e$)(ie,"orthometric");const te=(0,W.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Q=ae=class extends B.wq{constructor(z){super(z),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(z,J,q){return se.write(z,J,q)}readHeightModel(z,J,q){return se.read(z)||(q&&q.messages&&q.messages.push(function U(z,J){return new re.Z("height-model:unsupported",`Height model of value '${z}' is not supported`,J)}(z,{context:q})),null)}readHeightUnit(z,J,q){return te.read(z)||(q&&q.messages&&q.messages.push(V(z,{context:q})),null)}readHeightUnitService(z,J,q){return(0,k.$C)(z)||te.read(z)||(q&&q.messages&&q.messages.push(V(z,{context:q})),null)}readVertCRS(z,J){return J.vertCRS||J.ellipsoid||J.geoid}clone(){return new ae({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(z){return!!z&&(this===z||this.heightModel===z.heightModel&&this.heightUnit===z.heightUnit&&this.vertCRS===z.vertCRS)}static deriveUnitFromSR(z,J){const q=(0,k.cM)(J);return new ae({heightModel:z.heightModel,heightUnit:q,vertCRS:z.vertCRS})}write(z,J){return J={origin:"web-scene",...J},super.write(z,J)}static fromJSON(z){if(!z)return null;const J=new ae;return J.read(z,{origin:"web-scene"}),J}};function V(z,J){return new re.Z("height-unit:unsupported",`Height unit of value '${z}' is not supported`,J)}(0,w._)([(0,ee.Cb)({type:se.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:ie,default:"ellipsoidal"}}}})],Q.prototype,"heightModel",void 0),(0,w._)([(0,ne.c)("web-scene","heightModel")],Q.prototype,"writeHeightModel",null),(0,w._)([(0,G.r)(["web-scene","service"],"heightModel")],Q.prototype,"readHeightModel",null),(0,w._)([(0,ee.Cb)({type:te.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:te.jsonValues,write:te.write}}}})],Q.prototype,"heightUnit",void 0),(0,w._)([(0,G.r)("web-scene","heightUnit")],Q.prototype,"readHeightUnit",null),(0,w._)([(0,G.r)("service","heightUnit")],Q.prototype,"readHeightUnitService",null),(0,w._)([(0,ee.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Q.prototype,"vertCRS",void 0),(0,w._)([(0,G.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Q.prototype,"readVertCRS",null),Q=ae=(0,w._)([(0,Y.j)("esri.geometry.HeightModelInfo")],Q);const $=Q},72854:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var ne,w=T(17626),O=T(58817),W=T(77712),k=(T(90912),T(76898)),re=T(99433),ee=T(2004),Z=T(21674),G=T(72642),Y=T(18945);function ae(Q){return(V,U)=>null==V?U:null==U?V:Q(V,U)}let ie=ne=class extends Z.Z{constructor(...Q){super(...Q),this.points=[],this.type="multipoint"}normalizeCtorArgs(Q,V){if(!Q&&!V)return{};const U={};Array.isArray(Q)?(U.points=Q,U.spatialReference=V):function se(Q){return Q&&("esri.geometry.SpatialReference"===Q.declaredClass||null!=Q.wkid)}(Q)?U.spatialReference=Q:(Q.points&&(U.points=Q.points),Q.spatialReference&&(U.spatialReference=Q.spatialReference),Q.hasZ&&(U.hasZ=Q.hasZ),Q.hasM&&(U.hasM=Q.hasM));const $=U.points&&U.points[0];return $&&(void 0===U.hasZ&&void 0===U.hasM?(U.hasZ=$.length>2,U.hasM=!1):void 0===U.hasZ?U.hasZ=$.length>3:void 0===U.hasM&&(U.hasM=$.length>3)),U}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const Q=this.points;if(!Q.length)return null;const V=new ee.Z,U=this.hasZ,$=this.hasM,z=U?3:2,J=Q[0],q=ae(Math.min),oe=ae(Math.max);let pe,de,be,me,[_e,le]=J,[fe,Ee]=J;for(let ye=0,ue=Q.length;ye<ue;ye++){const Me=Q[ye],[ce,ge]=Me;if(_e=q(_e,ce),le=q(le,ge),fe=oe(fe,ce),Ee=oe(Ee,ge),U&&Me.length>2){const Pe=Me[2];pe=q(pe,Pe),be=oe(be,Pe)}if($&&Me.length>z){const Pe=Me[z];de=q(de,Pe),me=oe(me,Pe)}}return V.xmin=_e,V.ymin=le,V.xmax=fe,V.ymax=Ee,V.spatialReference=this.spatialReference,U?(V.zmin=pe,V.zmax=be):(V.zmin=void 0,V.zmax=void 0),$?(V.mmin=de,V.mmax=me):(V.mmin=void 0,V.mmax=void 0),V}writePoints(Q,V){V.points=(0,O.d9)(this.points)}addPoint(Q){return(0,Y.l)(this,Q),Array.isArray(Q)?this.points.push(Q):this.points.push(Q.toArray()),this.notifyChange("points"),this}clone(){const Q={points:(0,O.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(Q.hasZ=!0),this.hasM&&(Q.hasM=!0),new ne(Q)}getPoint(Q){if(!this._validateInputs(Q))return null;const V=this.points[Q],U={x:V[0],y:V[1],spatialReference:this.spatialReference};let $=2;return this.hasZ&&(U.z=V[2],$=3),this.hasM&&(U.m=V[$]),new G.Z(U)}removePoint(Q){if(!this._validateInputs(Q))return null;const V=new G.Z(this.points.splice(Q,1)[0],this.spatialReference);return this.notifyChange("points"),V}setPoint(Q,V){return this._validateInputs(Q)?((0,Y.l)(this,V),Array.isArray(V)||(V=V.toArray()),this.points[Q]=V,this.notifyChange("points"),this):this}toJSON(Q){return this.write({},Q)}_validateInputs(Q){return null!=Q&&Q>=0&&Q<this.points.length}};(0,w._)([(0,W.Cb)({readOnly:!0})],ie.prototype,"cache",null),(0,w._)([(0,W.Cb)()],ie.prototype,"extent",null),(0,w._)([(0,W.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],ie.prototype,"points",void 0),(0,w._)([(0,re.c)("points")],ie.prototype,"writePoints",null),ie=ne=(0,w._)([(0,k.j)("esri.geometry.Multipoint")],ie),ie.prototype.toJSON.isDefaultToJSON=!0;const te=ie},72642:(j,F,T)=>{"use strict";T.d(F,{Z:()=>J});var V,w=T(17626),O=T(63290),W=T(62208),B=T(77712),k=T(66656),ee=(T(85931),T(68653)),Z=T(76898),G=T(99433),Y=T(90912),ne=T(21674),ae=T(65234),te=T(37053),Q=T(46367);const U=[0,0];function $(q){return q&&("esri.geometry.SpatialReference"===q.declaredClass||null!=q.wkid)}let z=V=class extends ne.Z{static copy(q,oe){oe._set("x",q._get("x")),oe._set("y",q._get("y")),oe._set("z",q._get("z")),oe._set("m",q._get("m"));const pe=q._get("spatialReference");oe._set("spatialReference",Object.isFrozen(pe)?pe:pe.clone())}constructor(...q){super(...q),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(q,oe,pe,de,be){let me;if(Array.isArray(q))me=q,be=oe,q=me[0],oe=me[1],pe=me[2],de=me[3];else if(q&&"object"==typeof q){if(me=q,q=null!=me.x?me.x:me.longitude,oe=null!=me.y?me.y:me.latitude,pe=me.z,de=me.m,(be=me.spatialReference)&&"esri.geometry.SpatialReference"!==be.declaredClass&&(be=new ae.Z(be)),null!=me.longitude||null!=me.latitude)if(null==me.longitude)O.Z.getLogger(this.declaredClass).warn(".longitude=","Latitude was defined without longitude");else if(null==me.latitude)O.Z.getLogger(this.declaredClass).warn(".latitude=","Longitude was defined without latitude");else if(!me.declaredClass&&be&&be.isWebMercator){const le=(0,Q.hG)(me.longitude,me.latitude,U);q=le[0],oe=le[1]}}else $(pe)?(be=pe,pe=null):$(de)&&(be=de,de=null);const _e={x:q,y:oe};return null==_e.x&&null!=_e.y?O.Z.getLogger(this.declaredClass).warn(".y=","Y coordinate was defined without an X coordinate"):null==_e.y&&null!=_e.x&&O.Z.getLogger(this.declaredClass).warn(".x=","X coordinate was defined without a Y coordinate"),null!=be&&(_e.spatialReference=be),null!=pe&&(_e.z=pe),null!=de&&(_e.m=de),_e}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(q){q!==(void 0!==this._get("m"))&&(this._set("m",q?0:void 0),this._set("hasM",q))}get hasZ(){return void 0!==this.z}set hasZ(q){q!==(void 0!==this._get("z"))&&(this._set("z",q?0:void 0),this._set("hasZ",q))}get latitude(){const{spatialReference:q,x:oe,y:pe}=this;if(q){if(q.isWebMercator)return(0,Q.R6)(oe,pe,U)[1];if(q.isGeographic)return pe}return null}set latitude(q){const{spatialReference:oe,x:pe}=this;null!=q&&oe&&(oe.isWebMercator?this._set("y",(0,Q.hG)(pe,q,U)[1]):oe.isGeographic&&this._set("y",q),this._set("latitude",q))}get longitude(){const{x:q,y:oe,spatialReference:pe}=this;if(pe){if(pe.isWebMercator)return(0,Q.R6)(q,oe,U)[0];if(pe.isGeographic)return q}return null}set longitude(q){const{y:oe,spatialReference:pe}=this;null!=q&&pe&&(pe.isWebMercator?this._set("x",(0,Q.hG)(q,oe,U)[0]):pe.isGeographic&&this._set("x",q),this._set("longitude",q))}writeX(q,oe,pe){oe[pe]=isNaN(q)?"NaN":q}readX(q){return"string"==typeof q?NaN:q}clone(){const q=new V;return q.x=this.x,q.y=this.y,q.z=this.z,q.m=this.m,q.spatialReference=this.spatialReference,q}copy(q){return V.copy(q,this),this}equals(q){if((0,W.Wi)(q))return!1;const{x:oe,y:pe,z:de,m:be,spatialReference:me}=this,{z:_e,m:le}=q;let{x:fe,y:Ee,spatialReference:ye}=q;if(!me.equals(ye))if(me.isWebMercator&&ye.isWGS84)[fe,Ee]=(0,Q.hG)(fe,Ee),ye=me;else{if(!me.isWGS84||!ye.isWebMercator)return!1;[fe,Ee]=(0,Q.R6)(fe,Ee),ye=me}return oe===fe&&pe===Ee&&de===_e&&be===le&&me.wkid===ye.wkid}offset(q,oe,pe){return this.x+=q,this.y+=oe,null!=pe&&(this.z=(this.z??0)+pe),this}normalize(){if(!this.spatialReference)return this;const q=(0,te.C5)(this.spatialReference);if(!q)return this;let oe=this.x;const[pe,de]=q.valid,be=2*de;let me;return oe>de?(me=Math.ceil(Math.abs(oe-de)/be),oe-=me*be):oe<pe&&(me=Math.ceil(Math.abs(oe-pe)/be),oe+=me*be),this._set("x",oe),this}distance(q){return function se(q,oe){const pe=q.x-oe.x,de=q.y-oe.y,be=q.hasZ&&oe.hasZ?q.z-oe.z:0;return Math.sqrt(pe*pe+de*de+be*be)}(this,q)}toArray(){const q=this.hasZ,oe=this.hasM;return q&&oe?[this.x,this.y,this.z,this.m]:q?[this.x,this.y,this.z]:oe?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(q){return this.write({},q)}};(0,w._)([(0,B.Cb)({readOnly:!0})],z.prototype,"cache",null),(0,w._)([(0,B.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],z.prototype,"hasM",null),(0,w._)([(0,B.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],z.prototype,"hasZ",null),(0,w._)([(0,B.Cb)({type:Number})],z.prototype,"latitude",null),(0,w._)([(0,B.Cb)({type:Number})],z.prototype,"longitude",null),(0,w._)([(0,B.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,k.p)(q=>isNaN(q)?q:(0,Y.q9)(q))],z.prototype,"x",void 0),(0,w._)([(0,G.c)("x")],z.prototype,"writeX",null),(0,w._)([(0,ee.r)("x")],z.prototype,"readX",null),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],z.prototype,"y",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],z.prototype,"z",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],z.prototype,"m",void 0),z=V=(0,w._)([(0,Z.j)("esri.geometry.Point")],z),z.prototype.toJSON.isDefaultToJSON=!0;const J=z},37118:(j,F,T)=>{"use strict";T.d(F,{Z:()=>oe});var z,w=T(17626),O=T(85931),W=T(58817),B=T(62208),k=T(77712),ee=(T(90912),T(76898)),Z=T(99433),G=T(2004),Y=T(21674),ne=T(72642),ae=T(65234),se=T(27105),ie=T(33190),te=T(25748),Q=T(15176),V=T(11519),U=T(46367),$=T(18945);function J(pe){return!Array.isArray(pe[0])}let q=z=class extends Y.Z{static fromExtent(pe){const de=pe.clone().normalize(),be=pe.spatialReference;let me=!1,_e=!1;for(const fe of de)fe.hasZ&&(me=!0),fe.hasM&&(_e=!0);const le={rings:de.map(fe=>{const Ee=[[fe.xmin,fe.ymin],[fe.xmin,fe.ymax],[fe.xmax,fe.ymax],[fe.xmax,fe.ymin],[fe.xmin,fe.ymin]];if(me&&fe.hasZ){const ye=fe.zmin+.5*(fe.zmax-fe.zmin);for(let ue=0;ue<Ee.length;ue++)Ee[ue].push(ye)}if(_e&&fe.hasM){const ye=fe.mmin+.5*(fe.mmax-fe.mmin);for(let ue=0;ue<Ee.length;ue++)Ee[ue].push(ye)}return Ee}),spatialReference:be};return me&&(le.hasZ=!0),_e&&(le.hasM=!0),new z(le)}constructor(...pe){super(...pe),this.rings=[],this.type="polygon"}normalizeCtorArgs(pe,de){let be,me,_e=null,le=null;return pe&&!Array.isArray(pe)?(_e=pe.rings?pe.rings:null,de||(pe.spatialReference?de=pe.spatialReference:pe.rings||(de=pe)),be=pe.hasZ,me=pe.hasM):_e=pe,_e=_e||[],_e.length&&_e[0]&&null!=_e[0][0]&&"number"==typeof _e[0][0]&&(_e=[_e]),le=_e[0]&&_e[0][0],le&&(void 0===be&&void 0===me?(be=le.length>2,me=le.length>3):void 0===be?be=me?le.length>3:le.length>2:void 0===me&&(me=be?le.length>3:le.length>2)),{rings:_e,spatialReference:de=de||ae.Z.WGS84,hasZ:be,hasM:me}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const pe=(0,se.tO)(this);if(!pe||isNaN(pe[0])||isNaN(pe[1])||this.hasZ&&isNaN(pe[2]))return null;const de=new ne.Z;return de.x=pe[0],de.y=pe[1],de.spatialReference=this.spatialReference,this.hasZ&&(de.z=pe[2]),de}get extent(){const{spatialReference:pe}=this,de=(0,Q._w)(this);if(!de)return null;const be=new G.Z(de);return be.spatialReference=pe,be}get isSelfIntersecting(){return(0,V.Ff)(this.rings)}writeRings(pe,de){de.rings=(0,W.d9)(this.rings)}addRing(pe){if(!pe)return;const de=this.rings,be=de.length;if(J(pe)){const me=[];for(let _e=0,le=pe.length;_e<le;_e++)me[_e]=pe[_e].toArray();de[be]=me}else de[be]=pe.concat();return this.notifyChange("rings"),this}clone(){const pe=new z;return pe.spatialReference=this.spatialReference,pe.rings=(0,W.d9)(this.rings),pe.hasZ=this.hasZ,pe.hasM=this.hasM,pe}equals(pe){if(this===pe)return!0;if((0,B.Wi)(pe))return!1;const de=this.spatialReference,be=pe.spatialReference;if((0,B.pC)(de)!==(0,B.pC)(be)||(0,B.pC)(de)&&(0,B.pC)(be)&&!de.equals(be)||this.rings.length!==pe.rings.length)return!1;const me=([_e,le,fe,Ee],[ye,ue,Me,ce])=>_e===ye&&le===ue&&(null==fe&&null==Me||fe===Me)&&(null==Ee&&null==ce||Ee===ce);for(let _e=0;_e<this.rings.length;_e++)if(!(0,O.fS)(this.rings[_e],pe.rings[_e],me))return!1;return!0}contains(pe){if(!pe)return!1;const de=(0,U.iV)(pe,this.spatialReference);return(0,ie.CI)(this,(0,B.pC)(de)?de:pe)}isClockwise(pe){let de;return de=J(pe)?pe.map(be=>this.hasZ?this.hasM?[be.x,be.y,be.z,be.m]:[be.x,be.y,be.z]:[be.x,be.y]):pe,(0,te.bu)(de,this.hasM,this.hasZ)}getPoint(pe,de){if(!this._validateInputs(pe,de))return null;const be=this.rings[pe][de],me=this.hasZ,_e=this.hasM;return me&&!_e?new ne.Z(be[0],be[1],be[2],void 0,this.spatialReference):_e&&!me?new ne.Z(be[0],be[1],void 0,be[2],this.spatialReference):me&&_e?new ne.Z(be[0],be[1],be[2],be[3],this.spatialReference):new ne.Z(be[0],be[1],this.spatialReference)}insertPoint(pe,de,be){return this._validateInputs(pe,de,!0)?((0,$.l)(this,be),Array.isArray(be)||(be=be.toArray()),this.rings[pe].splice(de,0,be),this.notifyChange("rings"),this):this}removePoint(pe,de){if(!this._validateInputs(pe,de))return null;const be=new ne.Z(this.rings[pe].splice(de,1)[0],this.spatialReference);return this.notifyChange("rings"),be}removeRing(pe){if(!this._validateInputs(pe,null))return null;const de=this.rings.splice(pe,1)[0],be=this.spatialReference,me=de.map(_e=>new ne.Z(_e,be));return this.notifyChange("rings"),me}setPoint(pe,de,be){return this._validateInputs(pe,de)?((0,$.l)(this,be),Array.isArray(be)||(be=be.toArray()),this.rings[pe][de]=be,this.notifyChange("rings"),this):this}_validateInputs(pe,de,be=!1){if(null==pe||pe<0||pe>=this.rings.length)return!1;if(null!=de){const me=this.rings[pe];if(be&&(de<0||de>me.length)||!be&&(de<0||de>=me.length))return!1}return!0}toJSON(pe){return this.write({},pe)}};(0,w._)([(0,k.Cb)({readOnly:!0})],q.prototype,"cache",null),(0,w._)([(0,k.Cb)({readOnly:!0})],q.prototype,"centroid",null),(0,w._)([(0,k.Cb)({readOnly:!0})],q.prototype,"extent",null),(0,w._)([(0,k.Cb)({readOnly:!0})],q.prototype,"isSelfIntersecting",null),(0,w._)([(0,k.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],q.prototype,"rings",void 0),(0,w._)([(0,Z.c)("rings")],q.prototype,"writeRings",null),q=z=(0,w._)([(0,ee.j)("esri.geometry.Polygon")],q),q.prototype.toJSON.isDefaultToJSON=!0;const oe=q},55214:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Q});var se,w=T(17626),O=T(58817),W=T(77712),k=(T(90912),T(76898)),re=T(99433),ee=T(2004),Z=T(21674),G=T(72642),Y=T(65234),ne=T(15176),ae=T(18945);let te=se=class extends Z.Z{constructor(...V){super(...V),this.paths=[],this.type="polyline"}normalizeCtorArgs(V,U){let $,z,J=null,q=null;return V&&!Array.isArray(V)?(J=V.paths?V.paths:null,U||(V.spatialReference?U=V.spatialReference:V.paths||(U=V)),$=V.hasZ,z=V.hasM):J=V,J=J||[],J.length&&J[0]&&null!=J[0][0]&&"number"==typeof J[0][0]&&(J=[J]),q=J[0]&&J[0][0],q&&(void 0===$&&void 0===z?($=q.length>2,z=!1):void 0===$?$=!z&&q.length>3:void 0===z&&(z=!$&&q.length>3)),{paths:J,spatialReference:U=U||Y.Z.WGS84,hasZ:$,hasM:z}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:V}=this,U=(0,ne.Wn)(this);if(!U)return null;const $=new ee.Z(U);return $.spatialReference=V,$}writePaths(V,U){U.paths=(0,O.d9)(this.paths)}addPath(V){if(!V)return;const U=this.paths,$=U.length;if(function ie(V){return!Array.isArray(V[0])}(V)){const z=[];for(let J=0,q=V.length;J<q;J++)z[J]=V[J].toArray();U[$]=z}else U[$]=V.concat();return this.notifyChange("paths"),this}clone(){const V=new se;return V.spatialReference=this.spatialReference,V.paths=(0,O.d9)(this.paths),V.hasZ=this.hasZ,V.hasM=this.hasM,V}getPoint(V,U){if(!this._validateInputs(V,U))return null;const $=this.paths[V][U],z=this.hasZ,J=this.hasM;return z&&!J?new G.Z($[0],$[1],$[2],void 0,this.spatialReference):J&&!z?new G.Z($[0],$[1],void 0,$[2],this.spatialReference):z&&J?new G.Z($[0],$[1],$[2],$[3],this.spatialReference):new G.Z($[0],$[1],this.spatialReference)}insertPoint(V,U,$){return this._validateInputs(V,U,!0)?((0,ae.l)(this,$),Array.isArray($)||($=$.toArray()),this.paths[V].splice(U,0,$),this.notifyChange("paths"),this):this}removePath(V){if(!this._validateInputs(V,null))return null;const U=this.paths.splice(V,1)[0],$=this.spatialReference,z=U.map(J=>new G.Z(J,$));return this.notifyChange("paths"),z}removePoint(V,U){if(!this._validateInputs(V,U))return null;const $=new G.Z(this.paths[V].splice(U,1)[0],this.spatialReference);return this.notifyChange("paths"),$}setPoint(V,U,$){return this._validateInputs(V,U)?((0,ae.l)(this,$),Array.isArray($)||($=$.toArray()),this.paths[V][U]=$,this.notifyChange("paths"),this):this}_validateInputs(V,U,$=!1){if(null==V||V<0||V>=this.paths.length)return!1;if(null!=U){const z=this.paths[V];if($&&(U<0||U>z.length)||!$&&(U<0||U>=z.length))return!1}return!0}toJSON(V){return this.write({},V)}};(0,w._)([(0,W.Cb)({readOnly:!0})],te.prototype,"cache",null),(0,w._)([(0,W.Cb)({readOnly:!0})],te.prototype,"extent",null),(0,w._)([(0,W.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],te.prototype,"paths",void 0),(0,w._)([(0,re.c)("paths")],te.prototype,"writePaths",null),te=se=(0,w._)([(0,k.j)("esri.geometry.Polyline")],te),te.prototype.toJSON.isDefaultToJSON=!0;const Q=te},65234:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var Y,w=T(17626),O=T(86810),W=T(58817),B=T(16730),k=T(90912),re=T(77712),ee=T(76898),Z=T(99433),G=T(37053);let ne=Y=class extends O.wq{static fromJSON(se){if(!se)return null;if(se.wkid){if(102100===se.wkid)return Y.WebMercator;if(4326===se.wkid)return Y.WGS84}const ie=new Y;return ie.read(se),ie}constructor(se){super(se),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(se){return se&&"object"==typeof se?se:{["string"==typeof se?"wkt":"wkid"]:se}}get isWGS84(){return(0,G.oR)(this)}get isWebMercator(){return(0,G.sS)(this)}get isGeographic(){return(0,G.sT)(this)}get isWrappable(){return(0,G.MP)(this)}get metersPerUnit(){return(0,B.c9)(this)}get unit(){return(0,B.qE)(this)||(this.isGeographic?"degrees":null)}writeWkt(se,ie){this.wkid||(ie.wkt=se)}clone(){if(this===Y.WGS84)return Y.WGS84;if(this===Y.WebMercator)return Y.WebMercator;const se=new Y;return null!=this.wkid?(se.wkid=this.wkid,null!=this.latestWkid&&(se.latestWkid=this.latestWkid),null!=this.vcsWkid&&(se.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(se.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(se.wkt=this.wkt),this.imageCoordinateSystem&&(se.imageCoordinateSystem=(0,W.d9)(this.imageCoordinateSystem)),se}equals(se){if(null==se)return!1;if(this.imageCoordinateSystem||se.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==se.imageCoordinateSystem)return!1;const{id:ie,referenceServiceName:te}=se.imageCoordinateSystem,{geodataXform:Q}=se.imageCoordinateSystem,V=this.imageCoordinateSystem;return null==ie||Q?JSON.stringify(V)===JSON.stringify(se.imageCoordinateSystem):te?V.id===ie&&V.referenceServiceName===te:V.id===ie}return(0,G.fS)(this,se)}toJSON(se){return this.write(void 0,se)}};ne.GCS_NAD_1927=null,ne.WGS84=null,ne.WebMercator=null,ne.PlateCarree=null,(0,w._)([(0,re.Cb)({readOnly:!0})],ne.prototype,"isWGS84",null),(0,w._)([(0,re.Cb)({readOnly:!0})],ne.prototype,"isWebMercator",null),(0,w._)([(0,re.Cb)({readOnly:!0})],ne.prototype,"isGeographic",null),(0,w._)([(0,re.Cb)({readOnly:!0})],ne.prototype,"isWrappable",null),(0,w._)([(0,re.Cb)({type:k.z8,json:{write:!0}})],ne.prototype,"latestWkid",void 0),(0,w._)([(0,re.Cb)({readOnly:!0})],ne.prototype,"metersPerUnit",null),(0,w._)([(0,re.Cb)({readOnly:!0})],ne.prototype,"unit",null),(0,w._)([(0,re.Cb)({type:k.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],ne.prototype,"wkid",void 0),(0,w._)([(0,re.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],ne.prototype,"wkt",void 0),(0,w._)([(0,Z.c)("wkt"),(0,Z.c)("web-scene","wkt")],ne.prototype,"writeWkt",null),(0,w._)([(0,re.Cb)({type:k.z8,json:{write:!0}})],ne.prototype,"vcsWkid",void 0),(0,w._)([(0,re.Cb)({type:k.z8,json:{write:!0}})],ne.prototype,"latestVcsWkid",void 0),(0,w._)([(0,re.Cb)()],ne.prototype,"imageCoordinateSystem",void 0),ne=Y=(0,w._)([(0,ee.j)("esri.geometry.SpatialReference")],ne),ne.prototype.toJSON.isDefaultToJSON=!0,ne.GCS_NAD_1927=new ne({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),ne.WGS84=new ne(G.Zn),ne.WebMercator=new ne(G.R_),ne.PlateCarree=new ne(G.WR),Object.freeze&&(Object.freeze(ne.GCS_NAD_1927),Object.freeze(ne.WGS84),Object.freeze(ne.WebMercator));const ae=ne},92383:(j,F,T)=>{"use strict";T.d(F,{Iu:()=>G,JL:()=>re,e8:()=>Y,kU:()=>k,mM:()=>ee,pn:()=>Z});var w=T(62208),O=T(94425),W=T(37053);function B(ne){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${ne.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const k=B(O.sv),re=B(O.yr),ee=B(O.Z1),Z={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${O.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};function G(ne){return(0,w.pC)(ne)&&((0,W.BZ)(ne)||(0,W.fS)(ne,re))?O.yr:(0,w.pC)(ne)&&((0,W.V2)(ne)||(0,W.fS)(ne,ee))?O.Z1:O.sv}function Y(ne){return(0,W.o$)(ne)?O.yr:(0,W.ME)(ne)?O.Z1:O.sv}},15994:(j,F,T)=>{"use strict";T.d(F,{N:()=>w});const w={convertToGEGeometry:function O(se,ie){return null==ie?null:se.convertJSONToGeometry(ie)},exportPoint:function B(se,ie,te){const Q=new W(se.getPointX(ie),se.getPointY(ie),te),V=se.hasZ(ie),U=se.hasM(ie);return V&&(Q.z=se.getPointZ(ie)),U&&(Q.m=se.getPointM(ie)),Q},exportPolygon:function re(se,ie,te){return new k(se.exportPaths(ie),te,se.hasZ(ie),se.hasM(ie))},exportPolyline:function Z(se,ie,te){return new ee(se.exportPaths(ie),te,se.hasZ(ie),se.hasM(ie))},exportMultipoint:function Y(se,ie,te){return new G(se.exportPoints(ie),te,se.hasZ(ie),se.hasM(ie))},exportExtent:function ae(se,ie,te){const Q=se.hasZ(ie),V=se.hasM(ie),U=new ne(se.getXMin(ie),se.getYMin(ie),se.getXMax(ie),se.getYMax(ie),te);if(Q){const $=se.getZExtent(ie);U.zmin=$.vmin,U.zmax=$.vmax}if(V){const $=se.getMExtent(ie);U.mmin=$.vmin,U.mmax=$.vmax}return U}};class W{constructor(ie,te,Q){this.x=ie,this.y=te,this.spatialReference=Q,this.z=void 0,this.m=void 0}}class k{constructor(ie,te,Q,V){this.rings=ie,this.spatialReference=te,this.hasZ=void 0,this.hasM=void 0,Q&&(this.hasZ=Q),V&&(this.hasM=V)}}class ee{constructor(ie,te,Q,V){this.paths=ie,this.spatialReference=te,this.hasZ=void 0,this.hasM=void 0,Q&&(this.hasZ=Q),V&&(this.hasM=V)}}class G{constructor(ie,te,Q,V){this.points=ie,this.spatialReference=te,this.hasZ=void 0,this.hasM=void 0,Q&&(this.hasZ=Q),V&&(this.hasM=V)}}class ne{constructor(ie,te,Q,V,U){this.xmin=ie,this.ymin=te,this.xmax=Q,this.ymax=V,this.spatialReference=U,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},55915:(j,F,T)=>{"use strict";T.d(F,{Bm:()=>zn,CM:()=>Gt,JY:()=>ge,K2:()=>$e,KC:()=>mt,MT:()=>Pt,PR:()=>Jn,Rg:()=>St,SH:()=>ut,Up:()=>Oe,Wt:()=>Xe,bi:()=>Ge,dH:()=>an,dz:()=>ce,gH:()=>cn,iQ:()=>Ue,iV:()=>ue,kR:()=>Ee,ke:()=>Ct,nF:()=>We,oj:()=>Me,rS:()=>Pe,yH:()=>mr,zD:()=>ye});var w=T(15861),O=T(26584),W=T(21286),B=T(62208),k=T(10699),re=T(16730),ee=T(36082),Z=T(48902),G=T(28347),Y=T(84161),ne=T(28093),ae=T(92383),se=T(2004),ie=T(72854),te=T(44956),Q=T(72642),V=T(37118),U=T(55214),$=T(65401),z=T(94425),J=T(37299),q=T(98346),oe=T(37053),pe=T(6178),de=T(33696);let be=null,me=null,_e=null,le={};const fe=new Z.s;function Ee(){return!!be&&(0,te.i)()}function ye(Tt){return(0,B.Wi)(_e)&&(_e=Promise.all([(0,te.l)(),T.e(4918).then(T.bind(T,4918)).then(dt=>dt.g),T.e(7777).then(T.bind(T,77777))])),_e.then(([,dt,{hydratedAdapter:vt}])=>{(0,k.k_)(Tt),me=vt,be=dt.default,be._enableProjection(te.p),fe.notify()})}function ue(Tt,dt,vt=null,xt=null){return Array.isArray(Tt)?0===Tt.length?[]:Me(me,Tt,Tt[0].spatialReference,dt,vt,xt):Me(me,[Tt],Tt.spatialReference,dt,vt,xt)[0]}function Me(Tt,dt,vt,xt,gn=null,Xn=null){if((0,B.Wi)(vt)||(0,B.Wi)(xt))return dt;if(Oe(vt,xt,gn))return dt.map(qn=>(0,B.Wg)(function xe(Tt,dt,vt){return Tt?"x"in Tt?Qe(Tt,dt,new Q.Z,vt,0):"xmin"in Tt?function tt(Tt,dt,vt,xt,gn){const{xmin:Xn,ymin:qn,xmax:Wn,ymax:sr,hasZ:jn,hasM:Gr}=Tt;return St(Xn,qn,jn?Tt.zmin:gn,dt,ur,xt)?(vt.xmin=ur[0],vt.ymin=ur[1],jn&&(vt.zmin=ur[2]),St(Wn,sr,jn?Tt.zmax:gn,dt,ur,xt)?(vt.xmax=ur[0],vt.ymax=ur[1],jn&&(vt.zmax=ur[2]),Gr&&(vt.mmin=Tt.mmin,vt.mmax=Tt.mmax),vt.spatialReference=xt,vt):null):null}(Tt,dt,new se.Z,vt,0):"rings"in Tt?at(Tt,dt,new V.Z,vt,0):"paths"in Tt?function Be(Tt,dt,vt,xt,gn){const{paths:Xn,hasZ:qn,hasM:Wn}=Tt,sr=[];return Mn(Xn,qn??!1,Wn??!1,dt,sr,xt,gn)?(vt.paths=sr,vt.spatialReference=xt,vt.hasZ=qn,vt.hasM=Wn,vt):null}(Tt,dt,new U.Z,vt,0):"points"in Tt?function ve(Tt,dt,vt,xt,gn){const{points:Xn,hasZ:qn,hasM:Wn}=Tt,sr=[],jn=Xn.length,Gr=[];for(const Si of Xn)Gr.push(Si[0],Si[1],qn?Si[2]:gn);if(!Gt(Gr,dt,0,Gr,xt,0,jn))return null;for(let Si=0;Si<jn;++Si){const Os=3*Si,hs=Gr[Os],ys=Gr[Os+1];sr.push(qn&&Wn?[hs,ys,Gr[Os+2],Xn[Si][3]]:qn?[hs,ys,Gr[Os+2]]:Wn?[hs,ys,Xn[Si][2]]:[hs,ys])}return vt.points=sr,vt.spatialReference=xt,vt.hasZ=qn,vt.hasM=Wn,vt}(Tt,dt,new ie.Z,vt,0):null:null}(qn,vt,xt)));if((0,B.Wi)(gn)){const qn=q.Z.cacheKey(vt,xt);void 0!==le[qn]?gn=le[qn]:(gn=Pe(vt,xt,void 0),(0,B.Wi)(gn)&&(gn=new q.Z),le[qn]=gn)}if((0,B.Wi)(be)||(0,B.Wi)(Tt))throw new Re;return(0,B.pC)(Xn)?be._project(Tt,dt,vt,xt,gn,Xn):be._project(Tt,dt,vt,xt,gn)}function ce(Tt,dt){const vt=ge([Tt],dt);return(0,B.pC)(vt.pending)?{pending:vt.pending,geometry:null}:(0,B.pC)(vt.geometries)?{pending:null,geometry:vt.geometries[0]}:{pending:null,geometry:null}}function ge(Tt,dt){if(!Ee())for(const vt of Tt)if((0,B.pC)(vt)&&!(0,oe.fS)(vt.spatialReference,dt)&&(0,oe.JY)(vt.spatialReference)&&(0,oe.JY)(dt)&&!Oe(vt.spatialReference,dt))return(0,ee.it)(fe),{pending:ye(),geometries:null};return{pending:null,geometries:Tt.map(vt=>(0,B.Wi)(vt)?null:(0,oe.fS)(vt.spatialReference,dt)?vt:(0,oe.JY)(vt.spatialReference)&&(0,oe.JY)(dt)?function Le(Tt,dt){try{const vt=ue(Tt,dt);if(null==vt)return null;"xmin"in Tt&&"xmin"in vt&&(vt.zmin=Tt.zmin,vt.zmax=Tt.zmax);const xt=(0,de.k)(vt.type,Tt.spatialReference,dt);return(0,B.pC)(xt)&&xt(vt),vt}catch(vt){if(!(vt instanceof Re))throw vt;return null}}(vt,dt):null)}}function Pe(Tt,dt,vt=null){if((0,B.Wi)(Tt)||(0,B.Wi)(dt))return null;if((0,B.Wi)(be)||(0,B.Wi)(me))throw new Re;const xt=be._getTransformation(me,Tt,dt,vt,vt?.spatialReference);return null!==xt?q.Z.fromGE(xt):null}class Re extends O.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var Ce,Tt;function Oe(Tt,dt,vt){return!vt&&(!!(0,oe.fS)(Tt,dt)||(0,oe.JY)(Tt)&&(0,oe.JY)(dt)&&!!nr(Tt,dt,Ui))}function Ue(Tt,dt,vt,xt){return ke.apply(this,arguments)}function ke(){return ke=(0,w.Z)(function*(Tt,dt,vt,xt){if(Ee())return(0,k.Yn)(xt);if(Array.isArray(Tt)){for(const{source:gn,dest:Xn,geographicTransformation:qn}of Tt)if(!Oe(gn,Xn,qn))return ye(xt)}else if(!Oe(Tt,dt,vt))return ye(xt);return(0,k.Yn)(xt)}),ke.apply(this,arguments)}function We(Tt,dt,vt=dt.spatialReference,xt=0){return(0,B.pC)(vt)&&(0,B.pC)(Tt.spatialReference)&&(0,B.pC)(Qe(Tt,Tt.spatialReference,dt,vt,xt))}function Qe(Tt,dt,vt,xt,gn){ur[0]=Tt.x,ur[1]=Tt.y;const Xn=Tt.z;return ur[2]=void 0!==Xn?Xn:gn,Gt(ur,dt,0,ur,xt,0,1)?(vt.x=ur[0],vt.y=ur[1],vt.spatialReference=xt,void 0===Xn?(vt.z=void 0,vt.hasZ=!1):(vt.z=ur[2],vt.hasZ=!0),void 0===Tt.m?(vt.m=void 0,vt.hasM=!1):(vt.m=Tt.m,vt.hasM=!0),vt):null}function Ge({hasZ:Tt,spatialReference:dt,paths:vt},xt,gn=0){const Xn=Dt(dt,ni),qn=fr[Xn][Ce.WGS84_COMPARABLE_LON_LAT];if((0,B.Wi)(qn))return!1;const Wn=Tt?sr=>sr:sr=>(0,Y.s)(ur,sr[0],sr[1],gn);for(const sr of vt){const jn=[];for(const Gr of sr){const Si=[0,0,gn];qn(Wn(Gr),0,Si,0),jn.push(Si)}xt.push(jn)}return!0}function $e({hasZ:Tt,spatialReference:dt,rings:vt},xt,gn=0){const Xn=Dt(dt,ni),qn=fr[Xn][Ce.WGS84_COMPARABLE_LON_LAT];if((0,B.Wi)(qn))return!1;const Wn=Tt?sr=>sr:sr=>(0,Y.s)(ur,sr[0],sr[1],gn);for(const sr of vt){const jn=[];for(const Gr of sr){const Si=[0,0,gn];qn(Wn(Gr),0,Si,0),jn.push(Si)}xt.push(jn)}return!0}function Xe(Tt,dt,vt=dt.spatialReference,xt=0){return(0,B.pC)(Tt.spatialReference)&&(0,B.pC)(vt)&&(0,B.pC)(at(Tt,Tt.spatialReference,dt,vt,xt))}function at(Tt,dt,vt,xt,gn){const{rings:Xn,hasZ:qn,hasM:Wn}=Tt,sr=[];return Mn(Xn,qn??!1,Wn??!1,dt,sr,xt,gn)?(vt.rings=sr,vt.spatialReference=xt,vt.hasZ=qn,vt.hasM=Wn,vt):null}function Pt(Tt,dt,vt){return Gt(Tt,dt,0,ur,vt.spatialReference,0,1)?(vt.x=ur[0],vt.y=ur[1],vt.z=ur[2],vt):null}function mt(Tt,dt,vt,xt=0){ur[0]=Tt.x,ur[1]=Tt.y;const gn=Tt.z;return ur[2]=void 0!==gn?gn:xt,Gt(ur,Tt.spatialReference,0,dt,vt,0,1)}function St(Tt,dt,vt,xt,gn,Xn){return yr[0]=Tt,yr[1]=dt,yr[2]=vt,Gt(yr,xt,0,gn,Xn,0,1)}function ut(Tt,dt,vt,xt){return!((0,B.Wi)(dt)||(0,B.Wi)(xt)||Tt.length<2)&&(2===Tt.length&&(yr[0]=Tt[0],yr[1]=Tt[1],yr[2]=0,Tt=yr),Gt(Tt,dt,0,vt,xt,0,1))}function Ct(Tt,dt,vt){return function Rt(Tt,dt,vt){if((0,B.Wi)(dt))return!1;const xt=Dt(dt,ni),gn=fr[xt][Ce.WGS84_COMPARABLE_LON_LAT];return!(0,B.Wi)(gn)&&(gn(Tt,0,yr,0),vt!==yr&&(vt[0]=yr[0],vt[1]=yr[1],vt.length>2&&(vt[2]=yr[2])),!0)}(Tt,dt,vt)}function Gt(Tt,dt,vt,xt,gn,Xn,qn=1){const Wn=nr(dt,gn,Ui);if((0,B.Wi)(Wn))return!1;if(Wn===Bt){if(Tt===xt&&vt===Xn)return!0;const jn=vt+3*qn;for(let Gr=vt,Si=Xn;Gr<jn;Gr++,Si++)xt[Si]=Tt[Gr];return!0}const sr=vt+3*qn;for(let jn=vt,Gr=Xn;jn<sr;jn+=3,Gr+=3)Wn(Tt,jn,xt,Gr);return!0}function Mn(Tt,dt,vt,xt,gn,Xn,qn=0){const Wn=new Array;for(const jn of Tt)for(const Gr of jn)Wn.push(Gr[0],Gr[1],dt?Gr[2]:qn);if(!Gt(Wn,xt,0,Wn,Xn,0,Wn.length/3))return!1;let sr=0;gn.length=0;for(const jn of Tt){const Gr=new Array;for(const Si of jn)dt&&vt?Gr.push([Wn[sr++],Wn[sr++],Wn[sr++],Si[3]]):dt?Gr.push([Wn[sr++],Wn[sr++],Wn[sr++]]):vt?(Gr.push([Wn[sr++],Wn[sr++],Si[2]]),sr++):(Gr.push([Wn[sr++],Wn[sr++]]),sr++);gn.push(Gr)}return!0}function an(Tt,dt,vt,xt){return!(null==Tt||((0,oe.fS)(dt,xt)?((0,$.JG)(vt,Tt),0):(yr[0]=Tt[0],yr[1]=Tt[1],yr[2]=0,!Gt(yr,dt,0,yr,xt,0,1)||(vt[0]=yr[0],vt[1]=yr[1],yr[0]=Tt[2],yr[1]=Tt[3],yr[2]=0,!Gt(yr,dt,0,yr,xt,0,1)||(vt[2]=yr[0],vt[3]=yr[1],0)))))}function zn(Tt,dt,vt,xt){if((0,B.Wi)(Tt)||(0,B.Wi)(xt))return!1;const gn=Dt(Tt,ni),Xn=Dt(xt,wr);if(gn===Xn&&!rr(Xn)&&(gn!==Ce.UNKNOWN||(0,oe.fS)(Tt,xt)))return(0,G.f)(vt,dt),!0;if(rr(Xn)){const qn=fr[gn][Ce.LON_LAT],Wn=fr[Ce.LON_LAT][Xn];return!(0,B.Wi)(qn)&&!(0,B.Wi)(Wn)&&(qn(dt,0,zt,0),Wn(zt,0,Hr,0),mr(Ji*zt[0],Ji*zt[1],vt),vt[12]=Hr[0],vt[13]=Hr[1],vt[14]=Hr[2],!0)}if((Xn===Ce.WEB_MERCATOR||Xn===Ce.PLATE_CARREE)&&(gn===Ce.WGS84||gn===Ce.CGCS2000&&Xn===Ce.PLATE_CARREE||gn===Ce.SPHERICAL_ECEF||gn===Ce.WEB_MERCATOR)){const qn=fr[gn][Ce.LON_LAT],Wn=fr[Ce.LON_LAT][Xn];return!(0,B.Wi)(qn)&&!(0,B.Wi)(Wn)&&(qn(dt,0,zt,0),Wn(zt,0,Hr,0),gn===Ce.SPHERICAL_ECEF?function Et(Tt,dt,vt){mr(Tt,dt,vt),(0,G.t)(vt,vt)}(Ji*zt[0],Ji*zt[1],vt):(0,G.i)(vt),vt[12]=Hr[0],vt[13]=Hr[1],vt[14]=Hr[2],!0)}return!1}function rr(Tt){return Tt===Ce.SPHERICAL_ECEF||Tt===Ce.SPHERICAL_MARS_PCPF||Tt===Ce.SPHERICAL_MOON_PCPF}function mr(Tt,dt,vt){const xt=Math.sin(Tt),gn=Math.cos(Tt),Xn=Math.sin(dt),qn=Math.cos(dt),Wn=vt;return Wn[0]=-xt,Wn[4]=-Xn*gn,Wn[8]=qn*gn,Wn[12]=0,Wn[1]=gn,Wn[5]=-Xn*xt,Wn[9]=qn*xt,Wn[13]=0,Wn[2]=0,Wn[6]=qn,Wn[10]=Xn,Wn[14]=0,Wn[3]=0,Wn[7]=0,Wn[11]=0,Wn[15]=1,Wn}function Dt(Tt,dt){return Tt?dt.spatialReference===Tt?dt.spatialReferenceId:(dt.spatialReference=Tt,"metersPerUnit"in dt&&(dt.metersPerUnit=(0,re.c9)(Tt,1)),dt.spatialReferenceId=Tt.wkt===ae.kU.wkt?Ce.SPHERICAL_ECEF:(0,oe.oR)(Tt)?Ce.WGS84:(0,oe.sS)(Tt)?Ce.WEB_MERCATOR:(0,oe.QM)(Tt)?Ce.PLATE_CARREE:Tt.wkt===ae.pn.wkt?Ce.WGS84_ECEF:Tt.wkid===pe.W.CGCS2000?Ce.CGCS2000:Tt.wkt===ae.JL.wkt?Ce.SPHERICAL_MARS_PCPF:Tt.wkt===ae.mM.wkt?Ce.SPHERICAL_MOON_PCPF:(0,oe.BZ)(Tt)?Ce.GCSMARS2000:(0,oe.V2)(Tt)?Ce.GCSMOON2000:Ce.UNKNOWN):Ce.UNKNOWN}function Bt(Tt,dt,vt,xt){Tt!==vt&&(vt[xt++]=Tt[dt++],vt[xt++]=Tt[dt++],vt[xt]=Tt[dt])}function Ht(Tt,dt,vt,xt){vt[xt++]=Is*(Tt[dt++]/z.sv.radius),vt[xt++]=Is*(Math.PI/2-2*Math.atan(Math.exp(-Tt[dt++]/z.sv.radius))),vt[xt]=Tt[dt]}function cn(Tt,dt,vt,xt,gn){const Xn=.4999999*Math.PI,qn=(0,W.uZ)(Ji*Tt[dt+1],-Xn,Xn),Wn=Math.sin(qn);vt[xt++]=Ji*Tt[dt]*gn.radius,vt[xt++]=gn.halfSemiMajorAxis*Math.log((1+Wn)/(1-Wn)),vt[xt]=Tt[dt+2]}function un(Tt,dt,vt,xt){cn(Tt,dt,vt,xt,z.sv)}(Tt=Ce||(Ce={}))[Tt.UNKNOWN=0]="UNKNOWN",Tt[Tt.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",Tt[Tt.WGS84=2]="WGS84",Tt[Tt.WEB_MERCATOR=3]="WEB_MERCATOR",Tt[Tt.WGS84_ECEF=4]="WGS84_ECEF",Tt[Tt.CGCS2000=5]="CGCS2000",Tt[Tt.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",Tt[Tt.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",Tt[Tt.GCSMARS2000=8]="GCSMARS2000",Tt[Tt.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",Tt[Tt.GCSMOON2000=10]="GCSMOON2000",Tt[Tt.LON_LAT=11]="LON_LAT",Tt[Tt.PLATE_CARREE=12]="PLATE_CARREE";const $n=z.sv.radius*Math.PI/180,Cn=180/(z.sv.radius*Math.PI);function Nn(Tt,dt,vt,xt){vt[xt]=Tt[dt]*$n,vt[xt+1]=Tt[dt+1]*$n,vt[xt+2]=Tt[dt+2]}function tr(Tt,dt,vt,xt){vt[xt]=Tt[dt]*Cn,vt[xt+1]=Tt[dt+1]*Cn,vt[xt+2]=Tt[dt+2]}function In(Tt,dt,vt,xt,gn){const Xn=gn+Tt[dt+2],qn=Ji*Tt[dt+1],Wn=Ji*Tt[dt],sr=Math.cos(qn);vt[xt++]=Math.cos(Wn)*sr*Xn,vt[xt++]=Math.sin(Wn)*sr*Xn,vt[xt]=Math.sin(qn)*Xn}function gr(Tt,dt,vt,xt){In(Tt,dt,vt,xt,z.Z1.radius)}function Lr(Tt,dt,vt,xt){In(Tt,dt,vt,xt,z.yr.radius)}function ti(Tt,dt,vt,xt){In(Tt,dt,vt,xt,z.sv.radius)}function Jn(Tt,dt,vt,xt,gn){const Xn=Tt[dt],qn=Tt[dt+1],Wn=Tt[dt+2],sr=Math.sqrt(Xn*Xn+qn*qn+Wn*Wn),jn=(0,W.Kt)(Wn/(0===sr?1:sr)),Gr=Math.atan2(qn,Xn);vt[xt++]=Is*Gr,vt[xt++]=Is*jn,vt[xt]=sr-gn}function He(Tt,dt,vt,xt){Jn(Tt,dt,vt,xt,z.Z1.radius)}function $t(Tt,dt,vt,xt){Jn(Tt,dt,vt,xt,z.yr.radius)}function it(Tt,dt,vt,xt){Jn(Tt,dt,vt,xt,z.sv.radius)}function En(Tt,dt,vt,xt){!function Jt(Tt,dt,vt,xt,gn){const Xn=Ji*Tt[dt],qn=Ji*Tt[dt+1],Wn=Tt[dt+2],sr=Math.sin(qn),jn=Math.cos(qn),Gr=gn.radius/Math.sqrt(1-gn.eccentricitySquared*sr*sr);vt[xt++]=(Gr+Wn)*jn*Math.cos(Xn),vt[xt++]=(Gr+Wn)*jn*Math.sin(Xn),vt[xt++]=(Gr*(1-gn.eccentricitySquared)+Wn)*sr}(Tt,dt,vt,xt,z.sv)}function wn(Tt,dt,vt,xt){const gn=J.cD,Xn=Tt[dt],qn=Tt[dt+1],Wn=Tt[dt+2];let sr,jn,Gr,Si,Os,hs,ys,Gs,Fi,Bi,oi,Da,Ir,mo,hi,ai,wa,Cs,go,lr,Ft;sr=Math.abs(Wn),jn=Xn*Xn+qn*qn,Gr=Math.sqrt(jn),Si=jn+Wn*Wn,Os=Math.sqrt(Si),lr=Math.atan2(qn,Xn),hs=Wn*Wn/Si,ys=jn/Si,mo=gn.a2/Os,hi=gn.a3-gn.a4/Os,ys>.3?(Gs=sr/Os*(1+ys*(gn.a1+mo+hs*hi)/Os),go=Math.asin(Gs),Bi=Gs*Gs,Fi=Math.sqrt(1-Bi)):(Fi=Gr/Os*(1-hs*(gn.a5-mo-ys*hi)/Os),go=Math.acos(Fi),Bi=1-Fi*Fi,Gs=Math.sqrt(Bi)),oi=1-z.sv.eccentricitySquared*Bi,Da=z.sv.radius/Math.sqrt(oi),Ir=gn.a6*Da,mo=Gr-Da*Fi,hi=sr-Ir*Gs,wa=Fi*mo+Gs*hi,ai=Fi*hi-Gs*mo,Cs=ai/(Ir/oi+wa),go+=Cs,Ft=wa+ai*Cs/2,Wn<0&&(go=-go),vt[xt++]=Is*lr,vt[xt++]=Is*go,vt[xt]=Ft}const fr={[Ce.WGS84]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:Bt,[Ce.WGS84_COMPARABLE_LON_LAT]:Bt,[Ce.SPHERICAL_ECEF]:ti,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:un,[Ce.PLATE_CARREE]:Nn,[Ce.WGS84]:Bt,[Ce.WGS84_ECEF]:En},[Ce.CGCS2000]:{[Ce.CGCS2000]:Bt,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:Bt,[Ce.WGS84_COMPARABLE_LON_LAT]:Bt,[Ce.SPHERICAL_ECEF]:ti,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:Nn,[Ce.WGS84]:null,[Ce.WGS84_ECEF]:En},[Ce.GCSMARS2000]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:Bt,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:Bt,[Ce.WGS84_COMPARABLE_LON_LAT]:null,[Ce.SPHERICAL_ECEF]:null,[Ce.SPHERICAL_MARS_PCPF]:Lr,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:null,[Ce.WGS84]:null,[Ce.WGS84_ECEF]:null},[Ce.GCSMOON2000]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:Bt,[Ce.LON_LAT]:Bt,[Ce.WGS84_COMPARABLE_LON_LAT]:null,[Ce.SPHERICAL_ECEF]:null,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:gr,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:null,[Ce.WGS84]:null,[Ce.WGS84_ECEF]:null},[Ce.WEB_MERCATOR]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:Ht,[Ce.WGS84_COMPARABLE_LON_LAT]:Ht,[Ce.SPHERICAL_ECEF]:function on(Tt,dt,vt,xt){Ht(Tt,dt,vt,xt),ti(vt,xt,vt,xt)},[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:Bt,[Ce.PLATE_CARREE]:function It(Tt,dt,vt,xt){Ht(Tt,dt,vt,xt),Nn(vt,xt,vt,xt)},[Ce.WGS84]:Ht,[Ce.WGS84_ECEF]:function rn(Tt,dt,vt,xt){Ht(Tt,dt,vt,xt),En(vt,xt,vt,xt)}},[Ce.WGS84_ECEF]:{[Ce.CGCS2000]:wn,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:wn,[Ce.WGS84_COMPARABLE_LON_LAT]:wn,[Ce.SPHERICAL_ECEF]:function Hn(Tt,dt,vt,xt){wn(Tt,dt,vt,xt),ti(vt,xt,vt,xt)},[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:function Sr(Tt,dt,vt,xt){wn(Tt,dt,vt,xt),un(vt,xt,vt,xt)},[Ce.PLATE_CARREE]:function Wt(Tt,dt,vt,xt){wn(Tt,dt,vt,xt),Nn(vt,xt,vt,xt)},[Ce.WGS84]:wn,[Ce.WGS84_ECEF]:Bt},[Ce.SPHERICAL_ECEF]:{[Ce.CGCS2000]:it,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:it,[Ce.WGS84_COMPARABLE_LON_LAT]:it,[Ce.SPHERICAL_ECEF]:Bt,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:function ft(Tt,dt,vt,xt){it(Tt,dt,vt,xt),un(vt,xt,vt,xt)},[Ce.PLATE_CARREE]:function Qt(Tt,dt,vt,xt){it(Tt,dt,vt,xt),Nn(vt,xt,vt,xt)},[Ce.WGS84]:it,[Ce.WGS84_ECEF]:function jt(Tt,dt,vt,xt){it(Tt,dt,vt,xt),En(vt,xt,vt,xt)}},[Ce.SPHERICAL_MARS_PCPF]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:$t,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:$t,[Ce.WGS84_COMPARABLE_LON_LAT]:null,[Ce.SPHERICAL_ECEF]:null,[Ce.SPHERICAL_MARS_PCPF]:Bt,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:null,[Ce.WGS84]:null,[Ce.WGS84_ECEF]:null},[Ce.SPHERICAL_MOON_PCPF]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:He,[Ce.LON_LAT]:He,[Ce.WGS84_COMPARABLE_LON_LAT]:null,[Ce.SPHERICAL_ECEF]:null,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:Bt,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:null,[Ce.WGS84]:null,[Ce.WGS84_ECEF]:null},[Ce.UNKNOWN]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:null,[Ce.WGS84_COMPARABLE_LON_LAT]:null,[Ce.SPHERICAL_ECEF]:null,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:Bt,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:null,[Ce.WGS84]:null,[Ce.WGS84_ECEF]:null},[Ce.LON_LAT]:{[Ce.CGCS2000]:Bt,[Ce.GCSMARS2000]:Bt,[Ce.GCSMOON2000]:Bt,[Ce.LON_LAT]:Bt,[Ce.WGS84_COMPARABLE_LON_LAT]:Bt,[Ce.SPHERICAL_ECEF]:ti,[Ce.SPHERICAL_MARS_PCPF]:Lr,[Ce.SPHERICAL_MOON_PCPF]:gr,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:un,[Ce.PLATE_CARREE]:Nn,[Ce.WGS84]:Bt,[Ce.WGS84_ECEF]:En},[Ce.WGS84_COMPARABLE_LON_LAT]:{[Ce.CGCS2000]:null,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:Bt,[Ce.WGS84_COMPARABLE_LON_LAT]:Bt,[Ce.SPHERICAL_ECEF]:ti,[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:null,[Ce.PLATE_CARREE]:Nn,[Ce.WGS84]:Bt,[Ce.WGS84_ECEF]:En},[Ce.PLATE_CARREE]:{[Ce.CGCS2000]:tr,[Ce.GCSMARS2000]:null,[Ce.GCSMOON2000]:null,[Ce.LON_LAT]:tr,[Ce.WGS84_COMPARABLE_LON_LAT]:tr,[Ce.SPHERICAL_ECEF]:function Rn(Tt,dt,vt,xt){tr(Tt,dt,vt,xt),ti(vt,xt,vt,xt)},[Ce.SPHERICAL_MARS_PCPF]:null,[Ce.SPHERICAL_MOON_PCPF]:null,[Ce.UNKNOWN]:null,[Ce.WEB_MERCATOR]:function yt(Tt,dt,vt,xt){tr(Tt,dt,vt,xt),un(vt,xt,vt,xt)},[Ce.PLATE_CARREE]:Bt,[Ce.WGS84]:tr,[Ce.WGS84_ECEF]:function Vt(Tt,dt,vt,xt){tr(Tt,dt,vt,xt),En(vt,xt,vt,xt)}}};function nr(Tt,dt,vt=Zr()){return(0,B.Wi)(Tt)||(0,B.Wi)(dt)?null:function $r(Tt,dt,vt){if((0,B.Wi)(Tt)||(0,B.Wi)(dt)||vt.source.spatialReference===Tt&&vt.dest.spatialReference===dt)return vt;const xt=Dt(Tt,vt.source),gn=Dt(dt,vt.dest);return vt.projector=xt===Ce.UNKNOWN&&gn===Ce.UNKNOWN?(0,oe.fS)(Tt,dt)?Bt:null:fr[xt][gn],vt}(Tt,dt,vt).projector}function Zr(){return{source:{spatialReference:null,spatialReferenceId:Ce.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Ce.UNKNOWN,metersPerUnit:1},projector:Bt}}const ni={spatialReference:null,spatialReferenceId:Ce.UNKNOWN},wr={spatialReference:null,spatialReferenceId:Ce.UNKNOWN},Ui=Zr(),Ji=(Zr(),(0,W.Vl)(1)),Is=(0,W.BV)(1),yr=(0,ne.c)(),zt=(0,ne.c)(),Hr=(0,ne.c)(),ur=(0,ne.c)();(0,ne.c)()},94425:(j,F,T)=>{"use strict";T.d(F,{Z1:()=>B,sv:()=>O,yr:()=>W});class w{constructor(re,ee,Z,G){this.semiMajorAxis=re,this.flattening=ee,this.outerAtmosphereRimWidth=Z,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=G||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const O=new w(6378137,1/298.257223563,3e5,.006694379990137799),W=new w(3396190,1/169.8944472236118,23e4),B=new w(1737400,0,0)},98346:(j,F,T)=>{"use strict";T.d(F,{Z:()=>W});let w=0;class O{static fromGE(k){const re=new O;return re._wkt=k.wkt,re._wkid=k.wkid,re._isInverse=k.isInverse,re}constructor(k){this.uid=w++,k?(this._wkt=null!=k.wkt?k.wkt:null,this._wkid=null!=k.wkid?k.wkid:-1,this._isInverse=null!=k.isInverse&&!0===k.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(k){this._wkt=k,this.uid=w++}get wkid(){return this._wkid}set wkid(k){this._wkid=k,this.uid=w++}get isInverse(){return this._isInverse}set isInverse(k){this._isInverse=k,this.uid=w++}getInverse(){const k=new O;return k._wkt=this.wkt,k._wkid=this._wkid,k._isInverse=!this.isInverse,k}}class W{static cacheKey(k,re){return[null!=k.wkid?k.wkid.toString():"-1",null!=k.wkt?k.wkt.toString():"",null!=re.wkid?re.wkid.toString():"-1",null!=re.wkt?re.wkt.toString():""].join(",")}static fromGE(k){const re=new W;let ee="";for(const Z of k.steps){const G=O.fromGE(Z);re.steps.push(G),ee+=G.uid.toString()+","}return re._cachedProjection={},re._gtlistentry=null,re._chain=ee,re}constructor(k){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,k&&k.steps)for(const re of k.steps)this.steps.push(re instanceof O?re:new O({wkid:re.wkid,wkt:re.wkt,isInverse:re.isInverse}))}getInverse(){const k=new W;k.steps=[];for(let re=this.steps.length-1;re>=0;re--)k.steps.push(this.steps[re].getInverse());return k}getGTListEntry(){let k="";for(const re of this.steps)k+=re.uid.toString()+",";return k!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=k),this._gtlistentry}assignCachedGe(k,re,ee){this._cachedProjection[W.cacheKey(k,re)]=ee}getCachedGeTransformation(k,re){let ee="";for(const G of this.steps)ee+=G.uid.toString()+",";ee!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=ee);const Z=this._cachedProjection[W.cacheKey(k,re)];return void 0===Z?null:Z}}},6178:(j,F,T)=>{"use strict";var w,O;T.d(F,{W:()=>w}),(O=w||(w={}))[O.CGCS2000=4490]="CGCS2000",O[O.GCSMARS2000=104971]="GCSMARS2000",O[O.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",O[O.GCSMOON2000=104903]="GCSMOON2000"},84029:(j,F,T)=>{"use strict";let w;T.d(F,{Z:()=>O});const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(w=2e3;w<=2045;w++)O[w]=0;for(w=2056;w<=2065;w++)O[w]=0;for(w=2067;w<=2135;w++)O[w]=0;for(w=2137;w<=2154;w++)O[w]=0;for(w=2161;w<=2170;w++)O[w]=0;for(w=2172;w<=2193;w++)O[w]=0;for(w=2195;w<=2198;w++)O[w]=0;for(w=2200;w<=2203;w++)O[w]=0;for(w=2205;w<=2217;w++)O[w]=0;for(w=2222;w<=2224;w++)O[w]=1;for(w=2225;w<=2250;w++)O[w]=2;for(w=2251;w<=2253;w++)O[w]=1;for(w=2257;w<=2264;w++)O[w]=2;for(w=2274;w<=2279;w++)O[w]=2;for(w=2280;w<=2282;w++)O[w]=1;for(w=2283;w<=2289;w++)O[w]=2;for(w=2290;w<=2292;w++)O[w]=0;for(w=2308;w<=2313;w++)O[w]=0;for(w=2315;w<=2491;w++)O[w]=0;for(w=2494;w<=2866;w++)O[w]=0;for(w=2867;w<=2869;w++)O[w]=1;for(w=2870;w<=2888;w++)O[w]=2;for(w=2891;w<=2895;w++)O[w]=2;for(w=2896;w<=2898;w++)O[w]=1;for(w=2902;w<=2908;w++)O[w]=2;for(w=2915;w<=2920;w++)O[w]=2;for(w=2921;w<=2923;w++)O[w]=1;for(w=2924;w<=2930;w++)O[w]=2;for(w=2931;w<=2962;w++)O[w]=0;for(w=2964;w<=2968;w++)O[w]=2;for(w=2969;w<=2973;w++)O[w]=0;for(w=2975;w<=2991;w++)O[w]=0;for(w=2995;w<=3051;w++)O[w]=0;for(w=3054;w<=3079;w++)O[w]=0;for(w=3081;w<=3088;w++)O[w]=0;for(w=3092;w<=3101;w++)O[w]=0;for(w=3106;w<=3138;w++)O[w]=0;for(w=3146;w<=3151;w++)O[w]=0;for(w=3153;w<=3166;w++)O[w]=0;for(w=3168;w<=3172;w++)O[w]=0;for(w=3174;w<=3203;w++)O[w]=0;for(w=3294;w<=3358;w++)O[w]=0;for(w=3367;w<=3403;w++)O[w]=0;for(w=3408;w<=3416;w++)O[w]=0;for(w=3417;w<=3438;w++)O[w]=2;for(w=3441;w<=3446;w++)O[w]=2;for(w=3447;w<=3450;w++)O[w]=0;for(w=3451;w<=3459;w++)O[w]=2;for(w=3460;w<=3478;w++)O[w]=0;for(w=3554;w<=3559;w++)O[w]=0;for(w=3560;w<=3570;w++)O[w]=2;for(w=3571;w<=3581;w++)O[w]=0;for(w=3594;w<=3597;w++)O[w]=0;for(w=3601;w<=3604;w++)O[w]=0;for(w=3637;w<=3639;w++)O[w]=0;for(w=3665;w<=3667;w++)O[w]=0;for(w=3693;w<=3695;w++)O[w]=0;for(w=3701;w<=3727;w++)O[w]=0;for(w=3728;w<=3739;w++)O[w]=2;for(w=3740;w<=3751;w++)O[w]=0;for(w=3753;w<=3760;w++)O[w]=2;for(w=3761;w<=3773;w++)O[w]=0;for(w=3775;w<=3777;w++)O[w]=0;for(w=3779;w<=3781;w++)O[w]=0;for(w=3783;w<=3785;w++)O[w]=0;for(w=3788;w<=3791;w++)O[w]=0;for(w=3797;w<=3802;w++)O[w]=0;for(w=3814;w<=3816;w++)O[w]=0;for(w=3825;w<=3829;w++)O[w]=0;for(w=3832;w<=3841;w++)O[w]=0;for(w=3844;w<=3852;w++)O[w]=0;for(w=3873;w<=3885;w++)O[w]=0;for(w=3890;w<=3893;w++)O[w]=0;for(w=3907;w<=3912;w++)O[w]=0;for(w=3942;w<=3950;w++)O[w]=0;for(w=3968;w<=3970;w++)O[w]=0;for(w=3973;w<=3976;w++)O[w]=0;for(w=3986;w<=3989;w++)O[w]=0;for(w=3994;w<=3997;w++)O[w]=0;for(w=4048;w<=4051;w++)O[w]=0;for(w=4056;w<=4063;w++)O[w]=0;for(w=4093;w<=4096;w++)O[w]=0;for(w=4390;w<=4398;w++)O[w]=0;for(w=4399;w<=4413;w++)O[w]=2;for(w=4418;w<=4433;w++)O[w]=2;for(w=4455;w<=4457;w++)O[w]=2;for(w=4484;w<=4489;w++)O[w]=0;for(w=4491;w<=4554;w++)O[w]=0;for(w=4568;w<=4589;w++)O[w]=0;for(w=4652;w<=4656;w++)O[w]=0;for(w=4766;w<=4800;w++)O[w]=0;for(w=5014;w<=5016;w++)O[w]=0;for(w=5069;w<=5072;w++)O[w]=0;for(w=5105;w<=5130;w++)O[w]=0;for(w=5173;w<=5188;w++)O[w]=0;for(w=5253;w<=5259;w++)O[w]=0;for(w=5269;w<=5275;w++)O[w]=0;for(w=5292;w<=5311;w++)O[w]=0;for(w=5329;w<=5331;w++)O[w]=0;for(w=5343;w<=5349;w++)O[w]=0;for(w=5355;w<=5357;w++)O[w]=0;for(w=5387;w<=5389;w++)O[w]=0;for(w=5459;w<=5463;w++)O[w]=0;for(w=5479;w<=5482;w++)O[w]=0;for(w=5518;w<=5520;w++)O[w]=0;for(w=5530;w<=5539;w++)O[w]=0;for(w=5550;w<=5552;w++)O[w]=0;for(w=5562;w<=5583;w++)O[w]=0;for(w=5623;w<=5625;w++)O[w]=2;for(w=5631;w<=5639;w++)O[w]=0;for(w=5649;w<=5653;w++)O[w]=0;for(w=5663;w<=5680;w++)O[w]=0;for(w=5682;w<=5685;w++)O[w]=0;for(w=5875;w<=5877;w++)O[w]=0;for(w=5896;w<=5899;w++)O[w]=0;for(w=5921;w<=5940;w++)O[w]=0;for(w=6050;w<=6125;w++)O[w]=0;for(w=6244;w<=6275;w++)O[w]=0;for(w=6328;w<=6348;w++)O[w]=0;for(w=6350;w<=6356;w++)O[w]=0;for(w=6366;w<=6372;w++)O[w]=0;for(w=6381;w<=6387;w++)O[w]=0;for(w=6393;w<=6404;w++)O[w]=0;for(w=6480;w<=6483;w++)O[w]=0;for(w=6511;w<=6514;w++)O[w]=0;for(w=6579;w<=6581;w++)O[w]=0;for(w=6619;w<=6624;w++)O[w]=0;for(w=6625;w<=6627;w++)O[w]=2;for(w=6628;w<=6632;w++)O[w]=0;for(w=6634;w<=6637;w++)O[w]=0;for(w=6669;w<=6692;w++)O[w]=0;for(w=6707;w<=6709;w++)O[w]=0;for(w=6720;w<=6723;w++)O[w]=0;for(w=6732;w<=6738;w++)O[w]=0;for(w=6931;w<=6933;w++)O[w]=0;for(w=6956;w<=6959;w++)O[w]=0;for(w=7005;w<=7007;w++)O[w]=0;for(w=7057;w<=7070;w++)O[w]=2;for(w=7074;w<=7082;w++)O[w]=0;for(w=7109;w<=7118;w++)O[w]=0;for(w=7119;w<=7127;w++)O[w]=1;for(w=7374;w<=7376;w++)O[w]=0;for(w=7528;w<=7586;w++)O[w]=0;for(w=7587;w<=7645;w++)O[w]=2;for(w=7692;w<=7696;w++)O[w]=0;for(w=7755;w<=7787;w++)O[w]=0;for(w=7791;w<=7795;w++)O[w]=0;for(w=7799;w<=7801;w++)O[w]=0;for(w=7803;w<=7805;w++)O[w]=0;for(w=7825;w<=7831;w++)O[w]=0;for(w=7845;w<=7859;w++)O[w]=0;for(w=8013;w<=8032;w++)O[w]=0;for(w=8065;w<=8068;w++)O[w]=1;for(w=8518;w<=8529;w++)O[w]=2;for(w=8533;w<=8536;w++)O[w]=2;for(w=8538;w<=8540;w++)O[w]=2;for(w=8677;w<=8679;w++)O[w]=0;for(w=8836;w<=8840;w++)O[w]=0;for(w=8857;w<=8859;w++)O[w]=0;for(w=8908;w<=8910;w++)O[w]=0;for(w=9154;w<=9159;w++)O[w]=0;for(w=9205;w<=9218;w++)O[w]=0;for(w=9271;w<=9273;w++)O[w]=0;for(w=9295;w<=9297;w++)O[w]=0;for(w=9356;w<=9360;w++)O[w]=0;for(w=9404;w<=9407;w++)O[w]=0;for(w=9476;w<=9482;w++)O[w]=0;for(w=9487;w<=9494;w++)O[w]=0;for(w=9697;w<=9699;w++)O[w]=0;for(w=9821;w<=9865;w++)O[w]=0;for(w=20002;w<=20032;w++)O[w]=0;for(w=20047;w<=20049;w++)O[w]=0;for(w=20062;w<=20092;w++)O[w]=0;for(w=20135;w<=20138;w++)O[w]=0;for(w=20248;w<=20258;w++)O[w]=0;for(w=20348;w<=20358;w++)O[w]=0;for(w=20436;w<=20440;w++)O[w]=0;for(w=20822;w<=20824;w++)O[w]=0;for(w=20904;w<=20932;w++)O[w]=0;for(w=20934;w<=20936;w++)O[w]=0;for(w=21004;w<=21032;w++)O[w]=0;for(w=21035;w<=21037;w++)O[w]=0;for(w=21095;w<=21097;w++)O[w]=0;for(w=21148;w<=21150;w++)O[w]=0;for(w=21207;w<=21264;w++)O[w]=0;for(w=21307;w<=21364;w++)O[w]=0;for(w=21413;w<=21423;w++)O[w]=0;for(w=21453;w<=21463;w++)O[w]=0;for(w=21473;w<=21483;w++)O[w]=0;for(w=21780;w<=21782;w++)O[w]=0;for(w=21891;w<=21894;w++)O[w]=0;for(w=21896;w<=21899;w++)O[w]=0;for(w=22171;w<=22177;w++)O[w]=0;for(w=22181;w<=22187;w++)O[w]=0;for(w=22191;w<=22197;w++)O[w]=0;for(w=22207;w<=22222;w++)O[w]=0;for(w=22234;w<=22236;w++)O[w]=0;for(w=22243;w<=22250;w++)O[w]=0;for(w=22262;w<=22265;w++)O[w]=0;for(w=22307;w<=22322;w++)O[w]=0;for(w=22348;w<=22357;w++)O[w]=0;for(w=22407;w<=22422;w++)O[w]=0;for(w=22462;w<=22465;w++)O[w]=0;for(w=22521;w<=22525;w++)O[w]=0;for(w=22607;w<=22622;w++)O[w]=0;for(w=22641;w<=22646;w++)O[w]=0;for(w=22648;w<=22657;w++)O[w]=0;for(w=22707;w<=22722;w++)O[w]=0;for(w=22762;w<=22765;w++)O[w]=0;for(w=22991;w<=22994;w++)O[w]=0;for(w=23028;w<=23038;w++)O[w]=0;for(w=23830;w<=23853;w++)O[w]=0;for(w=23866;w<=23872;w++)O[w]=0;for(w=23877;w<=23884;w++)O[w]=0;for(w=23886;w<=23894;w++)O[w]=0;for(w=23946;w<=23948;w++)O[w]=0;for(w=24311;w<=24313;w++)O[w]=0;for(w=24342;w<=24347;w++)O[w]=0;for(w=24370;w<=24374;w++)O[w]=10;for(w=24375;w<=24381;w++)O[w]=0;for(w=24718;w<=24721;w++)O[w]=0;for(w=24817;w<=24821;w++)O[w]=0;for(w=24877;w<=24882;w++)O[w]=0;for(w=24891;w<=24893;w++)O[w]=0;for(w=25391;w<=25395;w++)O[w]=0;for(w=25828;w<=25838;w++)O[w]=0;for(w=26191;w<=26195;w++)O[w]=0;for(w=26391;w<=26393;w++)O[w]=0;for(w=26701;w<=26722;w++)O[w]=0;for(w=26729;w<=26799;w++)O[w]=2;for(w=26801;w<=26803;w++)O[w]=2;for(w=26811;w<=26813;w++)O[w]=2;for(w=26847;w<=26870;w++)O[w]=2;for(w=26891;w<=26899;w++)O[w]=0;for(w=26901;w<=26923;w++)O[w]=0;for(w=26929;w<=26946;w++)O[w]=0;for(w=26948;w<=26998;w++)O[w]=0;for(w=27037;w<=27040;w++)O[w]=0;for(w=27205;w<=27232;w++)O[w]=0;for(w=27258;w<=27260;w++)O[w]=0;for(w=27391;w<=27398;w++)O[w]=0;for(w=27561;w<=27564;w++)O[w]=0;for(w=27571;w<=27574;w++)O[w]=0;for(w=27581;w<=27584;w++)O[w]=0;for(w=27591;w<=27594;w++)O[w]=0;for(w=28191;w<=28193;w++)O[w]=0;for(w=28348;w<=28358;w++)O[w]=0;for(w=28402;w<=28432;w++)O[w]=0;for(w=28462;w<=28492;w++)O[w]=0;for(w=29118;w<=29122;w++)O[w]=0;for(w=29168;w<=29172;w++)O[w]=0;for(w=29177;w<=29185;w++)O[w]=0;for(w=29187;w<=29195;w++)O[w]=0;for(w=29900;w<=29903;w++)O[w]=0;for(w=30161;w<=30179;w++)O[w]=0;for(w=30491;w<=30494;w++)O[w]=0;for(w=30729;w<=30732;w++)O[w]=0;for(w=31251;w<=31259;w++)O[w]=0;for(w=31265;w<=31268;w++)O[w]=0;for(w=31275;w<=31279;w++)O[w]=0;for(w=31281;w<=31297;w++)O[w]=0;for(w=31461;w<=31469;w++)O[w]=0;for(w=31491;w<=31495;w++)O[w]=0;for(w=31917;w<=31922;w++)O[w]=0;for(w=31965;w<=32e3;w++)O[w]=0;for(w=32001;w<=32003;w++)O[w]=2;for(w=32005;w<=32031;w++)O[w]=2;for(w=32033;w<=32060;w++)O[w]=2;for(w=32064;w<=32067;w++)O[w]=2;for(w=32074;w<=32077;w++)O[w]=2;for(w=32081;w<=32086;w++)O[w]=0;for(w=32107;w<=32130;w++)O[w]=0;for(w=32133;w<=32159;w++)O[w]=0;for(w=32164;w<=32167;w++)O[w]=2;for(w=32180;w<=32199;w++)O[w]=0;for(w=32201;w<=32260;w++)O[w]=0;for(w=32301;w<=32360;w++)O[w]=0;for(w=32601;w<=32662;w++)O[w]=0;for(w=32664;w<=32667;w++)O[w]=2;for(w=32701;w<=32761;w++)O[w]=0;for(w=53001;w<=53004;w++)O[w]=0;for(w=53008;w<=53019;w++)O[w]=0;for(w=53021;w<=53032;w++)O[w]=0;for(w=53034;w<=53037;w++)O[w]=0;for(w=53042;w<=53046;w++)O[w]=0;for(w=53074;w<=53080;w++)O[w]=0;for(w=54001;w<=54004;w++)O[w]=0;for(w=54008;w<=54019;w++)O[w]=0;for(w=54021;w<=54032;w++)O[w]=0;for(w=54034;w<=54037;w++)O[w]=0;for(w=54042;w<=54046;w++)O[w]=0;for(w=54048;w<=54053;w++)O[w]=0;for(w=54074;w<=54080;w++)O[w]=0;for(w=54098;w<=54101;w++)O[w]=0;for(w=102001;w<=102040;w++)O[w]=0;for(w=102042;w<=102063;w++)O[w]=0;for(w=102065;w<=102067;w++)O[w]=0;for(w=102070;w<=102117;w++)O[w]=0;for(w=102122;w<=102216;w++)O[w]=0;for(w=102221;w<=102377;w++)O[w]=0;for(w=102382;w<=102388;w++)O[w]=0;for(w=102389;w<=102398;w++)O[w]=2;for(w=102399;w<=102444;w++)O[w]=0;for(w=102445;w<=102447;w++)O[w]=2;for(w=102448;w<=102458;w++)O[w]=0;for(w=102459;w<=102468;w++)O[w]=2;for(w=102469;w<=102499;w++)O[w]=0;for(w=102500;w<=102519;w++)O[w]=1;for(w=102520;w<=102524;w++)O[w]=0;for(w=102525;w<=102529;w++)O[w]=2;for(w=102530;w<=102588;w++)O[w]=0;for(w=102590;w<=102598;w++)O[w]=0;for(w=102601;w<=102603;w++)O[w]=0;for(w=102605;w<=102628;w++)O[w]=0;for(w=102629;w<=102646;w++)O[w]=2;for(w=102648;w<=102700;w++)O[w]=2;for(w=102701;w<=102703;w++)O[w]=0;for(w=102707;w<=102730;w++)O[w]=2;for(w=102733;w<=102758;w++)O[w]=2;for(w=102767;w<=102900;w++)O[w]=0;for(w=102901;w<=102933;w++)O[w]=2;for(w=102934;w<=102950;w++)O[w]=13;for(w=102951;w<=102955;w++)O[w]=0;for(w=102961;w<=102963;w++)O[w]=0;for(w=102965;w<=102969;w++)O[w]=0;for(w=102971;w<=102973;w++)O[w]=0;for(w=102975;w<=102989;w++)O[w]=0;for(w=102990;w<=102992;w++)O[w]=1;for(w=102997;w<=103002;w++)O[w]=0;for(w=103003;w<=103008;w++)O[w]=2;for(w=103009;w<=103011;w++)O[w]=0;for(w=103012;w<=103014;w++)O[w]=2;for(w=103019;w<=103021;w++)O[w]=0;for(w=103022;w<=103024;w++)O[w]=2;for(w=103029;w<=103031;w++)O[w]=0;for(w=103032;w<=103034;w++)O[w]=2;for(w=103065;w<=103068;w++)O[w]=0;for(w=103074;w<=103076;w++)O[w]=0;for(w=103077;w<=103079;w++)O[w]=1;for(w=103080;w<=103082;w++)O[w]=0;for(w=103083;w<=103085;w++)O[w]=2;for(w=103090;w<=103093;w++)O[w]=0;for(w=103097;w<=103099;w++)O[w]=0;for(w=103100;w<=103102;w++)O[w]=2;for(w=103107;w<=103109;w++)O[w]=0;for(w=103110;w<=103112;w++)O[w]=2;for(w=103113;w<=103116;w++)O[w]=0;for(w=103117;w<=103120;w++)O[w]=2;for(w=103153;w<=103157;w++)O[w]=0;for(w=103158;w<=103162;w++)O[w]=2;for(w=103163;w<=103165;w++)O[w]=0;for(w=103166;w<=103168;w++)O[w]=1;for(w=103169;w<=103171;w++)O[w]=2;for(w=103186;w<=103188;w++)O[w]=0;for(w=103189;w<=103191;w++)O[w]=2;for(w=103192;w<=103195;w++)O[w]=0;for(w=103196;w<=103199;w++)O[w]=2;for(w=103200;w<=103224;w++)O[w]=0;for(w=103225;w<=103227;w++)O[w]=1;for(w=103232;w<=103237;w++)O[w]=0;for(w=103238;w<=103243;w++)O[w]=2;for(w=103244;w<=103246;w++)O[w]=0;for(w=103247;w<=103249;w++)O[w]=2;for(w=103254;w<=103256;w++)O[w]=0;for(w=103257;w<=103259;w++)O[w]=2;for(w=103264;w<=103266;w++)O[w]=0;for(w=103267;w<=103269;w++)O[w]=2;for(w=103300;w<=103375;w++)O[w]=0;for(w=103381;w<=103383;w++)O[w]=0;for(w=103384;w<=103386;w++)O[w]=1;for(w=103387;w<=103389;w++)O[w]=0;for(w=103390;w<=103392;w++)O[w]=2;for(w=103397;w<=103399;w++)O[w]=0;for(w=103400;w<=103471;w++)O[w]=2;for(w=103476;w<=103478;w++)O[w]=0;for(w=103479;w<=103481;w++)O[w]=2;for(w=103486;w<=103488;w++)O[w]=0;for(w=103489;w<=103491;w++)O[w]=2;for(w=103492;w<=103495;w++)O[w]=0;for(w=103496;w<=103499;w++)O[w]=2;for(w=103528;w<=103543;w++)O[w]=0;for(w=103544;w<=103548;w++)O[w]=2;for(w=103549;w<=103551;w++)O[w]=0;for(w=103552;w<=103554;w++)O[w]=1;for(w=103555;w<=103557;w++)O[w]=2;for(w=103558;w<=103560;w++)O[w]=0;for(w=103571;w<=103573;w++)O[w]=0;for(w=103574;w<=103576;w++)O[w]=2;for(w=103577;w<=103580;w++)O[w]=0;for(w=103581;w<=103583;w++)O[w]=2;for(w=103595;w<=103694;w++)O[w]=0;for(w=103696;w<=103699;w++)O[w]=0;for(w=103700;w<=103793;w++)O[w]=2;for(w=103794;w<=103890;w++)O[w]=0;for(w=103891;w<=103896;w++)O[w]=2;for(w=103900;w<=103971;w++)O[w]=2;for(w=103972;w<=103977;w++)O[w]=0;for(w=112e3;w<=112101;w++)O[w]=0},5548:(j,F,T)=>{"use strict";T.d(F,{BD:()=>pe,Cb:()=>$,G1:()=>se,Gv:()=>Ue,HH:()=>Z,JR:()=>Ie,KE:()=>Ee,TC:()=>Y,Tn:()=>Me,Ue:()=>k,VK:()=>ne,Wi:()=>te,Ye:()=>U,Zp:()=>_e,al:()=>re,bA:()=>fe,bZ:()=>Re,be:()=>J,bf:()=>V,cS:()=>ge,cv:()=>le,dp:()=>q,fS:()=>Ne,is:()=>Ce,op:()=>ue,pp:()=>ae,sU:()=>Q,t8:()=>ce,wp:()=>Fe,wz:()=>z,xE:()=>ke,y8:()=>Pe});var w=T(62208),O=T(2004),W=T(65401);function k(xe=ke){return[xe[0],xe[1],xe[2],xe[3],xe[4],xe[5]]}function re(xe,We,Qe,lt,ve,Te,Be=k()){return Be[0]=xe,Be[1]=We,Be[2]=Qe,Be[3]=lt,Be[4]=ve,Be[5]=Te,Be}function Z(xe,We){const Qe=isFinite(xe[2])||isFinite(xe[5]);return new O.Z(Qe?{xmin:xe[0],xmax:xe[3],ymin:xe[1],ymax:xe[4],zmin:xe[2],zmax:xe[5],spatialReference:We}:{xmin:xe[0],xmax:xe[3],ymin:xe[1],ymax:xe[4],spatialReference:We})}function Y(xe,We){xe[0]=Math.min(xe[0],We[0]),xe[1]=Math.min(xe[1],We[1]),xe[2]=Math.min(xe[2],We[2]),xe[3]=Math.max(xe[3],We[3]),xe[4]=Math.max(xe[4],We[4]),xe[5]=Math.max(xe[5],We[5])}function ne(xe,We){xe[0]=Math.min(xe[0],We[0]),xe[1]=Math.min(xe[1],We[1]),xe[3]=Math.max(xe[3],We[2]),xe[4]=Math.max(xe[4],We[3])}function ae(xe,We){xe[0]=Math.min(xe[0],We[0]),xe[1]=Math.min(xe[1],We[1]),xe[2]=Math.min(xe[2],We[2]),xe[3]=Math.max(xe[3],We[0]),xe[4]=Math.max(xe[4],We[1]),xe[5]=Math.max(xe[5],We[2])}function se(xe,We,Qe=0,lt=We.length/3){let ve=xe[0],Te=xe[1],Be=xe[2],Ge=xe[3],$e=xe[4],Xe=xe[5];for(let at=0;at<lt;at++)ve=Math.min(ve,We[Qe+3*at]),Te=Math.min(Te,We[Qe+3*at+1]),Be=Math.min(Be,We[Qe+3*at+2]),Ge=Math.max(Ge,We[Qe+3*at]),$e=Math.max($e,We[Qe+3*at+1]),Xe=Math.max(Xe,We[Qe+3*at+2]);xe[0]=ve,xe[1]=Te,xe[2]=Be,xe[3]=Ge,xe[4]=$e,xe[5]=Xe}function te(xe,We,Qe){const lt=We.length;let ve=xe[0],Te=xe[1],Be=xe[2],Ge=xe[3],$e=xe[4],Xe=xe[5];if(Qe)for(let at=0;at<lt;at++){const we=We[at];ve=Math.min(ve,we[0]),Te=Math.min(Te,we[1]),Be=Math.min(Be,we[2]),Ge=Math.max(Ge,we[0]),$e=Math.max($e,we[1]),Xe=Math.max(Xe,we[2])}else for(let at=0;at<lt;at++){const we=We[at];ve=Math.min(ve,we[0]),Te=Math.min(Te,we[1]),Ge=Math.max(Ge,we[0]),$e=Math.max($e,we[1])}xe[0]=ve,xe[1]=Te,xe[2]=Be,xe[3]=Ge,xe[4]=$e,xe[5]=Xe}function Q(xe){for(let We=0;We<6;We++)if(!isFinite(xe[We]))return!1;return!0}function V(xe){return xe[0]>=xe[3]?0:xe[3]-xe[0]}function U(xe){return xe[1]>=xe[4]?0:xe[4]-xe[1]}function $(xe){return xe[2]>=xe[5]?0:xe[5]-xe[2]}function z(xe){const We=V(xe),Qe=$(xe),lt=U(xe);return Math.sqrt(We*We+Qe*Qe+lt*lt)}function J(xe,We=[0,0,0]){return We[0]=xe[0]+V(xe)/2,We[1]=xe[1]+U(xe)/2,We[2]=xe[2]+$(xe)/2,We}function q(xe,We=[0,0,0]){return We[0]=V(xe),We[1]=U(xe),We[2]=$(xe),We}function pe(xe,We){return We[0]>=xe[0]&&We[1]>=xe[1]&&We[2]>=xe[2]&&We[0]<=xe[3]&&We[1]<=xe[4]&&We[2]<=xe[5]}function _e(xe,We){return!!(0,w.Wi)(We)||function me(xe,We){return Math.max(We[0],xe[0])<=Math.min(We[3],xe[3])&&Math.max(We[1],xe[1])<=Math.min(We[4],xe[4])&&Math.max(We[2],xe[2])<=Math.min(We[5],xe[5])}(xe,We)}function le(xe,We,Qe,lt,ve=xe){return ve[0]=xe[0]+We,ve[1]=xe[1]+Qe,ve[2]=xe[2]+lt,ve[3]=xe[3]+We,ve[4]=xe[4]+Qe,ve[5]=xe[5]+lt,ve}function fe(xe,We,Qe=xe){const lt=xe[0]+V(xe)/2,ve=xe[1]+U(xe)/2,Te=xe[2]+$(xe)/2;return Qe[0]=lt+(xe[0]-lt)*We,Qe[1]=ve+(xe[1]-ve)*We,Qe[2]=Te+(xe[2]-Te)*We,Qe[3]=lt+(xe[3]-lt)*We,Qe[4]=ve+(xe[4]-ve)*We,Qe[5]=Te+(xe[5]-Te)*We,Qe}function Ee(xe,We){return We[0]=xe[0],We[1]=xe[1],We[2]=xe[2],We}function ue(xe,We,Qe=xe){return Qe[0]=We[0],Qe[1]=We[1],Qe[2]=We[2],Qe!==xe&&(Qe[3]=xe[3],Qe[4]=xe[4],Qe[5]=xe[5]),Qe}function Me(xe,We,Qe=xe){return Qe[3]=We[0],Qe[4]=We[1],Qe[5]=We[2],Qe!==xe&&(Qe[0]=xe[0],Qe[1]=xe[1],Qe[2]=xe[2]),xe}function ce(xe,We){return xe[0]=We[0],xe[1]=We[1],xe[2]=We[2],xe[3]=We[3],xe[4]=We[4],xe[5]=We[5],xe}function ge(xe){return xe?ce(xe,Ue):k(Ue)}function Pe(xe,We){return We||(We=(0,W.Ue)()),We[0]=xe[0],We[1]=xe[1],We[2]=xe[3],We[3]=xe[4],We}function Ie(xe,We){return xe[0]=We[0],xe[1]=We[1],xe[2]=Number.NEGATIVE_INFINITY,xe[3]=We[2],xe[4]=We[3],xe[5]=Number.POSITIVE_INFINITY,xe}function Re(xe,We,Qe,lt,ve){return xe[0]=We,xe[1]=Qe,xe[2]=Number.NEGATIVE_INFINITY,xe[3]=lt,xe[4]=ve,xe[5]=Number.POSITIVE_INFINITY,xe}function Ce(xe){return 6===xe.length}function Fe(xe){return 0===V(xe)&&0===U(xe)&&0===$(xe)}function Ne(xe,We,Qe){if((0,w.Wi)(xe)||(0,w.Wi)(We))return xe===We;if(!Ce(xe)||!Ce(We))return!1;if(Qe){for(let lt=0;lt<xe.length;lt++)if(!Qe(xe[lt],We[lt]))return!1}else for(let lt=0;lt<xe.length;lt++)if(xe[lt]!==We[lt])return!1;return!0}const Ue=[1/0,1/0,1/0,-1/0,-1/0,-1/0],ke=[0,0,0,0,0,0];k()},65401:(j,F,T)=>{"use strict";T.d(F,{BD:()=>z,Cb:()=>V,Gv:()=>Fe,HH:()=>ne,Ho:()=>ae,JG:()=>Z,Qn:()=>oe,SO:()=>U,Ue:()=>re,Wi:()=>ie,Zm:()=>be,al:()=>G,be:()=>$,bf:()=>Q,cS:()=>ge,cv:()=>ye,d9:()=>ee,fS:()=>Re,jE:()=>pe,jn:()=>se,kK:()=>me,oJ:()=>Y,r3:()=>_e,sU:()=>te}),T(8314),T(21286);var W=T(62208),B=T(2004);function re(Oe=Ne){return[Oe[0],Oe[1],Oe[2],Oe[3]]}function ee(Oe){return[Oe[0],Oe[1],Oe[2],Oe[3]]}function Z(Oe,Ue){return Oe!==Ue&&(Oe[0]=Ue[0],Oe[1]=Ue[1],Oe[2]=Ue[2],Oe[3]=Ue[3]),Oe}function G(Oe,Ue,ke,Ye,xe=re()){return xe[0]=Oe,xe[1]=Ue,xe[2]=ke,xe[3]=Ye,xe}function Y(Oe,Ue=re()){return Ue[0]=Oe.xmin,Ue[1]=Oe.ymin,Ue[2]=Oe.xmax,Ue[3]=Oe.ymax,Ue}function ne(Oe,Ue){return new B.Z({xmin:Oe[0],ymin:Oe[1],xmax:Oe[2],ymax:Oe[3],spatialReference:Ue})}function ae(Oe,Ue){Ue[0]<Oe[0]&&(Oe[0]=Ue[0]),Ue[0]>Oe[2]&&(Oe[2]=Ue[0]),Ue[1]<Oe[1]&&(Oe[1]=Ue[1]),Ue[1]>Oe[3]&&(Oe[3]=Ue[1])}function se(Oe,Ue,ke){if((0,W.Wi)(Ue))Z(ke,Oe);else if("length"in Ue)Pe(Ue)?(ke[0]=Math.min(Oe[0],Ue[0]),ke[1]=Math.min(Oe[1],Ue[1]),ke[2]=Math.max(Oe[2],Ue[2]),ke[3]=Math.max(Oe[3],Ue[3])):2!==Ue.length&&3!==Ue.length||(ke[0]=Math.min(Oe[0],Ue[0]),ke[1]=Math.min(Oe[1],Ue[1]),ke[2]=Math.max(Oe[2],Ue[0]),ke[3]=Math.max(Oe[3],Ue[1]));else switch(Ue.type){case"extent":ke[0]=Math.min(Oe[0],Ue.xmin),ke[1]=Math.min(Oe[1],Ue.ymin),ke[2]=Math.max(Oe[2],Ue.xmax),ke[3]=Math.max(Oe[3],Ue.ymax);break;case"point":ke[0]=Math.min(Oe[0],Ue.x),ke[1]=Math.min(Oe[1],Ue.y),ke[2]=Math.max(Oe[2],Ue.x),ke[3]=Math.max(Oe[3],Ue.y)}}function ie(Oe,Ue,ke=Oe){const Ye=Ue.length;let xe=Oe[0],We=Oe[1],Qe=Oe[2],lt=Oe[3];for(let ve=0;ve<Ye;ve++){const Te=Ue[ve];xe=Math.min(xe,Te[0]),We=Math.min(We,Te[1]),Qe=Math.max(Qe,Te[0]),lt=Math.max(lt,Te[1])}return ke[0]=xe,ke[1]=We,ke[2]=Qe,ke[3]=lt,ke}function te(Oe){for(let Ue=0;Ue<4;Ue++)if(!isFinite(Oe[Ue]))return!1;return!0}function Q(Oe){return(0,W.Wi)(Oe)||Oe[0]>=Oe[2]?0:Oe[2]-Oe[0]}function V(Oe){return Oe[1]>=Oe[3]?0:Oe[3]-Oe[1]}function U(Oe){return Q(Oe)*V(Oe)}function $(Oe,Ue=[0,0]){return Ue[0]=(Oe[0]+Oe[2])/2,Ue[1]=(Oe[1]+Oe[3])/2,Ue}function z(Oe,Ue){return pe(Oe,Ue[0],Ue[1])}function oe(Oe,Ue){return pe(Oe,Ue.x,Ue.y)}function pe(Oe,Ue,ke){return Ue>=Oe[0]&&ke>=Oe[1]&&Ue<=Oe[2]&&ke<=Oe[3]}function be(Oe,Ue,ke){return Ue[0]>=Oe[0]-ke&&Ue[1]>=Oe[1]-ke&&Ue[0]<=Oe[2]+ke&&Ue[1]<=Oe[3]+ke}function me(Oe,Ue){return Math.max(Ue[0],Oe[0])<=Math.min(Ue[2],Oe[2])&&Math.max(Ue[1],Oe[1])<=Math.min(Ue[3],Oe[3])}function _e(Oe,Ue){return Ue[0]>=Oe[0]&&Ue[2]<=Oe[2]&&Ue[1]>=Oe[1]&&Ue[3]<=Oe[3]}function ye(Oe,Ue,ke,Ye=Oe){return Ye[0]=Oe[0]+Ue,Ye[1]=Oe[1]+ke,Ye[2]=Oe[2]+Ue,Ye[3]=Oe[3]+ke,Ye}function ge(Oe){return Oe?Z(Oe,Fe):re(Fe)}function Pe(Oe){return null!=Oe&&4===Oe.length}function Re(Oe,Ue){return Pe(Oe)&&Pe(Ue)?Oe[0]===Ue[0]&&Oe[1]===Ue[1]&&Oe[2]===Ue[2]&&Oe[3]===Ue[3]:Oe===Ue}const Fe=[1/0,1/0,-1/0,-1/0],Ne=[0,0,0,0]},32442:(j,F,T)=>{"use strict";function w(ie){return void 0!==ie.xmin&&void 0!==ie.ymin&&void 0!==ie.xmax&&void 0!==ie.ymax}function O(ie){return void 0!==ie.points}function W(ie){return void 0!==ie.x&&void 0!==ie.y}function B(ie){return void 0!==ie.paths}function k(ie){return void 0!==ie.rings}function re(ie){return function te(Q,V){return null==Q?V:null==V?Q:ie(Q,V)}}T.d(F,{$P:()=>G,C6:()=>ne,Yg:()=>Y,lC:()=>se});const ee=re(Math.min),Z=re(Math.max);function G(ie,te){return B(te)?ne(ie,te.paths,!1,!1):k(te)?ne(ie,te.rings,!1,!1):O(te)?se(ie,te.points,!1,!1,!1,!1):w(te)?ae(ie,te):(W(te)&&(ie[0]=te.x,ie[1]=te.y,ie[2]=te.x,ie[3]=te.y),ie)}function Y(ie,te){return B(te)?ne(ie,te.paths,!0,!1):k(te)?ne(ie,te.rings,!0,!1):O(te)?se(ie,te.points,!0,!1,!0,!1):w(te)?ae(ie,te,0,0,!0,!1):(W(te)&&(ie[0]=te.x,ie[1]=te.y,ie[2]=te.z,ie[3]=te.x,ie[4]=te.y,ie[5]=te.z),ie)}function ne(ie,te,Q,V){const U=Q?3:2;if(!te.length||!te[0].length)return null;let $,z,J,q,[oe,pe]=te[0][0],[de,be]=te[0][0];for(let me=0;me<te.length;me++){const _e=te[me];for(let le=0;le<_e.length;le++){const fe=_e[le],[Ee,ye]=fe;if(oe=ee(oe,Ee),pe=ee(pe,ye),de=Z(de,Ee),be=Z(be,ye),Q&&fe.length>2){const ue=fe[2];$=ee($,ue),z=Z(z,ue)}if(V&&fe.length>U){const ue=fe[U];J=ee($,ue),q=Z(z,ue)}}}return Q?V?(ie[0]=oe,ie[1]=pe,ie[2]=$,ie[3]=J,ie[4]=de,ie[5]=be,ie[6]=z,ie[7]=q,ie.length=8,ie):(ie[0]=oe,ie[1]=pe,ie[2]=$,ie[3]=de,ie[4]=be,ie[5]=z,ie.length=6,ie):V?(ie[0]=oe,ie[1]=pe,ie[2]=J,ie[3]=de,ie[4]=be,ie[5]=q,ie.length=6,ie):(ie[0]=oe,ie[1]=pe,ie[2]=de,ie[3]=be,ie.length=4,ie)}function ae(ie,te,Q,V,U,$){const z=te.xmin,J=te.xmax,q=te.ymin,oe=te.ymax;let pe=te.zmin,de=te.zmax,be=te.mmin,me=te.mmax;return U?(pe=pe||0,de=de||0,$?(be=be||0,me=me||0,ie[0]=z,ie[1]=q,ie[2]=pe,ie[3]=be,ie[4]=J,ie[5]=oe,ie[6]=de,ie[7]=me,ie):(ie[0]=z,ie[1]=q,ie[2]=pe,ie[3]=J,ie[4]=oe,ie[5]=de,ie)):$?(be=be||0,me=me||0,ie[0]=z,ie[1]=q,ie[2]=be,ie[3]=J,ie[4]=oe,ie[5]=me,ie):(ie[0]=z,ie[1]=q,ie[2]=J,ie[3]=oe,ie)}function se(ie,te,Q,V,U,$){const z=Q?3:2,J=V&&$,q=Q&&U;if(!te.length||!te[0].length)return null;let oe,pe,de,be,[me,_e]=te[0],[le,fe]=te[0];for(let Ee=0;Ee<te.length;Ee++){const ye=te[Ee],[ue,Me]=ye;if(me=ee(me,ue),_e=ee(_e,Me),le=Z(le,ue),fe=Z(fe,Me),q&&ye.length>2){const ce=ye[2];oe=ee(oe,ce),pe=Z(pe,ce)}if(J&&ye.length>z){const ce=ye[z];de=ee(oe,ce),be=Z(pe,ce)}}return U?(oe=oe||0,pe=pe||0,$?(de=de||0,be=be||0,ie[0]=me,ie[1]=_e,ie[2]=oe,ie[3]=de,ie[4]=le,ie[5]=fe,ie[6]=pe,ie[7]=be,ie):(ie[0]=me,ie[1]=_e,ie[2]=oe,ie[3]=le,ie[4]=fe,ie[5]=pe,ie)):$?(de=de||0,be=be||0,ie[0]=me,ie[1]=_e,ie[2]=de,ie[3]=le,ie[4]=fe,ie[5]=be,ie):(ie[0]=me,ie[1]=_e,ie[2]=le,ie[3]=fe,ie)}},27105:(j,F,T)=>{"use strict";T.d(F,{$G:()=>O,DS:()=>k,NA:()=>Z,a:()=>B,tO:()=>W});var w=T(25748);function O(ne){return ne?ne.hasZ?[ne.xmax-ne.xmin/2,ne.ymax-ne.ymin/2,ne.zmax-ne.zmin/2]:[ne.xmax-ne.xmin/2,ne.ymax-ne.ymin/2]:null}function W(ne){return ne?B(ne.rings,ne.hasZ??!1):null}function B(ne,ae){if(!ne||!ne.length)return null;const se=[],ie=[],te=ae?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let Q=0,V=ne.length;Q<V;Q++){const U=k(ne[Q],ae,te);U&&ie.push(U)}if(ie.sort((Q,V)=>{let U=Q[2]-V[2];return 0===U&&ae&&(U=Q[4]-V[4]),U}),ie.length&&(se[0]=ie[0][0],se[1]=ie[0][1],ae&&(se[2]=ie[0][3]),(se[0]<te[0]||se[0]>te[1]||se[1]<te[2]||se[1]>te[3]||ae&&(se[2]<te[4]||se[2]>te[5]))&&(se.length=0)),!se.length){const Q=ne[0]&&ne[0].length?function re(ne,ae){const se=ae?[0,0,0]:[0,0],ie=ae?[0,0,0]:[0,0];let te=0,Q=0,V=0,U=0;for(let $=0,z=ne.length;$<z-1;$++){const J=ne[$],q=ne[$+1];if(J&&q){se[0]=J[0],se[1]=J[1],ie[0]=q[0],ie[1]=q[1],ae&&J.length>2&&q.length>2&&(se[2]=J[2],ie[2]=q[2]);const oe=(0,w.xA)(se,ie);if(oe){te+=oe;const pe=(0,w.Gi)(J,q);Q+=oe*pe[0],V+=oe*pe[1],ae&&pe.length>2&&(U+=oe*pe[2])}}}return te>0?ae?[Q/te,V/te,U/te]:[Q/te,V/te]:ne.length?ne[0]:null}(ne[0],ae):null;if(!Q)return null;se[0]=Q[0],se[1]=Q[1],ae&&Q.length>2&&(se[2]=Q[2])}return se}function k(ne,ae,se){let ie=0,te=0,Q=0,V=0,U=0;const $=ne.length?ne[0][0]:0,z=ne.length?ne[0][1]:0,J=ne.length&&ae?ne[0][2]:0;for(let oe=0;oe<ne.length;oe++){const pe=ne[oe],de=ne[(oe+1)%ne.length],[be,me,_e]=pe,le=be-$,fe=me-z,[Ee,ye,ue]=de,Me=Ee-$,ce=ye-z,ge=le*ce-Me*fe;if(V+=ge,ie+=(le+Me)*ge,te+=(fe+ce)*ge,ae&&pe.length>2&&de.length>2){const Pe=_e-J,Ie=ue-J,Re=le*Ie-Me*Pe;Q+=(Pe+Ie)*Re,U+=Re}be<se[0]&&(se[0]=be),be>se[1]&&(se[1]=be),me<se[2]&&(se[2]=me),me>se[3]&&(se[3]=me),ae&&(_e<se[4]&&(se[4]=_e),_e>se[5]&&(se[5]=_e))}if(V>0&&(V*=-1),U>0&&(U*=-1),!V)return null;V*=.5,U*=.5;const q=[ie/(6*V)+$,te/(6*V)+z,V];return ae&&(se[4]===se[5]||0===U?(q[3]=(se[4]+se[5])/2,q[4]=0):(q[3]=Q/(6*U)+J,q[4]=U)),q}function Z(ne){if(!ne||!ne.rings)return null;const{rings:ae}=ne;let se=0;for(let Q=0;Q<ae.length;Q++)se+=(0,w.Sm)(ae[Q]);if(se<1e-6)return B(ae,!1);const ie=[0,0],te=ae[0][0];for(let Q=0;Q<ae.length;Q++)Y(ie,te,ae[Q]);return ie[0]*=1/se,ie[1]*=1/se,ie[0]+=te[0],ie[1]+=te[1],ie}function Y(ne,ae,se){if(!ne||!se||se.length<3)return null;const ie=se[0],te=[0,0],Q=[se[1][0]-ie[0],se[1][1]-ie[1]];let V;for(let z=2;z<se.length;z++)te[0]=se[z][0]-ie[0],te[1]=se[z][1]-ie[1],V=.16666666666666666*(te[0]*Q[1]-te[1]*Q[0]),ne[0]+=V*(Q[0]+te[0]),ne[1]+=V*(Q[1]+te[1]),Q[0]=te[0],Q[1]=te[1];const U=(0,w.Sm)(se),$=[ie[0],ie[1]];return $[0]-=ae[0],$[1]-=ae[1],$[0]*=U,$[1]*=U,ne[0]+=$[0],ne[1]+=$[1],ne}},33190:(j,F,T)=>{"use strict";T.d(F,{CI:()=>G,OQ:()=>re,Qg:()=>ee,aV:()=>W,lQ:()=>B,uP:()=>k,wP:()=>ne});var w=T(62208);const O=[0,0];function W(ie,te){return!!(0,w.pC)(te)&&Z(ie,te.x,te.y,te.z)}function B(ie,te){if(!te.points||te.points.length)return!1;for(const Q of te.points)if(!re(ie,Q))return!1;return!0}function k(ie,te){const{xmin:Q,ymin:V,zmin:U,xmax:$,ymax:z,zmax:J}=te;return ie.hasZ&&te.hasZ?Z(ie,Q,V,U)&&Z(ie,Q,z,U)&&Z(ie,$,z,U)&&Z(ie,$,V,U)&&Z(ie,Q,V,J)&&Z(ie,Q,z,J)&&Z(ie,$,z,J)&&Z(ie,$,V,J):Z(ie,Q,V)&&Z(ie,Q,z)&&Z(ie,$,z)&&Z(ie,$,V)}function re(ie,te){return Z(ie,te[0],te[1])}function ee(ie,te){return Z(ie,te[0],te[1],te[2])}function Z(ie,te,Q,V){return te>=ie.xmin&&te<=ie.xmax&&Q>=ie.ymin&&Q<=ie.ymax&&(null==V||!ie.hasZ||V>=ie.zmin&&V<=ie.zmax)}function G(ie,te){return O[1]=te.y,O[0]=te.x,function Y(ie,te){return ne(ie.rings,te)}(ie,O)}function ne(ie,te){if(!ie)return!1;if(function ae(ie){return!Array.isArray(ie[0][0])}(ie))return se(!1,ie,te);let Q=!1;for(let V=0,U=ie.length;V<U;V++)Q=se(Q,ie[V],te);return Q}function se(ie,te,Q){const[V,U]=Q;let $=ie,z=0;for(let J=0,q=te.length;J<q;J++){z++,z===q&&(z=0);const[oe,pe]=te[J],[de,be]=te[z];(pe<U&&be>=U||be<U&&pe>=U)&&oe+(U-pe)/(be-pe)*(de-oe)<V&&($=!$)}return $}},25748:(j,F,T)=>{"use strict";T.d(F,{Gi:()=>G,Pt:()=>z,Sm:()=>$,Sq:()=>V,Tx:()=>re,Zy:()=>te,bu:()=>ae,ko:()=>ee,n8:()=>ne,nA:()=>W,nc:()=>Q,ok:()=>Y,pW:()=>ie,xA:()=>B});var w=T(85931),O=T(37053);function W(J){if(!J)return null;if(Array.isArray(J))return J;const q=J.hasZ,oe=J.hasM;if("point"===J.type)return oe&&q?[J.x,J.y,J.z,J.m]:q?[J.x,J.y,J.z]:oe?[J.x,J.y,J.m]:[J.x,J.y];if("polygon"===J.type)return J.rings.slice(0);if("polyline"===J.type)return J.paths.slice(0);if("multipoint"===J.type)return J.points.slice(0);if("extent"===J.type){const pe=J.clone().normalize();if(!pe)return null;let de=!1,be=!1;return pe.forEach(me=>{me.hasZ&&(de=!0),me.hasM&&(be=!0)}),pe.map(me=>{const _e=[[me.xmin,me.ymin],[me.xmin,me.ymax],[me.xmax,me.ymax],[me.xmax,me.ymin],[me.xmin,me.ymin]];if(de&&me.hasZ){const le=.5*(me.zmax-me.zmin);for(let fe=0;fe<_e.length;fe++)_e[fe].push(le)}if(be&&me.hasM){const le=.5*(me.mmax-me.mmin);for(let fe=0;fe<_e.length;fe++)_e[fe].push(le)}return _e})}return null}function B(J,q){const oe=q[0]-J[0],pe=q[1]-J[1];if(J.length>2&&q.length>2){const de=J[2]-q[2];return Math.sqrt(oe*oe+pe*pe+de*de)}return Math.sqrt(oe*oe+pe*pe)}function k(J,q,oe){const pe=J[0]+oe*(q[0]-J[0]),de=J[1]+oe*(q[1]-J[1]);return J.length>2&&q.length>2?[pe,de,J[2]+oe*(q[2]-J[2])]:[pe,de]}function re(J,q,oe,pe){const[de,be]=q,[me,_e]=oe[pe],[le,fe]=oe[pe+1],Ee=le-me,ye=fe-_e,ce=Math.min(1,Math.max(0,((de-me)*Ee+(be-_e)*ye)/(Ee*Ee+ye*ye)));return J[0]=me+Ee*ce,J[1]=_e+ye*ce,J}function ee(J,q,oe){const pe=oe.rings;let de,be,me=!1,_e=1/0;for(let le=0;le<pe.length;le++){const fe=pe[le];for(let Ee=0,ye=fe.length-1;Ee<fe.length;ye=Ee++)de=fe[Ee],be=fe[ye],de[1]>q!=be[1]>q&&J<(be[0]-de[0])*(q-de[1])/(be[1]-de[1])+de[0]&&(me=!me),_e=Math.min(_e,Z(J,q,de,be))}return 0===_e?0:(me?1:-1)*Math.sqrt(_e)}function Z(J,q,oe,pe){let de=oe[0],be=oe[1],me=pe[0]-de,_e=pe[1]-be;if(0!==me||0!==_e){const le=((J-de)*me+(q-be)*_e)/(me*me+_e*_e);le>1?(de=pe[0],be=pe[1]):le>0&&(de+=me*le,be+=_e*le)}return me=J-de,_e=q-be,me*me+_e*_e}function G(J,q){return k(J,q,.5)}function Y(J){const q=J.length;let oe=0;for(let pe=0;pe<q-1;++pe)oe+=B(J[pe],J[pe+1]);return oe}function ne(J,q){if(q<=0)return J[0];const oe=J.length;let pe=0;for(let de=0;de<oe-1;++de){const be=B(J[de],J[de+1]);if(q-pe<be)return k(J[de],J[de+1],(q-pe)/be);pe+=be}return J[oe-1]}function ae(J,q,oe){const pe=J.length;let de=0,be=0,me=0;for(let _e=0;_e<pe;_e++){const le=J[_e],fe=J[(_e+1)%pe];let Ee=2;de+=le[0]*fe[1]-fe[0]*le[1],le.length>2&&fe.length>2&&oe&&(be+=le[0]*fe[2]-fe[0]*le[2],Ee=3),le.length>Ee&&fe.length>Ee&&q&&(me+=le[0]*fe[Ee]-fe[0]*le[Ee])}return de<=0&&be<=0&&me<=0}function se(J){const q=J.length;return q>2&&(0,w.fS)(J[0],J[q-1])}function ie(J){if("rings"in J&&(te(J),J.rings.length>0&&!ae(J.rings[0],J.hasM??!1,J.hasZ??!1)))for(const q of J.rings)q.reverse()}function te(J){if("rings"in J)for(const q of J.rings)se(q)||q.push(q[0].slice())}function Q(J){return"polygon"!==J.type&&"polyline"!==J.type||V("polygon"===J.type?J.rings:J.paths,J.spatialReference),J}function V(J,q){const oe=(0,O.C5)(q);if(!oe)return;const pe=oe.valid[0],de=oe.valid[1],be=de-pe;for(const me of J){let _e=1/0,le=-1/0;for(const Ee of me){const ye=U(Ee[0],pe,de);_e=Math.min(_e,ye),le=Math.max(le,ye),Ee[0]=ye}const fe=le-_e;be-fe<fe&&me.forEach(Ee=>{Ee[0]<0&&(Ee[0]+=be)})}}function U(J,q,oe){const pe=oe-q;return J<q?oe-(q-J)%pe:J>oe?q+(J-q)%pe:J}function $(J){if(!J||J.length<3)return 0;let q=0;const oe=J.length-1;for(let pe=0;pe<oe;pe++)q+=(J[pe][0]-J[pe+1][0])*(J[pe][1]+J[pe+1][1]);return q+=(J[oe][0]-J[0][0])*(J[oe][1]+J[0][1]),-.5*q}function z(J,q){if(J===q)return!0;if(J.type!==q.type)return!1;if("point"===J.type||"extent"===J.type)return!0;if("multipoint"===J.type)return J.points.length===q.points.length;const[oe,pe]="polyline"===J.type?[J.paths,q.paths]:[J.rings,q.rings];return oe.length===pe.length&&oe.every((de,be)=>de.length===pe[be].length)}},15176:(j,F,T)=>{"use strict";T.d(F,{Wn:()=>V,_w:()=>Q,aO:()=>se});var w=T(32442);const ee=[];function Z(U,$,z,J){return{xmin:U,ymin:$,xmax:z,ymax:J}}function G(U,$,z,J,q,oe){return{xmin:U,ymin:$,zmin:z,xmax:J,ymax:q,zmax:oe}}function Y(U,$,z,J,q,oe){return{xmin:U,ymin:$,mmin:z,xmax:J,ymax:q,mmax:oe}}function ne(U,$,z,J,q,oe,pe,de){return{xmin:U,ymin:$,zmin:z,mmin:J,xmax:q,ymax:oe,zmax:pe,mmax:de}}function ae(U,$=!1,z=!1){return $?z?ne(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7]):G(U[0],U[1],U[2],U[3],U[4],U[5]):z?Y(U[0],U[1],U[2],U[3],U[4],U[5]):Z(U[0],U[1],U[2],U[3])}function se(U){return U?function O(U){return void 0!==U.xmin&&void 0!==U.ymin&&void 0!==U.xmax&&void 0!==U.ymax}(U)?U:function B(U){return void 0!==U.x&&void 0!==U.y}(U)?function te(U){const{x:$,y:z,z:J,m:q}=U,oe=null!=q;return null!=J?oe?ne($,z,J,q,$,z,J,q):G($,z,J,$,z,J):oe?Y($,z,q,$,z,q):Z($,z,$,z)}(U):function re(U){return void 0!==U.rings}(U)?Q(U):function k(U){return void 0!==U.paths}(U)?V(U):function W(U){return void 0!==U.points}(U)?function ie(U){const{hasZ:$,hasM:z,points:J}=U;return ae((0,w.lC)(ee,J,$??!1,z??!1),$,z)}(U):null:null}function Q(U){const{hasZ:$,hasM:z,rings:J}=U,q=(0,w.C6)(ee,J,$??!1,z??!1);return q?ae(q,$,z):null}function V(U){const{hasZ:$,hasM:z,paths:J}=U,q=(0,w.C6)(ee,J,$??!1,z??!1);return q?ae(q,$,z):null}},37299:(j,F,T)=>{"use strict";T.d(F,{Dg:()=>ee,Yr:()=>O,cD:()=>re,yB:()=>W});var w=T(94425);const O=Math.PI/180,W=/SPHEROID\[([^\]]+)]/i,B=w.sv.radius,k=w.sv.eccentricitySquared,re={a1:B*k,a2:B*k*B*k,a3:B*k*k/2,a4:B*k*B*k*2.5,a5:B*k+B*k*k/2,a6:1-k},ee={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:w.sv.radius,f:w.sv.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:w.Z1.radius,f:w.Z1.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:w.yr.radius,f:w.yr.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:w.yr.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},10049:(j,F,T)=>{"use strict";T.d(F,{Gb:()=>Q,Jf:()=>U,TB:()=>J,_q:()=>z,cA:()=>q,p8:()=>V}),T(29132);var O=T(26584),W=T(16730),B=T(37299),k=T(37053),re=T(55214),ee=T(37118),G=(T(72642),T(65234));function Y(de){if(!de)return null;if((0,k.sT)(de)&&de.wkid){const be=B.Dg[de.wkid];if(be)return be}if(de.wkt){const be=function ne(de){const be=B.yB.exec(de);if(!be||2!==be.length)return null;const me=be[1].split(",");if(!me||me.length<3)return null;const _e=parseFloat(me[1]),le=parseFloat(me[2]);return isNaN(_e)||isNaN(le)?null:{a:_e,f:0===le?0:1/le}}(de.wkt);if(be)return be}return null}function ae(de){const be=Y(de??G.Z.WGS84);if(function se(de){return null!=de&&"b"in de&&"eSq"in de&&"radius"in de}(be))return be;const me=be.a*(1-be.f);return Object.assign(be,{b:me,eSq:1-(me/be.a)**2,radius:(2*be.a+me)/3,densificationRatio:1e4/((2*be.a+me)/3)})}function te(de,be,me){const{a:_e,eSq:le}=ae(me),fe=Math.sqrt(le),Ee=Math.sin(be[1]*B.Yr),ye=_e*be[0]*B.Yr;let ue;return ue=le>0?_e*((1-le)*(Ee/(1-le*(Ee*Ee))-1/(2*fe)*Math.log((1-fe*Ee)/(1+fe*Ee))))*.5:_e*Ee,de[0]=ye,de[1]=ue,de}function Q(de){return null!==Y(de)}function V(de,be="square-meters"){if(de.some(Ee=>!Q(Ee.spatialReference)))throw new O.Z("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const me=[];for(let Ee=0;Ee<de.length;Ee++){const ye=de[Ee],ue=ye.spatialReference,{radius:Me,densificationRatio:ce}=ae(ue);me.push($(ye,Me*ce))}const _e=[],le=[0,0],fe=[0,0];for(let Ee=0;Ee<me.length;Ee++){const{rings:ye,spatialReference:ue}=me[Ee];let Me=0;for(let ce=0;ce<ye.length;ce++){const ge=ye[ce];te(le,ge[0],ue),te(fe,ge[ge.length-1],ue);let Pe=fe[0]*le[1]-le[0]*fe[1];for(let Ie=0;Ie<ge.length-1;Ie++)te(le,ge[Ie+1],ue),te(fe,ge[Ie],ue),Pe+=fe[0]*le[1]-le[0]*fe[1];Me+=Pe}Me=(0,W.En)(Me,"square-meters",be),_e.push(Me/-2)}return _e}function U(de,be="meters"){if(!de)throw new O.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(de.some(_e=>!Q(_e.spatialReference)))throw new O.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const me=[];for(let _e=0;_e<de.length;_e++){const le=de[_e],{spatialReference:fe}=le,Ee="polyline"===le.type?le.paths:le.rings;let ye=0;for(let ue=0;ue<Ee.length;ue++){const Me=Ee[ue];let ce=0;for(let ge=1;ge<Me.length;ge++){const Pe=Me[ge-1][0],Ie=Me[ge][0],Re=Me[ge-1][1],Ce=Me[ge][1];if(Re!==Ce||Pe!==Ie){const Fe=new z;q(Fe,[Pe,Re],[Ie,Ce],fe),ce+=Fe.distance}}ye+=ce}ye=(0,W.En)(ye,"meters",be),me.push(ye)}return me}function $(de,be){if("polyline"!==de.type&&"polygon"!==de.type)throw new O.Z("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:me}=de;if(!Q(me))throw new O.Z("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const _e="polyline"===de.type?de.paths:de.rings,le=[],fe=[0,0],Ee=new z;for(const ye of _e){const ue=[];le.push(ue),ue.push([ye[0][0],ye[0][1]]);let Me,ce,ge=ye[0][0],Pe=ye[0][1];for(let Ie=0;Ie<ye.length-1;Ie++){if(Me=ye[Ie+1][0],ce=ye[Ie+1][1],ge===Me&&Pe===ce)continue;const Re=[ge,Pe];q(Ee,[ge,Pe],[Me,ce],me);const{azimuth:Ce,distance:Fe}=Ee,Ne=Fe/be;if(Ne>1){for(let Le=1;Le<=Ne-1;Le++)J(fe,Re,Ce,Le*be,me),ue.push(fe.slice(0));J(fe,Re,Ce,(Fe+Math.floor(Ne-1)*be)/2,me),ue.push(fe.slice(0))}J(fe,Re,Ce,Fe,me),ue.push(fe.slice(0)),ge=fe[0],Pe=fe[1]}}return"polyline"===de.type?new re.Z({paths:le,spatialReference:me}):new ee.Z({rings:le,spatialReference:me})}class z{constructor(be=0,me,_e){this.distance=be,this.azimuth=me,this.reverseAzimuth=_e}}function J(de,be,me,_e,le){const ye=be[0]*B.Yr,ue=be[1]*B.Yr,Me=(me??0)*B.Yr,{a:ce,b:ge,f:Pe}=ae(le),Ie=Math.sin(Me),Re=Math.cos(Me),Ce=(1-Pe)*Math.tan(ue),Fe=1/Math.sqrt(1+Ce*Ce),Ne=Ce*Fe,Le=Math.atan2(Ce,Re),Oe=Fe*Ie,Ue=Oe*Oe,ke=1-Ue,Ye=ke*(ce*ce-ge*ge)/(ge*ge),xe=1+Ye/16384*(4096+Ye*(Ye*(320-175*Ye)-768)),We=Ye/1024*(256+Ye*(Ye*(74-47*Ye)-128));let Qe,lt,ve,Te,Be=_e/(ge*xe),Ge=2*Math.PI;for(;Math.abs(Be-Ge)>1e-12;)ve=Math.cos(2*Le+Be),Qe=Math.sin(Be),lt=Math.cos(Be),Te=We*Qe*(ve+We/4*(lt*(2*ve*ve-1)-We/6*ve*(4*Qe*Qe-3)*(4*ve*ve-3))),Ge=Be,Be=_e/(ge*xe)+Te;const $e=Ne*Qe-Fe*lt*Re,Xe=Math.atan2(Ne*lt+Fe*Qe*Re,(1-Pe)*Math.sqrt(Ue+$e*$e)),at=Math.atan2(Qe*Ie,Fe*lt-Ne*Qe*Re),we=Pe/16*ke*(4+Pe*(4-3*ke)),tt=Xe/B.Yr;return de[0]=(ye+(at-(1-we)*Pe*Oe*(Be+we*Qe*(ve+we*lt*(2*ve*ve-1)))))/B.Yr,de[1]=tt,de}function q(de,be,me,_e){const le=be[0]*B.Yr,fe=be[1]*B.Yr,Ee=me[0]*B.Yr,ye=me[1]*B.Yr,{a:ue,b:Me,f:ce,radius:ge}=ae(_e),Pe=Ee-le,Ie=Math.atan((1-ce)*Math.tan(fe)),Re=Math.atan((1-ce)*Math.tan(ye)),Ce=Math.sin(Ie),Fe=Math.cos(Ie),Ne=Math.sin(Re),Le=Math.cos(Re);let Oe,Ue,ke,Ye,xe,We,Qe,lt,ve,Te,Be=1e3,Ge=Pe;do{if(Qe=Math.sin(Ge),lt=Math.cos(Ge),ke=Math.sqrt(Le*Qe*(Le*Qe)+(Fe*Ne-Ce*Le*lt)*(Fe*Ne-Ce*Le*lt)),0===ke)return de.distance=0,de.azimuth=void 0,de.reverseAzimuth=void 0,de;xe=Ce*Ne+Fe*Le*lt,We=Math.atan2(ke,xe),ve=Fe*Le*Qe/ke,Ue=1-ve*ve,Ye=xe-2*Ce*Ne/Ue,isNaN(Ye)&&(Ye=0),Te=ce/16*Ue*(4+ce*(4-3*Ue)),Oe=Ge,Ge=Pe+(1-Te)*ce*ve*(We+Te*ke*(Ye+Te*xe*(2*Ye*Ye-1)))}while(Math.abs(Ge-Oe)>1e-12&&--Be>0);if(0===Be){const pt=ge,Pt=Math.acos(Math.sin(fe)*Math.sin(ye)+Math.cos(fe)*Math.cos(ye)*Math.cos(Ee-le))*pt,mt=Ee-le,St=Math.sin(mt)*Math.cos(ye),ut=Math.cos(fe)*Math.sin(ye)-Math.sin(fe)*Math.cos(ye)*Math.cos(mt),_t=Math.atan2(St,ut);return de.azimuth=_t/B.Yr,de.distance=Pt,de.reverseAzimuth=void 0,de}const $e=Ue*(ue*ue-Me*Me)/(Me*Me),Xe=$e/1024*(256+$e*($e*(74-47*$e)-128)),at=Me*(1+$e/16384*(4096+$e*($e*(320-175*$e)-768)))*(We-Xe*ke*(Ye+Xe/4*(xe*(2*Ye*Ye-1)-Xe/6*Ye*(4*ke*ke-3)*(4*Ye*Ye-3)))),we=Math.atan2(Le*Math.sin(Ge),Fe*Ne-Ce*Le*Math.cos(Ge)),tt=Math.atan2(Fe*Math.sin(Ge),Fe*Ne*Math.cos(Ge)-Ce*Le);return de.azimuth=we/B.Yr,de.distance=at,de.reverseAzimuth=tt/B.Yr,de}},36947:(j,F,T)=>{"use strict";T.d(F,{Ku:()=>ae,Wt:()=>ee,qC:()=>Q}),T(8314);var G,$,O=T(26584),W=T(62208),B=T(79334),k=T(38305);function ee($,z,J){const q=ae($),oe=z,pe=function Z($,z,J){if(!Y($)||!Y(z))return G.Unsupported;if(null==$||null==z)return G.Ok;if(!J&&$.heightUnit!==z.heightUnit)return G.Units;if($.heightModel!==z.heightModel)return G.HeightModel;switch($.heightModel){case"gravity-related-height":return G.Ok;case"ellipsoidal":return $.vertCRS===z.vertCRS?G.Ok:G.CRS;default:return G.Unsupported}}(q,oe,J);if(q){const de=B.Z.deriveUnitFromSR(q,$.spatialReference).heightUnit;if(!J&&de!==q.heightUnit){const be=new O.Z("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${de})`,{horizontalUnit:de});return new O.Z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:q,error:be})}}if(!function ne($){return"heightModelInfo"in $&&null!=$.heightModelInfo||null!=$.spatialReference||!te($)}($)||pe===G.Unsupported)return new O.Z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:q});switch(pe){case G.Units:{const de=q?.heightUnit||"unknown",be=oe?.heightUnit||"unknown",me=new O.Z("layerview:incompatible-height-unit",`The vertical units of the layer (${de}) must match the vertical units of the scene (${be})`,{layerUnit:de,sceneUnit:be});return new O.Z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:q,sceneHeightModelInfo:oe,error:me})}case G.HeightModel:{const de=q?.heightModel||"unknown",be=oe?.heightModel||"unknown",me=new O.Z("layerview:incompatible-height-model",`The height model of the layer (${de}) must match the height model of the scene (${be})`,{layerHeightModel:de,sceneHeightModel:be});return new O.Z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:q,sceneHeightModelInfo:oe,error:me})}case G.CRS:{const de=q?.vertCRS||"unknown",be=oe?.vertCRS||"unknown",me=new O.Z("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${de}) must match the vertical datum of the scene (${be})`,{layerDatum:de,sceneDatum:be});return new O.Z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:q,sceneHeightModelInfo:oe,error:me})}}return null}function Y($){return null==$||null!=$.heightModel&&null!=$.heightUnit}function ae($){const z=$.url?(0,k.Qc)($.url):void 0;return null==$.spatialReference?.vcsWkid&&(0,W.pC)(z)&&"ImageServer"===z.serverType||!se($)||!$.heightModelInfo?te($)?B.Z.deriveUnitFromSR(U,$.spatialReference):null:$.heightModelInfo}function se($){return"heightModelInfo"in $}function ie($){if("unknown"===$.type||!("capabilities"in $))return!1;switch($.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function te($){return ie($)?!!($.capabilities&&$.capabilities.data&&$.capabilities.data.supportsZ):V($)}function Q($){return null!=$.layers||V($)||ie($)||se($)}function V($){switch($.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}($=G||(G={}))[$.Ok=0]="Ok",$[$.Units=1]="Units",$[$.HeightModel=2]="HeightModel",$[$.CRS=3]="CRS",$[$.Unsupported=4]="Unsupported";const U=new B.Z({heightModel:"gravity-related-height"})},11519:(j,F,T)=>{"use strict";T.d(F,{Ff:()=>te,IY:()=>U,Nl:()=>ne,UT:()=>V,h_:()=>W});var w=T(33190);function O($,z){return(0,w.aV)($,z)}function W($,z){let q,oe,pe;if($.xmin<=z.xmin){if(q=z.xmin,$.xmax<q)return!1}else if(q=$.xmin,z.xmax<q)return!1;if($.ymin<=z.ymin){if(oe=z.ymin,$.ymax<oe)return!1}else if(oe=$.ymin,z.ymax<oe)return!1;if($.hasZ&&z.hasZ&&z.hasZ)if($.zmin<=z.zmin){if(pe=z.zmin,$.zmax<pe)return!1}else if(pe=$.zmin,z.zmax<pe)return!1;return!0}function B($,z){const{points:J,hasZ:q}=z,oe=q?w.Qg:w.OQ;for(const pe of J)if(oe($,pe))return!0;return!1}const k=[0,0],re=[0,0],ee=[0,0],Z=[0,0],G=[k,re,ee,Z],Y=[[ee,k],[k,re],[re,Z],[Z,ee]];function ne($,z){return function ae($,z){k[0]=$.xmin,k[1]=$.ymax,re[0]=$.xmax,re[1]=$.ymax,ee[0]=$.xmin,ee[1]=$.ymin,Z[0]=$.xmax,Z[1]=$.ymin;for(const J of G)if((0,w.wP)(z,J))return!0;for(const J of z){if(!J.length)continue;let q=J[0];if((0,w.OQ)($,q))return!0;for(let oe=1;oe<J.length;oe++){const pe=J[oe];if((0,w.OQ)($,pe)||Q(q,pe,Y))return!0;q=pe}}return!1}($,z.rings)}function se($,z){k[0]=$.xmin,k[1]=$.ymax,re[0]=$.xmax,re[1]=$.ymax,ee[0]=$.xmin,ee[1]=$.ymin,Z[0]=$.xmax,Z[1]=$.ymin;const J=z.paths;for(const q of J){if(!J.length)continue;let oe=q[0];if((0,w.OQ)($,oe))return!0;for(let pe=1;pe<q.length;pe++){const de=q[pe];if((0,w.OQ)($,de)||Q(oe,de,Y))return!0;oe=de}}return!1}const ie=[0,0];function te($){for(let z=0;z<$.length;z++){const J=$[z];for(let oe=0;oe<J.length-1;oe++){const pe=J[oe],de=J[oe+1];for(let be=z+1;be<$.length;be++)for(let me=0;me<$[be].length-1;me++){const _e=$[be][me],le=$[be][me+1];if(V(pe,de,_e,le,ie)&&!(ie[0]===pe[0]&&ie[1]===pe[1]||ie[0]===_e[0]&&ie[1]===_e[1]||ie[0]===de[0]&&ie[1]===de[1]||ie[0]===le[0]&&ie[1]===le[1]))return!0}}const q=J.length;if(!(q<=4))for(let oe=0;oe<q-3;oe++){let pe=q-1;0===oe&&(pe=q-2);const de=J[oe],be=J[oe+1];for(let me=oe+2;me<pe;me++){const _e=J[me],le=J[me+1];if(V(de,be,_e,le,ie)&&!(ie[0]===de[0]&&ie[1]===de[1]||ie[0]===_e[0]&&ie[1]===_e[1]||ie[0]===be[0]&&ie[1]===be[1]||ie[0]===le[0]&&ie[1]===le[1]))return!0}}}return!1}function Q($,z,J){for(let q=0;q<J.length;q++)if(V($,z,J[q][0],J[q][1]))return!0;return!1}function V($,z,J,q,oe){const[pe,de]=$,[be,me]=z,[_e,le]=J,[fe,Ee]=q,ye=fe-_e,ue=pe-_e,Me=be-pe,ce=Ee-le,ge=de-le,Pe=me-de,Ie=ce*Me-ye*Pe;if(0===Ie)return!1;const Re=(ye*ge-ce*ue)/Ie,Ce=(Me*ge-Pe*ue)/Ie;return Re>=0&&Re<=1&&Ce>=0&&Ce<=1&&(oe&&(oe[0]=pe+Re*(be-pe),oe[1]=de+Re*(me-de)),!0)}function U($){switch($){case"esriGeometryEnvelope":case"extent":return W;case"esriGeometryMultipoint":case"multipoint":return B;case"esriGeometryPoint":case"point":return O;case"esriGeometryPolygon":case"polygon":return ne;case"esriGeometryPolyline":case"polyline":return se}}},91179:(j,F,T)=>{"use strict";T.d(F,{Ji:()=>te,YX:()=>Z,aW:()=>G,im:()=>ie,l9:()=>ne,oU:()=>ae,q9:()=>V,wp:()=>Y});var w=T(62208),O=T(2004),W=T(21674),B=T(72854),k=T(72642),re=T(37118),ee=T(55214);function Z(U){return void 0!==U.xmin&&void 0!==U.ymin&&void 0!==U.xmax&&void 0!==U.ymax}function G(U){return void 0!==U.points}function Y(U){return void 0!==U.x&&void 0!==U.y}function ne(U){return void 0!==U.paths}function ae(U){return void 0!==U.rings}function ie(U){return(0,w.Wi)(U)?null:U instanceof W.Z?U:Y(U)?k.Z.fromJSON(U):ne(U)?ee.Z.fromJSON(U):ae(U)?re.Z.fromJSON(U):G(U)?B.Z.fromJSON(U):Z(U)?O.Z.fromJSON(U):null}function te(U){return U?Y(U)?"esriGeometryPoint":ne(U)?"esriGeometryPolyline":ae(U)?"esriGeometryPolygon":Z(U)?"esriGeometryEnvelope":G(U)?"esriGeometryMultipoint":null:null}const Q={esriGeometryPoint:k.Z,esriGeometryPolyline:ee.Z,esriGeometryPolygon:re.Z,esriGeometryEnvelope:O.Z,esriGeometryMultipoint:B.Z};function V(U){return U&&Q[U]||null}},93555:(j,F,T)=>{"use strict";T.d(F,{aX:()=>fe,or:()=>ue});var w=T(15861),O=T(59318),W=T(26584),B=T(63290),k=T(62208),re=T(37118),ee=T(55214),Z=T(74618),G=T(37053),Y=T(46367),ae=(T(29132),T(84792)),se=T(91179),ie=T(2618);function te(Me,ce,ge,Pe){return Q.apply(this,arguments)}function Q(){return(Q=(0,w.Z)(function*(Me,ce,ge,Pe){const Ie=(0,ie.en)(Me),Re=ce[0].spatialReference,Ce={...Pe,query:{...Ie.query,f:"json",sr:JSON.stringify(Re),target:JSON.stringify({geometryType:(0,se.Ji)(ce[0]),geometries:ce}),cutter:JSON.stringify(ge)}},Fe=yield(0,ae.default)(Ie.path+"/cut",Ce),{cutIndexes:Ne,geometries:Le=[]}=Fe.data;return{cutIndexes:Ne,geometries:Le.map(Oe=>{const Ue=(0,se.im)(Oe);return Ue.spatialReference=Re,Ue})}})).apply(this,arguments)}var V=T(21726),U=T(10920);function $(Me,ce,ge){return z.apply(this,arguments)}function z(){return(z=(0,w.Z)(function*(Me,ce,ge){const Pe="string"==typeof Me?(0,V.mN)(Me):Me,Ie=ce[0].spatialReference,Re=(0,se.Ji)(ce[0]),Ce={...ge,query:{...Pe.query,f:"json",sr:Ie.wkid?Ie.wkid:JSON.stringify(Ie),geometries:JSON.stringify((0,U.F)(ce))}},{data:Fe}=yield(0,ae.default)(Pe.path+"/simplify",Ce);return(0,U.o)(Fe.geometries,Re,Ie)})).apply(this,arguments)}const J=B.Z.getLogger("esri.geometry.support.normalizeUtils");function oe(Me){return"polygon"===Me[0].type}function pe(Me){return"polyline"===Me[0].type}function me(Me,ce,ge){if(ce){const Pe=function be(Me,ce){if(!(Me instanceof ee.Z||Me instanceof re.Z)){const Ie="straightLineDensify: the input geometry is neither polyline nor polygon";throw J.error(Ie),new W.Z(Ie)}const ge=(0,Z.x3)(Me),Pe=[];for(const Ie of ge){const Re=[];Pe.push(Re),Re.push([Ie[0][0],Ie[0][1]]);for(let Ce=0;Ce<Ie.length-1;Ce++){const Fe=Ie[Ce][0],Ne=Ie[Ce][1],Le=Ie[Ce+1][0],Oe=Ie[Ce+1][1],Ue=Math.sqrt((Le-Fe)*(Le-Fe)+(Oe-Ne)*(Oe-Ne)),ke=(Oe-Ne)/Ue,Ye=(Le-Fe)/Ue,xe=Ue/ce;if(xe>1){for(let ve=1;ve<=xe-1;ve++){const Te=ve*ce;Re.push([Ye*Te+Fe,ke*Te+Ne])}const We=(Ue+Math.floor(xe-1)*ce)/2;Re.push([Ye*We+Fe,ke*We+Ne])}Re.push([Le,Oe])}}return function q(Me){return"polygon"===Me.type}(Me)?new re.Z({rings:Pe,spatialReference:Me.spatialReference}):new ee.Z({paths:Pe,spatialReference:Me.spatialReference})}(Me,1e6);Me=(0,Y.Sx)(Pe,!0)}return ge&&(Me=(0,Z.Sy)(Me,ge)),Me}function _e(Me,ce,ge){if(Array.isArray(Me)){const Pe=Me[0];if(Pe>ce){const Ie=(0,Z.XZ)(Pe,ce);Me[0]=Pe+Ie*(-2*ce)}else if(Pe<ge){const Ie=(0,Z.XZ)(Pe,ge);Me[0]=Pe+Ie*(-2*ge)}}else{const Pe=Me.x;if(Pe>ce){const Ie=(0,Z.XZ)(Pe,ce);Me=Me.clone().offset(Ie*(-2*ce),0)}else if(Pe<ge){const Ie=(0,Z.XZ)(Pe,ge);Me=Me.clone().offset(Ie*(-2*ge),0)}}return Me}function le(Me,ce){let ge=-1;for(let Pe=0;Pe<ce.cutIndexes.length;Pe++){const Ie=ce.cutIndexes[Pe],Re=ce.geometries[Pe],Ce=(0,Z.x3)(Re);for(let Fe=0;Fe<Ce.length;Fe++){const Ne=Ce[Fe];Ne.some(Le=>{if(Le[0]<180)return!0;{let Oe=0;for(let ke=0;ke<Ne.length;ke++){const Ye=Ne[ke][0];Oe=Ye>Oe?Ye:Oe}Oe=Number(Oe.toFixed(9));const Ue=-360*(0,Z.XZ)(Oe,180);for(let ke=0;ke<Ne.length;ke++){const Ye=Re.getPoint(Fe,ke);Re.setPoint(Fe,ke,Ye.clone().offset(Ue,0))}return!0}})}if(Ie===ge){if(oe(Me))for(const Fe of(0,Z.x3)(Re))Me[Ie]=Me[Ie].addRing(Fe);else if(pe(Me))for(const Fe of(0,Z.x3)(Re))Me[Ie]=Me[Ie].addPath(Fe)}else ge=Ie,Me[Ie]=Re}return Me}function fe(Me,ce,ge){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*(Me,ce,ge){if(!Array.isArray(Me))return fe([Me],ce);ce&&"string"!=typeof ce&&J.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const Pe="string"==typeof ce?ce:ce?.url??O.Z.geometryServiceUrl;let Ie,Re,Ce,Fe,Ne,Le,Oe,Ue,ke=0;const Ye=[],xe=[];for(const Be of Me)if((0,k.Wi)(Be))xe.push(Be);else if(Ie||(Ie=Be.spatialReference,Re=(0,G.C5)(Ie),Ce=Ie.isWebMercator,Le=Ce?102100:4326,Fe=Z.UZ[Le].maxX,Ne=Z.UZ[Le].minX,Oe=Z.UZ[Le].plus180Line,Ue=Z.UZ[Le].minus180Line),Re)if("mesh"===Be.type)xe.push(Be);else if("point"===Be.type)xe.push(_e(Be.clone(),Fe,Ne));else if("multipoint"===Be.type){const Ge=Be.clone();Ge.points=Ge.points.map($e=>_e($e,Fe,Ne)),xe.push(Ge)}else if("extent"===Be.type){const Ge=Be.clone()._normalize(!1,!1,Re);xe.push(Ge.rings?new re.Z(Ge):Ge)}else if(Be.extent){const Ge=Be.extent,$e=(0,Z.XZ)(Ge.xmin,Ne)*(2*Fe);let Xe=0===$e?Be.clone():(0,Z.Sy)(Be.clone(),$e);Ge.offset($e,0),Ge.intersects(Oe)&&Ge.xmax!==Fe?(ke=Ge.xmax>ke?Ge.xmax:ke,Xe=me(Xe,Ce),Ye.push(Xe),xe.push("cut")):Ge.intersects(Ue)&&Ge.xmin!==Ne?(ke=Ge.xmax*(2*Fe)>ke?Ge.xmax*(2*Fe):ke,Xe=me(Xe,Ce,360),Ye.push(Xe),xe.push("cut")):xe.push(Xe)}else xe.push(Be.clone());else xe.push(Be);let We=(0,Z.XZ)(ke,Fe),Qe=-90;const lt=We,ve=new ee.Z;for(;We>0;){const Be=360*We-180;ve.addPath([[Be,Qe],[Be,-1*Qe]]),Qe*=-1,We--}if(Ye.length>0&&lt>0){const Be=le(Ye,yield te(Pe,Ye,ve,ge)),Ge=[],$e=[];for(let we=0;we<xe.length;we++){const tt=xe[we];if("cut"!==tt)$e.push(tt);else{const pt=Be.shift(),Pt=Me[we];(0,k.pC)(Pt)&&"polygon"===Pt.type&&Pt.rings&&Pt.rings.length>1&&pt.rings.length>=Pt.rings.length?(Ge.push(pt),$e.push("simplify")):$e.push(Ce?(0,Y.$)(pt):pt)}}if(!Ge.length)return $e;const Xe=yield $(Pe,Ge,ge),at=[];for(let we=0;we<$e.length;we++){const tt=$e[we];at.push("simplify"!==tt?tt:Ce?(0,Y.$)(Xe.shift()):Xe.shift())}return at}const Te=[];for(let Be=0;Be<xe.length;Be++){const Ge=xe[Be];if("cut"!==Ge)Te.push(Ge);else{const $e=Ye.shift();Te.push(!0===Ce?(0,Y.$)($e):$e)}}return Te})).apply(this,arguments)}function ue(Me,ce){const ge=(0,G.C5)(ce);if(ge){const[Pe,Ie]=ge.valid,Re=Ie-Pe;if(Me<Pe)for(;Me<Pe;)Me+=Re;if(Me>Ie)for(;Me>Ie;)Me-=Re}return Me}},74618:(j,F,T)=>{"use strict";T.d(F,{Sy:()=>re,UZ:()=>B,XZ:()=>k,x3:()=>ee});var w=T(55214),O=T(65234),W=T(91179);const B={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new w.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:O.Z.WebMercator}),minus180Line:new w.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:O.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new w.Z({paths:[[[180,-180],[180,180]]],spatialReference:O.Z.WGS84}),minus180Line:new w.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:O.Z.WGS84})}};function k(Z,G){return Math.ceil((Z-G)/(2*G))}function re(Z,G){const Y=ee(Z);for(const ne of Y)for(const ae of ne)ae[0]+=G;return Z}function ee(Z){return(0,W.oU)(Z)?Z.rings:Z.paths}},7848:(j,F,T)=>{"use strict";T.d(F,{G6:()=>Re,Ie:()=>Ie,J9:()=>ge,RF:()=>Ee,U1:()=>Pe,vY:()=>ee,ym:()=>Me});var w=T(62208),O=T(91179);const B=(Ce,Fe,Ne)=>[Fe,Ne],k=(Ce,Fe,Ne)=>[Fe,Ne,Ce[2]],re=(Ce,Fe,Ne)=>[Fe,Ne,Ce[2],Ce[3]];function ee(Ce){return Ce?{originPosition:"upper-left"===Ce.originPosition?"upperLeft":"lower-left"===Ce.originPosition?"lowerLeft":Ce.originPosition,scale:Ce.tolerance?[Ce.tolerance,Ce.tolerance]:[1,1],translate:(0,w.pC)(Ce.extent)?[Ce.extent.xmin,Ce.extent.ymax]:[0,0]}:null}function G({scale:Ce,translate:Fe},Ne){return Math.round((Ne-Fe[0])/Ce[0])}function Y({scale:Ce,translate:Fe},Ne){return Math.round((Fe[1]-Ne)/Ce[1])}function ne(Ce,Fe,Ne){const Le=[];let Oe,Ue,ke,Ye;for(let xe=0;xe<Ne.length;xe++){const We=Ne[xe];xe>0?(ke=G(Ce,We[0]),Ye=Y(Ce,We[1]),ke===Oe&&Ye===Ue||(Le.push(Fe(We,ke-Oe,Ye-Ue)),Oe=ke,Ue=Ye)):(Oe=G(Ce,We[0]),Ue=Y(Ce,We[1]),Le.push(Fe(We,Oe,Ue)))}return Le.length>0?Le:null}function Q({scale:Ce,translate:Fe},Ne){return Ne*Ce[0]+Fe[0]}function V({scale:Ce,translate:Fe},Ne){return Fe[1]-Ne*Ce[1]}function U(Ce,Fe,Ne){const Le=new Array(Ne.length);if(!Ne.length)return Le;const[Oe,Ue]=Ce.scale;let ke=Q(Ce,Ne[0][0]),Ye=V(Ce,Ne[0][1]);Le[0]=Fe(Ne[0],ke,Ye);for(let xe=1;xe<Ne.length;xe++){const We=Ne[xe];ke+=We[0]*Oe,Ye-=We[1]*Ue,Le[xe]=Fe(We,ke,Ye)}return Le}function $(Ce,Fe,Ne){const Le=new Array(Ne.length);for(let Oe=0;Oe<Ne.length;Oe++)Le[Oe]=U(Ce,Fe,Ne[Oe]);return Le}function Ee(Ce,Fe,Ne,Le,Oe){return Fe.x=G(Ce,Ne.x),Fe.y=Y(Ce,Ne.y),Fe!==Ne&&(Le&&(Fe.z=Ne.z),Oe&&(Fe.m=Ne.m)),Fe}function Me(Ce,Fe){return Ce&&Fe?(0,O.wp)(Fe)?Ee(Ce,{},Fe,!1,!1):(0,O.l9)(Fe)?function ue(Ce,Fe,Ne,Le,Oe){const Ue=function te(Ce,Fe,Ne,Le){const Oe=[],Ue=Ne?Le?re:k:Le?k:B;for(let ke=0;ke<Fe.length;ke++){const Ye=ne(Ce,Ue,Fe[ke]);Ye&&Ye.length>=2&&Oe.push(Ye)}return Oe.length?Oe:null}(Ce,Ne.paths,Le,Oe);return Ue?(Fe.paths=Ue,Fe):null}(Ce,{},Fe,!1,!1):(0,O.oU)(Fe)?function ye(Ce,Fe,Ne,Le,Oe){const Ue=function ie(Ce,Fe,Ne,Le){const Oe=[],Ue=Ne?Le?re:k:Le?k:B;for(let ke=0;ke<Fe.length;ke++){const Ye=ne(Ce,Ue,Fe[ke]);Ye&&Ye.length>=3&&Oe.push(Ye)}return Oe.length?Oe:null}(Ce,Ne.rings,Le,Oe);return Ue?(Fe.rings=Ue,Fe):null}(Ce,{},Fe,!1,!1):(0,O.aW)(Fe)?function fe(Ce,Fe,Ne,Le,Oe){return Fe.points=function se(Ce,Fe,Ne,Le){return ne(Ce,Ne?Le?re:k:Le?k:B,Fe)}(Ce,Ne.points,Le,Oe)??[],Fe}(Ce,{},Fe,!1,!1):(0,O.YX)(Fe)?function le(Ce,Fe,Ne,Le,Oe){return Fe.xmin=G(Ce,Ne.xmin),Fe.ymin=Y(Ce,Ne.ymin),Fe.xmax=G(Ce,Ne.xmax),Fe.ymax=Y(Ce,Ne.ymax),Fe!==Ne&&(Le&&(Fe.zmin=Ne.zmin,Fe.zmax=Ne.zmax),Oe&&(Fe.mmin=Ne.mmin,Fe.mmax=Ne.mmax)),Fe}(Ce,{},Fe,!1,!1):null:null}function ge(Ce,Fe,Ne,Le,Oe){return(0,w.pC)(Ne)&&(Fe.points=function J(Ce,Fe,Ne,Le){return U(Ce,Ne?Le?re:k:Le?k:B,Fe)}(Ce,Ne.points,Le,Oe)),Fe}function Pe(Ce,Fe,Ne,Le,Oe){return(0,w.Wi)(Ne)||(Fe.x=Q(Ce,Ne.x),Fe.y=V(Ce,Ne.y),Fe!==Ne&&(Le&&(Fe.z=Ne.z),Oe&&(Fe.m=Ne.m))),Fe}function Ie(Ce,Fe,Ne,Le,Oe){return(0,w.pC)(Ne)&&(Fe.rings=function oe(Ce,Fe,Ne,Le){return $(Ce,Ne?Le?re:k:Le?k:B,Fe)}(Ce,Ne.rings,Le,Oe)),Fe}function Re(Ce,Fe,Ne,Le,Oe){return(0,w.pC)(Ne)&&(Fe.paths=function q(Ce,Fe,Ne,Le){return $(Ce,Ne?Le?re:k:Le?k:B,Fe)}(Ce,Ne.paths,Le,Oe)),Fe}},37053:(j,F,T)=>{"use strict";T.d(F,{BZ:()=>z,C5:()=>ae,JY:()=>pe,ME:()=>J,MP:()=>oe,N$:()=>ie,QM:()=>U,R_:()=>be,V2:()=>q,WR:()=>me,Zn:()=>de,fS:()=>ne,o$:()=>$,oR:()=>te,sS:()=>V,sT:()=>se,yW:()=>Q});var w=T(62208),O=T(77275),W=T(6178),B=T(84029);const k={102113:!0,102100:!0,3857:!0,3785:!0},re={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},ee='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Z=[-20037508.342788905,20037508.342788905],G=[-20037508.342787,20037508.342787],Y={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Z,origin:G,dx:1e-5},102100:{wkTemplate:ee,valid:Z,origin:G,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Z,origin:G,dx:1e-5},3857:{wkTemplate:ee,valid:Z,origin:G,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function ne(_e,le){return _e===le||!(0,w.Wi)(_e)&&!(0,w.Wi)(le)&&(null!=_e.wkid||null!=le.wkid?_e.wkid===le.wkid||V(_e)&&V(le)||null!=le.latestWkid&&_e.wkid===le.latestWkid||null!=_e.latestWkid&&le.wkid===_e.latestWkid:!(!_e.wkt||!le.wkt)&&_e.wkt.toUpperCase()===le.wkt.toUpperCase())}function ae(_e){return pe(_e)&&_e.wkid&&Y[_e.wkid]||null}function se(_e){return!!pe(_e)&&(_e.wkid?null==B.Z[_e.wkid]:!!_e.wkt&&!!/^\s*GEOGCS/i.test(_e.wkt))}function ie(_e){return!(z(_e)||q(_e))}function te(_e){return pe(_e)&&4326===_e.wkid}function Q(_e){return pe(_e)&&_e.wkid===W.W.CGCS2000}function V(_e){return pe(_e)&&null!=_e.wkid&&!0===k[_e.wkid]}function U(_e){return pe(_e)&&32662===_e.wkid}function $(_e){return _e===W.W.GCSMARS2000||_e===W.W.GCSMARS2000_SPHERE}function z(_e){return pe(_e)&&null!=_e.wkid&&$(_e.wkid)}function J(_e){return _e===W.W.GCSMOON2000}function q(_e){return pe(_e)&&null!=_e.wkid&&J(_e.wkid)}function oe(_e){return pe(_e)&&null!=_e.wkid&&!0===re[_e.wkid]}function pe(_e){return(0,w.pC)(_e)&&(null!=_e.wkid&&_e.wkid>=2e3||null!=_e.wkt)}const de={wkid:4326,wkt:(0,O.gx)(Y[4326].wkTemplate,{Central_Meridian:"0.0"})},be={wkid:102100,latestWkid:3857},me={wkid:32662}},71774:(j,F,T)=>{"use strict";T.d(F,{M:()=>O,P:()=>W});var w=T(2076);const O=(0,w.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),W=(0,w.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},46367:(j,F,T)=>{"use strict";T.d(F,{$:()=>$,Q8:()=>te,R6:()=>U,Sx:()=>z,hG:()=>V,iV:()=>Q,mZ:()=>ne});var w=T(58817),O=T(62208),W=T(65234),B=T(94425),k=T(37053);function Z(J){return 57.29577951308232*J}function G(J){return.017453292519943*J}function ne(J){return Math.PI/2-2*Math.atan(Math.exp(-J/B.sv.radius))}function ae(J){return null!=J.wkid||null!=J.wkt}const se=[0,0];function ie(J,q,oe,pe,de){const be=J,me=de;if(me.spatialReference=oe,"x"in be&&"x"in me)[me.x,me.y]=q(be.x,be.y,se,pe);else if("xmin"in be&&"xmin"in me)[me.xmin,me.ymin]=q(be.xmin,be.ymin,se,pe),[me.xmax,me.ymax]=q(be.xmax,be.ymax,se,pe);else if("paths"in be&&"paths"in me||"rings"in be&&"rings"in me){const _e="paths"in be?be.paths:be.rings,le=[];let fe;for(let Ee=0;Ee<_e.length;Ee++){const ye=_e[Ee];fe=[],le.push(fe);for(let ue=0;ue<ye.length;ue++)fe.push(q(ye[ue][0],ye[ue][1],[0,0],pe)),ye[ue].length>2&&fe[ue].push(ye[ue][2]),ye[ue].length>3&&fe[ue].push(ye[ue][3])}"paths"in me?me.paths=le:me.rings=le}else if("points"in be&&"points"in me){const _e=be.points,le=[];for(let fe=0;fe<_e.length;fe++)le[fe]=q(_e[fe][0],_e[fe][1],[0,0],pe),_e[fe].length>2&&le[fe].push(_e[fe][2]),_e[fe].length>3&&le[fe].push(_e[fe][3]);me.points=le}return de}function te(J,q){const oe=J&&(ae(J)?J:J.spatialReference),pe=q&&(ae(q)?q:q.spatialReference);return!(J&&"type"in J&&"mesh"===J.type||q&&"type"in q&&"mesh"===q.type||!oe||!pe)&&(!!(0,k.fS)(pe,oe)||(0,k.sS)(pe)&&(0,k.oR)(oe)||(0,k.sS)(oe)&&(0,k.oR)(pe))}function Q(J,q){if((0,O.Wi)(J))return null;const oe=J.spatialReference,pe=q&&(ae(q)?q:q.spatialReference);return te(oe,pe)?(0,k.fS)(oe,pe)?(0,w.d9)(J):(0,k.sS)(pe)?ie(J,V,W.Z.WebMercator,!1,(0,w.d9)(J)):(0,k.oR)(pe)?ie(J,U,W.Z.WGS84,!1,(0,w.d9)(J)):null:null}function V(J,q,oe=[0,0]){q>89.99999?q=89.99999:q<-89.99999&&(q=-89.99999);const pe=G(q);return oe[0]=G(J)*B.sv.radius,oe[1]=B.sv.halfSemiMajorAxis*Math.log((1+Math.sin(pe))/(1-Math.sin(pe))),oe}function U(J,q,oe=[0,0],pe=!1){const de=Z(J/B.sv.radius);return oe[0]=pe?de:de-360*Math.floor((de+180)/360),oe[1]=Z(Math.PI/2-2*Math.atan(Math.exp(-q/B.sv.radius))),oe}function $(J,q=!1,oe=(0,w.d9)(J)){return ie(J,V,W.Z.WebMercator,q,oe)}function z(J,q=!1,oe=(0,w.d9)(J)){return ie(J,U,W.Z.WGS84,q,oe)}},18945:(j,F,T)=>{"use strict";function w(O,W,B=!1){let{hasM:k,hasZ:re}=O;Array.isArray(W)?4!==W.length||k||re?3===W.length&&B&&!k?(re=!0,k=!1):3===W.length&&k&&re&&(k=!1,re=!1):(k=!0,re=!0):(re=!re&&W.hasZ&&(!k||W.hasM),k=!k&&W.hasM&&(!re||W.hasZ)),O.hasZ=re,O.hasM=k}T.d(F,{l:()=>w})},33696:(j,F,T)=>{"use strict";T.d(F,{k:()=>B});var w=T(62208),O=T(16730),W=T(37053);function B(Y,ne,ae){if((0,w.Wi)(ne)||(0,w.Wi)(ae)||ae.vcsWkid||(0,W.fS)(ne,ae))return null;const se=(0,O._R)(ne)/(0,O._R)(ae);if(1===se)return null;switch(Y){case"point":case"esriGeometryPoint":return ie=>function k(Y,ne){Y&&null!=Y.z&&(Y.z*=ne)}(ie,se);case"polyline":case"esriGeometryPolyline":return ie=>function ee(Y,ne){if(Y)for(const ae of Y.paths)for(const se of ae)se.length>2&&(se[2]*=ne)}(ie,se);case"polygon":case"esriGeometryPolygon":return ie=>function re(Y,ne){if(Y)for(const ae of Y.rings)for(const se of ae)se.length>2&&(se[2]*=ne)}(ie,se);case"multipoint":case"esriGeometryMultipoint":return ie=>function Z(Y,ne){if(Y)for(const ae of Y.points)ae.length>2&&(ae[2]*=ne)}(ie,se);case"extent":case"esriGeometryExtent":return ie=>function G(Y,ne){Y&&null!=Y.zmin&&null!=Y.zmax&&(Y.zmin*=ne,Y.zmax*=ne)}(ie,se);default:return null}}},52515:(j,F,T)=>{"use strict";T(88411),T(15348),T(97059),T(56683);var k=T(41840),re=T(15861),ee=T(84792),Z=T(26584),G=T(62208);function ne(){return(ne=(0,re.Z)(function*(U,$,z,J){const q=$.exec(z);if(!q)throw new Z.Z("esri-intl:invalid-bundle",`Bundle id "${z}" is not compatible with the pattern "${$}"`);const oe=q[1]?`${q[1]}/`:"",pe=q[2],de=(0,k.Su)(J),be=`${oe}${pe}.json`,me=de?`${oe}${pe}_${de}.json`:be;let _e;try{_e=yield ae(U(me))}catch(le){if(me===be)throw new Z.Z("intl:unknown-bundle",`Bundle "${z}" cannot be loaded`,{error:le});try{_e=yield ae(U(be))}catch(fe){throw new Z.Z("intl:unknown-bundle",`Bundle "${z}" cannot be loaded`,{error:fe})}}return _e})).apply(this,arguments)}function ae(U){return se.apply(this,arguments)}function se(){return(se=(0,re.Z)(function*(U){if((0,G.pC)(Q.fetchBundleAsset))return Q.fetchBundleAsset(U);const $=yield(0,ee.default)(U,{responseType:"text"});return JSON.parse($.data)})).apply(this,arguments)}class ie{constructor({base:$="",pattern:z,location:J=new URL(window.location.href)}){let q;q="string"==typeof J?oe=>new URL(oe,new URL(J,window.location.href)).href:J instanceof URL?oe=>new URL(oe,J).href:J,this.pattern="string"==typeof z?new RegExp(`^${z}`):z,this.getAssetUrl=q,$=$?$.endsWith("/")?$:$+"/":"",this.matcher=new RegExp(`^${$}(?:(.*)/)?(.*)$`)}fetchMessageBundle($,z){return function Y(U,$,z,J){return ne.apply(this,arguments)}(this.getAssetUrl,this.matcher,$,z)}}const Q={};var V=T(54346);(0,k.tz)(function te(U){return new ie(U)}({pattern:"esri/",location:V.V}))},88411:(j,F,T)=>{"use strict";T.d(F,{Ze:()=>U,p6:()=>$});var w=T(2076),O=T(56683);const W={year:"numeric",month:"numeric",day:"numeric"},B={year:"numeric",month:"long",day:"numeric"},k={year:"numeric",month:"short",day:"numeric"},re={year:"numeric",month:"long",weekday:"long",day:"numeric"},ee={hour:"numeric",minute:"numeric"},Z={...ee,second:"numeric"},G={"short-date":W,"short-date-short-time":{...W,...ee},"short-date-short-time-24":{...W,...ee,hour12:!1},"short-date-long-time":{...W,...Z},"short-date-long-time-24":{...W,...Z,hour12:!1},"short-date-le":W,"short-date-le-short-time":{...W,...ee},"short-date-le-short-time-24":{...W,...ee,hour12:!1},"short-date-le-long-time":{...W,...Z},"short-date-le-long-time-24":{...W,...Z,hour12:!1},"long-month-day-year":B,"long-month-day-year-short-time":{...B,...ee},"long-month-day-year-short-time-24":{...B,...ee,hour12:!1},"long-month-day-year-long-time":{...B,...Z},"long-month-day-year-long-time-24":{...B,...Z,hour12:!1},"day-short-month-year":k,"day-short-month-year-short-time":{...k,...ee},"day-short-month-year-short-time-24":{...k,...ee,hour12:!1},"day-short-month-year-long-time":{...k,...Z},"day-short-month-year-long-time-24":{...k,...Z,hour12:!1},"long-date":re,"long-date-short-time":{...re,...ee},"long-date-short-time-24":{...re,...ee,hour12:!1},"long-date-long-time":{...re,...Z},"long-date-long-time-24":{...re,...Z,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ee,"long-time":Z},Y=(0,w.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),ie=(Y.toJSON.bind(Y),Y.fromJSON.bind(Y),{ar:"ar-u-nu-latn-ca-gregory"});let te=new WeakMap,Q=G["short-date-short-time"];function U(z){return z?G[z]:null}function $(z,J){return function V(z){const J=z||Q;let q=te.get(J);if(!q){const oe=(0,O.Kd)(),pe=ie[(0,O.Kd)()]||oe;q=new Intl.DateTimeFormat(pe,J),te.set(J,q)}return q}(J).format(z)}(0,O.Ze)(()=>{te=new WeakMap,Q=G["short-date-short-time"]})},56683:(j,F,T)=>{"use strict";let O;T.d(F,{Kd:()=>k,Ze:()=>se,qe:()=>ne});const W=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function B(){return W??globalThis.navigator?.language??"en"}function k(){return void 0===O&&(O=B()),O}const Y=[];function ne(te){return Y.push(te),{remove(){Y.splice(Y.indexOf(te),1)}}}const ae=[];function se(te){return ae.push(te),{remove(){Y.splice(ae.indexOf(te),1)}}}globalThis.addEventListener?.("languagechange",function ie(){const te=B();O!==te&&(O=te,[...ae].forEach(Q=>{Q.call(null,te)}),[...Y].forEach(Q=>{Q.call(null,te)}))})},41840:(j,F,T)=>{"use strict";T.d(F,{ME:()=>ae,Su:()=>ie,tz:()=>ne});var w=T(15861),O=T(26584),W=T(10699),B=T(56683);const k=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,re={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ee(z){return re[z]??!1}const Z=[],G=new Map;function Y(z){for(const J of G.keys())V(z.pattern,J)&&G.delete(J)}function ne(z){return Z.includes(z)||(Y(z),Z.unshift(z)),{remove(){const J=Z.indexOf(z);J>-1&&(Z.splice(J,1),Y(z))}}}function ae(z){return se.apply(this,arguments)}function se(){return(se=(0,w.Z)(function*(z){const J=(0,B.Kd)();G.has(z)||G.set(z,te(z,J));const q=G.get(z);return q&&(yield U.add(q)),q})).apply(this,arguments)}function ie(z){if(!k.test(z))return null;const J=k.exec(z);if(null===J)return null;const[,q,oe]=J,pe=q+(oe?"-"+oe.toUpperCase():"");return ee(pe)?pe:ee(q)?q:null}function te(z,J){return Q.apply(this,arguments)}function Q(){return(Q=(0,w.Z)(function*(z,J){const q=[];for(const oe of Z)if(V(oe.pattern,z))try{return yield oe.fetchMessageBundle(z,J)}catch(pe){q.push(pe)}throw q.length?new O.Z("intl:message-bundle-error",`Errors occurred while loading "${z}"`,{errors:q}):new O.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${z}"`)})).apply(this,arguments)}function V(z,J){return"string"==typeof z?J.startsWith(z):z.test(J)}(0,B.Ze)(()=>{G.clear()});const U=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){var z=this;return(0,w.Z)(function*(){z._dfd&&(yield z._dfd.promise)})()}add(z){return this._increase(),z.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,W.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(j,F,T)=>{"use strict";T.d(F,{sh:()=>ee,uf:()=>Z});var w=T(62208),O=T(56683);const W={ar:"ar-u-nu-latn"};let B=new WeakMap,k={};function ee(G={}){const Y={};return null!=G.digitSeparator&&(Y.useGrouping=G.digitSeparator),null!=G.places&&(Y.minimumFractionDigits=Y.maximumFractionDigits=G.places),Y}function Z(G,Y){return-0===G&&(G=0),function re(G){const Y=G||k;if(!B.has(Y)){const ne=(0,O.Kd)(),ae=W[(0,O.Kd)()]||ne;B.set(Y,new Intl.NumberFormat(ae,G))}return(0,w.j0)(B.get(Y))}(Y).format(G)}(0,O.Ze)(()=>{B=new WeakMap,k={}})},97059:(j,F,T)=>{"use strict";T.d(F,{n:()=>ee});var w=T(63290),O=T(94113),W=T(77275),B=T(88411),k=T(15348);const re=w.Z.getLogger("esri.intl.substitute");function ee(ae,se,ie={}){const{format:te={}}=ie;return(0,W.gx)(ae,Q=>function Z(ae,se,ie){let te,Q;const V=ae.indexOf(":");if(-1===V?te=ae.trim():(te=ae.slice(0,V).trim(),Q=ae.slice(V+1).trim()),!te)return"";const U=(0,O.hS)(te,se);if(null==U)return"";const $=(Q?ie?.[Q]:null)??ie?.[te];return $?function G(ae,se){switch(se.type){case"date":return(0,B.p6)(ae,se.intlOptions);case"number":return(0,k.uf)(ae,se.intlOptions);default:return re.warn("missing format descriptor for key {key}"),ne(ae)}}(U,$):Q?function Y(ae,se){switch(se.toLowerCase()){case"dateformat":return(0,B.p6)(ae);case"numberformat":return(0,k.uf)(ae);default:return re.warn(`inline format is unsupported since 4.12: ${se}`),/^(dateformat|datestring)/i.test(se)?(0,B.p6)(ae):/^numberformat/i.test(se)?(0,k.uf)(ae):ne(ae)}}(U,Q):ne(U)}(Q,se,te))}function ne(ae){switch(typeof ae){case"string":return ae;case"number":return(0,k.uf)(ae);case"boolean":return""+ae;default:return ae instanceof Date?(0,B.p6)(ae):""}}},24263:(j,F,T)=>{"use strict";T.d(F,{Dp:()=>Z,Nv:()=>k,i8:()=>B,id:()=>re,qh:()=>ee});var w=T(15861),O=T(8314),W=T(21726);const B="4.26",k={request:(G,Y)=>(0,w.Z)(function*(){const{default:ne}=yield Promise.resolve().then(T.bind(T,84792)),ae=G.options,se=ae.responseType;ae.signal=Y?.signal,ae.responseType="native"===se||"native-request-init"===se?"native-request-init":se&&["blob","json","text"].includes(se)&&(0,W.oh)(G.url)?.after?se:"array-buffer";const ie=yield ne(G.url,ae),te={data:ie.data,httpStatus:ie.httpStatus,ssl:ie.ssl};switch(ie.requestOptions?.responseType){case"native-request-init":return delete te.data.signal,te;case"blob":te.data=yield te.data.arrayBuffer();break;case"json":te.data=(new TextEncoder).encode(JSON.stringify(te.data)).buffer;break;case"text":te.data=(new TextEncoder).encode(te.data).buffer}return{result:te,transferList:[te.data]}})()};let re;function ee(G){re=G}function Z(G){const Y=re&&re.findCredential(G);return Y&&Y.token?(0,W.ZN)(G,"token",Y.token):G}(0,O.Z)("host-webworker")},80415:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>$t});var w=T(15861),O=T(17626),W=T(73281),Y=(T(4832),T(49067),T(96794),T(69747),T(40425),T(69357),T(40342)),ne=T(73640),ae=T(33474),se=T(32088),ie=T(84792),te=T(20383),Q=T(79608),V=T(74333),U=T(26584),$=T(72392),z=T(58817),J=T(63290),q=T(62208),oe=T(99959),pe=T(94113),de=T(10699),be=T(95737),me=T(21726),_e=T(77712),le=T(66656),fe=T(68653),Ee=T(76898),ye=T(99433),ue=T(383),Me=T(27402),ce=T(65234),ge=T(44917),Ie=(T(29132),T(88879)),Re=T(80542),Ce=T(8314),Fe=T(47996),Ne=T(60330),Le=T(59289),Oe=T(90912),ke=(T(85931),T(61039)),Ye=T(20514),xe=T(61515),We=T(17253),Qe=T(2004),lt=T(37118),ve=T(71774);let Te=0;const Be="esri.layers.graphics.sources.MemorySource",Ge=J.Z.getLogger(Be);let $e=class extends(Fe.Z.LoadableMixin((0,Ne.v)((0,Re.p)(V.Z)))){constructor(it){super(it),this._idToClientGraphic=null,this.type="memory"}load(it){const ft=(0,q.pC)(it)?it.signal:null;return this.addResolvingPromise(this._startWorker(ft)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const it=this.layer?.geometryType;return it?this._geometryTypeRequiresClientGraphicMapping(it)?"polygon":it:null}applyEdits(it){return this.load().then(()=>this._applyEdits(it))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(it,ft={}){var jt=this;return(0,w.Z)(function*(){yield jt.load(ft);const Jt=yield jt._connection.invoke("queryFeatures",it?it.toJSON():null,ft);(0,xe.p)(it,jt.layer.spatialReference,Jt);const En=We.Z.fromJSON(Jt);if(!jt._requiresClientGraphicMapping())return En;const wn=jt.layer.objectIdField;for(const Hn of En.features){const fr=jt._idToClientGraphic.get(Hn.attributes[wn]);fr&&(Hn.geometry=fr.geometry)}return En.geometryType=jt.layer.geometryType,En})()}queryFeaturesJSON(it,ft={}){var jt=this;return(0,w.Z)(function*(){if(jt._requiresClientGraphicMapping())throw new U.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield jt.load(ft);const Jt=yield jt._connection.invoke("queryFeatures",it?it.toJSON():null,ft);return(0,xe.p)(it,jt.layer.spatialReference,Jt),Jt})()}queryFeatureCount(it,ft={}){return this.load(ft).then(()=>this._connection.invoke("queryFeatureCount",it?it.toJSON():null,ft))}queryObjectIds(it,ft={}){return this.load(ft).then(()=>this._connection.invoke("queryObjectIds",it?it.toJSON():null,ft))}queryExtent(it,ft={}){return this.load(ft).then(()=>this._connection.invoke("queryExtent",it?it.toJSON():null,ft)).then(jt=>({count:jt.count,extent:Qe.Z.fromJSON(jt.extent)}))}querySnapping(it,ft={}){return this.load(ft).then(()=>this._connection.invoke("querySnapping",it,ft))}_applyEdits(it){var ft=this;return(0,w.Z)(function*(){if(!ft._connection)throw new U.Z("feature-layer-source:edit-failure","Memory source not loaded");const jt=ft.layer.objectIdField;let Jt=null;const En=[],wn=[];yield Promise.all([ft._prepareClientMapping(it.addFeatures,null),ft._prepareClientMapping(it.updateFeatures,null)]);const Hn=$r=>"objectId"in $r&&null!=$r.objectId?$r.objectId:"attributes"in $r&&null!=$r.attributes[jt]?$r.attributes[jt]:null;if(it.addFeatures&&(Jt=ft._prepareAddFeatures(it.addFeatures)),it.deleteFeatures)for(const $r of it.deleteFeatures){const Zr=Hn($r);null!=Zr&&En.push(Zr)}const Sr=it.updateFeatures&&ft._idToClientGraphic?new Map:null;if(it.updateFeatures)for(const $r of it.updateFeatures)if(wn.push(ft._serializeFeature($r)),Sr){const Zr=Hn($r);null!=Zr&&Sr.set(Zr,$r)}(0,Ye.P)(Jt?Jt.features:null,wn,ft.layer.spatialReference);const{fullExtent:fr,featureEditResults:nr}=yield ft._connection.invoke("applyEdits",{adds:Jt?Jt.features:[],updates:wn,deletes:En});return ft.fullExtent=fr,Jt&&Jt.finish(nr.uidToObjectId),ft._updateClientGraphicIds(Sr,nr),ft._createEditsResult(nr)})()}_prepareClientMapping(it,ft){var jt=this;return(0,w.Z)(function*(){if("mesh"!==jt._layerOrSourceGeometryType||(0,q.Wi)(it))return;const Jt=[];for(const{geometry:En}of it)!(0,q.pC)(En)||"mesh"!==En.type||En.hasExtent||En.loaded||Jt.push(En.load({signal:ft}));Jt.length&&(yield Promise.all(Jt))})()}_updateClientGraphicIds(it,ft){if(this._idToClientGraphic){if(it)for(const jt of ft.updateResults){if(!jt.success)continue;const Jt=it.get(jt.objectId);null!=Jt&&this._addIdToClientGraphic(Jt)}for(const jt of ft.deleteResults)jt.success&&this._idToClientGraphic.delete(jt.objectId)}}_createEditsResult(it){return{addFeatureResults:it.addResults?it.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:it.updateResults?it.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:it.deleteResults?it.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(it){const ft=!0===it.success?null:it.error||{code:void 0,description:void 0};return{objectId:it.objectId,globalId:it.globalId,error:ft?new U.Z("feature-layer-source:edit-failure",ft.description,{code:ft.code}):null}}_prepareAddFeatures(it){const ft=new Map,jt=new Array(it.length);let Jt=null;for(let wn=0;wn<it.length;wn++){const Hn=it[wn],Sr=this._serializeFeature(Hn);!Jt&&(0,q.pC)(Hn.geometry)&&(Jt=Hn.geometry.type),jt[wn]=Sr,ft.set(`${Sr.uid}`,Hn)}const En=this;return{features:jt,inferredGeometryType:Jt,finish(wn){const Hn=En.sourceJSON.objectIdField;for(const Sr in wn){const fr=wn[Sr],nr=ft.get(Sr);nr&&(nr.attributes||(nr.attributes={}),-1===fr?delete nr.attributes[Hn]:nr.attributes[Hn]=fr,En._addIdToClientGraphic(nr))}}}}_addIdToClientGraphic(it){if(!this._idToClientGraphic)return;const jt=it.attributes&&it.attributes[this.sourceJSON.objectIdField];null!=jt&&this._idToClientGraphic.set(jt,it)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(it){return this._geometryTypeRequiresClientGraphicMapping(it.type)}_geometryTypeRequiresClientGraphicMapping(it){return"mesh"===it||"multipatch"===it||"extent"===it}_serializeFeature(it){const{attributes:ft}=it,jt=this._geometryForSerialization(it),Jt=(Te++).toString();return jt?{uid:Jt,geometry:jt.toJSON(),attributes:ft}:{uid:Jt,attributes:ft}}_geometryForSerialization(it){const{geometry:ft}=it;return(0,q.Wi)(ft)?null:this._geometryRequiresClientGraphicMapping(ft)?ft.extent?lt.Z.fromExtent(ft.extent):null:ft}_startWorker(it){var ft=this;return(0,w.Z)(function*(){ft._connection=yield(0,Le.bA)("MemorySourceWorker",{strategy:(0,Ce.Z)("feature-layers-workers")?"dedicated":"local",signal:it});const{fields:jt,spatialReference:Jt,objectIdField:En,hasM:wn,hasZ:Hn,timeInfo:Sr}=ft.layer,fr="defaults"===ft.layer.originOf("spatialReference");yield ft._prepareClientMapping(ft.items,it);const nr=ft._prepareAddFeatures(ft.items);ft.handles.add(ft.on("before-changes",wr=>{Ge.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),wr.preventDefault()}));const $r={features:nr.features,fields:jt&&jt.map(wr=>wr.toJSON()),geometryType:ve.P.toJSON(ft._workerGeometryType),hasM:"mesh"!==ft._layerOrSourceGeometryType&&wn,hasZ:"mesh"===ft._layerOrSourceGeometryType||Hn,objectIdField:En,spatialReference:fr?null:Jt&&Jt.toJSON(),timeInfo:Sr?Sr.toJSON():null},Zr=yield ft._connection.invoke("load",$r,{signal:it});for(const wr of Zr.warnings)Ge.warn(wr.message,{layer:ft.layer,warning:wr});Zr.featureErrors.length&&Ge.warn(`Encountered ${Zr.featureErrors.length} validation errors while loading features`,Zr.featureErrors);const ni=Zr.layerDefinition;ft._geometryTypeRequiresClientGraphicMapping(nr.inferredGeometryType)&&(ni.geometryType=ve.P.toJSON(nr.inferredGeometryType)),ft.sourceJSON=ni,ft._requiresClientGraphicMapping()&&(ft._idToClientGraphic=new Map),nr.finish(Zr.assignedObjectIds)})()}};(0,O._)([(0,ke.c)({Type:Ie.Z,ensureType:(0,Oe.se)(Ie.Z)})],$e.prototype,"itemType",void 0),(0,O._)([(0,_e.Cb)()],$e.prototype,"type",void 0),(0,O._)([(0,_e.Cb)({constructOnly:!0})],$e.prototype,"layer",void 0),(0,O._)([(0,_e.Cb)({readOnly:!0})],$e.prototype,"_workerGeometryType",null),(0,O._)([(0,_e.Cb)()],$e.prototype,"sourceJSON",void 0),$e=(0,O._)([(0,Ee.j)(Be)],$e);var Xe=T(50085),at=T(65088),we=T(552),tt=T(50107),pt=T(6733),Pt=T(35126),mt=T(27123),St=T(15008),ut=T(49286),_t=T(32629),Ct=T(6647),Rt=T(14517);let Gt=class extends Rt.Z{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,O._)([(0,_e.Cb)()],Gt.prototype,"updating",void 0),(0,O._)([(0,_e.Cb)()],Gt.prototype,"status",void 0),Gt=(0,O._)([(0,Ee.j)("esri.layers.support.PublishingInfo")],Gt);const bn=Gt,Mn="esri.layers.mixins.PublishableLayer",Dn=Symbol(Mn),an=it=>{var ft;let jt=class extends it{constructor(){super(...arguments),this[ft]=!0}get publishingInfo(){if(this.destroyed)return null;const Jt=this._get("publishingInfo");if(Jt)return Jt;const En=new bn;return this._checkPublishingStatus(En),En}_checkPublishingStatus(Jt){var En=this;let Sr=0;const fr=function(){var $r=(0,w.Z)(function*(Zr){let ni;Jt.updating=!0;try{ni=yield En.fetchPublishingStatus()}catch{ni="unavailable"}"published"!==ni&&"unavailable"!==ni||("publishing"===Jt.status&&En.refresh(),nr.remove()),Jt.status=ni,Jt.updating=!1,nr.removed||(Sr=setTimeout(fr,Zr,Zr+125))});return function(ni){return $r.apply(this,arguments)}}(),nr={removed:!1,remove(){this.removed=!0,clearTimeout(Sr)}};this.when().catch(()=>nr.remove()),fr(250),this.own(nr)}};return ft=Dn,(0,O._)([(0,_e.Cb)({readOnly:!0,clonable:!1})],jt.prototype,"publishingInfo",null),jt=(0,O._)([(0,Ee.j)(Mn)],jt),jt};var Fn=T(30346),zn=T(99555),rr=T(97941),mr=T(38305),Et=T(13812),Dt=T(26331),Bt=T(32777),Ht=T(41638),on=T(55911),rn=T(36630),cn=T(170),un=T(62667),$n=T(94138),Cn=T(73917),Nn=T(5676),tr=T(15283),It=T(39683),Wt=T(96854),Qt=T(6871),Rn=T(49430),yt=T(92236);const Vt="FeatureLayer",Yt="esri.layers.FeatureLayer",ln=J.Z.getLogger(Yt);function In(it,ft){return new U.Z("layer:unsupported",`Layer (${it.title}, ${it.id}) of type '${it.declaredClass}' ${ft}`,{layer:it})}function gr(it){return it&&it instanceof V.Z}const Lr=(0,on.v)();function ti(it,ft,jt){const Jt=!!jt?.writeLayerSchema;return{enabled:Jt,ignoreOrigin:Jt}}let Jn=class extends((0,mt.B)((0,St.M)((0,Pt.b)(an((0,pt.o1)((0,we.h)((0,_t.c)((0,rr.n)((0,zn.M)((0,Fn.Q)((0,at.Y)((0,ut.q)((0,Ct.I)((0,oe.R)((0,tt.N)((0,Xe.V)((0,Q.J)(ge.Z)))))))))))))))))){constructor(...it){super(...it),this._handles=new $.Z,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=ce.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0}destroy(){this.source?.destroy(),this._handles=(0,q.SC)(this._handles)}normalizeCtorArgs(it,ft){return"string"==typeof it?{url:it,...ft}:it}load(it){var ft=this;const jt=(0,q.pC)(it)?it.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(jt).then(En=>this.initLayerProperties(En))),Promise.resolve(this);const Jt=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},it).catch(de.r9).then((0,w.Z)(function*(){if(ft.url&&null==ft.layerId&&/FeatureServer|MapServer\/*$/i.test(ft.url)){const En=yield ft._fetchFirstLayerId(jt);null!=En&&(ft.layerId=En)}if(!ft.url&&!ft._hasMemorySource())throw new U.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return ft.initLayerProperties(yield ft.createGraphicsSource(jt))})).then(()=>this._setUserPrivileges(this.serviceItemId,it)).then(()=>(0,Dt.nU)(this,it));return this.addResolvingPromise(Jt),Promise.resolve(this)}readCapabilities(it,ft){return(0,$n.h)(ft=ft.layerDefinition||ft,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(it){this._overrideIfSome("editingEnabled",it)}readEditingEnabled(it,ft){return this._readEditingEnabled(ft,!1)}readEditingEnabledFromWebMap(it,ft,jt){return this._readEditingEnabled(ft,!0,jt)}writeEditingEnabled(it,ft){this._writeEditingEnabled(it,ft,!1)}writeEditingEnabledToWebMap(it,ft,jt,Jt){this._writeEditingEnabled(it,ft,!0,Jt)}get effectiveEditingEnabled(){return(0,Dt.sX)(this)}readIsTable(it,ft){return"Table"===(ft=ft?.layerDefinition??ft).type||!ft.geometryType}writeIsTable(it,ft,jt,Jt){Jt?.writeLayerSchema&&(0,pe.RB)(jt,it?"Table":"Feature Layer",ft)}readGlobalIdField(it,ft){return(0,Dt.rk)(ft.layerDefinition||ft)}readObjectIdField(it,ft){return(0,Dt.kZ)(ft.layerDefinition||ft)}get parsedUrl(){const it=(0,me.mN)(this.url);return null!=it&&(null!=this.dynamicDataSource?it.path=(0,me.v_)(it.path,"dynamicLayer"):null!=this.layerId&&(it.path=(0,me.v_)(it.path,this.layerId.toString()))),it}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(it){(0,rn.YN)(it,this.fieldsIndex),this._set("renderer",it)}readRenderer(it,ft,jt){const Jt=(ft=ft.layerDefinition||ft).drawingInfo?.renderer;if(Jt){const En=(0,ae.a)(Jt,ft,jt)??void 0;return En||ln.error("Failed to create renderer",{rendererDefinition:ft.drawingInfo.renderer,layer:this,context:jt}),En}if(ft.defaultSymbol)return ft.types&&ft.types.length?new ne.Z({defaultSymbol:He(ft.defaultSymbol,ft,jt),field:ft.typeIdField,uniqueValueInfos:ft.types.map(En=>({id:En.id,symbol:He(En.symbol,En,jt)}))}):new Y.Z({symbol:He(ft.defaultSymbol,ft,jt)})}set source(it){const ft=this._get("source");ft!==it&&(gr(ft)&&this._resetMemorySource(ft),gr(it)&&this._initMemorySource(it),this._set("source",it))}castSource(it){return it?Array.isArray(it)||it instanceof V.Z?new $e({layer:this,items:it}):it:null}readSource(it,ft){const jt=We.Z.fromJSON(ft.featureSet);return new $e({layer:this,items:jt?.features??[]})}readTemplates(it,ft){const jt=ft.editFieldsInfo,Jt=jt&&jt.creatorField,En=jt&&jt.editorField;return it=it&&it.map(wn=>Bt.Z.fromJSON(wn)),this._fixTemplates(it,Jt),this._fixTemplates(it,En),it}readTitle(it,ft){const jt=ft.layerDefinition?.name??ft.name,Jt=ft.title||ft.layerDefinition&&ft.layerDefinition.title;if(jt){const En=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,mr.a7)(this.url,jt):jt;let wn=jt;if(!wn&&this.url){const Hn=(0,mr.Qc)(this.url);(0,q.pC)(Hn)&&(wn=Hn.title)}return wn?("item-title-and-service-name"===this.sublayerTitleMode&&En&&En!==wn&&(wn=En+" - "+wn),(0,mr.ld)(wn)):void 0}if("item-title"===this.sublayerTitleMode&&Jt)return Jt}readTitleFromWebMap(it,ft){return ft.title||ft.layerDefinition&&ft.layerDefinition.name}readTypeIdField(it,ft){let jt=(ft=ft.layerDefinition||ft).typeIdField;if(jt&&ft.fields){jt=jt.toLowerCase();const Jt=ft.fields.find(En=>En.name.toLowerCase()===jt);Jt&&(jt=Jt.name)}return jt}readTypes(it,ft){it=(ft=ft.layerDefinition||ft).types;const jt=ft.editFieldsInfo,Jt=jt&&jt.creatorField,En=jt&&jt.editorField;return it&&it.map(wn=>(wn=Ht.Z.fromJSON(wn),this._fixTemplates(wn.templates,Jt),this._fixTemplates(wn.templates,En),wn))}readVisible(it,ft){return ft.layerDefinition&&null!=ft.layerDefinition.defaultVisibility?!!ft.layerDefinition.defaultVisibility:null!=ft.visibility?!!ft.visibility:void 0}addAttachment(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.JD)(jt,it,ft,Vt)})()}updateAttachment(it,ft,jt){var Jt=this;return(0,w.Z)(function*(){return(0,Dt.Y5)(Jt,it,ft,jt,Vt)})()}applyEdits(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.Jj)(jt,it,ft)})()}on(it,ft){return super.on(it,ft)}createPopupTemplate(it){return(0,Rn.eZ)(this,it)}createGraphicsSource(it){var ft=this;return(0,w.Z)(function*(){if(ft._hasMemorySource()&&ft.source)return ft.source.load({signal:it});const{default:jt}=yield(0,de.Hl)(Promise.all([T.e(8592),T.e(5547)]).then(T.bind(T,45547)),it);return new jt({layer:ft}).load({signal:it})})()}createQuery(){const it=(0,Dt.rP)(this);it.dynamicDataSource=this.dynamicDataSource;const ft=(0,q.pC)(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,jt=(0,be._)(this.definitionExpression,ft);return it.where=jt||"1=1",it}deleteAttachments(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.FV)(jt,it,ft,Vt)})()}fetchRecomputedExtents(it){var ft=this;return(0,w.Z)(function*(){return(0,Dt.Ci)(ft,it,Vt)})()}getFeatureType(it){const{typeIdField:ft,types:jt}=this;if(!ft||!it)return null;const Jt=it.attributes?it.attributes[ft]:void 0;if(null==Jt)return null;let En=null;return jt?.some(wn=>{const{id:Hn}=wn;return null!=Hn&&(Hn.toString()===Jt.toString()&&(En=wn),!!En)}),En}getFieldDomain(it,ft){const Jt=this.getFeatureType(ft&&ft.feature);if(Jt){const En=Jt.domains&&Jt.domains[it];if(En&&"inherited"!==En.type)return En}return this._getLayerDomain(it)}getField(it){return this.fieldsIndex.get(it)}queryAttachments(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.SU)(jt,it,ft,Vt)})()}queryFeatures(it,ft){var jt=this;return(0,w.Z)(function*(){const Jt=yield jt.load(),En=yield Jt.source.queryFeatures(Wt.Z.from(it)??Jt.createQuery(),ft);if(En?.features)for(const wn of En.features)wn.layer=wn.sourceLayer=Jt;return En})()}queryObjectIds(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.tD)(jt,it,ft,Vt)})()}queryFeatureCount(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.VG)(jt,it,ft,Vt)})()}queryExtent(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.KE)(jt,it,ft,Vt)})()}queryRelatedFeatures(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.kp)(jt,it,ft,Vt)})()}queryRelatedFeaturesCount(it,ft){var jt=this;return(0,w.Z)(function*(){return(0,Dt.C9)(jt,it,ft,Vt)})()}queryTopFeatures(it,ft){var jt=this;return(0,w.Z)(function*(){const{source:Jt,capabilities:En}=yield jt.load();if(!Jt.queryTopFeatures||!En?.query?.supportsTopFeaturesQuery)throw new U.Z(Vt,"Layer source does not support queryTopFeatures capability");const wn=yield Jt.queryTopFeatures(Qt.Z.from(it),ft);if(wn?.features)for(const Hn of wn.features)Hn.layer=Hn.sourceLayer=jt;return wn})()}queryTopObjectIds(it,ft){var jt=this;return(0,w.Z)(function*(){const{source:Jt,capabilities:En}=yield jt.load();if(!Jt.queryTopObjectIds||!En?.query.supportsTopFeaturesQuery)throw new U.Z(Vt,"Layer source does not support queryTopObjectIds capability");return Jt.queryTopObjectIds(Qt.Z.from(it),ft)})()}queryTopFeaturesExtent(it,ft){var jt=this;return(0,w.Z)(function*(){const{source:Jt,capabilities:En}=yield jt.load();if(!Jt.queryTopExtents||!En?.query?.supportsTopFeaturesQuery)throw new U.Z(Vt,"Layer source does not support queryTopExtents capability");return Jt.queryTopExtents(Qt.Z.from(it),ft)})()}queryTopFeatureCount(it,ft){var jt=this;return(0,w.Z)(function*(){const{source:Jt,capabilities:En}=yield jt.load();if(!Jt.queryTopCount||!En?.query?.supportsTopFeaturesQuery)throw new U.Z(Vt,"Layer source does not support queryFeatureCount capability");return Jt.queryTopCount(Qt.Z.from(it),ft)})()}read(it,ft){const jt=it.featureCollection;if(jt){const Jt=jt.layers;Jt&&1===Jt.length&&(super.read(Jt[0],ft),null!=jt.showLegend&&super.read({showLegend:jt.showLegend},ft))}super.read(it,ft),ft&&"service"===ft.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(it,ft){ft={...ft,origin:ft?.origin??void 0,writeLayerSchema:ft?.writeLayerSchema??this._hasMemorySource()};const{origin:jt,layerContainerType:Jt,messages:En}=ft;if(this.dynamicDataSource)return En?.push(In(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if("web-scene"===jt||"web-map"===jt&&"tables"!==Jt)return En?.push(In(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return En?.push(In(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===jt&&"tables"===Jt)return En?.push(In(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(it,ft)}clone(){if(this._hasMemorySource())throw new U.Z(Vt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(it){return!!this.loaded&&("memory"===this.source?.type||(0,Nn.D)(this,it))}save(it){var ft=this;return(0,w.Z)(function*(){return(yield T.e(6912).then(T.bind(T,36912))).save(ft,it)})()}saveAs(it,ft){var jt=this;return(0,w.Z)(function*(){return(yield T.e(6912).then(T.bind(T,36912))).saveAs(jt,it,ft)})()}_readEditingEnabled(it,ft,jt){let Jt=it.layerDefinition?.capabilities;return Jt?this._hasEditingCapability(Jt):(Jt=it.capabilities,ft&&"web-map"===jt?.origin&&!this._hasMemorySource()&&Jt?this._hasEditingCapability(Jt):void 0)}_hasEditingCapability(it){return it.toLowerCase().split(",").map(ft=>ft.trim()).includes("editing")}_writeEditingEnabled(it,ft,jt,Jt){if(!it){const En=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,pe.RB)("layerDefinition.capabilities",En,ft),jt&&!Jt?.writeLayerSchema&&(ft.capabilities=En)}}_getLayerDomain(it){const ft=this.fieldsIndex.get(it);return ft?ft.domain:null}_fetchFirstLayerId(it){return(0,ie.default)(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:it}).then(ft=>{const jt=ft.data;if(jt)return Array.isArray(jt.layers)&&jt.layers.length>0?jt.layers[0].id:Array.isArray(jt.tables)&&jt.tables.length>0?jt.tables[0].id:void 0})}initLayerProperties(it){var ft=this;return(0,w.Z)(function*(){return ft._set("source",it),it.sourceJSON&&(ft.sourceJSON=it.sourceJSON,ft.read(it.sourceJSON,{origin:"service",portalItem:ft.portalItem,portal:ft.portalItem?.portal,url:ft.parsedUrl})),ft._verifySource(),ft._verifyFields(),(0,rn.YN)(ft.renderer,ft.fieldsIndex),(0,rn.UF)(ft.timeInfo,ft.fieldsIndex),(0,It.y)(ft,{origin:"service"})})()}hasDataChanged(){var it=this;return(0,w.Z)(function*(){return(0,Dt.gG)(it)})()}fetchPublishingStatus(){var it=this;return(0,w.Z)(function*(){const ft=it.source;return ft?.fetchPublishingStatus?ft.fetchPublishingStatus():"unavailable"})()}_verifyFields(){const it=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+it+")"),this.isTable||this._hasMemorySource()||-1!==it.search(/\/FeatureServer\//i)||this.fields?.some(ft=>"geometry"===ft.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+it+")")}_fixTemplates(it,ft){it&&it.forEach(jt=>{const Jt=jt.prototype&&jt.prototype.attributes;Jt&&ft&&delete Jt[ft]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new U.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new U.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(it){it.forEach(ft=>{ft.layer=this,ft.sourceLayer=this}),this._handles.add([it.on("after-add",ft=>{ft.item.layer=this,ft.item.sourceLayer=this}),it.on("after-remove",ft=>{ft.item.layer=null,ft.item.sourceLayer=null})],"fl-source")}_resetMemorySource(it){it.forEach(ft=>{ft.layer=null,ft.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}};(0,O._)([(0,fe.r)("service","capabilities")],Jn.prototype,"readCapabilities",null),(0,O._)([(0,_e.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Jn.prototype,"charts",void 0),(0,O._)([(0,_e.Cb)({readOnly:!0})],Jn.prototype,"createQueryVersion",null),(0,O._)([(0,_e.Cb)({json:{read:{source:"layerDefinition.copyrightText"}}})],Jn.prototype,"copyright",void 0),(0,O._)([(0,_e.Cb)({json:{read:{source:"layerDefinition.displayField"}}})],Jn.prototype,"displayField",void 0),(0,O._)([(0,_e.Cb)({types:te.LB,readOnly:!0})],Jn.prototype,"defaultSymbol",void 0),(0,O._)([(0,_e.Cb)({type:tr.n})],Jn.prototype,"dynamicDataSource",void 0),(0,O._)([(0,_e.Cb)({type:Boolean})],Jn.prototype,"editingEnabled",null),(0,O._)([(0,fe.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Jn.prototype,"readEditingEnabled",null),(0,O._)([(0,fe.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Jn.prototype,"readEditingEnabledFromWebMap",null),(0,O._)([(0,ye.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Jn.prototype,"writeEditingEnabled",null),(0,O._)([(0,ye.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Jn.prototype,"writeEditingEnabledToWebMap",null),(0,O._)([(0,_e.Cb)({readOnly:!0})],Jn.prototype,"effectiveEditingEnabled",null),(0,O._)([(0,_e.Cb)({...Lr.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:ti}}}}})],Jn.prototype,"fields",void 0),(0,O._)([(0,_e.Cb)(Lr.fieldsIndex)],Jn.prototype,"fieldsIndex",void 0),(0,O._)([(0,_e.Cb)({type:Me.Z,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Jn.prototype,"formTemplate",void 0),(0,O._)([(0,_e.Cb)({json:{read:{source:"layerDefinition.extent"}}})],Jn.prototype,"fullExtent",void 0),(0,O._)([(0,_e.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:ti,writer(it,ft,jt){const Jt=it?Dt.Fr.toJSON(it):null;Jt&&(0,pe.RB)(jt,Jt,ft)}}}},read:{source:"layerDefinition.geometryType",reader:Dt.Fr.read}}})],Jn.prototype,"geometryType",void 0),(0,O._)([(0,_e.Cb)({json:{read:{source:"layerDefinition.hasM"}}})],Jn.prototype,"hasM",void 0),(0,O._)([(0,_e.Cb)({json:{read:{source:"layerDefinition.hasZ"}}})],Jn.prototype,"hasZ",void 0),(0,O._)([(0,_e.Cb)(Et.id)],Jn.prototype,"id",void 0),(0,O._)([(0,_e.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Jn.prototype,"infoFor3D",void 0),(0,O._)([(0,_e.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Jn.prototype,"isTable",void 0),(0,O._)([(0,fe.r)("service","isTable",["type","geometryType"]),(0,fe.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Jn.prototype,"readIsTable",null),(0,O._)([(0,ye.c)("web-map","isTable")],Jn.prototype,"writeIsTable",null),(0,O._)([(0,_e.Cb)(Et.iR)],Jn.prototype,"labelsVisible",void 0),(0,O._)([(0,_e.Cb)({type:[cn.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:un.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:un.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Jn.prototype,"labelingInfo",void 0),(0,O._)([(0,_e.Cb)((()=>{const it=(0,z.d9)(Et.bT);return it.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(ft,jt,Jt){(0,pe.RB)(Jt,(0,yt.a)(ft),jt)}}},it})())],Jn.prototype,"opacity",void 0),(0,O._)([(0,_e.Cb)(Et.rn)],Jn.prototype,"legendEnabled",void 0),(0,O._)([(0,_e.Cb)({type:["show","hide"],json:(()=>{const it=(0,z.d9)(Et.rT.json);return it.origins["portal-item"]={read:!1,write:!1},it})()})],Jn.prototype,"listMode",void 0),(0,O._)([(0,fe.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Jn.prototype,"readGlobalIdField",null),(0,O._)([(0,_e.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:ti}}}}})],Jn.prototype,"objectIdField",void 0),(0,O._)([(0,fe.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Jn.prototype,"readObjectIdField",null),(0,O._)([(0,_e.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Jn.prototype,"operationalLayerType",void 0),(0,O._)([(0,_e.Cb)(Lr.outFields)],Jn.prototype,"outFields",void 0),(0,O._)([(0,_e.Cb)({readOnly:!0})],Jn.prototype,"parsedUrl",null),(0,O._)([(0,_e.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Jn.prototype,"path",void 0),(0,O._)([(0,_e.Cb)(Et.C_)],Jn.prototype,"popupEnabled",void 0),(0,O._)([(0,_e.Cb)({type:W.Z,json:{name:"popupInfo",write:!0}})],Jn.prototype,"popupTemplate",void 0),(0,O._)([(0,_e.Cb)({readOnly:!0})],Jn.prototype,"defaultPopupTemplate",null),(0,O._)([(0,_e.Cb)({types:se.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:se.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(it,ft,jt)=>({ignoreOrigin:jt?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(it,ft,jt)=>({ignoreOrigin:jt?.writeLayerSchema})}}})],Jn.prototype,"renderer",null),(0,O._)([(0,fe.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,fe.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Jn.prototype,"readRenderer",null),(0,O._)([(0,_e.Cb)((()=>{const it=(0,z.d9)(Et.YI);return it.json.origins["portal-item"]={read:!1,write:!1},it})())],Jn.prototype,"screenSizePerspectiveEnabled",void 0),(0,O._)([(0,_e.Cb)({clonable:!1})],Jn.prototype,"source",null),(0,O._)([(0,le.p)("source")],Jn.prototype,"castSource",null),(0,O._)([(0,fe.r)("portal-item","source",["featureSet"]),(0,fe.r)("web-map","source",["featureSet"])],Jn.prototype,"readSource",null),(0,O._)([(0,_e.Cb)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Jn.prototype,"spatialReference",void 0),(0,O._)([(0,_e.Cb)({type:Number})],Jn.prototype,"subtypeCode",void 0),(0,O._)([(0,_e.Cb)({type:[Bt.Z]})],Jn.prototype,"templates",void 0),(0,O._)([(0,fe.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Jn.prototype,"readTemplates",null),(0,O._)([(0,_e.Cb)({type:Cn.Z})],Jn.prototype,"timeInfo",void 0),(0,O._)([(0,_e.Cb)()],Jn.prototype,"title",void 0),(0,O._)([(0,fe.r)("service","title",["name"]),(0,fe.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Jn.prototype,"readTitle",null),(0,O._)([(0,fe.r)("web-map","title",["layerDefinition.name","title"])],Jn.prototype,"readTitleFromWebMap",null),(0,O._)([(0,_e.Cb)({type:String})],Jn.prototype,"sublayerTitleMode",void 0),(0,O._)([(0,_e.Cb)({json:{read:!1}})],Jn.prototype,"type",void 0),(0,O._)([(0,_e.Cb)({type:String})],Jn.prototype,"typeIdField",void 0),(0,O._)([(0,fe.r)("service","typeIdField"),(0,fe.r)("typeIdField",["layerDefinition.typeIdField"])],Jn.prototype,"readTypeIdField",null),(0,O._)([(0,_e.Cb)({type:[Ht.Z]})],Jn.prototype,"types",void 0),(0,O._)([(0,fe.r)("service","types",["types"]),(0,fe.r)("types",["layerDefinition.types"])],Jn.prototype,"readTypes",null),(0,O._)([(0,_e.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Jn.prototype,"visible",void 0),(0,O._)([(0,fe.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Jn.prototype,"readVisible",null),Jn=(0,O._)([(0,Ee.j)(Yt)],Jn);const He=(0,ue.d)({types:te.QT}),$t=Jn},51470:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(28705),ee=T(44917),Z=T(552),G=T(99555),Y=T(51815),ne=T(82706);let ae=class extends((0,Z.h)((0,G.M)(ee.Z))){constructor(ie){super(ie),this.elevationInfo=null,this.graphics=new Y.J,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(ie){return this.graphics.add(ie),this}addMany(ie){return this.graphics.addMany(ie),this}removeAll(){return this.graphics.removeAll(),this}remove(ie){this.graphics.remove(ie)}removeMany(ie){this.graphics.removeMany(ie)}on(ie,te){return super.on(ie,te)}graphicChanged(ie){this.emit("graphic-update",ie)}};(0,w._)([(0,O.Cb)({type:ne.Z})],ae.prototype,"elevationInfo",void 0),(0,w._)([(0,O.Cb)((0,re.z)(Y.J,"graphics"))],ae.prototype,"graphics",void 0),(0,w._)([(0,O.Cb)({type:["show","hide"]})],ae.prototype,"listMode",void 0),(0,w._)([(0,O.Cb)()],ae.prototype,"screenSizePerspectiveEnabled",void 0),(0,w._)([(0,O.Cb)({readOnly:!0})],ae.prototype,"type",void 0),(0,w._)([(0,O.Cb)({constructOnly:!0})],ae.prototype,"internal",void 0),ae=(0,w._)([(0,k.j)("esri.layers.GraphicsLayer")],ae);const se=ae},44917:(j,F,T)=>{"use strict";T.d(F,{Z:()=>oe});var w=T(15861),O=T(17626),B=(T(29132),T(84792)),k=T(26584),re=T(61885),ee=T(61996),Z=T(47996),G=T(63290),Y=T(10699),ne=T(21726),ae=T(77712),te=(T(90912),T(85931),T(76898)),Q=T(59318);function U(){return(U=(0,w.Z)(function*(pe){const de="portalItem"in pe?pe:{portalItem:pe},be=yield T.e(7534).then(T.bind(T,7534));try{return yield be.fromItem(de)}catch(me){const _e=de&&de.portalItem,le=_e&&_e.id||"unset",fe=_e&&_e.portal&&_e.portal.url||Q.Z.portalUrl;throw G.Z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+fe+"', id: '"+le+"')",me),me}})).apply(this,arguments)}var $=T(2004),z=T(65234);let J=0,q=class extends(re.Z.EventedMixin((0,ee.IG)(Z.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new $.Z(-180,-90,180,90,z.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+J++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=z.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(pe){return(0,w.Z)(function*(){const de="string"==typeof pe?{url:pe}:pe;return(yield T.e(4578).then(T.bind(T,24578))).fromUrl(de)})()}static fromPortalItem(pe){return function V(pe){return U.apply(this,arguments)}(pe)}initialize(){this.when().catch(pe=>{(0,Y.D_)(pe)||G.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:pe})})}destroy(){if(this.parent){const pe=this,de=this.parent;"layers"in de&&de.layers.includes(pe)?de.layers.remove(pe):"tables"in de&&de.tables.includes(pe)?de.tables.remove(pe):"baseLayers"in de&&de.baseLayers.includes(pe)?de.baseLayers.remove(pe):"baseLayers"in de&&de.referenceLayers.includes(pe)&&de.referenceLayers.remove(pe)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,ne.mN)(this.url)}fetchAttributionData(){var pe=this;return(0,w.Z)(function*(){const de=pe.attributionDataUrl;if(pe.hasAttributionData&&de)return(yield(0,B.default)(de,{query:{f:"json"},responseType:"json"})).data;throw new k.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,O._)([(0,ae.Cb)({type:String})],q.prototype,"attributionDataUrl",void 0),(0,O._)([(0,ae.Cb)({type:$.Z})],q.prototype,"fullExtent",void 0),(0,O._)([(0,ae.Cb)({readOnly:!0})],q.prototype,"hasAttributionData",null),(0,O._)([(0,ae.Cb)({type:String,clonable:!1})],q.prototype,"id",void 0),(0,O._)([(0,ae.Cb)({type:Boolean,nonNullable:!0})],q.prototype,"legendEnabled",void 0),(0,O._)([(0,ae.Cb)({type:["show","hide","hide-children"]})],q.prototype,"listMode",void 0),(0,O._)([(0,ae.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],q.prototype,"opacity",void 0),(0,O._)([(0,ae.Cb)({clonable:!1})],q.prototype,"parent",void 0),(0,O._)([(0,ae.Cb)({readOnly:!0})],q.prototype,"parsedUrl",null),(0,O._)([(0,ae.Cb)({type:Boolean})],q.prototype,"popupEnabled",void 0),(0,O._)([(0,ae.Cb)({type:Boolean})],q.prototype,"attributionVisible",void 0),(0,O._)([(0,ae.Cb)({type:z.Z})],q.prototype,"spatialReference",void 0),(0,O._)([(0,ae.Cb)({type:String})],q.prototype,"title",void 0),(0,O._)([(0,ae.Cb)({readOnly:!0,json:{read:!1}})],q.prototype,"type",void 0),(0,O._)([(0,ae.Cb)()],q.prototype,"url",void 0),(0,O._)([(0,ae.Cb)({type:Boolean,nonNullable:!0})],q.prototype,"visible",void 0),q=(0,O._)([(0,te.j)("esri.layers.Layer")],q);const oe=q},58141:(j,F,T)=>{"use strict";T.d(F,{rk:()=>ae,Tj:()=>se,GI:()=>ie,CE:()=>te,Tq:()=>Q,Zx:()=>V,Ee:()=>z});var w=T(20414),O=T(23841),W=T(55494),B=T(28347);class ae{constructor(q,oe,pe){this.strength=q,this.radius=oe,this.threshold=pe,this.type="bloom"}interpolate(q,oe,pe){this.strength=U(q.strength,oe.strength,pe),this.radius=U(q.radius,oe.radius,pe),this.threshold=U(q.threshold,oe.threshold,pe)}clone(){return new ae(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:$(this.radius),strength:this.strength,threshold:this.threshold}}}class se{constructor(q){this.radius=q,this.type="blur"}interpolate(q,oe,pe){this.radius=Math.round(U(q.radius,oe.radius,pe))}clone(){return new se(this.radius)}toJSON(){return{type:"blur",radius:$(this.radius)}}}class ie{constructor(q,oe){this.type=q,this.amount=oe,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(q,oe,pe){this.amount=U(q.amount,oe.amount,pe),this._updateMatrix()}clone(){return new ie(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const q=this._colorMatrix||(0,W.c)();switch(this.type){case"brightness":this._colorMatrix=((J,q)=>{const oe=(0,B.s)(J,q,0,0,0,0,q,0,0,0,0,q,0,0,0,0,1);return(0,B.t)(oe,oe)})(q,this.amount);break;case"contrast":this._colorMatrix=((J,q)=>{const oe=(0,B.s)(J,q,0,0,.5-.5*q,0,q,0,.5-.5*q,0,0,q,.5-.5*q,0,0,0,1);return(0,B.t)(oe,oe)})(q,this.amount);break;case"grayscale":this._colorMatrix=((J,q)=>{const oe=1-this.amount,pe=(0,B.s)(J,.2126+.7874*oe,.7152-.7152*oe,.0722-.0722*oe,0,.2126-.2126*oe,.7152+.2848*oe,.0722-.0722*oe,0,.2126-.2126*oe,.7152-.7152*oe,.0722+.9278*oe,0,0,0,0,1);return(0,B.t)(pe,pe)})(q);break;case"invert":this._colorMatrix=((J,q)=>{const oe=1-2*q,pe=(0,B.s)(J,oe,0,0,q,0,oe,0,q,0,0,oe,q,0,0,0,1);return(0,B.t)(pe,pe)})(q,this.amount);break;case"saturate":this._colorMatrix=((J,q)=>{const oe=(0,B.s)(J,.213+.787*q,.715-.715*q,.072-.072*q,0,.213-.213*q,.715+.285*q,.072-.072*q,0,.213-.213*q,.715-.715*q,.072+.928*q,0,0,0,0,1);return(0,B.t)(oe,oe)})(q,this.amount);break;case"sepia":this._colorMatrix=((J,q)=>{const oe=1-this.amount,pe=(0,B.s)(J,.393+.607*oe,.769-.769*oe,.189-.189*oe,0,.349-.349*oe,.686+.314*oe,.168-.168*oe,0,.272-.272*oe,.534-.534*oe,.131+.869*oe,0,0,0,0,1);return(0,B.t)(pe,pe)})(q)}}}class te{constructor(q,oe,pe,de){this.offsetX=q,this.offsetY=oe,this.blurRadius=pe,this.color=de,this.type="drop-shadow"}interpolate(q,oe,pe){this.offsetX=U(q.offsetX,oe.offsetX,pe),this.offsetY=U(q.offsetY,oe.offsetY,pe),this.blurRadius=U(q.blurRadius,oe.blurRadius,pe),this.color[0]=Math.round(U(q.color[0],oe.color[0],pe)),this.color[1]=Math.round(U(q.color[1],oe.color[1],pe)),this.color[2]=Math.round(U(q.color[2],oe.color[2],pe)),this.color[3]=U(q.color[3],oe.color[3],pe)}clone(){return new te(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const q=[...this.color];return q[3]*=255,{type:"drop-shadow",xoffset:$(this.offsetX),yoffset:$(this.offsetY),blurRadius:$(this.blurRadius),color:q}}}class Q{constructor(q){this.angle=q,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(q,oe,pe){this.angle=U(q.angle,oe.angle,pe),this._updateMatrix()}clone(){return new Q(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const q=this._colorMatrix||(0,W.c)();this._colorMatrix=((J,q)=>{const oe=Math.sin(q*Math.PI/180),pe=Math.cos(q*Math.PI/180),de=(0,B.s)(J,.213+.787*pe-.213*oe,.715-.715*pe-.715*oe,.072-.072*pe+.928*oe,0,.213-.213*pe+.143*oe,.715+.285*pe+.14*oe,.072-.072*pe-.283*oe,0,.213-.213*pe-.787*oe,.715-.715*pe+.715*oe,.072+.928*pe+.072*oe,0,0,0,0,1);return(0,B.t)(de,de)})(q,this.angle)}}class V{constructor(q){this.amount=q,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(q,oe,pe){this.amount=U(q.amount,oe.amount,pe)}clone(){return new V(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function U(J,q,oe){return J+(q-J)*oe}function $(J){return Math.round(1e3*(0,O.Wz)(J))/1e3}function z(J){switch(J.type){case"grayscale":case"sepia":case"invert":return new ie(J.type,0);case"saturate":case"brightness":case"contrast":return new ie(J.type,1);case"opacity":return new V(1);case"hue-rotate":return new Q(0);case"blur":return new se(0);case"drop-shadow":return new te(0,0,0,[...(0,w.h$)("transparent")]);case"bloom":return new ae(0,0,1)}}},71149:(j,F,T)=>{"use strict";T.d(F,{cW:()=>re,ij:()=>k,rM:()=>Y});var w=T(26584),O=T(94113),W=T(29538),B=T(53390);function k(se,ie,te){try{return function Z(se){if(!se||0===se.length)return null;if(function G(se){const ie=se[0];return!!ie&&"scale"in ie}(se)){const ie=[];for(const te of se)ie.push({scale:te.scale,value:Y(te.value)});return ie}return Y(se)}(se)}catch(Q){te?.messages?.push(Q)}return null}function re(se,ie,te,Q){try{const V=function ee(se){const ie=(0,W.Q)(se);return ie?(0,B.Cb)(ie)?ie.map(te=>te.toJSON()):ie.map(({scale:te,effects:Q})=>({scale:te,value:Q.map(V=>V.toJSON())})):null}(se);(0,O.RB)(te,V,ie)}catch(V){Q.messages&&Q.messages.push(V)}}function Y(se){if(!se||!se.length)return"";const ie=[];for(const te of se){let Q=[];switch(te.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":Q=[ne(te,"amount")];break;case"blur":Q=[ne(te,"radius","pt")];break;case"hue-rotate":Q=[ne(te,"angle","deg")];break;case"drop-shadow":Q=[ne(te,"xoffset","pt"),ne(te,"yoffset","pt"),ne(te,"blurRadius","pt"),ae(te,"color")];break;case"bloom":Q=[ne(te,"strength"),ne(te,"radius","pt"),ne(te,"threshold")]}const V=`${te.type}(${Q.filter(Boolean).join(" ")})`;(0,W.Q)(V),ie.push(V)}return ie.join(" ")}function ne(se,ie,te){if(null==se[ie])throw new w.Z("effect:missing-parameter",`Missing parameter '${ie}' in ${se.type} effect`,{effect:se});return te?se[ie]+te:""+se[ie]}function ae(se,ie){if(null==se[ie])throw new w.Z("effect:missing-parameter",`Missing parameter '${ie}' in ${se.type} effect`,{effect:se});const te=se[ie];return`rgba(${te[0]||0}, ${te[1]||0}, ${te[2]||0}, ${te[3]/255||0})`}},29538:(j,F,T)=>{"use strict";T.d(F,{Q:()=>G});var re,w=T(20414),O=T(26584),W=T(58141),k=(T(1719),T(53390)),Z={};function G(ge){if(!ge||0===ge.length)return null;if("string"==typeof ge){const Ie=Y(ge);return Ie&&0!==Ie.length?Ie:null}const Pe=ge.map(Ie=>{if(!Number.isFinite(Ie.scale)||Ie.scale<=0)throw new O.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:Ie});return{scale:Ie.scale,effects:Y(Ie.value)}});Pe.sort((Ie,Re)=>Re.effects.length-Ie.effects.length);for(let Ie=0;Ie<Pe.length-1;Ie++){if(!(0,k.AS)(Pe[Ie].effects,Pe[Ie+1].effects))throw new O.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:Pe[Ie].effects,b:Pe[Ie+1].effects});(0,k.uF)(Pe[Ie].effects,Pe[Ie+1].effects)}return Pe.sort((Ie,Re)=>Re.scale-Ie.scale),Pe}function Y(ge){let Pe;if(!ge)return[];try{Pe=Z.parse(ge)}catch(Ie){throw new O.Z("effect:invalid-syntax","Invalid effect syntax",{value:ge,error:Ie})}return Pe.map(Ie=>function ne(ge){try{switch(ge.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function ae(ge){let Pe=1;return U(ge.parameters,1),1===ge.parameters.length&&(Pe=me(ge.parameters[0])),new W.GI(ge.name,Pe)}(ge);case"opacity":return function se(ge){let Pe=1;return U(ge.parameters,1),1===ge.parameters.length&&(Pe=me(ge.parameters[0])),new W.Zx(Pe)}(ge);case"hue-rotate":return function ie(ge){let Pe=0;return U(ge.parameters,1),1===ge.parameters.length&&(Pe=function le(ge){return function pe(ge){if("quantity"!==ge.type||!(0===ge.value&&null===ge.unit||ge.unit&&null!=oe[ge.unit]))throw new O.Z("effect:type-error",`Expected <angle>, Actual: ${$(ge)}`,{term:ge})}(ge),ge.value*oe[ge.unit]||0}(ge.parameters[0])),new W.Tq(Pe)}(ge);case"blur":return function te(ge){let Pe=0;return U(ge.parameters,1),1===ge.parameters.length&&(Pe=fe(ge.parameters[0]),z(Pe,ge.parameters[0])),new W.Tj(Pe)}(ge);case"drop-shadow":return function Q(ge){const Pe=[];let Ie=null;for(const Re of ge.parameters)if("color"===Re.type){if(Pe.length&&Object.freeze(Pe),Ie)throw new O.Z("effect:type-error","Accepts only one color",{});Ie=Ee(Re)}else{const Ce=fe(Re);if(Object.isFrozen(Pe))throw new O.Z("effect:type-error","<length> parameters not consecutive",{lengths:Pe});Pe.push(Ce),3===Pe.length&&z(Ce,Re)}if(Pe.length<2||Pe.length>3)throw new O.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${Pe.length}}`,{lengths:Pe});return new W.CE(Pe[0],Pe[1],Pe[2]||0,Ie||ye("black"))}(ge);case"bloom":return function V(ge){let Pe=1,Ie=0,Re=0;return U(ge.parameters,3),ge.parameters[0]&&(Pe=me(ge.parameters[0])),ge.parameters[1]&&(Ie=fe(ge.parameters[1]),z(Ie,ge.parameters[1])),ge.parameters[2]&&(Re=me(ge.parameters[2])),new W.rk(Pe,Ie,Re)}(ge)}}catch(Pe){throw Pe.details.filter=ge,Pe}throw new O.Z("effect:unknown-effect",`Effect '${ge.name}' is not supported`,{effect:ge})}(Ie))}function U(ge,Pe){if(ge.length>Pe)throw new O.Z("effect:type-error",`Function supports up to ${Pe} parameters, Actual: ${ge.length}`,{parameters:ge})}function $(ge){if("color"===ge.type)return"<color>";if(ge.unit){if(de[ge.unit])return"<length>";if(oe[ge.unit])return"<angle>";if("%"===ge.unit)return"<percentage>"}return"<double>"}function z(ge,Pe){if(ge<0)throw new O.Z("effect:type-error",`Negative values are not allowed, Actual: ${ge}`,{term:Pe})}(re={get exports(){return Z},set exports(ge){Z=ge}}).exports&&(re.exports=function(){function Pe(Ce,Fe,Ne,Le){var Oe=Error.call(this,Ce);return Object.setPrototypeOf&&Object.setPrototypeOf(Oe,Pe.prototype),Oe.expected=Fe,Oe.found=Ne,Oe.location=Le,Oe.name="SyntaxError",Oe}function Ie(Ce,Fe,Ne){return Ne=Ne||" ",Ce.length>Fe?Ce:Ce+(Ne+=Ne.repeat(Fe-=Ce.length)).slice(0,Fe)}return function ge(Ce,Fe){function Ne(){this.constructor=Ce}Ne.prototype=Fe.prototype,Ce.prototype=new Ne}(Pe,Error),Pe.prototype.format=function(Ce){var Fe="Error: "+this.message;if(this.location){var Ne,Le=null;for(Ne=0;Ne<Ce.length;Ne++)if(Ce[Ne].source===this.location.source){Le=Ce[Ne].text.split(/\r\n|\n|\r/g);break}var Oe=this.location.start,Ue=this.location.source+":"+Oe.line+":"+Oe.column;if(Le){var ke=this.location.end,Ye=Ie("",Oe.line.toString().length," "),xe=Le[Oe.line-1],We=(Oe.line===ke.line?ke.column:xe.length+1)-Oe.column||1;Fe+="\n --\x3e "+Ue+"\n"+Ye+" |\n"+Oe.line+" | "+xe+"\n"+Ye+" | "+Ie("",Oe.column-1," ")+Ie("",We,"^")}else Fe+="\n at "+Ue}return Fe},Pe.buildMessage=function(Ce,Fe){var Ne={literal:function(We){return'"'+Oe(We.text)+'"'},class:function(We){var Qe=We.parts.map(function(lt){return Array.isArray(lt)?Ue(lt[0])+"-"+Ue(lt[1]):Ue(lt)});return"["+(We.inverted?"^":"")+Qe.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(We){return We.description}};function Le(We){return We.charCodeAt(0).toString(16).toUpperCase()}function Oe(We){return We.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Qe){return"\\x0"+Le(Qe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Qe){return"\\x"+Le(Qe)})}function Ue(We){return We.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Qe){return"\\x0"+Le(Qe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Qe){return"\\x"+Le(Qe)})}function ke(We){return Ne[We.type](We)}return"Expected "+function Ye(We){var Qe,lt,ve=We.map(ke);if(ve.sort(),ve.length>0){for(Qe=1,lt=1;Qe<ve.length;Qe++)ve[Qe-1]!==ve[Qe]&&(ve[lt]=ve[Qe],lt++);ve.length=lt}switch(ve.length){case 1:return ve[0];case 2:return ve[0]+" or "+ve[1];default:return ve.slice(0,-1).join(", ")+", or "+ve[ve.length-1]}}(Ce)+" but "+function xe(We){return We?'"'+Oe(We)+'"':"end of input"}(Fe)+" found."},{SyntaxError:Pe,parse:function Re(Ce,Fe){var Ne,Le={},Oe=(Fe=void 0!==Fe?Fe:{}).grammarSource,Ue={start:Si},ke=Si,ut=/^[ \t\n\r]/,_t=/^[a-z\-]/,Ct=/^[0-9a-fA-F]/,Rt=/^[+\-]/,Gt=/^[0-9]/,bn=qn("none"),Mn=xt("none",!1),Dn=xt(")",!1),Kn=xt(",",!1),an=qn("whitespace"),Fn=gn([" ","\t","\n","\r"],!1,!1),zn=qn("function"),rr=xt("(",!1),mr=qn("identifier"),Et=gn([["a","z"],"-"],!1,!1),Dt=qn("percentage"),Bt=xt("%",!1),Ht=qn("length"),on=xt("px",!1),rn=xt("cm",!1),cn=xt("mm",!1),un=xt("in",!1),$n=xt("pt",!1),Cn=xt("pc",!1),Nn=qn("angle"),tr=xt("deg",!1),It=xt("rad",!1),Wt=xt("grad",!1),Qt=xt("turn",!1),Rn=qn("number"),yt=qn("color"),Vt=xt("#",!1),Yt=gn([["0","9"],["a","f"],["A","F"]],!1,!1),ln=gn(["+","-"],!1,!1),In=gn([["0","9"]],!1,!1),gr=xt(".",!1),Lr=xt("e",!1),zt=0,Hr=0,ur=[{line:1,column:1}],di=0,Tt=[],dt=0;if("startRule"in Fe){if(!(Fe.startRule in Ue))throw new Error("Can't start parsing from rule \""+Fe.startRule+'".');ke=Ue[Fe.startRule]}function vt(){return Ce.substring(Hr,zt)}function xt(Ft,hn){return{type:"literal",text:Ft,ignoreCase:hn}}function gn(Ft,hn,An){return{type:"class",parts:Ft,inverted:hn,ignoreCase:An}}function qn(Ft){return{type:"other",description:Ft}}function Wn(Ft){var hn,An=ur[Ft];if(An)return An;for(hn=Ft-1;!ur[hn];)hn--;for(An={line:(An=ur[hn]).line,column:An.column};hn<Ft;)10===Ce.charCodeAt(hn)?(An.line++,An.column=1):An.column++,hn++;return ur[Ft]=An,An}function jn(Ft){zt<di||(zt>di&&(di=zt,Tt=[]),Tt.push(Ft))}function Si(){var Ft;return(Ft=function Os(){var Ft,hn;return dt++,Ft=zt,Bi(),"none"===Ce.substr(zt,4)?(hn="none",zt+=4):(hn=Le,0===dt&&jn(Mn)),hn!==Le?(Bi(),Hr=Ft,Ft=[]):(zt=Ft,Ft=Le),dt--,Ft===Le&&0===dt&&jn(bn),Ft}())===Le&&(Ft=function hs(){var Ft,hn;if(Ft=[],(hn=ys())!==Le)for(;hn!==Le;)Ft.push(hn),hn=ys();else Ft=Le;return Ft}()),Ft}function ys(){var Ft,hn,An,Wr;return Ft=zt,Bi(),(hn=function oi(){var Ft,hn,An;return dt++,Ft=zt,(hn=Da())!==Le?(40===Ce.charCodeAt(zt)?(An="(",zt++):(An=Le,0===dt&&jn(rr)),An!==Le?(Hr=Ft,Ft=hn):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),dt--,Ft===Le&&(hn=Le,0===dt&&jn(zn)),Ft}())!==Le?(Bi(),(An=function Gs(){var Ft,hn,An,Wr,$i,Di,js,va;if(Ft=zt,(hn=Fi())!==Le){for(An=[],Wr=zt,$i=Bi(),44===Ce.charCodeAt(zt)?(Di=",",zt++):(Di=Le,0===dt&&jn(Kn)),Di===Le&&(Di=null),js=Bi(),(va=Fi())!==Le?Wr=$i=[$i,Di,js,va]:(zt=Wr,Wr=Le);Wr!==Le;)An.push(Wr),Wr=zt,$i=Bi(),44===Ce.charCodeAt(zt)?(Di=",",zt++):(Di=Le,0===dt&&jn(Kn)),Di===Le&&(Di=null),js=Bi(),(va=Fi())!==Le?Wr=$i=[$i,Di,js,va]:(zt=Wr,Wr=Le);Hr=Ft,Ft=function(Ft,hn){return hn.length>0?function lr(Ft,hn,An){return[Ft].concat(function go(Ft,hn){return Ft.map(function(An){return An[hn]})}(hn,An))}(Ft,hn,3):[Ft]}(hn,An)}else zt=Ft,Ft=Le;return Ft}())===Le&&(An=null),Bi(),41===Ce.charCodeAt(zt)?(Wr=")",zt++):(Wr=Le,0===dt&&jn(Dn)),Wr!==Le?(Bi(),Hr=Ft,Ft=function(Ft,hn){return{type:"function",name:Ft,parameters:hn||[]}}(hn,An)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft}function Fi(){var Ft,hn;return Ft=zt,(hn=function Ir(){var Ft,hn,An;return dt++,Ft=zt,Bi(),(hn=Cs())!==Le?(37===Ce.charCodeAt(zt)?(An="%",zt++):(An=Le,0===dt&&jn(Bt)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"%"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),dt--,Ft===Le&&0===dt&&jn(Dt),Ft}())===Le&&(hn=function mo(){var Ft,hn,An;return dt++,Ft=zt,Bi(),(hn=Cs())!==Le?("px"===Ce.substr(zt,2)?(An="px",zt+=2):(An=Le,0===dt&&jn(on)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"px"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,Bi(),(hn=Cs())!==Le?("cm"===Ce.substr(zt,2)?(An="cm",zt+=2):(An=Le,0===dt&&jn(rn)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"cm"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,Bi(),(hn=Cs())!==Le?("mm"===Ce.substr(zt,2)?(An="mm",zt+=2):(An=Le,0===dt&&jn(cn)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"mm"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,Bi(),(hn=Cs())!==Le?("in"===Ce.substr(zt,2)?(An="in",zt+=2):(An=Le,0===dt&&jn(un)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"in"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,Bi(),(hn=Cs())!==Le?("pt"===Ce.substr(zt,2)?(An="pt",zt+=2):(An=Le,0===dt&&jn($n)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"pt"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,Bi(),(hn=Cs())!==Le?("pc"===Ce.substr(zt,2)?(An="pc",zt+=2):(An=Le,0===dt&&jn(Cn)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"pc"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le)))))),dt--,Ft===Le&&0===dt&&jn(Ht),Ft}())===Le&&(hn=function hi(){var Ft,hn,An;return dt++,Ft=zt,(hn=Cs())!==Le?("deg"===Ce.substr(zt,3)?(An="deg",zt+=3):(An=Le,0===dt&&jn(tr)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"deg"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,(hn=Cs())!==Le?("rad"===Ce.substr(zt,3)?(An="rad",zt+=3):(An=Le,0===dt&&jn(It)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"rad"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,(hn=Cs())!==Le?("grad"===Ce.substr(zt,4)?(An="grad",zt+=4):(An=Le,0===dt&&jn(Wt)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"grad"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le),Ft===Le&&(Ft=zt,(hn=Cs())!==Le?("turn"===Ce.substr(zt,4)?(An="turn",zt+=4):(An=Le,0===dt&&jn(Qt)),An!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:"turn"}}(hn)):(zt=Ft,Ft=Le)):(zt=Ft,Ft=Le)))),dt--,Ft===Le&&(hn=Le,0===dt&&jn(Nn)),Ft}())===Le&&(hn=function ai(){var Ft,hn;return dt++,Ft=zt,Bi(),(hn=Cs())!==Le?(Hr=Ft,Ft=function(Ft){return{value:Ft,unit:null}}(hn)):(zt=Ft,Ft=Le),dt--,Ft===Le&&0===dt&&jn(Rn),Ft}()),hn!==Le&&(Hr=Ft,hn=function(Ft){return{type:"quantity",value:Ft.value,unit:Ft.unit}}(hn)),(Ft=hn)===Le&&(Ft=zt,(hn=function wa(){var Ft,hn,An,Wr;if(dt++,Ft=zt,35===Ce.charCodeAt(zt)?(hn="#",zt++):(hn=Le,0===dt&&jn(Vt)),hn!==Le){if(An=[],Ct.test(Ce.charAt(zt))?(Wr=Ce.charAt(zt),zt++):(Wr=Le,0===dt&&jn(Yt)),Wr!==Le)for(;Wr!==Le;)An.push(Wr),Ct.test(Ce.charAt(zt))?(Wr=Ce.charAt(zt),zt++):(Wr=Le,0===dt&&jn(Yt));else An=Le;An!==Le?(Hr=Ft,Ft={type:"hex",value:vt()}):(zt=Ft,Ft=Le)}else zt=Ft,Ft=Le;return Ft===Le&&(Ft=zt,(hn=ys())!==Le&&(Hr=Ft,hn=function(Ft){return{type:"function",value:Ft}}(hn)),(Ft=hn)===Le&&(Ft=zt,(hn=Da())!==Le&&(Hr=Ft,hn={type:"named",value:vt()}),Ft=hn)),dt--,Ft===Le&&(hn=Le,0===dt&&jn(yt)),Ft}())!==Le&&(Hr=Ft,hn=function(Ft){return{type:"color",colorType:Ft.type,value:Ft.value}}(hn)),Ft=hn),Ft}function Bi(){var Ft,hn;for(dt++,Ft=[],ut.test(Ce.charAt(zt))?(hn=Ce.charAt(zt),zt++):(hn=Le,0===dt&&jn(Fn));hn!==Le;)Ft.push(hn),ut.test(Ce.charAt(zt))?(hn=Ce.charAt(zt),zt++):(hn=Le,0===dt&&jn(Fn));return dt--,hn=Le,0===dt&&jn(an),Ft}function Da(){var Ft,hn,An;if(dt++,Ft=zt,hn=[],_t.test(Ce.charAt(zt))?(An=Ce.charAt(zt),zt++):(An=Le,0===dt&&jn(Et)),An!==Le)for(;An!==Le;)hn.push(An),_t.test(Ce.charAt(zt))?(An=Ce.charAt(zt),zt++):(An=Le,0===dt&&jn(Et));else hn=Le;return hn!==Le&&(Hr=Ft,hn=vt()),dt--,(Ft=hn)===Le&&(hn=Le,0===dt&&jn(mr)),Ft}function Cs(){var Ft,hn,An,Wr,$i,Di,js;for(Ft=zt,Rt.test(Ce.charAt(zt))?(Ce.charAt(zt),zt++):0===dt&&jn(ln),hn=zt,An=[],Gt.test(Ce.charAt(zt))?(Wr=Ce.charAt(zt),zt++):(Wr=Le,0===dt&&jn(In));Wr!==Le;)An.push(Wr),Gt.test(Ce.charAt(zt))?(Wr=Ce.charAt(zt),zt++):(Wr=Le,0===dt&&jn(In));if(46===Ce.charCodeAt(zt)?(Wr=".",zt++):(Wr=Le,0===dt&&jn(gr)),Wr!==Le){if($i=[],Gt.test(Ce.charAt(zt))?(Di=Ce.charAt(zt),zt++):(Di=Le,0===dt&&jn(In)),Di!==Le)for(;Di!==Le;)$i.push(Di),Gt.test(Ce.charAt(zt))?(Di=Ce.charAt(zt),zt++):(Di=Le,0===dt&&jn(In));else $i=Le;$i!==Le?hn=An=[An,Wr,$i]:(zt=hn,hn=Le)}else zt=hn,hn=Le;if(hn===Le)if(hn=[],Gt.test(Ce.charAt(zt))?(An=Ce.charAt(zt),zt++):(An=Le,0===dt&&jn(In)),An!==Le)for(;An!==Le;)hn.push(An),Gt.test(Ce.charAt(zt))?(An=Ce.charAt(zt),zt++):(An=Le,0===dt&&jn(In));else hn=Le;if(hn!==Le){if(An=zt,101===Ce.charCodeAt(zt)?(Wr="e",zt++):(Wr=Le,0===dt&&jn(Lr)),Wr!==Le){if(Rt.test(Ce.charAt(zt))?($i=Ce.charAt(zt),zt++):($i=Le,0===dt&&jn(ln)),$i===Le&&($i=null),Di=[],Gt.test(Ce.charAt(zt))?(js=Ce.charAt(zt),zt++):(js=Le,0===dt&&jn(In)),js!==Le)for(;js!==Le;)Di.push(js),Gt.test(Ce.charAt(zt))?(js=Ce.charAt(zt),zt++):(js=Le,0===dt&&jn(In));else Di=Le;Di!==Le?An=Wr=[Wr,$i,Di]:(zt=An,An=Le)}else zt=An,An=Le;An===Le&&(An=null),Hr=Ft,Ft=parseFloat(vt())}else zt=Ft,Ft=Le;return Ft}if((Ne=ke())!==Le&&zt===Ce.length)return Ne;throw Ne!==Le&&zt<Ce.length&&jn({type:"end"}),function Gr(Ft,hn,An){return new Pe(Pe.buildMessage(Ft,hn),Ft,hn,An)}(Tt,di<Ce.length?Ce.charAt(di):null,function sr(Ft,hn){var An=Wn(Ft),Wr=Wn(hn);return{source:Oe,start:{offset:Ft,line:An.line,column:An.column},end:{offset:hn,line:Wr.line,column:Wr.column}}}(di,di<Ce.length?di+1:di))}}}());const oe={deg:1,grad:.9,rad:180/Math.PI,turn:360},de={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function me(ge){!function q(ge){if("quantity"!==ge.type||null!==ge.unit&&"%"!==ge.unit)throw new O.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${$(ge)}`,{term:ge})}(ge);const Pe=ge.value;return z(Pe,ge),"%"===ge.unit?.01*Pe:Pe}function fe(ge){return function be(ge){if("quantity"!==ge.type||!(0===ge.value&&null===ge.unit||ge.unit&&null!=de[ge.unit]))throw new O.Z("effect:type-error",`Expected <length>, Actual: ${$(ge)}`,{term:ge})}(ge),ge.value*de[ge.unit]||0}function Ee(ge){switch(ge.colorType){case"hex":return(0,w.rW)(ge.value);case"named":return ye(ge.value);case"function":return function ce(ge){if(U(ge.parameters,4),ue.test(ge.name))return[me(ge.parameters[0]),me(ge.parameters[1]),me(ge.parameters[2]),ge.parameters[3]?me(ge.parameters[3]):1];if(Me.test(ge.name))return(0,w.B7)(function _e(ge){return function J(ge){if("quantity"!==ge.type||null!==ge.unit)throw new O.Z("effect:type-error",`Expected <double>, Actual: ${$(ge)}`,{term:ge})}(ge),z(ge.value,ge),ge.value}(ge.parameters[0]),me(ge.parameters[1]),me(ge.parameters[2]),ge.parameters[3]?me(ge.parameters[3]):1);throw new O.Z("effect:syntax-error",`Invalid color function '${ge.name}'`,{colorFunction:ge})}(ge.value)}}function ye(ge){if(!(0,w.St)(ge))throw new O.Z("effect:unknown-color",`color '${ge}' isn't valid`,{namedColor:ge});return(0,w.VL)(ge)}const ue=/^rgba?/i,Me=/^hsla?/i},53390:(j,F,T)=>{"use strict";T.d(F,{AS:()=>O,Cb:()=>B,uF:()=>W});var w=T(58141);function O(k,re){const ee=k.length>re.length?k:re;return(k.length>re.length?re:k).every((Z,G)=>Z.type===ee[G].type)}function W(k,re){const ee=k.length>re.length?k:re,Z=k.length>re.length?re:k;for(let G=Z.length;G<ee.length;G++)Z.push((0,w.Ee)(ee[G]))}function B(k){const re=k[0];return!!re&&"type"in re}},66385:(j,F,T)=>{"use strict";T.d(F,{S6:()=>W,nd:()=>B,u_:()=>O});var w=T(62208);class O{constructor(re=null,ee={},Z,G){this.geometry=re,this.attributes=ee,this.centroid=Z,this.objectId=G,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const re=new O(this.geometry,this.attributes,this.centroid,this.objectId);return re.displayId=this.displayId,re.geohashX=this.geohashX,re.geohashY=this.geohashY,re}}function W(k){return!((0,w.Wi)(k.geometry)||!k.geometry.coords||!k.geometry.coords.length)}class B extends O{}},95786:(j,F,T)=>{"use strict";T.d(F,{Z:()=>w});class w{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const W=new w;return W.objectIdFieldName=this.objectIdFieldName,W.globalIdFieldName=this.globalIdFieldName,W.geohashFieldName=this.geohashFieldName,W.geometryProperties=this.geometryProperties,W.geometryType=this.geometryType,W.spatialReference=this.spatialReference,W.hasZ=this.hasZ,W.hasM=this.hasM,W.features=this.features,W.fields=this.fields,W.transform=this.transform,W.exceededTransferLimit=this.exceededTransferLimit,W.uniqueIdField=this.uniqueIdField,W.queryGeometry=this.queryGeometry,W.queryGeometryType=this.queryGeometryType,W}}},88071:(j,F,T)=>{"use strict";T.d(F,{Z:()=>w});class w{constructor(W=[],B=[],k=!1){this.lengths=W??[],this.coords=B??[],this.hasIndeterminateRingOrder=k}static fromRect(W){const[B,k,re,ee]=W,Z=re-B,G=ee-k;return new w([5],[B,k,Z,0,0,G,-Z,0,0,-G])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((W,B)=>W+B)}forEachVertex(W){let B=0;this.lengths.length||W(this.coords[0],this.coords[1]);for(let k=0;k<this.lengths.length;k++){const re=this.lengths[k];for(let ee=0;ee<re;ee++)W(this.coords[2*(ee+B)],this.coords[2*(ee+B)+1]);B+=re}}clone(W){return W?(W.set(this.coords),new w(this.lengths.slice(),W,this.hasIndeterminateRingOrder)):new w(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},83308:(j,F,T)=>{"use strict";T.d(F,{y:()=>te,r:()=>U});var w=T(15861),O=T(62208),W=T(27105),B=T(15176),k=T(7848),re=T(37053),ee=T(50736),Z=T(26072);class G{constructor(J,q,oe){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=J.returnDistinctValues??!1,this.fieldsIndex=oe,this.featureAdapter=q;const pe=J.outFields;if(pe&&!pe.includes("*")){this.outFields=pe;let de=0;for(const be of pe){const me=(0,ee.hr)(be),_e=this.fieldsIndex.get(me),le=_e?null:(0,ee.Jc)(me,oe),fe=_e?_e.name:(0,ee.nu)(be)||"FIELD_EXP_"+de++;this._fieldDataCache.set(be,{alias:fe,clause:le})}}}countDistinctValues(J){return this.returnDistinctValues?(J.forEach(q=>this.getAttributes(q)),this._returnDistinctMap.size):J.length}getAttributes(J){const q=this._processAttributesForOutFields(J);return this._processAttributesForDistinctValues(q)}getFieldValue(J,q,oe){const pe=oe?oe.name:q;let de=null;return this._fieldDataCache.has(pe)?de=this._fieldDataCache.get(pe)?.clause:oe||(de=(0,ee.Jc)(q,this.fieldsIndex),this._fieldDataCache.set(pe,{alias:pe,clause:de})),oe?this.featureAdapter.getAttribute(J,pe):de?.calculateValue(J,this.featureAdapter)}getDataValue(J,q){const oe=q.normalizationType,pe=q.normalizationTotal;let de=q.field&&this.getFieldValue(J,q.field,this.fieldsIndex.get(q.field));if(q.field2&&(de=`${(0,Z.wk)(de)}${q.fieldDelimiter}${(0,Z.wk)(this.getFieldValue(J,q.field2,this.fieldsIndex.get(q.field2)))}`,q.field3&&(de=`${de}${q.fieldDelimiter}${(0,Z.wk)(this.getFieldValue(J,q.field3,this.fieldsIndex.get(q.field3)))}`)),oe&&Number.isFinite(de)){const be="field"===oe&&q.normalizationField?this.getFieldValue(J,q.normalizationField,this.fieldsIndex.get(q.normalizationField)):null;de=(0,Z.fk)(de,oe,be,pe)}return de}getExpressionValue(J,q,oe,pe){const de={attributes:this.featureAdapter.getAttributes(J),layer:{fields:this.fieldsIndex.fields}},be=pe.createExecContext(de,oe);return pe.executeFunction(q,be)}getExpressionValues(J,q,oe,pe){const de={fields:this.fieldsIndex.fields};return J.map(be=>{const me={attributes:this.featureAdapter.getAttributes(be),layer:de},_e=pe.createExecContext(me,oe);return pe.executeFunction(q,_e)})}validateItem(J,q){return this._fieldDataCache.has(q)||this._fieldDataCache.set(q,{alias:q,clause:(0,ee.Jc)(q,this.fieldsIndex)}),this._fieldDataCache.get(q)?.clause?.testFeature(J,this.featureAdapter)??!1}validateItems(J,q){return this._fieldDataCache.has(q)||this._fieldDataCache.set(q,{alias:q,clause:(0,ee.Jc)(q,this.fieldsIndex)}),this._fieldDataCache.get(q)?.clause?.testSet(J,this.featureAdapter)??!1}_processAttributesForOutFields(J){const q=this.outFields;if(!q||!q.length)return this.featureAdapter.getAttributes(J);const oe={};for(const pe of q){const{alias:de,clause:be}=this._fieldDataCache.get(pe);oe[de]=be?be.calculateValue(J,this.featureAdapter):this.featureAdapter.getAttribute(J,de)}return oe}_processAttributesForDistinctValues(J){if((0,O.Wi)(J)||!this.returnDistinctValues)return J;const q=this.outFields,oe=[];if(q)for(const be of q){const{alias:me}=this._fieldDataCache.get(be);oe.push(J[me])}else for(const be in J)oe.push(J[be]);const pe=`${(q||["*"]).join(",")}=${oe.join(",")}`;let de=this._returnDistinctMap.get(pe)||0;return this._returnDistinctMap.set(pe,++de),de>1?null:J}}var U,z,Y=T(82959),ne=T(82141),ae=T(6185),se=T(36630),ie=T(46679);class te{constructor(J,q,oe){this.items=J,this.query=q,this.geometryType=oe.geometryType,this.hasM=oe.hasM,this.hasZ=oe.hasZ,this.fieldsIndex=oe.fieldsIndex,this.objectIdField=oe.objectIdField,this.spatialReference=oe.spatialReference,this.featureAdapter=oe.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const J=new G(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return J.countDistinctValues(this.items);const{groupByFieldsForStatistics:q,having:oe,outStatistics:pe}=this.query;if(!q?.length)return 1;const be=new Map,me=new Map,_e=new Set;for(const le of pe){const{statisticType:fe}=le,Ee="exceedslimit"!==fe?le.onStatisticField:void 0;if(!me.has(Ee)){const ue=[];for(const Me of q){const ce=this._getAttributeValues(J,Me,be);ue.push(ce)}me.set(Ee,this._calculateUniqueValues(ue,J.returnDistinctValues))}const ye=me.get(Ee);for(const ue in ye){const{data:Me,items:ce}=ye[ue],ge=Me.join(",");oe&&!J.validateItems(ce,oe)||_e.add(ge)}}return _e.size}createQueryResponse(){var J=this;return(0,w.Z)(function*(){let q;if(q=J.query.outStatistics?J.query.outStatistics.some(oe=>"exceedslimit"===oe.statisticType)?J._createExceedsLimitQueryResponse(J.query):yield J._createStatisticsQueryResponse(J.query):J._createFeatureQueryResponse(J.query),J.query.returnQueryGeometry){const oe=J.query.geometry;q.queryGeometry=(0,re.JY)(J.query.outSR)&&!(0,re.fS)(oe.spatialReference,J.query.outSR)?(0,ae.S2)({spatialReference:J.query.outSR,...(0,Y.iV)(oe,oe.spatialReference,J.query.outSR)}):(0,ae.S2)({spatialReference:J.query.outSR,...oe})}return q})()}createSnappingResponse(J,q){const oe=this.featureAdapter,pe=V(this.hasZ,this.hasM),{point:de,mode:be}=J,me="number"==typeof J.distance?J.distance:J.distance.x,_e="number"==typeof J.distance?J.distance:J.distance.y,le={candidates:[]},fe="esriGeometryPolygon"===this.geometryType,Ee=this._getPointCreator(be,this.spatialReference,q),ye=new $(null,0),ue=new $(null,0),Me={x:0,y:0,z:0};for(const ce of this.items){const ge=oe.getGeometry(ce);if((0,O.Wi)(ge))continue;const{coords:Pe,lengths:Ie}=ge;if(ye.coords=Pe,ue.coords=Pe,J.types&U.EDGE){let Re=0;for(let Ce=0;Ce<Ie.length;Ce++){const Fe=Ie[Ce];for(let Ne=0;Ne<Fe;Ne++,Re+=pe){const Le=ye;if(Le.coordsIndex=Re,Ne!==Fe-1){const Oe=ue;Oe.coordsIndex=Re+pe;const Ue=Me;Q(Me,de,Le,Oe);const ke=(de.x-Ue.x)/me,Ye=(de.y-Ue.y)/_e,xe=ke*ke+Ye*Ye;xe<=1&&le.candidates.push((0,ne.p)(oe.getObjectId(ce),Ee(Ue),Math.sqrt(xe),Ee(Le),Ee(Oe)))}}}}if(J.types&U.VERTEX){const Re=fe?Pe.length-pe:Pe.length;for(let Ce=0;Ce<Re;Ce+=pe){const Fe=ye;Fe.coordsIndex=Ce;const Ne=(de.x-Fe.x)/me,Le=(de.y-Fe.y)/_e,Oe=Ne*Ne+Le*Le;Oe<=1&&le.candidates.push((0,ne.u)(oe.getObjectId(ce),Ee(Fe),Math.sqrt(Oe)))}}}return le.candidates.sort((ce,ge)=>ce.distance-ge.distance),le}_getPointCreator(J,q,oe){const pe=(0,O.pC)(oe)&&!(0,re.fS)(q,oe)?me=>(0,Y.iV)(me,q,oe):me=>me,{hasZ:de}=this;return"3d"===J?de?({x:me,y:_e,z:le})=>pe({x:me,y:_e,z:le}):({x:me,y:_e})=>pe({x:me,y:_e,z:0}):({x:me,y:_e})=>pe({x:me,y:_e})}createSummaryStatisticsResponse(J){var q=this;return(0,w.Z)(function*(){const{field:oe,valueExpression:pe,normalizationField:de,normalizationType:be,normalizationTotal:me,minValue:_e,maxValue:le,scale:fe}=J,Ee=q.fieldsIndex.isDateField(oe),ye=yield q._getDataValues({field:oe,valueExpression:pe,normalizationField:de,normalizationType:be,normalizationTotal:me,scale:fe}),ue=(0,Z.S5)({normalizationType:be,normalizationField:de,minValue:_e,maxValue:le}),Me=q.fieldsIndex.get(oe),ce={value:.5,fieldType:Me?.type},ge=(0,se.qN)(Me)?(0,Z.H0)({values:ye,supportsNullCount:ue,percentileParams:ce}):(0,Z.i5)({values:ye,minValue:_e,maxValue:le,useSampleStdDev:!be,supportsNullCount:ue,percentileParams:ce});return(0,Z.F_)(ge,Ee)})()}createUniqueValuesResponse(J){var q=this;return(0,w.Z)(function*(){const{field:oe,valueExpression:pe,domains:de,returnAllCodedValues:be,scale:me}=J,_e=yield q._getDataValues({field:oe,field2:J.field2,field3:J.field3,fieldDelimiter:J.fieldDelimiter,valueExpression:pe,scale:me}),le=(0,Z.eT)(_e);return(0,Z.Qm)(le,de,be,J.fieldDelimiter)})()}createClassBreaksResponse(J){var q=this;return(0,w.Z)(function*(){const{field:oe,valueExpression:pe,normalizationField:de,normalizationType:be,normalizationTotal:me,classificationMethod:_e,standardDeviationInterval:le,minValue:fe,maxValue:Ee,numClasses:ye,scale:ue}=J,Me=yield q._getDataValues({field:oe,valueExpression:pe,normalizationField:de,normalizationType:be,normalizationTotal:me,scale:ue}),ce=(0,Z.G2)(Me,{field:oe,normalizationField:de,normalizationType:be,normalizationTotal:me,classificationMethod:_e,standardDeviationInterval:le,minValue:fe,maxValue:Ee,numClasses:ye});return(0,Z.DL)(ce,_e)})()}createHistogramResponse(J){var q=this;return(0,w.Z)(function*(){const{field:oe,valueExpression:pe,normalizationField:de,normalizationType:be,normalizationTotal:me,classificationMethod:_e,standardDeviationInterval:le,minValue:fe,maxValue:Ee,numBins:ye,scale:ue}=J,Me=yield q._getDataValues({field:oe,valueExpression:pe,normalizationField:de,normalizationType:be,normalizationTotal:me,scale:ue});return(0,Z.oF)(Me,{field:oe,normalizationField:de,normalizationType:be,normalizationTotal:me,classificationMethod:_e,standardDeviationInterval:le,minValue:fe,maxValue:Ee,numBins:ye})})()}_sortFeatures(J,q,oe){if(J.length>1&&q&&q.length)for(const pe of q.reverse()){const de=pe.split(" "),be=de[0],me=this.fieldsIndex.get(be),_e=!!de[1]&&"desc"===de[1].toLowerCase(),le=(0,Z.Lq)(me?.type,_e);J.sort((fe,Ee)=>{const ye=oe(fe,be,me),ue=oe(Ee,be,me);return le(ye,ue)})}}_createFeatureQueryResponse(J){const q=this.items,{geometryType:oe,hasM:pe,hasZ:de,objectIdField:be,spatialReference:me}=this,{outFields:_e,outSR:le,quantizationParameters:fe,resultRecordCount:Ee,resultOffset:ye,returnZ:ue,returnM:Me}=J,ce=null!=Ee&&q.length>(ye||0)+Ee,ge=_e&&(_e.includes("*")?[...this.fieldsIndex.fields]:_e.map(Pe=>this.fieldsIndex.get(Pe)));return{exceededTransferLimit:ce,features:this._createFeatures(J,q),fields:ge,geometryType:oe,hasM:pe&&Me,hasZ:de&&ue,objectIdFieldName:be,spatialReference:(0,ae.S2)(le||me),transform:fe&&(0,k.vY)(fe)||null}}_createFeatures(J,q){const oe=new G(J,this.featureAdapter,this.fieldsIndex),{hasM:pe,hasZ:de}=this,{orderByFields:be,quantizationParameters:me,returnGeometry:_e,returnCentroid:le,maxAllowableOffset:fe,resultOffset:Ee,resultRecordCount:ye,returnZ:ue=!1,returnM:Me=!1}=J,ce=de&&ue,ge=pe&&Me;let Pe=[],Ie=0;const Re=[...q];if(this._sortFeatures(Re,be,(Fe,Ne,Le)=>oe.getFieldValue(Fe,Ne,Le)),_e||le){const Fe=(0,k.vY)(me)??void 0;if(_e&&!le)for(const Ne of Re)Pe[Ie++]={attributes:oe.getAttributes(Ne),geometry:(0,ae.Op)(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(Ne),fe,Fe,ce,ge)};else if(!_e&&le)for(const Ne of Re)Pe[Ie++]={attributes:oe.getAttributes(Ne),centroid:(0,ae.EG)(this,this.featureAdapter.getCentroid(Ne,this),Fe)};else for(const Ne of Re)Pe[Ie++]={attributes:oe.getAttributes(Ne),centroid:(0,ae.EG)(this,this.featureAdapter.getCentroid(Ne,this),Fe),geometry:(0,ae.Op)(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(Ne),fe,Fe,ce,ge)}}else for(const Fe of Re){const Ne=oe.getAttributes(Fe);Ne&&(Pe[Ie++]={attributes:Ne})}const Ce=Ee||0;return null!=ye&&(Pe=Pe.slice(Ce,Math.min(Pe.length,Ce+ye))),Pe}_createExceedsLimitQueryResponse(J){let q=!1,oe=Number.POSITIVE_INFINITY,pe=Number.POSITIVE_INFINITY,de=Number.POSITIVE_INFINITY;for(const be of J.outStatistics??[])if("exceedslimit"===be.statisticType){oe=null!=be.maxPointCount?be.maxPointCount:Number.POSITIVE_INFINITY,pe=null!=be.maxRecordCount?be.maxRecordCount:Number.POSITIVE_INFINITY,de=null!=be.maxVertexCount?be.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)q=this.items.length>oe;else if(this.items.length>pe)q=!0;else{const be=V(this.hasZ,this.hasM),me=this.featureAdapter;q=this.items.reduce((_e,le)=>{const fe=me.getGeometry(le);return _e+((0,O.pC)(fe)&&fe.coords.length||0)},0)/be>de}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(q)}}]}}_createStatisticsQueryResponse(J){var q=this;return(0,w.Z)(function*(){const oe={attributes:{}},pe=[],de=new Map,be=new Map,me=new Map,_e=new Map,le=new G(J,q.featureAdapter,q.fieldsIndex),fe=J.outStatistics,{groupByFieldsForStatistics:Ee,having:ye,orderByFields:ue}=J,Me=Ee&&Ee.length,ce=!!Me,ge=ce?Ee[0]:null,Pe=ce&&!q.fieldsIndex.get(ge);for(const Re of fe??[]){const{outStatisticFieldName:Ce,statisticType:Fe}=Re,Ne=Re,Le="exceedslimit"!==Fe?Re.onStatisticField:void 0,Oe="percentile_disc"===Fe||"percentile_cont"===Fe,Ue="EnvelopeAggregate"===Fe||"CentroidAggregate"===Fe||"ConvexHullAggregate"===Fe,ke=ce&&1===Me&&(Le===ge||Pe)&&"count"===Fe;if(ce){if(!me.has(Le)){const xe=[];for(const We of Ee){const Qe=q._getAttributeValues(le,We,de);xe.push(Qe)}me.set(Le,q._calculateUniqueValues(xe,!Ue&&le.returnDistinctValues))}const Ye=me.get(Le);for(const xe in Ye){const{count:We,data:Qe,items:lt,itemPositions:ve}=Ye[xe],Te=Qe.join(",");if(!ye||le.validateItems(lt,ye)){const Be=_e.get(Te)||{attributes:{}};if(Ue){Be.aggregateGeometries||(Be.aggregateGeometries={});const{aggregateGeometries:$e,outStatisticFieldName:Xe}=yield q._getAggregateGeometry(Ne,lt);Be.aggregateGeometries[Xe]=$e}else{let $e=null;if(ke)$e=We;else{const Xe=q._getAttributeValues(le,Le,de),at=ve.map(we=>Xe[we]);$e=Oe&&"statisticParameters"in Ne?q._getPercentileValue(Ne,at):q._getStatisticValue(Ne,at,null,le.returnDistinctValues)}Be.attributes[Ce]=$e}let Ge=0;Ee.forEach(($e,Xe)=>Be.attributes[q.fieldsIndex.get($e)?$e:"EXPR_"+ ++Ge]=Qe[Xe]),_e.set(Te,Be)}}}else if(Ue){oe.aggregateGeometries||(oe.aggregateGeometries={});const{aggregateGeometries:Ye,outStatisticFieldName:xe}=yield q._getAggregateGeometry(Ne,q.items);oe.aggregateGeometries[xe]=Ye}else{const Ye=q._getAttributeValues(le,Le,de);oe.attributes[Ce]=Oe&&"statisticParameters"in Ne?q._getPercentileValue(Ne,Ye):q._getStatisticValue(Ne,Ye,be,le.returnDistinctValues)}pe.push({name:Ce,alias:Ce,type:"esriFieldTypeDouble"})}const Ie=ce?Array.from(_e.values()):[oe];return q._sortFeatures(Ie,ue,(Re,Ce)=>Re.attributes[Ce]),{fields:pe,features:Ie}})()}_getAggregateGeometry(J,q){var oe=this;return(0,w.Z)(function*(){const pe=yield Promise.all([T.e(4918),T.e(8592),T.e(2825)]).then(T.bind(T,32825)),{statisticType:de,outStatisticFieldName:be}=J,{featureAdapter:me,spatialReference:_e,geometryType:le,hasZ:fe,hasM:Ee}=oe,ye=q.map(ce=>(0,ae.Op)(le,fe,Ee,me.getGeometry(ce))),ue=pe.convexHull(_e,ye,!0)[0],Me={aggregateGeometries:null,outStatisticFieldName:null};if("EnvelopeAggregate"===de){const ce=ue?(0,B._w)(ue):(0,B.aO)(pe.union(_e,ye));Me.aggregateGeometries={...ce,spatialReference:_e},Me.outStatisticFieldName=be||"extent"}else if("CentroidAggregate"===de){const ce=ue?(0,W.tO)(ue):(0,W.$G)((0,B.aO)(pe.union(_e,ye)));Me.aggregateGeometries={x:ce[0],y:ce[1],spatialReference:_e},Me.outStatisticFieldName=be||"centroid"}else"ConvexHullAggregate"===de&&(Me.aggregateGeometries=ue,Me.outStatisticFieldName=be||"convexHull");return Me})()}_getStatisticValue(J,q,oe,pe){const{onStatisticField:de,statisticType:be}=J;let me=null;return me=oe?.has(de)?oe.get(de):(0,se.qN)(this.fieldsIndex.get(de))?(0,Z.H0)({values:q,returnDistinct:pe}):(0,Z.i5)({values:pe?[...new Set(q)]:q,minValue:null,maxValue:null,useSampleStdDev:!0}),oe&&oe.set(de,me),me["var"===be?"variance":be]}_getPercentileValue(J,q){const{onStatisticField:oe,statisticParameters:pe,statisticType:de}=J,{value:be,orderBy:me}=pe,_e=this.fieldsIndex.get(oe);return(0,Z.XL)(q,{value:be,orderBy:me,fieldType:_e?.type,isDiscrete:"percentile_disc"===de})}_getAttributeValues(J,q,oe){if(oe.has(q))return oe.get(q);const pe=this.fieldsIndex.get(q),de=this.items.map(be=>J.getFieldValue(be,q,pe));return oe.set(q,de),de}_getAttributeDataValues(J,q){return this.items.map(oe=>J.getDataValue(oe,{field:q.field,field2:q.field2,field3:q.field3,fieldDelimiter:q.fieldDelimiter,normalizationField:q.normalizationField,normalizationType:q.normalizationType,normalizationTotal:q.normalizationTotal}))}_getAttributeExpressionValues(J,q,oe){var pe=this;return(0,w.Z)(function*(){const{arcadeUtils:de}=yield(0,ie.LC)(),be=de.createFunction(q),me=oe&&de.getViewInfo(oe);return J.getExpressionValues(pe.items,be,me,de)})()}_calculateUniqueValues(J,q){const oe={},pe=this.items,de=pe.length;for(let be=0;be<de;be++){const me=pe[be],_e=[];for(const fe of J)_e.push(fe[be]);const le=_e.join(",");null==oe[le]?oe[le]={count:1,data:_e,items:[me],itemPositions:[be]}:(q||oe[le].count++,oe[le].items.push(me),oe[le].itemPositions.push(be))}return oe}_getDataValues(J){var q=this;return(0,w.Z)(function*(){const oe=new G(q.query,q.featureAdapter,q.fieldsIndex),{valueExpression:pe,field:de,normalizationField:be,normalizationType:me,normalizationTotal:_e,scale:le}=J;return pe?q._getAttributeExpressionValues(oe,pe,pe?{viewingMode:"map",scale:le,spatialReference:q.query.outSR||q.spatialReference}:null):q._getAttributeDataValues(oe,{field:de,field2:J.field2,field3:J.field3,fieldDelimiter:J.fieldDelimiter,normalizationField:be,normalizationType:me,normalizationTotal:_e})})()}}function Q(z,J,q,oe){const pe=oe.x-q.x,de=oe.y-q.y,_e=Math.min(1,Math.max(0,((J.x-q.x)*pe+(J.y-q.y)*de)/(pe*pe+de*de)));z.x=q.x+pe*_e,z.y=q.y+de*_e}function V(z,J){return z?J?4:3:J?3:2}(z=U||(U={}))[z.NONE=0]="NONE",z[z.EDGE=1]="EDGE",z[z.VERTEX=2]="VERTEX";class ${constructor(J,q){this.coords=J,this.coordsIndex=q}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}},82141:(j,F,T)=>{"use strict";function w(W,B,k){return{objectId:W,target:B,distance:k,type:"vertex"}}function O(W,B,k,re,ee,Z=!1){return{objectId:W,target:B,distance:k,type:"edge",start:re,end:ee,draped:Z}}T.d(F,{p:()=>O,u:()=>w})},50736:(j,F,T)=>{"use strict";T.d(F,{nu:()=>ie,hr:()=>se,Jc:()=>ne,G3:()=>te,Of:()=>ae,z4:()=>Y,hO:()=>G});var w=T(26584),O=T(78498),W=T(10410);const k=new class B{constructor(V,U){this._cache=new O.Z(V),this._invalidCache=new O.Z(U)}get(V,U){const $=`${U.uid}:${V}`,z=this._cache.get($);if(z)return z;if(void 0!==this._invalidCache.get($))return null;try{const J=W.WhereClause.create(V,U);return this._cache.put($,J),J}catch{return this._invalidCache.put($,null),null}}}(50,500),re="feature-store:unsupported-query",Z=new Set(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeDate"]);function G(Q,V){if(!V)return!0;const U=k.get(V,Q);if(!U)throw new w.Z(re,"invalid SQL expression",{where:V});if(!U.isStandardized)throw new w.Z(re,"where clause is not standard",{where:V});return ae(Q,U.fieldNames,"where clause contains missing fields"),!0}function Y(Q,V,U){if(!V)return!0;const $=k.get(V,Q);if(!$)throw new w.Z(re,"invalid SQL expression",{having:V});if(!$.isAggregate)throw new w.Z(re,"having does not contain a valid aggregate function",{having:V});if(ae(Q,$.fieldNames,"having contains missing fields"),!$.getExpressions().every(J=>{const{aggregateType:q,field:oe}=J,pe=Q.get(oe)?.name;return U.some(de=>{const{onStatisticField:be,statisticType:me}=de;return Q.get(be)?.name===pe&&me.toLowerCase().trim()===q})}))throw new w.Z(re,"expressions in having should also exist in outStatistics",{having:V});return!0}function ne(Q,V){return Q?k.get(Q,V):null}function ae(Q,V,U,$=!0){const z=[];for(const J of V)if("*"!==J&&!Q.has(J))if($){const q=se(J);try{const oe=ne(q,Q);if(!oe)throw new w.Z(re,"invalid SQL expression",{where:q});if(!oe.isStandardized)throw new w.Z(re,"expression is not standard",{clause:oe});ae(Q,oe.fieldNames,"expression contains missing fields")}catch(oe){const pe=oe&&oe.details;if(pe&&(pe.clause||pe.where))throw oe;pe&&pe.missingFields?z.push(...pe.missingFields):z.push(J)}}else z.push(J);if(z.length)throw new w.Z(re,U,{missingFields:z})}function se(Q){return Q.split(" as ")[0]}function ie(Q){return Q.split(" as ")[1]}function te(Q,V){const U=V.get(Q);return!!U&&!Z.has(U.type)}},82959:(j,F,T)=>{"use strict";T.d(F,{_W:()=>ne,iV:()=>te,oj:()=>U});var w=T(15861),O=T(62208),W=T(55915),B=T(15994),k=T(37053),re=T(46367);const ee=[0,0];function Z($,z){if(!z)return null;if("x"in z){const J={x:0,y:0};return[J.x,J.y]=$(z.x,z.y,ee),null!=z.z&&(J.z=z.z),null!=z.m&&(J.m=z.m),J}if("xmin"in z){const J={xmin:0,ymin:0,xmax:0,ymax:0};return[J.xmin,J.ymin]=$(z.xmin,z.ymin,ee),[J.xmax,J.ymax]=$(z.xmax,z.ymax,ee),z.hasZ&&(J.zmin=z.zmin,J.zmax=z.zmax,J.hasZ=!0),z.hasM&&(J.mmin=z.mmin,J.mmax=z.mmax,J.hasM=!0),J}return"rings"in z?{rings:G(z.rings,$),hasM:z.hasM,hasZ:z.hasZ}:"paths"in z?{paths:G(z.paths,$),hasM:z.hasM,hasZ:z.hasZ}:"points"in z?{points:Y(z.points,$),hasM:z.hasM,hasZ:z.hasZ}:null}function G($,z){const J=[];for(const q of $)J.push(Y(q,z));return J}function Y($,z){const J=[];for(const q of $){const oe=z(q[0],q[1],[0,0]);J.push(oe),q.length>2&&oe.push(q[2]),q.length>3&&oe.push(q[3])}return J}function ne($,z){return ae.apply(this,arguments)}function ae(){return(ae=(0,w.Z)(function*($,z){if(!$||!z)return;const J=Array.isArray($)?$.map(q=>(0,O.pC)(q.geometry)?q.geometry.spatialReference:null).filter(O.pC):[$];yield(0,W.iQ)(J.map(q=>({source:q,dest:z})))})).apply(this,arguments)}const se=Z.bind(null,re.hG),ie=Z.bind(null,re.R6);function te($,z,J,q){if(!$||(J||(J=z,z=$.spatialReference),!(0,k.JY)(z)||!(0,k.JY)(J)||(0,k.fS)(z,J)))return $;if((0,re.Q8)(z,J)){const oe=(0,k.sS)(J)?se($):ie($);return oe.spatialReference=J,oe}return(0,W.oj)(B.N,[$],z,J,null,q)[0]}const V=new class Q{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}push(z,J,q){var oe=this;return(0,w.Z)(function*(){if(!z||!z.length||!J||!q||(0,k.fS)(J,q))return z;const pe={geometries:z,inSpatialReference:J,outSpatialReference:q,resolve:null};return oe._jobs.push(pe),new Promise(de=>{pe.resolve=de,null===oe._timer&&(oe._timer=setTimeout(oe._process,10))})})()}_process(){this._timer=null;const z=this._jobs.shift();if(!z)return;const{geometries:J,inSpatialReference:q,outSpatialReference:oe,resolve:pe}=z;(0,re.Q8)(q,oe)?(0,k.sS)(oe)?pe(J.map(se)):pe(J.map(ie)):pe((0,W.oj)(B.N,J,q,oe,null,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function U($,z,J){return V.push($,z,J)}},6185:(j,F,T)=>{"use strict";T.d(F,{EG:()=>$,Op:()=>z,S2:()=>Ee,Up:()=>J,j6:()=>oe,vF:()=>ie});var w=T(15861),O=T(2076),W=T(62208),B=T(16730),k=T(55915),re=T(15176),ee=T(91179),Z=T(93555),G=T(37053),Y=T(82054),ne=T(88071),ae=T(82959);const se=new O.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),ie=Object.freeze({}),te=new ne.Z,Q=new ne.Z,V=new ne.Z,U={esriGeometryPoint:Y.fQ,esriGeometryPolyline:Y.J6,esriGeometryPolygon:Y.eG,esriGeometryMultipoint:Y.Iv};function $(Me,ce,ge,Pe=Me.hasZ,Ie=Me.hasM){if((0,W.Wi)(ce))return null;const Re=Me.hasZ&&Pe,Ce=Me.hasM&&Ie;if(ge){const Fe=(0,Y.Nh)(V,ce,Me.hasZ,Me.hasM,"esriGeometryPoint",ge,Pe,Ie);return(0,Y.fQ)(Fe,Re,Ce)}return(0,Y.fQ)(ce,Re,Ce)}function z(Me,ce,ge,Pe,Ie,Re,Ce=ce,Fe=ge){const Ne=ce&&Ce,Le=ge&&Fe,Oe=(0,W.pC)(Pe)?"coords"in Pe?Pe:Pe.geometry:null;if((0,W.Wi)(Oe))return null;if(Ie){let Ue=(0,Y.zj)(Q,Oe,ce,ge,Me,Ie,Ce,Fe);return Re&&(Ue=(0,Y.Nh)(V,Ue,Ne,Le,Me,Re)),U[Me]?.(Ue,Ne,Le)??null}if(Re){const Ue=(0,Y.Nh)(V,Oe,ce,ge,Me,Re,Ce,Fe);return U[Me]?.(Ue,Ne,Le)??null}return(0,Y.hY)(te,Oe,ce,ge,Ce,Fe),U[Me]?.(te,Ne,Le)??null}function J(Me,ce,ge){return q.apply(this,arguments)}function q(){return(q=(0,w.Z)(function*(Me,ce,ge){const{outFields:Pe,orderByFields:Ie,groupByFieldsForStatistics:Re,outStatistics:Ce}=Me;if(Pe)for(let Fe=0;Fe<Pe.length;Fe++)Pe[Fe]=Pe[Fe].trim();if(Ie)for(let Fe=0;Fe<Ie.length;Fe++)Ie[Fe]=Ie[Fe].trim();if(Re)for(let Fe=0;Fe<Re.length;Fe++)Re[Fe]=Re[Fe].trim();if(Ce)for(let Fe=0;Fe<Ce.length;Fe++)Ce[Fe].onStatisticField&&(Ce[Fe].onStatisticField=Ce[Fe].onStatisticField.trim());return Me.geometry&&!Me.outSR&&(Me.outSR=Me.geometry.spatialReference),oe(Me,ce,ge)})).apply(this,arguments)}function oe(Me,ce,ge){return pe.apply(this,arguments)}function pe(){return(pe=(0,w.Z)(function*(Me,ce,ge){if(!Me)return null;let{where:Pe}=Me;if(Me.where=Pe=Pe&&Pe.trim(),(!Pe||/^1 *= *1$/.test(Pe)||ce&&ce===Pe)&&(Me.where=null),!Me.geometry)return Me;let Ie=yield me(Me);if(Me.distance=0,Me.units=null,"esriSpatialRelEnvelopeIntersects"===Me.spatialRel){const{spatialReference:Re}=Me.geometry;Ie=(0,re.aO)(Ie),Ie.spatialReference=Re}if(Ie){yield(0,ae._W)(Ie.spatialReference,ge),Ie=be(Ie,ge);const Re=(yield(0,Z.aX)((0,ee.im)(Ie)))[0];if((0,W.Wi)(Re))throw ie;const Ce="quantizationParameters"in Me&&Me.quantizationParameters?.tolerance||"maxAllowableOffset"in Me&&Me.maxAllowableOffset||0,Fe=Ce&&de(Ie,ge)?{densificationStep:8*Ce}:void 0,Ne=Re.toJSON(),Le=yield(0,ae.iV)(Ne,Ne.spatialReference,ge,Fe);if(!Le)throw ie;Le.spatialReference=ge,Me.geometry=Le}return Me})).apply(this,arguments)}function de(Me,ce){if(!Me)return!1;const ge=Me.spatialReference;return((0,ee.YX)(Me)||(0,ee.oU)(Me)||(0,ee.l9)(Me))&&!(0,G.fS)(ge,ce)&&!(0,k.Up)(ge,ce)}function be(Me,ce){const ge=Me.spatialReference;return de(Me,ce)&&(0,ee.YX)(Me)?{spatialReference:ge,rings:[[[Me.xmin,Me.ymin],[Me.xmin,Me.ymax],[Me.xmax,Me.ymax],[Me.xmax,Me.ymin],[Me.xmin,Me.ymin]]]}:Me}function me(Me){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(Me){const{distance:ce,units:ge}=Me,Pe=Me.geometry;if(null==ce||"vertexAttributes"in Pe)return Pe;const Ie=Pe.spatialReference,Re=ge?se.fromJSON(ge):(0,B.qE)(Ie),Ce=Ie&&((0,G.sT)(Ie)||(0,G.sS)(Ie))?Pe:yield(0,ae._W)(Ie,G.Zn).then(()=>(0,ae.iV)(Pe,G.Zn));return(yield le())(Ce.spatialReference,Ce,ce,Re)})).apply(this,arguments)}function le(){return fe.apply(this,arguments)}function fe(){return(fe=(0,w.Z)(function*(){return(yield Promise.all([T.e(4918),T.e(8592),T.e(2825)]).then(T.bind(T,32825))).geodesicBuffer})).apply(this,arguments)}function Ee(Me){return Me&&ye in Me?JSON.parse(JSON.stringify(Me,ue)):Me}const ye="_geVersion",ue=(Me,ce)=>Me!==ye?ce:void 0},53639:(j,F,T)=>{"use strict";T.d(F,{k:()=>re}),T(8314);var O=T(62208),W=T(37053);function re(ie,te){return ie===te||(0,O.pC)(ie)&&(0,O.pC)(te)&&(0,W.fS)(ie.spatialReference,te.spatialReference)&&ie.x===te.x&&ie.y===te.y&&ie.z===te.z&&ie.m===te.m}},38114:(j,F,T)=>{"use strict";T.d(F,{FS:()=>q,MS:()=>pe,Pj:()=>se,R3:()=>z,S6:()=>ae,TF:()=>oe,Tx:()=>V,Wh:()=>ne}),T(27306),T(8314);var W=T(62208),k=(T(65234),T(5548)),re=T(65401);T(7848),T(71774),T(36255),T(53639);class ne{constructor(be,me,_e){this.uid=be,this.geometry=me,this.attributes=_e,this.visible=!0,this.objectId=null,this.centroid=null}}function ae(de){return(0,W.pC)(de.geometry)}class se{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function V(de,be,me,_e){return{x:de,y:be,z:me,hasZ:null!=me,hasM:!1,spatialReference:_e,type:"point"}}function z(de){if((0,W.Wi)(de))return 0;switch(de.type){case"point":return 1;case"polyline":{let be=0;for(const me of de.paths)be+=me.length;return be}case"polygon":{let be=0;for(const me of de.rings)be+=me.length;return be}case"multipoint":return de.points.length;case"extent":return 2;case"mesh":{const be=de.vertexAttributes&&de.vertexAttributes.position;return be?be.length/3:0}default:return}}function q(de,be){switch((0,k.cS)(be),"mesh"===de.type&&(de=de.extent),de.type){case"point":be[0]=be[3]=de.x,be[1]=be[4]=de.y,de.hasZ&&(be[2]=be[5]=de.z);break;case"polyline":for(let me=0;me<de.paths.length;me++)(0,k.Wi)(be,de.paths[me],!!de.hasZ);break;case"polygon":for(let me=0;me<de.rings.length;me++)(0,k.Wi)(be,de.rings[me],!!de.hasZ);break;case"multipoint":(0,k.Wi)(be,de.points,!!de.hasZ);break;case"extent":be[0]=de.xmin,be[1]=de.ymin,be[3]=de.xmax,be[4]=de.ymax,null!=de.zmin&&(be[2]=de.zmin),null!=de.zmax&&(be[5]=de.zmax)}}function oe(de,be){switch((0,re.cS)(be),"mesh"===de.type&&(de=de.extent),de.type){case"point":be[0]=be[2]=de.x,be[1]=be[3]=de.y;break;case"polyline":for(let me=0;me<de.paths.length;me++)(0,re.Wi)(be,de.paths[me]);break;case"polygon":for(let me=0;me<de.rings.length;me++)(0,re.Wi)(be,de.rings[me]);break;case"multipoint":(0,re.Wi)(be,de.points);break;case"extent":be[0]=de.xmin,be[1]=de.ymin,be[2]=de.xmax,be[3]=de.ymax}}function pe(de,be){return null!=de.objectId?de.objectId:de.attributes&&be?de.attributes[be]:null}},82054:(j,F,T)=>{"use strict";T.d(F,{$:()=>Ct,$g:()=>Gt,E7:()=>Te,EI:()=>Be,GH:()=>Ge,IN:()=>$,Iv:()=>Pe,J6:()=>Fe,Jd:()=>U,Nh:()=>mt,RZ:()=>Pt,Uy:()=>Ye,XA:()=>lt,Yn:()=>ve,cn:()=>we,dd:()=>ce,di:()=>$e,eG:()=>Ue,fQ:()=>oe,hY:()=>bn,h_:()=>tt,ks:()=>xe,lM:()=>pt,lz:()=>Kn,oB:()=>Fn,u0:()=>Le,zj:()=>St});var w=T(26584),O=T(63290),W=T(62208),B=T(5548),k=T(65401),re=T(91179),ee=T(66385),Z=T(95786),G=T(88071);function Y(Et,Dt){return Et?Dt?4:3:Dt?3:2}const ne=O.Z.getLogger("esri.layers.graphics.featureConversionUtils"),ae={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},se=(Et,Dt,Bt,Ht,on,rn)=>{Et[Bt]=on,Et[Bt+1]=rn},ie=(Et,Dt,Bt,Ht,on,rn)=>{Et[Bt]=on,Et[Bt+1]=rn,Et[Bt+2]=Dt[Ht+2]},te=(Et,Dt,Bt,Ht,on,rn)=>{Et[Bt]=on,Et[Bt+1]=rn,Et[Bt+2]=Dt[Ht+3]},Q=(Et,Dt,Bt,Ht,on,rn)=>{Et[Bt]=on,Et[Bt+1]=rn,Et[Bt+2]=Dt[Ht+2],Et[Bt+3]=Dt[Ht+3]};function V(Et,Dt,Bt,Ht){if(Et){if(Bt)return Dt&&Ht?Q:ie;if(Dt&&Ht)return te}else if(Dt&&Ht)return ie;return se}function U({scale:Et,translate:Dt},Bt){return Math.round((Bt-Dt[0])/Et[0])}function $({scale:Et,translate:Dt},Bt){return Math.round((Dt[1]-Bt)/Et[1])}function q({scale:Et,translate:Dt},Bt,Ht){return Bt*Et[Ht]+Dt[Ht]}function oe(Et,Dt,Bt){return Et?Dt?Bt?fe(Et):be(Et):Bt?_e(Et):pe(Et):null}function pe(Et){const Dt=Et.coords;return{x:Dt[0],y:Dt[1]}}function de(Et,Dt){return Et.coords[0]=Dt.x,Et.coords[1]=Dt.y,Et}function be(Et){const Dt=Et.coords;return{x:Dt[0],y:Dt[1],z:Dt[2]}}function me(Et,Dt){return Et.coords[0]=Dt.x,Et.coords[1]=Dt.y,Et.coords[2]=Dt.z,Et}function _e(Et){const Dt=Et.coords;return{x:Dt[0],y:Dt[1],m:Dt[2]}}function le(Et,Dt){return Et.coords[0]=Dt.x,Et.coords[1]=Dt.y,Et.coords[2]=Dt.m,Et}function fe(Et){const Dt=Et.coords;return{x:Dt[0],y:Dt[1],z:Dt[2],m:Dt[3]}}function Ee(Et,Dt){return Et.coords[0]=Dt.x,Et.coords[1]=Dt.y,Et.coords[2]=Dt.z,Et.coords[3]=Dt.m,Et}function ue(Et,Dt){return Et&&Dt?Ee:Et?me:Dt?le:de}function Me(Et,Dt,Bt,Ht,on){const rn=ue(Bt,Ht);for(const{geometry:cn,attributes:un}of Dt){const $n=(0,W.pC)(cn)?rn(new G.Z,cn):null;Et.push(new ee.u_($n,un,null,on?un[on]:void 0))}return Et}function ce(Et,Dt,Bt=ue(null!=Dt.z,null!=Dt.m)){return Bt(Et,Dt)}function Pe(Et,Dt,Bt){if((0,W.Wi)(Et))return null;const Ht=Y(Dt,Bt),on=[];for(let rn=0;rn<Et.coords.length;rn+=Ht){const cn=[];for(let un=0;un<Ht;un++)cn.push(Et.coords[rn+un]);on.push(cn)}return Dt?Bt?{points:on,hasZ:Dt,hasM:Bt}:{points:on,hasZ:Dt}:Bt?{points:on,hasM:Bt}:{points:on}}function Ie(Et,Dt,Bt,Ht,on){const rn=Y(Bt,Ht);for(const{geometry:cn,attributes:un}of Dt){const $n=(0,W.pC)(cn)?Re(new G.Z,cn,rn):null;Et.push(new ee.u_($n,un,null,on?un[on]:void 0))}return Et}function Re(Et,Dt,Bt=Y(Dt.hasZ,Dt.hasM)){Et.lengths[0]=Dt.points.length;const Ht=Et.coords;let on=0;for(const rn of Dt.points)for(let cn=0;cn<Bt;cn++)Ht[on++]=rn[cn];return Et}function Fe(Et,Dt,Bt){if(!Et)return null;const Ht=Y(Dt,Bt),{coords:on,lengths:rn}=Et,cn=[];let un=0;for(const $n of rn){const Cn=[];for(let Nn=0;Nn<$n;Nn++){const tr=[];for(let It=0;It<Ht;It++)tr.push(on[un++]);Cn.push(tr)}cn.push(Cn)}return Dt?Bt?{paths:cn,hasZ:Dt,hasM:Bt}:{paths:cn,hasZ:Dt}:Bt?{paths:cn,hasM:Bt}:{paths:cn}}function Ne(Et,Dt,Bt,Ht,on){const rn=Y(Bt,Ht);for(const{geometry:cn,attributes:un}of Dt){const $n=(0,W.pC)(cn)?Le(new G.Z,cn,rn):null;Et.push(new ee.u_($n,un,null,on?un[on]:void 0))}return Et}function Le(Et,Dt,Bt=Y(Dt.hasZ,Dt.hasM)){const{lengths:Ht,coords:on}=Et;let rn=0;for(const cn of Dt.paths){for(const un of cn)for(let $n=0;$n<Bt;$n++)on[rn++]=un[$n];Ht.push(cn.length)}return Et}function Ue(Et,Dt,Bt){if(!Et)return null;const Ht=Y(Dt,Bt),{coords:on,lengths:rn}=Et,cn=[];let un=0;for(const $n of rn){const Cn=[];for(let Nn=0;Nn<$n;Nn++){const tr=[];for(let It=0;It<Ht;It++)tr.push(on[un++]);Cn.push(tr)}cn.push(Cn)}return Dt?Bt?{rings:cn,hasZ:Dt,hasM:Bt}:{rings:cn,hasZ:Dt}:Bt?{rings:cn,hasM:Bt}:{rings:cn}}function ke(Et,Dt,Bt,Ht,on){for(const{geometry:rn,centroid:cn,attributes:un}of Dt){const $n=(0,W.pC)(rn)?Ye(new G.Z,rn,Bt,Ht):null,Cn=on?un[on]:void 0;(0,W.pC)(cn)?Et.push(new ee.u_($n,un,de(new G.Z,cn),Cn)):Et.push(new ee.u_($n,un,null,Cn))}return Et}function Ye(Et,Dt,Bt=Dt.hasZ,Ht=Dt.hasM){return xe(Et,Dt.rings,Bt,Ht),Et}function xe(Et,Dt,Bt,Ht){const on=Y(Bt,Ht),{lengths:rn,coords:cn}=Et;let un=0;zn(Et);for(const $n of Dt){for(const Cn of $n)for(let Nn=0;Nn<on;Nn++)cn[un++]=Cn[Nn];rn.push($n.length)}return Et}const We=[],Qe=[];function lt(Et,Dt,Bt,Ht,on){We[0]=Et;const[rn]=ve(Qe,We,Dt,Bt,Ht,on);return rr(We),rr(Qe),rn}function ve(Et,Dt,Bt,Ht,on,rn){if(rr(Et),!Bt){for(const cn of Dt)Et.push(new ee.u_(null,cn.attributes,null,rn?cn.attributes[rn]:void 0));return Et}switch(Bt){case"esriGeometryPoint":return Me(Et,Dt,Ht,on,rn);case"esriGeometryMultipoint":return Ie(Et,Dt,Ht,on,rn);case"esriGeometryPolyline":return Ne(Et,Dt,Ht,on,rn);case"esriGeometryPolygon":return ke(Et,Dt,Ht,on,rn);default:ne.error("convertToFeatureSet:unknown-geometry",new w.Z(`Unable to parse unknown geometry type '${Bt}'`)),rr(Et)}return Et}function Te(Et,Dt,Bt,Ht,on,rn){const cn=Et.length;switch(Bt){case"esriGeometryPoint":Me(Et,Dt,Ht,on,rn);break;case"esriGeometryMultipoint":Ie(Et,Dt,Ht,on,rn);break;case"esriGeometryPolyline":Ne(Et,Dt,Ht,on,rn);break;case"esriGeometryPolygon":ke(Et,Dt,Ht,on,rn);break;default:ne.error("convertToFeatureSet:unknown-geometry",new w.Z(`Unable to parse unknown geometry type '${Bt}'`))}for(let un=0;un<Dt.length;un++)Et[un+cn].geometryType=Bt,Et[un+cn].insertAfter=Dt[un].insertAfter,Et[un+cn].groupId=Dt[un].groupId;return Et}function Be(Et,Dt,Bt,Ht){Qe[0]=Et,at(We,Qe,Dt,Bt,Ht);const on=We[0];return rr(We),rr(Qe),on}function Ge(Et,Dt,Bt){if((0,W.Wi)(Et))return null;const Ht=new G.Z;return"hasZ"in Et&&null==Dt&&(Dt=Et.hasZ),"hasM"in Et&&null==Bt&&(Bt=Et.hasM),(0,re.wp)(Et)?ue(Dt??null!=Et.z,Bt??null!=Et.m)(Ht,Et):(0,re.oU)(Et)?Ye(Ht,Et,Dt,Bt):(0,re.l9)(Et)?Le(Ht,Et,Y(Dt,Bt)):(0,re.aW)(Et)?Re(Ht,Et,Y(Dt,Bt)):void ne.error("convertFromGeometry:unknown-geometry",new w.Z(`Unable to parse unknown geometry type '${Et}'`))}function $e(Et,Dt,Bt,Ht){const on=Et&&("coords"in Et?Et:Et.geometry);if((0,W.Wi)(on))return null;switch(Dt){case"esriGeometryPoint":{let rn=pe;return Bt&&Ht?rn=fe:Bt?rn=be:Ht&&(rn=_e),rn(on)}case"esriGeometryMultipoint":return Pe(on,Bt,Ht);case"esriGeometryPolyline":return Fe(on,Bt,Ht);case"esriGeometryPolygon":return Ue(on,Bt,Ht);default:return ne.error("convertToGeometry:unknown-geometry",new w.Z(`Unable to parse unknown geometry type '${Dt}'`)),null}}function at(Et,Dt,Bt,Ht,on){if(rr(Et),(0,W.Wi)(Bt))return function Xe(Et,Dt){for(const Bt of Dt)Et.push({attributes:Bt.attributes});return Et}(Et,Dt);switch(Bt){case"esriGeometryPoint":return function ye(Et,Dt,Bt,Ht){let on=pe;Bt&&Ht?on=fe:Bt?on=be:Ht&&(on=_e);for(const rn of Dt){const{geometry:cn,attributes:un}=rn,$n=(0,W.pC)(cn)?on(cn):null;Et.push({attributes:un,geometry:$n})}return Et}(Et,Dt,Ht,on);case"esriGeometryMultipoint":return function ge(Et,Dt,Bt,Ht){for(const{geometry:on,attributes:rn}of Dt)Et.push({attributes:rn,geometry:(0,W.pC)(on)?Pe(on,Bt,Ht):null});return Et}(Et,Dt,Ht,on);case"esriGeometryPolyline":return function Ce(Et,Dt,Bt,Ht){for(const{geometry:on,attributes:rn}of Dt)Et.push({attributes:rn,geometry:(0,W.pC)(on)?Fe(on,Bt,Ht):null});return Et}(Et,Dt,Ht,on);case"esriGeometryPolygon":return function Oe(Et,Dt,Bt,Ht){for(const{geometry:on,attributes:rn,centroid:cn}of Dt){const un=(0,W.pC)(on)?Ue(on,Bt,Ht):null;if((0,W.pC)(cn)){const $n=pe(cn);Et.push({attributes:rn,centroid:$n,geometry:un})}else Et.push({attributes:rn,geometry:un})}return Et}(Et,Dt,Ht,on);default:ne.error("convertToFeatureSet:unknown-geometry",new w.Z(`Unable to parse unknown geometry type '${Bt}'`))}return Et}function we(Et){const{objectIdFieldName:Dt,spatialReference:Bt,transform:Ht,fields:on,hasM:rn,hasZ:cn,features:un,geometryType:$n,exceededTransferLimit:Cn,uniqueIdField:Nn,queryGeometry:tr,queryGeometryType:It}=Et,Wt={features:at([],un,$n,cn,rn),fields:on,geometryType:$n,objectIdFieldName:Dt,spatialReference:Bt,uniqueIdField:Nn,queryGeometry:$e(tr,It,!1,!1)};return Ht&&(Wt.transform=Ht),Cn&&(Wt.exceededTransferLimit=Cn),rn&&(Wt.hasM=rn),cn&&(Wt.hasZ=cn),Wt}function tt(Et,Dt){const Bt=new Z.Z,{hasM:Ht,hasZ:on,features:rn,objectIdFieldName:cn,spatialReference:un,geometryType:$n,exceededTransferLimit:Cn,transform:Nn,fields:tr}=Et;return tr&&(Bt.fields=tr),Bt.geometryType=$n??null,Bt.objectIdFieldName=cn??Dt??null,Bt.spatialReference=un??null,Bt.objectIdFieldName?(rn&&ve(Bt.features,rn,$n,on,Ht,Bt.objectIdFieldName),Cn&&(Bt.exceededTransferLimit=Cn),Ht&&(Bt.hasM=Ht),on&&(Bt.hasZ=on),Nn&&(Bt.transform=Nn),Bt):(ne.error(new w.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),Bt)}function pt(Et){const{transform:Dt,features:Bt,hasM:Ht,hasZ:on}=Et;if(!Dt)return Et;for(const rn of Bt)(0,W.pC)(rn.geometry)&&Gt(rn.geometry,rn.geometry,Ht,on,Dt),(0,W.pC)(rn.centroid)&&Gt(rn.centroid,rn.centroid,Ht,on,Dt);return Et.transform=null,Et}function Pt(Et,Dt){const{geometryType:Bt,features:Ht,hasM:on,hasZ:rn}=Dt;if(!Et)return Dt;for(let cn=0;cn<Ht.length;cn++){const un=Ht[cn],$n=un.weakClone();$n.geometry=new G.Z,mt($n.geometry,un.geometry,on,rn,Bt,Et),un.centroid&&($n.centroid=new G.Z,mt($n.centroid,un.centroid,on,rn,"esriGeometryPoint",Et)),Ht[cn]=$n}return Dt.transform=Et,Dt}function mt(Et,Dt,Bt,Ht,on,rn,cn=Bt,un=Ht){if(zn(Et),(0,W.Wi)(Dt)||!Dt.coords.length)return null;const $n=ae[on],{coords:Cn,lengths:Nn}=Dt,tr=Y(Bt,Ht),It=Y(Bt&&cn,Ht&&un),Wt=V(Bt,Ht,cn,un);if(!Nn.length)return Wt(Et.coords,Cn,0,0,U(rn,Cn[0]),$(rn,Cn[1])),zn(Et,tr,0),Et;let Qt,Rn,yt,Vt,Yt=0,ln=0,In=ln;for(const gr of Nn){if(gr<$n)continue;let Lr=0;ln=In,yt=Qt=U(rn,Cn[Yt]),Vt=Rn=$(rn,Cn[Yt+1]),Wt(Et.coords,Cn,ln,Yt,yt,Vt),Lr++,Yt+=tr,ln+=It;for(let ti=1;ti<gr;ti++,Yt+=tr)yt=U(rn,Cn[Yt]),Vt=$(rn,Cn[Yt+1]),yt===Qt&&Vt===Rn||(Wt(Et.coords,Cn,ln,Yt,yt-Qt,Vt-Rn),ln+=It,Lr++,Qt=yt,Rn=Vt);Lr>=$n&&(Et.lengths.push(Lr),In=ln)}return rr(Et.coords,In),Et.coords.length?Et:null}function St(Et,Dt,Bt,Ht,on,rn,cn=Bt,un=Ht){if(zn(Et),!Dt||!Dt.coords.length)return null;const $n=ae[on],{coords:Cn,lengths:Nn}=Dt,tr=Y(Bt,Ht),It=Y(Bt&&cn,Ht&&un),Wt=V(Bt,Ht,cn,un);if(!Nn.length)return Wt(Et.coords,Cn,0,0,Cn[0],Cn[1]),zn(Et,tr,0),Et;let Qt=0;const Rn=rn*rn;for(const yt of Nn){if(yt<$n){Qt+=yt*tr;continue}const Vt=Et.coords.length/It,Yt=Qt,ln=Qt+(yt-1)*tr;Wt(Et.coords,Cn,Et.coords.length,Yt,Cn[Yt],Cn[Yt+1]),_t(Et.coords,Cn,tr,Rn,Wt,Yt,ln),Wt(Et.coords,Cn,Et.coords.length,ln,Cn[ln],Cn[ln+1]);const In=Et.coords.length/It-Vt;In>=$n?Et.lengths.push(In):rr(Et.coords,Vt*It),Qt+=yt*tr}return Et.coords.length?Et:null}function ut(Et,Dt,Bt,Ht){const on=Et[Dt],rn=Et[Dt+1],$n=Et[Ht],Cn=Et[Ht+1];let Nn=Et[Bt],tr=Et[Bt+1],It=$n-Nn,Wt=Cn-tr;if(0!==It||0!==Wt){const Qt=((on-Nn)*It+(rn-tr)*Wt)/(It*It+Wt*Wt);Qt>1?(Nn=$n,tr=Cn):Qt>0&&(Nn+=It*Qt,tr+=Wt*Qt)}return It=on-Nn,Wt=rn-tr,It*It+Wt*Wt}function _t(Et,Dt,Bt,Ht,on,rn,cn){let un,$n=Ht,Cn=0;for(let Nn=rn+Bt;Nn<cn;Nn+=Bt)un=ut(Dt,Nn,rn,cn),un>$n&&(Cn=Nn,$n=un);$n>Ht&&(Cn-rn>Bt&&_t(Et,Dt,Bt,Ht,on,rn,Cn),on(Et,Dt,Et.length,Cn,Dt[Cn],Dt[Cn+1]),cn-Cn>Bt&&_t(Et,Dt,Bt,Ht,on,Cn,cn))}function Ct(Et,Dt,Bt,Ht){if((0,W.Wi)(Dt)||!Dt.coords||!Dt.coords.length)return null;const on=Y(Bt,Ht);let rn=Number.POSITIVE_INFINITY,cn=Number.POSITIVE_INFINITY,un=Number.NEGATIVE_INFINITY,$n=Number.NEGATIVE_INFINITY;if(Dt&&Dt.coords){const Cn=Dt.coords;for(let Nn=0;Nn<Cn.length;Nn+=on){const tr=Cn[Nn],It=Cn[Nn+1];rn=Math.min(rn,tr),un=Math.max(un,tr),cn=Math.min(cn,It),$n=Math.max($n,It)}}return(0,B.is)(Et)?(0,B.bZ)(Et,rn,cn,un,$n):(0,k.al)(rn,cn,un,$n,Et),Et}function Gt(Et,Dt,Bt,Ht,on){const{coords:rn,lengths:cn}=Dt,un=Y(Bt,Ht);if(!rn.length)return Et!==Dt&&zn(Et),Et;(0,W.O3)(on);const{originPosition:$n,scale:Cn,translate:Nn}=on,tr=mr;tr.originPosition=$n;const It=tr.scale;It[0]=Cn[0]??1,It[1]=-(Cn[1]??1),It[2]=Cn[2]??1,It[3]=Cn[3]??1;const Wt=tr.translate;if(Wt[0]=Nn[0]??0,Wt[1]=Nn[1]??0,Wt[2]=Nn[2]??0,Wt[3]=Nn[3]??0,!cn.length){for(let Rn=0;Rn<un;++Rn)Et.coords[Rn]=q(tr,rn[Rn],Rn);return Et!==Dt&&zn(Et,un,0),Et}let Qt=0;for(let Rn=0;Rn<cn.length;Rn++){const yt=cn[Rn];Et.lengths[Rn]=yt;for(let ln=0;ln<un;++ln)Et.coords[Qt+ln]=q(tr,rn[Qt+ln],ln);let Vt=Et.coords[Qt],Yt=Et.coords[Qt+1];Qt+=un;for(let ln=1;ln<yt;ln++,Qt+=un){Vt+=rn[Qt]*It[0],Yt+=rn[Qt+1]*It[1],Et.coords[Qt]=Vt,Et.coords[Qt+1]=Yt;for(let In=2;In<un;++In)Et.coords[Qt+In]=q(tr,rn[Qt+In],In)}}return Et!==Dt&&zn(Et,rn.length,cn.length),Et}function bn(Et,Dt,Bt,Ht,on,rn){if(zn(Et),Et.lengths.push(...Dt.lengths),Bt===on&&Ht===rn)for(let cn=0;cn<Dt.coords.length;cn++)Et.coords.push(Dt.coords[cn]);else{const cn=Y(Bt,Ht),un=V(Bt,Ht,on,rn),$n=Dt.coords;for(let Cn=0;Cn<$n.length;Cn+=cn)un(Et.coords,$n,Et.coords.length,Cn,$n[Cn],$n[Cn+1])}return Et}function Dn(Et,Dt,Bt,Ht){let on=0,rn=Et[Ht*Dt],cn=Et[Ht*(Dt+1)];for(let un=1;un<Bt;un++){const $n=rn+Et[Ht*(Dt+un)],Cn=cn+Et[Ht*(Dt+un)+1],Nn=($n-rn)*(Cn+cn);rn=$n,cn=Cn,on+=Nn}return.5*on}function Kn(Et,Dt){const{coords:Bt,lengths:Ht}=Et;let on=0,rn=0;for(let cn=0;cn<Ht.length;cn++){const un=Ht[cn];rn+=Dn(Bt,on,un,Dt),on+=un}return Math.abs(rn)}function Fn(Et,Dt){if((0,W.Wi)(Et))return null;const Bt=Et.clone(),Ht=Et.coords,on=Et.lengths;let rn=0;for(let cn=0;cn<on.length;cn++){const un=on[cn];let $n=Ht[Dt*rn],Cn=Ht[Dt*rn+1];for(let Nn=1;Nn<un;Nn++){const tr=$n+Ht[Dt*(rn+Nn)],It=Cn+Ht[Dt*(rn+Nn)+1];Bt.coords[Dt*(rn+Nn)]=tr,Bt.coords[Dt*(rn+Nn)+1]=It,$n=tr,Cn=It}rn+=un}return Bt}function zn(Et,Dt=0,Bt=0){rr(Et.lengths,Bt),rr(Et.coords,Dt)}function rr(Et,Dt=0){Et.length!==Dt&&(Et.length=Dt)}const mr={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},50085:(j,F,T)=>{"use strict";T.d(F,{V:()=>ee});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898));const ee=Z=>{let G=class extends Z{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function re(Z){return"portalItem"in Z}(this)?this.portalItem?.apiKey:null}set apiKey(Y){null!=Y?this._override("apiKey",Y):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,w._)([(0,O.Cb)({type:String})],G.prototype,"apiKey",null),G=(0,w._)([(0,k.j)("esri.layers.mixins.APIKeyMixin")],G),G}},65088:(j,F,T)=>{"use strict";T.d(F,{Y:()=>G});var w=T(17626),O=T(63290),W=T(62208),B=T(77712),ee=(T(90912),T(85931),T(76898)),Z=T(38305);const G=Y=>{let ne=class extends Y{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const ae=(0,Z.Qc)(this.url);if((0,W.pC)(ae)&&ae.title)return ae.title}return this._get("title")||""}set title(ae){this._set("title",ae)}set url(ae){this._set("url",(0,Z.Nm)(ae,O.Z.getLogger(this.declaredClass)))}};return(0,w._)([(0,B.Cb)()],ne.prototype,"title",null),(0,w._)([(0,B.Cb)({type:String})],ne.prototype,"url",null),ne=(0,w._)([(0,ee.j)("esri.layers.mixins.ArcGISService")],ne),ne}},552:(j,F,T)=>{"use strict";T.d(F,{h:()=>Z});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(71149);const ee={read:{reader:re.ij},write:{allowNull:!0,writer:re.cW}},Z=G=>{let Y=class extends G{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,w._)([(0,O.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],Y.prototype,"blendMode",void 0),(0,w._)([(0,O.Cb)({json:{read:!1,write:!1,origins:{"web-map":ee,"portal-item":ee}}})],Y.prototype,"effect",void 0),Y=(0,w._)([(0,k.j)("esri.layers.mixins.BlendLayer")],Y),Y}},50107:(j,F,T)=>{"use strict";T.d(F,{N:()=>re});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898));const re=ee=>{let Z=class extends ee{constructor(){super(...arguments),this.customParameters=null}};return(0,w._)([(0,O.Cb)({type:Object,json:{write:{overridePolicy:G=>({enabled:!!(G&&Object.keys(G).length>0)})}}})],Z.prototype,"customParameters",void 0),Z=(0,w._)([(0,k.j)("esri.layers.mixins.CustomParametersMixin")],Z),Z}},6733:(j,F,T)=>{"use strict";T.d(F,{dU:()=>G,lQ:()=>ae,o1:()=>se});var w=T(17626),O=T(61885),W=T(58817),Z=(T(63290),T(90912),T(26584),T(8314),T(76898));const G=new O.Z.EventEmitter,Y="esri.layers.mixins.EditBusLayer",ne=Symbol(Y);function ae(ie){return null!=ie&&"object"==typeof ie&&ne in ie}const se=ie=>{var te;let Q=class extends ie{constructor(...V){super(...V),this[te]=!0,this.when().then(()=>{this.own([G.on("edits",U=>{const J="layer"in U?U.layer?.layerId:U.layerId,q=U.event;if(("layer"in U?U.layer:null)===this||("layer"in U?U.layer?.url:U.serviceUrl)!==this.url)return;if(null!=J&&null!=this.layerId&&J===this.layerId)return void this.emit("edits",(0,W.d9)(q));const oe=q.editedFeatures?.find(({layerId:pe})=>pe===this.layerId);if(oe){const{adds:pe,updates:de,deletes:be}=oe.editedFeatures,me={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:pe?pe.map(({attributes:_e})=>({objectId:this.objectIdField&&_e[this.objectIdField],globalId:this.globalIdField&&_e[this.globalIdField]})):[],deletedFeatures:be?be.map(({attributes:_e})=>({objectId:this.objectIdField&&_e[this.objectIdField],globalId:this.globalIdField&&_e[this.globalIdField]})):[],updatedFeatures:de?de.map(({current:{attributes:_e}})=>({objectId:this.objectIdField&&_e[this.objectIdField],globalId:this.globalIdField&&_e[this.globalIdField]})):[],editedFeatures:(0,W.d9)(q.editedFeatures),exceededTransferLimit:!1};this.emit("edits",me)}})])},()=>{})}};return te=ne,Q=(0,w._)([(0,Z.j)(Y)],Q),Q}},35126:(j,F,T)=>{"use strict";T.d(F,{b:()=>Z});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(2319);const ee={write:{allowNull:!0}},Z=G=>{let Y=class extends G{constructor(){super(...arguments),this.featureEffect=null}};return(0,w._)([(0,O.Cb)({type:re.Z,json:{origins:{"web-map":ee,"portal-item":ee}}})],Y.prototype,"featureEffect",void 0),Y=(0,w._)([(0,k.j)("esri.layers.mixins.FeatureEffectLayer")],Y),Y}},27123:(j,F,T)=>{"use strict";T.d(F,{B:()=>ue});var w=T(17626),O=T(74333),W=T(58817),B=T(63290),k=T(77712),ee=(T(90912),T(68653)),Z=T(76898),G=T(99433),Y=T(2004),ne=T(79334),ae=T(65234),se=T(38305),ie=T(13812),te=T(79608),Q=T(86810),U=(T(85931),T(41039));let $=class extends((0,te.J)(Q.wq)){constructor(Me){super(Me),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.dateFieldsTimeReference=null}};(0,w._)([(0,k.Cb)()],$.prototype,"creatorField",void 0),(0,w._)([(0,k.Cb)()],$.prototype,"creationDateField",void 0),(0,w._)([(0,k.Cb)()],$.prototype,"editorField",void 0),(0,w._)([(0,k.Cb)()],$.prototype,"editDateField",void 0),(0,w._)([(0,k.Cb)()],$.prototype,"realm",void 0),(0,w._)([(0,k.Cb)({type:U.Z})],$.prototype,"dateFieldsTimeReference",void 0),$=(0,w._)([(0,Z.j)("esri.layers.support.EditFieldsInfo")],$);const z=$;let J=class extends((0,te.J)(Q.wq)){constructor(Me){super(Me)}};(0,w._)([(0,k.Cb)({constructOnly:!0,json:{write:!0}})],J.prototype,"name",void 0),(0,w._)([(0,k.Cb)({constructOnly:!0,json:{write:!0}})],J.prototype,"fields",void 0),(0,w._)([(0,k.Cb)({constructOnly:!0,json:{write:!0}})],J.prototype,"isAscending",void 0),(0,w._)([(0,k.Cb)({constructOnly:!0,json:{write:!0}})],J.prototype,"indexType",void 0),(0,w._)([(0,k.Cb)({constructOnly:!0,json:{write:!0}})],J.prototype,"isUnique",void 0),(0,w._)([(0,k.Cb)({constructOnly:!0,json:{write:!0}})],J.prototype,"description",void 0),J=(0,w._)([(0,Z.j)("esri.layers.support.FeatureIndex")],J);var q=T(26331),oe=T(16730);let pe=class extends((0,te.J)(Q.wq)){constructor(Me){super(Me),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,w._)([(0,k.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],pe.prototype,"shapeAreaField",void 0),(0,w._)([(0,k.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],pe.prototype,"shapeLengthField",void 0),(0,w._)([(0,k.Cb)({type:String,json:{read:Me=>oe.gV.read(Me)||oe.Jo.read(Me)}})],pe.prototype,"units",void 0),pe=(0,w._)([(0,Z.j)("esri.layers.support.GeometryFieldsInfo")],pe);const de=pe;var be=T(2430),me=T(2076);const _e=new me.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),le=new me.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let fe=class extends((0,te.J)(Q.wq)){constructor(Me){super(Me),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,w._)([(0,k.Cb)({json:{read:_e.read,write:_e.write}})],fe.prototype,"cardinality",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"composite",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"id",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"keyField",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"keyFieldInRelationshipTable",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"name",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"relatedTableId",void 0),(0,w._)([(0,k.Cb)({json:{read:!0,write:!0}})],fe.prototype,"relationshipTableId",void 0),(0,w._)([(0,k.Cb)({json:{read:le.read,write:le.write}})],fe.prototype,"role",void 0),fe=(0,w._)([(0,Z.j)("esri.layers.support.Relationship")],fe);const Ee=fe;var ye=T(94138);const ue=Me=>{let ce=class extends Me{constructor(){super(...arguments),this.capabilities=null,this.copyright=null,this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.isTable=!1,this.layerId=void 0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.preferredTimeReference=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.spatialReference=ae.Z.WGS84,this.subtypeField=null,this.trackIdField=null,this.indexes=new(O.Z.ofType(J)),this.version=void 0}readCapabilitiesFromService(ge,Pe){return(0,ye.h)(Pe,this.url)}get effectiveCapabilities(){const ge=this.capabilities;if(!ge)return null;const Pe=(0,W.d9)(ge),{operations:Ie,editing:Re}=Pe;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(Ie.supportsQuery=!0),Pe):this.userHasUpdateItemPrivileges?(Ie.supportsAdd=Ie.supportsDelete=Ie.supportsEditing=Ie.supportsQuery=Ie.supportsUpdate=Re.supportsDeleteByOthers=Re.supportsGeometryUpdate=Re.supportsUpdateByOthers=!0,Pe):(this.userHasFullEditingPrivileges&&Ie.supportsEditing&&(Ie.supportsAdd=Ie.supportsDelete=Ie.supportsUpdate=Re.supportsGeometryUpdate=!0),Pe)}readEditingInfo(ge,Pe){const{editingInfo:Ie}=Pe;return Ie?{lastEditDate:null!=Ie.lastEditDate?new Date(Ie.lastEditDate):null}:null}readIsTableFromService(ge,Pe){return"Table"===Pe.type}readMinScale(ge,Pe){return Pe.effectiveMinScale||ge||0}readMaxScale(ge,Pe){return Pe.effectiveMaxScale||ge||0}readGlobalIdFieldFromService(ge,Pe){return(0,q.rk)(Pe)}readObjectIdFieldFromService(ge,Pe){return(0,q.kZ)(Pe)}readServiceDefinitionExpression(ge,Pe){return Pe.definitionQuery||Pe.definitionExpression}set url(ge){const Pe=(0,se.XG)({layer:this,url:ge,nonStandardUrlAllowed:!0,logger:B.Z.getLogger(this.declaredClass)});this._set("url",Pe.url),null!=Pe.layerId&&this._set("layerId",Pe.layerId)}writeUrl(ge,Pe,Ie,Re){(0,se.wH)(this,ge,null,Pe,Re)}readVersion(ge,Pe){return(0,q.JY)(Pe)}};return(0,w._)([(0,k.Cb)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],ce.prototype,"capabilities",void 0),(0,w._)([(0,ee.r)("service","capabilities")],ce.prototype,"readCapabilitiesFromService",null),(0,w._)([(0,k.Cb)({readOnly:!0})],ce.prototype,"effectiveCapabilities",null),(0,w._)([(0,k.Cb)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],ce.prototype,"copyright",void 0),(0,w._)([(0,k.Cb)({type:U.Z})],ce.prototype,"dateFieldsTimeReference",void 0),(0,w._)([(0,k.Cb)({type:Boolean})],ce.prototype,"datesInUnknownTimezone",void 0),(0,w._)([(0,k.Cb)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],ce.prototype,"displayField",void 0),(0,w._)([(0,k.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ce.prototype,"definitionExpression",void 0),(0,w._)([(0,k.Cb)({readOnly:!0,type:z})],ce.prototype,"editFieldsInfo",void 0),(0,w._)([(0,k.Cb)({readOnly:!0})],ce.prototype,"editingInfo",void 0),(0,w._)([(0,ee.r)("editingInfo")],ce.prototype,"readEditingInfo",null),(0,w._)([(0,k.Cb)((()=>{const ge=(0,W.d9)(ie.PV),Pe=ge.json.origins;return Pe["web-map"]={read:!1,write:!1},Pe["portal-item"]={read:!1,write:!1},ge})())],ce.prototype,"elevationInfo",void 0),(0,w._)([(0,k.Cb)({type:be.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],ce.prototype,"floorInfo",void 0),(0,w._)([(0,k.Cb)({type:Y.Z,json:{origins:{service:{read:{source:"extent"}}}}})],ce.prototype,"fullExtent",void 0),(0,w._)([(0,k.Cb)()],ce.prototype,"gdbVersion",void 0),(0,w._)([(0,k.Cb)({readOnly:!0,type:de,json:{read:{source:"geometryProperties"}}})],ce.prototype,"geometryFieldsInfo",void 0),(0,w._)([(0,k.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:q.Fr.read}}}})],ce.prototype,"geometryType",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],ce.prototype,"hasM",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],ce.prototype,"hasZ",void 0),(0,w._)([(0,k.Cb)({readOnly:!0,type:ne.Z})],ce.prototype,"heightModelInfo",void 0),(0,w._)([(0,k.Cb)({type:Date})],ce.prototype,"historicMoment",void 0),(0,w._)([(0,k.Cb)({readOnly:!0})],ce.prototype,"isTable",void 0),(0,w._)([(0,ee.r)("service","isTable",["type"])],ce.prototype,"readIsTableFromService",null),(0,w._)([(0,k.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],ce.prototype,"layerId",void 0),(0,w._)([(0,k.Cb)(ie.rO)],ce.prototype,"minScale",void 0),(0,w._)([(0,ee.r)("service","minScale",["minScale","effectiveMinScale"])],ce.prototype,"readMinScale",null),(0,w._)([(0,k.Cb)(ie.u1)],ce.prototype,"maxScale",void 0),(0,w._)([(0,ee.r)("service","maxScale",["maxScale","effectiveMaxScale"])],ce.prototype,"readMaxScale",null),(0,w._)([(0,k.Cb)({type:String})],ce.prototype,"globalIdField",void 0),(0,w._)([(0,ee.r)("service","globalIdField",["globalIdField","fields"])],ce.prototype,"readGlobalIdFieldFromService",null),(0,w._)([(0,k.Cb)({type:String})],ce.prototype,"objectIdField",void 0),(0,w._)([(0,ee.r)("service","objectIdField",["objectIdField","fields"])],ce.prototype,"readObjectIdFieldFromService",null),(0,w._)([(0,k.Cb)({type:U.Z})],ce.prototype,"preferredTimeReference",void 0),(0,w._)([(0,k.Cb)({type:[Ee],readOnly:!0})],ce.prototype,"relationships",void 0),(0,w._)([(0,k.Cb)()],ce.prototype,"sourceJSON",void 0),(0,w._)([(0,k.Cb)({type:Boolean})],ce.prototype,"returnM",void 0),(0,w._)([(0,k.Cb)({type:Boolean})],ce.prototype,"returnZ",void 0),(0,w._)([(0,k.Cb)({readOnly:!0})],ce.prototype,"serviceDefinitionExpression",void 0),(0,w._)([(0,ee.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ce.prototype,"readServiceDefinitionExpression",null),(0,w._)([(0,k.Cb)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ce.prototype,"serviceItemId",void 0),(0,w._)([(0,k.Cb)({type:ae.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],ce.prototype,"spatialReference",void 0),(0,w._)([(0,k.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],ce.prototype,"subtypeField",void 0),(0,w._)([(0,k.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ce.prototype,"trackIdField",void 0),(0,w._)([(0,k.Cb)({readOnly:!0,json:{write:!1}})],ce.prototype,"serverGens",void 0),(0,w._)([(0,k.Cb)({type:O.Z.ofType(J),readOnly:!0})],ce.prototype,"indexes",void 0),(0,w._)([(0,k.Cb)(ie.HQ)],ce.prototype,"url",null),(0,w._)([(0,G.c)("url")],ce.prototype,"writeUrl",null),(0,w._)([(0,k.Cb)({json:{origins:{service:{read:!0}},read:!1}})],ce.prototype,"version",void 0),(0,w._)([(0,ee.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ce.prototype,"readVersion",null),ce=(0,w._)([(0,Z.j)("esri.layers.mixins.FeatureLayerBase")],ce),ce}},15008:(j,F,T)=>{"use strict";T.d(F,{M:()=>Ue});var _e,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(43149),ee=T(83989),Z=T(73281),te=(T(4832),T(49067),T(96794),T(69747),T(40425),T(69357),T(40342)),Q=T(73640),V=T(33474),U=T(32088),$=T(20383),z=T(58817),J=T(94113),q=T(55342),oe=T(68653),pe=T(99433),de=T(383),be=T(13812),me=T(170);const le=(0,de.d)({types:$.QT});let Ee=_e=class extends ee.B{constructor(ke){super(ke),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(ke,Ye,xe){const We=ke.filter(Qe=>"avg_angle"!==Qe.statisticType).map(Qe=>Qe.toJSON());(0,J.RB)(xe,We,Ye)}readRenderer(ke,Ye,xe){const We=Ye.drawingInfo?.renderer;return We?(0,V.a)(We,Ye,xe)??void 0:Ye.defaultSymbol?Ye.types&&Ye.types.length?new Q.Z({defaultSymbol:le(Ye.defaultSymbol,Ye,xe),field:Ye.typeIdField,uniqueValueInfos:Ye.types.map(Qe=>({id:Qe.id,symbol:le(Qe.symbol,Qe,xe)}))}):new te.Z({symbol:le(Ye.defaultSymbol,Ye,xe)}):null}clone(){return new _e({fields:(0,z.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,z.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,z.d9)(this.popupTemplate),renderer:(0,z.d9)(this.renderer)})}};(0,w._)([(0,q.J)({binning:"binning"})],Ee.prototype,"type",void 0),(0,w._)([(0,q.J)({geohash:"geohash"})],Ee.prototype,"binType",void 0),(0,w._)([(0,O.Cb)({type:Number,range:{min:1,max:9},json:{write:!0}})],Ee.prototype,"fixedBinLevel",void 0),(0,w._)([(0,O.Cb)({type:[me.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Ee.prototype,"labelingInfo",void 0),(0,w._)([(0,O.Cb)(be.iR)],Ee.prototype,"labelsVisible",void 0),(0,w._)([(0,O.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Ee.prototype,"maxScale",void 0),(0,w._)([(0,O.Cb)(be.C_)],Ee.prototype,"popupEnabled",void 0),(0,w._)([(0,O.Cb)({type:Z.Z,json:{name:"popupInfo",write:!0}})],Ee.prototype,"popupTemplate",void 0),(0,w._)([(0,O.Cb)({type:[re.Z],json:{write:!0}})],Ee.prototype,"fields",void 0),(0,w._)([(0,pe.c)("fields")],Ee.prototype,"writeFields",null),(0,w._)([(0,O.Cb)({types:U.A,json:{write:{target:"drawingInfo.renderer"}}})],Ee.prototype,"renderer",void 0),(0,w._)([(0,oe.r)("renderer",["drawingInfo.renderer"])],Ee.prototype,"readRenderer",null),Ee=_e=(0,w._)([(0,k.j)("esri.layers.support.FeatureReductionBinning")],Ee);const ye=Ee;var ce,ue=T(86810),Me=T(23841);const ge=(0,de.d)({types:$.QT});function Ie(ke){return"simple"===ke.type&&!ke.visualVariables?.length}let Re=ce=class extends ue.wq{constructor(ke){super(ke),this.type="cluster",this.clusterRadius=(0,Me.t_)("80px"),this.clusterMinSize=(0,Me.t_)("12px"),this.clusterMaxSize=(0,Me.t_)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(ke,Ye,xe){const We=Ye.drawingInfo?.renderer;return We?.authoringInfo?.isAutoGenerated?null:We?Ie(We)?null:(0,V.a)(We,Ye,xe)??void 0:Ye.defaultSymbol?Ye.types&&Ye.types.length?new Q.Z({defaultSymbol:ge(Ye.defaultSymbol,Ye,xe),field:Ye.typeIdField,uniqueValueInfos:Ye.types.map(Qe=>({id:Qe.id,symbol:ge(Qe.symbol,Qe,xe)}))}):new te.Z({symbol:ge(Ye.defaultSymbol,Ye,xe)}):null}readSymbol(ke,Ye,xe){const We=Ye.drawingInfo?.renderer;return We?.authoringInfo?.isAutoGenerated?null:We&&Ie(We)?(0,V.a)(We,Ye,xe)?.symbol:null}writeSymbol(ke,Ye,xe,We){const Qe=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||Qe){const lt=new te.Z({symbol:ke});Ye.drawingInfo={renderer:lt.write({},We)}}}writeFields(ke,Ye,xe){const We=ke.filter(Qe=>"avg_angle"!==Qe.statisticType).map(Qe=>Qe.toJSON());(0,J.RB)(xe,We,Ye)}readFields(ke,Ye,xe){return ke.filter(We=>!We.isAutoGenerated).map(We=>re.Z.fromJSON(We))}clone(){return new ce({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,z.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,z.d9)(this.fields),maxScale:this.maxScale,renderer:(0,z.d9)(this.renderer),symbol:(0,z.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,z.d9)(this.popupTemplate)})}};(0,w._)([(0,O.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],Re.prototype,"type",void 0),(0,w._)([(0,O.Cb)({type:Number,cast:ke=>"auto"===ke?ke:(0,Me.t_)(ke),json:{write:!0}})],Re.prototype,"clusterRadius",void 0),(0,w._)([(0,O.Cb)({type:Number,cast:Me.t_,json:{write:!0}})],Re.prototype,"clusterMinSize",void 0),(0,w._)([(0,O.Cb)({type:Number,cast:Me.t_,json:{write:!0}})],Re.prototype,"clusterMaxSize",void 0),(0,w._)([(0,O.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Re.prototype,"maxScale",void 0),(0,w._)([(0,O.Cb)(be.C_)],Re.prototype,"popupEnabled",void 0),(0,w._)([(0,O.Cb)({type:Z.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Re.prototype,"popupTemplate",void 0),(0,w._)([(0,O.Cb)({types:U.A,json:{write:{target:"drawingInfo.renderer"}}})],Re.prototype,"renderer",void 0),(0,w._)([(0,oe.r)("renderer",["drawingInfo.renderer"])],Re.prototype,"readRenderer",null),(0,w._)([(0,O.Cb)({types:$.AH})],Re.prototype,"symbol",void 0),(0,w._)([(0,oe.r)("symbol",["drawingInfo.renderer"])],Re.prototype,"readSymbol",null),(0,w._)([(0,pe.c)("symbol")],Re.prototype,"writeSymbol",null),(0,w._)([(0,O.Cb)({type:[me.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Re.prototype,"labelingInfo",void 0),(0,w._)([(0,O.Cb)(be.iR)],Re.prototype,"labelsVisible",void 0),(0,w._)([(0,O.Cb)({type:[re.Z],json:{write:!0}})],Re.prototype,"fields",void 0),(0,w._)([(0,pe.c)("fields")],Re.prototype,"writeFields",null),(0,w._)([(0,oe.r)("fields")],Re.prototype,"readFields",null),Re=ce=(0,w._)([(0,k.j)("esri.layers.support.FeatureReductionCluster")],Re);const Ce=Re;var Fe=T(47058);const Ne={key:"type",base:ee.B,typeMap:{cluster:Ce,binning:ye}},Le={types:{key:"type",base:ee.B,typeMap:{selection:Fe.Z,cluster:Ce,binning:ye}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:Ne},"portal-item":{types:Ne},"web-scene":{types:{key:"type",base:ee.B,typeMap:{selection:Fe.Z}}}}}};var Oe=T(62192);const Ue=ke=>{let Ye=class extends ke{constructor(...xe){super(...xe),this.own(this.watch("renderer",()=>{if(this.featureReduction){const We=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",We)}},!0))}set featureReduction(xe){const We=this._normalizeFeatureReduction(xe);this._set("featureReduction",We)}set renderer(xe){}_normalizeFeatureReduction(xe){if("cluster"!==xe?.type)return xe;const We=xe.clone(),Qe=[new re.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],lt=(We.fields??[]).filter(Te=>!Te.isAutoGenerated);if(xe.renderer&&!xe.renderer.authoringInfo?.isAutoGenerated)return We.fields=[...Qe,...lt],We;if(xe.symbol)return We.fields=[...Qe,...lt],We.renderer=null,We;if(!this.renderer)return xe;const ve=(0,Oe.S1)(Qe,this.renderer,xe,null,!1);return We.fields=[...Qe,...lt],We.renderer=ve,We}};return(0,w._)([(0,O.Cb)(Le)],Ye.prototype,"featureReduction",null),Ye=(0,w._)([(0,k.j)("esri.layers.mixins.FeatureReductionLayer")],Ye),Ye}},49286:(j,F,T)=>{"use strict";T.d(F,{q:()=>se});var w=T(17626),O=T(26584),W=T(21726),B=T(77712),ee=(T(90912),T(85931),T(76898)),Z=T(99433),G=T(29338),Y=T(36054);const ne={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};var ae=T(13812);const se=te=>{let Q=class extends te{constructor(){super(...arguments),this.title=null}writeListMode(V,U,$,z){(z&&"ground"===z.layerContainerType||V&&(0,Y.d)(this,$,{},z))&&(U[$]=V)}writeOperationalLayerType(V,U,$,z){!V||z&&"tables"===z.layerContainerType||(U.layerType=V)}writeTitle(V,U){U.title=V??"Layer"}read(V,U){U&&(U.layer=this),(0,G.$)(this,V,$=>super.read(V,$),U)}write(V,U){if(U?.origin){const J=`${U.origin}/${U.layerContainerType||"operational-layers"}`,q=ne[J];let oe=q&&q[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===J&&(oe=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===J&&(oe=!1),!oe)return U.messages?.push(new O.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${J}'`,{layer:this})),null}const $=super.write(V,{...U,layer:this}),z=!!U&&!!U.messages&&!!U.messages.filter(J=>J instanceof O.Z&&"web-document-write:property-required"===J.name).length;return(0,W.jc)($?.url)?(U?.messages?.push(new O.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&z?null:$}beforeSave(){}};return(0,w._)([(0,B.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],Q.prototype,"id",void 0),(0,w._)([(0,B.Cb)(ae.rT)],Q.prototype,"listMode",void 0),(0,w._)([(0,Z.c)("listMode")],Q.prototype,"writeListMode",null),(0,w._)([(0,B.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],Q.prototype,"operationalLayerType",void 0),(0,w._)([(0,Z.c)("operationalLayerType")],Q.prototype,"writeOperationalLayerType",null),(0,w._)([(0,B.Cb)(ae.Oh)],Q.prototype,"opacity",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],Q.prototype,"title",void 0),(0,w._)([(0,Z.c)("title"),(0,Z.c)(["web-scene"],"title")],Q.prototype,"writeTitle",null),(0,w._)([(0,B.Cb)({type:Boolean,json:{name:"visibility"}})],Q.prototype,"visible",void 0),Q=(0,w._)([(0,ee.j)("esri.layers.mixins.OperationalLayer")],Q),Q}},32629:(j,F,T)=>{"use strict";T.d(F,{c:()=>te});var G,w=T(17626),O=T(94113),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(2076),Z=T(86810);const Y=new ee.X({asc:"ascending",desc:"descending"});let ne=G=class extends Z.wq{constructor(Q){super(Q),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new G({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),(0,w._)([(0,W.Cb)({type:Y.apiValues,json:{read:Y.read,write:Y.write}})],ne.prototype,"order",void 0),ne=G=(0,w._)([(0,re.j)("esri.layers.support.OrderByInfo")],ne);const ae=ne;function se(Q,V,U){if(!Q)return null;const $=Q.find(J=>!!J.field);if(!$)return null;const z=new ae;return z.read($,U),[z]}function ie(Q,V,U,$){const z=Q.find(J=>!!J.field);z&&(0,O.RB)(U,[z.toJSON()],V)}const te=Q=>{let V=class extends Q{constructor(){super(...arguments),this.orderBy=null}};return(0,w._)([(0,W.Cb)({type:[ae],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:se},write:{target:"layerDefinition.orderBy",writer:ie}}})],V.prototype,"orderBy",void 0),V=(0,w._)([(0,re.j)("esri.layers.mixins.OrderedLayer")],V),V}},6647:(j,F,T)=>{"use strict";T.d(F,{I:()=>oe});var w=T(15861),O=T(17626),W=T(59318),B=T(24263),k=T(84792),re=T(59213),ee=T(26584),Z=T(63290),G=T(62208),Y=T(10699),ne=T(21726),ae=T(77712),te=(T(90912),T(85931),T(68653)),Q=T(76898),V=T(99433),U=T(72469),$=T(84687),z=T(55463),J=T(94508),q=T(37281);const oe=de=>{let be=class extends de{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,G.SC)(this.portalItem)}set portalItem(me){me!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",me))}readPortalItem(me,_e,le){if(_e.itemId)return new z.default({id:_e.itemId,portal:le&&le.portal})}writePortalItem(me,_e){me&&me.id&&(_e.itemId=me.id)}loadFromPortal(me,_e){var le=this;return(0,w.Z)(function*(){if(le.portalItem&&le.portalItem.id)try{const fe=yield T.e(3705).then(T.bind(T,83705));return(0,Y.k_)(_e),yield fe.load({instance:le,supportedTypes:me.supportedTypes,validateItem:me.validateItem,supportsData:me.supportsData,layerModuleTypeMap:me.layerModuleTypeMap},_e)}catch(fe){throw(0,Y.D_)(fe)||Z.Z.getLogger(le.declaredClass).warn(`Failed to load layer (${le.title}, ${le.id}) portal item (${le.portalItem.id})\n  ${fe}`),fe}})()}finishLoadEditablePortalLayer(me){var _e=this;return(0,w.Z)(function*(){_e._set("userHasEditingPrivileges",yield _e._fetchUserHasEditingPrivileges(me).catch(le=>((0,Y.r9)(le),!0)))})()}_setUserPrivileges(me,_e){var le=this;return(0,w.Z)(function*(){if(!W.Z.userPrivilegesApplied)return le.finishLoadEditablePortalLayer(_e);if(le.url)try{const{features:{edit:fe,fullEdit:Ee},content:{updateItem:ye}}=yield le._fetchUserPrivileges(me,_e);le._set("userHasEditingPrivileges",fe),le._set("userHasFullEditingPrivileges",Ee),le._set("userHasUpdateItemPrivileges",ye)}catch(fe){(0,Y.r9)(fe)}})()}_fetchUserPrivileges(me,_e){var le=this;return(0,w.Z)(function*(){let fe=le.portalItem;if(!me||!fe||!fe.loaded||fe.sourceUrl)return le._fetchFallbackUserPrivileges(_e);const Ee=me===fe.id;if(Ee&&fe.portal.user)return(0,q.Ss)(fe);let ye,ue;if(Ee)ye=fe.portal.url;else try{ye=yield(0,U.oP)(le.url,_e)}catch(Pe){(0,Y.r9)(Pe)}if(!ye||!(0,ne.Zo)(ye,fe.portal.url))return le._fetchFallbackUserPrivileges(_e);try{const Pe=(0,G.pC)(_e)?_e.signal:null;ue=yield B.id?.getCredential(`${ye}/sharing`,{prompt:!1,signal:Pe})}catch(Pe){(0,Y.r9)(Pe)}if(!ue)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(Ee?yield fe.reload():(fe=new z.default({id:me,portal:{url:ye}}),yield fe.load(_e)),fe.portal.user)return(0,q.Ss)(fe)}catch(Pe){(0,Y.r9)(Pe)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(me){var _e=this;return(0,w.Z)(function*(){let le=!0;try{le=yield _e._fetchUserHasEditingPrivileges(me)}catch(fe){(0,Y.r9)(fe)}return{features:{edit:le,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(me){var _e=this;return(0,w.Z)(function*(){const le=_e.url?B.id?.findCredential(_e.url):null;if(!le)return!0;const fe=pe.credential===le?pe.user:yield _e._fetchEditingUser(me);return pe.credential=le,pe.user=fe,(0,G.Wi)(fe)||null==fe.privileges||fe.privileges.includes("features:user:edit")})()}_fetchEditingUser(me){var _e=this;return(0,w.Z)(function*(){const le=_e.portalItem?.portal?.user;if(le)return le;const fe=B.id.findServerInfo(_e.url??"");if(!fe?.owningSystemUrl)return null;const Ee=`${fe.owningSystemUrl}/sharing/rest`,ye=$.Z.getDefault();if(ye&&ye.loaded&&(0,ne.Fv)(ye.restUrl)===(0,ne.Fv)(Ee))return ye.user;const ue=`${Ee}/community/self`,Me=(0,G.pC)(me)?me.signal:null,ce=yield(0,re.q6)((0,k.default)(ue,{authMode:"no-prompt",query:{f:"json"},signal:Me}));return ce.ok?J.default.fromJSON(ce.value.data):null})()}read(me,_e){_e&&(_e.layer=this),super.read(me,_e)}write(me,_e){const le=_e&&_e.portal,fe=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||$.Z.getDefault());return le&&fe&&!(0,ne.tm)(fe.restUrl,le.restUrl)?(_e.messages&&_e.messages.push(new ee.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(me,{..._e,layer:this})}};return(0,O._)([(0,ae.Cb)({type:z.default})],be.prototype,"portalItem",null),(0,O._)([(0,te.r)("web-document","portalItem",["itemId"])],be.prototype,"readPortalItem",null),(0,O._)([(0,V.c)("web-document","portalItem",{itemId:{type:String}})],be.prototype,"writePortalItem",null),(0,O._)([(0,ae.Cb)({clonable:!1})],be.prototype,"resourceReferences",void 0),(0,O._)([(0,ae.Cb)({type:Boolean,readOnly:!0})],be.prototype,"userHasEditingPrivileges",void 0),(0,O._)([(0,ae.Cb)({type:Boolean,readOnly:!0})],be.prototype,"userHasFullEditingPrivileges",void 0),(0,O._)([(0,ae.Cb)({type:Boolean,readOnly:!0})],be.prototype,"userHasUpdateItemPrivileges",void 0),be=(0,O._)([(0,Q.j)("esri.layers.mixins.PortalLayer")],be),be},pe={credential:null,user:null}},30346:(j,F,T)=>{"use strict";T.d(F,{Q:()=>de});var w=T(15861),O=T(17626),W=T(63290),B=T(10699),k=T(77712),Z=(T(90912),T(85931),T(76898)),G=T(74333),se=(T(8314),T(26584),T(30755),T(21352));const ie=new G.Z,te=new WeakMap;function U(be){return null!=be&&"object"==typeof be&&"refreshInterval"in be&&"refresh"in be}function $(be,me){return Number.isFinite(be)&&Number.isFinite(me)?me<=0?be:$(me,be%me):0}let z=0,J=0;function q(){const be=Date.now();for(const me of ie)me.refreshInterval&&be-(te.get(me)??0)+5>=6e4*me.refreshInterval&&(te.set(me,be),me.refresh(be))}(0,se.EH)(()=>{const be=Date.now();let me=0;for(const _e of ie)me=$(Math.round(6e4*_e.refreshInterval),me),_e.refreshInterval?te.get(_e)||te.set(_e,be):te.delete(_e);if(me!==J){if(J=me,clearInterval(z),0===J)return void(z=0);z=setInterval(q,J)}});const de=be=>{let me=class extends be{constructor(..._e){super(..._e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,B.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function Q(be){U(be)&&ie.push(be)}(this)},()=>{})}destroy(){!function V(be){U(be)&&ie.includes(be)&&ie.remove(be)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(_e=Date.now()){(0,B.R8)(this._debounceHasDataChanged()).then(le=>{le&&this._set("refreshTimestamp",_e),this.emit("refresh",{dataChanged:le})},le=>{W.Z.getLogger(this.declaredClass).error(le),this.emit("refresh",{dataChanged:!1,error:le})})}hasDataChanged(){return(0,w.Z)(function*(){return!0})()}};return(0,O._)([(0,k.Cb)({type:Number,cast:_e=>_e>=.1?_e:_e<=0?0:.1,json:{write:!0}})],me.prototype,"refreshInterval",void 0),(0,O._)([(0,k.Cb)({readOnly:!0})],me.prototype,"refreshTimestamp",void 0),(0,O._)([(0,k.Cb)()],me.prototype,"refreshParameters",null),me=(0,O._)([(0,Z.j)("esri.layers.mixins.RefreshableLayer")],me),me}},99555:(j,F,T)=>{"use strict";T.d(F,{M:()=>re});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898));const re=Z=>{let G=class extends Z{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const Y={minScale:this.minScale,maxScale:this.maxScale},ne=this.parent;ne&&"effectiveScaleRange"in ne&&function ee(Z,G){Z.minScale=Z.minScale>0?G.minScale>0?Math.min(Z.minScale,G.minScale):Z.minScale:G.minScale,Z.maxScale=Z.maxScale>0?G.maxScale>0?Math.max(Z.maxScale,G.maxScale):Z.maxScale:G.maxScale}(Y,ne.effectiveScaleRange);const ae=this._get("effectiveScaleRange");return ae&&ae.minScale===Y.minScale&&ae.maxScale===Y.maxScale?ae:Y}};return(0,w._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],G.prototype,"minScale",void 0),(0,w._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],G.prototype,"maxScale",void 0),(0,w._)([(0,O.Cb)({readOnly:!0})],G.prototype,"effectiveScaleRange",null),G=(0,w._)([(0,k.j)("esri.layers.mixins.ScaleRangeLayer")],G),G}},97941:(j,F,T)=>{"use strict";T.d(F,{n:()=>ae});var w=T(17626),O=T(97478),W=T(20849),B=T(77712),ee=(T(90912),T(85931),T(68653)),Z=T(76898),G=T(36630),Y=T(73917),ne=T(58926);const ae=se=>{let ie=class extends se{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(te,Q){const V=Q.timeInfo.exportOptions;if(!V)return null;const U=V.timeOffset,$=ne.v.fromJSON(V.timeOffsetUnits);return U&&$?new W.Z({value:U,unit:$}):null}set timeInfo(te){(0,G.UF)(te,this.fieldsIndex),this._set("timeInfo",te)}};return(0,w._)([(0,B.Cb)({type:O.Z,json:{write:!1}})],ie.prototype,"timeExtent",void 0),(0,w._)([(0,B.Cb)({type:W.Z})],ie.prototype,"timeOffset",void 0),(0,w._)([(0,ee.r)("service","timeOffset",["timeInfo.exportOptions"])],ie.prototype,"readOffset",null),(0,w._)([(0,B.Cb)({value:null,type:Y.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],ie.prototype,"timeInfo",null),(0,w._)([(0,B.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],ie.prototype,"useViewTime",void 0),ie=(0,w._)([(0,Z.j)("esri.layers.mixins.TemporalLayer")],ie),ie}},43149:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(86810),W=T(58817),B=T(77712),re=(T(90912),T(76898)),ee=T(95778);let G=Z=class extends O.wq{constructor(ne){super(ne),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new Z({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,W.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"isAutoGenerated",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"name",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"alias",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"onStatisticField",void 0),(0,w._)([(0,B.Cb)({type:ee.Z,json:{write:!0}})],G.prototype,"onStatisticExpression",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"statisticType",void 0),G=Z=(0,w._)([(0,re.j)("esri.layers.support.AggregateField")],G);const Y=G},95778:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var w=T(17626),O=T(79608),W=T(86810),B=T(77712),ee=(T(90912),T(85931),T(76898));let Z=class extends((0,O.J)(W.wq)){constructor(Y){super(Y),this.expression=null,this.title=null,this.returnType=null}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"expression",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Z.prototype,"returnType",void 0),Z=(0,w._)([(0,ee.j)("esri.layers.support.ExpressionInfo")],Z);const G=Z},2319:(j,F,T)=>{"use strict";T.d(F,{Z:()=>V});var ae,w=T(17626),O=T(26584),W=T(86810),B=T(62208),k=T(94113),re=T(77712),G=(T(90912),T(85931),T(76898)),Y=T(71149),ne=T(98624);const se={read:{reader:Y.ij},write:{writer:Y.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},ie={read:{reader:Y.ij},write:{writer:Y.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},te={name:"showExcludedLabels",default:!0};let Q=ae=class extends W.wq{constructor(U){super(U),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(U,$){const z=super.write(U,$);if($?.origin){if(z.filter){const J=Object.keys(z.filter);if(J.length>1||"where"!==J[0])return $.messages?.push(new O.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:$.layer,effect:this})),null}if("showExcludedLabels"in z)return $.messages?.push(new O.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:$.layer,effect:this})),null}return z}clone(){return new ae({filter:(0,B.pC)(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,w._)([(0,re.Cb)({type:ne.Z,json:{write:{allowNull:!0,writer(U,$,z,J){const q=U?.write({},J);q&&0!==Object.keys(q).length?(0,k.RB)(z,q,$):(0,k.RB)(z,null,$)}}}})],Q.prototype,"filter",void 0),(0,w._)([(0,re.Cb)({json:{write:!0,origins:{"web-map":se,"portal-item":se}}})],Q.prototype,"includedEffect",void 0),(0,w._)([(0,re.Cb)({json:{write:!0,origins:{"web-map":ie,"portal-item":ie}}})],Q.prototype,"excludedEffect",void 0),(0,w._)([(0,re.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":te,"portal-item":te}}})],Q.prototype,"excludedLabelsVisible",void 0),Q=ae=(0,w._)([(0,G.j)("esri.layers.support.FeatureEffect")],Q);const V=Q},98624:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Q});var ae,w=T(17626),O=T(29132),W=T(97478),B=T(2076),k=T(86810),re=T(58817),ee=T(62208),Z=T(77712),Y=(T(90912),T(76898)),ne=T(96854);const se=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),ie=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let te=ae=class extends k.wq{constructor(V){super(V),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(V={}){const{where:U,geometry:$,spatialRelationship:z,timeExtent:J,objectIds:q,units:oe,distance:pe}=this;return new ne.Z({geometry:(0,re.d9)($),objectIds:(0,re.d9)(q),spatialRelationship:z,timeExtent:(0,re.d9)(J),where:U,units:oe,distance:pe,...V})}clone(){const{where:V,geometry:U,spatialRelationship:$,timeExtent:z,objectIds:J,units:q,distance:oe}=this;return new ae({geometry:(0,re.d9)(U),objectIds:(0,re.d9)(J),spatialRelationship:$,timeExtent:(0,re.d9)(z),where:V,units:q,distance:oe})}};(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],te.prototype,"where",void 0),(0,w._)([(0,Z.Cb)({types:O.qM,json:{write:!0}})],te.prototype,"geometry",void 0),(0,w._)([(0,Z.Cb)({type:se.apiValues,json:{name:"spatialRel",read:{reader:se.read},write:{allowNull:!1,writer:se.write,overridePolicy(){return{enabled:(0,ee.pC)(this.geometry)}}}}})],te.prototype,"spatialRelationship",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy(V){return{enabled:null!=V&&null!=this.geometry}}}}})],te.prototype,"distance",void 0),(0,w._)([(0,Z.Cb)({type:[Number],json:{write:!0}})],te.prototype,"objectIds",void 0),(0,w._)([(0,Z.Cb)({type:ie.apiValues,json:{read:ie.read,write:{writer:ie.write,overridePolicy(V){return{enabled:null!=V&&null!=this.geometry}}}}})],te.prototype,"units",void 0),(0,w._)([(0,Z.Cb)({type:W.Z,json:{write:!0}})],te.prototype,"timeExtent",void 0),te=ae=(0,w._)([(0,Y.j)("esri.layers.support.FeatureFilter")],te);const Q=te},83989:(j,F,T)=>{"use strict";T.d(F,{B:()=>ee});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(){super(...arguments),this.type=null}};(0,w._)([(0,W.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=(0,w._)([(0,re.j)("esri.layers.support.FeatureReduction")],ee)},47058:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(83989);let Z=ee=class extends re.B{constructor(Y){super(Y),this.type="selection"}clone(){return new ee}};(0,w._)([(0,O.Cb)({type:["selection"]})],Z.prototype,"type",void 0),Z=ee=(0,w._)([(0,k.j)("esri.layers.support.FeatureReductionSelection")],Z);const G=Z},32777:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var w=T(17626),O=T(79608),W=T(2076),B=T(86810),k=T(77712),Z=(T(90912),T(85931),T(76898));const G=new W.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Y=class extends((0,O.J)(B.wq)){constructor(ae){super(ae),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,w._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"name",void 0),(0,w._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"description",void 0),(0,w._)([(0,k.Cb)({json:{read:G.read,write:G.write}})],Y.prototype,"drawingTool",void 0),(0,w._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"prototype",void 0),(0,w._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"thumbnail",void 0),Y=(0,w._)([(0,Z.j)("esri.layers.support.FeatureTemplate")],Y);const ne=Y},41638:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var w=T(17626),O=T(79608),W=T(86810),B=T(77712),ee=(T(90912),T(85931),T(68653)),Z=T(76898),G=T(99433),Y=T(26141),ne=T(32777);let ae=class extends((0,O.J)(W.wq)){constructor(ie){super(ie),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(ie){const te={};for(const Q of Object.keys(ie))te[Q]=(0,Y.im)(ie[Q]);return te}writeDomains(ie,te){const Q={};for(const V of Object.keys(ie))ie[V]&&(Q[V]=ie[V]?.toJSON());te.domains=Q}};(0,w._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"id",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"name",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"domains",void 0),(0,w._)([(0,ee.r)("domains")],ae.prototype,"readDomains",null),(0,w._)([(0,G.c)("domains")],ae.prototype,"writeDomains",null),(0,w._)([(0,B.Cb)({type:[ne.Z],json:{write:!0}})],ae.prototype,"templates",void 0),ae=(0,w._)([(0,Z.j)("esri.layers.support.FeatureType")],ae);const se=ae},36255:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var ae,w=T(17626),O=T(2076),W=T(86810),B=T(77712),k=T(90912),ee=(T(85931),T(55342)),Z=T(68653),G=T(76898),Y=T(26141),ne=T(85);const se=new O.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let ie=ae=class extends W.wq{constructor(Q){super(Q),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(Q,{description:V}){let U=null;try{U=V?JSON.parse(V):null}catch{}return U?.value??null}readValueType(Q,{description:V}){let U=null;try{U=V?JSON.parse(V):null}catch{}return U?se.fromJSON(U.fieldValueType):null}clone(){return new ae({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ie.prototype,"alias",void 0),(0,w._)([(0,B.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],ie.prototype,"defaultValue",void 0),(0,w._)([(0,B.Cb)()],ie.prototype,"description",void 0),(0,w._)([(0,Z.r)("description")],ie.prototype,"readDescription",null),(0,w._)([(0,B.Cb)({types:Y.V5,json:{read:{reader:Y.im},write:!0}})],ie.prototype,"domain",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"editable",void 0),(0,w._)([(0,B.Cb)({type:k.z8,json:{write:!0}})],ie.prototype,"length",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],ie.prototype,"name",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"nullable",void 0),(0,w._)([(0,ee.J)(ne.v)],ie.prototype,"type",void 0),(0,w._)([(0,B.Cb)()],ie.prototype,"valueType",void 0),(0,w._)([(0,Z.r)("valueType",["description"])],ie.prototype,"readValueType",null),(0,w._)([(0,B.Cb)({type:Boolean,json:{read:!1}})],ie.prototype,"visible",void 0),ie=ae=(0,w._)([(0,G.j)("esri.layers.support.Field")],ie);const te=ie},60466:(j,F,T)=>{"use strict";T.d(F,{Z:()=>k});var w=T(36630);function W(Z){return"oid"===Z.type||"esriFieldTypeOID"===Z.type}function B(Z){return"global-id"===Z.type||"esriFieldTypeGlobalID"===Z.type}class k{constructor(G=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!G)return;this.fields=G;const Y=[];for(const ne of G){const ae=ne?.name,se=ee(ne?.name);if(ae&&se){const ie=re(ae);this._fieldsMap.set(ae,ne),this._fieldsMap.set(ie,ne),this._normalizedFieldsMap.set(se,ne),Y.push(ie),"date"===(Z=ne).type||"esriFieldTypeDate"===Z.type?(this.dateFields.push(ne),this._dateFieldsSet.add(ne)):(0,w.H7)(ne)&&(this._numericFieldsSet.add(ne),this.numericFields.push(ne)),W(ne)||B(ne)||(ne.editable=null==ne.editable||!!ne.editable,ne.nullable=null==ne.nullable||!!ne.nullable)}}var Z;Y.sort(),this.uid=Y.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const G of this.fields)W(G)||B(G)||G.nullable||void 0!==(0,w.os)(G)||this._requiredFields.push(G)}return this._requiredFields}has(G){return null!=this.get(G)}get(G){if(!G)return;let Y=this._fieldsMap.get(G);return Y||(Y=this._fieldsMap.get(re(G))??this._normalizedFieldsMap.get(ee(G)),Y&&this._fieldsMap.set(G,Y),Y)}isDateField(G){return this._dateFieldsSet.has(this.get(G))}isNumericField(G){return this._numericFieldsSet.has(this.get(G))}normalizeFieldName(G){const Y=this.get(G);if(Y)return Y.name??void 0}}function re(Z){return Z.trim().toLowerCase()}function ee(Z){return(0,w.q6)(Z)?.toLowerCase()??""}},72258:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(86810),W=T(77712),B=T(90912),re=(T(85931),T(76898));let Z=ee=class extends O.wq{constructor(Y){super(Y),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new ee({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,w._)([(0,W.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Z.prototype,"cols",void 0),(0,w._)([(0,W.Cb)({type:B.z8,json:{write:!0}})],Z.prototype,"level",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"levelValue",void 0),(0,w._)([(0,W.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Z.prototype,"origin",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],Z.prototype,"resolution",void 0),(0,w._)([(0,W.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Z.prototype,"rows",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],Z.prototype,"scale",void 0),Z=ee=(0,w._)([(0,re.j)("esri.layers.support.LOD")],Z);const G=Z},170:(j,F,T)=>{"use strict";T.d(F,{Z:()=>_e});var ie,w=T(17626),O=T(20383),W=T(2076),B=T(86810),k=T(58817),re=T(23841),ee=T(77712),G=(T(90912),T(68653)),Y=T(76898),ne=T(99433),se=(T(85931),T(86793));let te=ie=class extends B.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(le,fe){return fe.value?(0,se.dI)(fe.value):le}writeExpression(le,fe,Ee){null!=this.value&&(le=(0,se.dI)(this.value)),null!=le&&(fe[Ee]=le)}clone(){return new ie({expression:this.expression,title:this.title,value:this.value})}};(0,w._)([(0,ee.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],te.prototype,"expression",void 0),(0,w._)([(0,G.r)("expression",["expression","value"])],te.prototype,"readExpression",null),(0,w._)([(0,ne.c)("expression")],te.prototype,"writeExpression",null),(0,w._)([(0,ee.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],te.prototype,"title",void 0),(0,w._)([(0,ee.Cb)({json:{read:!1,write:!1}})],te.prototype,"value",void 0),te=ie=(0,w._)([(0,Y.j)("esri.layers.support.LabelExpressionInfo")],te);const Q=te;var z,V=T(72469),U=T(8080),$=T(9461);const J=new W.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function q(le,fe,Ee){return{enabled:!(0,V.A2)(Ee?.layer)}}function oe(le){return!le||"service"!==le.origin&&"map-image"!==le.layer?.type}function de(le){return!!function pe(le){return"map-image"===le?.type}(le)&&!!le.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let me=z=class extends B.wq{static evaluateWhere(le,fe){const Ee=(ye,ue,Me)=>{switch(ue){case"=":return ye==Me;case"<>":return ye!=Me;case">":return ye>Me;case">=":return ye>=Me;case"<":return ye<Me;case"<=":return ye<=Me}return!1};try{if(null==le)return!0;const ye=le.split(" ");if(3===ye.length)return Ee(fe[ye[0]],ye[1],ye[2]);if(7===ye.length){const ue=Ee(fe[ye[0]],ye[1],ye[2]),Me=ye[3],ce=Ee(fe[ye[4]],ye[5],ye[6]);switch(Me){case"AND":return ue&&ce;case"OR":return ue||ce}}return!1}catch{console.log("Error.: can't parse = "+le)}}constructor(le){super(le),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=U.Rz,this.useCodedValues=void 0,this.where=null}readLabelExpression(le,fe){const Ee=fe.labelExpressionInfo;if(!Ee||!Ee.value&&!Ee.expression)return le}writeLabelExpression(le,fe,Ee){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)le=(0,se.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const ye=(0,se.el)(this.labelExpressionInfo.expression);ye&&(le="["+ye+"]")}null!=le&&(fe[Ee]=le)}writeLabelExpressionInfo(le,fe,Ee,ye){if(null==le&&null!=this.labelExpression&&oe(ye))le=new Q({expression:this.getLabelExpressionArcade()});else if(!le)return;const ue=le.toJSON(ye);ue.expression&&(fe[Ee]=ue)}writeMaxScale(le,fe){(le||this.minScale)&&(fe.maxScale=le)}writeMinScale(le,fe){(le||this.maxScale)&&(fe.minScale=le)}getLabelExpression(){return(0,se.hV)(this)}getLabelExpressionArcade(){return(0,se.YI)(this)}getLabelExpressionSingleField(){return(0,se.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new z({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,k.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,k.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,w._)([(0,ee.Cb)({type:String,json:{write:!0}})],me.prototype,"name",void 0),(0,w._)([(0,ee.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:q}}}}})],me.prototype,"allowOverrun",void 0),(0,w._)([(0,ee.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:q}}}}})],me.prototype,"deconflictionStrategy",void 0),(0,w._)([(0,ee.Cb)({type:String,json:{write:{overridePolicy(le,fe,Ee){return this.labelExpressionInfo&&"service"===Ee?.origin&&de(Ee.layer)?{enabled:!1}:{allowNull:!0}}}}})],me.prototype,"labelExpression",void 0),(0,w._)([(0,G.r)("labelExpression")],me.prototype,"readLabelExpression",null),(0,w._)([(0,ne.c)("labelExpression")],me.prototype,"writeLabelExpression",null),(0,w._)([(0,ee.Cb)({type:Q,json:{write:{overridePolicy:(le,fe,Ee)=>function be(le){return oe(le)||de(le?.layer)}(Ee)?{allowNull:!0}:{enabled:!1}}}})],me.prototype,"labelExpressionInfo",void 0),(0,w._)([(0,ne.c)("labelExpressionInfo")],me.prototype,"writeLabelExpressionInfo",null),(0,w._)([(0,ee.Cb)({type:J.apiValues,json:{type:J.jsonValues,read:J.read,write:J.write}})],me.prototype,"labelPlacement",void 0),(0,w._)([(0,ee.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],me.prototype,"labelPosition",void 0),(0,w._)([(0,ee.Cb)({type:Number})],me.prototype,"maxScale",void 0),(0,w._)([(0,ne.c)("maxScale")],me.prototype,"writeMaxScale",null),(0,w._)([(0,ee.Cb)({type:Number})],me.prototype,"minScale",void 0),(0,w._)([(0,ne.c)("minScale")],me.prototype,"writeMinScale",null),(0,w._)([(0,ee.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:q}}}}})],me.prototype,"repeatLabel",void 0),(0,w._)([(0,ee.Cb)({type:Number,cast:re.t_,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:q}}}}})],me.prototype,"repeatLabelDistance",void 0),(0,w._)([(0,ee.Cb)({types:O.yK,json:{origins:{"web-scene":{types:O.S6,write:$.vX,default:null}},write:$.vX,default:null}})],me.prototype,"symbol",void 0),(0,w._)([(0,ee.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"useCodedValues",void 0),(0,w._)([(0,ee.Cb)({type:String,json:{write:!0}})],me.prototype,"where",void 0),me=z=(0,w._)([(0,Y.j)("esri.layers.support.LabelClass")],me);const _e=me},2430:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(74333),W=T(86810),B=T(77712),ee=(T(90912),T(85931),T(76898));let G=Z=class extends W.wq{constructor(ne){super(ne),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new O.Z}clone(){return new Z({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"floorField",void 0),(0,w._)([(0,B.Cb)({json:{read:!1,write:!1}})],G.prototype,"viewAllMode",void 0),(0,w._)([(0,B.Cb)({json:{read:!1,write:!1}})],G.prototype,"viewAllLevelIds",void 0),G=Z=(0,w._)([(0,ee.j)("esri.layers.support.LayerFloorInfo")],G);const Y=G},2584:(j,F,T)=>{"use strict";T.d(F,{Z:()=>q});var $,w=T(17626),O=T(2076),W=T(86810),B=T(62208),k=T(16730),re=T(77712),ee=T(90912),G=(T(85931),T(68653)),Y=T(76898),ne=T(99433),ae=T(72642),se=T(65234),ie=T(65401),te=T(37053),Q=T(46367),V=T(72258),U=T(68511);const z=new O.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let J=$=class extends W.wq{static create(oe={}){const{resolutionFactor:pe=1,scales:de,size:be=256,spatialReference:me=se.Z.WebMercator,numLODs:_e=24}=oe;if(!(0,te.JY)(me)){const Me=[];if(de)for(let ce=0;ce<de.length;ce++){const ge=de[ce];Me.push(new V.Z({level:ce,scale:ge,resolution:ge}))}else{let ce=5e-4;for(let ge=_e-1;ge>=0;ge--)Me.unshift(new V.Z({level:ge,scale:ce,resolution:ce})),ce*=2}return new $({dpi:96,lods:Me,origin:new ae.Z(0,0,me),size:[be,be],spatialReference:me})}const le=(0,te.C5)(me),fe=new ae.Z(oe.origin?{x:oe.origin.x,y:oe.origin.y,spatialReference:me}:le?{x:le.origin[0],y:le.origin[1],spatialReference:me}:{x:0,y:0,spatialReference:me}),ye=1/(39.37*(0,k.c9)(me)*96),ue=[];if(de)for(let Me=0;Me<de.length;Me++){const ce=de[Me];ue.push(new V.Z({level:Me,scale:ce,resolution:ce*ye}))}else{let Me=(0,te.sT)(me)?512/be*591657527.5917094:256/be*591657527.591555;const ce=Math.ceil(_e/pe);ue.push(new V.Z({level:0,scale:Me,resolution:Me*ye}));for(let ge=1;ge<ce;ge++){const Pe=Me/2**pe;ue.push(new V.Z({level:ge,scale:Pe,resolution:Pe*ye})),Me=Pe}}return new $({dpi:96,lods:ue,origin:fe,size:[be,be],spatialReference:me})}constructor(oe){super(oe),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:oe,origin:pe}=this;if(oe&&pe){const de=(0,te.C5)(oe);return oe.isWrappable&&!!de&&Math.abs(de.origin[0]-pe.x)<=de.dx}return!1}readOrigin(oe,pe){return ae.Z.fromJSON({spatialReference:pe.spatialReference,...oe})}set lods(oe){let pe=0,de=0;const be=[],me=this._levelToLOD={};oe&&(pe=-1/0,de=1/0,oe.forEach(_e=>{be.push(_e.scale),pe=_e.scale>pe?_e.scale:pe,de=_e.scale<de?_e.scale:de,me[_e.level]=_e})),this._set("scales",be),this._set("minScale",pe),this._set("maxScale",de),this._set("lods",oe),this._initializeUpsampleLevels()}readSize(oe,pe){return[pe.cols,pe.rows]}writeSize(oe,pe){pe.cols=oe[0],pe.rows=oe[1]}zoomToScale(oe){const pe=this.scales;if(oe<=0)return pe[0];if(oe>=pe.length-1)return pe[pe.length-1];const de=Math.floor(oe);return pe[de]/(pe[de]/pe[de+1])**(oe-de)}scaleToZoom(oe){const pe=this.scales,de=pe.length-1;let be=0;for(;be<de;be++){const me=pe[be],_e=pe[be+1];if(me<=oe)return be;if(_e===oe)return be+1;if(me>oe&&_e<oe)return be+Math.log(me/oe)/Math.log(me/_e)}return be}snapScale(oe,pe=.95){const de=this.scaleToZoom(oe);return de%Math.floor(de)>=pe?this.zoomToScale(Math.ceil(de)):this.zoomToScale(Math.floor(de))}tileAt(oe,pe,de,be){const me=this.lodAt(oe);if(!me)return null;let _e,le;if("number"==typeof pe)_e=pe,le=de;else if((0,te.fS)(pe.spatialReference,this.spatialReference))_e=pe.x,le=pe.y,be=de;else{const ye=(0,Q.iV)(pe,this.spatialReference);if((0,B.Wi)(ye))return null;_e=ye.x,le=ye.y,be=de}const fe=me.resolution*this.size[0],Ee=me.resolution*this.size[1];return be||(be=new U.f(null,0,0,0,(0,ie.Ue)())),be.level=oe,be.row=Math.floor((this.origin.y-le)/Ee+.001),be.col=Math.floor((_e-this.origin.x)/fe+.001),this.updateTileInfo(be),be}updateTileInfo(oe,pe=$.ExtrapolateOptions.NONE){let de=this.lodAt(oe.level);if(!de&&pe===$.ExtrapolateOptions.POWER_OF_TWO){const le=this.lods[this.lods.length-1];le.level<oe.level&&(de=le)}if(!de)return;const be=oe.level-de.level,me=de.resolution*this.size[0]/2**be,_e=de.resolution*this.size[1]/2**be;oe.id=`${oe.level}/${oe.row}/${oe.col}`,oe.extent||(oe.extent=(0,ie.Ue)()),oe.extent[0]=this.origin.x+oe.col*me,oe.extent[1]=this.origin.y-(oe.row+1)*_e,oe.extent[2]=oe.extent[0]+me,oe.extent[3]=oe.extent[1]+_e}upsampleTile(oe){const pe=this._upsampleLevels[oe.level];return!(!pe||-1===pe.parentLevel||(oe.level=pe.parentLevel,oe.row=Math.floor(oe.row/pe.factor+.001),oe.col=Math.floor(oe.col/pe.factor+.001),this.updateTileInfo(oe),0))}getTileBounds(oe,pe){const de=this.lodAt(pe.level);if(null==de)return null;const{resolution:be}=de,me=be*this.size[0],_e=be*this.size[1];return oe[0]=this.origin.x+pe.col*me,oe[1]=this.origin.y-(pe.row+1)*_e,oe[2]=oe[0]+me,oe[3]=oe[1]+_e,oe}lodAt(oe){return this._levelToLOD?.[oe]??null}clone(){return $.fromJSON(this.write({}))}getOrCreateCompatible(oe,pe){if(256===this.size[0]&&256===this.size[1])return 256===oe?this:null;const de=[],be=this.lods.length;for(let me=0;me<be;me++){const _e=this.lods[me];de.push(new V.Z({level:_e.level,scale:_e.scale,resolution:_e.resolution*pe}))}return new $({size:[oe,oe],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:de})}_initializeUpsampleLevels(){const oe=this.lods;this._upsampleLevels=[];let pe=null;for(let de=0;de<oe.length;de++){const be=oe[de];this._upsampleLevels[be.level]={parentLevel:pe?pe.level:-1,factor:pe?pe.resolution/be.resolution:0},pe=be}}};var oe,pe;(0,w._)([(0,re.Cb)({type:Number,json:{write:!0}})],J.prototype,"compressionQuality",void 0),(0,w._)([(0,re.Cb)({type:Number,json:{write:!0}})],J.prototype,"dpi",void 0),(0,w._)([(0,re.Cb)({type:String,json:{read:z.read,write:z.write,origins:{"web-scene":{read:!1,write:!1}}}})],J.prototype,"format",void 0),(0,w._)([(0,re.Cb)({readOnly:!0})],J.prototype,"isWrappable",null),(0,w._)([(0,re.Cb)({type:ae.Z,json:{write:!0}})],J.prototype,"origin",void 0),(0,w._)([(0,G.r)("origin")],J.prototype,"readOrigin",null),(0,w._)([(0,re.Cb)({type:[V.Z],value:null,json:{write:!0}})],J.prototype,"lods",null),(0,w._)([(0,re.Cb)({readOnly:!0})],J.prototype,"minScale",void 0),(0,w._)([(0,re.Cb)({readOnly:!0})],J.prototype,"maxScale",void 0),(0,w._)([(0,re.Cb)({readOnly:!0})],J.prototype,"scales",void 0),(0,w._)([(0,re.Cb)({cast:oe=>Array.isArray(oe)?oe:"number"==typeof oe?[oe,oe]:[256,256]})],J.prototype,"size",void 0),(0,w._)([(0,G.r)("size",["rows","cols"])],J.prototype,"readSize",null),(0,w._)([(0,ne.c)("size",{cols:{type:ee.z8},rows:{type:ee.z8}})],J.prototype,"writeSize",null),(0,w._)([(0,re.Cb)({type:se.Z,json:{write:!0}})],J.prototype,"spatialReference",void 0),J=$=(0,w._)([(0,Y.j)("esri.layers.support.TileInfo")],J),(pe=(oe=J||(J={})).ExtrapolateOptions||(oe.ExtrapolateOptions={}))[pe.NONE=0]="NONE",pe[pe.POWER_OF_TWO=1]="POWER_OF_TWO";const q=J},68511:(j,F,T)=>{"use strict";T.d(F,{f:()=>w});class w{constructor(W,B,k,re,ee){this.id=W,this.level=B,this.row=k,this.col=re,this.extent=ee}}},73917:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Q});var w=T(17626),O=T(97478),W=T(20849),B=T(79608),k=T(86810),re=T(62208),ee=T(77712),Y=(T(90912),T(85931),T(68653)),ne=T(76898),ae=T(99433),se=T(41039);function ie(V,U){return W.Z.fromJSON({value:V,unit:U})}let te=class extends((0,B.J)(k.wq)){constructor(V){super(V),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(V,U){if(!U.timeExtent||!Array.isArray(U.timeExtent)||2!==U.timeExtent.length)return null;const $=new Date(U.timeExtent[0]),z=new Date(U.timeExtent[1]);return new O.Z({start:$,end:z})}writeFullTimeExtent(V,U){U.timeExtent=V&&(0,re.pC)(V.start)&&(0,re.pC)(V.end)?[V.start.getTime(),V.end.getTime()]:null}readInterval(V,U){return U.timeInterval&&U.timeIntervalUnits?ie(U.timeInterval,U.timeIntervalUnits):U.defaultTimeInterval&&U.defaultTimeIntervalUnits?ie(U.defaultTimeInterval,U.defaultTimeIntervalUnits):null}writeInterval(V,U){U.timeInterval=V?.toJSON().value??null,U.timeIntervalUnits=V?.toJSON().unit??null}};(0,w._)([(0,ee.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],te.prototype,"cumulative",void 0),(0,w._)([(0,ee.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],te.prototype,"endField",void 0),(0,w._)([(0,ee.Cb)({type:O.Z,json:{write:{enabled:!0,allowNull:!0}}})],te.prototype,"fullTimeExtent",void 0),(0,w._)([(0,Y.r)("fullTimeExtent",["timeExtent"])],te.prototype,"readFullTimeExtent",null),(0,w._)([(0,ae.c)("fullTimeExtent")],te.prototype,"writeFullTimeExtent",null),(0,w._)([(0,ee.Cb)({type:Boolean,json:{write:!0}})],te.prototype,"hasLiveData",void 0),(0,w._)([(0,ee.Cb)({type:W.Z,json:{write:{enabled:!0,allowNull:!0}}})],te.prototype,"interval",void 0),(0,w._)([(0,Y.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],te.prototype,"readInterval",null),(0,w._)([(0,ae.c)("interval")],te.prototype,"writeInterval",null),(0,w._)([(0,ee.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],te.prototype,"startField",void 0),(0,w._)([(0,ee.Cb)({type:se.Z,json:{write:{enabled:!0,allowNull:!0}}})],te.prototype,"timeReference",void 0),(0,w._)([(0,ee.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],te.prototype,"trackIdField",void 0),(0,w._)([(0,ee.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],te.prototype,"useTime",void 0),te=(0,w._)([(0,ne.j)("esri.layers.support.TimeInfo")],te);const Q=te},38305:(j,F,T)=>{"use strict";T.d(F,{B5:()=>G,DR:()=>ne,G:()=>U,M8:()=>ie,Nm:()=>te,Qc:()=>Y,XG:()=>Q,a7:()=>se,ld:()=>ae,wH:()=>V});var w=T(62208),O=T(21726),W=T(29840);const B={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},k=Object.values(B),re=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${k.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),ee=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${k.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Z=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function G(z){return!!re.test(z)}function Y(z){if((0,w.Wi)(z))return null;const J=(0,O.mN)(z),q=J.path.match(re)||J.path.match(ee);if(!q)return null;const[,oe,pe,de,be]=q,me=pe.indexOf("/");return{title:ae(-1!==me?pe.slice(me+1):pe),serverType:B[de.toLowerCase()],sublayer:null!=be&&""!==be?parseInt(be,10):null,url:{path:oe}}}function ne(z){const J=(0,O.mN)(z).path.match(Z);return J?{serviceUrl:J[1],sublayerId:Number(J[2])}:null}function ae(z){return(z=z.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+z.slice(1)}function se(z,J){const q=[];if(z){const oe=Y(z);(0,w.pC)(oe)&&oe.title&&q.push(oe.title)}if(J){const oe=ae(J);q.push(oe)}if(2===q.length){if(q[0].toLowerCase().includes(q[1].toLowerCase()))return q[0];if(q[1].toLowerCase().includes(q[0].toLowerCase()))return q[1]}return q.join(" - ")}function ie(z){if(!z)return!1;const de=(z=z.toLowerCase()).includes(".arcgis.com/"),be=z.includes("//services")||z.includes("//tiles")||z.includes("//features");return de&&be}function te(z,J){return z&&(0,O.Qj)((0,O.Hu)(z,J))}function Q(z){let{url:J}=z;if(!J)return{url:J};J=(0,O.Hu)(J,z.logger);const q=(0,O.mN)(J),oe=Y(q.path);let pe;if((0,w.pC)(oe))null!=oe.sublayer&&null==z.layer.layerId&&(pe=oe.sublayer),J=oe.url.path;else if(z.nonStandardUrlAllowed){const de=ne(q.path);(0,w.pC)(de)&&(J=de.serviceUrl,pe=de.sublayerId)}return{url:(0,O.Qj)(J),layerId:pe}}function V(z,J,q,oe,pe){(0,W.w)(J,oe,"url",pe),oe.url&&null!=z.layerId&&(oe.url=(0,O.v_)(oe.url,q,z.layerId.toString()))}function U(z){if(!z)return!1;const J=z.toLowerCase(),q=J.includes("/services/"),oe=J.includes("/mapserver/wmsserver"),pe=J.includes("/imageserver/wmsserver"),de=J.includes("/wmsserver");return q&&(oe||pe||de)}},13812:(j,F,T)=>{"use strict";T.d(F,{qG:()=>de,PV:()=>z,id:()=>me,iR:()=>V,rn:()=>$,rT:()=>fe,u1:()=>le,rO:()=>_e,Oh:()=>oe,bT:()=>pe,C_:()=>Q,Lx:()=>J,vg:()=>be,YI:()=>te,HQ:()=>U});var w=T(97478),O=T(2004),W=T(65234),B=T(29840),k=T(62208),ee=(T(10699),T(28170)),se=T(82706),ie=T(92236);const te={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},Q={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(Ee,ye)=>!ye.disablePopup},write:{enabled:!0,writer(Ee,ye,ue){ye[ue]=!Ee}}}},V={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}},U={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:B.w}}},$={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},z={value:null,type:se.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function J(Ee){return{type:Ee,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const q={write:!0,read:!0},oe={type:Number,json:{origins:{"web-document":q,"portal-item":{write:!0}}}},pe={...oe,json:{...oe.json,origins:{"web-document":{...q,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(Ee,ye,ue)=>ue&&"service"!==ue.origin||!ye.drawingInfo||void 0===ye.drawingInfo.transparency?ye.layerDefinition&&ye.layerDefinition.drawingInfo&&void 0!==ye.layerDefinition.drawingInfo.transparency?(0,ie.b)(ye.layerDefinition.drawingInfo.transparency):void 0:(0,ie.b)(ye.drawingInfo.transparency)}}},de={type:w.Z,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:Ee,timeOffset:ye,useViewTime:ue}=this.layer,Me=this.view?.timeExtent;let ce=this.layer.timeExtent;Ee&&(ce=function ae(Ee){if(!Ee)return Ee;const{start:ye,end:ue}=Ee;return new w.Z({start:(0,k.pC)(ye)?(0,ee.Nm)(ye,ye.getTimezoneOffset(),"minutes"):ye,end:(0,k.pC)(ue)?(0,ee.Nm)(ue,ue.getTimezoneOffset(),"minutes"):ue})}(ce));let ge=ue?Me&&ce?Me.intersection(ce):Me||ce:ce;if(!ge||ge.isEmpty||ge.isAllTime)return ge;ye&&(ge=ge.offset(-ye.value,ye.unit)),Ee&&(ge=function ne(Ee){if(!Ee)return Ee;const{start:ye,end:ue}=Ee;return new w.Z({start:(0,k.pC)(ye)?(0,ee.Nm)(ye,-ye.getTimezoneOffset(),"minutes"):ye,end:(0,k.pC)(ue)?(0,ee.Nm)(ue,-ue.getTimezoneOffset(),"minutes"):ue})}(ge));const Pe=this._get("timeExtent");return ge.equals(Pe)?Pe:ge}},be={type:O.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(Ee,ye)=>{const ue=O.Z.fromJSON(Ee);return null!=ye.spatialReference&&"object"==typeof ye.spatialReference&&(ue.spatialReference=W.Z.fromJSON(ye.spatialReference)),ue}}}},read:!1}},me={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},_e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},le={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},fe={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}}},26141:(j,F,T)=>{"use strict";T.d(F,{im:()=>_e,V5:()=>me}),T(8314);var Y,O=T(17626),W=T(58817),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(86810);T(85931);let ne=Y=class extends Z.wq{constructor(le){super(le),this.name=null,this.code=null}clone(){return new Y({name:this.name,code:this.code})}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"name",void 0),(0,O._)([(0,B.Cb)({type:[String,Number],json:{write:!0}})],ne.prototype,"code",void 0),ne=Y=(0,O._)([(0,ee.j)("esri.layers.support.CodedValue")],ne);const se=new(T(2076).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let ie=class extends Z.wq{constructor(le){super(le),this.name=null,this.type=null}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],ie.prototype,"name",void 0),(0,O._)([(0,re.J)(se)],ie.prototype,"type",void 0),ie=(0,O._)([(0,ee.j)("esri.layers.support.Domain")],ie);const te=ie;var Q;let V=Q=class extends te{constructor(le){super(le),this.codedValues=null,this.type="coded-value"}getName(le){let fe=null;if(this.codedValues){const Ee=String(le);this.codedValues.some(ye=>(String(ye.code)===Ee&&(fe=ye.name),!!fe))}return fe}clone(){return new Q({codedValues:(0,W.d9)(this.codedValues),name:this.name})}};(0,O._)([(0,B.Cb)({type:[ne],json:{write:!0}})],V.prototype,"codedValues",void 0),(0,O._)([(0,re.J)({codedValue:"coded-value"})],V.prototype,"type",void 0),V=Q=(0,O._)([(0,ee.j)("esri.layers.support.CodedValueDomain")],V);const U=V;var J;T(63290),T(26584);let q=J=class extends te{constructor(le){super(le),this.type="inherited"}clone(){return new J}};(0,O._)([(0,re.J)({inherited:"inherited"})],q.prototype,"type",void 0),q=J=(0,O._)([(0,ee.j)("esri.layers.support.InheritedDomain")],q);const oe=q;var pe;let de=pe=class extends te{constructor(le){super(le),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new pe({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,O._)([(0,B.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(le,fe)=>fe.range&&fe.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(le,fe,Ee){fe[Ee]=[this.minValue||0,le]}}}})],de.prototype,"maxValue",void 0),(0,O._)([(0,B.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(le,fe)=>fe.range&&fe.range[0]},write:{target:"range",writer(le,fe,Ee){fe[Ee]=[le,this.maxValue||0]}}}})],de.prototype,"minValue",void 0),(0,O._)([(0,re.J)({range:"range"})],de.prototype,"type",void 0),de=pe=(0,O._)([(0,ee.j)("esri.layers.support.RangeDomain")],de);const be=de,me={key:"type",base:te,typeMap:{range:de,"coded-value":U,inherited:oe}};function _e(le){if(!le||!le.type)return null;switch(le.type){case"range":return be.fromJSON(le);case"codedValue":return U.fromJSON(le);case"inherited":return oe.fromJSON(le)}return null}},26331:(j,F,T)=>{"use strict";T.d(F,{C9:()=>ue,Ci:()=>J,FV:()=>$,Fr:()=>ne,JD:()=>ae,JY:()=>Ce,Jj:()=>V,KE:()=>le,SU:()=>oe,VG:()=>me,Y5:()=>te,gG:()=>ce,kZ:()=>Re,kp:()=>Ee,nU:()=>Ue,rP:()=>Pe,rk:()=>Ie,sX:()=>Ye,tD:()=>de});var w=T(15861),O=T(24263),W=T(26584),B=T(2076),k=T(62208),re=T(95737),ee=T(72469),Z=T(67736),G=T(96854),Y=T(67010);const ne=new B.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function ae(xe,We,Qe,lt){return se.apply(this,arguments)}function se(){return(se=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(yield ie(xe,We,lt),!ve.addAttachment)throw new W.Z(lt,"Layer source does not support addAttachment capability");return ve.addAttachment(We,Qe)})).apply(this,arguments)}function ie(xe,We,Qe){const{attributes:lt}=We,{objectIdField:ve}=xe;return xe.get("capabilities.data.supportsAttachment")?We?lt?ve&&lt[ve]?Promise.resolve():Promise.reject(new W.Z(Qe,`feature is missing the identifying attribute ${ve}`)):Promise.reject(new W.Z(Qe,"'attributes' are required on a feature to query attachments")):Promise.reject(new W.Z(Qe,"A feature is required to add/delete/update attachments")):Promise.reject(new W.Z(Qe,"this layer doesn't support attachments"))}function te(xe,We,Qe,lt,ve){return Q.apply(this,arguments)}function Q(){return(Q=(0,w.Z)(function*(xe,We,Qe,lt,ve){const Te=yield Fe(xe);if(yield ie(xe,We,ve),!Te.updateAttachment)throw new W.Z(ve,"Layer source does not support updateAttachment capability");return Te.updateAttachment(We,Qe,lt)})).apply(this,arguments)}function V(xe,We,Qe){return U.apply(this,arguments)}function U(){return(U=(0,w.Z)(function*(xe,We,Qe){const lt=yield Promise.all([T.e(8592),T.e(5362)]).then(T.bind(T,95362)),ve=yield xe.load();return lt.applyEdits(ve,ve.source,We,Qe)})).apply(this,arguments)}function $(xe,We,Qe,lt){return z.apply(this,arguments)}function z(){return(z=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(yield ie(xe,We,lt),!ve.deleteAttachments)throw new W.Z(lt,"Layer source does not support deleteAttachments capability");return ve.deleteAttachments(We,Qe)})).apply(this,arguments)}function J(xe,We,Qe){return q.apply(this,arguments)}function q(){return(q=(0,w.Z)(function*(xe,We,Qe){const lt=(yield xe.load({signal:We?.signal})).source;if(!lt.fetchRecomputedExtents)throw new W.Z(Qe,"Layer source does not support fetchUpdates capability");return lt.fetchRecomputedExtents(We)})).apply(this,arguments)}function oe(xe,We,Qe,lt){return pe.apply(this,arguments)}function pe(){return(pe=(0,w.Z)(function*(xe,We,Qe,lt){We=Z.Z.from(We),yield xe.load();const ve=xe.source,Te=xe.capabilities;if(!Te?.data?.supportsAttachment)throw new W.Z(lt,"this layer doesn't support attachments");const{attachmentTypes:Be,objectIds:Ge,globalIds:$e,num:Xe,size:at,start:we,where:tt}=We;if(!Te?.operations?.supportsQueryAttachments&&(Be?.length>0||$e?.length>0||at?.length>0||Xe||we||tt))throw new W.Z(lt,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",We);if(!(Ge?.length||$e?.length||tt))throw new W.Z(lt,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",We);if(!ve.queryAttachments)throw new W.Z(lt,"Layer source does not support queryAttachments capability",We);return ve.queryAttachments(We)})).apply(this,arguments)}function de(xe,We,Qe,lt){return be.apply(this,arguments)}function be(){return(be=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(!ve.queryObjectIds)throw new W.Z(lt,"Layer source does not support queryObjectIds capability");return ve.queryObjectIds(G.Z.from(We)??xe.createQuery(),Qe)})).apply(this,arguments)}function me(xe,We,Qe,lt){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(!ve.queryFeatureCount)throw new W.Z(lt,"Layer source does not support queryFeatureCount capability");return ve.queryFeatureCount(G.Z.from(We)??xe.createQuery(),Qe)})).apply(this,arguments)}function le(xe,We,Qe,lt){return fe.apply(this,arguments)}function fe(){return(fe=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(!ve.queryExtent)throw new W.Z(lt,"Layer source does not support queryExtent capability");return ve.queryExtent(G.Z.from(We)??xe.createQuery(),Qe)})).apply(this,arguments)}function Ee(xe,We,Qe,lt){return ye.apply(this,arguments)}function ye(){return(ye=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(!ve.queryRelatedFeatures)throw new W.Z(lt,"Layer source does not support queryRelatedFeatures capability");return ve.queryRelatedFeatures(Y.default.from(We),Qe)})).apply(this,arguments)}function ue(xe,We,Qe,lt){return Me.apply(this,arguments)}function Me(){return(Me=(0,w.Z)(function*(xe,We,Qe,lt){const ve=yield Fe(xe);if(!ve.queryRelatedFeaturesCount)throw new W.Z(lt,"Layer source does not support queryRelatedFeaturesCount capability");return ve.queryRelatedFeaturesCount(Y.default.from(We),Qe)})).apply(this,arguments)}function ce(xe){return ge.apply(this,arguments)}function ge(){return(ge=(0,w.Z)(function*(xe){const We=xe.source;if(We?.refresh)try{const{dataChanged:Qe,updates:lt}=yield We.refresh();if((0,k.pC)(lt)&&(xe.sourceJSON={...xe.sourceJSON,...lt},xe.read(lt,{origin:"service",url:xe.parsedUrl})),Qe)return!0}catch{}if(xe.definitionExpression)try{return(yield(0,re.E)(xe.definitionExpression,xe.fieldsIndex)).hasDateFunctions}catch{}return!1})).apply(this,arguments)}function Pe(xe){const We=new G.Z,Qe=xe.get("capabilities.data"),lt=xe.get("capabilities.query");We.historicMoment=xe.historicMoment,We.gdbVersion=xe.gdbVersion,We.returnGeometry=!0,lt&&(We.compactGeometryEnabled=lt.supportsCompactGeometry,We.defaultSpatialReferenceEnabled=lt.supportsDefaultSpatialReference),Qe&&(Qe.supportsZ&&null!=xe.returnZ&&(We.returnZ=xe.returnZ),Qe.supportsM&&null!=xe.returnM&&(We.returnM=xe.returnM)),We.outFields=["*"];const{timeOffset:ve,timeExtent:Te}=xe;return We.timeExtent=null!=ve&&null!=Te?Te.offset(-ve.value,ve.unit):Te||null,We.multipatchOption="multipatch"===xe.geometryType?"xyFootprint":null,We}function Ie(xe){const{globalIdField:We,fields:Qe}=xe;if(We)return We;if(Qe)for(const lt of Qe)if("esriFieldTypeGlobalID"===lt.type)return lt.name}function Re(xe){const{objectIdField:We,fields:Qe}=xe;if(We)return We;if(Qe)for(const lt of Qe)if("esriFieldTypeOID"===lt.type)return lt.name}function Ce(xe){return xe.currentVersion?xe.currentVersion:xe.hasOwnProperty("capabilities")||xe.hasOwnProperty("drawingInfo")||xe.hasOwnProperty("hasAttachments")||xe.hasOwnProperty("htmlPopupType")||xe.hasOwnProperty("relationships")||xe.hasOwnProperty("timeInfo")||xe.hasOwnProperty("typeIdField")||xe.hasOwnProperty("types")?10:9.3}function Fe(xe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,w.Z)(function*(xe){return(yield xe.load()).source})).apply(this,arguments)}function Le(xe,We){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,w.Z)(function*(xe,We){if(!O.id||O.id.findCredential(xe))return;let Qe;try{const lt=yield(0,ee.oP)(xe,We);lt&&(Qe=yield O.id.checkSignInStatus(`${lt}/sharing`))}catch{}if(Qe)try{const lt=(0,k.pC)(We)?We.signal:null;yield O.id.getCredential(xe,{signal:lt})}catch{}})).apply(this,arguments)}function Ue(xe,We){return ke.apply(this,arguments)}function ke(){return(ke=(0,w.Z)(function*(xe,We){const Qe=xe.parsedUrl?.path;if(!Qe)return;const lt=xe.editFieldsInfo;(xe.userHasUpdateItemPrivileges||xe.userHasFullEditingPrivileges&&xe.capabilities.operations.supportsEditing||lt?.creatorField||lt?.editorField)&&(yield Le(Qe,We))})).apply(this,arguments)}function Ye(xe){return!xe.sourceJSON?.isMultiServicesView&&(xe.userHasUpdateItemPrivileges||xe.editingEnabled)}},55911:(j,F,T)=>{"use strict";T.d(F,{v:()=>k});var w=T(63290),O=T(36255),W=T(60466),B=T(36630);function k(){return{fields:{type:[O.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new W.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(re){this._userOutFields=re,this.notifyChange("outFields")},get:function(){const re=this._userOutFields;if(!re||!re.length)return null;if(re.includes("*"))return["*"];if(!this.fields)return re;for(const ee of re)this.fieldsIndex?.has(ee)||w.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${ee} found in outFields`,{layer:this,outFields:re});return(0,B.Q0)(this.fieldsIndex,re)}}}}},85:(j,F,T)=>{"use strict";T.d(F,{v:()=>O});const O=new(T(2076).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(j,F,T)=>{"use strict";T.d(F,{io:()=>be,vl:()=>ce,ZV:()=>Ie,AB:()=>oe,gd:()=>q,Ll:()=>Ne,Mu:()=>Be,Qj:()=>Oe,R9:()=>un,Q0:()=>J,YN:()=>V,UF:()=>$,O5:()=>fe,CH:()=>Qe,os:()=>at,H7:()=>Gt,Ec:()=>tr,qN:()=>bn,q6:()=>ie,Pz:()=>Fn,Lk:()=>pe,Qc:()=>zn,vP:()=>cn});var k,It,w=T(15861),O=T(26584),W=T(62208),B=T(94113);(It=k||(k={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",It.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var Z=T(46679);const G=/^([0-9])/,Y=/[^a-z0-9_\u0080-\uffff]/gi,ne=/_{2,}/g,ae=/^_/,se=/_$/;function ie(It){return null==It?null:It.trim().replace(Y,"_").replace(ne,"_").replace(ae,"").replace(se,"").replace(G,"F$1")||null}const te=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Q=["field","normalizationField"];function V(It,Wt){if(null!=It&&null!=Wt)for(const Qt of Array.isArray(It)?It:[It])if(U(te,Qt,Wt),"visualVariables"in Qt&&Qt.visualVariables)for(const Rn of Qt.visualVariables)U(Q,Rn,Wt)}function U(It,Wt,Qt){if(It)for(const Rn of It){const yt=(0,B.hS)(Rn,Wt),Vt=yt&&"function"!=typeof yt&&Qt.get(yt);Vt&&(0,B.RB)(Rn,Vt.name,Wt)}}function $(It,Wt){if(null!=It&&Wt?.fields?.length)if("startField"in It){const Qt=Wt.get(It.startField),Rn=Wt.get(It.endField);It.startField=Qt?.name??null,It.endField=Rn?.name??null}else{const Qt=Wt.get(It.startTimeField),Rn=Wt.get(It.endTimeField);It.startTimeField=Qt?.name??null,It.endTimeField=Rn?.name??null}}const z=new Set;function J(It,Wt){return It&&Wt?(z.clear(),q(z,It,Wt),Array.from(z).sort()):[]}function q(It,Wt,Qt){if(Qt)if(Wt?.fields?.length)if(Qt.includes("*"))for(const{name:Rn}of Wt.fields)It.add(Rn);else for(const Rn of Qt)oe(It,Wt,Rn);else{if(Qt.includes("*"))return It.clear(),void It.add("*");for(const Rn of Qt)null!=Rn&&It.add(Rn)}}function oe(It,Wt,Qt){if("string"==typeof Qt)if(Wt){const Rn=Wt.get(Qt);Rn&&It.add(Rn.name)}else It.add(Qt)}function pe(It,Wt){return(0,W.Wi)(Wt)||(0,W.Wi)(It)?[]:Wt.includes("*")?(It.fields??[]).map(Qt=>Qt.name):Wt}function be(It,Wt,Qt){return me.apply(this,arguments)}function me(){return me=(0,w.Z)(function*(It,Wt,Qt){if(!Qt)return;const{arcadeUtils:Rn}=yield(0,Z.LC)(),yt=Rn.extractFieldNames(Qt,Wt?.fields?.map(Vt=>Vt.name));for(const Vt of yt)oe(It,Wt,Vt)}),me.apply(this,arguments)}function _e(It,Wt,Qt){return le.apply(this,arguments)}function le(){return le=(0,w.Z)(function*(It,Wt,Qt){if(Qt&&"1=1"!==Qt){const Rn=(yield Promise.resolve().then(T.bind(T,10410))).WhereClause.create(Qt,Wt);if(!Rn.isStandardized)throw new O.Z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:Qt});q(It,Wt,Rn.fieldNames)}}),le.apply(this,arguments)}function fe({displayField:It,fields:Wt}){return It||(Wt&&Wt.length?ye(Wt,"name-or-title")||ye(Wt,"unique-identifier")||ye(Wt,"type-or-category")||function Ee(It){for(const Wt of It){if(!Wt||!Wt.name)continue;const Qt=Wt.name.toLowerCase();if(Qt.includes("name")||Qt.includes("title"))return Wt.name}return null}(Wt):null)}function ye(It,Wt){for(const Qt of It)if(Qt&&Qt.valueType&&Qt.valueType===Wt)return Qt.name;return null}function ce(It,Wt){return ge.apply(this,arguments)}function ge(){return ge=(0,w.Z)(function*(It,Wt){if(!Wt)return;const Qt=Wt.elevationInfo?.featureExpressionInfo;return Qt?Qt.collectRequiredFields(It,Wt.fieldsIndex):void 0}),ge.apply(this,arguments)}function Pe(It,Wt,Qt){Qt.onStatisticExpression?be(It,Wt,Qt.onStatisticExpression.expression):It.add(Qt.onStatisticField)}function Ie(It,Wt,Qt){return Re.apply(this,arguments)}function Re(){return Re=(0,w.Z)(function*(It,Wt,Qt){if(!Wt||!Qt||!("fields"in Qt))return;const Rn=[];Rn.push(Ce(It,Wt,Qt.popupTemplate)),Qt.fields&&Rn.push(...Qt.fields.map(function(){var Vt=(0,w.Z)(function*(Yt){return Pe(It,Wt.fieldsIndex,Yt)});return function(Yt){return Vt.apply(this,arguments)}}())),yield Promise.all(Rn)}),Re.apply(this,arguments)}function Ce(It,Wt,Qt){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,w.Z)(function*(It,Wt,Qt){const Rn=[];Qt?.expressionInfos&&Rn.push(...Qt.expressionInfos.map(Vt=>be(It,Wt.fieldsIndex,Vt.expression)));const yt=Qt?.content;if(Array.isArray(yt))for(const Vt of yt)"expression"===Vt.type&&Vt.expressionInfo&&Rn.push(be(It,Wt.fieldsIndex,Vt.expressionInfo.expression));yield Promise.all(Rn)}),Fe.apply(this,arguments)}function Ne(It,Wt,Qt){return Le.apply(this,arguments)}function Le(){return Le=(0,w.Z)(function*(It,Wt,Qt){Wt&&(Wt.timeInfo&&(0,W.pC)(Qt)&&Qt.timeExtent&&q(It,Wt.fieldsIndex,[Wt.timeInfo.startField,Wt.timeInfo.endField]),Wt.floorInfo&&q(It,Wt.fieldsIndex,[Wt.floorInfo.floorField]),(0,W.pC)(Qt)&&(0,W.pC)(Qt.where)&&(yield _e(It,Wt.fieldsIndex,Qt.where)))}),Le.apply(this,arguments)}function Oe(It,Wt,Qt){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,w.Z)(function*(It,Wt,Qt){Wt&&Qt&&(yield Promise.all(Qt.map(Rn=>ke(It,Wt,Rn))))}),Ue.apply(this,arguments)}function ke(It,Wt,Qt){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,w.Z)(function*(It,Wt,Qt){Wt&&Qt&&(Qt.valueExpression?yield be(It,Wt.fieldsIndex,Qt.valueExpression):Qt.field&&oe(It,Wt.fieldsIndex,Qt.field))}),Ye.apply(this,arguments)}function Qe(It){if(!It)return[];const Wt="editFieldsInfo"in It&&It.editFieldsInfo;return Wt?J(It.fieldsIndex,[Wt&&Wt.creatorField,Wt&&Wt.creationDateField,Wt&&Wt.editorField,Wt&&Wt.editDateField]):[]}function Be(It,Wt){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,w.Z)(function*(It,Wt){const{labelingInfo:Qt,fieldsIndex:Rn}=Wt;Qt&&Qt.length&&(yield Promise.all(Qt.map(yt=>$e(It,Rn,yt))))}),Ge.apply(this,arguments)}function $e(It,Wt,Qt){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,w.Z)(function*(It,Wt,Qt){if(!Qt)return;const Rn=Qt.getLabelExpression(),yt=Qt.where;if("arcade"===Rn.type)yield be(It,Wt,Rn.expression);else{const Vt=Rn.expression.match(/{[^}]*}/g);Vt&&Vt.forEach(Yt=>{oe(It,Wt,Yt.slice(1,-1))})}yield _e(It,Wt,yt)}),Xe.apply(this,arguments)}function at(It){const Wt=It.defaultValue;return void 0!==Wt&&_t(It,Wt)?Wt:It.nullable?null:void 0}function we(It){return"number"==typeof It&&!isNaN(It)&&isFinite(It)}function tt(It){return null===It||we(It)}const pt="isInteger"in Number?Number.isInteger:It=>"number"==typeof It&&isFinite(It)&&Math.floor(It)===It;function Pt(It){return null===It||pt(It)}function mt(It){return null!=It&&"string"==typeof It}function St(It){return null===It||mt(It)}function ut(){return!0}function _t(It,Wt){let Qt;switch(It.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":Qt=It.nullable?Pt:pt;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":Qt=It.nullable?tt:we;break;case"string":case"esriFieldTypeString":Qt=It.nullable?St:mt;break;default:Qt=ut}return 1===arguments.length?Qt:Qt(Wt)}const Rt=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function Gt(It){return null!=It&&Rt.has(It.type)}function bn(It){return null!=It&&("string"===It.type||"esriFieldTypeString"===It.type)}var Kn,an;function Fn(It){return null==It||"number"==typeof It&&isNaN(It)?null:It}function zn(It,Wt){return null==It||It.nullable&&null===Wt?null:Gt(It)&&!function rr(It,Wt){const Qt="string"==typeof It?Et(It):It;if(!Qt)return!1;const Rn=Qt.min,yt=Qt.max;return Qt.isInteger?pt(Wt)&&Wt>=Rn&&Wt<=yt:Wt>=Rn&&Wt<=yt}(It.type,Number(Wt))?Kn.OUT_OF_RANGE:_t(It,Wt)?It.domain?function re(It,Wt){switch(It.type){case"range":{const Qt="range"in It?It.range[0]:It.minValue,Rn="range"in It?It.range[1]:It.maxValue;if(null!=Qt&&+Wt<Qt||null!=Rn&&+Wt>Rn)return k.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==It.codedValues||It.codedValues.every(Qt=>null==Qt||Qt.code!==Wt))return k.INVALID_CODED_VALUE}return null}(It.domain,Wt):null:an.INVALID_TYPE}function Et(It){switch(It){case"esriFieldTypeSmallInteger":case"small-integer":return Bt;case"esriFieldTypeInteger":case"integer":return Ht;case"esriFieldTypeSingle":case"single":return on;case"esriFieldTypeDouble":case"double":return rn}}(function(It){It.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Kn||(Kn={})),function(It){It.INVALID_TYPE="type-validation-error::invalid-type"}(an||(an={}));const Bt={min:-32768,max:32767,isInteger:!0},Ht={min:-2147483648,max:2147483647,isInteger:!0},on={min:-34e37,max:12e37,isInteger:!1},rn={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function cn(It,Wt,Qt){switch(It){case k.INVALID_CODED_VALUE:return`Value ${Qt} is not in the coded domain - field: ${Wt.name}, domain: ${JSON.stringify(Wt.domain)}`;case k.VALUE_OUT_OF_RANGE:return`Value ${Qt} is out of the range of valid values - field: ${Wt.name}, domain: ${JSON.stringify(Wt.domain)}`;case an.INVALID_TYPE:return`Value ${Qt} is not a valid value for the field type - field: ${Wt.name}, type: ${Wt.type}, nullable: ${Wt.nullable}`;case Kn.OUT_OF_RANGE:{const{min:Rn,max:yt}=Et(Wt.type);return`Value ${Qt} is out of range for the number type - field: ${Wt.name}, type: ${Wt.type}, value range is ${Rn} to ${yt}`}}}function un(It,Wt){return!function $n(It,Wt,Qt){if(!Wt||!Wt.attributes||!It){if((0,W.pC)(Qt))for(const Vt of It??[])Qt.add(Vt);return!0}const Rn=Wt.attributes;let yt=!1;for(const Vt of It)if(!(Vt in Rn)){if(yt=!0,!(0,W.pC)(Qt))break;Qt.add(Vt)}return yt}(It,Wt,null)}function tr(It){return!!It&&["raster.itempixelvalue","raster.servicepixelvalue"].some(Wt=>It.toLowerCase().startsWith(Wt))}},86793:(j,F,T)=>{"use strict";T.d(F,{UO:()=>te,YI:()=>ie,dI:()=>Q,el:()=>q,hV:()=>se,z7:()=>ae});var w=T(77275);const O="__begin__",W="__end__",B=new RegExp(O,"ig"),k=new RegExp(W,"ig"),re=new RegExp("^"+O,"i"),ee=new RegExp(W+"$","i");function ae(oe){return oe.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function se(oe){const pe={expression:"",type:"none"};return oe.labelExpressionInfo?oe.labelExpressionInfo.value?(pe.expression=oe.labelExpressionInfo.value,pe.type="conventional"):oe.labelExpressionInfo.expression&&(pe.expression=oe.labelExpressionInfo.expression,pe.type="arcade"):null!=oe.labelExpression&&(pe.expression=function ne(oe){return oe.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(oe.labelExpression),pe.type="conventional"),pe}function ie(oe){const pe=se(oe);if(!pe)return null;switch(pe.type){case"conventional":return Q(pe.expression);case"arcade":return pe.expression}return null}function te(oe){const pe=se(oe);if(!pe)return null;switch(pe.type){case"conventional":return function U(oe){const pe=oe?.match(V);return pe&&pe[1].trim()||null}(pe.expression);case"arcade":return q(pe.expression)}return null}function Q(oe){let pe;return oe?(pe=(0,w.gx)(oe,de=>O+'$feature["'+de+'"]'+W),pe=re.test(pe)?pe.replace(re,""):'"'+pe,pe=ee.test(pe)?pe.replace(ee,""):pe+'"',pe=pe.replace(B,'" + ').replace(k,' + "')):pe='""',pe}const V=/^\s*\{([^}]+)\}\s*$/i,$=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,z=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,J=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function q(oe){if(!oe)return null;let pe=$.exec(oe)||z.exec(oe);return pe?pe[1]||pe[3]:(pe=J.exec(oe),pe?pe[2]:null)}},62667:(j,F,T)=>{"use strict";T.d(F,{a:()=>Y,r:()=>ee});var w=T(26584),O=T(58817),W=T(63290),B=T(170);const k=W.Z.getLogger("esri.layers.support.labelingInfo"),re=/\[([^\[\]]+)\]/gi;function ee(ae,se,ie){return ae?ae.map(te=>{const Q=new B.Z;if(Q.read(te,ie),Q.labelExpression){const V=se.fields||se.layerDefinition&&se.layerDefinition.fields||this.fields;Q.labelExpression=Q.labelExpression.replace(re,(U,$)=>`[${function Z(ae,se){if(!se)return ae;const ie=ae.toLowerCase();for(let te=0;te<se.length;te++){const Q=se[te].name;if(Q.toLowerCase()===ie)return Q}return ae}($,V)}]`)}return Q}):null}const G={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function Y(ae,se){const ie=(0,O.d9)(ae);return ie.some(te=>function ne(ae,se){const ie=ae.labelPlacement,te=G[se];if(!ae.symbol)return k.warn("No ILabelClass symbol specified."),!0;if(!te)return k.error(new w.Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${se}' is not supported`)),!0;if(!te.includes(ie)){const Q=te[0];ie&&k.warn(`Found invalid label placement type ${ie} for ${se}. Defaulting to ${Q}`),ae.labelPlacement=Q}return!1}(te,se))?[]:ie}},72469:(j,F,T)=>{"use strict";T.d(F,{A2:()=>G,S1:()=>J,fb:()=>Z,ln:()=>oe,oP:()=>U,rQ:()=>se,y2:()=>ie});var w=T(15861),O=T(24263),W=T(84792),B=T(62208);const Z={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function G(pe){const de=pe?.type;return"building-scene"===de||"integrated-mesh"===de||"point-cloud"===de||"scene"===de}function se(pe){return"feature"===pe?.type&&!pe.url&&"memory"===pe.source?.type}function ie(pe){return"feature"===pe?.type&&"feature-layer"===pe.source?.type}function U(pe,de){return $.apply(this,arguments)}function $(){return($=(0,w.Z)(function*(pe,de){const be=O.id?.findServerInfo(pe);if(null!=be?.currentVersion)return be.owningSystemUrl||null;const me=pe.toLowerCase().indexOf("/rest/services");if(-1===me)return null;const _e=`${pe.substring(0,me)}/rest/info`,le=(0,B.pC)(de)?de.signal:null,{data:fe}=yield(0,W.default)(_e,{query:{f:"json"},responseType:"json",signal:le});return fe?.owningSystemUrl||null})).apply(this,arguments)}function J(pe){return function z(pe){if(!("capabilities"in pe))return!1;switch(pe.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(pe)?"effectiveCapabilities"in pe?pe.effectiveCapabilities:pe.capabilities:null}function oe(pe){return!!function q(pe){if(!("editingEnabled"in pe))return!1;switch(pe.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(pe)&&("effectiveEditingEnabled"in pe?pe.effectiveEditingEnabled:pe.editingEnabled)}},94138:(j,F,T)=>{"use strict";T.d(F,{h:()=>G});var w=T(8314),O=T(62208),W=T(38305);const B={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function k($,z,J){return!!($&&$.hasOwnProperty(z)?$[z]:J)}function re($,z,J){return $&&$.hasOwnProperty(z)?$[z]:J}function ee($){const z=$?.supportedSpatialAggregationStatistics?.map(J=>J.toLowerCase());return{envelope:!!z?.includes("envelopeaggregate"),centroid:!!z?.includes("centroidaggregate"),convexHull:!!z?.includes("convexhullaggregate")}}function Z($,z){return!!$?.supportedOperationsWithCacheHint?.map(q=>q.toLowerCase())?.includes(z.toLowerCase())}function G($,z){return{analytics:Y($),attachment:ne($),data:ae($),metadata:se($),operations:ie($.capabilities,$,z),query:te($,z),queryRelated:Q($),queryTopFeatures:V($),editing:U($)}}function Y($){return{supportsCacheHint:Z($.advancedQueryCapabilities,"queryAnalytics")}}function ne($){const z=$.attachmentProperties,J={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:Z($.advancedQueryCapabilities,"queryAttachments"),supportsResize:k($,"supportsAttachmentsResizing",!1)};return z&&Array.isArray(z)&&z.forEach(q=>{const oe=B[q.name];oe&&(J[oe]=!!q.isEnabled)}),J}function ae($){return{isVersioned:k($,"isDataVersioned",!1),supportsAttachment:k($,"hasAttachments",!1),supportsM:k($,"hasM",!1),supportsZ:k($,"hasZ",!1)}}function se($){return{supportsAdvancedFieldProperties:k($,"supportsFieldDescriptionProperty",!1)}}function ie($,z,J){const q=$?$.toLowerCase().split(",").map(Ee=>Ee.trim()):[],oe=J?(0,W.Qc)(J):null,pe=q.includes((0,O.pC)(oe)&&"MapServer"===oe.serverType?"data":"query"),de=q.includes("editing")&&!z.datesInUnknownTimezone;let be=de&&q.includes("create"),me=de&&q.includes("delete"),_e=de&&q.includes("update");const le=q.includes("changetracking"),fe=z.advancedQueryCapabilities;return de&&!(be||me||_e)&&(be=me=_e=!0),{supportsCalculate:k(z,"supportsCalculate",!1),supportsTruncate:k(z,"supportsTruncate",!1),supportsValidateSql:k(z,"supportsValidateSql",!1),supportsAdd:be,supportsDelete:me,supportsEditing:de,supportsChangeTracking:le,supportsQuery:pe,supportsQueryAnalytics:k(fe,"supportsQueryAnalytic",!1),supportsQueryAttachments:k(fe,"supportsQueryAttachments",!1),supportsQueryTopFeatures:k(fe,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:k(z,"supportsAttachmentsResizing",!1),supportsSync:q.includes("sync"),supportsUpdate:_e,supportsExceedsLimitStatistics:k(z,"supportsExceedsLimitStatistics",!1)}}function te($,z){const J=$.advancedQueryCapabilities,q=$.ownershipBasedAccessControlForFeatures,oe=$.archivingInfo,pe=$.currentVersion,de=z?.includes("MapServer"),be=!de||pe>=(0,w.Z)("mapserver-pbf-version-support"),me=(0,W.M8)(z),_e=new Set(($.supportedQueryFormats??"").split(",").map(le=>le.toLowerCase().trim()));return{supportsStatistics:k(J,"supportsStatistics",$.supportsStatistics),supportsPercentileStatistics:k(J,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:k(J,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:ee(J),supportsCentroid:k(J,"supportsReturningGeometryCentroid",!1),supportsDistance:k(J,"supportsQueryWithDistance",!1),supportsDistinct:k(J,"supportsDistinct",$.supportsAdvancedQueries),supportsExtent:k(J,"supportsReturningQueryExtent",!1),supportsGeometryProperties:k(J,"supportsReturningGeometryProperties",!1),supportsHavingClause:k(J,"supportsHavingClause",!1),supportsOrderBy:k(J,"supportsOrderBy",$.supportsAdvancedQueries),supportsPagination:k(J,"supportsPagination",!1),supportsQuantization:k($,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:k($,"supportsQuantizationEditMode",!1),supportsQueryGeometry:k($,"supportsReturningQueryGeometry",!1),supportsResultType:k(J,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:k(J,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:k(J,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:k($,"useStandardizedQueries",!1),supportsTopFeaturesQuery:k(J,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:k(q,"allowOthersToQuery",!0),supportsHistoricMoment:k(oe,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:be&&_e.has("pbf"),supportsDisjointSpatialRelationship:k(J,"supportsDisjointSpatialRel",!1),supportsCacheHint:k(J,"supportsQueryWithCacheHint",!1)||Z(J,"query"),supportsDefaultSpatialReference:k(J,"supportsDefaultSR",!1),supportsCompactGeometry:me,supportsFullTextSearch:k(J,"supportsFullTextSearch",!1),maxRecordCountFactor:re($,"maxRecordCountFactor",void 0),maxRecordCount:re($,"maxRecordCount",void 0),standardMaxRecordCount:re($,"standardMaxRecordCount",void 0),tileMaxRecordCount:re($,"tileMaxRecordCount",void 0)}}function Q($){const z=$.advancedQueryCapabilities,J=k(z,"supportsAdvancedQueryRelated",!1);return{supportsPagination:k(z,"supportsQueryRelatedPagination",!1),supportsCount:J,supportsOrderBy:J,supportsCacheHint:Z(z,"queryRelated")}}function V($){return{supportsCacheHint:Z($.advancedQueryCapabilities,"queryTopFilter")}}function U($){const z=$.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:k($,"allowGeometryUpdates",!0),supportsGlobalId:k($,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:k($,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:k($,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:k($,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:k($,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:k(z,"allowAnonymousToDelete",!0),supportsDeleteByOthers:k(z,"allowOthersToDelete",!0),supportsUpdateByAnonymous:k(z,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:k(z,"allowOthersToUpdate",!0)}}},15283:(j,F,T)=>{"use strict";T.d(F,{n:()=>ye});var V,w=T(17626),O=T(2076),W=T(86810),B=T(77712),k=T(66656),re=T(55342),ee=T(68653),Z=T(76898),G=T(90912),Y=T(383),ne=T(36255),ae=T(48370),te=(T(29132),T(85931),T(65234)),Q=T(71774);let U=V=class extends W.wq{constructor(ue){super(ue),this.type="query-table"}clone(){const{workspaceId:ue,query:Me,oidFields:ce,spatialReference:ge,geometryType:Pe}=this,Ie={workspaceId:ue,query:Me,oidFields:ce,spatialReference:ge?.clone()??void 0,geometryType:Pe};return new V(Ie)}};var $;(0,w._)([(0,re.J)({queryTable:"query-table"})],U.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],U.prototype,"workspaceId",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],U.prototype,"query",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],U.prototype,"oidFields",void 0),(0,w._)([(0,B.Cb)({type:te.Z,json:{write:!0}})],U.prototype,"spatialReference",void 0),(0,w._)([(0,re.J)(Q.M)],U.prototype,"geometryType",void 0),U=V=(0,w._)([(0,Z.j)("esri.layers.support.source.QueryTableDataSource")],U);let z=$=class extends W.wq{constructor(ue){super(ue),this.type="raster"}clone(){const{workspaceId:ue,dataSourceName:Me}=this;return new $({workspaceId:ue,dataSourceName:Me})}};var J;(0,w._)([(0,re.J)({raster:"raster"})],z.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],z.prototype,"dataSourceName",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],z.prototype,"workspaceId",void 0),z=$=(0,w._)([(0,Z.j)("esri.layers.support.source.RasterDataSource")],z);let q=J=class extends W.wq{constructor(ue){super(ue),this.type="table"}clone(){const{workspaceId:ue,gdbVersion:Me,dataSourceName:ce}=this;return new J({workspaceId:ue,gdbVersion:Me,dataSourceName:ce})}};var oe,pe;(0,w._)([(0,re.J)({table:"table"})],q.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],q.prototype,"workspaceId",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],q.prototype,"gdbVersion",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],q.prototype,"dataSourceName",void 0),q=J=(0,w._)([(0,Z.j)("esri.layers.support.source.TableDataSource")],q);const de=(0,O.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let be=oe=class extends W.wq{constructor(ue){super(ue),this.type="join-table"}readLeftTableSource(ue,Me,ce){return _e()(ue,Me,ce)}castLeftTableSource(ue){return(0,G.N7)(fe(),ue)}readRightTableSource(ue,Me,ce){return _e()(ue,Me,ce)}castRightTableSource(ue){return(0,G.N7)(fe(),ue)}clone(){const{leftTableKey:ue,rightTableKey:Me,leftTableSource:ce,rightTableSource:ge,joinType:Pe}=this,Ie={leftTableKey:ue,rightTableKey:Me,leftTableSource:ce?.clone()??void 0,rightTableSource:ge?.clone()??void 0,joinType:Pe};return new oe(Ie)}};(0,w._)([(0,re.J)({joinTable:"join-table"})],be.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],be.prototype,"leftTableKey",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],be.prototype,"rightTableKey",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],be.prototype,"leftTableSource",void 0),(0,w._)([(0,ee.r)("leftTableSource")],be.prototype,"readLeftTableSource",null),(0,w._)([(0,k.p)("leftTableSource")],be.prototype,"castLeftTableSource",null),(0,w._)([(0,B.Cb)({json:{write:!0}})],be.prototype,"rightTableSource",void 0),(0,w._)([(0,ee.r)("rightTableSource")],be.prototype,"readRightTableSource",null),(0,w._)([(0,k.p)("rightTableSource")],be.prototype,"castRightTableSource",null),(0,w._)([(0,re.J)(de)],be.prototype,"joinType",void 0),be=oe=(0,w._)([(0,Z.j)("esri.layers.support.source.JoinTableDataSource")],be);let me=null;function _e(){return me||(me=(0,Y.d)({types:fe()})),me}let le=null;function fe(){return le||(le={key:"type",base:null,typeMap:{"data-layer":ye,"map-layer":ae.R}}),le}const Ee={key:"type",base:null,typeMap:{"join-table":be,"query-table":U,raster:z,table:q}};let ye=pe=class extends W.wq{constructor(ue){super(ue),this.type="data-layer"}clone(){const{fields:ue,dataSource:Me}=this;return new pe({fields:ue,dataSource:Me})}};(0,w._)([(0,re.J)({dataLayer:"data-layer"})],ye.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:[ne.Z],json:{write:!0}})],ye.prototype,"fields",void 0),(0,w._)([(0,B.Cb)({types:Ee,json:{write:!0}})],ye.prototype,"dataSource",void 0),ye=pe=(0,w._)([(0,Z.j)("esri.layers.support.source.DataLayerSource")],ye),ye.from=(0,G.se)(ye)},48370:(j,F,T)=>{"use strict";T.d(F,{R:()=>G});var Z,w=T(17626),O=T(86810),W=T(77712),B=T(90912),re=(T(85931),T(55342)),ee=T(76898);let G=Z=class extends O.wq{constructor(Y){super(Y),this.type="map-layer"}clone(){const{mapLayerId:Y,gdbVersion:ne}=this;return new Z({mapLayerId:Y,gdbVersion:ne})}};(0,w._)([(0,re.J)({mapLayer:"map-layer"})],G.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:B.z8,json:{write:!0}})],G.prototype,"mapLayerId",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"gdbVersion",void 0),G=Z=(0,w._)([(0,ee.j)("esri.layers.support.source.MapLayerSource")],G)},5676:(j,F,T)=>{"use strict";T.d(F,{D:()=>W});var w=T(38305);const O=[];function W(B,k){if((0,w.M8)(B.url??""))return!0;const{wkid:re}=k;for(const ee of O){if((B.version??0)>=ee[0])return!0;if("function"==typeof ee[1]&&(ee[1]=ee[1]()),ee[1].has(re))return!1}return!0}O.push([10.91,()=>{const B=new Set([9709,9716,9741,9761,9766]);for(let k=9712;k<=9713;k++)B.add(k);for(let k=9748;k<=9749;k++)B.add(k);for(let k=20904;k<=20932;k++)B.add(k);for(let k=21004;k<=21032;k++)B.add(k);for(let k=21207;k<=21264;k++)B.add(k);for(let k=21307;k<=21364;k++)B.add(k);for(let k=102759;k<=102760;k++)B.add(k);for(let k=102901;k<=102955;k++)B.add(k);return B}]),O.push([10.9,()=>{const B=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let k=9356;k<=9360;k++)B.add(k);for(let k=9404;k<=9407;k++)B.add(k);for(let k=9476;k<=9482;k++)B.add(k);for(let k=9487;k<=9494;k++)B.add(k);for(let k=9697;k<=9699;k++)B.add(k);return B}]),O.push([10.81,()=>{const B=new Set([9265,9333,103598,103699]);for(let k=9248;k<=9254;k++)B.add(k);for(let k=9271;k<=9273;k++)B.add(k);for(let k=9284;k<=9285;k++)B.add(k);for(let k=21453;k<=21463;k++)B.add(k);return B}]),O.push([10.8,()=>{const B=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let k=8035;k<=8036;k++)B.add(k);for(let k=8455;k<=8456;k++)B.add(k);for(let k=8518;k<=8529;k++)B.add(k);for(let k=8533;k<=8536;k++)B.add(k);for(let k=8538;k<=8540;k++)B.add(k);for(let k=8677;k<=8679;k++)B.add(k);for(let k=8902;k<=8903;k++)B.add(k);for(let k=8907;k<=8910;k++)B.add(k);for(let k=8949;k<=8951;k++)B.add(k);for(let k=8972;k<=8987;k++)B.add(k);for(let k=9039;k<=9040;k++)B.add(k);for(let k=9068;k<=9069;k++)B.add(k);for(let k=9140;k<=9141;k++)B.add(k);for(let k=9148;k<=9150;k++)B.add(k);for(let k=9153;k<=9159;k++)B.add(k);for(let k=9205;k<=9218;k++)B.add(k);for(let k=9221;k<=9222;k++)B.add(k);for(let k=54098;k<=54101;k++)B.add(k);return B}]),O.push([10.71,()=>{const B=new Set([6316]);for(let k=8351;k<=8353;k++)B.add(k);for(let k=9294;k<=9297;k++)B.add(k);for(let k=22619;k<=22621;k++)B.add(k);for(let k=103586;k<=103594;k++)B.add(k);return B}]),O.push([10.7,()=>{const B=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let k=8065;k<=8068;k++)B.add(k);for(let k=8082;k<=8083;k++)B.add(k);for(let k=8379;k<=8385;k++)B.add(k);for(let k=8836;k<=8840;k++)B.add(k);for(let k=8857;k<=8860;k++)B.add(k);for(let k=53035;k<=53037;k++)B.add(k);for(let k=54090;k<=54091;k++)B.add(k);for(let k=102498;k<=102499;k++)B.add(k);return B}]),O.push([10.61,()=>new Set([102497])]),O.push([10.6,()=>{const B=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let k=7755;k<=7787;k++)B.add(k);for(let k=7791;k<=7795;k++)B.add(k);for(let k=7799;k<=7801;k++)B.add(k);for(let k=7825;k<=7831;k++)B.add(k);for(let k=7877;k<=7878;k++)B.add(k);for(let k=7882;k<=7883;k++)B.add(k);for(let k=7991;k<=7992;k++)B.add(k);for(let k=8042;k<=8043;k++)B.add(k);for(let k=8058;k<=8059;k++)B.add(k);for(let k=8311;k<=8348;k++)B.add(k);for(let k=9060;k<=9067;k++)B.add(k);for(let k=102562;k<=102568;k++)B.add(k);for(let k=102799;k<=102900;k++)B.add(k);return B}]),O.push([10.51,()=>{const B=new Set([7683,7881,7886,7899,8888,9e3]);for(let k=8013;k<=8032;k++)B.add(k);for(let k=9053;k<=9057;k++)B.add(k);for(let k=104017;k<=104018;k++)B.add(k);for(let k=104971;k<=104974;k++)B.add(k);return B}]),O.push([10.5,()=>{const B=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let k=4087;k<=4088;k++)B.add(k);for(let k=5896;k<=5899;k++)B.add(k);for(let k=7005;k<=7007;k++)B.add(k);for(let k=7057;k<=7070;k++)B.add(k);for(let k=7073;k<=7082;k++)B.add(k);for(let k=7109;k<=7128;k++)B.add(k);for(let k=7844;k<=7859;k++)B.add(k);return B}])},39605:(j,F,T)=>{"use strict";T.d(F,{W:()=>W,v:()=>B});var w=T(50645);const O={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(k,re,ee)=>{"-"===re.charAt(0)?k.style.setProperty(re,ee):k.style[re]=ee}};let W=k=>(0,w.l7)(O,k),B={create:(k,re)=>(re=W(re),(0,w.WV)(k,document.createElement("div"),void 0,re),(0,w.UQ)(k,re)),append:(k,re,ee)=>(ee=W(ee),(0,w.WV)(re,k,void 0,ee),(0,w.UQ)(re,ee)),insertBefore:(k,re,ee)=>(ee=W(ee),(0,w.WV)(re,k.parentNode,k,ee),(0,w.UQ)(re,ee)),merge:(k,re,ee)=>(ee=W(ee),re.domNode=k,(0,w.Yj)(k,re,ee),(0,w.UQ)(re,ee)),replace:(k,re,ee)=>(ee=W(ee),(0,w.WV)(re,k.parentNode,k,ee),k.parentNode.removeChild(k),(0,w.UQ)(re,ee))}},50645:(j,F,T)=>{"use strict";T.d(F,{UQ:()=>me,WV:()=>oe,Yj:()=>q,l7:()=>re});var w=T(38570);const O="http://www.w3.org/",W=`${O}2000/svg`,B=`${O}1999/xlink`;let k=[],re=(_e,le)=>{let fe={};return Object.keys(_e).forEach(Ee=>{fe[Ee]=_e[Ee]}),le&&Object.keys(le).forEach(Ee=>{fe[Ee]=le[Ee]}),fe},ee=(_e,le)=>_e.vnodeSelector===le.vnodeSelector&&(_e.properties&&le.properties?_e.properties.key===le.properties.key&&_e.properties.bind===le.properties.bind:!_e.properties&&!le.properties),Z=_e=>{if("string"!=typeof _e)throw new Error("Style values must be strings")},G=(_e,le,fe)=>{if(""!==le.vnodeSelector)for(let Ee=fe;Ee<_e.length;Ee++)if(ee(_e[Ee],le))return Ee;return-1},Y=(_e,le,fe,Ee)=>{let ye=_e[le];if(""===ye.vnodeSelector)return;let ue=ye.properties;if(!ue||!(void 0===ue.key?ue.bind:ue.key))for(let Me=0;Me<_e.length;Me++)if(Me!==le&&ee(_e[Me],ye))throw new Error(`${fe.vnodeSelector} had a ${ye.vnodeSelector} child ${"added"===Ee?Ee:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},ne=_e=>{if(_e.properties){let le=_e.properties.enterAnimation;le&&le(_e.domNode,_e.properties)}},ae=[],se=!1,ie=_e=>{(_e.children||[]).forEach(ie),_e.properties&&_e.properties.afterRemoved&&_e.properties.afterRemoved.apply(_e.properties.bind||_e.properties,[_e.domNode])},te=()=>{se=!1,ae.forEach(ie),ae.length=0},Q=_e=>{ae.push(_e),se||(se=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(te,{timeout:16}):setTimeout(te,16))},V=_e=>{let le=_e.domNode;if(_e.properties){let fe=_e.properties.exitAnimation;if(fe)return le.style.pointerEvents="none",void fe(le,()=>{le.parentNode&&(le.parentNode.removeChild(le),Q(_e))},_e.properties)}le.parentNode&&(le.parentNode.removeChild(le),Q(_e))},U=(_e,le,fe)=>{if(!le)return;let Ee=fe.eventHandlerInterceptor,ye=Object.keys(le),ue=ye.length;for(let Me=0;Me<ue;Me++){let ce=ye[Me],ge=le[ce];if("className"===ce)throw new Error('Property "className" is not supported, use "class".');if("class"===ce)pe(_e,ge,!0);else if("classes"===ce){let Pe=Object.keys(ge),Ie=Pe.length;for(let Re=0;Re<Ie;Re++){let Ce=Pe[Re];ge[Ce]&&_e.classList.add(Ce)}}else if("styles"===ce){let Pe=Object.keys(ge),Ie=Pe.length;for(let Re=0;Re<Ie;Re++){let Ce=Pe[Re],Fe=ge[Ce];Fe&&(Z(Fe),fe.styleApplyer(_e,Ce,Fe))}}else if("key"!==ce&&null!=ge){let Pe=typeof ge;"function"===Pe?(0===ce.lastIndexOf("on",0)&&(Ee&&(ge=Ee(ce,ge,_e,le)),"oninput"===ce&&function(){let Ie=ge;ge=function(Re){Ie.apply(this,[Re]),Re.target["oninput-value"]=Re.target.value}}()),_e[ce]=ge):fe.namespace===W?"href"===ce?_e.setAttributeNS(B,ce,ge):_e.setAttribute(ce,ge):"string"===Pe&&"value"!==ce?"innerHTML"===ce?_e[ce]=w.w3.sanitize(ge):$(_e)&&ce in _e?_e[ce]=ge:_e.setAttribute(ce,ge):_e[ce]=ge}}};function $(_e){if(!(_e instanceof Element&&_e.tagName.includes("-")))return!1;const le=window.customElements.get(_e.tagName.toLowerCase());return!!le&&_e instanceof le}let z,q=(_e,le,fe)=>{((_e,le,fe)=>{if(le)for(let Ee of le)oe(Ee,_e,void 0,fe)})(_e,le.children,fe),le.text&&(_e.textContent=le.text),U(_e,le.properties,fe),le.properties&&le.properties.afterCreate&&le.properties.afterCreate.apply(le.properties.bind||le.properties,[_e,fe,le.vnodeSelector,le.properties,le.children])},oe=(_e,le,fe,Ee)=>{let ye,ue=0,Me=_e.vnodeSelector,ce=le.ownerDocument;if(""===Me)ye=_e.domNode=ce.createTextNode(_e.text),void 0!==fe?le.insertBefore(ye,fe):le.appendChild(ye);else{for(let ge=0;ge<=Me.length;++ge){let Pe=Me.charAt(ge);if(ge===Me.length||"."===Pe||"#"===Pe){let Ie=Me.charAt(ue-1),Re=Me.slice(ue,ge);"."===Ie?ye.classList.add(Re):"#"===Ie?ye.id=Re:("svg"===Re&&(Ee=re(Ee,{namespace:W})),void 0!==Ee.namespace?ye=_e.domNode=ce.createElementNS(Ee.namespace,Re):(ye=_e.domNode=_e.domNode||ce.createElement(Re),"input"===Re&&_e.properties&&void 0!==_e.properties.type&&ye.setAttribute("type",_e.properties.type)),void 0!==fe?le.insertBefore(ye,fe):ye.parentNode!==le&&le.appendChild(ye)),ue=ge+1}}q(ye,_e,Ee)}},pe=(_e,le,fe)=>{le&&le.split(" ").forEach(Ee=>{Ee&&_e.classList.toggle(Ee,fe)})};z=(_e,le,fe)=>{let Ee=_e.domNode,ye=!1;if(_e===le)return!1;let ue=!1;if(""===le.vnodeSelector){if(le.text!==_e.text){let Me=Ee.ownerDocument.createTextNode(le.text);return Ee.parentNode.replaceChild(Me,Ee),le.domNode=Me,ye=!0,ye}le.domNode=Ee}else 0===le.vnodeSelector.lastIndexOf("svg",0)&&(fe=re(fe,{namespace:W})),_e.text!==le.text&&(ue=!0,void 0===le.text?Ee.removeChild(Ee.firstChild):Ee.textContent=le.text),le.domNode=Ee,ue=((_e,le,fe,Ee,ye)=>{if(fe===Ee)return!1;let ue,Me=(fe=fe||k).length,ce=(Ee=Ee||k).length,ge=0,Pe=0,Ie=!1;for(;Pe<ce;){let Re=ge<Me?fe[ge]:void 0,Ce=Ee[Pe];if(void 0!==Re&&ee(Re,Ce))Ie=z(Re,Ce,ye)||Ie,ge++;else{let Fe=G(fe,Ce,ge+1);if(Fe>=0){for(ue=ge;ue<Fe;ue++)V(fe[ue]),Y(fe,ue,_e,"removed");Ie=z(fe[Fe],Ce,ye)||Ie,ge=Fe+1}else oe(Ce,le,ge<Me?fe[ge].domNode:void 0,ye),ne(Ce),Y(Ee,Pe,_e,"added")}Pe++}if(Me>ge)for(ue=ge;ue<Me;ue++)V(fe[ue]),Y(fe,ue,_e,"removed");return Ie})(le,Ee,_e.children,le.children,fe)||ue,ue=((_e,le,fe,Ee)=>{if(!fe)return;let ye=!1,ue=Object.keys(fe),Me=ue.length;for(let ce=0;ce<Me;ce++){let ge=ue[ce],Pe=fe[ge],Ie=le[ge];if("class"===ge)Ie!==Pe&&(pe(_e,Ie,!1),pe(_e,Pe,!0));else if("classes"===ge){let Re=_e.classList,Ce=Object.keys(Pe),Fe=Ce.length;for(let Ne=0;Ne<Fe;Ne++){let Le=Ce[Ne],Oe=!!Pe[Le];Oe!==!!Ie[Le]&&(ye=!0,Oe?Re.add(Le):Re.remove(Le))}}else if("styles"===ge){let Re=Object.keys(Pe),Ce=Re.length;for(let Fe=0;Fe<Ce;Fe++){let Ne=Re[Fe],Le=Pe[Ne];Le!==Ie[Ne]&&(ye=!0,Le?(Z(Le),Ee.styleApplyer(_e,Ne,Le)):Ee.styleApplyer(_e,Ne,""))}}else if(Pe||"string"!=typeof Ie||(Pe=""),"value"===ge){let Re=_e[ge];Re!==Pe&&(_e["oninput-value"]?Re===_e["oninput-value"]:Pe!==Ie)&&(_e[ge]=Pe,_e["oninput-value"]=void 0),Pe!==Ie&&(ye=!0)}else if(Pe!==Ie){let Re=typeof Pe;"function"===Re&&Ee.eventHandlerInterceptor||(Ee.namespace===W?"href"===ge?_e.setAttributeNS(B,ge,Pe):_e.setAttribute(ge,Pe):"string"===Re?"innerHTML"===ge?_e[ge]=w.w3.sanitize(Pe):"role"===ge&&""===Pe?_e.removeAttribute(ge):$(_e)&&ge in _e?_e[ge]=Pe:_e.setAttribute(ge,Pe):_e[ge]!==Pe&&(_e[ge]=Pe),ye=!0)}}return ye})(Ee,_e.properties,le.properties,fe)||ue,le.properties&&le.properties.afterUpdate&&le.properties.afterUpdate.apply(le.properties.bind||le.properties,[Ee,fe,le.vnodeSelector,le.properties,le.children]);return ue&&le.properties&&le.properties.updateAnimation&&le.properties.updateAnimation(Ee,le.properties,_e.properties),ye};let me=(_e,le)=>({getLastRender:()=>_e,update:fe=>{if(_e.vnodeSelector!==fe.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let Ee=_e;_e=fe,z(Ee,fe,le)},domNode:_e.domNode})},62996:(j,F,T)=>{"use strict";T.d(F,{E:()=>re});var w=T(39605);let O,W=(ee,Z)=>{let G=[];for(;ee&&ee!==Z;)G.push(ee),ee=ee.parentNode;return G};O=Array.prototype.find?(ee,Z)=>ee.find(Z):(ee,Z)=>ee.filter(Z)[0];let B=(ee,Z)=>{let G=ee;return Z.forEach(Y=>{G=G&&G.children?O(G.children,ne=>ne.domNode===Y):void 0}),G},k=(ee,Z,G)=>{let Y=function(ne){G("domEvent",ne);let ae=Z(),se=W(ne.currentTarget,ae.domNode);se.reverse();let ie,te=B(ae.getLastRender(),se);return ee.scheduleRender(),te&&(ie=te.properties[`on${ne.type}`].apply(te.properties.bind||this,arguments)),G("domEventProcessed",ne),ie};return(ne,ae,se,ie)=>Y},re=ee=>{let Z,G,Y=(0,w.W)(ee),ne=Y.performanceLogger,ae=!0,se=!1,ie=[],te=[],Q=(U,$,z)=>{let J;Y.eventHandlerInterceptor=k(Z,()=>J,ne),J=U($,z(),Y),ie.push(J),te.push(z)},V=()=>{if(G=void 0,ae){ae=!1,ne("renderStart",void 0);for(let U=0;U<ie.length;U++){let $=te[U]();ne("rendered",void 0),ie[U].update($),ne("patched",void 0)}ne("renderDone",void 0),ae=!0}};return Z={renderNow:V,scheduleRender:()=>{G||se||(G=requestAnimationFrame(V))},stop:()=>{G&&(cancelAnimationFrame(G),G=void 0),se=!0},resume:()=>{se=!1,ae=!0,Z.scheduleRender()},append:(U,$)=>{Q(w.v.append,U,$)},insertBefore:(U,$)=>{Q(w.v.insertBefore,U,$)},merge:(U,$)=>{Q(w.v.merge,U,$)},replace:(U,$)=>{Q(w.v.replace,U,$)},detach:U=>{for(let $=0;$<te.length;$++)if(te[$]===U)return te.splice($,1),ie.splice($,1)[0];throw new Error("renderFunction was not found")}},Z}},38159:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.wq{constructor(Y){super(Y),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new ee({title:this.title,expression:this.expression})}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"expression",void 0),(0,w._)([(0,W.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Z.prototype,"returnType",void 0),Z=ee=(0,w._)([(0,re.j)("esri.popup.ElementExpressionInfo")],Z);const G=Z},38439:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.wq{constructor(Y){super(Y),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ee({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"name",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"expression",void 0),(0,w._)([(0,W.Cb)({type:["string","number"],json:{write:!0}})],Z.prototype,"returnType",void 0),Z=ee=(0,w._)([(0,re.j)("esri.popup.ExpressionInfo")],Z);const G=Z},25621:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var Y,w=T(17626),O=T(2076),W=T(86810),B=T(58817),k=T(77712),ee=(T(90912),T(55342)),Z=T(76898),G=T(66845);let ne=Y=class extends W.wq{constructor(se){super(se),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Y({fieldName:this.fieldName,format:this.format?(0,B.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"fieldName",void 0),(0,w._)([(0,k.Cb)({type:G.Z,json:{write:!0}})],ne.prototype,"format",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0,default:!1}})],ne.prototype,"isEditable",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"label",void 0),(0,w._)([(0,ee.J)(new O.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],ne.prototype,"stringFieldOption",void 0),(0,w._)([(0,k.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],ne.prototype,"statisticType",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"tooltip",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"visible",void 0),ne=Y=(0,w._)([(0,Z.j)("esri.popup.FieldInfo")],ne);const ae=ne},55664:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(55013);let Z=ee=class extends re.Z{constructor(Y){super(Y),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new ee({description:this.description,displayType:this.displayType,title:this.title})}};(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],Z.prototype,"description",void 0),(0,w._)([(0,O.Cb)({type:["auto","preview","list"],json:{write:!0}})],Z.prototype,"displayType",void 0),(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),(0,w._)([(0,O.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=ee=(0,w._)([(0,k.j)("esri.popup.content.AttachmentsContent")],Z);const G=Z},89594:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(85812),ee=T(82657);let G=Z=class extends re.Z{constructor(ne){super(ne),this.type="bar-chart"}clone(){return new Z({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,w._)([(0,O.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:ee.l.write}})],G.prototype,"type",void 0),G=Z=(0,w._)([(0,k.j)("esri.popup.content.BarChartMediaInfo")],G);const Y=G},81590:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(85812),ee=T(82657);let G=Z=class extends re.Z{constructor(ne){super(ne),this.type="column-chart"}clone(){return new Z({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,w._)([(0,O.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:ee.l.write}})],G.prototype,"type",void 0),G=Z=(0,w._)([(0,k.j)("esri.popup.content.ColumnChartMediaInfo")],G);const Y=G},55013:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(G){super(G),this.type=null}};(0,w._)([(0,W.Cb)({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=(0,w._)([(0,re.j)("esri.popup.content.Content")],ee);const Z=ee},16615:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(58817),W=T(77712),k=(T(90912),T(76898)),re=T(55013);let Z=ee=class extends re.Z{constructor(Y){super(Y),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new ee({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,O.d9)(this.outFields):null})}};(0,w._)([(0,W.Cb)()],Z.prototype,"creator",void 0),(0,w._)([(0,W.Cb)()],Z.prototype,"destroyer",void 0),(0,w._)([(0,W.Cb)()],Z.prototype,"outFields",void 0),(0,w._)([(0,W.Cb)({type:["custom"],readOnly:!0})],Z.prototype,"type",void 0),Z=ee=(0,w._)([(0,k.j)("esri.popup.content.CustomContent")],Z);const G=Z},82561:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(38159),ee=T(55013);let G=Z=class extends ee.Z{constructor(ne){super(ne),this.expressionInfo=null,this.type="expression"}clone(){return new Z({expressionInfo:this.expressionInfo?.clone()})}};(0,w._)([(0,O.Cb)({type:re.Z,json:{write:!0}})],G.prototype,"expressionInfo",void 0),(0,w._)([(0,O.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=Z=(0,w._)([(0,k.j)("esri.popup.content.ExpressionContent")],G);const Y=G},75484:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var G,w=T(17626),O=T(58817),W=T(77712),k=(T(90912),T(76898)),re=T(99433),ee=T(25621),Z=T(55013);let Y=G=class extends Z.Z{constructor(ae){super(ae),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(ae,se){se.fieldInfos=ae&&ae.map(ie=>ie.toJSON())}clone(){return new G((0,O.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,w._)([(0,W.Cb)({type:Object,json:{write:!0}})],Y.prototype,"attributes",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Y.prototype,"description",void 0),(0,w._)([(0,W.Cb)({type:[ee.Z]})],Y.prototype,"fieldInfos",void 0),(0,w._)([(0,re.c)("fieldInfos")],Y.prototype,"writeFieldInfos",null),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Y.prototype,"title",void 0),(0,w._)([(0,W.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Y.prototype,"type",void 0),Y=G=(0,w._)([(0,k.j)("esri.popup.content.FieldsContent")],Y);const ne=Y},49455:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(78297),ee=T(86810);let G=Z=class extends ee.wq{constructor(ie){super(ie),this.linkURL=null,this.sourceURL=null}clone(){return new Z({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],G.prototype,"linkURL",void 0),(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],G.prototype,"sourceURL",void 0),G=Z=(0,w._)([(0,k.j)("esri.popup.content.support.ImageMediaInfoValue")],G);const Y=G;var ne;let ae=ne=class extends re.Z{constructor(ie){super(ie),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new ne({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,w._)([(0,O.Cb)({type:Number,json:{write:!0}})],ae.prototype,"refreshInterval",void 0),(0,w._)([(0,O.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],ae.prototype,"type",void 0),(0,w._)([(0,O.Cb)({type:Y,json:{write:!0}})],ae.prototype,"value",void 0),ae=ne=(0,w._)([(0,k.j)("esri.popup.content.ImageMediaInfo")],ae);const se=ae},71981:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(85812),ee=T(82657);let G=Z=class extends re.Z{constructor(ne){super(ne),this.type="line-chart"}clone(){return new Z({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,w._)([(0,O.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:ee.l.write}})],G.prototype,"type",void 0),G=Z=(0,w._)([(0,k.j)("esri.popup.content.LineChartMediaInfo")],G);const Y=G},64531:(j,F,T)=>{"use strict";T.d(F,{Z:()=>V});var te,w=T(17626),O=T(58817),W=T(77712),k=(T(90912),T(68653)),re=T(76898),ee=T(99433),Z=T(89594),G=T(81590),Y=T(55013),ne=T(49455),ae=T(71981),se=T(52023),ie=T(65560);let Q=te=class extends Y.Z{constructor(U){super(U),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(U){return U&&U.map($=>"image"===$.type?ne.Z.fromJSON($):"barchart"===$.type?Z.Z.fromJSON($):"columnchart"===$.type?G.Z.fromJSON($):"linechart"===$.type?ae.Z.fromJSON($):"piechart"===$.type?se.Z.fromJSON($):void 0).filter(Boolean)}writeMediaInfos(U,$){$.mediaInfos=U&&U.map(z=>z.toJSON())}clone(){return new te((0,O.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,w._)([(0,W.Cb)()],Q.prototype,"activeMediaInfoIndex",void 0),(0,w._)([(0,W.Cb)({type:Object,json:{write:!0}})],Q.prototype,"attributes",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Q.prototype,"description",void 0),(0,w._)([(0,W.Cb)({types:[ie.V]})],Q.prototype,"mediaInfos",void 0),(0,w._)([(0,k.r)("mediaInfos")],Q.prototype,"readMediaInfos",null),(0,w._)([(0,ee.c)("mediaInfos")],Q.prototype,"writeMediaInfos",null),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Q.prototype,"title",void 0),(0,w._)([(0,W.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Q.prototype,"type",void 0),Q=te=(0,w._)([(0,re.j)("esri.popup.content.MediaContent")],Q);const V=Q},52023:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(85812),ee=T(82657);let G=Z=class extends re.Z{constructor(ne){super(ne),this.type="pie-chart"}clone(){return new Z({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,w._)([(0,O.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:ee.l.write}})],G.prototype,"type",void 0),G=Z=(0,w._)([(0,k.j)("esri.popup.content.PieChartMediaInfo")],G);const Y=G},6785:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var w=T(17626),O=T(79608),W=T(77712),B=T(90912),re=(T(85931),T(76898)),ee=T(55013),Z=T(51686);let G=class extends((0,O.J)(ee.Z)){constructor(ne){super(ne),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"description",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{type:B.z8,write:!0}})],G.prototype,"displayCount",void 0),(0,w._)([(0,W.Cb)({type:["list"],json:{write:!0}})],G.prototype,"displayType",void 0),(0,w._)([(0,W.Cb)({type:[Z.Z],json:{write:!0}})],G.prototype,"orderByFields",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{type:B.z8,write:!0}})],G.prototype,"relationshipId",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"title",void 0),(0,w._)([(0,W.Cb)({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=(0,w._)([(0,re.j)("esri.popup.content.RelationshipContent")],G);const Y=G},501:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(55013);let Z=ee=class extends re.Z{constructor(Y){super(Y),this.text=null,this.type="text"}clone(){return new ee({text:this.text})}};(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],Z.prototype,"text",void 0),(0,w._)([(0,O.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=ee=(0,w._)([(0,k.j)("esri.popup.content.TextContent")],Z);const G=Z},85812:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var Y,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(78297),ee=T(86810),Z=T(58817),G=T(77891);let ne=Y=class extends ee.wq{constructor(te){super(te),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Y({fields:(0,Z.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,w._)([(0,O.Cb)({type:[String],json:{write:!0}})],ne.prototype,"fields",void 0),(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],ne.prototype,"normalizeField",void 0),(0,w._)([(0,O.Cb)({type:[G.Z],json:{read:!1}})],ne.prototype,"series",void 0),(0,w._)([(0,O.Cb)({type:String,json:{write:!0}})],ne.prototype,"tooltipField",void 0),ne=Y=(0,w._)([(0,k.j)("esri.popup.content.support.ChartMediaInfoValue")],ne);const ae=ne;let se=class extends re.Z{constructor(te){super(te),this.type=null,this.value=null}};(0,w._)([(0,O.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],se.prototype,"type",void 0),(0,w._)([(0,O.Cb)({type:ae,json:{write:!0}})],se.prototype,"value",void 0),se=(0,w._)([(0,k.j)("esri.popup.content.mixins.ChartMediaInfo")],se);const ie=se},78297:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(G){super(G),this.altText=null,this.caption="",this.title="",this.type=null}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],ee.prototype,"altText",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],ee.prototype,"caption",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],ee.prototype,"title",void 0),(0,w._)([(0,W.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=(0,w._)([(0,re.j)("esri.popup.content.mixins.MediaInfo")],ee);const Z=ee},77891:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.Z{constructor(Y){super(Y),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new ee({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,w._)([(0,W.Cb)()],Z.prototype,"fieldName",void 0),(0,w._)([(0,W.Cb)()],Z.prototype,"tooltip",void 0),(0,w._)([(0,W.Cb)()],Z.prototype,"value",void 0),Z=ee=(0,w._)([(0,re.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],Z);const G=Z},82657:(j,F,T)=>{"use strict";T.d(F,{l:()=>O});const O=(0,T(2076).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(j,F,T)=>{"use strict";T.d(F,{V:()=>ee});var w=T(89594),O=T(81590),W=T(49455),B=T(71981),k=T(52023);const ee={base:T(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":w.Z,"column-chart":O.Z,"line-chart":B.Z,"pie-chart":k.Z,image:W.Z}}},66845:(j,F,T)=>{"use strict";T.d(F,{Z:()=>U});var w=T(17626);const B=(0,T(2076).w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});B.toJSON.bind(B),B.fromJSON.bind(B);var Q,Z=T(86810),G=T(77712),Y=T(90912),ae=(T(85931),T(55342)),se=T(76898),ie=T(88411),te=T(15348);let V=Q=class extends Z.wq{constructor($){super($),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new Q({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format($){return this.dateFormat?(0,ie.p6)($,{...(0,ie.Ze)(this.dateFormat),...this.dateTimeFormatOptions}):(0,te.uf)($,(0,te.sh)(this))}formatRasterPixelValue($){if($.includes("-"))return $;let z,J;return $.trim().includes(",")?(z=",",J=z+" ",this._formatDelimitedString($,z,J,this)):$.trim().includes(";")?(z=";",J=z+" ",this._formatDelimitedString($,z,J,this)):$.trim().includes(" ")?(z=J=" ",this._formatDelimitedString($,z,J,this)):this.format(Number($))}_formatDelimitedString($,z,J,q){return $&&z&&J&&q?$.trim().split(z).map(oe=>this.format(Number(oe))).join(J):$}};(0,w._)([(0,ae.J)(B)],V.prototype,"dateFormat",void 0),(0,w._)([(0,G.Cb)({type:Object,json:{read:!1}})],V.prototype,"dateTimeFormatOptions",void 0),(0,w._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"digitSeparator",void 0),(0,w._)([(0,G.Cb)({type:Y.z8,json:{write:!0}})],V.prototype,"places",void 0),V=Q=(0,w._)([(0,se.j)("esri.popup.support.FieldInfoFormat")],V);const U=V},51686:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.wq{constructor(Y){super(Y),this.field=null,this.order=null}clone(){return new ee({field:this.field,order:this.order})}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"field",void 0),(0,w._)([(0,W.Cb)({type:["asc","desc"],json:{write:!0}})],Z.prototype,"order",void 0),Z=ee=(0,w._)([(0,re.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],Z);const G=Z},84687:(j,F,T)=>{"use strict";T.d(F,{Z:()=>_e});var w=T(15861),O=T(17626),W=T(59318),B=T(24263),k=T(84792),re=T(26584),ee=T(86810),Z=T(47996),G=T(62208),Y=T(10699),ne=T(77712),ae=T(90912),ie=(T(85931),T(68653)),te=T(76898),Q=T(2004),V=T(56683),U=T(6278),$=T(14517);let z=class extends $.Z{constructor(le){super(le),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,O._)([(0,ne.Cb)()],z.prototype,"nextQueryParams",void 0),(0,O._)([(0,ne.Cb)()],z.prototype,"queryParams",void 0),(0,O._)([(0,ne.Cb)()],z.prototype,"results",void 0),(0,O._)([(0,ne.Cb)()],z.prototype,"total",void 0),z=(0,O._)([(0,te.j)("esri.portal.PortalQueryResult")],z);const J=z;var pe,q=T(94508),oe=T(12680);let de;const be={PortalGroup:()=>Promise.resolve().then(T.bind(T,96245)),PortalItem:()=>Promise.resolve().then(T.bind(T,55463)),PortalUser:()=>Promise.resolve().then(T.bind(T,94508))};let me=pe=class extends((0,ee.eC)(Z.Z)){constructor(le){super(le),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=W.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(le){return"string"==typeof le?{url:le}:le}destroy(){this._esriIdCredentialCreateHandle=(0,G.hw)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(le){if(le)for(const fe of le)W.Z.request.trustedServers.includes(fe)||W.Z.request.trustedServers.push(fe);return le}readDefaultBasemap(le){return this._readBasemap(le)}readDefaultDevBasemap(le){return this._readBasemap(le)}readDefaultVectorBasemap(le){return this._readBasemap(le)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let le=this.url;if(le){const fe=le.indexOf("/sharing");le=fe>0?le.substring(0,fe):this.url.replace(/\/+$/,""),le+="/sharing/rest"}return le}get thumbnailUrl(){const le=this.restUrl,fe=this.thumbnail;return le&&fe?this._normalizeSSL(le+"/portals/self/resources/"+fe):null}readUrlKey(le){return le&&le.toLowerCase()}readUser(le){let fe=null;return le&&(fe=q.default.fromJSON(le),fe.portal=this),fe}load(le){const fe=Promise.resolve().then(T.bind(T,73386)).then(({default:Ee})=>{(0,Y.k_)(le),de=Ee}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,le)).then(Ee=>{if(B.id){const ye=B.id;this.credential=ye.findCredential(this.restUrl),this.credential||this.authMode!==pe.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=ye.on("credential-create",()=>{ye.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=Ee,this.read(Ee)});return this.addResolvingPromise(fe),Promise.resolve(this)}createElevationLayers(){var le=this;return(0,w.Z)(function*(){yield le.load();const fe=le._getHelperService("defaultElevationLayers"),Ee=(yield Promise.all([T.e(8592),T.e(1676)]).then(T.bind(T,179))).default;return fe?fe.map(ye=>new Ee({id:ye.id,url:ye.url})):[]})()}fetchBasemaps(le,fe){const Ee=new U.Z;return Ee.query=le||(W.Z.apiKey&&(0,oe.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),Ee.disableExtraQuery=!0,this.queryGroups(Ee,fe).then(ye=>{if(Ee.num=100,Ee.query='type:"Web Map" -type:"Web Application"',ye.total){const ue=ye.results[0];return Ee.sortField=ue.sortField||"name",Ee.sortOrder=ue.sortOrder||"desc",ue.queryItems(Ee,fe)}return null}).then(ye=>{let ue;return ue=ye&&ye.total?ye.results.filter(Me=>"Web Map"===Me.type).map(Me=>new de({portalItem:Me})):[],ue})}fetchCategorySchema(le){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",le).then(fe=>fe.categorySchema):(0,Y.Hc)(le)?Promise.reject((0,Y.zE)()):Promise.resolve([])}fetchFeaturedGroups(le){const fe=this.featuredGroups,Ee=new U.Z;if(Ee.num=100,Ee.sortField="title",fe&&fe.length){const ye=[];for(const ue of fe)ye.push(`(title:"${ue.title}" AND owner:${ue.owner})`);return Ee.query=ye.join(" OR "),this.queryGroups(Ee,le).then(ue=>ue.results)}return(0,Y.Hc)(le)?Promise.reject((0,Y.zE)()):Promise.resolve([])}fetchRegions(le){const fe=this.user?.culture||this.culture||(0,V.Kd)();return this.request(this.restUrl+"/portals/regions",{...le,query:{culture:fe}})}fetchSettings(le){const fe=this.user?.culture||this.culture||(0,V.Kd)();return this.request(this.restUrl+"/portals/self/settings",{...le,query:{culture:fe}})}static getDefault(){return pe._default&&!pe._default.destroyed||(pe._default=new pe),pe._default}queryGroups(le,fe){return this.queryPortal("/community/groups",le,"PortalGroup",fe)}queryItems(le,fe){return this.queryPortal("/search",le,"PortalItem",fe)}queryUsers(le,fe){return le.sortField||(le.sortField="username"),this.queryPortal("/community/users",le,"PortalUser",fe)}fetchSelf(le=this.authMode,fe=!1,Ee){const ye=this.restUrl+"/portals/self",ue={authMode:le,query:{culture:(0,V.Kd)().toLowerCase()},...Ee};return"auto"===ue.authMode&&(ue.authMode="no-prompt"),fe&&(ue.query.default=!0),this.request(ye,ue)}queryPortal(le,fe,Ee,ye){const ue=(0,ae.se)(U.Z,fe),Me=ce=>this.request(this.restUrl+le,{...ue.toRequestOptions(this),...ye}).then(ge=>{const Pe=ue.clone();return Pe.start=ge.nextStart,new J({nextQueryParams:Pe,queryParams:ue,total:ge.total,results:pe._resultsToTypedArray(ce,{portal:this},ge,ye)})}).then(ge=>Promise.all(ge.results.map(Pe=>"function"==typeof Pe.when?Pe.when():ge)).then(()=>ge,Pe=>((0,Y.r9)(Pe),ge)));return Ee&&be[Ee]?be[Ee]().then(({default:ce})=>((0,Y.k_)(ye),Me(ce))):Me()}signIn(){if(this.authMode===pe.AUTH_MODE_ANONYMOUS)return Promise.reject(new re.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const le=fe=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(fe||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=fe,this.fetchSelf("immediate"))):this.user&&this.credential===fe?null:(this.credential=fe,this.fetchSelf("immediate"))).then(Ee=>{Ee&&(this.sourceJSON=Ee,this.read(Ee))});return B.id?B.id.getCredential(this.restUrl).then(fe=>le(fe)):le(this.credential)}normalizeUrl(le){const fe=this.credential&&this.credential.token;return this._normalizeSSL(fe?le+(le.includes("?")?"&":"?")+"token="+fe:le)}requestToTypedArray(le,fe,Ee){return this.request(le,fe).then(ye=>{const ue=pe._resultsToTypedArray(Ee,{portal:this},ye);return Promise.all(ue.map(Me=>"function"==typeof Me.when?Me.when():ye)).then(()=>ue,()=>ue)})}request(le,fe={}){const Ee={f:"json",...fe.query},{authMode:ye=(this.authMode===pe.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:ue=null,cacheBust:Me=!1,method:ce="auto",responseType:ge="json",signal:Pe}=fe,Ie={authMode:ye,body:ue,cacheBust:Me,method:ce,query:Ee,responseType:ge,timeout:0,signal:Pe};return(0,k.default)(this._normalizeSSL(le),Ie).then(Re=>Re.data)}toJSON(){throw new re.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(le){if(!le)return null;if(le.declaredClass)throw new Error("JSON object is already hydrated");return new pe({sourceJSON:le})}_getHelperService(le){const fe=this.helperServices&&this.helperServices[le];if(!fe)throw new re.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${le}"`);return fe}_normalizeSSL(le){return le.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(le){if(le){const fe=de.fromJSON(le);return fe.portalItem={portal:this},fe}return null}static _resultsToTypedArray(le,fe,Ee,ye){let ue=[];if(Ee){const Me=(0,G.pC)(ye)?ye.signal:null;ue=Ee.listings||Ee.notifications||Ee.userInvitations||Ee.tags||Ee.items||Ee.groups||Ee.comments||Ee.provisions||Ee.results||Ee.relatedItems||Ee,(le||fe)&&(ue=ue.map(ce=>{const ge=Object.assign(le?le.fromJSON(ce):ce,fe);return"function"==typeof ge.load&&ge.load(Me),ge}))}else ue=[];return ue}};me.AUTH_MODE_ANONYMOUS="anonymous",me.AUTH_MODE_AUTO="auto",me.AUTH_MODE_IMMEDIATE="immediate",(0,O._)([(0,ne.Cb)()],me.prototype,"access",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"allSSL",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"authMode",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"authorizedCrossOriginDomains",void 0),(0,O._)([(0,ie.r)("authorizedCrossOriginDomains")],me.prototype,"readAuthorizedCrossOriginDomains",null),(0,O._)([(0,ne.Cb)()],me.prototype,"basemapGalleryGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"bingKey",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canListApps",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canListData",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canListPreProvisionedItems",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canProvisionDirectPurchase",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canSearchPublic",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canShareBingPublic",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canSharePublic",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canSignInArcGIS",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"canSignInIDP",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"colorSetsGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"commentsEnabled",void 0),(0,O._)([(0,ne.Cb)({type:Date})],me.prototype,"created",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"credential",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"culture",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"currentVersion",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"customBaseUrl",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"defaultBasemap",void 0),(0,O._)([(0,ie.r)("defaultBasemap")],me.prototype,"readDefaultBasemap",null),(0,O._)([(0,ne.Cb)()],me.prototype,"defaultDevBasemap",void 0),(0,O._)([(0,ie.r)("defaultDevBasemap")],me.prototype,"readDefaultDevBasemap",null),(0,O._)([(0,ne.Cb)({type:Q.Z})],me.prototype,"defaultExtent",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"defaultVectorBasemap",void 0),(0,O._)([(0,ie.r)("defaultVectorBasemap")],me.prototype,"readDefaultVectorBasemap",null),(0,O._)([(0,ne.Cb)()],me.prototype,"description",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"devBasemapGalleryGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"eueiEnabled",void 0),(0,O._)([(0,ne.Cb)({readOnly:!0})],me.prototype,"extraQuery",null),(0,O._)([(0,ne.Cb)()],me.prototype,"featuredGroups",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"featuredItemsGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"galleryTemplatesGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"livingAtlasGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"hasCategorySchema",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"helpBase",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"helperServices",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"helpMap",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"homePageFeaturedContent",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"homePageFeaturedContentCount",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"httpPort",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"httpsPort",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"id",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"ipCntryCode",void 0),(0,O._)([(0,ne.Cb)({readOnly:!0})],me.prototype,"isOrganization",null),(0,O._)([(0,ne.Cb)()],me.prototype,"isPortal",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"isReadOnly",void 0),(0,O._)([(0,ne.Cb)({readOnly:!0})],me.prototype,"itemPageUrl",null),(0,O._)([(0,ne.Cb)()],me.prototype,"layerTemplatesGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"maxTokenExpirationMinutes",void 0),(0,O._)([(0,ne.Cb)({type:Date})],me.prototype,"modified",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"name",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"portalHostname",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"portalMode",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"portalProperties",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"region",void 0),(0,O._)([(0,ne.Cb)({readOnly:!0})],me.prototype,"restUrl",null),(0,O._)([(0,ne.Cb)()],me.prototype,"rotatorPanels",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"showHomePageDescription",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"sourceJSON",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"staticImagesUrl",void 0),(0,O._)([(0,ne.Cb)({json:{name:"2DStylesGroupQuery"}})],me.prototype,"stylesGroupQuery2d",void 0),(0,O._)([(0,ne.Cb)({json:{name:"stylesGroupQuery"}})],me.prototype,"stylesGroupQuery3d",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"supportsHostedServices",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"symbolSetsGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"templatesGroupQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"thumbnail",void 0),(0,O._)([(0,ne.Cb)({readOnly:!0})],me.prototype,"thumbnailUrl",null),(0,O._)([(0,ne.Cb)()],me.prototype,"units",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"url",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"urlKey",void 0),(0,O._)([(0,ie.r)("urlKey")],me.prototype,"readUrlKey",null),(0,O._)([(0,ne.Cb)()],me.prototype,"user",void 0),(0,O._)([(0,ie.r)("user")],me.prototype,"readUser",null),(0,O._)([(0,ne.Cb)()],me.prototype,"useStandardizedQuery",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"useVectorBasemaps",void 0),(0,O._)([(0,ne.Cb)()],me.prototype,"vectorBasemapGalleryGroupQuery",void 0),me=pe=(0,O._)([(0,te.j)("esri.portal.Portal")],me);const _e=me},96245:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>ne});var w=T(17626),O=T(26584),W=T(86810),B=T(62208),k=T(77712),re=T(90912),Z=(T(85931),T(76898)),G=T(6278);let Y=class extends W.wq{constructor(ae){super(ae),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const ae=this.url,se=this.thumbnail;return ae&&se&&this.portal?this.portal?.normalizeUrl(`${ae}/info/${se}?f=json`):null}get url(){const ae=this.get("portal.restUrl");return ae?ae+"/community/groups/"+this.id:null}fetchCategorySchema(ae){return(0,B.s3)(this.portal).request(this.url+"/categorySchema",ae).then(se=>{const ie=se.categorySchema||[];return ie.some(te=>"contentCategorySetsGroupQuery.LivingAtlas"===te.source)?this._fetchCategorySchemaSet("LivingAtlas",ae):ie})}fetchMembers(ae){return(0,B.s3)(this.portal).request(this.url+"/users",ae)}getThumbnailUrl(ae){let se=this.thumbnailUrl;return se&&ae&&(se+=`&w=${ae}`),se}toJSON(){throw new O.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(ae,se){let ie=(0,re.se)(G.Z,ae);const te=(0,B.s3)(this.portal);return parseFloat(te.currentVersion)>5?(ie=ie||new G.Z,te.queryPortal(`/content/groups/${this.id}/search`,ie,"PortalItem",se)):(ie=ie?ie.clone():new G.Z,ie.query="group:"+this.id+(ie.query?" "+ie.query:""),te.queryItems(ie,se))}_fetchCategorySchemaSet(ae,se){const ie=(0,B.s3)(this.portal);return ie.fetchSelf(ie.authMode,!0,se).then(te=>{const Q=te.contentCategorySetsGroupQuery;if(Q){const V=new G.Z;return V.disableExtraQuery=!0,V.num=1,V.query=Q,ie.queryGroups(V,se)}throw new O.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(te=>{if(te.total){const Q=te.results[0],V=new G.Z;return V.num=1,V.query=`typekeywords:"${ae}"`,Q.queryItems(V,se)}throw new O.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(te=>te.total?te.results[0].fetchData("json",se).then(Q=>{const V=Q&&Q.categorySchema;return V&&V.length?V:[]}):[])}};(0,w._)([(0,k.Cb)()],Y.prototype,"access",void 0),(0,w._)([(0,k.Cb)({type:Date})],Y.prototype,"created",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"description",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"id",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"isInvitationOnly",void 0),(0,w._)([(0,k.Cb)({type:Date})],Y.prototype,"modified",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"owner",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"portal",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"snippet",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"sortField",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"sortOrder",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"tags",void 0),(0,w._)([(0,k.Cb)()],Y.prototype,"thumbnail",void 0),(0,w._)([(0,k.Cb)({readOnly:!0})],Y.prototype,"thumbnailUrl",null),(0,w._)([(0,k.Cb)()],Y.prototype,"title",void 0),(0,w._)([(0,k.Cb)({readOnly:!0})],Y.prototype,"url",null),Y=(0,w._)([(0,Z.j)("esri.portal.PortalGroup")],Y);const ne=Y},55463:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>_e});var w=T(15861),O=T(17626),W=T(54346),B=T(26584),k=T(86810),re=T(58817),ee=T(47996),Z=T(62208),G=T(21726),Y=T(77712),ne=T(90912),ae=T(68653),se=T(76898),ie=T(2004),te=T(84687),Q=T(14517),V=T(63290),U=T(66656);T(85931);let z=class extends Q.Z{constructor(le){super(le),this.portalItem=null}normalizeCtorArgs(le){return le&&le.portalItem&&le.path?{...le,path:this._normalizePath(le.path,le.portalItem)}:le}set path(le){(0,Z.pC)(le)&&(0,G.YP)(le)?V.Z.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",le)}_castPath(le){return this._normalizePath(le,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(le="json",fe){const Ee=this.url;if((0,Z.Wi)(Ee))throw new B.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(Ee,{responseType:le,query:{token:this.portalItem.apiKey},signal:(0,Z.U2)(fe,"signal")})}update(le,fe){var Ee=this;return(0,w.Z)(function*(){return(yield T.e(587).then(T.bind(T,10587))).addOrUpdateResource(Ee,"update",le,fe)})()}hasPath(){return(0,Z.pC)(this.path)}_normalizePath(le,fe){return(0,Z.Wi)(le)?le:(le=le.replace(/^\/+/,""),(0,Z.pC)(fe)&&(0,G.YP)(le)&&(le=(0,G.PF)(le,fe.itemUrl)),le?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,O._)([(0,Y.Cb)()],z.prototype,"portalItem",void 0),(0,O._)([(0,Y.Cb)({type:String,value:null})],z.prototype,"path",null),(0,O._)([(0,U.p)("path")],z.prototype,"_castPath",null),(0,O._)([(0,Y.Cb)({type:String,readOnly:!0})],z.prototype,"url",null),(0,O._)([(0,Y.Cb)({type:String,readOnly:!0})],z.prototype,"itemRelativeUrl",null),z=(0,O._)([(0,se.j)("esri.portal.PortalItemResource")],z);const J=z;let q=class extends Q.Z{constructor(le){super(le),this.created=null,this.rating=null}};(0,O._)([(0,Y.Cb)()],q.prototype,"created",void 0),(0,O._)([(0,Y.Cb)()],q.prototype,"rating",void 0),q=(0,O._)([(0,se.j)("esri.portal.PortalRating")],q);const oe=q;var pe;const de=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),be=new Set(["KML","GeoJson","CSV"]);let me=pe=class extends((0,k.eC)(ee.Z)){static from(le){return(0,ne.TJ)(pe,le)}constructor(le){super(le),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const le=this.type,fe=this.typeKeywords||[];let Ee=le;return"Feature Service"===le||"Feature Collection"===le?Ee=fe.includes("Table")?"Table":fe.includes("Route Layer")?"Route Layer":fe.includes("Markup")?"Markup":"Feature Layer":"Image Service"===le?Ee=fe.includes("Elevation 3D Layer")?"Elevation Layer":fe.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===le?Ee="Scene Layer":"Video Service"===le?Ee="Video Layer":"Scene Package"===le?Ee="Scene Layer Package":"Stream Service"===le?Ee="Feature Layer":"Geoprocessing Service"===le&&this.portal&&this.portal.isPortal?Ee=fe.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===le?Ee="Locator":"Geoenrichment Service"===le?Ee="GeoEnrichment Service":"Microsoft Powerpoint"===le?Ee="Microsoft PowerPoint":"GeoJson"===le?Ee="GeoJSON":"Globe Service"===le?Ee="Globe Layer":"Vector Tile Service"===le?Ee="Tile Layer":"netCDF"===le?Ee="NetCDF":"Map Service"===le?Ee=fe.includes("Spatiotemporal")||!fe.includes("Hosted Service")&&!fe.includes("Tiled")||fe.includes("Relational")?"Map Image Layer":"Tile Layer":le&&le.toLowerCase().includes("add in")?Ee=le.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===le?Ee="Big Data File Share":"Compact Tile Package"===le?Ee="Tile Package (tpkx)":"OGCFeatureServer"===le?Ee="OGC Feature Layer":"web mapping application"===le&&fe.includes("configurableApp")?Ee="Instant App":"Insights Page"===le&&(Ee="Insights Report"),Ee}readExtent(le){return le&&le.length?new ie.Z(le[0][0],le[0][1],le[1][0],le[1][1]):null}get iconUrl(){const le=this.type&&this.type.toLowerCase()||"",fe=this.typeKeywords||[];let ue,Me=!1,ce=!1,ge=!1,Pe=!1,Ie=!1,Re=!1;return le.indexOf("service")>0||"feature collection"===le||"kml"===le||"wms"===le||"wmts"===le||"wfs"===le?(Me=fe.includes("Hosted Service"),"feature service"===le||"feature collection"===le||"kml"===le||"wfs"===le?(ce=fe.includes("Table"),ge=fe.includes("Route Layer"),Pe=fe.includes("Markup"),Ie=fe.includes("Spatiotemporal"),Re=fe.includes("UtilityNetwork"),ue=Ie&&ce?"spatiotemporaltable":ce?"table":ge?"routelayer":Pe?"markup":Ie?"spatiotemporal":Me?"featureshosted":Re?"utilitynetwork":"features"):ue="map service"===le||"wms"===le||"wmts"===le?Me||fe.includes("Tiled")||"wmts"===le?"maptiles":"mapimages":"scene service"===le?fe.includes("Line")?"sceneweblayerline":fe.includes("3DObject")?"sceneweblayermultipatch":fe.includes("Point")?"sceneweblayerpoint":fe.includes("IntegratedMesh")?"sceneweblayermesh":fe.includes("PointCloud")?"sceneweblayerpointcloud":fe.includes("Polygon")?"sceneweblayerpolygon":fe.includes("Building")?"sceneweblayerbuilding":fe.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===le?fe.includes("Elevation 3D Layer")?"elevationlayer":fe.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===le?"streamlayer":"video service"===le?"mediaservice":"vector tile service"===le?"vectortile":"datastore catalog service"===le?"datastorecollection":"geocoding service"===le?"geocodeservice":"geoprocessing service"===le?fe.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===le?"geodataservice":"layers"):ue="web map"===le||"cityengine web scene"===le?"maps":"web scene"===le?fe.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===le&&fe.includes("configurableApp")?"instantapps":"web mapping application"===le||"mobile application"===le||"application"===le||"operation view"===le||"desktop application"===le?"apps":"map document"===le||"map package"===le||"published map"===le||"scene document"===le||"globe document"===le||"basemap package"===le||"mobile basemap package"===le||"mobile map package"===le||"project package"===le||"project template"===le||"pro map"===le||"layout"===le||"layer"===le&&fe.includes("ArcGIS Pro")||"explorer map"===le&&fe.indexOf("Explorer Document")?"mapsgray":"service definition"===le||"csv"===le||"shapefile"===le||"cad drawing"===le||"geojson"===le||"360 vr experience"===le||"netcdf"===le||"administrative report"===le?"datafiles":"explorer add in"===le||"desktop add in"===le||"windows viewer add in"===le||"windows viewer configuration"===le?"appsgray":"arcgis pro add in"===le||"arcgis pro configuration"===le?"addindesktop":"rule package"===le||"file geodatabase"===le||"sqlite geodatabase"===le||"csv collection"===le||"kml collection"===le||"windows mobile package"===le||"map template"===le||"desktop application template"===le||"gml"===le||"arcpad package"===le||"code sample"===le||"form"===le||"document link"===le||"earth configuration"===le||"operations dashboard add in"===le||"rules package"===le||"image"===le||"workflow manager package"===le||"explorer map"===le&&fe.includes("Explorer Mapping Application")||fe.includes("Document")?"datafilesgray":"network analysis service"===le||"geoprocessing service"===le||"geodata service"===le||"geometry service"===le||"geoprocessing package"===le||"locator package"===le||"geoprocessing sample"===le||"workflow manager service"===le?"toolsgray":"layer"===le||"layer package"===le||"explorer layer"===le?"layersgray":"scene package"===le?"scenepackage":"mobile scene package"===le?"mobilescenepackage":"tile package"===le||"compact tile package"===le?"tilepackage":"task file"===le?"taskfile":"report template"===le?"report-template":"statistical data collection"===le?"statisticaldatacollection":"insights workbook"===le?"workbook":"insights model"===le?"insightsmodel":"insights page"===le?"insightspage":"insights theme"===le?"insightstheme":"hub initiative"===le?"hubinitiative":"hubpage"===le?"hubpage":"hub event"===le?"hubevent":"hub site application"===le?"hubsite":"hub project"===le?"hubproject":"relational database connection"===le?"relationaldatabaseconnection":"big data file share"===le?"datastorecollection":"image collection"===le?"imagecollection":"style"===le?"style":"desktop style"===le?"desktopstyle":"dashboard"===le?"dashboard":"raster function template"===le?"rasterprocessingtemplate":"vector tile package"===le?"vectortilepackage":"ortho mapping project"===le?"orthomappingproject":"ortho mapping template"===le?"orthomappingtemplate":"solution"===le?"solutions":"geopackage"===le?"geopackage":"deep learning package"===le?"deeplearningpackage":"real time analytic"===le?"realtimeanalytics":"big data analytic"===le?"bigdataanalytics":"feed"===le?"feed":"excalibur imagery project"===le?"excaliburimageryproject":"notebook"===le?"notebook":"storymap"===le?"storymap":"survey123 add in"===le?"survey123addin":"mission"===le?"mission":"mission report"===le?"missionreport":"quickcapture project"===le?"quickcaptureproject":"pro report"===le?"proreport":"pro report template"===le?"proreporttemplate":"urban model"===le?"urbanmodel":"web experience"===le?"experiencebuilder":"web experience template"===le?"webexperiencetemplate":"experience builder widget"===le?"experiencebuilderwidget":"experience builder widget package"===le?"experiencebuilderwidgetpackage":"workflow"===le?"workflow":"insights script"===le?"insightsscript":"kernel gateway connection"===le?"kernelgatewayconnection":"hub initiative template"===le?"hubinitiativetemplate":"storymap theme"===le?"storymaptheme":"knowledge graph"===le?"knowledgegraph":"native application"===le?"nativeapp":"native application installer"===le?"nativeappinstaller":"link chart"===le?"linkchart":"investigation"===le?"investigation":"ogcfeatureserver"===le?"features":"pro project"===le?"proproject":"insights workbook package"===le?"insightsworkbookpackage":"apache parquet"===le?"apacheparquet":"notebook code snippets"===le||"notebook code snippet library"===le?"notebookcodesnippets":"suitability model"===le?"suitabilitymodel":"esri classifier definition"===le?"classifierdefinition":"esri classification schema"===le?"classificationschema":"insights data engineering workbook"===le?"dataengineeringworkbook":"insights data engineering model"===le?"dataengineeringmodel":"deep learning studio project"===le?"deeplearningproject":"discussion"===le?"discussion":"allsource project"===le?"allsourceproject":"api key"===le?"apikey":"maps",ue?(0,W.V)("esri/images/portal/"+ue+"16.png"):null}get isLayer(){return null!=this.type&&de.has(this.type)}get itemPageUrl(){const le=this.portal?.itemPageUrl;return le&&this.id?`${le}?id=${this.id}`:null}get itemUrl(){const le=this.portal?.restUrl;return le&&this.id?`${le}/content/items/${this.id}`:null}get thumbnailUrl(){const le=this.itemUrl,fe=this.thumbnail;return le&&fe?this.portal?.normalizeUrl(`${le}/info/${fe}?f=json`)??null:null}get userItemUrl(){const le=this.get("portal.restUrl");if(!le)return null;const fe=this.owner||this.get("portal.user.username");return fe?`${le}/content/users/${this.ownerFolder?`${fe}/${this.ownerFolder}`:fe}/items/${this.id}`:null}load(le){const fe=this.portal??(this.portal=te.Z.getDefault()),Ee=fe.load(le).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?fe.request(this.itemUrl,{signal:(0,Z.pC)(le)?le.signal:null,query:{token:this.apiKey}}):{}).then(ye=>{this.sourceJSON=ye,this.read(ye)});return this.addResolvingPromise(Ee),Promise.resolve(this)}addRating(le){var fe=this;return(0,w.Z)(function*(){const Ee={method:"post",query:{}};return le instanceof oe&&(le=le.rating),null==le||isNaN(le)||"number"!=typeof le||(Ee.query.rating=le),fe.portal?(yield fe.portal.request(fe.itemUrl+"/addRating",Ee),new oe({rating:le,created:new Date})):null})()}clone(){const le={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,re.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,re.d9)(this.categories),created:(0,re.d9)(this.created),culture:this.culture,description:this.description,extent:(0,re.d9)(this.extent),groupCategories:(0,re.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,re.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,re.d9)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,re.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,re.d9)(this.typeKeywords),url:this.url};this.loaded&&(le.loadStatus="loaded");const fe=new pe({sourceJSON:this.sourceJSON}).set(le);return fe._set("isOrgItem",this.isOrgItem),fe}createPostQuery(){const le=this.toJSON();for(const Ee of["tags","typeKeywords","categories"])le[Ee]&&(le[Ee]=le[Ee].join(", "));const{extent:fe}=le;return fe&&(le.extent=JSON.stringify(fe)),le}deleteRating(){var le=this;return(0,w.Z)(function*(){yield(0,Z.s3)(le.portal).request(le.itemUrl+"/deleteRating",{method:"post"})})()}fetchData(le="json",fe){return(0,Z.s3)(this.portal).request(this.itemUrl+"/data",{responseType:le,...fe,query:{token:this.apiKey}})}fetchRating(le){var fe=this;return(0,w.Z)(function*(){const Ee=yield(0,Z.s3)(fe.portal).request(fe.itemUrl+"/rating",{query:{token:fe.apiKey},...le});return null!=Ee.rating?(Ee.created=new Date(Ee.created),new oe(Ee)):null})()}fetchRelatedItems(le,fe){return(0,Z.s3)(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...le,token:this.apiKey},...fe},pe)}getThumbnailUrl(le){let fe=this.thumbnailUrl;return fe&&le&&(fe+=`&w=${le}`),fe}reload(){return(0,Z.s3)(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(le=>(this.sourceJSON=le,this.read(le),this))}update(le){return this.id?this.load().then(()=>(0,Z.s3)(this.portal).signIn()).then(()=>{const fe=le&&le.data,Ee={method:"post"};Ee.query=this.createPostQuery();for(const ye in Ee.query)null===Ee.query[ye]&&(Ee.query[ye]="");return Ee.query.clearEmptyFields=!0,null!=fe&&("string"==typeof fe?Ee.query.text=fe:"object"==typeof fe&&(Ee.query.text=JSON.stringify(fe))),this.portal.request(`${this.userItemUrl}/update`,Ee).then(()=>this.reload())}):Promise.reject(new B.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}copy(le){var fe=this;return(0,w.Z)(function*(){if(!fe.id)throw new B.Z("portal:item-does-not-exist","The item does not exist yet");yield fe.load();const{portal:Ee,itemUrl:ye}=fe;yield(0,Z.s3)(Ee).signIn();const{copyResources:ue,folder:Me,tags:ce,title:ge}=le||{},Pe={method:"post",query:{copyPrivateResources:"all"===ue,folder:"string"==typeof Me?Me:Me?.id,includeResources:!!ue,tags:ce?.join(","),title:ge}},{itemId:Ie}=yield Ee.request(`${ye}/copy`,Pe);return new pe({id:Ie,portal:Ee})})()}updateThumbnail(le){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const fe=le.thumbnail,Ee=le.filename,ye={method:"post"};if("string"==typeof fe)ye.query=(0,G.HK)(fe)?{data:fe}:{url:(0,G.hF)(fe)},(0,Z.pC)(Ee)&&(ye.query.filename=Ee);else{const ue=new FormData;(0,Z.pC)(Ee)?ue.append("file",fe,Ee):ue.append("file",fe),ye.body=ue}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,ye).then(()=>this.reload())}):Promise.reject(new B.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(le={},fe){var Ee=this;return(0,w.Z)(function*(){return(yield T.e(587).then(T.bind(T,10587))).fetchResources(Ee,le,fe)})()}addResource(le,fe,Ee){var ye=this;return(0,w.Z)(function*(){const ue=yield T.e(587).then(T.bind(T,10587));return le.portalItem=ye,ue.addOrUpdateResource(le,"add",fe,Ee)})()}removeResource(le,fe){var Ee=this;return(0,w.Z)(function*(){const ye=yield T.e(587).then(T.bind(T,10587));if(le.portalItem&&le.portalItem.itemUrl!==Ee.itemUrl)throw new B.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return ye.removeResource(Ee,le,fe)})()}removeAllResources(le){var fe=this;return(0,w.Z)(function*(){return(yield T.e(587).then(T.bind(T,10587))).removeAllResources(fe,le)})()}resourceFromPath(le){return new J({portalItem:this,path:le})}toJSON(){const le=this.extent,fe={accessInformation:this.accessInformation,categories:(0,re.d9)(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:le&&[[le.xmin,le.ymin],[le.xmax,le.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,re.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,re.d9)(this.typeKeywords),url:this.url};return(0,re.yd)(fe)}static fromJSON(le){if(!le)return null;if(le.declaredClass)throw new Error("JSON object is already hydrated");return new pe({sourceJSON:le})}_getPostQuery(){const le=this.toJSON();for(const fe in le)"tags"===fe&&null!==le[fe]&&(le[fe]=le[fe].join(", ")),"typeKeywords"===fe&&null!==le[fe]&&(le[fe]=le[fe].join(", ")),"extent"===fe&&le[fe]&&(le[fe]=JSON.stringify(le[fe]));return le}};(0,O._)([(0,Y.Cb)({type:["private","shared","org","public"]})],me.prototype,"access",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"accessInformation",void 0),(0,O._)([(0,Y.Cb)({type:String})],me.prototype,"apiKey",void 0),(0,O._)([(0,Y.Cb)({json:{read:{source:"appProxies"}}})],me.prototype,"applicationProxies",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"avgRating",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"categories",void 0),(0,O._)([(0,Y.Cb)({type:Date})],me.prototype,"created",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"culture",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"description",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"displayName",null),(0,O._)([(0,Y.Cb)({type:ie.Z})],me.prototype,"extent",void 0),(0,O._)([(0,ae.r)("extent")],me.prototype,"readExtent",null),(0,O._)([(0,Y.Cb)()],me.prototype,"groupCategories",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"iconUrl",null),(0,O._)([(0,Y.Cb)()],me.prototype,"id",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"isLayer",null),(0,O._)([(0,Y.Cb)({type:Boolean,readOnly:!0})],me.prototype,"isOrgItem",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"itemControl",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"itemPageUrl",null),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"itemUrl",null),(0,O._)([(0,Y.Cb)()],me.prototype,"licenseInfo",void 0),(0,O._)([(0,Y.Cb)({type:Date})],me.prototype,"modified",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"name",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"numComments",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"numRatings",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"numViews",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"owner",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"ownerFolder",void 0),(0,O._)([(0,Y.Cb)({type:te.Z})],me.prototype,"portal",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"screenshots",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"size",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"snippet",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"sourceJSON",void 0),(0,O._)([(0,Y.Cb)({type:String})],me.prototype,"sourceUrl",void 0),(0,O._)([(0,Y.Cb)({type:String})],me.prototype,"spatialReference",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"tags",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"thumbnail",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"thumbnailUrl",null),(0,O._)([(0,Y.Cb)()],me.prototype,"title",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"type",void 0),(0,O._)([(0,Y.Cb)()],me.prototype,"typeKeywords",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{read(le,fe){if(be.has(fe.type)){const Ee=this.portal?.restUrl;le||(le=Ee&&this.id?`${Ee}/content/items/${this.id}/data`:null)}return le}}})],me.prototype,"url",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],me.prototype,"userItemUrl",null),me=pe=(0,O._)([(0,se.j)("esri.portal.PortalItem")],me);const _e=me},6278:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var ae,w=T(17626),O=T(14517),W=T(2076),B=T(58817),k=T(62208),re=T(77712),Z=(T(90912),T(76898)),G=T(2004),Y=T(65234),ne=T(46367);const se=new W.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ie=ae=class extends O.Z{constructor(Q){super(Q),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(Q){"asc"!==Q&&"desc"!==Q||this._set("sortOrder",Q)}clone(){return new ae({categories:this.categories?(0,B.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(Q,V){let U=[];this.categories&&(U=this.categories.map(q=>Array.isArray(q)?JSON.stringify(q):q));let $="";if(this.extent){const q=(0,ne.iV)(this.extent,Y.Z.WGS84);(0,k.pC)(q)&&($=`${q.xmin},${q.ymin},${q.xmax},${q.ymax}`)}let z=this.query;!this.disableExtraQuery&&Q.extraQuery&&(z="("+z+")"+Q.extraQuery);const J={categories:U,bbox:$,q:z,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(J.sortField=this.sortField.split(",").map(q=>se.toJSON(q.trim())).join(","),J.sortOrder=this.sortOrder),{query:{...V,...J}}}};(0,w._)([(0,re.Cb)()],ie.prototype,"categories",void 0),(0,w._)([(0,re.Cb)()],ie.prototype,"disableExtraQuery",void 0),(0,w._)([(0,re.Cb)({type:G.Z})],ie.prototype,"extent",void 0),(0,w._)([(0,re.Cb)()],ie.prototype,"filter",void 0),(0,w._)([(0,re.Cb)()],ie.prototype,"num",void 0),(0,w._)([(0,re.Cb)()],ie.prototype,"query",void 0),(0,w._)([(0,re.Cb)()],ie.prototype,"sortField",void 0),(0,w._)([(0,re.Cb)()],ie.prototype,"sortOrder",null),(0,w._)([(0,re.Cb)()],ie.prototype,"start",void 0),ie=ae=(0,w._)([(0,Z.j)("esri.portal.PortalQueryParams")],ie);const te=ie},94508:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>se});var w=T(17626),O=T(26584),W=T(86810),B=T(77712),ee=(T(90912),T(85931),T(76898));let Z=class extends W.wq{constructor(ie){super(ie),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const ie=this.get("portal.restUrl");return ie?`${ie}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new O.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,w._)([(0,B.Cb)({type:Date})],Z.prototype,"created",void 0),(0,w._)([(0,B.Cb)()],Z.prototype,"id",void 0),(0,w._)([(0,B.Cb)()],Z.prototype,"portal",void 0),(0,w._)([(0,B.Cb)()],Z.prototype,"title",void 0),(0,w._)([(0,B.Cb)({readOnly:!0})],Z.prototype,"url",null),(0,w._)([(0,B.Cb)()],Z.prototype,"username",void 0),Z=(0,w._)([(0,ee.j)("esri.portal.PortalFolder")],Z);const G=Z;var ne,Y=T(96245);let ae=ne=class extends W.wq{constructor(...ie){super(...ie),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const ie=this.url,te=this.thumbnail;return ie&&te?this.portal.normalizeUrl(`${ie}/info/${te}?f=json`):null}get userContentUrl(){const ie=this.get("portal.restUrl");return ie?`${ie}/content/users/${this.username}`:null}get url(){const ie=this.get("portal.restUrl");return ie?`${ie}/community/users/${this.username}`:null}addItem(ie){const te=ie&&ie.item,Q=ie&&ie.data,V=ie&&ie.folder,U={method:"post"};te&&(U.query=te.createPostQuery(),null!=Q&&("string"==typeof Q?U.query.text=Q:"object"==typeof Q&&(U.query.text=JSON.stringify(Q))));let $=this.userContentUrl;return V&&($+="/"+("string"==typeof V?V:V.id)),this.portal.request($+"/addItem",U).then(z=>(te.id=z.id,te.portal=this.portal,te.loaded?te.reload():te.load()))}deleteItem(ie){let te=this.userContentUrl;return ie.ownerFolder&&(te+="/"+ie.ownerFolder),this.portal.request(te+`/items/${ie.id}/delete`,{method:"post"}).then(()=>{ie.id=null,ie.portal=null})}deleteItems(ie){const te=this.userContentUrl+"/deleteItems",Q=ie.map(V=>V.id);if(Q.length){const V={method:"post",query:{items:Q.join(",")}};return this.portal.request(te,V).then(()=>{ie.forEach(U=>{U.id=null,U.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(te=>{let Q;return Q=te&&te.folders?te.folders.map(V=>{const U=G.fromJSON(V);return U.portal=this.portal,U}):[],Q})}fetchGroups(){return this.portal.request(this.url??"").then(ie=>{let te;return te=ie&&ie.groups?ie.groups.map(Q=>{const V=Y.default.fromJSON(Q);return V.portal=this.portal,V}):[],te})}fetchItems(ie){const te=ie??{};let Q,V=this.userContentUrl??"";return te.folder&&(V+="/"+te.folder.id),Promise.resolve().then(T.bind(T,55463)).then(({default:U})=>(Q=U,this.portal.request(V,{query:{folders:!1,num:te.num||10,start:te.start||1,sortField:te.sortField||"created",sortOrder:te.sortOrder||"asc"}}))).then(U=>{let $;return U&&U.items?($=U.items.map(z=>{const J=Q.fromJSON(z);return J.portal=this.portal,J}),Promise.all($.map(z=>z.load())).catch(z=>z).then(()=>({items:$,nextStart:U.nextStart,total:U.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(ie=>ie.tags)}getThumbnailUrl(ie){let te=this.thumbnailUrl;return te&&ie&&(te+=`&w=${ie}`),te}queryFavorites(ie){return this.favGroupId?(this._favGroup||(this._favGroup=new Y.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(ie)):Promise.reject(new O.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new O.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(ie){if(!ie)return null;if(ie.declaredClass)throw new Error("JSON object is already hydrated");const te=new ne;return te.sourceJSON=ie,te.read(ie),te}};(0,w._)([(0,B.Cb)()],ae.prototype,"access",void 0),(0,w._)([(0,B.Cb)({type:Date})],ae.prototype,"created",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"culture",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"description",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"email",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"favGroupId",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"fullName",void 0),(0,w._)([(0,B.Cb)({type:Date})],ae.prototype,"modified",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"orgId",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"portal",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"preferredView",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"privileges",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"region",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"role",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"roleId",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"sourceJSON",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"thumbnail",void 0),(0,w._)([(0,B.Cb)({readOnly:!0})],ae.prototype,"thumbnailUrl",null),(0,w._)([(0,B.Cb)()],ae.prototype,"units",void 0),(0,w._)([(0,B.Cb)({readOnly:!0})],ae.prototype,"userContentUrl",null),(0,w._)([(0,B.Cb)({readOnly:!0})],ae.prototype,"url",null),(0,w._)([(0,B.Cb)()],ae.prototype,"username",void 0),(0,w._)([(0,B.Cb)()],ae.prototype,"userType",void 0),ae=ne=(0,w._)([(0,ee.j)("esri.portal.PortalUser")],ae);const se=ae},37281:(j,F,T)=>{"use strict";T.d(F,{$o:()=>Y,Kz:()=>ae,Ss:()=>se,_$:()=>Z,ck:()=>G,qj:()=>ee});var w=T(15861),O=T(55915),W=T(65234),B=T(46367);function k(ie){return re.apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(ie){const te=ie.spatialReference;if(te.isWGS84)return ie.clone();if(te.isWebMercator)return(0,B.Sx)(ie);const Q=W.Z.WGS84;return yield(0,O.iQ)(te,Q),(0,O.iV)(ie,Q)})).apply(this,arguments)}function ee(ie,te){if(!Z(ie,te)){const Q=ie.typeKeywords;Q?Q.push(te):ie.typeKeywords=[te]}}function Z(ie,te){return!!ie.typeKeywords?.includes(te)}function G(ie,te){const Q=ie.typeKeywords;if(Q){const V=Q.indexOf(te);V>-1&&Q.splice(V,1)}}function Y(ie){return ne.apply(this,arguments)}function ne(){return(ne=(0,w.Z)(function*(ie){const te=ie.clone().normalize();let Q;if(te.length>1)for(const V of te)Q?V.width>Q.width&&(Q=V):Q=V;else Q=te[0];return k(Q)})).apply(this,arguments)}const ae={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};function se(ie){const{portal:te,isOrgItem:Q,itemControl:V}=ie,U=te.user?.privileges;let $=!U||U.includes("features:user:edit"),z=!!Q&&!!U?.includes("features:user:fullEdit");const J="update"===V||"admin"===V;return J?z=$=!0:z&&($=!0),{features:{edit:$,fullEdit:z},content:{updateItem:J}}}},24433:(j,F,T)=>{"use strict";T.d(F,{P:()=>B,a:()=>W});const w=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,O={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function W(k){const re=k?.match(w);if(!re)return null;const[,ee,Z,G]=re;if(!ee)return null;let Y=null,ne=null,ae=null;const{devext:se,qaext:ie,www:te}=O;if(Z)if(Y=ee,G)switch(G.toLowerCase()){case"devext":({customBaseUrl:ne,portalHostname:ae}=se);break;case"qa":({customBaseUrl:ne,portalHostname:ae}=ie);break;default:return null}else({customBaseUrl:ne,portalHostname:ae}=te);else switch(ee.toLowerCase()){case"devext":({customBaseUrl:ne,portalHostname:ae}=se);break;case"qaext":({customBaseUrl:ne,portalHostname:ae}=ie);break;case"www":({customBaseUrl:ne,portalHostname:ae}=te);break;default:return null}return{customBaseUrl:ne,isPortal:!1,portalHostname:ae,urlKey:Y}}function B(k){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(k)}},58926:(j,F,T)=>{"use strict";T.d(F,{v:()=>O});const O=(0,T(2076).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(j,F,T)=>{"use strict";T.d(F,{Z:()=>le});var q,w=T(15861),O=T(17626),W=T(20383),B=T(2076),k=T(58817),re=T(63290),ee=T(62208),Z=T(77712),G=T(66656),Y=T(55342),ne=T(68653),ae=T(76898),se=T(99433),ie=T(90912),te=T(36630),Q=T(69357),V=T(98563),U=T(74400),$=T(76457),z=T(10914),J=T(46679);const pe="percent-of-total",de="field",be=new B.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:pe,esriNormalizeByField:de}),me=(0,ie.se)(U.Z);let _e=q=class extends((0,V.W)(Q.Z)){constructor(fe){super(fe),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(fe,Ee,ye){if(!Array.isArray(fe))return;let ue=Ee.minValue;return fe.map(Me=>{const ce=new U.Z;return ce.read(Me,ye),null==ce.minValue&&(ce.minValue=ue),null==ce.maxValue&&(ce.maxValue=ce.minValue),ue=ce.maxValue,ce})}writeClassBreakInfos(fe,Ee,ye,ue){const Me=fe.map(ce=>ce.write({},ue));this._areClassBreaksConsecutive()&&Me.forEach(ce=>delete ce.classMinValue),Ee[ye]=Me}castField(fe){return null==fe?fe:"function"==typeof fe?(re.Z.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,ie.Zs)(fe)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let fe=this._get("normalizationType");const Ee=!!this.normalizationField,ye=null!=this.normalizationTotal;return Ee||ye?(fe=Ee&&de||ye&&pe||null,Ee&&ye&&re.Z.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!")):fe!==de&&fe!==pe||(fe=null),fe}set normalizationType(fe){this._set("normalizationType",fe)}addClassBreakInfo(fe,Ee,ye){let ue=null;ue="number"==typeof fe?new U.Z({minValue:fe,maxValue:Ee,symbol:(0,W.se)(ye)}):me((0,k.d9)(fe)),this.classBreakInfos.push(ue),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(fe,Ee){const ye=this.classBreakInfos.length;for(let ue=0;ue<ye;ue++){const Me=[this.classBreakInfos[ue].minValue,this.classBreakInfos[ue].maxValue];if(Me[0]===fe&&Me[1]===Ee){this.classBreakInfos.splice(ue,1);break}}}getBreakIndex(fe,Ee){return this.valueExpression&&((0,ee.Wi)(Ee)||(0,ee.Wi)(Ee.arcade))&&re.Z.getLogger(this.declaredClass).warn(""),this.valueExpression?this._getBreakIndexForExpression(fe,Ee):this._getBreakIndexForField(fe)}getClassBreakInfo(fe,Ee){var ye=this;return(0,w.Z)(function*(){let ue=Ee;ye.valueExpression&&((0,ee.Wi)(Ee)||(0,ee.Wi)(Ee.arcade))&&(ue={...ue,arcade:yield(0,J.LC)()});const Me=ye.getBreakIndex(fe,ue);return-1!==Me?ye.classBreakInfos[Me]:null})()}getSymbol(fe,Ee){if(this.valueExpression&&((0,ee.Wi)(Ee)||(0,ee.Wi)(Ee.arcade)))return void re.Z.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const ye=this.getBreakIndex(fe,Ee);return ye>-1?this.classBreakInfos[ye].symbol:this.defaultSymbol}getSymbolAsync(fe,Ee){var ye=this;return(0,w.Z)(function*(){let ue=Ee;if(ye.valueExpression&&((0,ee.Wi)(Ee)||(0,ee.Wi)(Ee.arcade))){const ce=yield(0,J.LC)(),{arcadeUtils:ge}=ce;ge.hasGeometryOperations(ye.valueExpression)&&(yield ge.enableGeometryOperations()),ue={...ue,arcade:ce}}const Me=ye.getBreakIndex(fe,ue);return Me>-1?ye.classBreakInfos[Me].symbol:ye.defaultSymbol})()}getSymbols(){const fe=[];return this.classBreakInfos.forEach(Ee=>{Ee.symbol&&fe.push(Ee.symbol)}),this.defaultSymbol&&fe.push(this.defaultSymbol),fe}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((fe,Ee)=>fe+Ee.getAttributeHash(),"")}getMeshHash(){const fe=JSON.stringify(this.backgroundFillSymbol),Ee=JSON.stringify(this.defaultSymbol),ye=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${fe}.${Ee}.${this.classBreakInfos.reduce((ue,Me)=>ue+Me.getMeshHash(),"")}.${ye}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new q({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,k.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,k.d9)(this.visualVariables),legendOptions:(0,k.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(fe,Ee){var ye=this;return(0,w.Z)(function*(){const ue=[ye.collectVVRequiredFields(fe,Ee),ye.collectSymbolFields(fe,Ee)];yield Promise.all(ue)})()}collectSymbolFields(fe,Ee){var ye=this;return(0,w.Z)(function*(){const ue=[...ye.getSymbols().map(Me=>Me.collectRequiredFields(fe,Ee)),(0,te.io)(fe,Ee,ye.valueExpression)];(0,te.AB)(fe,Ee,ye.field),(0,te.AB)(fe,Ee,ye.normalizationField),yield Promise.all(ue)})()}_getBreakIndexForExpression(fe,Ee){const{viewingMode:ye,scale:ue,spatialReference:Me,arcade:ce}=(0,ee.Pt)(Ee,{}),{valueExpression:ge}=this;let Pe=this._compiledValueExpression.valueExpression===ge?this._compiledValueExpression.compiledFunction:null;const Ie=(0,ee.Wg)(ce).arcadeUtils;if(!Pe){const Ce=Ie.createSyntaxTree(ge);Pe=Ie.createFunction(Ce),this._compiledValueExpression.compiledFunction=Pe}this._compiledValueExpression.valueExpression=ge;const Re=Ie.executeFunction(Pe,Ie.createExecContext(fe,Ie.getViewInfo({viewingMode:ye,scale:ue,spatialReference:Me})));return this._getBreakIndexfromInfos(Re)}_getBreakIndexForField(fe){const ye=fe.attributes,ue=this.normalizationType;let Me=parseFloat(ye[this.field]);if(ue){const ce=this.normalizationTotal,ge=parseFloat(this.normalizationField?ye[this.normalizationField]:void 0);if("log"===ue)Me=Math.log(Me)*Math.LOG10E;else if(ue!==pe||null==ce||isNaN(ce)){if(ue===de&&!isNaN(ge)){if(isNaN(Me)||isNaN(ge))return-1;Me/=ge}}else Me=Me/ce*100}return this._getBreakIndexfromInfos(Me)}_getBreakIndexfromInfos(fe){const Ee=this.isMaxInclusive;if(null!=fe&&"number"==typeof fe&&!isNaN(fe))for(let ye=0;ye<this.classBreakInfos.length;ye++){const ue=[this.classBreakInfos[ye].minValue,this.classBreakInfos[ye].maxValue];if(ue[0]<=fe&&(Ee?fe<=ue[1]:fe<ue[1]))return ye}return-1}_areClassBreaksConsecutive(){const fe=this.classBreakInfos,Ee=fe.length;for(let ye=1;ye<Ee;ye++)if(fe[ye-1].maxValue!==fe[ye].minValue)return!1;return!0}};(0,O._)([(0,Z.Cb)($.KK)],_e.prototype,"backgroundFillSymbol",void 0),(0,O._)([(0,Z.Cb)({type:[U.Z]})],_e.prototype,"classBreakInfos",void 0),(0,O._)([(0,ne.r)("classBreakInfos")],_e.prototype,"readClassBreakInfos",null),(0,O._)([(0,se.c)("classBreakInfos")],_e.prototype,"writeClassBreakInfos",null),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"defaultLabel",void 0),(0,O._)([(0,Z.Cb)($.Gn)],_e.prototype,"defaultSymbol",void 0),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"field",void 0),(0,O._)([(0,G.p)("field")],_e.prototype,"castField",null),(0,O._)([(0,Z.Cb)({type:Boolean})],_e.prototype,"isMaxInclusive",void 0),(0,O._)([(0,Z.Cb)({type:z.I,json:{write:!0}})],_e.prototype,"legendOptions",void 0),(0,O._)([(0,Z.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],_e.prototype,"minValue",null),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"normalizationField",void 0),(0,O._)([(0,Z.Cb)({type:Number,cast:fe=>(0,ie.q9)(fe),json:{write:!0}})],_e.prototype,"normalizationTotal",void 0),(0,O._)([(0,Z.Cb)({type:be.apiValues,value:null,json:{type:be.jsonValues,read:be.read,write:be.write}})],_e.prototype,"normalizationType",null),(0,O._)([(0,Y.J)({classBreaks:"class-breaks"})],_e.prototype,"type",void 0),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"valueExpression",void 0),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"valueExpressionTitle",void 0),_e=q=(0,O._)([(0,ae.j)("esri.renderers.ClassBreaksRenderer")],_e);const le=_e},49067:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var ae,w=T(15861),O=T(17626),W=T(58817),B=T(77712),re=(T(90912),T(76898)),ee=T(99433),Z=T(36630),G=T(69357),Y=T(98563),ne=T(29996);let se=ae=class extends((0,Y.W)(G.Z)){constructor(te){super(te),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new ne.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(te,Q){te&&(Q.scalingExpressionInfo={expression:te,returnType:"number"})}writeVisualVariables(te,Q,V,U){U?.origin||super.writeVisualVariables(te,Q,V,U)}clone(){return new ae({config:(0,W.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,W.d9)(this.fieldMap),url:(0,W.d9)(this.url),visualVariables:(0,W.d9)(this.visualVariables)})}getSymbolAsync(te,Q){var V=this;return(0,w.Z)(function*(){return V._loader.getSymbolAsync(te,Q)})()}collectRequiredFields(te,Q){var V=this;return(0,w.Z)(function*(){yield V.collectVVRequiredFields(te,Q),V.scaleExpression&&(yield(0,Z.io)(te,Q,V.scaleExpression));for(const U in V.fieldMap){const $=V.fieldMap[U];Q.has($)&&te.add($)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((te,Q)=>te+Q.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,O._)([(0,B.Cb)({type:ne.DictionaryLoader})],se.prototype,"_loader",null),(0,O._)([(0,B.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],se.prototype,"config",void 0),(0,O._)([(0,B.Cb)({type:Object,json:{write:!0}})],se.prototype,"fieldMap",void 0),(0,O._)([(0,B.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],se.prototype,"scaleExpression",void 0),(0,O._)([(0,ee.c)("scaleExpression")],se.prototype,"writeData",null),(0,O._)([(0,B.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(te){return{enabled:!!te&&!!this.scaleExpression}}}}})],se.prototype,"scaleExpressionTitle",void 0),(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],se.prototype,"url",void 0),(0,O._)([(0,ee.c)("visualVariables")],se.prototype,"writeVisualVariables",null),se=ae=(0,O._)([(0,re.j)("esri.renderers.DictionaryRenderer")],se);const ie=se},96794:(j,F,T)=>{"use strict";T.d(F,{Z:()=>q});var te,w=T(15861),O=T(17626),W=T(91558),B=T(58817),k=T(77712),ee=(T(90912),T(55342)),Z=T(76898),G=T(36630),Y=T(69357),ne=T(98563),ae=T(41832),se=T(86810);T(85931);let Q=te=class extends se.wq{constructor(){super(...arguments),this.unit=null}clone(){return new te({unit:this.unit})}};(0,O._)([(0,k.Cb)({type:String,json:{write:!0}})],Q.prototype,"unit",void 0),Q=te=(0,O._)([(0,Z.j)("esri.renderers.support.DotDensityLegendOptions")],Q);const V=Q;var z,U=T(88493),$=T(52068);let J=z=class extends((0,ne.W)(Y.Z)){constructor(oe){super(oe),this.attributes=null,this.backgroundColor=new W.Z([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new $.Z,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(oe){if(null==this.referenceScale)return this.dotValue;const pe=oe/this.referenceScale*this.dotValue;return pe<1?1:pe}getSymbol(){return new U.Z({outline:this.outline})}getSymbolAsync(){var oe=this;return(0,w.Z)(function*(){return oe.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((oe,pe)=>oe+pe.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new z({attributes:(0,B.d9)(this.attributes),backgroundColor:(0,B.d9)(this.backgroundColor),dotBlendingEnabled:(0,B.d9)(this.dotBlendingEnabled),dotShape:(0,B.d9)(this.dotShape),dotSize:(0,B.d9)(this.dotSize),dotValue:(0,B.d9)(this.dotValue),legendOptions:(0,B.d9)(this.legendOptions),outline:(0,B.d9)(this.outline),referenceScale:(0,B.d9)(this.referenceScale),visualVariables:(0,B.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes?.map(pe=>pe.field||pe.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(oe,pe){var de=this;return(0,w.Z)(function*(){yield de.collectVVRequiredFields(oe,pe);for(const be of de.attributes??[])be.valueExpression&&(yield(0,G.io)(oe,pe,be.valueExpression)),be.field&&oe.add(be.field)})()}};(0,O._)([(0,k.Cb)({type:[ae.Z],json:{write:!0}})],J.prototype,"attributes",void 0),(0,O._)([(0,k.Cb)({type:W.Z,json:{write:!0}})],J.prototype,"backgroundColor",void 0),(0,O._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"dotBlendingEnabled",void 0),(0,O._)([(0,k.Cb)({type:String,json:{write:!1}})],J.prototype,"dotShape",void 0),(0,O._)([(0,k.Cb)({type:Number,json:{write:!0}})],J.prototype,"dotSize",void 0),(0,O._)([(0,k.Cb)({type:V,json:{write:!0}})],J.prototype,"legendOptions",void 0),(0,O._)([(0,k.Cb)({type:$.Z,json:{default:null,write:!0}})],J.prototype,"outline",void 0),(0,O._)([(0,k.Cb)({type:Number,json:{write:!0}})],J.prototype,"dotValue",void 0),(0,O._)([(0,k.Cb)({type:Number,json:{write:!0}})],J.prototype,"referenceScale",void 0),(0,O._)([(0,k.Cb)({type:Number,json:{write:!0}})],J.prototype,"seed",void 0),(0,O._)([(0,ee.J)({dotDensity:"dot-density"})],J.prototype,"type",void 0),J=z=(0,O._)([(0,Z.j)("esri.renderers.DotDensityRenderer")],J);const q=J},69747:(j,F,T)=>{"use strict";T.d(F,{Z:()=>fe});var w=T(15861),O=T(17626),W=T(91558),k=(T(20383),T(55538)),re=T(58817),ee=T(63290),Z=T(50618),G=T(23841),Y=T(77712),ae=(T(90912),T(52323)),se=T(55342),ie=T(76898),te=T(36630),Q=T(69357),V=T(15312),U=T(52372),$=T(79608),z=T(86810);T(85931);let q=class extends((0,$.J)(z.wq)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],q.prototype,"minLabel",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],q.prototype,"maxLabel",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],q.prototype,"title",void 0),q=(0,O._)([(0,ie.j)("esri.renderers.support.HeatmapLegendOptions")],q);var de,oe=T(36859),pe=T(57213);const be="esri.renderers.HeatmapRenderer",me=ee.Z.getLogger(be);function _e(Ee){if(null!=Ee){const{maxDensity:ye,minDensity:ue,radius:Me}=Ee;if(null!=ye||null!=ue||null!=Me){const{blurRadius:ce,maxPixelIntensity:ge,minPixelIntensity:Pe,...Ie}=Ee;return Ie}}return Ee}let le=de=class extends Q.Z{constructor(Ee){super(Ee),this.authoringInfo=null,this.colorStops=[new U.Z({ratio:0,color:new W.Z("rgba(255, 140, 0, 0)")}),new U.Z({ratio:.75,color:new W.Z("rgba(255, 140, 0, 1)")}),new U.Z({ratio:.9,color:new W.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(Ee){return _e(Ee)}get blurRadius(){return(0,oe.AJ)(this.radius)}set blurRadius(Ee){const ye=this.maxPixelIntensity,ue=this.minPixelIntensity;this._set("radius",(0,oe.k0)(Ee)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",ye*this._pixelIntensityToDensity),this._set("minDensity",ue*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(Ee){this._set("maxDensity",Ee*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(Ee){this._set("minDensity",Ee*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(oe.nu**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(Ee,ye){this._warnedProps[Ee]||"user"===(0,ae.vw)(this).getDefaultOrigin()&&(this._warnedProps[Ee]=!0,(0,Z.Os)(()=>{(0,k.Mr)(me,Ee,{replacement:`${String(ye)} (suggested value: ${this._get(ye)})`,version:"4.24"})}))}read(Ee,ye){Ee=_e(Ee),super.read(Ee,ye)}getSymbol(){return new pe.Z}getSymbolAsync(){var Ee=this;return(0,w.Z)(function*(){return Ee.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(Ee,ye){var ue=this;return(0,w.Z)(function*(){const Me=ue.field,ce=ue.valueExpression;Me&&"string"==typeof Me&&(yield(0,te.AB)(Ee,ye,Me)),ce&&"string"==typeof ce&&(yield(0,te.io)(Ee,ye,ce))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new de({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,re.d9)(this.colorStops),field:this.field,legendOptions:(0,re.d9)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,O._)([(0,Y.Cb)({type:V.Z,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],le.prototype,"authoringInfo",void 0),(0,O._)([(0,Y.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],le.prototype,"blurRadius",null),(0,O._)([(0,Y.Cb)({type:[U.Z],json:{write:!0}})],le.prototype,"colorStops",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],le.prototype,"field",void 0),(0,O._)([(0,Y.Cb)({type:Number,json:{write:{overridePolicy:(Ee,ye,ue)=>({enabled:null==ue})},origins:{"web-scene":{write:!1}}}})],le.prototype,"fieldOffset",void 0),(0,O._)([(0,Y.Cb)({type:q,json:{write:!0}})],le.prototype,"legendOptions",void 0),(0,O._)([(0,Y.Cb)({type:Number,json:{write:!0}})],le.prototype,"maxDensity",void 0),(0,O._)([(0,Y.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],le.prototype,"maxPixelIntensity",null),(0,O._)([(0,Y.Cb)({type:Number,json:{write:!0}})],le.prototype,"minDensity",void 0),(0,O._)([(0,Y.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],le.prototype,"minPixelIntensity",null),(0,O._)([(0,Y.Cb)({type:Number,cast:G.t_,json:{write:!0}})],le.prototype,"radius",void 0),(0,O._)([(0,Y.Cb)({type:Number,range:{min:0},json:{default:0,write:!0}})],le.prototype,"referenceScale",void 0),(0,O._)([(0,se.J)({heatmap:"heatmap"})],le.prototype,"type",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],le.prototype,"valueExpression",void 0),(0,O._)([(0,Y.Cb)({type:String})],le.prototype,"valueExpressionTitle",void 0),(0,O._)([(0,Y.Cb)({readOnly:!0})],le.prototype,"_pixelIntensityToDensity",null),le=de=(0,O._)([(0,ie.j)(be)],le);const fe=le},40425:(j,F,T)=>{"use strict";T.d(F,{Z:()=>pe});var w=T(15861),O=T(17626),W=T(91558),k=(T(20383),T(79608)),re=T(62208),ee=T(23841),Z=T(77712),ne=(T(90912),T(85931),T(55342)),ae=T(76898),se=T(36630),ie=T(69357),te=T(98563),Q=T(41832),V=T(86810);let U=class extends((0,k.J)(V.wq)){constructor(){super(...arguments),this.color=new W.Z([0,0,0,0]),this.label=null,this.threshold=0}};(0,O._)([(0,Z.Cb)({type:W.Z,json:{write:!0}})],U.prototype,"color",void 0),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],U.prototype,"label",void 0),(0,O._)([(0,Z.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],U.prototype,"threshold",void 0),U=(0,O._)([(0,ae.j)("esri.renderers.support.OthersCategory")],U);let $=class extends((0,k.J)(V.wq)){constructor(){super(...arguments),this.title=null}};(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],$.prototype,"title",void 0),$=(0,O._)([(0,ae.j)("esri.renderers.support.PieChartLegendOptions")],$);var z=T(57213),J=T(88493),q=T(52068);let oe=class extends((0,te.W)((0,k.J)(ie.Z))){constructor(de){super(de),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new W.Z([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new U,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new z.Z({size:this.size?this.size/2+(this.outline?.width||0):0})}getSymbolAsync(){var de=this;return(0,w.Z)(function*(){return de.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(re.pC)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((de,be)=>de+be.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((de,be)=>de+JSON.stringify(be),"")}collectRequiredFields(de,be){var me=this;return(0,w.Z)(function*(){yield me.collectVVRequiredFields(de,be);for(const _e of me.attributes)_e.valueExpression&&(yield(0,se.io)(de,be,_e.valueExpression)),_e.field&&de.add(_e.field)})()}};(0,O._)([(0,Z.Cb)({type:[Q.Z],json:{write:!0}})],oe.prototype,"attributes",void 0),(0,O._)([(0,Z.Cb)({type:J.Z,json:{default:null,write:!0}})],oe.prototype,"backgroundFillSymbol",void 0),(0,O._)([(0,Z.Cb)({type:W.Z,json:{write:!0}})],oe.prototype,"defaultColor",void 0),(0,O._)([(0,Z.Cb)({type:String,json:{write:!0}})],oe.prototype,"defaultLabel",void 0),(0,O._)([(0,Z.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],oe.prototype,"holePercentage",void 0),(0,O._)([(0,Z.Cb)({type:U,json:{write:!0}})],oe.prototype,"othersCategory",void 0),(0,O._)([(0,Z.Cb)({type:$,json:{write:!0}})],oe.prototype,"legendOptions",void 0),(0,O._)([(0,Z.Cb)({type:q.Z,json:{default:null,write:!0}})],oe.prototype,"outline",void 0),(0,O._)([(0,Z.Cb)({type:Number,cast:ee.t_,json:{write:!0}})],oe.prototype,"size",void 0),(0,O._)([(0,ne.J)({pieChart:"pie-chart"})],oe.prototype,"type",void 0),oe=(0,O._)([(0,ae.j)("esri.renderers.PieChartRenderer")],oe);const pe=oe},69357:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var w=T(15861),O=T(17626),W=T(2076),B=T(86810),k=T(77712),Z=(T(90912),T(85931),T(76898)),G=T(15312);const Y=new W.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let ne=class extends B.wq{constructor(se){super(se),this.authoringInfo=null,this.type=null}getRequiredFields(se){var ie=this;return(0,w.Z)(function*(){if(!ie.collectRequiredFields)return[];const te=new Set;return yield ie.collectRequiredFields(te,se),Array.from(te).sort()})()}getSymbol(se,ie){}getSymbolAsync(se,ie){return(0,w.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,O._)([(0,k.Cb)({type:G.Z,json:{write:!0}})],ne.prototype,"authoringInfo",void 0),(0,O._)([(0,k.Cb)({type:Y.apiValues,readOnly:!0,json:{type:Y.jsonValues,read:!1,write:{writer:Y.write,ignoreOrigin:!0}}})],ne.prototype,"type",void 0),ne=(0,O._)([(0,Z.j)("esri.renderers.Renderer")],ne);const ae=ne},40342:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var ne,w=T(15861),O=T(17626),W=T(58817),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(69357),G=T(98563),Y=T(76457);let ae=ne=class extends((0,G.W)(Z.Z)){constructor(ie){super(ie),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(ie,te){var Q=this;return(0,w.Z)(function*(){yield Promise.all([Q.collectSymbolFields(ie,te),Q.collectVVRequiredFields(ie,te)])})()}collectSymbolFields(ie,te){var Q=this;return(0,w.Z)(function*(){yield Promise.all(Q.getSymbols().map(V=>V.collectRequiredFields(ie,te)))})()}getSymbol(ie,te){return this.symbol}getSymbolAsync(ie,te){var Q=this;return(0,w.Z)(function*(){return Q.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ie,te)=>ie+te.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((ie,te)=>ie+JSON.stringify(te),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new ne({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,W.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"description",void 0),(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"label",void 0),(0,O._)([(0,B.Cb)(Y.Gn)],ae.prototype,"symbol",void 0),(0,O._)([(0,re.J)({simple:"simple"})],ae.prototype,"type",void 0),ae=ne=(0,O._)([(0,ee.j)("esri.renderers.SimpleRenderer")],ae);const se=ae},73640:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Ye});var w=T(15861),O=T(17626),W=T(20383),B=T(26584),k=T(58817),re=T(63290),ee=T(62208),Z=T(94113),G=T(32917),Y=T(77712),ne=T(66656),ae=T(55342),se=T(68653),ie=T(76898),te=T(99433),Q=T(84682),V=T(90912),U=T(36630),$=T(84687),z=T(69357),J=T(98563),q=T(76457),oe=T(10914),pe=T(79608),de=T(86810);T(85931);let me=class extends((0,pe.J)(de.wq)){constructor(xe){super(xe),this.value=null,this.value2=null,this.value3=null}};(0,O._)([(0,Y.Cb)(q.GY)],me.prototype,"value",void 0),(0,O._)([(0,Y.Cb)(q.GY)],me.prototype,"value2",void 0),(0,O._)([(0,Y.Cb)(q.GY)],me.prototype,"value3",void 0),me=(0,O._)([(0,ie.j)("esri.renderers.support.UniqueValue")],me);const _e=me;let le=class extends((0,pe.J)(de.wq)){constructor(xe){super(xe),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(xe){if(null==xe)return null;const We=typeof(xe=Array.isArray(xe)?xe:[xe])[0];return"string"===We||"number"===We?xe.map(Qe=>new _e({value:Qe})):"object"===We?xe[0]instanceof _e?xe:xe.map(Qe=>new _e(Qe)):null}};(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],le.prototype,"description",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],le.prototype,"label",void 0),(0,O._)([(0,Y.Cb)(q.Gn)],le.prototype,"symbol",void 0),(0,O._)([(0,Y.Cb)({type:[_e],json:{type:[[String]],read:{reader:xe=>xe?xe.map(We=>new _e({value:We[0],value2:We[1],value3:We[2]})):null},write:{writer:(xe,We)=>{const Qe=[];for(const lt of xe){const ve=[lt.value,lt.value2,lt.value3].filter(ee.pC).map(Te=>Te.toString());Qe.push(ve)}We.values=Qe}}}})],le.prototype,"values",void 0),(0,O._)([(0,ne.p)("values")],le.prototype,"castValues",null),le=(0,O._)([(0,ie.j)("esri.renderers.support.UniqueValueClass")],le);const fe=le;let Ee=class extends((0,pe.J)(de.wq)){constructor(xe){super(xe),this.heading=null,this.classes=null}};(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],Ee.prototype,"heading",void 0),(0,O._)([(0,Y.Cb)({type:[fe],json:{write:!0}})],Ee.prototype,"classes",void 0),Ee=(0,O._)([(0,ie.j)("esri.renderers.support.UniqueValueGroup")],Ee);const ye=Ee;var Ie,ue=T(87266),Me=T(46679),ce=T(29840),ge=T(71937),Pe=T(12874);const Re="esri.renderers.UniqueValueRenderer",Ce=re.Z.getLogger(Re),Fe="uvInfos-watcher",Ne="uvGroups-watcher",Oe=(0,V.se)(ue.Z);let ke=Ie=class extends((0,J.W)(z.Z)){constructor(xe){super(xe),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(We,Qe){if(!We&&!Qe)return;if(!We||!Qe)return{type:"complete",oldValue:We,newValue:Qe};let lt=!1;const ve={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let Te=0;Te<Qe.length;Te++){const Be=We.find(Ge=>Ge.value===Qe[Te].value);Be?(0,Q.Hg)(Be,Qe[Te])?(ve.changed.push({type:"complete",oldValue:Be,newValue:Qe[Te]}),lt=!0):ve.unchanged.push({oldValue:Be,newValue:Qe[Te]}):(ve.added.push(Qe[Te]),lt=!0)}for(let Te=0;Te<We.length;Te++)Qe.find(Be=>Be.value===We[Te].value)||(ve.removed.push(We[Te]),lt=!0);return lt?ve:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(xe){this._set("field",xe),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(xe){return null==xe||"function"==typeof xe?xe:(0,V.Zs)(xe)}writeField(xe,We,Qe,lt){"string"==typeof xe?We[Qe]=xe:lt&&lt.messages?lt.messages.push(new B.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Ce.error(".field: cannot write field to JSON since it's not a string value")}set field2(xe){this._set("field2",xe),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(xe){this._set("field3",xe),this._updateUniqueValues()}set valueExpression(xe){this._set("valueExpression",xe),this._updateUniqueValues()}set defaultSymbol(xe){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",xe)}set fieldDelimiter(xe){this._set("fieldDelimiter",xe),this._updateUniqueValues()}readPortal(xe,We,Qe){return Qe.portal||$.Z.getDefault()}readStyleOrigin(xe,We,Qe){if(We.styleName)return Object.freeze({styleName:We.styleName});if(We.styleUrl){const lt=(0,ce.f)(We.styleUrl,Qe);return Object.freeze({styleUrl:lt})}}writeStyleOrigin(xe,We,Qe,lt){xe.styleName?We.styleName=xe.styleName:xe.styleUrl&&(We.styleUrl=(0,ce.t)(xe.styleUrl,lt))}set uniqueValueGroups(xe){this.styleOrigin?Ce.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",xe),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(xe){this.styleOrigin?Ce.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",xe),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(xe,We){if(this.styleOrigin)return void Ce.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let Qe;Qe="object"==typeof xe?Oe(xe):new ue.Z({value:xe,symbol:(0,W.se)(We)}),this.uniqueValueInfos?.push(Qe),this._valueInfoMap[Qe.value]=Qe,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(xe){if(this.styleOrigin)return void Ce.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const We=this.uniqueValueInfos;if(We)for(let Qe=0;Qe<We.length;Qe++)if(We[Qe].value===xe+""){delete this._valueInfoMap[xe],We.splice(Qe,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(xe,We){var Qe=this;return(0,w.Z)(function*(){let lt=We;return Qe.valueExpression&&((0,ee.Wi)(We)||(0,ee.Wi)(We.arcade))&&(lt={...lt,arcade:yield(0,Me.LC)()}),Qe._getUniqueValueInfo(xe,lt)})()}getSymbol(xe,We){if(this.valueExpression&&((0,ee.Wi)(We)||(0,ee.Wi)(We.arcade)))return void Ce.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const Qe=this._getUniqueValueInfo(xe,We);return Qe&&Qe.symbol||this.defaultSymbol}getSymbolAsync(xe,We){var Qe=this;return(0,w.Z)(function*(){let lt=We;if(Qe.valueExpression&&((0,ee.Wi)(lt)||(0,ee.Wi)(lt.arcade))){const Te=yield(0,Me.LC)(),{arcadeUtils:Be}=Te;Be.hasGeometryOperations(Qe.valueExpression)&&(yield Be.enableGeometryOperations()),lt={...lt,arcade:Te}}const ve=Qe._getUniqueValueInfo(xe,lt);return ve&&ve.symbol||Qe.defaultSymbol})()}getSymbols(){const xe=[];for(const We of this.uniqueValueInfos??[])We.symbol&&xe.push(We.symbol);return this.defaultSymbol&&xe.push(this.defaultSymbol),xe}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((xe,We)=>xe+We.getAttributeHash(),"")}getMeshHash(){const xe=JSON.stringify(this.backgroundFillSymbol),We=JSON.stringify(this.defaultSymbol),Qe=this.uniqueValueInfos?.reduce((lt,ve)=>lt+ve.getMeshHash(),"");return`${xe}.${We}.${Qe}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const xe=new Ie({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,k.d9)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,k.d9)(this.visualVariables),legendOptions:(0,k.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,k.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(xe._isDefaultSymbolDerived=!0),xe._set("portal",this.portal);const We=(0,k.d9)(this.uniqueValueInfos),Qe=(0,k.d9)(this.uniqueValueGroups);return this.styleOrigin&&(xe._set("styleOrigin",Object.freeze((0,k.d9)(this.styleOrigin))),Object.freeze(We),Object.freeze(Qe)),xe._set("uniqueValueInfos",We),xe._updateValueInfoMap(),xe._set("uniqueValueGroups",Qe),xe._isInfosSource=this._isInfosSource,xe._watchUniqueValueInfosAndGroups(),xe}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(xe,We){var Qe=this;return(0,w.Z)(function*(){const lt=[Qe.collectVVRequiredFields(xe,We),Qe.collectSymbolFields(xe,We)];yield Promise.all(lt)})()}collectSymbolFields(xe,We){var Qe=this;return(0,w.Z)(function*(){const lt=[...Qe.getSymbols().map(ve=>ve.collectRequiredFields(xe,We)),(0,U.io)(xe,We,Qe.valueExpression)];(0,U.AB)(xe,We,Qe.field),(0,U.AB)(xe,We,Qe.field2),(0,U.AB)(xe,We,Qe.field3),yield Promise.all(lt)})()}populateFromStyle(){return(0,ge.n2)(this.styleOrigin,{portal:this.portal}).then(xe=>{const We=[];return this._valueInfoMap={},xe&&xe.data&&Array.isArray(xe.data.items)&&xe.data.items.forEach(Qe=>{const lt=new Pe.Z({styleUrl:xe.styleUrl,styleName:xe.styleName,portal:this.portal,name:Qe.name});this.defaultSymbol||Qe.name!==xe.data.defaultItem||(this.defaultSymbol=lt,this._isDefaultSymbolDerived=!0);const ve=new ue.Z({value:Qe.name,symbol:lt});We.push(ve),this._valueInfoMap[Qe.name]=ve}),this._set("uniqueValueInfos",Object.freeze(We)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:xe}=this;if(xe)for(const We of xe)this._valueInfoMap[We.value+""]=We}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(Fe);const{uniqueValueInfos:xe}=this;if(xe){const We=[];for(const Qe of xe)We.push((0,G.YP)(()=>({symbol:Qe.symbol,value:Qe.value,label:Qe.label,description:Qe.description}),(lt,ve)=>{lt!==ve&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(We,Fe)}}_watchUniqueValueGroups(){this.removeHandles(Ne);const{uniqueValueGroups:xe}=this;if(xe){const We=[];for(const Qe of xe){We.push((0,G.YP)(()=>({classes:Qe.classes}),(lt,ve)=>{lt!==ve&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const lt of Qe.classes??[])We.push((0,G.YP)(()=>({symbol:lt.symbol,values:lt.values,label:lt.label,description:lt.description}),(ve,Te)=>{ve!==Te&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(We,Ne)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const xe=[],{field:We,field2:Qe,field3:lt,fieldDelimiter:ve,uniqueValueGroups:Te,valueExpression:Be}=this;if(!We&&!Be)return this._set("uniqueValueInfos",xe),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Ge=!(!We||!Qe);for(const $e of Te)for(const Xe of $e.classes??[]){const{symbol:at,label:we,values:tt,description:pt}=Xe;for(const Pt of tt??[]){const{value:mt,value2:St,value3:ut}=Pt,_t=[mt];Qe&&_t.push(St),lt&&_t.push(ut);const Ct=Ge?_t.join(ve||""):_t[0];xe.push(new ue.Z({symbol:at,label:we,value:Ct,description:pt}))}}this._set("uniqueValueInfos",xe),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(xe=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:We,field2:Qe,valueExpression:lt,fieldDelimiter:ve,uniqueValueInfos:Te}=this;if(!We&&!lt||!Te.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const Be=!(!We||!Qe),Ge=Te.map(Xe=>{const{symbol:at,label:we,value:tt,description:pt}=Xe,[Pt,mt,St]=Be?tt?.toString()?.split(ve||"")||[]:[tt];return new fe({symbol:at,label:we,description:pt,values:[new _e({value:Pt,value2:mt,value3:St})]})}),$e=[new ye({classes:Ge})];xe&&Object.freeze($e),this._set("uniqueValueGroups",$e),this._watchUniqueValueGroups()}_getUniqueValueInfo(xe,We){return this.valueExpression?this._getUnqiueValueInfoForExpression(xe,We):this._getUnqiueValueInfoForFields(xe)}_getUnqiueValueInfoForExpression(xe,We){const{viewingMode:Qe,scale:lt,spatialReference:ve,arcade:Te}=(0,ee.Pt)(We,{});let Be=this._cache.compiledFunc;const Ge=(0,ee.Wg)(Te).arcadeUtils;if(!Be){const Xe=Ge.createSyntaxTree(this.valueExpression);Be=Ge.createFunction(Xe),this._cache.compiledFunc=Be}const $e=Ge.executeFunction(Be,Ge.createExecContext(xe,Ge.getViewInfo({viewingMode:Qe,scale:lt,spatialReference:ve})));return this._valueInfoMap[$e+""]}_getUnqiueValueInfoForFields(xe){const We=this.field,Qe=xe.attributes;let lt;if("function"!=typeof We&&this.field2){const ve=this.field2,Te=this.field3,Be=[];We&&Be.push(Qe[We]),ve&&Be.push(Qe[ve]),Te&&Be.push(Qe[Te]),lt=Be.join(this.fieldDelimiter||"")}else"function"==typeof We?lt=We(xe):We&&(lt=Qe[We]);return this._valueInfoMap[lt+""]}static fromPortalStyle(xe,We){const Qe=new Ie(We&&We.properties);Qe._set("styleOrigin",Object.freeze({styleName:xe})),Qe._set("portal",We&&We.portal||$.Z.getDefault());const lt=Qe.populateFromStyle();return lt.catch(ve=>{Ce.error(`#fromPortalStyle('${xe}'[, ...])`,"Failed to create unique value renderer from style name",ve)}),lt}static fromStyleUrl(xe,We){const Qe=new Ie(We&&We.properties);Qe._set("styleOrigin",Object.freeze({styleUrl:xe}));const lt=Qe.populateFromStyle();return lt.catch(ve=>{Ce.error(`#fromStyleUrl('${xe}'[, ...])`,"Failed to create unique value renderer from style URL",ve)}),lt}};(0,O._)([(0,Y.Cb)({readOnly:!0})],ke.prototype,"_cache",null),(0,O._)([(0,ae.J)({uniqueValue:"unique-value"})],ke.prototype,"type",void 0),(0,O._)([(0,Y.Cb)(q.KK)],ke.prototype,"backgroundFillSymbol",void 0),(0,O._)([(0,Y.Cb)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],ke.prototype,"field",null),(0,O._)([(0,ne.p)("field")],ke.prototype,"castField",null),(0,O._)([(0,te.c)("field")],ke.prototype,"writeField",null),(0,O._)([(0,Y.Cb)({type:String,value:null,json:{write:!0}})],ke.prototype,"field2",null),(0,O._)([(0,Y.Cb)({type:String,value:null,json:{write:!0}})],ke.prototype,"field3",null),(0,O._)([(0,Y.Cb)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],ke.prototype,"orderByClassesEnabled",void 0),(0,O._)([(0,Y.Cb)({type:String,value:null,json:{write:!0}})],ke.prototype,"valueExpression",null),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],ke.prototype,"valueExpressionTitle",void 0),(0,O._)([(0,Y.Cb)({type:oe.I,json:{write:!0}})],ke.prototype,"legendOptions",void 0),(0,O._)([(0,Y.Cb)({type:String,json:{write:!0}})],ke.prototype,"defaultLabel",void 0),(0,O._)([(0,Y.Cb)((0,Z.RH)({...q.Gn},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],ke.prototype,"defaultSymbol",null),(0,O._)([(0,Y.Cb)({type:String,value:null,json:{write:!0}})],ke.prototype,"fieldDelimiter",null),(0,O._)([(0,Y.Cb)({type:$.Z,readOnly:!0})],ke.prototype,"portal",void 0),(0,O._)([(0,se.r)("portal",["styleName"])],ke.prototype,"readPortal",null),(0,O._)([(0,Y.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],ke.prototype,"styleOrigin",void 0),(0,O._)([(0,se.r)("styleOrigin",["styleName","styleUrl"])],ke.prototype,"readStyleOrigin",null),(0,O._)([(0,te.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],ke.prototype,"writeStyleOrigin",null),(0,O._)([(0,Y.Cb)({type:[ye],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(xe,We,Qe)=>(We.uniqueValueGroups||function Ue(xe){const{field1:We,field2:Qe,field3:lt,fieldDelimiter:ve,uniqueValueInfos:Te,valueExpression:Be}=xe,Ge=!(!We||!Qe);return[{classes:(Te??[]).map($e=>{const{symbol:Xe,label:at,value:we,description:tt}=$e,[pt,Pt,mt]=Ge?we?.toString()?.split(ve||"")||[]:[we],St=[];return(We||Be)&&St.push(pt),Qe&&St.push(Pt),lt&&St.push(mt),{symbol:Xe,label:at,values:[St],description:tt}})}]}(We)).map(lt=>ye.fromJSON(lt,Qe))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],ke.prototype,"uniqueValueGroups",null),(0,O._)([(0,Y.Cb)({type:[ue.Z],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],ke.prototype,"uniqueValueInfos",null),ke=Ie=(0,O._)([(0,ie.j)(Re)],ke);const Ye=ke},98563:(j,F,T)=>{"use strict";T.d(F,{W:()=>Ie});var w=T(15861),O=T(17626),W=T(62208),B=T(77712),k=T(90912),ee=(T(85931),T(68653)),Z=T(76898),G=T(99433),Y=T(36630);const ae=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var te,se=T(17977),ie=T(8029);let Q=te=class extends se.Z{constructor(Ce){super(Ce),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(Ce){Ce&&Array.isArray(Ce)&&(Ce=Ce.filter(Fe=>!!Fe)).sort((Fe,Ne)=>Fe.value-Ne.value),this._set("stops",Ce)}clone(){return new te({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(Ce=>Ce.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(Ce=>Ce.value||0)}};(0,O._)([(0,B.Cb)({readOnly:!0})],Q.prototype,"cache",null),(0,O._)([(0,B.Cb)({type:["color"],json:{type:["colorInfo"]}})],Q.prototype,"type",void 0),(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],Q.prototype,"normalizationField",void 0),(0,O._)([(0,B.Cb)({type:[ie.Z],json:{write:!0}})],Q.prototype,"stops",null),Q=te=(0,O._)([(0,Z.j)("esri.renderers.visualVariables.ColorVariable")],Q);const V=Q;var z,U=T(86810),$=T(92236);let J=z=class extends U.wq{constructor(Ce){super(Ce),this.label=null,this.opacity=null,this.value=null}readOpacity(Ce,Fe){return(0,$.b)(Fe.transparency)}writeOpacity(Ce,Fe,Ne){Fe[Ne]=(0,$.a)(Ce)}clone(){return new z({label:this.label,opacity:this.opacity,value:this.value})}};(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],J.prototype,"label",void 0),(0,O._)([(0,B.Cb)({type:Number,json:{type:k.z8,write:{target:"transparency"}}})],J.prototype,"opacity",void 0),(0,O._)([(0,ee.r)("opacity",["transparency"])],J.prototype,"readOpacity",null),(0,O._)([(0,G.c)("opacity")],J.prototype,"writeOpacity",null),(0,O._)([(0,B.Cb)({type:Number,json:{write:!0}})],J.prototype,"value",void 0),J=z=(0,O._)([(0,Z.j)("esri.renderers.visualVariables.support.OpacityStop")],J);const q=J;var oe;let pe=oe=class extends se.Z{constructor(Ce){super(Ce),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(Ce){Ce&&Array.isArray(Ce)&&(Ce=Ce.filter(Fe=>!!Fe)).sort((Fe,Ne)=>Fe.value-Ne.value),this._set("stops",Ce)}clone(){return new oe({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(Ce=>Ce.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(Ce=>Ce.value||0)}};(0,O._)([(0,B.Cb)({readOnly:!0})],pe.prototype,"cache",null),(0,O._)([(0,B.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],pe.prototype,"type",void 0),(0,O._)([(0,B.Cb)({type:String,json:{write:!0}})],pe.prototype,"normalizationField",void 0),(0,O._)([(0,B.Cb)({type:[q],json:{write:!0}})],pe.prototype,"stops",null),pe=oe=(0,O._)([(0,Z.j)("esri.renderers.visualVariables.OpacityVariable")],pe);const de=pe;var be=T(13398),me=T(68598),_e=T(14517),le=T(2076),fe=T(63290),Ee=T(14889);const ye={color:V,size:me.Z,opacity:de,rotation:be.Z},ue=new le.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Me=/^\[([^\]]+)\]$/i;let ce=class extends _e.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(Ce){if(this._resetVariables(),(Ce=Ce&&Ce.filter(Fe=>!!Fe))&&Ce.length){for(const Fe of Ce)switch(Fe.type){case"color":this.colorVariables.push(Fe);break;case"opacity":this.opacityVariables.push(Fe);break;case"rotation":this.rotationVariables.push(Fe);break;case"size":this.sizeVariables.push(Fe)}this.sizeVariables.length&&this.sizeVariables.some(Fe=>!!Fe.target)&&Ce.sort((Fe,Ne)=>{let Le=null;return Le=Fe.target===Ne.target?0:Fe.target?1:-1,Le});for(let Fe=0;Fe<Ce.length;Fe++)Ce[Fe].index=Fe;this._set("visualVariables",Ce)}else this._set("visualVariables",Ce)}readVariables(Ce,Fe,Ne){const{rotationExpression:Le,rotationType:Oe}=Fe,Ue=Le&&Le.match(Me),ke=Ue&&Ue[1];if(ke&&(Ce||(Ce=[]),Ce.push({type:"rotationInfo",rotationType:Oe,field:ke})),Ce)return Ce.map(Ye=>{const xe=ue.read(Ye.type),We=ye[xe];We||(fe.Z.getLogger(this.declaredClass).warn(`Unknown variable type: ${xe}`),Ne&&Ne.messages&&Ne.messages.push(new Ee.Z("visual-variable:unsupported",`visualVariable of type '${xe}' is not supported`,{definition:Ye,context:Ne})));const Qe=new We;return Qe.read(Ye,Ne),Qe})}writeVariables(Ce,Fe){const Ne=[];for(const Le of Ce){const Oe=Le.toJSON(Fe);Oe&&Ne.push(Oe)}return Ne}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,O._)([(0,B.Cb)()],ce.prototype,"visualVariables",null),ce=(0,O._)([(0,Z.j)("esri.renderers.visualVariables.VisualVariableFactory")],ce);const ge=ce,Pe={base:se.Z,key:"type",typeMap:{opacity:de,color:V,rotation:be.Z,size:me.Z}},Ie=Ce=>{let Fe=class extends Ce{constructor(){super(...arguments),this._vvFactory=new ge}set visualVariables(Ne){this._vvFactory.visualVariables=Ne,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(Ne,Le,Oe){return this._vvFactory.readVariables(Ne,Le,Oe)}writeVisualVariables(Ne,Le,Oe,Ue){Le[Oe]=this._vvFactory.writeVariables(Ne,Ue)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const Ne of this.visualVariables)if(Ne.arcadeRequired)return!0;return!1}hasVisualVariables(Ne,Le){return Ne?this.getVisualVariablesForType(Ne,Le).length>0:this.getVisualVariablesForType("size",Le).length>0||this.getVisualVariablesForType("color",Le).length>0||this.getVisualVariablesForType("opacity",Le).length>0||this.getVisualVariablesForType("rotation",Le).length>0}getVisualVariablesForType(Ne,Le){const Oe=this.visualVariables;return Oe?Oe.filter(Ue=>Ue.type===Ne&&("string"==typeof Le?Ue.target===Le:!1!==Le||!Ue.target)):[]}collectVVRequiredFields(Ne,Le){var Oe=this;return(0,w.Z)(function*(){let Ue=[];Oe.visualVariables&&(Ue=Ue.concat(Oe.visualVariables));for(const ke of Ue)ke&&(ke.field&&(0,Y.AB)(Ne,Le,ke.field),ke.normalizationField&&(0,Y.AB)(Ne,Le,ke.normalizationField),ke.valueExpression&&(Re(ke.valueExpression,Ne,Le)||(yield(0,Y.io)(Ne,Le,ke.valueExpression))))})()}};return(0,O._)([(0,B.Cb)({types:[Pe],value:null,json:{write:!0}})],Fe.prototype,"visualVariables",null),(0,O._)([(0,ee.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],Fe.prototype,"readVisualVariables",null),(0,O._)([(0,G.c)("visualVariables")],Fe.prototype,"writeVisualVariables",null),Fe=(0,O._)([(0,Z.j)("esri.renderers.mixins.VisualVariablesMixin")],Fe),Fe};function Re(Ce,Fe,Ne){const Le=function ne(Ce){return Ce.match(ae)?.[1]?.replace(/\\'/g,"'")??null}(Ce);return!!(0,W.pC)(Le)&&((0,Y.AB)(Fe,Ne,Le),!0)}},41832:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var Y,w=T(17626),O=T(91558),W=T(86810),B=T(63290),k=T(77712),re=T(66656),Z=(T(85931),T(76898)),G=T(90912);let ne=Y=class extends W.wq{constructor(se){super(se),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(se){return null==se?se:"function"==typeof se?(B.Z.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,G.Zs)(se)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new Y({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,w._)([(0,k.Cb)({type:O.Z,json:{type:[Number],write:!0}})],ne.prototype,"color",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,w._)([(0,re.p)("field")],ne.prototype,"castField",null),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"label",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpressionTitle",void 0),ne=Y=(0,w._)([(0,Z.j)("esri.renderers.support.AttributeColorInfo")],ne);const ae=ne},15312:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Me});var Y,w=T(17626),O=T(2076),W=T(86810),B=T(58817),k=T(77712),re=T(90912),ee=T(68653),Z=T(76898);T(85931);let ne=Y=class extends W.wq{constructor(ce){super(ce),this.minValue=0,this.maxValue=0}clone(){return new Y({minValue:this.minValue,maxValue:this.maxValue})}};var ae;(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ne.prototype,"minValue",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxValue",void 0),ne=Y=(0,w._)([(0,Z.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],ne);let se=ae=class extends W.wq{constructor(ce){super(ce),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new ae({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,B.d9)(this.classBreakInfos)})}};(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],se.prototype,"field",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],se.prototype,"normalizationField",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],se.prototype,"label",void 0),(0,w._)([(0,k.Cb)({type:[ne],json:{write:!0}})],se.prototype,"classBreakInfos",void 0),se=ae=(0,w._)([(0,Z.j)("esri.renderers.support.AuthoringInfoFieldInfo")],se);var te,ie=T(66656);const Q=new O.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),V=new O.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),U={key:ce=>"number"==typeof ce?"number":"string",typeMap:{number:Number,string:String},base:null},$=["high-to-low","above-and-below","centered-on","extremes"],z=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],J=["seconds","minutes","hours","days","months","years"];let q=te=class extends W.wq{constructor(ce){super(ce),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(ce){return"string"==typeof ce||"number"==typeof ce?ce:null}castStartTime(ce){return"string"==typeof ce||"number"==typeof ce?ce:null}get style(){return"color"===this.type?this._get("style"):null}set style(ce){this._set("style",ce)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(ce){this._set("theme",ce)}clone(){return new te({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,w._)([(0,k.Cb)({types:U,json:{write:!0}})],q.prototype,"endTime",void 0),(0,w._)([(0,ie.p)("endTime")],q.prototype,"castEndTime",null),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],q.prototype,"field",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],q.prototype,"maxSliderValue",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],q.prototype,"minSliderValue",void 0),(0,w._)([(0,k.Cb)({types:U,json:{write:!0}})],q.prototype,"startTime",void 0),(0,w._)([(0,ie.p)("startTime")],q.prototype,"castStartTime",null),(0,w._)([(0,k.Cb)({type:Q.apiValues,value:null,json:{type:Q.jsonValues,read:Q.read,write:Q.write}})],q.prototype,"style",null),(0,w._)([(0,k.Cb)({type:z,value:null,json:{type:z,origins:{"web-scene":{type:$,write:{writer:(ce,ge)=>{$.includes(ce)&&(ge.theme=ce)}}}},write:!0}})],q.prototype,"theme",null),(0,w._)([(0,k.Cb)({type:V.apiValues,json:{type:V.jsonValues,read:V.read,write:V.write}})],q.prototype,"type",void 0),(0,w._)([(0,k.Cb)({type:J,json:{type:J,write:!0}})],q.prototype,"units",void 0),q=te=(0,w._)([(0,Z.j)("esri.renderers.support.AuthoringInfoVisualVariable")],q);const oe=q;var de,pe=T(79023);const be=new O.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),me=new O.X({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),_e=new O.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),le=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let ue=de=class extends W.wq{constructor(ce){super(ce),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const ce=this._get("classificationMethod"),ge=this.type;return ge&&"relationship"!==ge?"class-breaks-size"===ge||"class-breaks-color"===ge?ce||"manual":null:ce}set classificationMethod(ce){this._set("classificationMethod",ce)}readColorRamp(ce){return ce?(0,pe.i)(ce):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(ce){this._set("fields",ce)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(ce){this._set("field1",ce)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(ce){this._set("field2",ce)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(ce){this._set("flowTheme",ce)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(ce){this._set("focus",ce)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(ce){this._set("numClasses",ce)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(ce){this._set("statistics",ce)}get standardDeviationInterval(){const ce=this.type;return ce&&"relationship"!==ce&&"class-breaks-size"!==ce&&"class-breaks-color"!==ce||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(ce){this._set("standardDeviationInterval",ce)}get type(){return this._get("type")}set type(ce){let ge=ce;"classed-size"===ce?ge="class-breaks-size":"classed-color"===ce&&(ge="class-breaks-color"),this._set("type",ge)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(ce){this._set("univariateSymbolStyle",ce)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(ce){this._set("univariateTheme",ce)}clone(){return new de({classificationMethod:this.classificationMethod,colorRamp:(0,B.d9)(this.colorRamp),fadeRatio:(0,B.d9)(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:(0,B.d9)(this.field1),field2:(0,B.d9)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(ce=>ce.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,w._)([(0,k.Cb)({type:be.apiValues,value:null,json:{type:be.jsonValues,read:be.read,write:be.write,origins:{"web-document":{default:"manual",type:be.jsonValues,read:be.read,write:be.write}}}})],ue.prototype,"classificationMethod",null),(0,w._)([(0,k.Cb)({types:pe.V,json:{write:!0}})],ue.prototype,"colorRamp",void 0),(0,w._)([(0,ee.r)("colorRamp")],ue.prototype,"readColorRamp",null),(0,w._)([(0,k.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ue.prototype,"fadeRatio",void 0),(0,w._)([(0,k.Cb)({type:[String],value:null,json:{write:!0}})],ue.prototype,"fields",null),(0,w._)([(0,k.Cb)({type:se,value:null,json:{write:!0}})],ue.prototype,"field1",null),(0,w._)([(0,k.Cb)({type:se,value:null,json:{write:!0}})],ue.prototype,"field2",null),(0,w._)([(0,k.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ue.prototype,"flowTheme",null),(0,w._)([(0,k.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],ue.prototype,"focus",null),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ue.prototype,"isAutoGenerated",void 0),(0,w._)([(0,k.Cb)({type:Number,value:null,json:{type:re.z8,write:!0}})],ue.prototype,"numClasses",null),(0,w._)([(0,k.Cb)({type:le,json:{type:le,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ue.prototype,"lengthUnit",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ue.prototype,"maxSliderValue",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ue.prototype,"minSliderValue",void 0),(0,w._)([(0,k.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ue.prototype,"statistics",null),(0,w._)([(0,k.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],ue.prototype,"standardDeviationInterval",null),(0,w._)([(0,k.Cb)({type:me.apiValues,value:null,json:{type:me.jsonValues,read:me.read,write:me.write,origins:{"web-scene":{type:_e.jsonValues,write:{writer:_e.write,overridePolicy:ce=>({enabled:"flow"!==ce})}}}}})],ue.prototype,"type",null),(0,w._)([(0,k.Cb)({type:[oe],json:{write:!0}})],ue.prototype,"visualVariables",void 0),(0,w._)([(0,k.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ue.prototype,"univariateSymbolStyle",null),(0,w._)([(0,k.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ue.prototype,"univariateTheme",null),ue=de=(0,w._)([(0,Z.j)("esri.renderers.support.AuthoringInfo")],ue);const Me=ue},74400:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(76457);let G=Z=class extends O.wq{constructor(ne){super(ne),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new Z({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const ne=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${ne}`}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"description",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"label",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],G.prototype,"minValue",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],G.prototype,"maxValue",void 0),(0,w._)([(0,W.Cb)(ee.Gn)],G.prototype,"symbol",void 0),G=Z=(0,w._)([(0,re.j)("esri.renderers.support.ClassBreakInfo")],G);const Y=G},29996:(j,F,T)=>{"use strict";T.r(F),T.d(F,{DictionaryLoader:()=>ie});var w=T(15861),O=T(91558),W=T(84792),B=T(26584),k=T(63290),re=T(93961),ee=T(62208),Z=T(10699),G=T(77275),Y=T(46679),ne=T(94398);const ae="esri.renderers.support.DictionaryLoader",se={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class ie{constructor(U,$,z){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new re.Z(100),this._dictionaryPromise=null,this.url=U,this.config=$,this.fieldMap=z}getSymbolFields(){return this._symbolFields}getSymbolAsync(U,$){var z=this;return(0,w.Z)(function*(){let J;z._dictionaryPromise||(z._dictionaryPromise=z.fetchResources($));try{J=yield z._dictionaryPromise}catch(Ee){if((0,Z.D_)(Ee))return z._dictionaryPromise=null,null}const q={};if(z.fieldMap)for(const Ee of z._symbolFields){const ye=z.fieldMap[Ee];q[Ee]=ye&&null!=U.attributes[ye]?""+U.attributes[ye]:""}const oe=J?.(q,$);if(!oe||"string"!=typeof oe)return null;const pe=(0,G.hP)(oe).toString(),de=z._symbolCache.get(pe);if(de)return de.catch(()=>{z._symbolCache.pop(pe)}),de;const be=oe.split(";"),me=[],_e=[];for(const Ee of be)if(Ee)if(Ee.includes("po:")){const ye=Ee.substr(3).split("|");if(3===ye.length){const ue=ye[0],Me=ye[1];let ce=ye[2];if("DashTemplate"===Me)ce=ce.split(" ").map(ge=>Number(ge));else if("Color"===Me){const ge=new O.Z(ce).toRgba();ce=[ge[0],ge[1],ge[2],255*ge[3]]}else ce=Number(ce);_e.push({primitiveName:ue,propertyName:Me,value:ce})}}else if(Ee.includes("|")){for(const ye of Ee.split("|"))if(z._itemNames.has(ye)){me.push(ye);break}}else z._itemNames.has(Ee)&&me.push(Ee);const le=!(0,ee.pC)(U.geometry)||!U.geometry.hasZ&&"point"===U.geometry.type,fe=z._cimPartsToCIMSymbol(me,_e,le,$);return z._symbolCache.put(pe,fe,1),fe})()}fetchResources(U){var $=this;return(0,w.Z)(function*(){if($._dictionaryPromise)return $._dictionaryPromise;if(!$.url)return void k.Z.getLogger(ae).error("no valid URL!");const z=(0,W.default)($.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:(0,ee.pC)(U)?U.signal:null}),[{data:J}]=yield Promise.all([z,(0,Y.LC)()]);if(!J)throw $._dictionaryPromise=null,new B.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const q=J.expression,oe=J.authoringInfo;$._refSymbolUrlTemplate=$.url+"/"+J.cimRefTemplateUrl,$._itemNames=new Set(J.itemsNames),$._symbolFields=oe.symbol;const pe={};if($.config){const me=$.config;for(const _e in me)pe[_e]=me[_e]}if(oe.configuration)for(const me of oe.configuration)pe.hasOwnProperty(me.name)||(pe[me.name]=me.value);const de=[];if((0,ee.pC)(U)&&U.fields&&$.fieldMap)for(const me of $._symbolFields){const _e=$.fieldMap[me],le=U.fields.filter(fe=>fe.name===_e);le.length>0&&de.push({...le[0],name:me})}const be=(0,Y.pp)(q,(0,ee.pC)(U)?U.spatialReference:null,de,pe).then(me=>{const _e={scale:0};return(le,fe)=>{if((0,ee.Wi)(me))return null;const Ee=me.repurposeFeature({geometry:null,attributes:le});return _e.scale=(0,ee.pC)(fe)?fe.scale??void 0:void 0,me.evaluate({$feature:Ee,$view:_e})}}).catch(me=>(k.Z.getLogger(ae).error("Creating dictinoary expression failed:",me),null));return $._dictionaryPromise=be,be})()}_cimPartsToCIMSymbol(U,$,z,J){var q=this;return(0,w.Z)(function*(){const oe=new Array(U.length);for(let be=0;be<U.length;be++)oe[be]=q._getSymbolPart(U[be],J);const pe=yield Promise.all(oe),de=q.fieldMap;if(de)for(const be of pe)te(be,de);return new ne.Z({data:q._combineSymbolParts(pe,$,z)})})()}_getSymbolPart(U,$){var z=this;return(0,w.Z)(function*(){if(z._ongoingRequests.has(U))return z._ongoingRequests.get(U).then(oe=>oe.data);const J=z._refSymbolUrlTemplate.replace(/\{itemName\}/gi,U),q=(0,W.default)(J,{responseType:"json",query:{f:"json"},...$});z._ongoingRequests.set(U,q);try{return(yield q).data}catch(oe){throw z._ongoingRequests.delete(U),oe}})()}_combineSymbolParts(U,$,z){if(!U||0===U.length)return null;const J={...U[0]};if(U.length>1){J.symbolLayers=[];for(const q of U)J.symbolLayers.unshift(...q.symbolLayers)}return z&&(J.callout=se),{type:"CIMSymbolReference",symbol:J,primitiveOverrides:$}}}function te(V,U){if(!V)return;const $=V.symbolLayers;if(!$)return;let z=$.length;for(;z--;){const J=$[z];J&&!1!==J.enable&&"CIMVectorMarker"===J.type&&Q(J,U)}}function Q(V,U){const $=V.markerGraphics;if($)for(const z of $){if(!z)continue;const J=z.symbol;if(J)switch(J.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":te(J,U);break;case"CIMTextSymbol":J.fieldMap=U}}}},52372:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(91558),W=T(86810),B=T(77712),k=T(90912),ee=(T(85931),T(76898));let G=Z=class extends W.wq{constructor(ne){super(ne),this.color=null,this.ratio=null}clone(){return new Z({color:this.color,ratio:this.ratio})}};(0,w._)([(0,B.Cb)({type:O.Z,json:{type:[k.z8],default:null,write:!0}})],G.prototype,"color",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],G.prototype,"ratio",void 0),G=Z=(0,w._)([(0,ee.j)("esri.renderers.support.HeatmapColorStop")],G);const Y=G},10914:(j,F,T)=>{"use strict";T.d(F,{I:()=>Z});var ee,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.wq{constructor(){super(...arguments),this.title=null}clone(){return new ee({title:this.title})}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),Z=ee=(0,w._)([(0,re.j)("esri.renderers.support.LegendOptions")],Z)},87266:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(76457);let G=Z=class extends O.wq{constructor(ne){super(ne),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new Z({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const ne=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${ne}`}};(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"description",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],G.prototype,"label",void 0),(0,w._)([(0,W.Cb)(ee.Gn)],G.prototype,"symbol",void 0),(0,w._)([(0,W.Cb)(ee.GY)],G.prototype,"value",void 0),G=Z=(0,w._)([(0,re.j)("esri.renderers.support.UniqueValueInfo")],G);const Y=G},76457:(j,F,T)=>{"use strict";T.d(F,{GY:()=>Z,Gn:()=>re,KK:()=>ee});var w=T(20383),O=T(383),W=T(9461),B=T(10012),k=T(89673);const re={types:w.QT,json:{write:{writer:W.cW},origins:{"web-scene":{types:w.f_,write:{writer:W.cW},read:{reader:(0,O.d)({types:w.f_})}}}}},ee={types:{base:B.Z,key:"type",typeMap:{"simple-fill":w.LB.typeMap["simple-fill"],"picture-fill":w.LB.typeMap["picture-fill"],"polygon-3d":w.LB.typeMap["polygon-3d"]}},json:{write:{writer:W.cW},origins:{"web-scene":{type:k.Z,write:{writer:W.cW}}}}},Z={cast:G=>null==G||"string"==typeof G||"number"==typeof G?G:`${G}`,json:{type:String,write:{writer:(G,Y)=>{Y.value=G?.toString()}}}}},36859:(j,F,T)=>{"use strict";T.d(F,{AJ:()=>ee,If:()=>se,QM:()=>Y,hy:()=>ne,k0:()=>re,nu:()=>k,uI:()=>G,wx:()=>ie});var w=T(21286),O=T(23841),W=T(993),B=T(4794);const k=2.4;function re(Q){return(0,O.Wz)(Q*k)}function ee(Q){return(0,O.F2)(Q)/k}function Z(Q,V,U,$){let{color:z,ratio:J}=V,{color:q,ratio:oe}=U;oe===J&&(1===oe?J-=1e-6:oe+=1e-6);const pe=(0,w.uZ)(($-J)/(oe-J),0,1);(0,W.l)(Q,z.toArray(),q.toArray(),pe)}function G(Q){const U=new Uint8ClampedArray(2048);if((Q=Q.filter(({ratio:oe})=>oe>=0&&oe<=1).sort((oe,pe)=>oe.ratio-pe.ratio).map(({color:oe,ratio:pe})=>({color:oe,ratio:Math.max(pe,.001)}))).length<1)return U;let $=Q[0],z=Q[0],J=1;const q=(0,B.c)();for(let oe=0;oe<512;oe++){const pe=(oe+.5)/512;for(;pe>z.ratio&&J<Q.length;)$=z,z=Q[J++];Z(q,$,z,pe),U.set(q,4*oe)}return U}function Y(Q,V,U,$){const{radius:z,fieldOffset:J,field:q}=V,oe=Math.round((0,O.F2)(z)),pe=new Float64Array(U*$);let de,be=Number.NEGATIVE_INFINITY;const me=function te(Q,V){return null!=Q?"string"==typeof V?U=>-1*+U.readAttribute(Q):U=>+U.readAttribute(Q)+V:U=>1}(q,J),_e=new Set;for(const le of Q){const fe=le.getCursor();for(;fe.next();){const Ee=fe.getObjectId();if(_e.has(Ee))continue;_e.add(Ee);const ye=fe.readLegacyPointGeometry(),ue=128;if(ye.x<-ue||ye.x>=U+ue||ye.y<-ue||ye.y>$+ue)continue;const Me=+me(fe),ce=Math.max(0,Math.round(ye.x)-oe),ge=Math.max(0,Math.round(ye.y)-oe),Pe=Math.min($,Math.round(ye.y)+oe),Ie=Math.min(U,Math.round(ye.x)+oe);for(let Re=ge;Re<Pe;Re++)for(let Ce=ce;Ce<Ie;Ce++){const Fe=Re*U+Ce,Ne=se(ye.x-Ce,ye.y-Re,oe);de=pe[Fe]+=Ne*Me,de>be&&(be=de)}}}return{matrix:pe.buffer,max:be}}function ne(Q,V,U,$,z,J){Q.canvas.width=Q.canvas.height=V,Q.clearRect(0,0,V,V);const q=Q.getImageData(0,0,V,V);U&&$&&q.data.set(new Uint8ClampedArray(function ae(Q,V,U,$,z){const J=new Uint32Array(Q*Q),q="buffer"in V?V:new Float64Array(V),oe="buffer"in U?new Uint32Array(U.buffer):new Uint32Array(new Uint8Array(U).buffer),pe=oe.length/(z-$);for(let de=0;de<q.length;de++){const me=Math.floor((q[de]-$)*pe);J[de]=oe[(0,w.uZ)(me,0,oe.length-1)]}return J.buffer}(V,U,$,z,J))),Q.putImageData(q,0,0)}function se(Q,V,U){const $=Math.sqrt(Q**2+V**2)/U;return $>1?0:3/(Math.PI*U**2)*(1-$**2)**2}function ie(Q,V){return"function"==typeof Q?Q:Q?"string"==typeof V?U=>-1*+U[Q]:U=>+U[Q]+V:()=>1}},33474:(j,F,T)=>{"use strict";T.d(F,{a:()=>re,i:()=>B});var w=T(14889),O=T(383),W=T(32088);function B(ee,Z){return re(ee,null,Z)}const k=(0,O.d)({types:W.A});function re(ee,Z,G){return ee?ee&&(ee.styleName||ee.styleUrl)&&"uniqueValue"!==ee.type?(G&&G.messages&&G.messages.push(new w.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+ee.type+"'",{definition:ee,context:G})),null):k(ee,Z,G):null}},21254:(j,F,T)=>{"use strict";T.d(F,{a:()=>W});var w=T(16730),O=T(94425);const W={inches:(0,w.En)(1,"meters","inches"),feet:(0,w.En)(1,"meters","feet"),"us-feet":(0,w.En)(1,"meters","us-feet"),yards:(0,w.En)(1,"meters","yards"),miles:(0,w.En)(1,"meters","miles"),"nautical-miles":(0,w.En)(1,"meters","nautical-miles"),millimeters:(0,w.En)(1,"meters","millimeters"),centimeters:(0,w.En)(1,"meters","centimeters"),decimeters:(0,w.En)(1,"meters","decimeters"),meters:(0,w.En)(1,"meters","meters"),kilometers:(0,w.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,w.ty)(1,"meters",O.sv.radius)}},39683:(j,F,T)=>{"use strict";T.d(F,{y:()=>k});var w=T(15861),O=T(59213),W=T(10699),B=T(14889);function k(ee,Z,G){return re.apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(ee,Z,G){const Y=ee&&ee.getAtOrigin&&ee.getAtOrigin("renderer",Z.origin);if(Y&&"unique-value"===Y.type&&Y.styleOrigin){const ne=yield(0,O.q6)(Y.populateFromStyle());if((0,W.k_)(G),!1===ne.ok){const ae=ne.error;Z&&Z.messages&&Z.messages.push(new B.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${ae.message}`,{error:ae,context:Z})),ee.clear("renderer",Z?.origin)}}})).apply(this,arguments)}},32088:(j,F,T)=>{"use strict";T.d(F,{A:()=>G,o:()=>Y});var w=T(4832),O=T(49067),W=T(96794),B=T(69747),k=T(40425),re=T(69357),ee=T(40342),Z=T(73640);const G={key:"type",base:re.Z,typeMap:{heatmap:B.Z,simple:ee.Z,"unique-value":Z.Z,"class-breaks":w.Z,"dot-density":W.Z,dictionary:O.Z,"pie-chart":k.Z},errorContext:"renderer"},Y={key:"type",base:re.Z,typeMap:{simple:ee.Z,"unique-value":Z.Z,"class-breaks":w.Z,heatmap:B.Z},errorContext:"renderer"}},13398:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var G,w=T(17626),O=T(26584),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(99433),Z=T(17977);let Y=G=class extends Z.Z{constructor(ae){super(ae),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(ae,se,ie,te){te&&te.messages&&te.messages.push(new O.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:te}))}clone(){return new G({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,w._)([(0,W.Cb)({readOnly:!0})],Y.prototype,"cache",null),(0,w._)([(0,W.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Y.prototype,"axis",void 0),(0,w._)([(0,W.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],Y.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Y.prototype,"rotationType",void 0),(0,w._)([(0,W.Cb)({type:String,json:{write:!0}})],Y.prototype,"valueExpressionTitle",void 0),(0,w._)([(0,ee.c)("web-scene","valueExpressionTitle")],Y.prototype,"writeValueExpressionTitleWebScene",null),Y=G=(0,w._)([(0,re.j)("esri.renderers.visualVariables.RotationVariable")],Y);const ne=Y},68598:(j,F,T)=>{"use strict";T.d(F,{Z:()=>me});var Q,w=T(17626),O=T(26584),W=T(2076),B=T(63290),k=T(23841),re=T(77712),ee=T(66656),Z=T(68653),G=T(76898),Y=T(99433),ne=T(17977),ae=T(64902),te=(T(90912),T(85931),T(11333));let V=Q=class extends te.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new Q({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,w._)([(0,re.Cb)({type:[Number],json:{write:!0}})],V.prototype,"customValues",void 0),V=Q=(0,w._)([(0,G.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],V);const U=V;var J,$=T(86971),z=T(81808);const q=new W.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),oe=new W.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function pe(_e){if(null!=_e)return"string"==typeof _e||"number"==typeof _e?(0,k.t_)(_e):"size"===_e.type?(0,$.iY)(_e)?_e:(delete(_e={..._e}).type,new be(_e)):void 0}function de(_e,le,fe){if("object"!=typeof _e)return _e;const Ee=new be;return Ee.read(_e,fe),Ee}let be=J=class extends ne.Z{constructor(_e){super(_e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&z.viewScaleRE.test(this.valueExpression)}}set expression(_e){B.Z.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===_e?(this.valueExpression="$view.scale",this._set("expression",_e)):this._set("expression",null)}set index(_e){(0,$.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${_e}].maxSize`),(0,$.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${_e}].minSize`),this._set("index",_e)}get inputValueType(){return(0,$.PS)(this)}set maxDataValue(_e){_e&&this.stops&&(B.Z.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),_e=null),this._set("maxDataValue",_e)}set maxSize(_e){_e&&this.stops&&(B.Z.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),_e=null),this._set("maxSize",_e)}castMaxSize(_e){return pe(_e)}readMaxSize(_e,le,fe){return de(_e,0,fe)}set minDataValue(_e){_e&&this.stops&&(B.Z.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),_e=null),this._set("minDataValue",_e)}set minSize(_e){_e&&this.stops&&(B.Z.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),_e=null),this._set("minSize",_e)}castMinSize(_e){return pe(_e)}readMinSize(_e,le,fe){return de(_e,0,fe)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(_e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?_e&&Array.isArray(_e)&&(_e=_e.filter(le=>!!le)).sort((le,fe)=>le.value-fe.value):_e&&(B.Z.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),_e=null),this._set("stops",_e)}get transformationType(){return(0,$.QW)(this,this.inputValueType)}readValueExpression(_e,le){return _e||le.expression&&"$view.scale"}writeValueExpressionWebScene(_e,le,fe,Ee){if("$view.scale"===_e){if(Ee&&Ee.messages){const ye=this.index;Ee.messages.push(new O.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof ye?ye:`visualVariables[${ye}]`)+".valueExpression",context:Ee}))}}else le[fe]=_e}readValueUnit(_e){return _e?oe.read(_e):null}clone(){return new J({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,$.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,$.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(_e=>_e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===$.hL.ClampedLinear){const{minSize:_e,maxSize:le}=this;return this.minSize=le,this.maxSize=_e,this}if(this.transformationType===$.hL.Stops){const _e=this.stops;if(!_e)return this;const le=_e.map(Ee=>Ee.size).reverse(),fe=_e.length;for(let Ee=0;Ee<fe;Ee++)_e[Ee].size=le[Ee];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(_e=>_e.value||0)}};(0,w._)([(0,re.Cb)({readOnly:!0})],be.prototype,"cache",null),(0,w._)([(0,re.Cb)({type:q.apiValues,json:{type:q.jsonValues,origins:{"web-map":{read:!1}},read:q.read,write:q.write}})],be.prototype,"axis",void 0),(0,w._)([(0,re.Cb)({type:String,value:null,json:{read:!1}})],be.prototype,"expression",null),(0,w._)([(0,re.Cb)()],be.prototype,"index",null),(0,w._)([(0,re.Cb)({type:String,readOnly:!0})],be.prototype,"inputValueType",null),(0,w._)([(0,re.Cb)({type:U,json:{write:!0}})],be.prototype,"legendOptions",void 0),(0,w._)([(0,re.Cb)({type:Number,value:null,json:{write:!0}})],be.prototype,"maxDataValue",null),(0,w._)([(0,re.Cb)({type:Number,value:null,json:{write:!0}})],be.prototype,"maxSize",null),(0,w._)([(0,ee.p)("maxSize")],be.prototype,"castMaxSize",null),(0,w._)([(0,Z.r)("maxSize")],be.prototype,"readMaxSize",null),(0,w._)([(0,re.Cb)({type:Number,value:null,json:{write:!0}})],be.prototype,"minDataValue",null),(0,w._)([(0,re.Cb)({type:Number,value:null,json:{write:!0}})],be.prototype,"minSize",null),(0,w._)([(0,ee.p)("minSize")],be.prototype,"castMinSize",null),(0,w._)([(0,Z.r)("minSize")],be.prototype,"readMinSize",null),(0,w._)([(0,re.Cb)({type:String,json:{write:!0}})],be.prototype,"normalizationField",void 0),(0,w._)([(0,re.Cb)({readOnly:!0})],be.prototype,"arcadeRequired",null),(0,w._)([(0,re.Cb)({type:String})],be.prototype,"scaleBy",void 0),(0,w._)([(0,re.Cb)({type:[ae.Z],value:null,json:{write:!0}})],be.prototype,"stops",null),(0,w._)([(0,re.Cb)({type:["outline"],json:{write:!0}})],be.prototype,"target",void 0),(0,w._)([(0,re.Cb)({type:String,readOnly:!0})],be.prototype,"transformationType",null),(0,w._)([(0,re.Cb)({type:["size"],json:{type:["sizeInfo"]}})],be.prototype,"type",void 0),(0,w._)([(0,re.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],be.prototype,"useSymbolValue",void 0),(0,w._)([(0,re.Cb)({type:String,json:{write:!0}})],be.prototype,"valueExpression",void 0),(0,w._)([(0,Z.r)("valueExpression",["valueExpression","expression"])],be.prototype,"readValueExpression",null),(0,w._)([(0,Y.c)("web-scene","valueExpression")],be.prototype,"writeValueExpressionWebScene",null),(0,w._)([(0,re.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],be.prototype,"valueRepresentation",void 0),(0,w._)([(0,re.Cb)({type:oe.apiValues,json:{write:oe.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],be.prototype,"valueUnit",void 0),(0,w._)([(0,Z.r)("valueUnit")],be.prototype,"readValueUnit",null),be=J=(0,w._)([(0,G.j)("esri.renderers.visualVariables.SizeVariable")],be);const me=be},17977:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var w=T(17626),O=T(2076),W=T(86810),B=T(63290),k=T(77712),re=T(66656),ee=T(76898),Z=T(90912),G=T(11333);const Y=new O.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let ne=class extends W.wq{constructor(se){super(se),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(se){return null==se?se:"function"==typeof se?(B.Z.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,Z.Zs)(se)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,w._)([(0,k.Cb)()],ne.prototype,"index",void 0),(0,w._)([(0,k.Cb)({type:Y.apiValues,readOnly:!0,json:{read:Y.read,write:Y.write}})],ne.prototype,"type",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,w._)([(0,re.p)("field")],ne.prototype,"castField",null),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpressionTitle",void 0),(0,w._)([(0,k.Cb)({readOnly:!0})],ne.prototype,"arcadeRequired",null),(0,w._)([(0,k.Cb)({type:G.Z,json:{write:!0}})],ne.prototype,"legendOptions",void 0),ne=(0,w._)([(0,ee.j)("esri.renderers.visualVariables.VisualVariable")],ne);const ae=ne},8029:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var G,w=T(17626),O=T(91558),W=T(86810),B=T(77712),k=T(90912),ee=(T(85931),T(76898)),Z=T(99433);let Y=G=class extends W.wq{constructor(ae){super(ae),this.color=null,this.label=null,this.value=null}writeValue(ae,se,ie){se[ie]=ae??0}clone(){return new G({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,w._)([(0,B.Cb)({type:O.Z,json:{type:[k.z8],write:!0}})],Y.prototype,"color",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Y.prototype,"value",void 0),(0,w._)([(0,Z.c)("value")],Y.prototype,"writeValue",null),Y=G=(0,w._)([(0,ee.j)("esri.renderers.visualVariables.support.ColorStop")],Y);const ne=Y},64902:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(86810),W=T(23841),B=T(77712),ee=(T(90912),T(85931),T(76898));let G=Z=class extends O.wq{constructor(ne){super(ne),this.label=null,this.size=null,this.value=null}clone(){return new Z({label:this.label,size:this.size,value:this.value})}};(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"label",void 0),(0,w._)([(0,B.Cb)({type:Number,cast:W.t_,json:{write:!0}})],G.prototype,"size",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0}})],G.prototype,"value",void 0),G=Z=(0,w._)([(0,ee.j)("esri.renderers.visualVariables.support.SizeStop")],G);const Y=G},11333:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(10914);let Z=ee=class extends re.I{constructor(){super(...arguments),this.showLegend=null}clone(){return new ee({title:this.title,showLegend:this.showLegend})}};(0,w._)([(0,O.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"showLegend",void 0),Z=ee=(0,w._)([(0,k.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Z);const G=Z},86971:(j,F,T)=>{"use strict";var w,O,ee;function W(ee){return ee&&"esri.renderers.visualVariables.SizeVariable"===ee.declaredClass}function B(ee){return null!=ee&&!isNaN(ee)&&isFinite(ee)}function k(ee){return ee.valueExpression?w.Expression:ee.field&&"string"==typeof ee.field?w.Field:w.Unknown}function re(ee,Z){return(Z||k(ee))===w.Unknown?O.Constant:ee.stops?O.Stops:null!=ee.minSize&&null!=ee.maxSize&&null!=ee.minDataValue&&null!=ee.maxDataValue?O.ClampedLinear:"unknown"===(ee.valueUnit||"unknown")?null!=ee.minSize&&null!=ee.minDataValue?ee.minSize&&ee.minDataValue?O.Proportional:O.Additive:O.Identity:O.RealWorldSize}T.d(F,{PS:()=>k,QW:()=>re,RY:()=>w,hL:()=>O,iY:()=>W,qh:()=>B}),(ee=w||(w={})).Unknown="unknown",ee.Expression="expression",ee.Field="field",function(ee){ee.Unknown="unknown",ee.Stops="stops",ee.ClampedLinear="clamped-linear",ee.Proportional="proportional",ee.Additive="additive",ee.Constant="constant",ee.Identity="identity",ee.RealWorldSize="real-world-size"}(O||(O={}))},81808:(j,F,T)=>{"use strict";T.r(F),T.d(F,{getAllSizes:()=>Ee,getColor:()=>ae,getOpacity:()=>se,getRotationAngle:()=>ie,getSize:()=>V,getSizeForValue:()=>me,getSizeFromNumberOrVariable:()=>U,getSizeRangeAtScale:()=>_e,getVisualVariableValues:()=>le,viewScaleRE:()=>ne});var w=T(91558),O=T(88879),W=T(94573),B=T(63290),k=T(62208),re=T(21254),ee=T(86971);const Z=B.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),G=new O.Z,Y=Math.PI,ne=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function ae(ye,ue,Me){const ce="visualVariables"in ye&&ye.visualVariables?ye.visualVariables.find(ke=>"color"===ke.type):ye;if(!ce)return;if("esri.renderers.visualVariables.ColorVariable"!==ce.declaredClass)return void Z.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const ge="number"==typeof ue,Pe=ge?null:ue,Ie=Pe&&Pe.attributes;let Re=ge?ue:null;const Ce=ce.field,{ipData:Fe,hasExpression:Ne}=ce.cache;let Le=ce.cache.compiledFunc;if(!Ce&&!Ne){const ke=ce.stops;return ke&&ke[0]&&ke[0].color}if("number"!=typeof Re)if(Ne){if((0,k.Wi)(Me)||(0,k.Wi)(Me.arcade))return void Z.error("Use of arcade expressions requires an arcade context");const Ye=Me.arcade.arcadeUtils,xe=Ye.getViewInfo({viewingMode:Me.viewingMode,scale:Me.scale,spatialReference:Me.spatialReference}),We=Ye.createExecContext(Pe,xe);if(!Le){const Qe=Ye.createSyntaxTree(ce.valueExpression);Le=Ye.createFunction(Qe),ce.cache.compiledFunc=Le}Re=Ye.executeFunction(Le,We)}else Ie&&(Re=Ie[Ce]);const Oe=ce.normalizationField,Ue=null!=Ie&&null!=Oe?parseFloat(Ie[Oe]):void 0;if(null!=Re&&(!Oe||ge||!isNaN(Ue)&&0!==Ue)){isNaN(Ue)||ge||(Re/=Ue);const ke=fe(Re,Fe);if(ke){const Ye=ke[0],xe=ke[1],We=Ye===xe?ce.stops[Ye].color:w.Z.blendColors(ce.stops[Ye].color,ce.stops[xe].color,ke[2],(0,k.pC)(Me)?Me.color:void 0);return new w.Z(We)}}}function se(ye,ue,Me){const ce="visualVariables"in ye&&ye.visualVariables?ye.visualVariables.find(ke=>"opacity"===ke.type):ye;if(!ce)return;if("esri.renderers.visualVariables.OpacityVariable"!==ce.declaredClass)return void Z.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const ge="number"==typeof ue,Pe=ge?null:ue,Ie=Pe&&Pe.attributes;let Re=ge?ue:null;const Ce=ce.field,{ipData:Fe,hasExpression:Ne}=ce.cache;let Le=ce.cache.compiledFunc;if(!Ce&&!Ne){const ke=ce.stops;return ke&&ke[0]&&ke[0].opacity}if("number"!=typeof Re)if(Ne){if((0,k.Wi)(Me)||(0,k.Wi)(Me.arcade))return void Z.error("Use of arcade expressions requires an arcade context");const Ye=Me.arcade.arcadeUtils,xe=Ye.getViewInfo({viewingMode:Me.viewingMode,scale:Me.scale,spatialReference:Me.spatialReference}),We=Ye.createExecContext(Pe,xe);if(!Le){const Qe=Ye.createSyntaxTree(ce.valueExpression);Le=Ye.createFunction(Qe),ce.cache.compiledFunc=Le}Re=Ye.executeFunction(Le,We)}else Ie&&(Re=Ie[Ce]);const Oe=ce.normalizationField,Ue=null!=Ie&&null!=Oe?parseFloat(Ie[Oe]):void 0;if(null!=Re&&(!Oe||ge||!isNaN(Ue)&&0!==Ue)){isNaN(Ue)||ge||(Re/=Ue);const ke=fe(Re,Fe);if(ke){const Ye=ke[0],xe=ke[1];if(Ye===xe)return ce.stops[Ye].opacity;{const We=ce.stops[Ye].opacity;return We+(ce.stops[xe].opacity-We)*ke[2]}}}}function ie(ye,ue,Me){const ce="visualVariables"in ye&&ye.visualVariables?ye.visualVariables.find(Ue=>"rotation"===Ue.type):ye;if(!ce)return;if("esri.renderers.visualVariables.RotationVariable"!==ce.declaredClass)return void Z.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const ge=ce.axis||"heading",Pe="heading"===ge&&"arithmetic"===ce.rotationType?90:0,Ie="heading"===ge&&"arithmetic"===ce.rotationType?-1:1,Re="number"==typeof ue?null:ue,Ce=Re&&Re.attributes,Fe=ce.field,{hasExpression:Ne}=ce.cache;let Le=ce.cache.compiledFunc,Oe=0;if(!Fe&&!Ne)return Oe;if(Ne){if((0,k.Wi)(Me)||(0,k.Wi)(Me.arcade))return void Z.error("Use of arcade expressions requires an arcade context");const ke=Me.arcade.arcadeUtils,Ye=ke.getViewInfo({viewingMode:Me.viewingMode,scale:Me.scale,spatialReference:Me.spatialReference}),xe=ke.createExecContext(Re,Ye);if(!Le){const We=ke.createSyntaxTree(ce.valueExpression);Le=ke.createFunction(We),ce.cache.compiledFunc=Le}Oe=ke.executeFunction(Le,xe)}else Ce&&(Oe=Ce[Fe]||0);return Oe="number"!=typeof Oe||isNaN(Oe)?null:Pe+Ie*Oe,Oe}function V(ye,ue,Me){const ce="visualVariables"in ye&&ye.visualVariables?ye.visualVariables.find(Pe=>"size"===Pe.type):ye;if(!ce)return;if("esri.renderers.visualVariables.SizeVariable"!==ce.declaredClass)return void Z.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const ge=me(function te(ye,ue,Me){const ce="number"==typeof ue,ge=ce?null:ue,Pe=ge&&ge.attributes;let Ie=ce?ue:null;const{isScaleDriven:Re}=ye.cache;let Ce=ye.cache.compiledFunc;if(Re){const Ne=(0,k.pC)(Me)?Me.scale:void 0,Le=(0,k.pC)(Me)?Me.view:void 0;Ie=null==Ne||"3d"===Le?function Q(ye){let ue=null,Me=null;const ce=ye.stops;return ce?(ue=ce[0].value,Me=ce[ce.length-1].value):(ue=ye.minDataValue||0,Me=ye.maxDataValue||0),(ue+Me)/2}(ye):Ne}else if(!ce)switch(ye.inputValueType){case ee.RY.Expression:{if((0,k.Wi)(Me)||(0,k.Wi)(Me.arcade))return void Z.error("Use of arcade expressions requires an arcade context");const Le=Me.arcade.arcadeUtils,Oe=Le.getViewInfo({viewingMode:Me.viewingMode,scale:Me.scale,spatialReference:Me.spatialReference}),Ue=Le.createExecContext(ge,Oe);if(!Ce){const ke=Le.createSyntaxTree(ye.valueExpression);Ce=Le.createFunction(ke),ye.cache.compiledFunc=Ce}Ie=Le.executeFunction(Ce,Ue);break}case ee.RY.Field:Pe&&(Ie=Pe[ye.field]);break;case ee.RY.Unknown:Ie=null}if(!(0,ee.qh)(Ie))return null;if(ce||!ye.normalizationField)return Ie;const Fe=Pe?parseFloat(Pe[ye.normalizationField]):null;return(0,ee.qh)(Fe)&&0!==Fe?Ie/Fe:null}(ce,ue,Me),ce,ue,Me,ce.cache.ipData);return null==ge||isNaN(ge)?0:ge}function U(ye,ue,Me){return null==ye?null:(0,ee.iY)(ye)?V(ye,ue,Me):(0,ee.qh)(ye)?ye:null}function $(ye,ue,Me){return(0,ee.qh)(Me)&&ye>Me?Me:(0,ee.qh)(ue)&&ye<ue?ue:ye}function me(ye,ue,Me,ce,ge){switch(ue.transformationType){case ee.hL.Additive:return function z(ye,ue,Me,ce){return ye+((U(ue.minSize,Me,ce)||ue.minDataValue)??0)}(ye,ue,Me,ce);case ee.hL.Constant:return function J(ye,ue,Me){const ce=ye.stops;let ge=ce&&ce.length&&ce[0].size;return null==ge&&(ge=ye.minSize),U(ge,ue,Me)}(ue,Me,ce);case ee.hL.ClampedLinear:return function q(ye,ue,Me,ce){const ge=(ye-ue.minDataValue)/(ue.maxDataValue-ue.minDataValue),Pe=U(ue.minSize,Me,ce),Ie=U(ue.maxSize,Me,ce),Re=(0,k.pC)(ce)?ce.shape:void 0;if(ye<=ue.minDataValue)return Pe;if(ye>=ue.maxDataValue)return Ie;if(null==Pe||null==Ie)return null;if("area"===ue.scaleBy&&Re){const Ce="circle"===Re,Fe=Ce?Y*(Pe/2)**2:Pe*Pe,Ne=Fe+ge*((Ce?Y*(Ie/2)**2:Ie*Ie)-Fe);return Ce?2*Math.sqrt(Ne/Y):Math.sqrt(Ne)}return Pe+ge*(Ie-Pe)}(ye,ue,Me,ce);case ee.hL.Proportional:return function oe(ye,ue,Me,ce){const ge=(0,k.pC)(ce)?ce.shape:void 0,Pe=ye/ue.minDataValue,Ie=U(ue.minSize,Me,ce),Re=U(ue.maxSize,Me,ce);let Ce=null;return Ce="circle"===ge?2*Math.sqrt(Pe*(Ie/2)**2):"square"===ge||"diamond"===ge||"image"===ge?Math.sqrt(Pe*Ie**2):Pe*Ie,$(Ce,Ie,Re)}(ye,ue,Me,ce);case ee.hL.Stops:return function pe(ye,ue,Me,ce,ge){const[Pe,Ie,Re]=fe(ye,ge);if(Pe===Ie)return U(ue.stops?.[Pe].size,Me,ce);{const Ce=U(ue.stops?.[Pe].size,Me,ce);return Ce+(U(ue.stops?.[Ie].size,Me,ce)-Ce)*Re}}(ye,ue,Me,ce,ge);case ee.hL.RealWorldSize:return function de(ye,ue,Me,ce){const ge=((0,k.pC)(ce)&&ce.resolution?ce.resolution:1)*re.a[ue.valueUnit],Pe=U(ue.minSize,Me,ce),Ie=U(ue.maxSize,Me,ce),{valueRepresentation:Re}=ue;let Ce=null;return Ce="area"===Re?2*Math.sqrt(ye/Y)/ge:"radius"===Re||"distance"===Re?2*ye/ge:ye/ge,$(Ce,Pe,Ie)}(ye,ue,Me,ce);case ee.hL.Identity:return ye;case ee.hL.Unknown:return null}}function _e(ye,ue,Me){const{isScaleDriven:ce}=ye.cache;if(!(ce&&"3d"===Me||ue))return null;const ge={scale:ue,view:Me};let Pe=U(ye.minSize,G,ge),Ie=U(ye.maxSize,G,ge);if(null!=Pe||null!=Ie){if(Pe>Ie){const Re=Ie;Ie=Pe,Pe=Re}return{minSize:Pe,maxSize:Ie}}}function le(ye,ue,Me){if(!ye.visualVariables)return;const ce=[],ge=[],Pe=[],Ie=[],Re=[];for(const Ce of ye.visualVariables)switch(Ce.type){case"color":ge.push(Ce);break;case"opacity":Pe.push(Ce);break;case"rotation":Re.push(Ce);break;case"size":Ie.push(Ce)}return ge.forEach(Ce=>{const Fe=ae(Ce,ue,Me);ce.push({variable:Ce,value:Fe})}),Pe.forEach(Ce=>{const Fe=se(Ce,ue,Me);ce.push({variable:Ce,value:Fe})}),Re.forEach(Ce=>{const Fe=ie(Ce,ue,Me);ce.push({variable:Ce,value:Fe})}),Ie.forEach(Ce=>{const Fe=V(Ce,ue,Me);ce.push({variable:Ce,value:Fe})}),ce.filter(Ce=>null!=Ce.value)}function fe(ye,ue){if(!ue)return;let Me=0,ce=ue.length-1;return ue.some((ge,Pe)=>ye<ge?(ce=Pe,!0):(Me=Pe,!1)),[Me,ce,(ye-ue[Me])/(ue[ce]-ue[Me])]}function Ee(ye,ue,Me){const ce=["proportional","proportional","proportional"];for(const ge of ye){const Pe=ge.useSymbolValue?"symbol-value":V(ge,ue,Me);switch(ge.axis){case"width":ce[0]=Pe;break;case"depth":ce[1]=Pe;break;case"height":ce[2]=Pe;break;case"width-and-depth":ce[0]=Pe,ce[1]=Pe;break;case"all":case void 0:case null:ce[0]=Pe,ce[1]=Pe,ce[2]=Pe;break;default:(0,W.Bg)(ge.axis)}}return ce}},84792:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>se});var w=T(15861),O=T(59318),W=T(24263),B=T(26584),k=T(8314),re=T(58817),ee=T(62208),Z=T(10699),G=T(21726),Y=T(24433),ne=T(12680),ae=T(33899);function se(Oe,Ue){return ie.apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(Oe,Ue){const ke=(0,G.HK)(Oe),Ye=(0,G.jc)(Oe);Ye||ke||(Oe=(0,G.Fv)(Oe));const xe={url:Oe,requestOptions:{...(0,ee.Wg)(Ue)}};let We=(0,G.oh)(Oe);if(We){const Te=yield ce(We,xe);if(null!=Te)return{data:Te,getHeader:J,httpStatus:200,requestOptions:xe.requestOptions,url:xe.url};We.after||We.error||(We=null)}if(Oe=xe.url,"image"===(Ue=xe.requestOptions).responseType){if((0,k.Z)("host-webworker")||(0,k.Z)("host-node"))throw de("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),xe)}else if(ke)throw de("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+Ue.responseType),xe);if("head"===Ue.method){if(Ue.body)throw de("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),xe);if(ke||Ye)throw de("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),xe)}if(yield be(),te)return te.execute(Oe,Ue);const Qe=new AbortController;(0,Z.fu)(Ue,()=>Qe.abort());const lt={controller:Qe,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:We,params:xe,redoRequest:!1,useIdentity:Q.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},ve=yield Re(lt);return We?.after?.(ve),ve})).apply(this,arguments)}let te;const Q=O.Z.request,V="FormData"in globalThis,U=[499,498,403,401],$=["COM_0056","COM_0057","SB_0008"],z=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],J=()=>null,q=Symbol();function oe(Oe){const Ue=(0,G.P$)(Oe);Ue&&!se._corsServers.includes(Ue)&&se._corsServers.push(Ue)}function pe(Oe){const Ue=(0,G.P$)(Oe);return!Ue||Ue.endsWith(".arcgis.com")||se._corsServers.includes(Ue)||(0,G.kl)(Ue)}function de(Oe,Ue,ke,Ye){let xe="Error";const We={url:ke.url,requestOptions:ke.requestOptions,getHeader:J,ssl:!1};if(Ue instanceof B.Z)return Ue.details?(Ue.details=(0,re.d9)(Ue.details),Ue.details.url=ke.url,Ue.details.requestOptions=ke.requestOptions):Ue.details=We,Ue;if(Ue){const Qe=Ye&&(Te=>Ye.headers.get(Te)),lt=Ye&&Ye.status,ve=Ue.message;ve&&(xe=ve),Qe&&(We.getHeader=Qe),We.httpStatus=(null!=Ue.httpCode?Ue.httpCode:Ue.code)||lt||0,We.subCode=Ue.subcode,We.messageCode=Ue.messageCode,We.messages="string"==typeof Ue.details?[Ue.details]:Ue.details,We.raw=q in Ue?Ue[q]:Ue}return(0,Z.D_)(Ue)?(0,Z.zE)():new B.Z(Oe,xe,We)}function be(){return me.apply(this,arguments)}function me(){return(me=(0,w.Z)(function*(){(0,k.Z)("host-webworker")?te||(te=yield T.e(3358).then(T.bind(T,23358))):se._abortableFetch||(se._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function _e(){return le.apply(this,arguments)}function le(){return(le=(0,w.Z)(function*(){W.id||(yield T.e(9058).then(T.bind(T,59058)))})).apply(this,arguments)}function fe(Oe){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*(Oe){const Ue=Oe.params.url,ke=Oe.params.requestOptions,Ye=Oe.controller.signal,xe=ke.body;let We=null,Qe=null;if(V&&"HTMLFormElement"in globalThis&&(xe instanceof FormData?We=xe:xe instanceof HTMLFormElement&&(We=new FormData(xe))),"string"==typeof xe&&(Qe=xe),Oe.fetchOptions={cache:ke.cacheBust&&!se._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:ke.headers||{},method:"head"===ke.method?"HEAD":"GET",mode:"cors",priority:Q.priority,redirect:"follow",signal:Ye},(We||Qe)&&(Oe.fetchOptions.body=We||Qe),"anonymous"===ke.authMode&&(Oe.useIdentity=!1),Oe.hasToken=!!(/token=/i.test(Ue)||ke.query?.token||We?.get("token")),!Oe.hasToken&&O.Z.apiKey&&(0,ne.r)(Ue)&&(ke.query||(ke.query={}),ke.query.token=O.Z.apiKey,Oe.hasToken=!0),Oe.useIdentity&&!Oe.hasToken&&!Oe.credentialToken&&!ye(Ue)&&!(0,Z.Hc)(Ye)){let lt;"immediate"===ke.authMode?(yield _e(),lt=yield W.id.getCredential(Ue,{signal:Ye}),Oe.credential=lt):"no-prompt"===ke.authMode?(yield _e(),lt=yield W.id.getCredential(Ue,{prompt:!1,signal:Ye}).catch(()=>{}),Oe.credential=lt):W.id&&(lt=W.id.findCredential(Ue)),lt&&(Oe.credentialToken=lt.token,Oe.useSSL=!!lt.ssl)}})).apply(this,arguments)}function ye(Oe){return z.some(Ue=>Ue.test(Oe))}function ue(Oe){return Me.apply(this,arguments)}function Me(){return(Me=(0,w.Z)(function*(Oe){let Ue=Oe.params.url;const ke=Oe.params.requestOptions,Ye=Oe.fetchOptions??{},xe=(0,G.jc)(Ue)||(0,G.HK)(Ue),We=ke.responseType||"json",Qe=xe?0:null!=ke.timeout?ke.timeout:Q.timeout;let lt=!1;if(!xe){Oe.useSSL&&(Ue=(0,G.hO)(Ue)),ke.cacheBust&&"default"===Ye.cache&&(Ue=(0,G.ZN)(Ue,"request.preventCache",Date.now()));let $e={...ke.query};Oe.credentialToken&&($e.token=Oe.credentialToken);let Xe=(0,G.B7)($e);(0,k.Z)("esri-url-encodes-apostrophe")&&(Xe=Xe.replace(/'/g,"%27"));const at=Ue.length+1+Xe.length;let we;lt="delete"===ke.method||"post"===ke.method||"put"===ke.method||!!ke.body||at>Q.maxUrlLength;const tt=ke.useProxy||!!(0,G.ed)(Ue);if(tt){const pt=(0,G.b7)(Ue);we=pt.path,!lt&&we.length+1+at>Q.maxUrlLength&&(lt=!0),pt.query&&($e={...pt.query,...$e})}if("HEAD"===Ye.method&&(lt||tt)){if(lt)throw de("request:invalid-parameters",at>Q.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),Oe.params);if(tt)throw de("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),Oe.params)}if(lt?(Ye.method="delete"===ke.method?"DELETE":"put"===ke.method?"PUT":"POST",ke.body?Ue=(0,G.fl)(Ue,$e):(Ye.body=(0,G.B7)($e),Ye.headers||(Ye.headers={}),Ye.headers["Content-Type"]="application/x-www-form-urlencoded")):Ue=(0,G.fl)(Ue,$e),tt&&(Oe.useProxy=!0,Ue=`${we}?${Ue}`),$e.token&&V&&Ye.body instanceof FormData&&!(0,Y.P)(Ue)&&Ye.body.set("token",$e.token),ke.hasOwnProperty("withCredentials"))Oe.withCredentials=ke.withCredentials;else if(!(0,G.D6)(Ue,(0,G.TI)()))if((0,G.kl)(Ue))Oe.withCredentials=!0;else if(W.id){const pt=W.id.findServerInfo(Ue);pt&&pt.webTierAuth&&(Oe.withCredentials=!0)}Oe.withCredentials&&(Ye.credentials="include",(0,ae.jH)(Ue)&&(yield(0,ae.jz)(lt?(0,G.fl)(Ue,$e):Ue)))}let ve,Te,Be=0,Ge=!1;Qe>0&&(Be=setTimeout(()=>{Ge=!0,Oe.controller.abort()},Qe));try{if("native-request-init"===ke.responseType)Te=Ye,Te.url=Ue;else if("image"!==ke.responseType||"default"!==Ye.cache||"GET"!==Ye.method||lt||Pe(ke.headers)||!xe&&!Oe.useProxy&&Q.proxyUrl&&!pe(Ue)){if(ve=yield se._abortableFetch(Ue,Ye),Oe.useProxy||oe(Ue),"native"===ke.responseType)Te=ve;else if("HEAD"!==Ye.method)if(ve.ok){switch(We){case"array-buffer":Te=yield ve.arrayBuffer();break;case"blob":case"image":Te=yield ve.blob();break;default:Te=yield ve.text()}if(Be&&(clearTimeout(Be),Be=0),"json"===We||"xml"===We||"document"===We)if(Te)switch(We){case"json":Te=JSON.parse(Te);break;case"xml":Te=Ie(Te,"application/xml");break;case"document":Te=Ie(Te,"text/html")}else Te=null;if(Te){if("array-buffer"===We||"blob"===We){const $e=ve.headers.get("Content-Type");if($e&&/application\/json|text\/plain/i.test($e)&&Te["blob"===We?"size":"byteLength"]<=750)try{const Xe=yield new Response(Te).json();Xe.error&&(Te=Xe)}catch{}}"image"===We&&Te instanceof Blob&&(Te=yield Le(URL.createObjectURL(Te),Oe,!0))}}else Te=yield ve.text()}else Te=yield Le(Ue,Oe)}catch($e){if("AbortError"===$e.name)throw Ge?new Error("Timeout exceeded"):(0,Z.zE)("Request canceled");if(!(!ve&&$e instanceof TypeError&&Q.proxyUrl)||ke.body||"delete"===ke.method||"head"===ke.method||"post"===ke.method||"put"===ke.method||Oe.useProxy||pe(Ue))throw $e;Oe.redoRequest=!0,(0,G.tD)({proxyUrl:Q.proxyUrl,urlPrefix:(0,G.P$)(Ue)??""})}finally{Be&&clearTimeout(Be)}return[ve,Te]})).apply(this,arguments)}function ce(Oe,Ue){return ge.apply(this,arguments)}function ge(){return(ge=(0,w.Z)(function*(Oe,Ue){if(null!=Oe.responseData)return Oe.responseData;if(Oe.headers&&(Ue.requestOptions.headers={...Ue.requestOptions.headers,...Oe.headers}),Oe.query&&(Ue.requestOptions.query={...Ue.requestOptions.query,...Oe.query}),Oe.before){let ke,Ye;try{Ye=yield Oe.before(Ue)}catch(xe){ke=de("request:interceptor",xe,Ue)}if((Ye instanceof Error||Ye instanceof B.Z)&&(ke=de("request:interceptor",Ye,Ue)),ke)throw Oe.error&&Oe.error(ke),ke;return Ye}})).apply(this,arguments)}function Pe(Oe){if(Oe)for(const Ue of Object.getOwnPropertyNames(Oe))if(Oe[Ue])return!0;return!1}function Ie(Oe,Ue){let ke;try{ke=(new DOMParser).parseFromString(Oe,Ue)}catch{}if(!ke||ke.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return ke}function Re(Oe){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,w.Z)(function*(Oe){let Ue,ke;yield fe(Oe);try{do{[Ue,ke]=yield ue(Oe)}while(!(yield Fe(Oe,Ue,ke)))}catch(We){const Qe=de("request:server",We,Oe.params,Ue);throw Qe.details.ssl=Oe.useSSL,Oe.interceptor&&Oe.interceptor.error&&Oe.interceptor.error(Qe),Qe}const Ye=Oe.params.url;if(ke&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Ye)){if(!Oe.hasToken&&!Oe.credentialToken&&ke.user?.username&&!(0,G.kl)(Ye)){const We=(0,G.P$)(Ye,!0);We&&Q.trustedServers.push(We)}Array.isArray(ke.authorizedCrossOriginNoCorsDomains)&&(0,ae.Hu)(ke.authorizedCrossOriginNoCorsDomains)}const xe=Oe.credential;if(xe&&W.id){const We=W.id.findServerInfo(xe.server);let Qe=We&&We.owningSystemUrl;if(Qe){Qe=Qe.replace(/\/?$/,"/sharing");const lt=W.id.findCredential(Qe,xe.userId);lt&&-1===W.id._getIdenticalSvcIdx(Qe,lt)&&lt.resources.unshift(Qe)}}return{data:ke,getHeader:Ue?We=>Ue?.headers.get(We):J,httpStatus:Ue?.status??200,requestOptions:Oe.params.requestOptions,ssl:Oe.useSSL,url:Oe.params.url}})).apply(this,arguments)}function Fe(Oe,Ue,ke){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,w.Z)(function*(Oe,Ue,ke){if(Oe.redoRequest)return Oe.redoRequest=!1,!1;const Ye=Oe.params.requestOptions;if(!Ue||"native"===Ye.responseType||"native-request-init"===Ye.responseType)return!0;let xe,We;if(!Ue.ok)throw xe=new Error(`Unable to load ${Ue.url} status: ${Ue.status}`),xe[q]=ke,xe;ke&&(ke.error?xe=ke.error:"error"===ke.status&&Array.isArray(ke.messages)&&(xe={...ke},xe[q]=ke,xe.details=ke.messages));let Qe,lt=null;xe&&(We=Number(xe.code),lt=xe.hasOwnProperty("subcode")?Number(xe.subcode):null,Qe=xe.messageCode,Qe=Qe&&Qe.toUpperCase());const ve=Ye.authMode;if(403===We&&(4===lt||xe.message&&xe.message.toLowerCase().includes("ssl")&&!xe.message.toLowerCase().includes("permission"))){if(!Oe.useSSL)return Oe.useSSL=!0,!1}else if(!Oe.hasToken&&Oe.useIdentity&&("no-prompt"!==ve||498===We)&&void 0!==We&&U.includes(We)&&!ye(Oe.params.url)&&(403!==We||Qe&&!$.includes(Qe)&&(null==lt||2===lt&&Oe.credentialToken))){yield _e();try{const Te=yield W.id.getCredential(Oe.params.url,{error:de("request:server",xe,Oe.params),prompt:"no-prompt"!==ve,signal:Oe.controller.signal,token:Oe.credentialToken});return Oe.credential=Te,Oe.credentialToken=Te.token,Oe.useSSL=Oe.useSSL||Te.ssl,!1}catch(Te){if("no-prompt"===ve)return Oe.credential=void 0,Oe.credentialToken=void 0,!1;xe=Te}}if(xe)throw xe;return!0})).apply(this,arguments)}function Le(Oe,Ue,ke=!1){const Ye=Ue.controller.signal,xe=new Image;return xe.crossOrigin=Ue.withCredentials?"use-credentials":"anonymous",xe.alt="",xe.fetchPriority=Q.priority,xe.src=Oe,(0,ae.fY)(xe,Oe,ke,Ye)}se._abortableFetch=null,se._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},10920:(j,F,T)=>{"use strict";T.d(F,{F:()=>O,o:()=>W});var w=T(91179);function O(B){return{geometryType:(0,w.Ji)(B[0]),geometries:B.map(k=>k.toJSON())}}function W(B,k,re){const ee=(0,w.q9)(k);return B.map(Z=>{const G=ee.fromJSON(Z);return G.spatialReference=re,G})}},76391:(j,F,T)=>{"use strict";function w(O){const W={};for(const B in O){if("declaredClass"===B)continue;const k=O[B];if(null!=k&&"function"!=typeof k)if(Array.isArray(k)){W[B]=[];for(let re=0;re<k.length;re++)W[B][re]=w(k[re])}else"object"==typeof k?k.toJSON&&(W[B]=JSON.stringify(k)):W[B]=k}return W}T.d(F,{A:()=>w})},2865:(j,F,T)=>{"use strict";T.d(F,{F:()=>Z,e:()=>re});var w=T(15861),O=T(2618),W=T(20477),B=T(17253),k=T(96854);function re(Y,ne,ae){return ee.apply(this,arguments)}function ee(){return(ee=(0,w.Z)(function*(Y,ne,ae){const se=yield Z(Y,ne,ae);return B.Z.fromJSON(se)})).apply(this,arguments)}function Z(Y,ne,ae){return G.apply(this,arguments)}function G(){return(G=(0,w.Z)(function*(Y,ne,ae){const se=(0,O.en)(Y),ie={...ae},te=k.Z.from(ne),{data:Q}=yield(0,W.JT)(se,te,te.sourceSpatialReference,ie);return Q})).apply(this,arguments)}},20514:(j,F,T)=>{"use strict";T.d(F,{P:()=>k});var w=T(62208),O=T(16730),W=T(37053);function B(Z,G,Y){if(null==Z.hasM||Z.hasZ)for(const ne of G)for(const ae of ne)ae.length>2&&(ae[2]*=Y)}function k(Z,G,Y){if(!Z&&!G||!Y)return;const ne=(0,O._R)(Y);re(Z,Y,ne),re(G,Y,ne)}function re(Z,G,Y){if(Z)for(const ne of Z)ee(ne.geometry,G,Y)}function ee(Z,G,Y){if((0,w.Wi)(Z)||!Z.spatialReference||(0,W.fS)(Z.spatialReference,G))return;const ne=(0,O._R)(Z.spatialReference)/Y;if(1!==ne)if("x"in Z)null!=Z.z&&(Z.z*=ne);else if("rings"in Z)B(Z,Z.rings,ne);else if("paths"in Z)B(Z,Z.paths,ne);else if("points"in Z&&(null==Z.hasM||Z.hasZ))for(const ae of Z.points)ae.length>2&&(ae[2]*=ne)}},71260:(j,F,T)=>{"use strict";T.d(F,{G$:()=>q,K9:()=>me,O7:()=>G});var w=T(26584),O=T(62208),W=T(24192),B=T(88071),k=T(98558);const re=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],ee=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],Z=["upperLeft","lowerLeft"];function G(_e){return _e>=re.length?null:re[_e]}function Y(_e){return _e>=ee.length?null:ee[_e]}function ne(_e){return _e>=Z.length?null:Z[_e]}function ae(_e,le){return le>=_e.geometryTypes.length?null:_e.geometryTypes[le]}function se(_e,le,fe){const ye=_e.asUnsafe(),ue=le.createPointGeometry(fe);for(;ye.next();)switch(ye.tag()){case 3:{const Me=ye.getUInt32(),ce=ye.pos()+Me;let ge=0;for(;ye.pos()<ce;)le.addCoordinatePoint(ue,ye.getSInt64(),ge++);break}default:ye.skip()}return ue}function ie(_e,le,fe){const ue=_e.asUnsafe(),Me=le.createGeometry(fe),ce=2+(fe.hasZ?1:0)+(fe.hasM?1:0);for(;ue.next();)switch(ue.tag()){case 2:{const ge=ue.getUInt32(),Pe=ue.pos()+ge;let Ie=0;for(;ue.pos()<Pe;)le.addLength(Me,ue.getUInt32(),Ie++);break}case 3:{const ge=ue.getUInt32(),Pe=ue.pos()+ge;let Ie=0;for(le.allocateCoordinates(Me);ue.pos()<Pe;)le.addCoordinate(Me,ue.getSInt64(),Ie),Ie++,Ie===ce&&(Ie=0);break}default:ue.skip()}return Me}function te(_e){const ye=_e.asUnsafe(),ue=new B.Z;let Me="esriGeometryPoint";for(;ye.next();)switch(ye.tag()){case 2:{const ce=ye.getUInt32(),ge=ye.pos()+ce;for(;ye.pos()<ge;)ue.lengths.push(ye.getUInt32());break}case 3:{const ce=ye.getUInt32(),ge=ye.pos()+ce;for(;ye.pos()<ge;)ue.coords.push(ye.getSInt64());break}case 1:Me=k.A[ye.getEnum()];break;default:ye.skip()}return{queryGeometry:ue,queryGeometryType:Me}}function Q(_e){const Ie=_e.asUnsafe();for(;Ie.next();)switch(Ie.tag()){case 1:return Ie.getString();case 2:return Ie.getFloat();case 3:return Ie.getDouble();case 4:return Ie.getSInt32();case 5:return Ie.getUInt32();case 6:return Ie.getInt64();case 7:return Ie.getUInt64();case 8:return Ie.getSInt64();case 9:return Ie.getBool();default:return Ie.skip(),null}return null}function V(_e){const ce=_e.asUnsafe(),ge={type:G(0)};for(;ce.next();)switch(ce.tag()){case 1:ge.name=ce.getString();break;case 2:ge.type=G(ce.getEnum());break;case 3:ge.alias=ce.getString();break;case 4:ge.sqlType=Y(ce.getEnum());break;case 5:default:ce.skip();break;case 6:ge.defaultValue=ce.getString()}return ge}function U(_e){const Ee={},ye=_e.asUnsafe();for(;ye.next();)switch(ye.tag()){case 1:Ee.name=ye.getString();break;case 2:Ee.isSystemMaintained=ye.getBool();break;default:ye.skip()}return Ee}function $(_e,le,fe,Ee){const ce=le.createFeature(fe);let ge=0;for(;_e.next();)switch(_e.tag()){case 1:{const Pe=Ee[ge++].name;ce.attributes[Pe]=_e.processMessage(Q);break}case 2:ce.geometry=_e.processMessageWithArgs(ie,le,fe);break;case 4:ce.centroid=_e.processMessageWithArgs(se,le,fe);break;default:_e.skip()}return ce}function z(_e){const ue=[1,1,1,1],Me=_e.asUnsafe();for(;Me.next();)switch(Me.tag()){case 1:ue[0]=Me.getDouble();break;case 2:ue[1]=Me.getDouble();break;case 4:ue[2]=Me.getDouble();break;case 3:ue[3]=Me.getDouble();break;default:Me.skip()}return ue}function J(_e){const ue=[0,0,0,0],Me=_e.asUnsafe();for(;Me.next();)switch(Me.tag()){case 1:ue[0]=Me.getDouble();break;case 2:ue[1]=Me.getDouble();break;case 4:ue[2]=Me.getDouble();break;case 3:ue[3]=Me.getDouble();break;default:Me.skip()}return ue}function q(_e){const ye={originPosition:ne(0)},ue=_e.asUnsafe();for(;ue.next();)switch(ue.tag()){case 1:ye.originPosition=ne(ue.getEnum());break;case 2:ye.scale=ue.processMessage(z);break;case 3:ye.translate=ue.processMessage(J);break;default:ue.skip()}return ye}function oe(_e){const ye={},ue=_e.asUnsafe();for(;ue.next();)switch(ue.tag()){case 1:ye.shapeAreaFieldName=ue.getString();break;case 2:ye.shapeLengthFieldName=ue.getString();break;case 3:ye.units=ue.getString();break;default:ue.skip()}return ye}function pe(_e,le){const ce=le.createSpatialReference();for(;_e.next();)switch(_e.tag()){case 1:ce.wkid=_e.getUInt32();break;case 5:ce.wkt=_e.getString();break;case 2:ce.latestWkid=_e.getUInt32();break;case 3:ce.vcsWkid=_e.getUInt32();break;case 4:ce.latestVcsWkid=_e.getUInt32();break;default:_e.skip()}return ce}function de(_e,le){const Le=le.createFeatureResult(),Oe=_e.asUnsafe();Le.geometryType=ae(le,0);let Ue=!1;for(;Oe.next();)switch(Oe.tag()){case 1:Le.objectIdFieldName=Oe.getString();break;case 3:Le.globalIdFieldName=Oe.getString();break;case 4:Le.geohashFieldName=Oe.getString();break;case 5:Le.geometryProperties=Oe.processMessage(oe);break;case 7:Le.geometryType=ae(le,Oe.getEnum());break;case 8:Le.spatialReference=Oe.processMessageWithArgs(pe,le);break;case 10:Le.hasZ=Oe.getBool();break;case 11:Le.hasM=Oe.getBool();break;case 12:Le.transform=Oe.processMessage(q);break;case 9:{const ke=Oe.getBool();Le.exceededTransferLimit=ke;break}case 13:le.addField(Le,Oe.processMessage(V));break;case 15:Ue||(le.prepareFeatures(Le),Ue=!0),le.addFeature(Le,Oe.processMessageWithArgs($,le,Le,Le.fields));break;case 2:Le.uniqueIdField=Oe.processMessage(U);break;default:Oe.skip()}return le.finishFeatureResult(Le),Le}function be(_e,le){const ye={};let ue=null;for(;_e.next();)switch(_e.tag()){case 4:ue=_e.processMessageWithArgs(te);break;case 1:ye.featureResult=_e.processMessageWithArgs(de,le);break;default:_e.skip()}return(0,O.pC)(ue)&&ye.featureResult&&le.addQueryGeometry(ye,ue),ye}function me(_e,le){try{const Ee=new W.Z(new Uint8Array(_e),new DataView(_e)),ye={};for(;Ee.next();)2===Ee.tag()?ye.queryResult=Ee.processMessageWithArgs(be,le):Ee.skip();return ye}catch(fe){throw new w.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:fe})}}},98558:(j,F,T)=>{"use strict";T.d(F,{A:()=>re,J:()=>ee});var w=T(16730),O=T(37053),W=T(66385),B=T(95786),k=T(88071);const re=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class ee{constructor(G){this._options=G,this.geometryTypes=re,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new B.Z}prepareFeatures(G){this._vertexDimension=2,G.hasZ&&this._vertexDimension++,G.hasM&&this._vertexDimension++}finishFeatureResult(G){if(!G||!G.features||!G.hasZ||!this._options.sourceSpatialReference||!G.spatialReference||(0,O.fS)(G.spatialReference,this._options.sourceSpatialReference)||G.spatialReference.vcsWkid)return;const Y=(0,w._R)(this._options.sourceSpatialReference)/(0,w._R)(G.spatialReference);if(1!==Y)for(const ne of G.features){if(!(0,W.S6)(ne))continue;const ae=ne.geometry.coords;for(let se=2;se<ae.length;se+=3)ae[se]*=Y}}addFeature(G,Y){G.features.push(Y)}createFeature(){return new W.u_}createSpatialReference(){return{wkid:0}}createGeometry(){return new k.Z}addField(G,Y){G.fields.push(Y)}allocateCoordinates(G){G.coords.length=G.lengths.reduce((Y,ne)=>Y+ne,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(G,Y){G.coords[this._coordinatePtr++]=Y}addCoordinatePoint(G,Y){G.coords.push(Y)}addLength(G,Y){G.lengths.push(Y)}addQueryGeometry(G,Y){G.queryGeometry=Y.queryGeometry,G.queryGeometryType=Y.queryGeometryType}createPointGeometry(){return new k.Z}}},85262:(j,F,T)=>{"use strict";T.d(F,{C:()=>O});var w=T(71260);function O(W,B){const k=(0,w.K9)(W,B),re=k.queryResult.featureResult,ee=k.queryResult.queryGeometry,Z=k.queryResult.queryGeometryType;if(re&&re.features&&re.features.length&&re.objectIdFieldName){const G=re.objectIdFieldName;for(const Y of re.features)Y.attributes&&(Y.objectId=Y.attributes[G])}return re&&(re.queryGeometry=ee,re.queryGeometryType=Z),re}},20477:(j,F,T)=>{"use strict";T.d(F,{Ev:()=>U,JT:()=>se,Vr:()=>z,hH:()=>$,n7:()=>V,qp:()=>te});var w=T(15861),O=T(84792),W=T(62208),B=T(21726),k=T(91179),re=T(93555),ee=T(76391),Z=T(85262),G=T(61515);const Y="Layer does not support extent calculation.";function ae(q,oe){const pe=q.geometry,de=q.toJSON();delete de.compactGeometryEnabled,delete de.defaultSpatialReferenceEnabled;const be=de;let me,_e,le;if((0,W.pC)(pe)&&(_e=pe.spatialReference,le=pe.spatialReference.wkid||JSON.stringify(pe.spatialReference),be.geometryType=(0,k.Ji)(pe),be.geometry=function ne(q,oe){if(oe&&"extent"===q.type)return`${q.xmin},${q.ymin},${q.xmax},${q.ymax}`;if(oe&&"point"===q.type)return`${q.x},${q.y}`;const pe=q.toJSON();return delete pe.spatialReference,JSON.stringify(pe)}(pe,q.compactGeometryEnabled),be.inSR=le),de.groupByFieldsForStatistics&&(be.groupByFieldsForStatistics=de.groupByFieldsForStatistics.join(",")),de.objectIds&&(be.objectIds=de.objectIds.join(",")),de.orderByFields&&(be.orderByFields=de.orderByFields.join(",")),!de.outFields||!de.returnDistinctValues&&(oe?.returnCountOnly||oe?.returnExtentOnly||oe?.returnIdsOnly)?delete be.outFields:be.outFields=de.outFields.includes("*")?"*":de.outFields.join(","),de.outSR?(be.outSR=de.outSR.wkid||JSON.stringify(de.outSR),me=q.outSpatialReference):pe&&(de.returnGeometry||de.returnCentroid)&&(be.outSR=be.inSR,me=_e),de.returnGeometry&&delete de.returnGeometry,de.outStatistics&&(be.outStatistics=JSON.stringify(de.outStatistics)),de.fullText&&(be.fullText=JSON.stringify(de.fullText)),de.pixelSize&&(be.pixelSize=JSON.stringify(de.pixelSize)),de.quantizationParameters&&(q.defaultSpatialReferenceEnabled&&(0,W.pC)(_e)&&(0,W.pC)(q.quantizationParameters)&&(0,W.pC)(q.quantizationParameters.extent)&&_e.equals(q.quantizationParameters.extent.spatialReference)&&delete de.quantizationParameters.extent.spatialReference,be.quantizationParameters=JSON.stringify(de.quantizationParameters)),de.parameterValues&&(be.parameterValues=JSON.stringify(de.parameterValues)),de.rangeValues&&(be.rangeValues=JSON.stringify(de.rangeValues)),de.dynamicDataSource&&(be.layer=JSON.stringify({source:de.dynamicDataSource}),delete de.dynamicDataSource),de.timeExtent){const fe=de.timeExtent,{start:Ee,end:ye}=fe;null==Ee&&null==ye||(be.time=Ee===ye?Ee:`${Ee??"null"},${ye??"null"}`),delete de.timeExtent}return q.defaultSpatialReferenceEnabled&&(0,W.pC)(_e)&&(0,W.pC)(me)&&_e.equals(me)&&(be.defaultSR=be.inSR,delete be.inSR,delete be.outSR),be}function se(q,oe,pe,de){return ie.apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(q,oe,pe,de){const be=(0,W.pC)(oe.timeExtent)&&oe.timeExtent.isEmpty?{data:{features:[]}}:yield J(q,oe,"json",de);return(0,G.p)(oe,pe,be.data),be})).apply(this,arguments)}function te(q,oe,pe,de){return Q.apply(this,arguments)}function Q(){return(Q=(0,w.Z)(function*(q,oe,pe,de){if((0,W.pC)(oe.timeExtent)&&oe.timeExtent.isEmpty)return{data:pe.createFeatureResult()};const be=yield V(q,oe,de),me=be;return me.data=(0,Z.C)(be.data,pe),me})).apply(this,arguments)}function V(q,oe,pe){return J(q,oe,"pbf",pe)}function U(q,oe,pe){return(0,W.pC)(oe.timeExtent)&&oe.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):J(q,oe,"json",pe,{returnIdsOnly:!0})}function $(q,oe,pe){return(0,W.pC)(oe.timeExtent)&&oe.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):J(q,oe,"json",pe,{returnIdsOnly:!0,returnCountOnly:!0})}function z(q,oe,pe){return(0,W.pC)(oe.timeExtent)&&oe.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):J(q,oe,"json",pe,{returnExtentOnly:!0,returnCountOnly:!0}).then(de=>{const be=de.data;if(be.hasOwnProperty("extent"))return de;if(be.features)throw new Error(Y);if(be.hasOwnProperty("count"))throw new Error(Y);return de})}function J(q,oe,pe,de={},be={}){const me="string"==typeof q?(0,B.mN)(q):q,_e=oe.geometry?[oe.geometry]:[];return de.responseType="pbf"===pe?"array-buffer":"json",(0,re.aX)(_e,null,de).then(le=>{const fe=le&&le[0];(0,W.pC)(fe)&&((oe=oe.clone()).geometry=fe);const Ee=(0,ee.A)({...me.query,f:pe,...be,...ae(oe,be)});return(0,O.default)((0,B.v_)(me.path,"query"),{...de,query:{...Ee,...de.query}})})}},61515:(j,F,T)=>{"use strict";T.d(F,{p:()=>W});var w=T(62208),O=T(33696);function W(B,k,re){if(!re||!re.features||!re.hasZ)return;const ee=(0,O.k)(re.geometryType,k,B.outSpatialReference);if(!(0,w.Wi)(ee))for(const Z of re.features)ee(Z.geometry)}},87183:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var G,w=T(17626),O=T(86810),W=T(77712),B=T(90912),re=(T(85931),T(76898));const Y={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let ne=G=class extends O.wq{constructor(se){super(se),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:se}=this,ie=function ee(se){const{exifInfo:ie,exifName:te,tagName:Q}=se;if(!ie||!te||!Q)return null;const V=ie.find(U=>U.name===te);return V?function Z(se){const{tagName:ie,tags:te}=se;if(!te||!ie)return null;const Q=te.find(V=>V.name===ie);return Q&&Q.value||null}({tagName:Q,tags:V.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:se});return Y[ie]||null}clone(){return new G({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,w._)([(0,W.Cb)({type:String})],ne.prototype,"contentType",void 0),(0,w._)([(0,W.Cb)()],ne.prototype,"exifInfo",void 0),(0,w._)([(0,W.Cb)({readOnly:!0})],ne.prototype,"orientationInfo",null),(0,w._)([(0,W.Cb)({type:B.z8})],ne.prototype,"id",void 0),(0,w._)([(0,W.Cb)({type:String})],ne.prototype,"globalId",void 0),(0,w._)([(0,W.Cb)({type:String})],ne.prototype,"keywords",void 0),(0,w._)([(0,W.Cb)({type:String})],ne.prototype,"name",void 0),(0,w._)([(0,W.Cb)({json:{read:!1}})],ne.prototype,"parentGlobalId",void 0),(0,w._)([(0,W.Cb)({json:{read:!1}})],ne.prototype,"parentObjectId",void 0),(0,w._)([(0,W.Cb)({type:B.z8})],ne.prototype,"size",void 0),(0,w._)([(0,W.Cb)({json:{read:!1}})],ne.prototype,"url",void 0),ne=G=(0,w._)([(0,re.j)("esri.layers.support.AttachmentInfo")],ne);const ae=ne},40251:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var G,w=T(17626),O=T(91558),W=T(58817),B=T(77712),k=T(90912),re=T(55342),ee=T(76898),Z=T(40669);let Y=G=class extends Z.Z{constructor(ae){super(ae),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new G({fromColor:(0,W.d9)(this.fromColor),toColor:(0,W.d9)(this.toColor),algorithm:this.algorithm})}};(0,w._)([(0,re.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Y.prototype,"algorithm",void 0),(0,w._)([(0,B.Cb)({type:O.Z,json:{type:[k.z8],write:!0}})],Y.prototype,"fromColor",void 0),(0,w._)([(0,B.Cb)({type:O.Z,json:{type:[k.z8],write:!0}})],Y.prototype,"toColor",void 0),(0,w._)([(0,B.Cb)({type:["algorithmic"]})],Y.prototype,"type",void 0),Y=G=(0,w._)([(0,ee.j)("esri.rest.support.AlgorithmicColorRamp")],Y);const ne=Y},67736:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(86810),W=T(58817),B=T(77712),k=T(90912),re=T(76898),ee=T(99433);let G=Z=class extends O.wq{constructor(ne){super(ne),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(ne,ae){ae.resultOffset=this.start,ae.resultRecordCount=this.num||10}clone(){return new Z((0,W.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,w._)([(0,B.Cb)({type:[String],json:{write:!0}})],G.prototype,"attachmentTypes",void 0),(0,w._)([(0,B.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],G.prototype,"attachmentsWhere",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"cacheHint",void 0),(0,w._)([(0,B.Cb)({type:[String],json:{write:!0}})],G.prototype,"keywords",void 0),(0,w._)([(0,B.Cb)({type:[Number],json:{write:!0}})],G.prototype,"globalIds",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],G.prototype,"name",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],G.prototype,"num",void 0),(0,w._)([(0,B.Cb)({type:[Number],json:{write:!0}})],G.prototype,"objectIds",void 0),(0,w._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],G.prototype,"returnMetadata",void 0),(0,w._)([(0,B.Cb)({type:[Number],json:{write:!0}})],G.prototype,"size",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],G.prototype,"start",void 0),(0,w._)([(0,ee.c)("start"),(0,ee.c)("num")],G.prototype,"writeStart",null),(0,w._)([(0,B.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],G.prototype,"where",void 0),G=Z=(0,w._)([(0,re.j)("esri.rest.support.AttachmentQuery")],G),G.from=(0,k.se)(G);const Y=G},8377:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var w=T(17626),O=T(2076),W=T(86810),B=T(77712),ee=(T(90912),T(85931),T(55342)),Z=T(76898);const G=new O.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),Y=new O.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let ne=class extends W.wq{constructor(se){super(se),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(se){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",se)}set definedInterval(se){"defined-interval"===this.classificationMethod&&this._set("definedInterval",se)}};(0,w._)([(0,ee.J)({classBreaksDef:"class-breaks-definition"})],ne.prototype,"type",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"breakCount",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"classificationField",void 0),(0,w._)([(0,B.Cb)({type:String,json:{read:G.read,write:G.write}})],ne.prototype,"classificationMethod",void 0),(0,w._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"normalizationField",void 0),(0,w._)([(0,B.Cb)({json:{read:Y.read,write:Y.write}})],ne.prototype,"normalizationType",void 0),(0,w._)([(0,B.Cb)({value:null,json:{write:!0}})],ne.prototype,"standardDeviationInterval",null),(0,w._)([(0,B.Cb)({value:null,json:{write:!0}})],ne.prototype,"definedInterval",null),ne=(0,w._)([(0,Z.j)("esri.rest.support.ClassBreaksDefinition")],ne);const ae=ne},40669:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(G){super(G),this.type=null}};(0,w._)([(0,W.Cb)({readOnly:!0,json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=(0,w._)([(0,re.j)("esri.rest.support.ColorRamp")],ee);const Z=ee},17253:(j,F,T)=>{"use strict";T.d(F,{Z:()=>$});var Q,w=T(17626),O=T(29132),W=T(88879),B=T(2076),k=T(86810),re=T(58817),ee=T(62208),Z=T(77712),Y=(T(90912),T(68653)),ne=T(76898),ae=T(99433),se=T(65234),ie=T(91179),te=T(36255);const V=new B.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let U=Q=class extends k.wq{constructor(z){super(z),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(z,J){const q=se.Z.fromJSON(J.spatialReference),oe=[];for(let pe=0;pe<z.length;pe++){const de=z[pe],be=W.Z.fromJSON(de),me=de.geometry&&de.geometry.spatialReference;(0,ee.pC)(be.geometry)&&!me&&(be.geometry.spatialReference=q);const _e=de.aggregateGeometries,le=be.aggregateGeometries;if(_e&&(0,ee.pC)(le))for(const fe in le){const Ee=le[fe],ye=_e[fe]?.spatialReference;(0,ee.pC)(Ee)&&!ye&&(Ee.spatialReference=q)}oe.push(be)}return oe}writeGeometryType(z,J,q,oe){if(z)return void V.write(z,J,q,oe);const{features:pe}=this;if(pe)for(const de of pe)if(de&&(0,ee.pC)(de.geometry))return void V.write(de.geometry.type,J,q,oe)}readQueryGeometry(z,J){if(!z)return null;const q=!!z.spatialReference,oe=(0,ie.im)(z);return oe&&!q&&J.spatialReference&&(oe.spatialReference=se.Z.fromJSON(J.spatialReference)),oe}writeSpatialReference(z,J){if(z)return void(J.spatialReference=z.toJSON());const{features:q}=this;if(q)for(const oe of q)if(oe&&(0,ee.pC)(oe.geometry)&&oe.geometry.spatialReference)return void(J.spatialReference=oe.geometry.spatialReference.toJSON())}clone(){return new Q(this.cloneProperties())}cloneProperties(){return(0,re.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(z){const J=this.write();if(J.features&&Array.isArray(z)&&z.length>0)for(let q=0;q<J.features.length;q++){const oe=J.features[q];if(oe.geometry){const pe=z&&z[q];oe.geometry=pe&&pe.toJSON()||oe.geometry}}return J}quantize(z){const{scale:[J,q],translate:[oe,pe]}=z,me=this.features,_e=this._getQuantizationFunction(this.geometryType,le=>Math.round((le-oe)/J),le=>Math.round((pe-le)/q));for(let le=0,fe=me.length;le<fe;le++)_e?.((0,ee.Wg)(me[le].geometry))||(me.splice(le,1),le--,fe--);return this.transform=z,this}unquantize(){const{geometryType:z,features:J,transform:q}=this;if(!q)return this;const{translate:[oe,pe],scale:[de,be]}=q,le=this._getHydrationFunction(z,fe=>fe*de+oe,fe=>pe-fe*be);for(const{geometry:fe}of J)(0,ee.pC)(fe)&&le&&le(fe);return this.transform=null,this}_quantizePoints(z,J,q){let oe,pe;const de=[];for(let be=0,me=z.length;be<me;be++){const _e=z[be];if(be>0){const le=J(_e[0]),fe=q(_e[1]);le===oe&&fe===pe||(de.push([le-oe,fe-pe]),oe=le,pe=fe)}else oe=J(_e[0]),pe=q(_e[1]),de.push([oe,pe])}return de.length>0?de:null}_getQuantizationFunction(z,J,q){return"point"===z?oe=>(oe.x=J(oe.x),oe.y=q(oe.y),oe):"polyline"===z||"polygon"===z?oe=>{const pe=(0,ie.oU)(oe)?oe.rings:oe.paths,de=[];for(let be=0,me=pe.length;be<me;be++){const le=this._quantizePoints(pe[be],J,q);le&&de.push(le)}return de.length>0?((0,ie.oU)(oe)?oe.rings=de:oe.paths=de,oe):null}:"multipoint"===z?oe=>{const pe=this._quantizePoints(oe.points,J,q);return pe&&pe.length>0?(oe.points=pe,oe):null}:"extent"===z?oe=>oe:null}_getHydrationFunction(z,J,q){return"point"===z?oe=>{oe.x=J(oe.x),oe.y=q(oe.y)}:"polyline"===z||"polygon"===z?oe=>{const pe=(0,ie.oU)(oe)?oe.rings:oe.paths;let de,be;for(let me=0,_e=pe.length;me<_e;me++){const le=pe[me];for(let fe=0,Ee=le.length;fe<Ee;fe++){const ye=le[fe];fe>0?(de+=ye[0],be+=ye[1]):(de=ye[0],be=ye[1]),ye[0]=J(de),ye[1]=q(be)}}}:"extent"===z?oe=>{oe.xmin=J(oe.xmin),oe.ymin=q(oe.ymin),oe.xmax=J(oe.xmax),oe.ymax=q(oe.ymax)}:"multipoint"===z?oe=>{const pe=oe.points;let de,be;for(let me=0,_e=pe.length;me<_e;me++){const le=pe[me];me>0?(de+=le[0],be+=le[1]):(de=le[0],be=le[1]),le[0]=J(de),le[1]=q(be)}}:null}};(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],U.prototype,"displayFieldName",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:z=>({enabled:z})}}})],U.prototype,"exceededTransferLimit",void 0),(0,w._)([(0,Z.Cb)({type:[W.Z],json:{write:!0}})],U.prototype,"features",void 0),(0,w._)([(0,Y.r)("features")],U.prototype,"readFeatures",null),(0,w._)([(0,Z.Cb)({type:[te.Z],json:{write:!0}})],U.prototype,"fields",void 0),(0,w._)([(0,Z.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:V.read}}})],U.prototype,"geometryType",void 0),(0,w._)([(0,ae.c)("geometryType")],U.prototype,"writeGeometryType",null),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:z=>({enabled:z})}}})],U.prototype,"hasM",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:z=>({enabled:z})}}})],U.prototype,"hasZ",void 0),(0,w._)([(0,Z.Cb)({types:O.qM,json:{write:!0}})],U.prototype,"queryGeometry",void 0),(0,w._)([(0,Y.r)("queryGeometry")],U.prototype,"readQueryGeometry",null),(0,w._)([(0,Z.Cb)({type:se.Z,json:{write:!0}})],U.prototype,"spatialReference",void 0),(0,w._)([(0,ae.c)("spatialReference")],U.prototype,"writeSpatialReference",null),(0,w._)([(0,Z.Cb)({json:{write:!0}})],U.prototype,"transform",void 0),U=Q=(0,w._)([(0,ne.j)("esri.rest.support.FeatureSet")],U),U.prototype.toJSON.isDefaultToJSON=!0;const $=U},75414:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(58817),W=T(77712),k=(T(90912),T(76898)),re=T(40251),ee=T(40669);let G=Z=class extends ee.Z{constructor(ne){super(ne),this.colorRamps=null,this.type="multipart"}clone(){return new Z({colorRamps:(0,O.d9)(this.colorRamps)})}};(0,w._)([(0,W.Cb)({type:[re.Z],json:{write:!0}})],G.prototype,"colorRamps",void 0),(0,w._)([(0,W.Cb)({type:["multipart"]})],G.prototype,"type",void 0),G=Z=(0,w._)([(0,k.j)("esri.rest.support.MultipartColorRamp")],G);const Y=G},89621:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var Y,w=T(17626),W=(T(29132),T(2076)),B=T(86810),k=T(58817),re=T(77712),Z=(T(90912),T(76898)),G=T(2004);const ne=new W.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let ae=Y=class extends B.wq{constructor(ie){super(ie),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Y((0,k.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,w._)([(0,re.Cb)({type:G.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],ae.prototype,"extent",void 0),(0,w._)([(0,re.Cb)({type:["view","edit"],json:{write:!0}})],ae.prototype,"mode",void 0),(0,w._)([(0,re.Cb)({type:String,json:{read:ne.read,write:ne.write}})],ae.prototype,"originPosition",void 0),(0,w._)([(0,re.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],ae.prototype,"tolerance",void 0),ae=Y=(0,w._)([(0,Z.j)("esri.rest.support.QuantizationParameters")],ae);const se=ae},96854:(j,F,T)=>{"use strict";T.d(F,{Z:()=>_e});var w=T(17626),O=T(29132),W=T(97478),B=T(2076),k=T(86810),re=T(58817),ee=T(62208),Z=T(77712),G=T(66656),Y=T(55342),ne=T(76898),ae=T(99433),se=T(90912),ie=T(91179),te=T(15283),Q=T(79608);T(85931);let U=class extends((0,Q.J)(k.wq)){constructor(le){super(le),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,w._)([(0,Z.Cb)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,ee.pC)(this.onFields)&&this.onFields.length>0}}}}})],U.prototype,"onFields",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],U.prototype,"operator",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],U.prototype,"searchTerm",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],U.prototype,"searchType",void 0),U=(0,w._)([(0,ne.j)("esri.rest.support.FullTextSearch")],U);const $=U;var pe,z=T(89621),J=T(60776),q=T(65234),oe=T(72642);const de=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),be=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let me=pe=class extends k.wq{static from(le){return(0,se.TJ)(pe,le)}constructor(le){super(le),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(le){return"number"==typeof le||"object"==typeof le?le:null}writeHistoricMoment(le,fe){fe.historicMoment=le&&le.getTime()}writeParameterValues(le,fe){if(le){const Ee={};for(const ye in le){const ue=le[ye];Ee[ye]=Array.isArray(ue)?ue.map(Me=>Me instanceof Date?Me.getTime():Me):ue instanceof Date?ue.getTime():ue}fe.parameterValues=Ee}}writeStart(le,fe){fe.resultOffset=this.start,fe.resultRecordCount=this.num||10,fe.where="1=1"}writeWhere(le,fe){fe.where=le||"1=1"}clone(){return new pe((0,re.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,ee.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};me.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,w._)([(0,Z.Cb)({json:{write:!0}})],me.prototype,"aggregateIds",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"cacheHint",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"compactGeometryEnabled",void 0),(0,w._)([(0,Z.Cb)({json:{write:!0}})],me.prototype,"datumTransformation",void 0),(0,w._)([(0,G.p)("datumTransformation")],me.prototype,"castDatumTransformation",null),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"defaultSpatialReferenceEnabled",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy:le=>({enabled:le>0})}}})],me.prototype,"distance",void 0),(0,w._)([(0,Z.Cb)({type:te.n,json:{write:!0}})],me.prototype,"dynamicDataSource",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],me.prototype,"formatOf3DObjects",void 0),(0,w._)([(0,Z.Cb)({type:[$],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,ee.pC)(this.fullText)&&this.fullText.length>0}}}}})],me.prototype,"fullText",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],me.prototype,"gdbVersion",void 0),(0,w._)([(0,Z.Cb)({types:O.qM,json:{read:ie.im,write:!0}})],me.prototype,"geometry",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:!0}})],me.prototype,"geometryPrecision",void 0),(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],me.prototype,"groupByFieldsForStatistics",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],me.prototype,"having",void 0),(0,w._)([(0,Z.Cb)({type:Date})],me.prototype,"historicMoment",void 0),(0,w._)([(0,ae.c)("historicMoment")],me.prototype,"writeHistoricMoment",null),(0,w._)([(0,Z.Cb)({type:Number,json:{write:!0}})],me.prototype,"maxAllowableOffset",void 0),(0,w._)([(0,Z.Cb)({type:Number,cast:le=>le<1?1:le>pe.MAX_MAX_RECORD_COUNT_FACTOR?pe.MAX_MAX_RECORD_COUNT_FACTOR:le,json:{write:{overridePolicy:le=>({enabled:le>1})}}})],me.prototype,"maxRecordCountFactor",void 0),(0,w._)([(0,Z.Cb)({type:["xyFootprint"],json:{write:!0}})],me.prototype,"multipatchOption",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],me.prototype,"num",void 0),(0,w._)([(0,Z.Cb)({json:{write:!0}})],me.prototype,"objectIds",void 0),(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],me.prototype,"orderByFields",void 0),(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],me.prototype,"outFields",void 0),(0,w._)([(0,Z.Cb)({type:q.Z,json:{name:"outSR",write:!0}})],me.prototype,"outSpatialReference",void 0),(0,w._)([(0,Z.Cb)({type:[J.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,ee.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],me.prototype,"outStatistics",void 0),(0,w._)([(0,Z.Cb)({json:{write:!0}})],me.prototype,"parameterValues",void 0),(0,w._)([(0,ae.c)("parameterValues")],me.prototype,"writeParameterValues",null),(0,w._)([(0,Z.Cb)({type:oe.Z,json:{write:!0}})],me.prototype,"pixelSize",void 0),(0,w._)([(0,Z.Cb)({type:z.Z,json:{write:!0}})],me.prototype,"quantizationParameters",void 0),(0,w._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],me.prototype,"rangeValues",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],me.prototype,"relationParameter",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],me.prototype,"resultType",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnCentroid",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnDistinctValues",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!0,write:!0}})],me.prototype,"returnExceededLimitFeatures",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"returnGeometry",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnQueryGeometry",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnM",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:le=>({enabled:le})}}})],me.prototype,"returnZ",void 0),(0,w._)([(0,Z.Cb)({type:q.Z,json:{write:!0}})],me.prototype,"sourceSpatialReference",void 0),(0,w._)([(0,Y.J)(de,{ignoreUnknown:!1,name:"spatialRel"})],me.prototype,"spatialRelationship",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],me.prototype,"start",void 0),(0,w._)([(0,ae.c)("start"),(0,ae.c)("num")],me.prototype,"writeStart",null),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],me.prototype,"sqlFormat",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],me.prototype,"text",void 0),(0,w._)([(0,Z.Cb)({type:W.Z,json:{write:!0}})],me.prototype,"timeExtent",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"timeReferenceUnknownClient",void 0),(0,w._)([(0,Y.J)(be,{ignoreUnknown:!1}),(0,Z.Cb)({json:{write:{overridePolicy(le){return{enabled:!!le&&null!=this.distance&&this.distance>0}}}}})],me.prototype,"units",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:{overridePolicy(le){return{enabled:null!=le||null!=this.start&&this.start>0}}}}})],me.prototype,"where",void 0),(0,w._)([(0,ae.c)("where")],me.prototype,"writeWhere",null),me=pe=(0,w._)([(0,ne.j)("esri.rest.support.Query")],me);const _e=me},67010:(j,F,T)=>{"use strict";T.r(F),T.d(F,{default:()=>se});var ne,w=T(17626),W=(T(29132),T(86810)),B=T(58817),k=T(77712),re=T(90912),ee=T(76898),Z=T(99433),G=T(15283),Y=T(65234);let ae=ne=class extends W.wq{constructor(ie){super(ie),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(ie,te){te.historicMoment=ie&&ie.getTime()}writeStart(ie,te){te.resultOffset=this.start,te.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(te.definitionExpression="1=1")}clone(){return new ne((0,B.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"cacheHint",void 0),(0,w._)([(0,k.Cb)({type:G.n,json:{write:!0}})],ae.prototype,"dynamicDataSource",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ae.prototype,"gdbVersion",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ae.prototype,"geometryPrecision",void 0),(0,w._)([(0,k.Cb)({type:Date})],ae.prototype,"historicMoment",void 0),(0,w._)([(0,Z.c)("historicMoment")],ae.prototype,"_writeHistoricMoment",null),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ae.prototype,"maxAllowableOffset",void 0),(0,w._)([(0,k.Cb)({type:[Number],json:{write:!0}})],ae.prototype,"objectIds",void 0),(0,w._)([(0,k.Cb)({type:[String],json:{write:!0}})],ae.prototype,"orderByFields",void 0),(0,w._)([(0,k.Cb)({type:[String],json:{write:!0}})],ae.prototype,"outFields",void 0),(0,w._)([(0,k.Cb)({type:Y.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ae.prototype,"outSpatialReference",void 0),(0,w._)([(0,k.Cb)({json:{write:!0}})],ae.prototype,"relationshipId",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],ae.prototype,"start",void 0),(0,w._)([(0,Z.c)("start"),(0,Z.c)("num")],ae.prototype,"writeStart",null),(0,w._)([(0,k.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],ae.prototype,"num",void 0),(0,w._)([(0,k.Cb)({json:{write:!0}})],ae.prototype,"returnGeometry",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:ie=>({enabled:ie})}}})],ae.prototype,"returnM",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:ie=>({enabled:ie})}}})],ae.prototype,"returnZ",void 0),(0,w._)([(0,k.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ae.prototype,"where",void 0),ae=ne=(0,w._)([(0,ee.j)("esri.rest.support.RelationshipQuery")],ae),ae.from=(0,re.se)(ae);const se=ae},60776:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var G,w=T(17626),O=T(2076),W=T(86810),B=T(58817),k=T(77712),ee=(T(90912),T(76898)),Z=T(99433);const Y=new O.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let ne=G=class extends W.wq{constructor(se){super(se),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(se,ie){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(ie.statisticParameters=(0,B.d9)(se))}clone(){return new G({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,B.d9)(this.statisticParameters)})}};(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxPointCount",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxRecordCount",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxVertexCount",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"onStatisticField",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ne.prototype,"outStatisticFieldName",void 0),(0,w._)([(0,k.Cb)({type:String,json:{read:{source:"statisticType",reader:Y.read},write:{target:"statisticType",writer:Y.write}}})],ne.prototype,"statisticType",void 0),(0,w._)([(0,k.Cb)({type:Object})],ne.prototype,"statisticParameters",void 0),(0,w._)([(0,Z.c)("statisticParameters")],ne.prototype,"writeStatisticParameters",null),ne=G=(0,w._)([(0,ee.j)("esri.rest.support.StatisticDefinition")],ne);const ae=ne},6871:(j,F,T)=>{"use strict";T.d(F,{Z:()=>q});var ie,w=T(17626),O=T(29132),W=T(97478),B=T(2076),k=T(86810),re=T(58817),ee=T(62208),Z=T(77712),G=T(90912),Y=T(76898),ne=T(99433),ae=T(91179);T(85931);let te=ie=class extends k.wq{constructor(oe){super(oe),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new ie({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],te.prototype,"groupByFields",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:!0}})],te.prototype,"topCount",void 0),(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],te.prototype,"orderByFields",void 0),te=ie=(0,w._)([(0,Y.j)("esri.rest.support.TopFilter")],te);const Q=te;var U,V=T(65234);const $=new B.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),z=new B.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let J=U=class extends k.wq{constructor(oe){super(oe),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(oe,pe){pe.resultOffset=this.start,pe.resultRecordCount=this.num||10}clone(){return new U((0,re.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"cacheHint",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy:oe=>({enabled:oe>0})}}})],J.prototype,"distance",void 0),(0,w._)([(0,Z.Cb)({types:O.qM,json:{read:ae.im,write:!0}})],J.prototype,"geometry",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:!0}})],J.prototype,"geometryPrecision",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{write:!0}})],J.prototype,"maxAllowableOffset",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],J.prototype,"num",void 0),(0,w._)([(0,Z.Cb)({json:{write:!0}})],J.prototype,"objectIds",void 0),(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],J.prototype,"orderByFields",void 0),(0,w._)([(0,Z.Cb)({type:[String],json:{write:!0}})],J.prototype,"outFields",void 0),(0,w._)([(0,Z.Cb)({type:V.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],J.prototype,"outSpatialReference",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"resultType",void 0),(0,w._)([(0,Z.Cb)({json:{write:!0}})],J.prototype,"returnGeometry",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:oe=>({enabled:oe})}}})],J.prototype,"returnM",void 0),(0,w._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:oe=>({enabled:oe})}}})],J.prototype,"returnZ",void 0),(0,w._)([(0,Z.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],J.prototype,"start",void 0),(0,w._)([(0,ne.c)("start"),(0,ne.c)("num")],J.prototype,"writeStart",null),(0,w._)([(0,Z.Cb)({type:String,json:{read:{source:"spatialRel",reader:$.read},write:{target:"spatialRel",writer:$.write}}})],J.prototype,"spatialRelationship",void 0),(0,w._)([(0,Z.Cb)({type:W.Z,json:{write:!0}})],J.prototype,"timeExtent",void 0),(0,w._)([(0,Z.Cb)({type:Q,json:{write:!0}})],J.prototype,"topFilter",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{read:z.read,write:{writer:z.write,overridePolicy(oe){return{enabled:(0,ee.pC)(oe)&&(0,ee.pC)(this.distance)&&this.distance>0}}}}})],J.prototype,"units",void 0),(0,w._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"where",void 0),J=U=(0,w._)([(0,Y.j)("esri.rest.support.TopFeaturesQuery")],J),J.from=(0,G.se)(J);const q=J},79023:(j,F,T)=>{"use strict";T.d(F,{V:()=>B,i:()=>k});var w=T(40251),O=T(40669),W=T(75414);const B={key:"type",base:O.Z,typeMap:{algorithmic:w.Z,multipart:W.Z}};function k(re){return re&&re.type?"algorithmic"===re.type?w.Z.fromJSON(re):"multipart"===re.type?W.Z.fromJSON(re):null:null}},19556:(j,F,T)=>{"use strict";T.d(F,{k:()=>k});const O=T(63290).Z.getLogger("esri.rest.support.generateRendererUtils");function W(Q,V){return Number(Q.toFixed(V))}function k(Q){const{normalizationTotal:V}=Q;return{classBreaks:re(Q),normalizationTotal:V}}function re(Q){const V=Q.definition,{classificationMethod:U,normalizationType:$,definedInterval:z}=V,J=V.breakCount??1,q=[];let oe=Q.values;if(0===oe.length)return[];oe=oe.sort((be,me)=>be-me);const pe=oe[0],de=oe[oe.length-1];if("equal-interval"===U)if(oe.length>=J){const be=(de-pe)/J;let me=pe;for(let _e=1;_e<J;_e++){const le=W(pe+_e*be,6);q.push({minValue:me,maxValue:le,label:ee(me,le,$)}),me=le}q.push({minValue:me,maxValue:de,label:ee(me,de,$)})}else oe.forEach(be=>{q.push({minValue:be,maxValue:be,label:ee(be,be,$)})});else if("natural-breaks"===U){const be=function Z(Q){const V=[],U=[];let $=Number.MIN_VALUE,z=1,J=-1;for(let q=0;q<Q.length;q++){const oe=Q[q];oe===$?(z++,U[J]=z):null!==oe&&(V.push(oe),$=oe,z=1,U.push(z),J++)}return{uniqueValues:V,valueFrequency:U}}(oe),_e=function G(Q,V,U){const $=Q.length,z=[];U>$&&(U=$);for(let q=0;q<U;q++)z.push(Math.round(q*$/U-1));z.push($-1);let J=Y(z,Q,V,U);return function ne(Q,V,U,$,z,J){let q=0,oe=0,pe=0,de=0,be=!0;for(let me=0;me<2&&be;me++){0===me&&(be=!1);for(let _e=0;_e<J-1;_e++)for(;U[_e+1]+1!==U[_e+2];){U[_e+1]=U[_e+1]+1;const le=te(_e,U,$,z);pe=le.sbMean,q=le.sbSdcm;const fe=te(_e+1,U,$,z);if(de=fe.sbMean,oe=fe.sbSdcm,!(q+oe<V[_e]+V[_e+1])){U[_e+1]=U[_e+1]-1;break}V[_e]=q,V[_e+1]=oe,Q[_e]=pe,Q[_e+1]=de,be=!0}for(let _e=J-1;_e>0;_e--)for(;U[_e]!==U[_e-1]+1;){U[_e]=U[_e]-1;const le=te(_e-1,U,$,z);pe=le.sbMean,q=le.sbSdcm;const fe=te(_e,U,$,z);if(de=fe.sbMean,oe=fe.sbSdcm,!(q+oe<V[_e-1]+V[_e])){U[_e]=U[_e]+1;break}V[_e-1]=q,V[_e]=oe,Q[_e-1]=pe,Q[_e]=de,be=!0}}return be}(J.mean,J.sdcm,z,Q,V,U)&&(J=Y(z,Q,V,U)),z}(be.uniqueValues,Q.valueFrequency||be.valueFrequency,J);let le=pe;for(let fe=1;fe<J;fe++)if(be.uniqueValues.length>fe){const Ee=W(be.uniqueValues[_e[fe]],6);q.push({minValue:le,maxValue:Ee,label:ee(le,Ee,$)}),le=Ee}q.push({minValue:le,maxValue:de,label:ee(le,de,$)})}else if("quantile"===U)if(oe.length>=J&&pe!==de){let be=pe,me=Math.ceil(oe.length/J),_e=0;for(let le=1;le<J;le++){let fe=me+_e-1;fe>oe.length&&(fe=oe.length-1),fe<0&&(fe=0),q.push({minValue:be,maxValue:oe[fe],label:ee(be,oe[fe],$)}),be=oe[fe],_e+=me,me=Math.ceil((oe.length-_e)/(J-le))}q.push({minValue:be,maxValue:de,label:ee(be,de,$)})}else{let be=-1;for(let me=0;me<oe.length;me++){const _e=oe[me];_e!==be&&(be=_e,q.push({minValue:be,maxValue:_e,label:ee(be,_e,$)}),be=_e)}}else if("standard-deviation"===U){const be=function se(Q){let V=0;for(let U=0;U<Q.length;U++)V+=Q[U];return V/=Q.length,V}(oe),me=function ie(Q,V){let U=0;for(let $=0;$<Q.length;$++){const z=Q[$];U+=(z-V)*(z-V)}return U/=Q.length,Math.sqrt(U)}(oe,be);if(0===me)q.push({minValue:oe[0],maxValue:oe[0],label:ee(oe[0],oe[0],$)});else{const _e=function ae(Q,V,U,$,z){let J=Math.max($-Q,V-$)/z/U;return J=J>=1?1:J>=.5?.5:.25,J}(pe,de,J,be,me)*me;let le=0,fe=pe;for(let ye=J;ye>=1;ye--){const ue=W(be-(ye-.5)*_e,6);q.push({minValue:fe,maxValue:ue,label:ee(fe,ue,$)}),fe=ue,le++}let Ee=W(be+.5*_e,6);q.push({minValue:fe,maxValue:Ee,label:ee(fe,Ee,$)}),fe=Ee,le++;for(let ye=1;ye<=J;ye++)Ee=le===2*J?de:W(be+(ye+.5)*_e,6),q.push({minValue:fe,maxValue:Ee,label:ee(fe,Ee,$)}),fe=Ee,le++}}else if("defined-interval"===U){if(!z)return q;const be=oe[0],me=oe[oe.length-1],_e=Math.ceil((me-be)/z);let le=be;for(let fe=1;fe<_e;fe++){const Ee=W(be+fe*z,6);q.push({minValue:le,maxValue:Ee,label:ee(le,Ee,$)}),le=Ee}q.push({minValue:le,maxValue:me,label:ee(le,me,$)})}return q}function ee(Q,V,U){let $=null;return $=Q===V?U&&"percent-of-total"===U?Q+"%":Q.toString():U&&"percent-of-total"===U?Q+"% - "+V+"%":Q+" - "+V,$}function Y(Q,V,U,$){let z=[],J=[],q=[],oe=0;const pe=[],de=[];for(let le=0;le<$;le++){const fe=te(le,Q,V,U);pe.push(fe.sbMean),de.push(fe.sbSdcm),oe+=de[le]}let be,me=oe,_e=!0;for(;_e||oe<me;){_e=!1,z=[];for(let le=0;le<$;le++)z.push(Q[le]);for(let le=0;le<$;le++)for(let fe=Q[le]+1;fe<=Q[le+1];fe++)if(be=V[fe],le>0&&fe!==Q[le+1]&&Math.abs(be-pe[le])>Math.abs(be-pe[le-1]))Q[le]=fe;else if(le<$-1&&Q[le]!==fe-1&&Math.abs(be-pe[le])>Math.abs(be-pe[le+1])){Q[le+1]=fe-1;break}me=oe,oe=0,J=[],q=[];for(let le=0;le<$;le++){J.push(pe[le]),q.push(de[le]);const fe=te(le,Q,V,U);pe[le]=fe.sbMean,de[le]=fe.sbSdcm,oe+=de[le]}}if(oe>me){for(let le=0;le<$;le++)Q[le]=z[le],pe[le]=J[le],de[le]=q[le];oe=me}return{mean:pe,sdcm:de}}function te(Q,V,U,$){let z=0,J=0;for(let pe=V[Q]+1;pe<=V[Q+1];pe++){const de=$[pe];z+=U[pe]*de,J+=de}J<=0&&O.warn("Exception in Natural Breaks calculation");const q=z/J;let oe=0;for(let pe=V[Q]+1;pe<=V[Q+1];pe++)oe+=$[pe]*(U[pe]-q)**2;return{sbMean:q,sbSdcm:oe}}},2618:(j,F,T)=>{"use strict";T.d(F,{cv:()=>Z,en:()=>ee,lA:()=>re}),T(59318),T(24263);var W=T(58817),B=T(21726);function re(Y,ne){return ne?{...ne,query:{...Y??{},...ne.query}}:{query:Y}}function ee(Y){return"string"==typeof Y?(0,B.mN)(Y):(0,W.d9)(Y)}function Z(Y,ne,ae){const se={};for(const ie in Y){if("declaredClass"===ie)continue;const te=Y[ie];if(null!=te&&"function"!=typeof te)if(Array.isArray(te)){se[ie]=[];for(let Q=0;Q<te.length;Q++)se[ie][Q]=Z(te[Q])}else if("object"==typeof te)if(te.toJSON){const Q=te.toJSON(ae&&ae[ie]);se[ie]=ne?Q:JSON.stringify(Q)}else se[ie]=ne?te:JSON.stringify(te);else se[ie]=te}return se}T(12680)},26072:(j,F,T)=>{"use strict";T.d(F,{DL:()=>le,F_:()=>J,G2:()=>be,H0:()=>se,Lq:()=>Q,Qm:()=>pe,S5:()=>ae,XL:()=>te,eT:()=>q,fk:()=>de,i5:()=>ie,oF:()=>fe,wk:()=>ne});var w=T(8377),O=T(19556);const Z=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,G=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),Y=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function ne(Me){return null==Me||"string"==typeof Me&&!Me?"<Null>":Me}function ae(Me){return!(null!=Me.normalizationField||null!=Me.normalizationType||null!=Me.minValue||null!=Me.maxValue||Me.sqlExpression&&Me.supportsSQLExpression)}function se(Me){const ce=Me.returnDistinct?[...new Set(Me.values)]:Me.values,ge=ce.filter(Ie=>null!=Ie).length,Pe={count:ge};return Me.supportsNullCount&&(Pe.nullcount=ce.length-ge),Me.percentileParams&&(Pe.median=te(ce,Me.percentileParams)),Pe}function ie(Me){const{values:ce,useSampleStdDev:ge,supportsNullCount:Pe}=Me;let Ie=Number.POSITIVE_INFINITY,Re=Number.NEGATIVE_INFINITY,Ce=null,Fe=null,Ne=null,Le=null,Oe=0;const Ue=null==Me.minValue?-1/0:Me.minValue,ke=null==Me.maxValue?1/0:Me.maxValue;for(const xe of ce)Number.isFinite(xe)?xe>=Ue&&xe<=ke&&(Ce=null===Ce?xe:Ce+xe,Ie=Math.min(Ie,xe),Re=Math.max(Re,xe),Oe++):"string"==typeof xe&&Oe++;if(Oe&&null!=Ce){Fe=Ce/Oe;let xe=0;for(const We of ce)Number.isFinite(We)&&We>=Ue&&We<=ke&&(xe+=(We-Fe)**2);Le=ge?Oe>1?xe/(Oe-1):0:Oe>0?xe/Oe:0,Ne=Math.sqrt(Le)}else Ie=null,Re=null;const Ye={avg:Fe,count:Oe,max:Re,min:Ie,stddev:Ne,sum:Ce,variance:Le};return Pe&&(Ye.nullcount=ce.length-Oe),Me.percentileParams&&(Ye.median=te(ce,Me.percentileParams)),Ye}function te(Me,ce){const{fieldType:ge,value:Pe,orderBy:Ie,isDiscrete:Re}=ce,Ce=Q(ge,"desc"===Ie);if(0===(Me=[...Me].filter(Ye=>null!=Ye).sort((Ye,xe)=>Ce(Ye,xe))).length)return null;if(Pe<=0)return Me[0];if(Pe>=1)return Me[Me.length-1];const Fe=(Me.length-1)*Pe,Ne=Math.floor(Fe),Le=Ne+1,Oe=Fe%1,Ue=Me[Ne],ke=Me[Le];return Le>=Me.length||Re||"string"==typeof Ue||"string"==typeof ke?Ue:Ue*(1-Oe)+ke*Oe}function Q(Me,ce){const ge=ce?1:-1,Pe=function $(Me){return Me?(ce,ge)=>V(ce,ge,!0)??ge-ce:(ce,ge)=>V(ce,ge,!1)??ce-ge}(ce),Ie=U(ce);if(!Me||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...G].includes(Me))return(Re,Ce)=>"number"==typeof Re&&"number"==typeof Ce?Pe(Re,Ce):"string"==typeof Re&&"string"==typeof Ce?Ie(Re,Ce):ge;if("esriFieldTypeDate"===Me)return(Re,Ce)=>{const Fe=new Date(Re).getTime(),Ne=new Date(Ce).getTime();return isNaN(Fe)||isNaN(Ne)?ge:Pe(Fe,Ne)};if(G.has(Me))return(Re,Ce)=>Pe(Re,Ce);if("esriFieldTypeString"===Me)return(Re,Ce)=>Ie(Re,Ce);if("esriFieldTypeGUID"===Me||"esriFieldTypeGlobalID"===Me){const Re=U(ce);return(Ce,Fe)=>Re(z(Ce),z(Fe))}return ce?(Re,Ce)=>1:(Re,Ce)=>-1}function V(Me,ce,ge){if(ge){if(null==Me)return null==ce?0:1;if(null==ce)return-1}else{if(null==Me)return null==ce?0:-1;if(null==ce)return 1}return null}function U(Me){return Me?(ce,ge)=>V(ce,ge,!0)??((ce=ce.toUpperCase())>(ge=ge.toUpperCase())?-1:ce<ge?1:0):(ce,ge)=>V(ce,ge,!1)??((ce=ce.toUpperCase())<(ge=ge.toUpperCase())?-1:ce>ge?1:0)}function z(Me){return Me.substr(24,12)+Me.substr(19,4)+Me.substr(16,2)+Me.substr(14,2)+Me.substr(11,2)+Me.substr(9,2)+Me.substr(6,2)+Me.substr(4,2)+Me.substr(2,2)+Me.substr(0,2)}function J(Me,ce){let ge;for(ge in Me)Y.includes(ge)&&(Number.isFinite(Me[ge])||(Me[ge]=null));return ce&&["avg","stddev","variance"].forEach(Pe=>{null!=Me[Pe]&&(Me[Pe]=Math.ceil(Me[Pe]))}),Me}function q(Me){const ce={};for(let ge of Me)(null==ge||"string"==typeof ge&&""===ge.trim())&&(ge=null),null==ce[ge]?ce[ge]={count:1,data:ge}:ce[ge].count++;return{count:ce}}function oe(Me){return"coded-value"!==Me?.type?[]:Me.codedValues.map(ce=>ce.code)}function pe(Me,ce,ge,Pe){const Ie=Me.count,Re=[];if(ge&&ce){const Ce=[],Fe=oe(ce[0]);for(const Ne of Fe)if(ce[1]){const Le=oe(ce[1]);for(const Oe of Le)if(ce[2]){const Ue=oe(ce[2]);for(const ke of Ue)Ce.push(`${ne(Ne)}${Pe}${ne(Oe)}${Pe}${ne(ke)}`)}else Ce.push(`${ne(Ne)}${Pe}${ne(Oe)}`)}else Ce.push(Ne);for(const Ne of Ce)Ie.hasOwnProperty(Ne)||(Ie[Ne]={data:Ne,count:0})}for(const Ce in Ie){const Fe=Ie[Ce];Re.push({value:Fe.data,count:Fe.count,label:Fe.label})}return{uniqueValueInfos:Re}}function de(Me,ce,ge,Pe){let Ie=null;switch(ce){case"log":0!==Me&&(Ie=Math.log(Me)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(Pe)&&0!==Pe&&(Ie=Me/Pe*100);break;case"field":Number.isFinite(ge)&&0!==ge&&(Ie=Me/ge);break;case"natural-log":Me>0&&(Ie=Math.log(Me));break;case"square-root":Me>0&&(Ie=Me**.5)}return Ie}function be(Me,ce){const ge=function _e(Me){const{breakCount:ce,field:ge,normalizationField:Pe,normalizationType:Ie}=Me,Re=Me.classificationMethod||"equal-interval";return new w.Z({breakCount:ce,classificationField:ge,classificationMethod:Re,normalizationField:"field"===Ie?Pe:void 0,normalizationType:Ie,standardDeviationInterval:"standard-deviation"===Re?Me.standardDeviationInterval||1:void 0})}({field:ce.field,normalizationType:ce.normalizationType,normalizationField:ce.normalizationField,classificationMethod:ce.classificationMethod,standardDeviationInterval:ce.standardDeviationInterval,breakCount:ce.numClasses||5});return Me=function me(Me,ce,ge){const Pe=ce??-1/0,Ie=ge??1/0;return Me.filter(Re=>Number.isFinite(Re)&&Re>=Pe&&Re<=Ie)}(Me,ce.minValue,ce.maxValue),(0,O.k)({definition:ge,values:Me,normalizationTotal:ce.normalizationTotal})}function le(Me,ce){let ge=Me.classBreaks;const Ie=ge[0].minValue,Re=ge[ge.length-1].maxValue,Ce="standard-deviation"===ce,Fe=Z;return ge=ge.map(Ne=>{const Le=Ne.label,Oe={minValue:Ne.minValue,maxValue:Ne.maxValue,label:Le};if(Ce&&Le){const Ue=Le.match(Fe)?.map(ke=>+ke.trim())??[];2===Ue.length?(Oe.minStdDev=Ue[0],Oe.maxStdDev=Ue[1],Ue[0]<0&&Ue[1]>0&&(Oe.hasAvg=!0)):1===Ue.length&&(Le.includes("<")?(Oe.minStdDev=null,Oe.maxStdDev=Ue[0]):Le.includes(">")&&(Oe.minStdDev=Ue[0],Oe.maxStdDev=null))}return Oe}),{minValue:Ie,maxValue:Re,classBreakInfos:ge,normalizationTotal:Me.normalizationTotal}}function fe(Me,ce){const ge=function Ee(Me,ce){const{field:ge,classificationMethod:Pe,standardDeviationInterval:Ie,normalizationType:Re,normalizationField:Ce,normalizationTotal:Fe,minValue:Ne,maxValue:Le}=ce,Oe=ce.numBins||10;let Ue=null,ke=null,Ye=null;if(Pe&&"equal-interval"!==Pe||Re){const{classBreaks:xe}=be(Me,{field:ge,normalizationType:Re,normalizationField:Ce,normalizationTotal:Fe,classificationMethod:Pe,standardDeviationInterval:Ie,minValue:Ne,maxValue:Le,numClasses:Oe});Ue=xe[0].minValue,ke=xe[xe.length-1].maxValue,Ye=xe.map(We=>[We.minValue,We.maxValue])}else{if(null!=Ne&&null!=Le)Ue=Ne,ke=Le;else{const xe=ie({values:Me,minValue:Ne,maxValue:Le,useSampleStdDev:!Re,supportsNullCount:ae({normalizationType:Re,normalizationField:Ce,minValue:Ne,maxValue:Le})});Ue=xe.min??null,ke=xe.max??null}Ye=function ue(Me,ce,ge){const Pe=(ce-Me)/ge,Ie=[];let Re,Ce=Me;for(let Fe=1;Fe<=ge;Fe++)Re=Ce+Pe,Re=Number(Re.toFixed(16)),Ie.push([Ce,Fe===ge?ce:Re]),Ce=Re;return Ie}(Ue??0,ke??0,Oe)}return{min:Ue,max:ke,intervals:Ye}}(Me,ce),Pe=ge.intervals,Ie=ge.min??0,Re=ge.max??0,Ce=Pe.map((Fe,Ne)=>({minValue:Pe[Ne][0],maxValue:Pe[Ne][1],count:0}));for(const Fe of Me)if(null!=Fe&&Fe>=Ie&&Fe<=Re){const Ne=ye(Pe,Fe);Ne>-1&&Ce[Ne].count++}return{bins:Ce,minValue:Ie,maxValue:Re,normalizationTotal:ce.normalizationTotal}}function ye(Me,ce){let ge=-1;for(let Pe=Me.length-1;Pe>=0;Pe--)if(ce>=Me[Pe][0]){ge=Pe;break}return ge}},51815:(j,F,T)=>{"use strict";T.d(F,{J:()=>ne});var w=T(17626),O=T(88879),B=(T(63290),T(90912)),Z=(T(85931),T(26584),T(8314),T(61039)),G=T(76898),Y=T(28705);let ne=class extends Y.a{_own(ae){ae.layer&&"remove"in ae.layer&&ae.layer!==this.owner&&ae.layer.remove(ae),ae.layer=this.owner}_release(ae){ae.layer===this.owner&&(ae.layer=null)}};(0,w._)([(0,Z.c)({Type:O.Z,ensureType:(0,B.se)(O.Z)})],ne.prototype,"itemType",void 0),ne=(0,w._)([(0,G.j)("esri.support.GraphicsCollection")],ne)},6432:(j,F,T)=>{"use strict";T.d(F,{K:()=>ae});var w=T(17626),O=T(74333),W=T(89726),B=T(63290),k=T(10699),re=T(77712),G=(T(90912),T(85931),T(76898)),Y=T(44917);function ne(se,ie,te){let Q,V;if(se)for(let U=0,$=se.length;U<$;U++){if(Q=se.getItemAt(U),Q[ie]===te)return Q;if("group"===Q?.type&&(V=ne(Q.layers,ie,te),V))return V}}const ae=se=>{let ie=class extends se{constructor(...te){super(...te),this.layers=new O.Z;const V=$=>{$.parent=this,this.layerAdded($),"elevation"!==$.type&&"base-elevation"!==$.type||B.Z.getLogger(this.declaredClass).error(`Layer 'title:${$.title}, id:${$.id}' of type '${$.type}' is not supported as an operational layer and will therefore be ignored.`)},U=$=>{$.parent=null,this.layerRemoved($)};this.layers.on("before-add",$=>($=>{$.parent&&"remove"in $.parent&&$.parent.remove($)})($.item)),this.layers.on("after-add",$=>V($.item)),this.layers.on("after-remove",$=>U($.item))}destroy(){const te=this.layers.removeAll();for(const Q of te)this.layerRemoved(Q),Q.destroy();this.layers.destroy()}set layers(te){this._set("layers",(0,W.Z)(te,this._get("layers")))}add(te,Q){const V=this.layers;if(Q=V.getNextIndex(Q),te instanceof Y.Z){const U=te;U.parent===this?this.reorder(U,Q):V.add(U,Q)}else(0,k.y8)(te)?te.then(U=>{this.destroyed||this.add(U,Q)}):B.Z.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(te,Q){const V=this.layers;let U=V.getNextIndex(Q);te.slice().forEach($=>{$.parent!==this?(V.add($,U),U+=1):this.reorder($,U)})}findLayerById(te){return ne(this.layers,"id",te)}findLayerByUid(te){return ne(this.layers,"uid",te)}remove(te){return this.layers.remove(te)}removeMany(te){return this.layers.removeMany(te)}removeAll(){return this.layers.removeAll()}reorder(te,Q){return this.layers.reorder(te,Q)}layerAdded(te){}layerRemoved(te){}};return(0,w._)([(0,re.Cb)()],ie.prototype,"layers",null),ie=(0,w._)([(0,G.j)("esri.support.LayersMixin")],ie),ie}},6119:(j,F,T)=>{"use strict";T.d(F,{Q:()=>Y});var w=T(17626),O=T(74333),W=T(89726),B=T(63290),k=T(77712),Z=(T(90912),T(85931),T(76898));function G(ne,ae,se){if(ne)for(let ie=0,te=ne.length;ie<te;ie++){const Q=ne.getItemAt(ie);if(Q[ae]===se)return Q;if("group"===Q?.type){const V=G(Q.tables,ae,se);if(V)return V}}}const Y=ne=>{let ae=class extends ne{constructor(...se){super(...se),this.tables=new O.Z,this.tables.on("after-add",ie=>{const te=ie.item;te.parent&&te.parent!==this&&"tables"in te.parent&&te.parent.tables.remove(te),te.parent=this,"feature"!==te.type&&B.Z.getLogger(this.declaredClass).error(`Layer 'title:${te.title}, id:${te.id}' of type '${te.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",ie=>{ie.item.parent=null})}destroy(){const se=this.tables.removeAll();for(const ie of se)ie.destroy();this.tables.destroy()}set tables(se){this._set("tables",(0,W.Z)(se,this._get("tables")))}findTableById(se){return G(this.tables,"id",se)}findTableByUid(se){return G(this.tables,"uid",se)}};return(0,w._)([(0,k.Cb)()],ae.prototype,"tables",null),ae=(0,w._)([(0,Z.j)("esri.support.TablesMixin")],ae),ae}},59397:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(14517),W=T(61996),B=T(77712),ee=(T(90912),T(85931),T(76898));let G=Z=class extends((0,W.IG)(O.Z)){constructor(ne){super(ne),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Z({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,w._)([(0,B.Cb)()],G.prototype,"active",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"className",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"disabled",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"id",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"indicator",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"title",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"type",void 0),(0,w._)([(0,B.Cb)()],G.prototype,"visible",void 0),G=Z=(0,w._)([(0,ee.j)("esri.support.actions.ActionBase")],G);const Y=G},48753:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(59397);let Z=ee=class extends re.Z{constructor(Y){super(Y),this.image=null,this.type="button"}clone(){return new ee({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,w._)([(0,O.Cb)()],Z.prototype,"image",void 0),Z=ee=(0,w._)([(0,k.j)("esri.support.Action.ActionButton")],Z);const G=Z},10671:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var ee,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(59397);let Z=ee=class extends re.Z{constructor(Y){super(Y),this.image=null,this.type="toggle",this.value=!1}clone(){return new ee({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,w._)([(0,O.Cb)()],Z.prototype,"image",void 0),(0,w._)([(0,O.Cb)()],Z.prototype,"value",void 0),Z=ee=(0,w._)([(0,k.j)("esri.support.Action.ActionToggle")],Z);const G=Z},12680:(j,F,T)=>{"use strict";T.d(F,{r:()=>B});var w=T(21726);const O=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function B(k){const re=(0,w.P$)(k,!0);return!!re&&re.endsWith(".arcgis.com")&&!O.includes(re)&&!k.endsWith("/sharing/rest/generateToken")}},46679:(j,F,T)=>{"use strict";T.d(F,{LC:()=>G,WW:()=>Y,Yi:()=>ne,mz:()=>ie,pp:()=>se});var w=T(15861),W=(T(29132),T(26584)),B=T(63290),k=T(62208),re=T(65234);const ee=B.Z.getLogger("esri.support.arcadeOnDemand");let Z;function G(){return Z||(Z=(0,w.Z)(function*(){const te=yield Promise.all([T.e(8592),T.e(4988)]).then(T.bind(T,4988));return{arcade:te.arcade,arcadeUtils:te,Dictionary:te.Dictionary,Feature:te.arcadeFeature}})()),Z}const Y=(te,Q,V)=>ie.create(te,Q,V,null,["$feature"]),ne=(te,Q,V)=>ie.create(te,Q,V,null,["$feature","$view"]),se=(te,Q,V,U)=>ie.create(te,Q,V,U,["$feature","$view"]);class ie{constructor(Q,V,U,$,z,J,q){this.script=Q,this.evaluate=$;const oe=Array.isArray(J)?J:J.fields;this.fields=oe,this._syntaxTree=U,this._arcade=V,this._arcadeFeature=z,this._spatialReference=q,this._referencesGeometry=V.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(Q,V,U,$,z,J){return(0,w.Z)(function*(){const{arcade:q,Feature:oe,Dictionary:pe}=yield G(),de=re.Z.fromJSON(V);let be;try{be=q.parseScript(Q,J)}catch(Re){return ee.error(new W.Z("arcade-bad-expression","Failed to parse arcade script",{script:Q,error:Re})),null}const me=z.reduce((Re,Ce)=>({...Re,[Ce]:null}),{});let _e=null;(0,k.pC)($)&&(_e=new pe($),_e.immutable=!0,me.$config=null);const le=q.scriptUsesGeometryEngine(be),fe=le&&q.enableGeometrySupport(),Ee=q.scriptUsesFeatureSet(be)&&q.enableFeatureSetSupport(),ye=q.scriptIsAsync(be),ue=ye&&q.enableAsyncSupport(),Me={vars:me,spatialReference:de,useAsync:!!ue};yield Promise.all([fe,Ee,ue]);const ce=new Set;yield q.loadDependentModules(ce,be,null,ye,le);const ge=new pe;ge.immutable=!1,ge.setField("scale",0);const Pe=q.compileScript(be,Me);return new ie(Q,q,be,Re=>("$view"in Re&&Re.$view&&(ge.setField("scale","object"==typeof Re.$view?Re.$view.scale:void 0),Re.$view=ge),_e&&(Re.$config=_e),Pe({vars:Re,spatialReference:de})),new oe,U,de)})()}repurposeFeature(Q){return Q.geometry&&!Q.geometry.spatialReference&&(Q.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(Q.geometry,Q.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},33954:(j,F,T)=>{"use strict";T.d(F,{g:()=>B,s:()=>re});var w=T(15861),O=T(54346),W=T(41840);function B(ee){return k.apply(this,arguments)}function k(){return(k=(0,w.Z)(function*(ee){if(!ee)return;const Z=ee.includes("-vector")?ee.slice(0,ee.indexOf("-vector")):ee,G=yield(0,W.ME)("esri/t9n/basemaps");return G[ee]||G[Z]})).apply(this,arguments)}const re={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,O.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},38953:(j,F,T)=>{"use strict";T.d(F,{a:()=>O});var w=T(46882);function O(W){return new w.Z({getCollections:()=>[W.tables,W.layers],getChildrenFunction:B=>{const k=[];return"tables"in B&&k.push(B.tables),"layers"in B&&k.push(B.layers),k},itemFilterFunction:B=>{const k=B.parent;return!!k&&"tables"in k&&k.tables.includes(B)}})}},60507:(j,F,T)=>{"use strict";T.d(F,{Jn:()=>ee,Lt:()=>Y,Ou:()=>ae,RL:()=>G,VW:()=>re,W_:()=>U,Zz:()=>B,jG:()=>$,mF:()=>k,tR:()=>z,vQ:()=>se,vu:()=>Z,zx:()=>ie});var w=T(62208),O=T(29505);function W(q){return q?$:z}function B(q,oe){return(0,w.Wi)(oe)||!oe.mode?W(q).mode:oe.mode}function k(q,oe){return(0,w.pC)(oe)?oe:W(q)}function re(q,oe){return B(!!(0,w.pC)(q)&&q.hasZ,oe)}function ee(q,oe){return k(!!(0,w.pC)(q)&&!!q.hasZ,oe)}function Z(q){const oe=ne(q);return re(q.geometry,oe)}function G(q){const oe=ne(q),pe=re(q.geometry,oe);return{mode:pe,offset:(0,w.pC)(oe)&&"on-the-ground"!==pe?(0,w.Pt)(oe.offset,0)*(0,O.Z7)((0,w.Pt)(oe.unit,"meters")):0}}function Y(q){if("on-the-ground"===Z(q))return!1;const oe=ne(q),pe=(0,w.pC)(oe)&&oe.featureExpressionInfo?oe.featureExpressionInfo.expression:null;return!(!pe||"0"===pe)}function ne(q){return q.layer&&"elevationInfo"in q.layer?q.layer.elevationInfo:null}function ae(q,oe,pe){if((0,w.Wi)(pe)||!pe.mode)return;const de=q.hasZ?q.z:0,be=(0,w.pC)(pe.offset)?pe.offset:0;switch(pe.mode){case"absolute-height":return de-be;case"on-the-ground":return 0;case"relative-to-ground":return de-((0,w.Pt)(oe.elevationProvider.getElevation(q.x,q.y,de,q.spatialReference,"ground"),0)+be);case"relative-to-scene":return de-((0,w.Pt)(oe.elevationProvider.getElevation(q.x,q.y,de,q.spatialReference,"scene"),0)+be)}}function se(q,oe,pe,de=null){return te(q,oe.x,oe.y,oe.hasZ?oe.z:0,oe.spatialReference,pe,de)}function ie(q,oe,pe,de,be=null){return te(q,oe[0],oe[1],oe.length>2?oe[2]:0,pe,de,be)}function te(q,oe,pe,de,be,me,_e=null){if((0,w.Wi)(me))return;const le=(0,w.pC)(_e)?_e.mode:"absolute-height";if("on-the-ground"===le)return 0;const{absoluteZ:fe}=function Q(q,oe,pe,de,be,me){const _e=(0,w.pC)(me.offset)?me.offset:0;switch(me.mode){case"absolute-height":return{absoluteZ:pe+_e,elevation:0};case"on-the-ground":{const le=(0,w.Pt)(be.elevationProvider.getElevation(q,oe,0,de,"ground"),0);return{absoluteZ:le,elevation:le}}case"relative-to-ground":{const le=(0,w.Pt)(be.elevationProvider.getElevation(q,oe,pe,de,"ground"),0);return{absoluteZ:pe+le+_e,elevation:le}}case"relative-to-scene":{const le=(0,w.Pt)(be.elevationProvider.getElevation(q,oe,pe,de,"scene"),0);return{absoluteZ:pe+le+_e,elevation:le}}}}(oe,pe,de,be,q,me);return function V(q,oe,pe,de,be,me,_e,le){const fe=(0,w.pC)(_e)&&(0,w.pC)(_e.offset)?_e.offset:0;switch(le){case"absolute-height":return q-fe;case"relative-to-ground":return q-((0,w.Pt)(me.elevationProvider.getElevation(oe,pe,de,be,"ground"),0)+fe);case"relative-to-scene":return q-((0,w.Pt)(me.elevationProvider.getElevation(oe,pe,de,be,"scene"),0)+fe)}}(fe,oe,pe,de,be,q,_e,le)}function U(q,oe){if((0,w.Wi)(oe))return!1;const{mode:pe}=oe;return(0,w.pC)(pe)&&("scene"===q&&"relative-to-scene"===pe||"ground"===q&&"absolute-height"!==pe)}const $={mode:"absolute-height",offset:0},z={mode:"on-the-ground",offset:null}},35560:(j,F,T)=>{"use strict";T.d(F,{K3:()=>O,Rx:()=>k});var w=T(8314);const O=()=>!!(0,w.Z)("enable-feature:force-wosr"),k=()=>!!(0,w.Z)("enable-feature:SceneLayer-editing")},49430:(j,F,T)=>{"use strict";T.d(F,{eZ:()=>te});var w=T(73281),O=T(36630),W=T(55664),ee=(T(55013),T(16615),T(82561),T(75484)),ne=(T(64531),T(6785),T(501),T(25621)),ae=T(66845);const se=["oid","global-id"],ie=["oid","global-id","guid"];function te({displayField:ue,editFieldsInfo:Me,fields:ce,objectIdField:ge,title:Pe},Ie){if(!ce)return null;const Re=function pe({editFieldsInfo:ue,fields:Me,objectIdField:ce},ge){return function $(ue,Me){const ce=ue;return Me&&(ue=ue.filter(ge=>!Me.includes(ge.type))),ue===ce&&(ue=ue.slice()),ue.sort(z),ue}(Me??[],ge?.ignoreFieldTypes||ye).map(Pe=>new ne.Z({fieldName:Pe.name,isEditable:q(Pe,ue),label:Pe.alias,format:me(Pe),visible:U(Pe,{editFieldsInfo:ue,objectIdField:ce,visibleFieldNames:ge?.visibleFieldNames})}))}({editFieldsInfo:Me,fields:ce,objectIdField:ge},Ie);if(!Re.length)return null;const Ce=function fe(ue){const Me=(0,O.O5)(ue),{titleBase:ce}=ue;return Me?`${ce}: {${Me.trim()}}`:ce??""}({titleBase:Pe,fields:ce,displayField:ue}),Fe=function _e(){return[new ee.Z,new W.Z]}();return new w.Z({title:Ce,content:Fe,fieldInfos:Re})}const V=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],U=(ue,{editFieldsInfo:Me,objectIdField:ce,visibleFieldNames:ge})=>ge?ge.has(ue.name):!(J(ue.name,Me)||ce&&ue.name===ce||se.includes(ue.type)||V.some(Pe=>Pe.test(ue.name)));function z(ue,Me){return"oid"===ue.type?-1:"oid"===Me.type?1:Ee(ue)?-1:Ee(Me)?1:(ue.alias||ue.name).toLocaleLowerCase().localeCompare((Me.alias||Me.name).toLocaleLowerCase())}function J(ue,Me){if(!ue||!Me)return!1;const{creationDateField:ce,creatorField:ge,editDateField:Pe,editorField:Ie}=Me;return[ce&&ce.toLowerCase(),ge&&ge.toLowerCase(),Pe&&Pe.toLowerCase(),Ie&&Ie.toLowerCase()].includes(ue.toLowerCase())}function q(ue,Me){return ue.editable&&!ie.includes(ue.type)&&!J(ue.name,Me)}function me(ue){switch(ue.type){case"small-integer":case"integer":case"single":return new ae.Z({digitSeparator:!0,places:0});case"double":return new ae.Z({digitSeparator:!0,places:2});case"date":return new ae.Z({dateFormat:"long-month-day-year"});default:return"string"===ue.type&&(0,O.Ec)(ue.name)?new ae.Z({digitSeparator:!0,places:0}):null}}function Ee(ue){return"name"===(ue.name&&ue.name.toLowerCase())||"name"===(ue.alias&&ue.alias.toLowerCase())}const ye=["geometry","blob","raster","guid","xml"]},33899:(j,F,T)=>{"use strict";T.d(F,{Hu:()=>G,fY:()=>ee,jH:()=>Y,jz:()=>ne});var w=T(15861),O=T(59318),W=T(8314),B=T(62208),k=T(10699),re=T(21726);function ee(se,ie,te=!1,Q){return new Promise((V,U)=>{if((0,k.Hc)(Q))return void U(Z());let $=()=>{q(),U(new Error(`Unable to load ${ie}`))},z=()=>{const oe=se;q(),V(oe)},J=()=>{if(!se)return;const oe=se;q(),oe.src="",U(Z())};const q=()=>{(0,W.Z)("esri-image-decode")||(se.removeEventListener("error",$),se.removeEventListener("load",z)),$=null,z=null,se=null,(0,B.pC)(Q)&&Q.removeEventListener("abort",J),J=null,te&&URL.revokeObjectURL(ie)};(0,B.pC)(Q)&&Q.addEventListener("abort",J),(0,W.Z)("esri-image-decode")?se.decode().then(z,$):(se.addEventListener("error",$),se.addEventListener("load",z))})}function Z(){try{return new DOMException("Aborted","AbortError")}catch{const se=new Error;return se.name="AbortError",se}}function G(se){O.Z.request.crossOriginNoCorsDomains||(O.Z.request.crossOriginNoCorsDomains={});const ie=O.Z.request.crossOriginNoCorsDomains;for(let te of se)te=te.toLowerCase(),/^https?:\/\//.test(te)?ie[(0,re.P$)(te)??""]=0:(ie[(0,re.P$)("http://"+te)??""]=0,ie[(0,re.P$)("https://"+te)??""]=0)}function Y(se){const ie=O.Z.request.crossOriginNoCorsDomains;if(ie){let te=(0,re.P$)(se);if(te)return te=te.toLowerCase(),!(0,re.D6)(te,(0,re.TI)())&&ie[te]<Date.now()-36e5}return!1}function ne(se){return ae.apply(this,arguments)}function ae(){return(ae=(0,w.Z)(function*(se){const ie=O.Z.request.crossOriginNoCorsDomains,te=(0,re.P$)(se);ie&&te&&(ie[te.toLowerCase()]=Date.now());const Q=(0,re.mN)(se);se=Q.path,"json"===Q.query?.f&&(se+="?f=json");try{yield fetch(se,{mode:"no-cors",credentials:"include"})}catch{}})).apply(this,arguments)}},38365:(j,F,T)=>{"use strict";T.d(F,{$:()=>O,r:()=>w});const w="20230301",O="2657e728c1857e6d94c324181c0788310bb0958a"},20383:(j,F,T)=>{"use strict";T.d(F,{se:()=>ve,cT:()=>Ne,dU:()=>Le,S9:()=>ke,LB:()=>Oe,AH:()=>Ue,yK:()=>xe,S6:()=>lt,QT:()=>Ye,f_:()=>Qe});var oe,w=T(90912),O=T(383),W=T(94398),k=(T(65499),T(48575)),G=(T(9260),T(11472),T(26531),T(22490)),Y=T(40445),se=(T(21068),T(46735),T(36687)),Q=(T(2066),T(69147),T(17626)),V=T(58817),U=T(23841),$=T(77712),z=T(55342),J=T(76898),q=T(69738);let pe=oe=class extends k.Z{constructor(...Te){super(...Te),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(Te,Be,Ge,$e){if(Te&&"string"!=typeof Te&&null==Te.imageData)return Te;const Xe={};return Te&&(Xe.url=Te),Be&&(Xe.outline=Be),null!=Ge&&(Xe.width=(0,U.t_)(Ge)),null!=$e&&(Xe.height=(0,U.t_)($e)),Xe}clone(){const Te=new oe({color:(0,V.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return Te._set("source",(0,V.d9)(this.source)),Te}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,Q._)([(0,z.J)({esriPFS:"picture-fill"},{readOnly:!0})],pe.prototype,"type",void 0),(0,Q._)([(0,$.Cb)(q.KA)],pe.prototype,"url",void 0),(0,Q._)([(0,$.Cb)({type:Number,json:{write:!0}})],pe.prototype,"xscale",void 0),(0,Q._)([(0,$.Cb)({type:Number,json:{write:!0}})],pe.prototype,"yscale",void 0),(0,Q._)([(0,$.Cb)({type:Number,cast:U.t_,json:{write:!0}})],pe.prototype,"width",void 0),(0,Q._)([(0,$.Cb)({type:Number,cast:U.t_,json:{write:!0}})],pe.prototype,"height",void 0),(0,Q._)([(0,$.Cb)({type:Number,cast:U.t_,json:{write:!0}})],pe.prototype,"xoffset",void 0),(0,Q._)([(0,$.Cb)({type:Number,cast:U.t_,json:{write:!0}})],pe.prototype,"yoffset",void 0),(0,Q._)([(0,$.Cb)(q.Ds)],pe.prototype,"source",void 0),pe=oe=(0,Q._)([(0,J.j)("esri.symbols.PictureFillSymbol")],pe);const de=pe;var be=T(13546),me=T(69852),_e=T(89673),le=T(88493),fe=T(52068),Ee=T(57213),ye=T(10012),ce=(T(39368),T(97665),T(35540)),Ie=(T(21716),T(72622),T(12874));function Ne(Te){if(!Te)return!1;switch(Te.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Le(Te){if(!Te)return!1;switch(Te.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}T(17497),T(71530);const Oe={base:ye.Z,key:"type",typeMap:{"simple-fill":le.Z,"picture-fill":de,"picture-marker":be.Z,"simple-line":fe.Z,"simple-marker":Ee.Z,text:ce.Z,"label-3d":G.Z,"line-3d":Y.Z,"mesh-3d":se.Z,"point-3d":me.Z,"polygon-3d":_e.Z,"web-style":Ie.Z,cim:W.Z},errorContext:"symbol"},Ue={base:ye.Z,key:"type",typeMap:{"picture-marker":be.Z,"simple-marker":Ee.Z,text:ce.Z,"web-style":Ie.Z,cim:W.Z},errorContext:"symbol"},ke=(0,O.d)({types:Oe}),Ye={base:ye.Z,key:"type",typeMap:{"simple-fill":le.Z,"picture-fill":de,"picture-marker":be.Z,"simple-line":fe.Z,"simple-marker":Ee.Z,text:ce.Z,"line-3d":Y.Z,"mesh-3d":se.Z,"point-3d":me.Z,"polygon-3d":_e.Z,"web-style":Ie.Z,cim:W.Z},errorContext:"symbol"},xe={base:ye.Z,key:"type",typeMap:{text:ce.Z,"label-3d":G.Z},errorContext:"symbol"},Qe={base:ye.Z,key:"type",typeMap:{"line-3d":Y.Z,"mesh-3d":se.Z,"point-3d":me.Z,"polygon-3d":_e.Z,"web-style":Ie.Z,cim:W.Z},errorContext:"symbol"},lt={base:ye.Z,key:"type",typeMap:{"label-3d":G.Z},errorContext:"symbol"},ve=(0,w.N7)(Oe)},94398:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var se,w=T(15861),O=T(17626),W=T(58817),B=T(77275),k=T(77712),ee=(T(90912),T(55342)),Z=T(68653),G=T(76898),Y=T(99433),ne=T(36630),ae=T(10012);let ie=se=class extends ae.Z{constructor(Q){super(Q),this.data=null,this.type="cim"}readData(Q,V){return V}writeData(Q,V){if(Q)for(const U in Q)V[U]=Q[U]}collectRequiredFields(Q,V){var U=this;return(0,w.Z)(function*(){if("CIMSymbolReference"===U.data?.type){const $=U.data.primitiveOverrides;if($){const z=$.map(J=>(0,ne.io)(Q,V,J.valueExpressionInfo.expression));yield Promise.all(z)}}})()}clone(){return new se({data:(0,W.d9)(this.data)})}hash(){return(0,B.hP)(JSON.stringify(this.data)).toString()}};(0,O._)([(0,k.Cb)({json:{write:!1}})],ie.prototype,"color",void 0),(0,O._)([(0,k.Cb)({json:{write:!0}})],ie.prototype,"data",void 0),(0,O._)([(0,Z.r)("data",["symbol"])],ie.prototype,"readData",null),(0,O._)([(0,Y.c)("data",{})],ie.prototype,"writeData",null),(0,O._)([(0,ee.J)({CIMSymbolReference:"cim"},{readOnly:!0})],ie.prototype,"type",void 0),ie=se=(0,O._)([(0,G.j)("esri.symbols.CIMSymbol")],ie);const te=ie},65499:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var ne,w=T(17626),O=T(62208),W=T(77712),re=(T(90912),T(85931),T(55342)),ee=T(76898),Z=T(97665),G=T(61261),Y=T(64830);let ae=ne=class extends Z.Z{constructor(ie){super(ie),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new ne({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,w._)([(0,re.J)({Extrude:"extrude"},{readOnly:!0})],ae.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ae.prototype,"size",void 0),(0,w._)([(0,W.Cb)({type:Y.b,json:{write:!0}})],ae.prototype,"material",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ae.prototype,"castShadows",void 0),(0,w._)([(0,W.Cb)(G.Z)],ae.prototype,"edges",void 0),ae=ne=(0,w._)([(0,ee.j)("esri.symbols.ExtrudeSymbol3DLayer")],ae);const se=ae},48575:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(52068),ee=T(10012);let Z=class extends ee.Z{constructor(Y){super(Y),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,w._)([(0,O.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":re.Z}},json:{default:null,write:!0}})],Z.prototype,"outline",void 0),(0,w._)([(0,O.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],Z.prototype,"type",void 0),Z=(0,w._)([(0,k.j)("esri.symbols.FillSymbol")],Z);const G=Z},9260:(j,F,T)=>{"use strict";T.d(F,{Z:()=>le});var U,w=T(17626),O=T(62208),W=T(77712),re=(T(90912),T(85931),T(55342)),ee=T(76898),Z=T(97665),G=T(61261),Y=T(63743),ne=T(153),ae=T(99255),se=T(12948),V=(T(63290),T(26584),T(8314),T(64830));let $=U=class extends V.b{constructor(fe){super(fe),this.colorMixMode=null}clone(){const fe={color:(0,O.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new U(fe)}};(0,w._)([(0,re.J)({multiply:"multiply",replace:"replace",tint:"tint"})],$.prototype,"colorMixMode",void 0),$=U=(0,w._)([(0,ee.j)("esri.symbols.support.Symbol3DFillMaterial")],$);var de,z=T(91558),J=T(86810),q=T(23841),oe=T(60958),pe=T(43652);let be=de=class extends J.wq{constructor(fe){super(fe),this.color=new z.Z([0,0,0,1]),this.size=(0,q.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const fe={color:(0,O.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,O.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new de(fe)}};var me;(0,w._)([(0,W.Cb)(oe.a)],be.prototype,"color",void 0),(0,w._)([(0,W.Cb)(oe.y)],be.prototype,"size",void 0),(0,w._)([(0,W.Cb)(ae.D)],be.prototype,"pattern",void 0),(0,w._)([(0,W.Cb)({type:pe.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:(0,O.pC)(this.pattern)}}}}})],be.prototype,"patternCap",void 0),be=de=(0,w._)([(0,ee.j)("esri.symbols.support.Symbol3DOutline")],be);let _e=me=class extends Z.Z{constructor(fe){super(fe),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const fe={edges:(0,O.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,pattern:(0,O.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,O.pC)(this.outline)?this.outline.clone():null};return new me(fe)}static fromSimpleFillSymbol(fe){const Ee=fe.outline&&fe.outline.style&&"inside-frame"!==fe.outline.style&&"solid"!==fe.outline.style?new Y.Z({style:fe.outline.style}):null,ye={size:fe.outline?.width??0,color:(fe.outline?.color??se.ix).clone(),pattern:Ee};return Ee&&fe.outline?.cap&&(ye.patternCap=fe.outline.cap),new me({material:new $({color:(fe.color??se.l9).clone()}),pattern:fe.style&&"solid"!==fe.style?new ne.Z({style:fe.style}):null,outline:ye})}};(0,w._)([(0,re.J)({Fill:"fill"},{readOnly:!0})],_e.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:$,json:{write:!0}})],_e.prototype,"material",void 0),(0,w._)([(0,W.Cb)(ae.q)],_e.prototype,"pattern",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_e.prototype,"castShadows",void 0),(0,w._)([(0,W.Cb)({type:be,json:{write:!0}})],_e.prototype,"outline",void 0),(0,w._)([(0,W.Cb)(G.Z)],_e.prototype,"edges",void 0),_e=me=(0,w._)([(0,ee.j)("esri.symbols.FillSymbol3DLayer")],_e);const le=_e},11472:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var G,w=T(17626),O=T(86810),W=T(23841),B=T(77712),k=T(66656),ee=(T(85931),T(76898)),Z=T(50369);let Y=G=class extends O.wq{constructor(ae){super(ae),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(ae){return(0,W.t_)(ae)}clone(){return new G({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,w._)([(0,B.Cb)({type:Z.JT,json:{default:"none",write:!0}})],Y.prototype,"decoration",void 0),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"family",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:(ae,se,ie)=>({enabled:!ie||!ie.textSymbol3D})}}})],Y.prototype,"size",void 0),(0,w._)([(0,k.p)("size")],Y.prototype,"castSize",null),(0,w._)([(0,B.Cb)({type:Z.g6,json:{default:"normal",write:!0}})],Y.prototype,"style",void 0),(0,w._)([(0,B.Cb)({type:Z.vC,json:{default:"normal",write:!0}})],Y.prototype,"weight",void 0),Y=G=(0,w._)([(0,ee.j)("esri.symbols.Font")],Y);const ne=Y},26531:(j,F,T)=>{"use strict";T.d(F,{Z:()=>_e});var U,w=T(17626),O=T(63290),W=T(62208),B=T(21726),k=T(77712),Z=(T(90912),T(85931),T(55342)),G=T(76898),Y=T(97665),ne=T(12948),ae=T(33215),se=T(60958),ie=T(37519),te=T(91558),Q=T(86810),V=T(23841);let $=U=class extends Q.wq{constructor(le){super(le),this.color=new te.Z([0,0,0,1]),this.size=(0,V.Wz)(1)}clone(){const le={color:(0,W.pC)(this.color)?this.color.clone():null,size:this.size};return new U(le)}};(0,w._)([(0,k.Cb)(se.a)],$.prototype,"color",void 0),(0,w._)([(0,k.Cb)(se.y)],$.prototype,"size",void 0),$=U=(0,w._)([(0,G.j)("esri.symbols.support.Symbol3DIconOutline")],$);var J,z=T(64830);const q="esri.symbols.IconSymbol3DLayer";let oe=J=class extends Y.Z{constructor(le){super(le),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new J({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,W.pC)(this.material)?this.material.clone():null,outline:(0,W.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(le){const fe=le.color||ne.ix,Ee=pe(le),ye=le.outline&&le.outline.width>0?{size:le.outline.width,color:(le.outline.color||ne.ix).clone()}:null;return new J({size:le.size,resource:{primitive:me(le.style)},material:{color:fe},outline:ye,anchor:Ee?"relative":void 0,anchorPosition:Ee})}static fromPictureMarkerSymbol(le){const fe=!le.color||(0,ne.rx)(le.color)?ne.ix:le.color,Ee=pe(le);return new J({size:le.width<=le.height?le.height:le.width,resource:{href:le.url},material:{color:fe.clone()},anchor:Ee?"relative":void 0,anchorPosition:Ee})}static fromCIMSymbol(le){return new J({resource:{href:(0,B._l)({mediaType:"application/json",data:JSON.stringify(le.data)})}})}};function pe(le){const fe="width"in le?le.width:le.size,Ee="height"in le?le.height:le.size,ye=de(le.xoffset),ue=de(le.yoffset);return(ye||ue)&&fe&&Ee?{x:-ye/fe,y:ue/Ee}:null}function de(le){return isFinite(le)?le:0}(0,w._)([(0,k.Cb)({type:z.b,json:{write:!0}})],oe.prototype,"material",void 0),(0,w._)([(0,k.Cb)({type:ae.b,json:{write:!0}})],oe.prototype,"resource",void 0),(0,w._)([(0,Z.J)({Icon:"icon"},{readOnly:!0})],oe.prototype,"type",void 0),(0,w._)([(0,k.Cb)(se.y)],oe.prototype,"size",void 0),(0,w._)([(0,Z.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,k.Cb)({json:{default:"center"}})],oe.prototype,"anchor",void 0),(0,w._)([(0,k.Cb)({type:ie.e,json:{type:[Number],read:{reader:le=>new ie.e({x:le[0],y:le[1]})},write:{writer:(le,fe)=>{fe.anchorPosition=[le.x,le.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],oe.prototype,"anchorPosition",void 0),(0,w._)([(0,k.Cb)({type:$,json:{write:!0}})],oe.prototype,"outline",void 0),oe=J=(0,w._)([(0,G.j)(q)],oe);const be={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function me(le){return be[le]||(O.Z.getLogger(q).warn(`${le} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const _e=oe},22490:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var ae,w=T(17626),O=T(74333),W=T(58817),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(39368),G=T(21716),Y=T(9824),ne=T(97595);const se=O.Z.ofType({base:null,key:"type",typeMap:{text:G.Z}});let ie=ae=class extends Z.Z{constructor(Q){super(Q),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new se,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,Y.gv)(this)}hasVisibleVerticalOffset(){return(0,Y.Uy)(this)}clone(){return new ae({styleOrigin:(0,W.d9)(this.styleOrigin),symbolLayers:(0,W.d9)(this.symbolLayers),thumbnail:(0,W.d9)(this.thumbnail),callout:(0,W.d9)(this.callout),verticalOffset:(0,W.d9)(this.verticalOffset)})}static fromTextSymbol(Q){return new ae({symbolLayers:[G.Z.fromTextSymbol(Q)]})}};(0,w._)([(0,B.Cb)({type:ne.Z,json:{write:!0}})],ie.prototype,"verticalOffset",void 0),(0,w._)([(0,B.Cb)(Y.Y2)],ie.prototype,"callout",void 0),(0,w._)([(0,B.Cb)({json:{read:!1,write:!1}})],ie.prototype,"styleOrigin",void 0),(0,w._)([(0,B.Cb)({type:se})],ie.prototype,"symbolLayers",void 0),(0,w._)([(0,re.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],ie.prototype,"type",void 0),ie=ae=(0,w._)([(0,ee.j)("esri.symbols.LabelSymbol3D")],ie);const te=ie},40445:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var ne,w=T(17626),O=T(74333),W=T(58817),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(21068),G=T(69147),Y=T(39368);const ae=O.Z.ofType({base:null,key:"type",typeMap:{line:Z.Z,path:G.Z}}),se=O.Z.ofType({base:null,key:"type",typeMap:{line:Z.Z,path:G.Z}});let ie=ne=class extends Y.Z{constructor(Q){super(Q),this.symbolLayers=new ae,this.type="line-3d"}clone(){return new ne({styleOrigin:(0,W.d9)(this.styleOrigin),symbolLayers:(0,W.d9)(this.symbolLayers),thumbnail:(0,W.d9)(this.thumbnail)})}static fromSimpleLineSymbol(Q){return new ne({symbolLayers:[Z.Z.fromSimpleLineSymbol(Q)]})}};(0,w._)([(0,B.Cb)({type:ae,json:{type:se}})],ie.prototype,"symbolLayers",void 0),(0,w._)([(0,re.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],ie.prototype,"type",void 0),ie=ne=(0,w._)([(0,ee.j)("esri.symbols.LineSymbol3D")],ie);const te=ie},21068:(j,F,T)=>{"use strict";T.d(F,{Z:()=>pe});var w=T(17626),O=T(62208),W=T(23841),B=T(77712),k=T(90912),ee=(T(85931),T(55342)),Z=T(76898),G=T(91558),Y=T(79608),ne=T(86810),ae=T(67866);let se=class extends((0,Y.J)(ne.wq)){constructor(de){super(de),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(de){return(0,O.pC)(de)&&de.placement===this.placement&&de.style===this.style&&((0,O.Wi)(this.color)&&(0,O.Wi)(de.color)||(0,O.pC)(this.color)&&(0,O.pC)(de.color)&&this.color.toJSON()===de.color.toJSON())}};(0,w._)([(0,B.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],se.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:ae.J,json:{default:"begin-end",write:!0}})],se.prototype,"placement",void 0),(0,w._)([(0,B.Cb)({type:ae.k,json:{default:"arrow",write:!0}})],se.prototype,"style",void 0),(0,w._)([(0,B.Cb)({type:G.Z,json:{type:[k.z8],default:null,write:!0}})],se.prototype,"color",void 0),se=(0,w._)([(0,Z.j)("esri.symbols.LineStyleMarker3D")],se);const ie=se;var q,te=T(97665),Q=T(63743),V=T(99255),U=T(12948),$=T(60958),z=T(64830),J=T(43652);let oe=q=class extends te.Z{constructor(de){super(de),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,W.Wz)(1),this.pattern=null,this.marker=null}clone(){const de={enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,O.pC)(this.pattern)?this.pattern.clone():null,marker:(0,O.pC)(this.marker)?this.marker.clone():null};return new q(de)}static fromSimpleLineSymbol(de){const be={enabled:!0,size:de.width??(0,W.Wz)(1),cap:de.cap||"butt",join:de.join||"miter",pattern:de.style&&"inside-frame"!==de.style?new Q.Z({style:de.style}):null,material:new z.b({color:(de.color||U.ix).clone()}),marker:de.marker?new ie({placement:de.marker.placement,style:de.marker.style,color:de.marker.color?.clone()??null}):null};return new q(be)}};(0,w._)([(0,B.Cb)({type:z.b,json:{write:!0}})],oe.prototype,"material",void 0),(0,w._)([(0,ee.J)({Line:"line"},{readOnly:!0})],oe.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:J.w2,json:{write:!0,default:"miter"}})],oe.prototype,"join",void 0),(0,w._)([(0,B.Cb)({type:J.Hc,json:{write:!0,default:"butt"}})],oe.prototype,"cap",void 0),(0,w._)([(0,B.Cb)($.y)],oe.prototype,"size",void 0),(0,w._)([(0,B.Cb)(V.D)],oe.prototype,"pattern",void 0),(0,w._)([(0,B.Cb)({types:{key:"type",base:ie,typeMap:{style:ie}},json:{write:!0}})],oe.prototype,"marker",void 0),oe=q=(0,w._)([(0,Z.j)("esri.symbols.LineSymbol3DLayer")],oe);const pe=oe},46735:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var w=T(17626),O=T(23841),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(10012);let Z=class extends ee.Z{constructor(Y){super(Y),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,w._)([(0,W.Cb)({type:Number,json:{read:Y=>Y&&-1*Y,write:(Y,ne)=>ne.angle=Y&&-1*Y}})],Z.prototype,"angle",void 0),(0,w._)([(0,W.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],Z.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:Number,cast:O.t_,json:{write:!0}})],Z.prototype,"xoffset",void 0),(0,w._)([(0,W.Cb)({type:Number,cast:O.t_,json:{write:!0}})],Z.prototype,"yoffset",void 0),(0,w._)([(0,W.Cb)({type:Number,cast:Y=>"auto"===Y?Y:(0,O.t_)(Y),json:{write:!0}})],Z.prototype,"size",void 0),Z=(0,w._)([(0,re.j)("esri.symbols.MarkerSymbol")],Z);const G=Z},36687:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var Y,w=T(17626),O=T(74333),W=T(58817),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(9260),G=T(39368);const ne=O.Z.ofType({base:null,key:"type",typeMap:{fill:Z.Z}});let ae=Y=class extends G.Z{constructor(ie){super(ie),this.symbolLayers=new ne,this.type="mesh-3d"}clone(){return new Y({styleOrigin:(0,W.d9)(this.styleOrigin),symbolLayers:(0,W.d9)(this.symbolLayers),thumbnail:(0,W.d9)(this.thumbnail)})}static fromSimpleFillSymbol(ie){return new Y({symbolLayers:[Z.Z.fromSimpleFillSymbol(ie)]})}};(0,w._)([(0,B.Cb)({type:ne})],ae.prototype,"symbolLayers",void 0),(0,w._)([(0,re.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],ae.prototype,"type",void 0),ae=Y=(0,w._)([(0,ee.j)("esri.symbols.MeshSymbol3D")],ae);const se=ae},2066:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Q});var ne,w=T(17626),O=T(62208),W=T(77712),re=(T(90912),T(85931),T(55342)),ee=T(76898),Z=T(97665),G=T(48521),Y=T(14517);let ae=ne=class extends Y.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ne({x:this.x,y:this.y,z:this.z})}};(0,w._)([(0,W.Cb)({type:Number})],ae.prototype,"x",void 0),(0,w._)([(0,W.Cb)({type:Number})],ae.prototype,"y",void 0),(0,w._)([(0,W.Cb)({type:Number})],ae.prototype,"z",void 0),ae=ne=(0,w._)([(0,ee.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],ae);var ie,se=T(64830);let te=ie=class extends Z.Z{constructor(V){super(V),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ie({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,O.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,w._)([(0,W.Cb)({type:se.b,json:{write:!0}})],te.prototype,"material",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],te.prototype,"castShadows",void 0),(0,w._)([(0,W.Cb)({type:G.k,json:{write:!0}})],te.prototype,"resource",void 0),(0,w._)([(0,re.J)({Object:"object"},{readOnly:!0})],te.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],te.prototype,"width",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],te.prototype,"height",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],te.prototype,"depth",void 0),(0,w._)([(0,re.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,W.Cb)({json:{default:"origin"}})],te.prototype,"anchor",void 0),(0,w._)([(0,W.Cb)({type:ae,json:{type:[Number],read:{reader:V=>new ae({x:V[0],y:V[1],z:V[2]})},write:{writer:(V,U)=>{U.anchorPosition=[V.x,V.y,V.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],te.prototype,"anchorPosition",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],te.prototype,"heading",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],te.prototype,"tilt",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],te.prototype,"roll",void 0),(0,w._)([(0,W.Cb)({readOnly:!0})],te.prototype,"isPrimitive",null),te=ie=(0,w._)([(0,ee.j)("esri.symbols.ObjectSymbol3DLayer")],te);const Q=te},69147:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var ae,w=T(17626),O=T(62208),W=T(77712),re=(T(90912),T(85931),T(55342)),ee=T(68653),Z=T(76898),G=T(97665),Y=T(64830),ne=T(43652);let se=ae=class extends G.Z{constructor(te){super(te),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(te,Q){return te??(null==Q.height&&null!=Q.size?Q.size:void 0)}readHeight(te,Q){return te??(null==Q.width&&null!=Q.size?Q.size:void 0)}clone(){return new ae({enabled:this.enabled,material:(0,O.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,w._)([(0,W.Cb)({type:Y.b,json:{write:!0}})],se.prototype,"material",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],se.prototype,"castShadows",void 0),(0,w._)([(0,re.J)({Path:"path"},{readOnly:!0})],se.prototype,"type",void 0),(0,w._)([(0,W.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],se.prototype,"profile",void 0),(0,w._)([(0,W.Cb)({type:ne.w2,json:{write:!0,default:"miter"}})],se.prototype,"join",void 0),(0,w._)([(0,W.Cb)({type:ne.KW,json:{write:!0,default:"butt"}})],se.prototype,"cap",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],se.prototype,"width",void 0),(0,w._)([(0,ee.r)("width",["width","size","height"])],se.prototype,"readWidth",null),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],se.prototype,"height",void 0),(0,w._)([(0,ee.r)("height",["height","size","width"])],se.prototype,"readHeight",null),(0,w._)([(0,W.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],se.prototype,"anchor",void 0),(0,w._)([(0,W.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],se.prototype,"profileRotation",void 0),se=ae=(0,w._)([(0,Z.j)("esri.symbols.PathSymbol3DLayer")],se);const ie=se},13546:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var ne,w=T(17626),O=T(58817),W=T(23841),B=T(77712),re=(T(90912),T(55342)),ee=T(68653),Z=T(76898),G=T(46735),Y=T(69738);let ae=ne=class extends G.Z{constructor(...ie){super(...ie),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(ie,te,Q){if(ie&&"string"!=typeof ie&&null==ie.imageData)return ie;const V={};return ie&&(V.url=ie),null!=te&&(V.width=(0,W.t_)(te)),null!=Q&&(V.height=(0,W.t_)(Q)),V}readHeight(ie,te){return te.size||ie}readWidth(ie,te){return te.size||ie}clone(){const ie=new ne({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return ie._set("source",(0,O.d9)(this.source)),ie}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,w._)([(0,B.Cb)({json:{write:!1}})],ae.prototype,"color",void 0),(0,w._)([(0,re.J)({esriPMS:"picture-marker"},{readOnly:!0})],ae.prototype,"type",void 0),(0,w._)([(0,B.Cb)(Y.KA)],ae.prototype,"url",void 0),(0,w._)([(0,B.Cb)(Y.Ds)],ae.prototype,"source",void 0),(0,w._)([(0,B.Cb)({type:Number,cast:W.t_,json:{write:!0}})],ae.prototype,"height",void 0),(0,w._)([(0,ee.r)("height",["height","size"])],ae.prototype,"readHeight",null),(0,w._)([(0,B.Cb)({type:Number,cast:W.t_,json:{write:!0}})],ae.prototype,"width",void 0),(0,w._)([(0,B.Cb)({json:{write:!1}})],ae.prototype,"size",void 0),ae=ne=(0,w._)([(0,Z.j)("esri.symbols.PictureMarkerSymbol")],ae);const se=ae},69852:(j,F,T)=>{"use strict";T.d(F,{Z:()=>V});var ie,w=T(17626),O=T(74333),W=T(58817),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(26531),G=T(2066),Y=T(39368),ne=T(21716),ae=T(9824),se=T(97595);const te=O.Z.ofType({base:null,key:"type",typeMap:{icon:Z.Z,object:G.Z,text:ne.Z}});let Q=ie=class extends Y.Z{constructor(U){super(U),this.verticalOffset=null,this.callout=null,this.symbolLayers=new te,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const U of this.symbolLayers.items)switch(U.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,ae.gv)(this)}hasVisibleVerticalOffset(){return(0,ae.Uy)(this)}clone(){return new ie({verticalOffset:(0,W.d9)(this.verticalOffset),callout:(0,W.d9)(this.callout),styleOrigin:(0,W.d9)(this.styleOrigin),symbolLayers:(0,W.d9)(this.symbolLayers),thumbnail:(0,W.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(U){return new ie({symbolLayers:[Z.Z.fromSimpleMarkerSymbol(U)]})}static fromPictureMarkerSymbol(U){return new ie({symbolLayers:[Z.Z.fromPictureMarkerSymbol(U)]})}static fromCIMSymbol(U){return"CIMPointSymbol"!==U.data?.symbol?.type?null:new ie(U.data.symbol?.callout?{symbolLayers:[Z.Z.fromCIMSymbol(U)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[Z.Z.fromCIMSymbol(U)]})}static fromTextSymbol(U){return new ie({symbolLayers:[ne.Z.fromTextSymbol(U)]})}};(0,w._)([(0,B.Cb)({type:se.Z,json:{write:!0}})],Q.prototype,"verticalOffset",void 0),(0,w._)([(0,B.Cb)(ae.Y2)],Q.prototype,"callout",void 0),(0,w._)([(0,B.Cb)({type:te,json:{origins:{"web-scene":{write:!0}}}})],Q.prototype,"symbolLayers",void 0),(0,w._)([(0,re.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],Q.prototype,"type",void 0),Q=ie=(0,w._)([(0,ee.j)("esri.symbols.PointSymbol3D")],Q);const V=Q},89673:(j,F,T)=>{"use strict";T.d(F,{Z:()=>z});var V,w=T(17626),O=T(74333),W=T(58817),B=T(62208),k=T(77712),ee=(T(90912),T(55342)),Z=T(76898),G=T(65499),Y=T(9260),ne=T(26531),ae=T(21068),se=T(2066),ie=T(39368),te=T(21716),Q=T(72622);const U=O.Z.ofType({base:null,key:"type",typeMap:{extrude:G.Z,fill:Y.Z,icon:ne.Z,line:ae.Z,object:se.Z,text:te.Z,water:Q.Z}});let $=V=class extends ie.Z{constructor(J){super(J),this.symbolLayers=new U,this.type="polygon-3d"}clone(){return new V({styleOrigin:(0,W.d9)(this.styleOrigin),symbolLayers:(0,W.d9)(this.symbolLayers),thumbnail:(0,W.d9)(this.thumbnail)})}static fromJSON(J){const q=new V;if(q.read(J),2===q.symbolLayers.length&&"fill"===q.symbolLayers.getItemAt(0).type&&"line"===q.symbolLayers.getItemAt(1).type){const oe=q.symbolLayers.getItemAt(0),pe=q.symbolLayers.getItemAt(1);!pe.enabled||J.symbolLayers&&J.symbolLayers[1]&&!1===J.symbolLayers[1].enable||(oe.outline={size:pe.size,color:(0,B.pC)(pe.material)?pe.material.color:null}),q.symbolLayers.removeAt(1)}return q}static fromSimpleFillSymbol(J){return new V({symbolLayers:[Y.Z.fromSimpleFillSymbol(J)]})}};(0,w._)([(0,k.Cb)({type:U,json:{write:!0}})],$.prototype,"symbolLayers",void 0),(0,w._)([(0,ee.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],$.prototype,"type",void 0),$=V=(0,w._)([(0,Z.j)("esri.symbols.PolygonSymbol3D")],$);const z=$},88493:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var ne,w=T(17626),O=T(91558),W=T(2076),B=T(58817),k=T(77712),ee=(T(90912),T(55342)),Z=T(76898),G=T(48575),Y=T(52068);const ae=new W.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let se=ne=class extends G.Z{constructor(...te){super(...te),this.color=new O.Z([0,0,0,.25]),this.outline=new Y.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(te,Q,V){if(te&&"string"!=typeof te)return te;const U={};return te&&(U.style=te),Q&&(U.outline=Q),V&&(U.color=V),U}clone(){return new ne({color:(0,B.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,w._)([(0,k.Cb)()],se.prototype,"color",void 0),(0,w._)([(0,k.Cb)()],se.prototype,"outline",void 0),(0,w._)([(0,ee.J)({esriSFS:"simple-fill"},{readOnly:!0})],se.prototype,"type",void 0),(0,w._)([(0,k.Cb)({type:ae.apiValues,json:{read:ae.read,write:ae.write}})],se.prototype,"style",void 0),se=ne=(0,w._)([(0,Z.j)("esri.symbols.SimpleFillSymbol")],se);const ie=se},52068:(j,F,T)=>{"use strict";T.d(F,{Z:()=>pe});var w=T(17626),O=T(2076),W=T(58817),B=T(23841),k=T(77712),ee=(T(90912),T(55342)),Z=T(76898),Y=(T(85931),T(10012));let ne=class extends Y.Z{constructor(de){super(de),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,w._)([(0,ee.J)({esriSLS:"simple-line"},{readOnly:!0})],ne.prototype,"type",void 0),(0,w._)([(0,k.Cb)({type:Number,cast:B.t_,json:{write:!0}})],ne.prototype,"width",void 0),ne=(0,w._)([(0,Z.j)("esri.symbols.LineSymbol")],ne);const ae=ne;var U,se=T(91558),ie=T(86810),te=T(68653),Q=T(99433),V=T(67866);let $=U=class extends ie.wq{constructor(de){super(de),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(de,be,me,_e){be[me]="web-map"===_e?.origin?"arrow":de}set color(de){this._set("color",de)}readColor(de){return de&&null!=de[0]?[de[0],de[1],de[2],de[3]/255]:de}writeColor(de,be,me,_e){"web-map"===_e?.origin||(be[me]=de)}clone(){return new U({color:(0,W.d9)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,w._)([(0,k.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],$.prototype,"placement",void 0),(0,w._)([(0,ee.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,k.Cb)({json:{origins:{"web-map":{write:!1}}}})],$.prototype,"type",void 0),(0,w._)([(0,k.Cb)({type:V.k})],$.prototype,"style",void 0),(0,w._)([(0,Q.c)("style")],$.prototype,"writeStyle",null),(0,w._)([(0,k.Cb)({type:se.Z,value:null,json:{write:{allowNull:!0}}})],$.prototype,"color",null),(0,w._)([(0,te.r)("color")],$.prototype,"readColor",null),(0,w._)([(0,Q.c)("color")],$.prototype,"writeColor",null),$=U=(0,w._)([(0,Z.j)("esri.symbols.LineSymbolMarker")],$);const z=$;var J;const q=new O.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let oe=J=class extends ae{constructor(...de){super(...de),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(de,be,me,_e,le,fe){if(de&&"string"!=typeof de)return de;const Ee={};return null!=de&&(Ee.style=de),null!=be&&(Ee.color=be),null!=me&&(Ee.width=(0,B.t_)(me)),null!=_e&&(Ee.cap=_e),null!=le&&(Ee.join=le),null!=fe&&(Ee.miterLimit=(0,B.t_)(fe)),Ee}clone(){return new J({color:(0,W.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,w._)([(0,ee.J)({esriSLS:"simple-line"},{readOnly:!0})],oe.prototype,"type",void 0),(0,w._)([(0,k.Cb)({type:q.apiValues,json:{read:q.read,write:q.write}})],oe.prototype,"style",void 0),(0,w._)([(0,k.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(de,be,me)=>({enabled:"round"!==de&&(null==me||null==me.origin)})}}})],oe.prototype,"cap",void 0),(0,w._)([(0,k.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(de,be,me)=>({enabled:"round"!==de&&(null==me||null==me.origin)})}}})],oe.prototype,"join",void 0),(0,w._)([(0,k.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":z}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],oe.prototype,"marker",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{read:!1,write:!1}})],oe.prototype,"miterLimit",void 0),oe=J=(0,w._)([(0,Z.j)("esri.symbols.SimpleLineSymbol")],oe);const pe=oe},57213:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Q});var se,w=T(17626),O=T(91558),W=T(2076),B=T(58817),k=T(23841),re=T(77712),Z=(T(90912),T(55342)),G=T(76898),Y=T(99433),ne=T(46735),ae=T(52068);const ie=new W.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let te=se=class extends ne.Z{constructor(...V){super(...V),this.color=new O.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ae.Z}normalizeCtorArgs(V,U,$,z){if(V&&"string"!=typeof V)return V;const J={};return V&&(J.style=V),null!=U&&(J.size=(0,k.t_)(U)),$&&(J.outline=$),z&&(J.color=z),J}writeColor(V,U){V&&"x"!==this.style&&"cross"!==this.style&&(U.color=V.toJSON()),null===V&&(U.color=null)}set path(V){this.style="path",this._set("path",V)}clone(){return new se({angle:this.angle,color:(0,B.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,w._)([(0,re.Cb)()],te.prototype,"color",void 0),(0,w._)([(0,Y.c)("color")],te.prototype,"writeColor",null),(0,w._)([(0,Z.J)({esriSMS:"simple-marker"},{readOnly:!0})],te.prototype,"type",void 0),(0,w._)([(0,re.Cb)()],te.prototype,"size",void 0),(0,w._)([(0,re.Cb)({type:ie.apiValues,json:{read:ie.read,write:ie.write}})],te.prototype,"style",void 0),(0,w._)([(0,re.Cb)({type:String,json:{write:!0}})],te.prototype,"path",null),(0,w._)([(0,re.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ae.Z}},json:{default:null,write:!0}})],te.prototype,"outline",void 0),te=se=(0,w._)([(0,G.j)("esri.symbols.SimpleMarkerSymbol")],te);const Q=te},10012:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var w=T(15861),O=T(17626),W=T(91558),B=T(2076),k=T(86810),re=T(77712),G=(T(90912),T(85931),T(68653)),Y=T(76898);const ne=new B.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let ae=0,se=class extends k.wq{constructor(te){super(te),this.id="sym"+ae++,this.type=null,this.color=new W.Z([0,0,0,1])}readColor(te){return te&&null!=te[0]?[te[0],te[1],te[2],te[3]/255]:te}collectRequiredFields(te,Q){return(0,w.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,O._)([(0,re.Cb)({type:ne.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:ne.write}}})],se.prototype,"type",void 0),(0,O._)([(0,re.Cb)({type:W.Z,json:{write:{allowNull:!0}}})],se.prototype,"color",void 0),(0,O._)([(0,G.r)("color")],se.prototype,"readColor",null),se=(0,O._)([(0,Y.j)("esri.symbols.Symbol")],se);const ie=se},39368:(j,F,T)=>{"use strict";T.d(F,{Z:()=>fe});var w=T(17626),O=T(74333),W=T(89726),B=T(63290),k=T(21726),re=T(14889),ee=T(77712),Z=T(66656),Y=(T(85931),T(68653)),ne=T(76898),ae=T(99433),se=T(84687),ie=T(29840),te=T(65499),Q=T(9260),V=T(26531),U=T(21068),$=T(2066),z=T(69147),J=T(10012),q=T(97665),oe=T(21716),pe=T(72622),de=T(77345),be=T(96296);const me={icon:V.Z,object:$.Z,line:U.Z,path:z.Z,fill:Q.Z,extrude:te.Z,text:oe.Z,water:pe.Z},_e=O.Z.ofType({base:q.Z,key:"type",typeMap:me,errorContext:"symbol-layer"});let le=class extends J.Z{constructor(Ee){super(Ee),this.styleOrigin=null,this.thumbnail=null,this.type=null;const ye=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(ye&&ye.type||O.Z))}get color(){return null}set color(Ee){this.constructed&&B.Z.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(Ee){(0,W.Z)(Ee,this._get("symbolLayers"))}readStyleOrigin(Ee,ye,ue){if(Ee.styleUrl&&Ee.name){const Me=(0,ie.f)(Ee.styleUrl,ue);return new de.Z({styleUrl:Me,name:Ee.name})}if(Ee.styleName&&Ee.name)return new de.Z({portal:ue&&ue.portal||se.Z.getDefault(),styleName:Ee.styleName,name:Ee.name});ue&&ue.messages&&ue.messages.push(new re.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:ue,definition:Ee}))}writeStyleOrigin(Ee,ye,ue,Me){if(Ee.styleUrl&&Ee.name){let ce=(0,ie.t)(Ee.styleUrl,Me);(0,k.YP)(ce)&&(ce=(0,k.Fv)(ce)),ye.styleOrigin={styleUrl:ce,name:Ee.name}}else Ee.styleName&&Ee.name&&(Ee.portal&&Me&&Me.portal&&!(0,k.tm)(Ee.portal.restUrl,Me.portal.restUrl)?Me&&Me.messages&&Me.messages.push(new re.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):ye.styleOrigin={styleName:Ee.styleName,name:Ee.name})}normalizeCtorArgs(Ee){return Ee instanceof q.Z||Ee&&me[Ee.type]?{symbolLayers:[Ee]}:Array.isArray(Ee)?{symbolLayers:Ee}:Ee}};(0,w._)([(0,ee.Cb)({json:{read:!1,write:!1}})],le.prototype,"color",null),(0,w._)([(0,ee.Cb)({type:_e,nonNullable:!0,json:{write:!0}}),(0,Z.p)(W.R)],le.prototype,"symbolLayers",null),(0,w._)([(0,ee.Cb)({type:de.Z})],le.prototype,"styleOrigin",void 0),(0,w._)([(0,Y.r)("styleOrigin")],le.prototype,"readStyleOrigin",null),(0,w._)([(0,ae.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],le.prototype,"writeStyleOrigin",null),(0,w._)([(0,ee.Cb)({type:be.p,json:{read:!1}})],le.prototype,"thumbnail",void 0),(0,w._)([(0,ee.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],le.prototype,"type",void 0),le=(0,w._)([(0,ne.j)("esri.symbols.Symbol3D")],le);const fe=le},97665:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(99433);let Z=class extends O.wq{constructor(Y){super(Y),this.enabled=!0,this.type=null}writeEnabled(Y,ne,ae){Y||(ne[ae]=Y)}};(0,w._)([(0,W.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Z.prototype,"enabled",void 0),(0,w._)([(0,ee.c)("enabled")],Z.prototype,"writeEnabled",null),(0,w._)([(0,W.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Z.prototype,"type",void 0),Z=(0,w._)([(0,re.j)("esri.symbols.Symbol3DLayer")],Z);const G=Z},35540:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var se,w=T(17626),O=T(91558),W=T(58817),B=T(23841),k=T(77712),re=T(66656),ee=T(55342),Z=T(76898),G=T(99433),Y=T(11472),ne=T(10012),ae=T(50369);let ie=se=class extends ne.Z{constructor(...Q){super(...Q),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Y.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(Q,V,U){if(Q&&"string"!=typeof Q)return Q;const $={};return Q&&($.text=Q),V&&($.font=V),U&&($.color=U),$}writeLineWidth(Q,V,U,$){$&&"string"!=typeof $||(V[U]=Q)}castLineWidth(Q){return(0,B.t_)(Q)}writeLineHeight(Q,V,U,$){$&&"string"!=typeof $||(V[U]=Q)}clone(){return new se({angle:this.angle,backgroundColor:(0,W.d9)(this.backgroundColor),borderLineColor:(0,W.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,W.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,W.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,w._)([(0,k.Cb)({type:O.Z,json:{write:!0}})],ie.prototype,"backgroundColor",void 0),(0,w._)([(0,k.Cb)({type:O.Z,json:{write:!0}})],ie.prototype,"borderLineColor",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0},cast:B.t_})],ie.prototype,"borderLineSize",void 0),(0,w._)([(0,k.Cb)({type:Y.Z,json:{write:!0}})],ie.prototype,"font",void 0),(0,w._)([(0,k.Cb)({...ae.x0,json:{write:!0}})],ie.prototype,"horizontalAlignment",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"kerning",void 0),(0,w._)([(0,k.Cb)({type:O.Z,json:{write:!0}})],ie.prototype,"haloColor",void 0),(0,w._)([(0,k.Cb)({type:Number,cast:B.t_,json:{write:!0}})],ie.prototype,"haloSize",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"rightToLeft",void 0),(0,w._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"rotated",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ie.prototype,"text",void 0),(0,w._)([(0,ee.J)({esriTS:"text"},{readOnly:!0})],ie.prototype,"type",void 0),(0,w._)([(0,k.Cb)({...ae.Nj,json:{write:!0}})],ie.prototype,"verticalAlignment",void 0),(0,w._)([(0,k.Cb)({type:Number,cast:B.t_,json:{write:!0}})],ie.prototype,"xoffset",void 0),(0,w._)([(0,k.Cb)({type:Number,cast:B.t_,json:{write:!0}})],ie.prototype,"yoffset",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{read:Q=>Q&&-1*Q,write:(Q,V)=>V.angle=Q&&-1*Q}})],ie.prototype,"angle",void 0),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],ie.prototype,"width",void 0),(0,w._)([(0,k.Cb)({type:Number})],ie.prototype,"lineWidth",void 0),(0,w._)([(0,G.c)("lineWidth")],ie.prototype,"writeLineWidth",null),(0,w._)([(0,re.p)("lineWidth")],ie.prototype,"castLineWidth",null),(0,w._)([(0,k.Cb)(ae.Ck)],ie.prototype,"lineHeight",void 0),(0,w._)([(0,G.c)("lineHeight")],ie.prototype,"writeLineHeight",null),ie=se=(0,w._)([(0,Z.j)("esri.symbols.TextSymbol")],ie);const te=ie},21716:(j,F,T)=>{"use strict";T.d(F,{Z:()=>pe});var ie,w=T(17626),O=T(58817),W=T(62208),B=T(77712),re=(T(90912),T(55342)),ee=T(76898),Z=T(99433),G=T(11472),Y=T(97665),ne=T(60958),ae=T(91558),se=T(86810);let te=ie=class extends se.wq{constructor(){super(...arguments),this.color=new ae.Z([0,0,0,1]),this.size=0}clone(){const de={color:(0,O.d9)(this.color),size:this.size};return new ie(de)}};(0,w._)([(0,B.Cb)(ne.a)],te.prototype,"color",void 0),(0,w._)([(0,B.Cb)(ne.y)],te.prototype,"size",void 0),te=ie=(0,w._)([(0,ee.j)("esri.symbols.support.Symbol3DHalo")],te);var Q=T(64830),V=T(79608);T(85931);let $=class extends((0,V.J)(se.wq)){constructor(de){super(de),this.color=null}};(0,w._)([(0,B.Cb)(ne.a)],$.prototype,"color",void 0),$=(0,w._)([(0,ee.j)("esri.symbols.support.Symbol3DTextBackground")],$);var J,z=T(50369);let q=J=class extends Y.Z{constructor(de){super(de),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(de){(0,W.pC)(de)&&(0,W.pC)(this._userSize)&&(de.size=this._userSize),this._set("font",de)}writeFont(de,be,me,_e){const le={..._e,textSymbol3D:!0};be.font=de.write({},le),delete be.font.size}get size(){return(0,W.pC)(this._userSize)?this._userSize:(0,W.pC)(this.font)&&null!=this.font.size?this.font.size:9}set size(de){this._userSize=de,(0,W.pC)(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const de=new J({enabled:this.enabled,font:this.font&&(0,O.d9)(this.font),halo:this.halo&&(0,O.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:(0,W.pC)(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,O.d9)(this.background)});return de._userSize=this._userSize,de}static fromTextSymbol(de){return new J({font:(0,W.pC)(de.font)?de.font.clone():new G.Z,halo:oe(de.haloColor,de.haloSize),horizontalAlignment:de.horizontalAlignment,lineHeight:de.lineHeight,material:de.color?new Q.b({color:de.color.clone()}):null,text:de.text,verticalAlignment:de.verticalAlignment,background:de.backgroundColor?new $({color:de.backgroundColor.clone()}):null})}};function oe(de,be){return de&&null!=be&&be>0?new te({color:(0,O.d9)(de),size:be}):null}(0,w._)([(0,B.Cb)({type:G.Z,json:{write:!0}})],q.prototype,"font",null),(0,w._)([(0,Z.c)("font")],q.prototype,"writeFont",null),(0,w._)([(0,B.Cb)({type:te,json:{write:!0}})],q.prototype,"halo",void 0),(0,w._)([(0,B.Cb)({...z.x0,json:{default:"center",write:!0}})],q.prototype,"horizontalAlignment",void 0),(0,w._)([(0,B.Cb)({...z.Ck,json:{default:1,write:!0}})],q.prototype,"lineHeight",void 0),(0,w._)([(0,B.Cb)({type:Q.b,json:{write:!0}})],q.prototype,"material",void 0),(0,w._)([(0,B.Cb)({type:$,json:{write:!0}})],q.prototype,"background",void 0),(0,w._)([(0,B.Cb)(ne.y)],q.prototype,"size",null),(0,w._)([(0,B.Cb)({type:String,json:{write:!0}})],q.prototype,"text",void 0),(0,w._)([(0,re.J)({Text:"text"},{readOnly:!0})],q.prototype,"type",void 0),(0,w._)([(0,B.Cb)({...z.Nj,json:{default:"baseline",write:!0}})],q.prototype,"verticalAlignment",void 0),q=J=(0,w._)([(0,ee.j)("esri.symbols.TextSymbol3DLayer")],q);const pe=q},72622:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var G,w=T(17626),O=T(91558),W=T(58817),B=T(77712),k=T(90912),re=T(55342),ee=T(76898),Z=T(97665);let Y=G=class extends Z.Z{constructor(se){super(se),this.color=ne.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new G({color:(0,W.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,w._)([(0,B.Cb)({type:O.Z,nonNullable:!0,json:{type:[k.z8],write:(se,ie,te)=>ie[te]=se.toArray(O.Z.AlphaMode.UNLESS_OPAQUE),default:()=>ne.clone(),defaultEquals:se=>se.toCss(!0)===ne.toCss(!0)}})],Y.prototype,"color",void 0),(0,w._)([(0,re.J)({Water:"water"},{readOnly:!0})],Y.prototype,"type",void 0),(0,w._)([(0,B.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Y.prototype,"waterbodySize",void 0),(0,w._)([(0,B.Cb)({type:Number,json:{write:!0,default:null}})],Y.prototype,"waveDirection",void 0),(0,w._)([(0,B.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Y.prototype,"waveStrength",void 0),Y=G=(0,w._)([(0,ee.j)("esri.symbols.WaterSymbol3DLayer")],Y);const ne=new O.Z([0,119,190]),ae=Y},12874:(j,F,T)=>{"use strict";T.d(F,{Z:()=>U});var te,w=T(15861),O=T(17626),W=T(63290),B=T(62208),k=T(10699),re=T(77712),G=(T(90912),T(85931),T(55342)),Y=T(76898),ne=T(84687),ae=T(29840),se=T(10012),ie=T(96296);let Q=te=class extends se.Z{constructor($){super($),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const $=(0,B.pC)(this.portal)?this.portal:ne.Z.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${$.user?$.user.username:null}:${$.url}`}read($,z){this.portal=z?.portal,super.read($,z)}clone(){return new te({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol($){return this._fetchSymbol("webRef",$)}fetchCIMSymbol($){return this._fetchSymbol("cimRef",$)}_fetchSymbol($,z){var J=this;return(0,w.Z)(function*(){const q=(0,B.pC)(z)?z.cache:null,oe=q?J._fetchCacheKey:null;if((0,B.pC)(q)){const me=oe&&q.get(oe);if(me)return me.clone()}const pe=yield function V(){return Promise.resolve().then(T.bind(T,50998))}();(0,k.k_)(z);const de=pe.resolveWebStyleSymbol(J,{portal:J.portal},$,z);de.catch(me=>{W.Z.getLogger(J.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",me)});const be=yield de;return"webRef"===$&&"point-3d"===be.type||"cimRef"===$&&"cim"===be.type?((0,B.pC)(q)&&q.set(oe,be.clone()),be):null})()}};(0,O._)([(0,re.Cb)({json:{write:!1}})],Q.prototype,"color",void 0),(0,O._)([(0,re.Cb)({type:String,json:{write:!0}})],Q.prototype,"styleName",void 0),(0,O._)([(0,re.Cb)({type:ne.Z,json:{write:!1}})],Q.prototype,"portal",void 0),(0,O._)([(0,re.Cb)({type:String,json:{read:ae.r,write:ae.w}})],Q.prototype,"styleUrl",void 0),(0,O._)([(0,re.Cb)({type:ie.p,json:{read:!1}})],Q.prototype,"thumbnail",void 0),(0,O._)([(0,re.Cb)({type:String,json:{write:!0}})],Q.prototype,"name",void 0),(0,O._)([(0,G.J)({styleSymbolReference:"web-style"},{readOnly:!0})],Q.prototype,"type",void 0),(0,O._)([(0,re.Cb)()],Q.prototype,"_fetchCacheKey",null),Q=te=(0,O._)([(0,Y.j)("esri.symbols.WebStyleSymbol")],Q);const U=Q},21779:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(G){super(G),this.visible=!0}clone(){}};(0,w._)([(0,W.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],ee.prototype,"type",void 0),(0,w._)([(0,W.Cb)({readOnly:!0})],ee.prototype,"visible",void 0),ee=(0,w._)([(0,re.j)("esri.symbols.callouts.Callout3D")],ee);const Z=ee},17497:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var se,w=T(17626),O=T(91558),W=T(58817),B=T(62208),k=T(23841),re=T(77712),Z=(T(90912),T(55342)),G=T(76898),Y=T(21779),ne=T(71530),ae=T(60958);let ie=se=class extends Y.Z{constructor(Q){super(Q),this.type="line",this.color=new O.Z([0,0,0,1]),this.size=(0,k.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,B.pC)(this.color)&&this.color.a>0}clone(){return new se({color:(0,W.d9)(this.color),size:this.size,border:(0,W.d9)(this.border)})}};(0,w._)([(0,Z.J)({line:"line"},{readOnly:!0})],ie.prototype,"type",void 0),(0,w._)([(0,re.Cb)(ae.a)],ie.prototype,"color",void 0),(0,w._)([(0,re.Cb)(ae.y)],ie.prototype,"size",void 0),(0,w._)([(0,re.Cb)({type:ne.a,json:{write:!0}})],ie.prototype,"border",void 0),(0,w._)([(0,re.Cb)({readOnly:!0})],ie.prototype,"visible",null),ie=se=(0,w._)([(0,G.j)("esri.symbols.callouts.LineCallout3D")],ie);const te=ie},9824:(j,F,T)=>{"use strict";T.d(F,{Pd:()=>re,Uy:()=>B,Y2:()=>Z,as:()=>ee,gv:()=>k});var w=T(62208),O=T(21779),W=T(17497);function B(G){if(!G)return!1;const Y=G.verticalOffset;return!!Y&&!(Y.screenLength<=0||(0,w.pC)(Y.maxWorldLength)&&Y.maxWorldLength<=0)}function k(G){if(!G||!G.supportsCallout||!G.supportsCallout())return!1;const Y=G.callout;return!!Y&&!!Y.visible&&!!B(G)}function re(G){return"point-3d"===G.type||"label-3d"===G.type}function ee(G){return"center"===G.horizontalAlignment}const Z={types:{key:"type",base:O.Z,typeMap:{line:W.Z}},json:{write:!0}}},80991:(j,F,T)=>{"use strict";function O(ue,Me,ce,ge){return function w(ue){return"function"==typeof ue}(ue)?ue(Me,ce,ge):ue}function W(ue){return[ue.r,ue.g,ue.b,ue.a]}T.d(F,{$Z:()=>be,BX:()=>pe,Cc:()=>$,E_:()=>ee,F:()=>me,FG:()=>le,H1:()=>re,JW:()=>ye,NA:()=>V,NO:()=>ne,On:()=>q,QI:()=>G,Qf:()=>fe,Qs:()=>Z,RI:()=>z,TB:()=>Ee,TT:()=>Y,W7:()=>de,X_:()=>_e,be:()=>ae,cO:()=>U,gJ:()=>Q,hf:()=>O,k5:()=>te,nn:()=>W,pJ:()=>J,wi:()=>oe,yL:()=>ie,zL:()=>se});function k(ue){let Me=ue.length;for(;Me--;)if(!" /-,\n".includes(ue.charAt(Me)))return!1;return!0}function re(ue,Me){const ce=[];let ge=0,Pe=-1;do{if(Pe=ue.indexOf("[",ge),Pe>=ge){if(Pe>ge){const Ie=ue.substr(ge,Pe-ge);ce.push([Ie,null,k(Ie)])}if(ge=Pe+1,Pe=ue.indexOf("]",ge),Pe>=ge){if(Pe>ge){const Ie=Me[ue.substr(ge,Pe-ge)];Ie&&ce.push([null,Ie,!1])}ge=Pe+1}}}while(-1!==Pe);if(ge<ue.length-1){const Ie=ue.substr(ge);ce.push([Ie,null,k(Ie)])}return ce}function ee(ue,Me,ce){let ge="",Pe=null;for(const Ie of Me){const[Re,Ce,Fe]=Ie;if(Re)Fe?Pe=Re:(Pe&&(ge+=Pe,Pe=null),ge+=Re);else{const Ne=ue.attributes[Ce];Ne&&(Pe&&(ge+=Pe,Pe=null),ge+=Ne)}}return G(ge,ce)}function Z(ue,Me,ce){const ge=re(Me,ue);return Pe=>ee(Pe,ge,ce)}function G(ue,Me){switch("string"!=typeof ue&&(ue=String(ue)),Me){case"LowerCase":return ue.toLowerCase();case"Allcaps":return ue.toUpperCase();default:return ue}}function Y(ue,Me,ce,ge,Pe,Ie,Re=!0){const Ce=Me/Pe,Fe=ce/Ie,Ne=Math.ceil(Ce/2),Le=Math.ceil(Fe/2);for(let Oe=0;Oe<Ie;Oe++)for(let Ue=0;Ue<Pe;Ue++){const ke=4*(Ue+(Re?Ie-Oe-1:Oe)*Pe);let Ye=0,xe=0,We=0,Qe=0,lt=0,ve=0,Te=0;const Be=(Oe+.5)*Fe;for(let Ge=Math.floor(Oe*Fe);Ge<(Oe+1)*Fe;Ge++){const $e=Math.abs(Be-(Ge+.5))/Le,Xe=(Ue+.5)*Ce,at=$e*$e;for(let we=Math.floor(Ue*Ce);we<(Ue+1)*Ce;we++){let tt=Math.abs(Xe-(we+.5))/Ne;const pt=Math.sqrt(at+tt*tt);pt>=-1&&pt<=1&&(Ye=2*pt*pt*pt-3*pt*pt+1,Ye>0&&(tt=4*(we+Ge*Me),Te+=Ye*ue[tt+3],We+=Ye,ue[tt+3]<255&&(Ye=Ye*ue[tt+3]/250),Qe+=Ye*ue[tt],lt+=Ye*ue[tt+1],ve+=Ye*ue[tt+2],xe+=Ye))}}ge[ke]=Qe/xe,ge[ke+1]=lt/xe,ge[ke+2]=ve/xe,ge[ke+3]=Te/We}}function ne(ue){return ue?{r:ue[0],g:ue[1],b:ue[2],a:ue[3]/255}:{r:0,g:0,b:0,a:0}}function ae(ue){return ue.data?.symbol??null}function se(ue){return"CIMVectorMarker"===ue.type||"CIMPictureMarker"===ue.type||"CIMBarChartMarker"===ue.type||"CIMCharacterMarker"===ue.type||"CIMPieChartMarker"===ue.type||"CIMStackedBarChartMarker"===ue.type}function ie(ue){return"CIMGradientStroke"===ue.type||"CIMPictureStroke"===ue.type||"CIMSolidStroke"===ue.type}function te(ue){return null!=ue&&("CIMGradientFill"===ue.type||"CIMHatchFill"===ue.type||"CIMPictureFill"===ue.type||"CIMSolidFill"===ue.type||"CIMWaterFill"===ue.type)}function Q(ue){return null!=ue&&("CIMMarkerPlacementAlongLineRandomSize"===ue.type||"CIMMarkerPlacementAlongLineSameSize"===ue.type||"CIMMarkerPlacementAlongLineVariableSize"===ue.type||"CIMMarkerPlacementAtExtremities"===ue.type||"CIMMarkerPlacementAtMeasuredUnits"===ue.type||"CIMMarkerPlacementAtRatioPositions"===ue.type||"CIMMarkerPlacementOnLine"===ue.type||"CIMMarkerPlacementOnVertices"===ue.type)}const V=(ue,Me=0)=>null==ue||isNaN(ue)?Me:ue,U=ue=>ue.tintColor?ne(ue.tintColor):{r:255,g:255,b:255,a:1},$=ue=>{if(!ue)return!1;for(const Me of ue)switch(Me.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function z(){return Promise.all([T.e(4918),T.e(8592),T.e(2825)]).then(T.bind(T,32825))}function J(ue){if(!ue)return"normal";switch(ue.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function q(ue){if(!ue)return"normal";switch(ue.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function oe(ue){let Me="",ce="";if(ue){const ge=ue.toLowerCase();ge.includes("italic")?Me="italic":ge.includes("oblique")&&(Me="oblique"),ge.includes("bold")?ce="bold":ge.includes("light")&&(ce="lighter")}return{style:Me,weight:ce}}function pe(ue){return ue.underline?"underline":ue.strikethrough?"line-through":"none"}function de(ue){if(!ue)return null;switch(ue.type){case"CIMPolygonSymbol":if(ue.symbolLayers)for(const Me of ue.symbolLayers){const ce=de(Me);if(null!=ce)return ce}break;case"CIMTextSymbol":return de(ue.symbol);case"CIMSolidFill":return ue.color}}function be(ue){if(ue)switch(ue.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const Me=ue.symbolLayers;if(Me)for(const ce of Me){const ge=be(ce);if(null!=ge)return ge}break}case"CIMTextSymbol":return be(ue.symbol);case"CIMSolidStroke":case"CIMSolidFill":return ue.color}}function me(ue){if(ue)switch(ue.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(ue.symbolLayers)for(const Me of ue.symbolLayers){const ce=me(Me);if(void 0!==ce)return ce}break;case"CIMTextSymbol":return me(ue.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return ue.width}}function _e(ue){switch(ue){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function le(ue){switch(ue){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function fe(ue){return(ue?Object.keys(ue):[]).map(Me=>({name:Me,alias:Me,type:"string"==typeof ue[Me]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const Ee=ue=>ue.includes("data:image/svg+xml");function ye(ue){if(!ue)return null;switch(ue.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}},31184:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var w=T(17626),O=T(91558),W=T(86810),B=T(58817),k=T(23841),re=T(77712),Z=(T(90912),T(76898)),G=T(60958);let Y=class extends W.wq{constructor(ae){super(ae),this.color=new O.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,k.Wz)(1)}clone(){}cloneProperties(){return{color:(0,B.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,w._)([(0,re.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Y.prototype,"type",void 0),(0,w._)([(0,re.Cb)(G.a)],Y.prototype,"color",void 0),(0,w._)([(0,re.Cb)({...G.y,json:{write:{overridePolicy:ae=>({enabled:!!ae})}}})],Y.prototype,"extensionLength",void 0),(0,w._)([(0,re.Cb)(G.y)],Y.prototype,"size",void 0),Y=(0,w._)([(0,Z.j)("esri.symbols.edges.Edges3D")],Y);const ne=Y},2252:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ae});var Y,w=T(17626),ee=(T(63290),T(90912),T(85931),T(26584),T(8314),T(55342)),Z=T(76898),G=T(31184);let ne=Y=class extends G.Z{constructor(se){super(se),this.type="solid"}clone(){return new Y(this.cloneProperties())}};(0,w._)([(0,ee.J)({solid:"solid"},{readOnly:!0})],ne.prototype,"type",void 0),ne=Y=(0,w._)([(0,Z.j)("esri.symbols.support.SolidEdges3D")],ne);const ae=ne},61261:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var Y,w=T(31184),O=T(17626),Z=(T(63290),T(90912),T(85931),T(26584),T(8314),T(55342)),G=T(76898);let ne=Y=class extends w.Z{constructor(te){super(te),this.type="sketch"}clone(){return new Y(this.cloneProperties())}};(0,O._)([(0,Z.J)({sketch:"sketch"},{readOnly:!0})],ne.prototype,"type",void 0),ne=Y=(0,O._)([(0,G.j)("esri.symbols.edges.SketchEdges3D")],ne);const ae=ne;var se=T(2252);const ie={types:{key:"type",base:w.Z,typeMap:{solid:se.Z,sketch:ae}},json:{write:!0}}},38861:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(G){super(G)}clone(){}};(0,w._)([(0,W.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ee.prototype,"type",void 0),ee=(0,w._)([(0,re.j)("esri.symbols.patterns.LinePattern3D")],ee);const Z=ee},63743:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var Y,w=T(17626),O=T(2076),W=T(77712),re=(T(90912),T(85931),T(55342)),ee=T(76898),Z=T(38861);const ne=(0,O.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let ae=Y=class extends Z.Z{constructor(ie){super(ie),this.type="style",this.style="solid"}clone(){return new Y({style:this.style})}};(0,w._)([(0,W.Cb)({type:["style"]})],ae.prototype,"type",void 0),(0,w._)([(0,re.J)(ne),(0,W.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],ae.prototype,"style",void 0),ae=Y=(0,w._)([(0,ee.j)("esri.symbols.patterns.LineStylePattern3D")],ae);const se=ae},40249:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.wq{constructor(G){super(G)}clone(){}};(0,w._)([(0,W.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ee.prototype,"type",void 0),ee=(0,w._)([(0,re.j)("esri.symbols.patterns.Pattern3D")],ee);const Z=ee},153:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(77712),k=(T(90912),T(85931),T(76898)),re=T(40249);let G=Z=class extends re.Z{constructor(ne){super(ne),this.type="style",this.style="solid"}clone(){return new Z({style:this.style})}};(0,w._)([(0,O.Cb)({type:["style"]})],G.prototype,"type",void 0),(0,w._)([(0,O.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],G.prototype,"style",void 0),G=Z=(0,w._)([(0,k.j)("esri.symbols.patterns.StylePattern3D")],G);const Y=G},99255:(j,F,T)=>{"use strict";T.d(F,{D:()=>re,q:()=>k});var w=T(38861),O=T(63743),W=T(40249),B=T(153);const k={types:{key:"type",base:W.Z,typeMap:{style:B.Z}},json:{write:!0}},re={types:{key:"type",base:w.Z,typeMap:{style:O.Z}},json:{write:!0}}},82706:(j,F,T)=>{"use strict";T.d(F,{Z:()=>J});var se,w=T(17626),O=T(2076),W=T(86810),B=T(62208),k=T(77712),Z=(T(90912),T(85931),T(68653)),G=T(76898),Y=T(99433),ne=T(15861),ae=T(36630);let ie=se=class extends W.wq{constructor(q){super(q)}collectRequiredFields(q,oe){var pe=this;return(0,ne.Z)(function*(){return(0,ae.io)(q,oe,pe.expression)})()}clone(){return new se({expression:this.expression,title:this.title})}equals(q){return this.expression===q.expression&&this.title===q.title}};(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ie.prototype,"expression",void 0),(0,w._)([(0,k.Cb)({type:String,json:{write:!0}})],ie.prototype,"title",void 0),ie=se=(0,w._)([(0,G.j)("esri.layers.support.FeatureExpressionInfo")],ie);const te=ie;var V,Q=T(29505);const U=(0,O.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),$=new O.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let z=V=class extends W.wq{constructor(q){super(q),this.offset=null}readFeatureExpressionInfo(q,oe){return q??(oe.featureExpression&&0===oe.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(q,oe,pe,de){oe[pe]=q.write({},de),"0"===q.expression&&(oe.featureExpression={value:0})}get mode(){const{offset:q,featureExpressionInfo:oe}=this;return this._isOverridden("mode")?this._get("mode"):(0,B.pC)(q)||oe?"relative-to-ground":"on-the-ground"}set mode(q){this._override("mode",q)}set unit(q){this._set("unit",q)}write(q,oe){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(q,oe):null}clone(){return new V({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(q){return this.mode===q.mode&&this.offset===q.offset&&this.unit===q.unit&&(0,B._W)(this.featureExpressionInfo,q.featureExpressionInfo)}};(0,w._)([(0,k.Cb)({type:te,json:{write:!0}})],z.prototype,"featureExpressionInfo",void 0),(0,w._)([(0,Z.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],z.prototype,"readFeatureExpressionInfo",null),(0,w._)([(0,Y.c)("featureExpressionInfo",{featureExpressionInfo:{type:te},"featureExpression.value":{type:[0]}})],z.prototype,"writeFeatureExpressionInfo",null),(0,w._)([(0,k.Cb)({type:U.apiValues,nonNullable:!0,json:{type:U.jsonValues,read:U.read,write:{writer:U.write,isRequired:!0}}})],z.prototype,"mode",null),(0,w._)([(0,k.Cb)({type:Number,json:{write:!0}})],z.prototype,"offset",void 0),(0,w._)([(0,k.Cb)({type:Q.f9,json:{type:String,read:$.read,write:$.write}})],z.prototype,"unit",null),z=V=(0,w._)([(0,G.j)("esri.layers.support.ElevationInfo")],z);const J=z},33215:(j,F,T)=>{"use strict";T.d(F,{S:()=>Q,b:()=>te});var se,w=T(17626),O=T(2076),W=T(86810),B=T(21726),k=T(77712),Z=(T(90912),T(85931),T(55342)),G=T(68653),Y=T(76898),ne=T(99433),ae=T(29840);const ie=(0,O.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let te=se=class extends W.wq{constructor(V){super(V)}readHref(V,U,$){return V?(0,ae.f)(V,$):U.dataURI}writeHref(V,U,$,z){V&&((0,B.HK)(V)?U.dataURI=V:(U.href=(0,ae.t)(V,z),(0,B.YP)(U.href)&&(U.href=(0,B.Fv)(U.href))))}clone(){return new se({href:this.href,primitive:this.primitive})}};(0,w._)([(0,k.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],te.prototype,"href",void 0),(0,w._)([(0,G.r)("href")],te.prototype,"readHref",null),(0,w._)([(0,ne.c)("href",{href:{type:String},dataURI:{type:String}})],te.prototype,"writeHref",null),(0,w._)([(0,Z.J)(ie)],te.prototype,"primitive",void 0),te=se=(0,w._)([(0,Y.j)("esri.symbols.support.IconSymbol3DLayerResource")],te);const Q="circle"},48521:(j,F,T)=>{"use strict";T.d(F,{S:()=>se,k:()=>ae});var Y,w=T(17626),O=T(2076),W=T(86810),B=T(77712),ee=(T(90912),T(85931),T(55342)),Z=T(76898),G=T(29840);const ne=(0,O.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let ae=Y=class extends W.wq{clone(){return new Y({href:this.href,primitive:this.primitive})}};(0,w._)([(0,B.Cb)({type:String,json:{read:G.r,write:G.w}})],ae.prototype,"href",void 0),(0,w._)([(0,ee.J)(ne)],ae.prototype,"primitive",void 0),ae=Y=(0,w._)([(0,Z.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],ae);const se="sphere"},77345:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(84687);let G=Z=class extends O.Z{constructor(ne){super(ne),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Z({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,w._)([(0,W.Cb)({type:String})],G.prototype,"name",void 0),(0,w._)([(0,W.Cb)({type:String})],G.prototype,"styleUrl",void 0),(0,w._)([(0,W.Cb)({type:String})],G.prototype,"styleName",void 0),(0,w._)([(0,W.Cb)({type:ee.Z})],G.prototype,"portal",void 0),G=Z=(0,w._)([(0,re.j)("esri.symbols.support.StyleOrigin")],G);const Y=G},37519:(j,F,T)=>{"use strict";T.d(F,{e:()=>Z});var ee,w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new ee({x:this.x,y:this.y})}};(0,w._)([(0,W.Cb)({type:Number})],Z.prototype,"x",void 0),(0,w._)([(0,W.Cb)({type:Number})],Z.prototype,"y",void 0),Z=ee=(0,w._)([(0,re.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],Z)},64830:(j,F,T)=>{"use strict";T.d(F,{b:()=>Y});var G,w=T(17626),O=T(86810),W=T(62208),B=T(77712),ee=(T(90912),T(85931),T(76898)),Z=T(60958);let Y=G=class extends O.wq{constructor(ne){super(ne),this.color=null}clone(){const ne={color:(0,W.pC)(this.color)?this.color.clone():null};return new G(ne)}};(0,w._)([(0,B.Cb)(Z.a)],Y.prototype,"color",void 0),Y=G=(0,w._)([(0,ee.j)("esri.symbols.support.Symbol3DMaterial")],Y)},97595:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var Z,w=T(17626),O=T(86810),W=T(77712),re=(T(90912),T(85931),T(76898)),ee=T(60958);let G=Z=class extends O.wq{constructor(ne){super(ne),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Z({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,w._)([(0,W.Cb)(ee.y)],G.prototype,"screenLength",void 0),(0,w._)([(0,W.Cb)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],G.prototype,"minWorldLength",void 0),(0,w._)([(0,W.Cb)({type:Number,json:{write:!0}})],G.prototype,"maxWorldLength",void 0),G=Z=(0,w._)([(0,re.j)("esri.symbols.support.Symbol3DVerticalOffset")],G);const Y=G},96296:(j,F,T)=>{"use strict";T.d(F,{p:()=>Z});var ee,w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let Z=ee=class extends O.Z{constructor(){super(...arguments),this.url=""}clone(){return new ee({url:this.url})}};(0,w._)([(0,W.Cb)({type:String})],Z.prototype,"url",void 0),Z=ee=(0,w._)([(0,re.j)("esri.symbols.support.Thumbnail")],Z)},56445:(j,F,T)=>{"use strict";T.d(F,{FW:()=>ee,ZB:()=>se,iW:()=>Y});var w=T(91558),O=T(80991);function re(U,$,z,J){if(U)if("CIMTextSymbol"!==U.type){if(z&&U.effects)for(const q of U.effects)G(q,$);if(U.symbolLayers)for(const q of U.symbolLayers)switch(q.type){case"CIMPictureMarker":case"CIMVectorMarker":ee(q,$,J);break;case"CIMPictureStroke":case"CIMSolidStroke":!J?.preserveOutlineWidth&&q.width&&(q.width*=$);break;case"CIMPictureFill":q.height&&(q.height*=$),q.offsetX&&(q.offsetX*=$),q.offsetY&&(q.offsetY*=$);break;case"CIMHatchFill":re(q.lineSymbol,$,!0,{...J,preserveOutlineWidth:!1}),q.offsetX&&(q.offsetX*=$),q.offsetY&&(q.offsetY*=$),q.separation&&(q.separation*=$)}}else null!=U.height&&(U.height*=$)}function ee(U,$,z){if(U&&(U.markerPlacement&&function Z(U,$){switch((0,O.gJ)(U)&&U.offset&&(U.offset*=$),U.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(U.customEndingOffset&&(U.customEndingOffset*=$),U.offsetAlongLine&&(U.offsetAlongLine*=$),U.placementTemplate&&U.placementTemplate.length){const z=U.placementTemplate.map(J=>J*$);U.placementTemplate=z}break;case"CIMMarkerPlacementAlongLineVariableSize":if(U.maxRandomOffset&&(U.maxRandomOffset*=$),U.placementTemplate&&U.placementTemplate.length){const z=U.placementTemplate.map(J=>J*$);U.placementTemplate=z}break;case"CIMMarkerPlacementOnLine":U.startPointOffset&&(U.startPointOffset*=$);break;case"CIMMarkerPlacementAtExtremities":U.offsetAlongLine&&(U.offsetAlongLine*=$);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":U.beginPosition&&(U.beginPosition*=$),U.endPosition&&(U.endPosition*=$);break;case"CIMMarkerPlacementPolygonCenter":U.offsetX&&(U.offsetX*=$),U.offsetY&&(U.offsetY*=$);break;case"CIMMarkerPlacementInsidePolygon":U.offsetX&&(U.offsetX*=$),U.offsetY&&(U.offsetY*=$),U.stepX&&(U.stepX*=$),U.stepY&&(U.stepY*=$)}}(U.markerPlacement,$),U.offsetX&&(U.offsetX*=$),U.offsetY&&(U.offsetY*=$),U.anchorPoint&&"Absolute"===U.anchorPointUnits&&(U.anchorPoint={x:U.anchorPoint.x*$,y:U.anchorPoint.y*$}),U.size=null!=U.size?U.size*$:0,"CIMVectorMarker"===U.type&&U.markerGraphics))for(const J of U.markerGraphics)U.scaleSymbolsProportionally||re(J.symbol,$,!0,z)}function G(U,$){switch(U.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":U.width&&(U.width*=$);break;case"CIMGeometricEffectBuffer":U.size&&(U.size*=$);break;case"CIMGeometricEffectCut":U.beginCut&&(U.beginCut*=$),U.endCut&&(U.endCut*=$),U.middleCut&&(U.middleCut*=$);break;case"CIMGeometricEffectDashes":if(U.customEndingOffset&&(U.customEndingOffset*=$),U.offsetAlongLine&&(U.offsetAlongLine*=$),U.dashTemplate&&U.dashTemplate.length){const z=U.dashTemplate.map(J=>J*$);U.dashTemplate=z}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":U.length&&(U.length*=$);break;case"CIMGeometricEffectMove":U.offsetX&&(U.offsetX*=$),U.offsetY&&(U.offsetY*=$);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":U.offset&&(U.offset*=$);break;case"CIMGeometricEffectRegularPolygon":U.radius&&(U.radius*=$);break;case"CIMGeometricEffectTaperedPolygon":U.fromWidth&&(U.fromWidth*=$),U.length&&(U.length*=$),U.toWidth&&(U.toWidth*=$);break;case"CIMGeometricEffectWave":U.amplitude&&(U.amplitude*=$),U.period&&(U.period*=$)}}function Y(U){const $=[];return ne((0,O.be)(U),$),$.length?new w.Z((0,O.NO)($[0])):null}function ne(U,$){if(!U)return;let z;z="CIMTextSymbol"===U.type?U.symbol:U;const J="CIMPolygonSymbol"===U.type;if(z?.symbolLayers)for(const q of z.symbolLayers)if(!(q.colorLocked||J&&((0,O.yL)(q)||(0,O.zL)(q)&&q.markerPlacement&&(0,O.gJ)(q.markerPlacement))))switch(q.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":q.tintColor&&ae($,q.tintColor);break;case"CIMVectorMarker":q.markerGraphics?.forEach(oe=>{ne(oe.symbol,$)});break;case"CIMSolidStroke":case"CIMSolidFill":ae($,q.color);break;case"CIMHatchFill":ne(q.lineSymbol,$)}}function ae(U,$){for(const z of U)if(z.join(".")===$.join("."))return;U.push($)}function se(U,$,z){$ instanceof w.Z||($=new w.Z($));const J=(0,O.be)(U);J&&ie(J,$,z)}function ie(U,$,z){if(!U)return;let J;J="CIMTextSymbol"===U.type?U.symbol:U;const q="CIMPolygonSymbol"===J?.type;if(J?.symbolLayers)for(const oe of J.symbolLayers){if(oe.colorLocked)continue;if(q)if(z){const{layersToColor:de}=z;if(((0,O.yL)(oe)||(0,O.zL)(oe)&&oe.markerPlacement&&(0,O.gJ)(oe.markerPlacement))&&"fill"===de||(0,O.k5)(oe)&&"outline"===de)continue}else if((0,O.yL)(oe)||(0,O.zL)(oe)&&oe.markerPlacement&&(0,O.gJ)(oe.markerPlacement))continue;const pe=$.toArray();switch(oe.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":oe.tintColor=pe;break;case"CIMVectorMarker":oe.markerGraphics?.forEach(de=>{ie(de.symbol,$,z)});break;case"CIMSolidStroke":case"CIMSolidFill":oe.color=pe;break;case"CIMHatchFill":ie(oe.lineSymbol,$,z)}}}},12948:(j,F,T)=>{"use strict";T.d(F,{ix:()=>O,l9:()=>B,rx:()=>k});var w=T(91558);const O=new w.Z("white"),B=(new w.Z("black"),new w.Z([255,255,255,0]));function k(re){return 0===re.r&&0===re.g&&0===re.b}},8080:(j,F,T)=>{"use strict";T.d(F,{CJ:()=>G,G:()=>se,Rz:()=>ne,js:()=>ae,kD:()=>te,mW:()=>ie,xA:()=>Z,z3:()=>Y}),T(8314);var O=T(62208),W=T(88493),B=T(52068),k=T(57213),re=T(35540),ee=T(24837);const Z=k.Z.fromJSON(ee.I4),G=B.Z.fromJSON(ee.ET),Y=W.Z.fromJSON(ee.lF),ne=re.Z.fromJSON(ee.qP);function ae(Q){if((0,O.Wi)(Q))return null;switch(Q.type){case"mesh":return null;case"point":case"multipoint":return Z;case"polyline":return G;case"polygon":case"extent":return Y}return null}const se=k.Z.fromJSON(ee.eG),ie=B.Z.fromJSON(ee.wW),te=W.Z.fromJSON(ee.lj)},24837:(j,F,T)=>{"use strict";T.d(F,{ET:()=>B,I4:()=>W,SQ:()=>w,X1:()=>O,eG:()=>ee,lF:()=>k,lj:()=>G,qP:()=>re,wW:()=>Z});const w=[252,146,31,255],O=[153,153,153,255],W={type:"esriSMS",style:"esriSMSCircle",size:6,color:w,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},B={type:"esriSLS",style:"esriSLSSolid",width:.75,color:w},k={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},re={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},ee={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},Z={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},G={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(j,F,T)=>{"use strict";T.d(F,{Ne:()=>U,Od:()=>te,Sp:()=>V,_M:()=>ie,mx:()=>Q});var w=T(54346),O=T(91558),W=T(84792),B=T(78498),k=T(23841),re=T(56445);const ee="picture-fill",Z="simple-fill",Y="simple-marker",se=new B.Z(1e3);function ie($){const z=$.style;let J=null;if($)switch($.type){case Y:"cross"!==z&&"x"!==z&&(J=$.color);break;case Z:"solid"===z?J=$.color:"none"!==z&&(J={type:"pattern",x:0,y:0,src:(0,w.V)(`esri/symbols/patterns/${z}.png`),width:5,height:5});break;case ee:J={type:"pattern",src:$.url,width:(0,k.F2)($.width)*$.xscale,height:(0,k.F2)($.height)*$.yscale,x:(0,k.F2)($.xoffset),y:(0,k.F2)($.yoffset)};break;case"text":J=$.color;break;case"cim":J=(0,re.iW)($)}return J}function te($,z){const J=$+"-"+z;return void 0!==se.get(J)?Promise.resolve(se.get(J)):(0,W.default)($,{responseType:"image"}).then(q=>{const oe=q.data,pe=oe.naturalWidth,de=oe.naturalHeight,be=document.createElement("canvas");be.width=pe,be.height=de;const me=be.getContext("2d");me.fillStyle=z,me.fillRect(0,0,pe,de),me.globalCompositeOperation="destination-in",me.drawImage(oe,0,0);const _e=be.toDataURL();return se.put(J,_e),_e})}function Q($){if(!$)return null;let z=null;switch($.type){case Z:case ee:case Y:z=Q($.outline);break;case"simple-line":{const J=(0,k.F2)($.width);null!=$.style&&"none"!==$.style&&0!==J&&(z={color:$.color,style:V($.style),width:J,cap:$.cap,join:"miter"===$.join?(0,k.F2)($.miterLimit):$.join});break}default:z=null}return z}const V=(()=>{const $={};return z=>{if($[z])return $[z];const J=z.replace(/-/g,"");return $[z]=J,J}})(),U=new O.Z([128,128,128])},9461:(j,F,T)=>{"use strict";T.d(F,{cW:()=>Z,im:()=>ae,vX:()=>G});var w=T(20383),O=T(26584),W=T(62208),B=T(72469),k=T(39368),re=T(70137),ee=T(12874);function Z(se,ie,te,Q){const V=ne(se,{},{context:Q,isLabelSymbol:!1});(0,W.pC)(V)&&(ie[te]=V)}function G(se,ie,te,Q){const V=ne(se,{},{context:Q,isLabelSymbol:!0});(0,W.pC)(V)&&(ie[te]=V)}function Y(se){return se instanceof k.Z||se instanceof ee.Z}function ne(se,ie,te){if((0,W.Wi)(se))return null;const{context:Q,isLabelSymbol:V}=te,U=Q?.origin,$=Q?.messages;if("web-scene"===U&&!Y(se)){const z=(0,re.q)(se,{retainCIM:!0,hasLabelingContext:V});return(0,W.pC)(z.symbol)?z.symbol.write(ie,Q):($?.push(new O.Z("symbol:unsupported",`Symbols of type '${se.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:se,context:Q,error:z.error})),null)}return("web-map"===U||"portal-item"===U&&!(0,B.A2)(Q?.layer))&&Y(se)?($?.push(new O.Z("symbol:unsupported",`Symbols of type '${se.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:se,context:Q})),null):se.write(ie,Q)}function ae(se,ie){return(0,w.S9)(se,null,ie)}},67866:(j,F,T)=>{"use strict";T.d(F,{J:()=>w,k:()=>O});const w=["begin","end","begin-end"],O=["arrow","circle","square","diamond","cross","x"]},60958:(j,F,T)=>{"use strict";T.d(F,{a:()=>ee,y:()=>Z});var w=T(91558),O=T(23841),W=T(90912),B=T(92236);const ee={type:w.Z,json:{type:[W.z8],default:null,read:{source:["color","transparency"],reader:function k(G,Y){const ne=null!=Y.transparency?(0,B.b)(Y.transparency):1,ae=Y.color;return ae&&Array.isArray(ae)?new w.Z([ae[0]||0,ae[1]||0,ae[2]||0,ne]):null}},write:{target:{color:{type:[W.z8]},transparency:{type:W.z8}},writer:function re(G,Y){Y.color=G.toJSON().slice(0,3);const ne=(0,B.a)(G.a);0!==ne&&(Y.transparency=ne)}}}},Z={type:Number,cast:O.t_,json:{write:!0}}},66960:(j,F,T)=>{"use strict";T.r(F),T.d(F,{getPatternDescriptor:()=>me,getSizeFromOptions:()=>ce,getSymbolLayerFill:()=>be,previewSymbol3D:()=>Fe});var w=T(15861),O=T(54346),W=T(78260),k=(T(8314),T(26584)),re=T(63290),ee=T(62208),Z=T(10699),G=T(23841),Y=T(74741),ne=T(33215),ae=T(48521),se=T(71131),ie=T(34057),te=T(86606),Q=T(50998);const V=se.b_.size,U=se.b_.maxSize,$=se.b_.maxOutlineSize,z=se.b_.lineWidth,J=se.b_.tallSymbolWidth;function q(Ne){const Le=Ne.outline,Oe=(0,ee.pC)(Ne.material)?Ne.material.color:null,Ue=(0,ee.pC)(Oe)?Oe.toHex():null;if((0,ee.Wi)(Le)||"pattern"in Le&&(0,ee.pC)(Le.pattern)&&"style"===Le.pattern.type&&"none"===Le.pattern.style)return"fill"===Ne.type&&"#ffffff"===Ue?{color:"#bdc3c7",width:.75}:null;const ke=(0,G.F2)(Le.size)||0;return{color:"rgba("+((0,ee.pC)(Le.color)?Le.color.toRgba():"255,255,255,1")+")",width:Math.min(ke,$),style:"pattern"in Le&&(0,ee.pC)(Le.pattern)&&"style"===Le.pattern.type?(0,Y.Sp)(Le.pattern.style):null,join:"butt",cap:"patternCap"in Le?Le.patternCap:"butt"}}function pe(Ne,Le=1){const Oe=Ne.a,Ue=(0,W._Y)(Ne),ke=Ue.h,Ye=Ue.s/Le,xe=100-(100-Ue.v)/Le,{r:We,g:Qe,b:lt}=(0,W.xr)({h:ke,s:Ye,v:xe});return[We,Qe,lt,Oe]}function de(Ne){return"water"===Ne.type?(0,ee.Wi)(Ne.color)?null:Ne.color:(0,ee.Wi)(Ne.material)||(0,ee.Wi)(Ne.material.color)?null:Ne.material.color}function be(Ne,Le=0){const Oe=de(Ne);if(!Oe){if("fill"===Ne.type)return null;const Ye=(0,se.uH)(Y.Ne.r,Le);return[Ye,Ye,Ye,100]}const Ue=Oe.toRgba();for(let ke=0;ke<3;ke++)Ue[ke]=(0,se.uH)(Ue[ke],Le);return Ue}function me(Ne,Le){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(Ne,Le){const Oe=Ne.style;return"none"===Oe?null:{type:"pattern",x:0,y:0,src:yield(0,Y.Od)((0,O.V)(`esri/symbols/patterns/${Oe}.png`),Le.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function le(Ne){return Ne.outline?q(Ne):{color:"rgba(0, 0, 0, 1)",width:1.5}}function fe(Ne,Le){const Oe=de(Ne);if(!Oe)return null;let Ue="rgba(";return Ue+=(0,se.uH)(Oe.r,Le)+",",Ue+=(0,se.uH)(Oe.g,Le)+",",Ue+=(0,se.uH)(Oe.b,Le)+",",Ue+Oe.a+");"}function Ee(Ne,Le){const Oe=fe(Ne,Le);return Oe?"pattern"in Ne&&(0,ee.pC)(Ne.pattern)&&"style"===Ne.pattern.type&&"none"===Ne.pattern.style?null:{color:Oe,width:Math.min(Ne.size?(0,G.F2)(Ne.size):.75,$),style:"pattern"in Ne&&(0,ee.pC)(Ne.pattern)&&"style"===Ne.pattern.type?(0,Y.Sp)(Ne.pattern.style):null,cap:"cap"in Ne?Ne.cap:null,join:"join"in Ne?"miter"===Ne.join?(0,G.F2)(2):Ne.join:null}:{}}function ye(Ne,Le,Oe){const Ue=null!=Oe?.75*Oe:0;return{type:"linear",x1:Ue?.25*Ue:0,y1:Ue?.5*Ue:0,x2:Ue||4,y2:Ue?.5*Ue:4,colors:[{color:Ne,offset:0},{color:Le,offset:1}]}}function ce(Ne){const Le="number"==typeof Ne?.size?Ne?.size:null;return Le?(0,G.F2)(Le):null}function Ce(){return(Ce=(0,w.Z)(function*(Ne,Le){const Oe="mesh-3d"===Ne.type,Ue=Ne.symbolLayers,ke=ce(Le),Ye=Le&&Le.maxSize?(0,G.F2)(Le.maxSize):null,xe=ke||V,We=[];let Qe=0,lt=0,ve=!1;for(let Te=0;Te<Ue.length;Te++){const Be=Ue.getItemAt(Te),Ge=[];if(Oe&&"fill"!==Be.type)continue;const $e=se.JZ.fill[0];switch(Be.type){case"fill":{const Xe=q(Be),at=Math.min(xe,Ye||U);Qe=Math.max(Qe,at),lt=Math.max(lt,at),ve=!0;let we=be(Be,0);const tt="pattern"in Be?Be.pattern:null,pt=de(Be);!Oe&&(0,ee.pC)(tt)&&"style"===tt.type&&"solid"!==tt.style&&pt&&(we=yield me(tt,pt)),Ge.push({shape:$e,fill:we,stroke:Xe});break}case"line":{const Xe=Ee(Be,0);if((0,ee.Wi)(Xe))break;const at={stroke:Xe,shape:$e};Qe=Math.max(Qe,V),lt=Math.max(lt,V),Ge.push(at);break}case"extrude":{const Xe={join:"round",width:1,...Ee(Be,-.4)},at=be(Be,0),we=be(Be,-.2),tt=Math.min(xe,Ye||U),pt=(0,se.EV)(tt);Xe.width=1,Ge.push({shape:pt[0],fill:we,stroke:Xe}),Ge.push({shape:pt[1],fill:we,stroke:Xe}),Ge.push({shape:pt[2],fill:at,stroke:Xe});const mt=.7*V+.5*tt;Qe=Math.max(Qe,V),lt=Math.max(lt,mt);break}case"water":{const Xe=(0,ee.s3)(de(Be)),at=pe(Xe),we=pe(Xe,2),tt=pe(Xe,3),pt=(0,se.ht)();ve=!0,Ge.push({shape:pt[0],fill:at}),Ge.push({shape:pt[1],fill:we}),Ge.push({shape:pt[2],fill:tt});const Pt=Math.min(xe,Ye||U);Qe=Math.max(Qe,Pt),lt=Math.max(lt,Pt);break}}We.push(Ge)}return(0,ie.wh)(We,[Qe,lt],{node:Le&&Le.node,scale:ve,opacity:Le&&Le.opacity})})).apply(this,arguments)}function Fe(Ne,Le){if(0===Ne.symbolLayers.length)return Promise.reject(new k.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(Ne.type){case"point-3d":return function Pe(Ne,Le){const Oe=ce(Le),Ue=Le?.maxSize?(0,G.F2)(Le.maxSize):null,ke=Le?.disableUpsampling??!1,Ye=Ne.symbolLayers,xe=[];let We=0,Qe=0;const lt=Ye.getItemAt(Ye.length-1);let ve;return lt&&"icon"===lt.type&&(ve=lt.size&&(0,G.F2)(lt.size)),Ye.forEach(Te=>{if("icon"!==Te.type&&"object"!==Te.type)return;const Be="icon"===Te.type?Te.size&&(0,G.F2)(Te.size):0,Ge=Oe||Be?Math.ceil(Math.min(Oe||Be,Ue||U)):V;if(Te&&Te.resource&&Te.resource.href){const $e=function oe(Ne,Le){const Oe=Le&&Le.resource,Ue=Oe&&Oe.href;if(Ne.thumbnail&&Ne.thumbnail.url)return Promise.resolve(Ne.thumbnail.url);if(Ue&&"object"!==Le.type)return Promise.resolve((0,te.nf)(Le));const ke=(0,O.V)("esri/images/Legend/legend3dsymboldefault.png");return Ne.styleOrigin&&(Ne.styleOrigin.styleName||Ne.styleOrigin.styleUrl)?(0,Q.resolveWebStyleSymbol)(Ne.styleOrigin,{portal:Ne.styleOrigin.portal},"webRef").catch(Ye=>Ye).then(Ye=>Ye?.thumbnail?.url||ke):Promise.resolve(ke)}(Ne,Te).then(Xe=>{const at=Te.get("material.color"),we=function ge(Ne){return"icon"===Ne.type?"multiply":"tint"}(Te);return(0,ie.rG)(Xe,Ge,at,we,ke)}).then(Xe=>{const at=Xe.width,we=Xe.height;return We=Math.max(We,at),Qe=Math.max(Qe,we),[{shape:{type:"image",x:0,y:0,width:at,height:we,src:Xe.url},fill:null,stroke:null}]});xe.push($e)}else{let $e=Ge;"icon"===Te.type&&ve&&Oe&&($e=Ge*(Be/ve));const Xe="tall"===Le?.symbolConfig||Le?.symbolConfig?.isTall||"object"===Te.type&&function ue(Ne){const Le=Ne.depth,Oe=Ne.height,Ue=Ne.width;return 0!==Ue&&0!==Le&&0!==Oe&&Ue===Le&&null!=Ue&&null!=Oe&&Ue<Oe}(Te);We=Math.max(We,Xe?J:$e),Qe=Math.max(Qe,$e),xe.push(Promise.resolve(function Me(Ne,Le,Oe){const Ue=[];if(!Ne)return Ue;switch(Ne.type){case"icon":{const xe=Le,We=Le;switch(Ne.resource&&Ne.resource.primitive||ne.S){case"circle":Ue.push({shape:{type:"circle",cx:0,cy:0,r:.5*Le},fill:be(Ne,0),stroke:q(Ne)});break;case"square":Ue.push({shape:{type:"path",path:[{command:"M",values:[0,We]},{command:"L",values:[0,0]},{command:"L",values:[xe,0]},{command:"L",values:[xe,We]},{command:"Z",values:[]}]},fill:be(Ne,0),stroke:q(Ne)});break;case"triangle":Ue.push({shape:{type:"path",path:[{command:"M",values:[0,We]},{command:"L",values:[.5*xe,0]},{command:"L",values:[xe,We]},{command:"Z",values:[]}]},fill:be(Ne,0),stroke:q(Ne)});break;case"cross":Ue.push({shape:{type:"path",path:[{command:"M",values:[.5*xe,0]},{command:"L",values:[.5*xe,We]},{command:"M",values:[0,.5*We]},{command:"L",values:[xe,.5*We]}]},stroke:le(Ne)});break;case"x":Ue.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[xe,We]},{command:"M",values:[xe,0]},{command:"L",values:[0,We]}]},stroke:le(Ne)});break;case"kite":Ue.push({shape:{type:"path",path:[{command:"M",values:[0,.5*We]},{command:"L",values:[.5*xe,0]},{command:"L",values:[xe,.5*We]},{command:"L",values:[.5*xe,We]},{command:"Z",values:[]}]},fill:be(Ne,0),stroke:q(Ne)})}break}case"object":switch(Ne.resource&&Ne.resource.primitive||ae.S){case"cone":{const ke=ye(be(Ne,0),be(Ne,-.6),Oe?J:Le),Ye=(0,se.TE)(Le,Oe);Ue.push({shape:Ye[0],fill:ke}),Ue.push({shape:Ye[1],fill:ke});break}case"inverted-cone":{const ke=be(Ne,0),Ye=ye(ke,be(Ne,-.6),Le),xe=(0,se.DY)(Le);Ue.push({shape:xe[0],fill:Ye}),Ue.push({shape:xe[1],fill:ke});break}case"cube":{const ke=(0,se.Pc)(Le,Oe);Ue.push({shape:ke[0],fill:be(Ne,0)}),Ue.push({shape:ke[1],fill:be(Ne,-.3)}),Ue.push({shape:ke[2],fill:be(Ne,-.5)});break}case"cylinder":{const ke=ye(be(Ne,0),be(Ne,-.6),Oe?J:Le),Ye=(0,se.EB)(Le,Oe);Ue.push({shape:Ye[0],fill:ke}),Ue.push({shape:Ye[1],fill:ke}),Ue.push({shape:Ye[2],fill:be(Ne,0)});break}case"diamond":{const ke=(0,se.XX)(Le);Ue.push({shape:ke[0],fill:be(Ne,-.3)}),Ue.push({shape:ke[1],fill:be(Ne,0)}),Ue.push({shape:ke[2],fill:be(Ne,-.3)}),Ue.push({shape:ke[3],fill:be(Ne,-.7)});break}case"sphere":{const ke=ye(be(Ne,0),be(Ne,-.6));ke.x1=0,ke.y1=0,ke.x2=.25*Le,ke.y2=.25*Le,Ue.push({shape:{type:"circle",cx:0,cy:0,r:.5*Le},fill:ke});break}case"tetrahedron":{const ke=(0,se.tp)(Le);Ue.push({shape:ke[0],fill:be(Ne,-.3)}),Ue.push({shape:ke[1],fill:be(Ne,0)}),Ue.push({shape:ke[2],fill:be(Ne,-.6)});break}}}return Ue}(Te,$e,Xe)))}}),(0,Z.as)(xe).then(Te=>{const Be=[];return Te.forEach(Ge=>{Ge.value?Be.push(Ge.value):Ge.error&&re.Z.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",Ge.error)}),(0,ie.wh)(Be,[We,Qe],{node:Le&&Le.node,scale:!1,opacity:Le&&Le.opacity})})}(Ne,Le);case"line-3d":return function Ie(Ne,Le){const Oe=Ne.symbolLayers,Ue=[],ke=(0,te.YW)(Ne),Ye=ce(Le),xe=(Le&&Le.maxSize?(0,G.F2)(Le.maxSize):null)||$;let We,Qe=0,lt=0;return Oe.forEach((ve,Te)=>{if(!ve||"line"!==ve.type&&"path"!==ve.type)return;const Be=[];switch(ve.type){case"line":{const Ge=Ee(ve,0);if((0,ee.Wi)(Ge))break;const $e=Ge&&Ge.width||0;0===Te&&(We=$e);const Xe=Math.min(Ye||$e,xe),at=0===Te?Xe:Ye?Xe*($e/We):Xe,we=at>z/2?2*at:z;lt=Math.max(lt,at),Qe=Math.max(Qe,we),Ge.width=at,Be.push({shape:{type:"path",path:[{command:"M",values:[0,.5*lt]},{command:"L",values:[Qe,.5*lt]}]},stroke:Ge});break}case"path":{const Ge=Math.min(Ye||V,xe),$e=be(ve,0),Xe=be(ve,-.2),at=fe(ve,-.4),we=at?{color:at,width:1}:{};if("quad"===ve.profile){const tt=ve.width,pt=ve.height,Pt=(0,se.eb)(tt&&pt?tt/pt:1,0===pt,0===tt),mt={...we,join:"bevel"};Be.push({shape:Pt[0],fill:Xe,stroke:mt}),Be.push({shape:Pt[1],fill:Xe,stroke:mt}),Be.push({shape:Pt[2],fill:$e,stroke:mt})}else Be.push({shape:se.JZ.pathSymbol3DLayer[0],fill:Xe,stroke:we}),Be.push({shape:se.JZ.pathSymbol3DLayer[1],fill:$e,stroke:we});lt=Math.max(lt,Ge),Qe=lt}}Ue.push(Be)}),Promise.resolve((0,ie.wh)(Ue,[Qe,lt],{node:Le&&Le.node,scale:ke,opacity:Le&&Le.opacity}))}(Ne,Le);case"polygon-3d":case"mesh-3d":return function Re(Ne,Le){return Ce.apply(this,arguments)}(Ne,Le)}return Promise.reject(new k.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},71131:(j,F,T)=>{"use strict";T.d(F,{DY:()=>Y,EB:()=>Z,EV:()=>k,JZ:()=>W,Pc:()=>ee,TE:()=>G,XX:()=>ne,b_:()=>O,dc:()=>ie,eb:()=>B,ht:()=>re,tp:()=>ae,uH:()=>se});var O,te,w=T(91558);(te=O||(O={}))[te.size=22]="size",te[te.lineWidth=50]="lineWidth",te[te.maxSize=120]="maxSize",te[te.maxOutlineSize=80]="maxOutlineSize",te[te.tallSymbolWidth=20]="tallSymbolWidth";const W={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function B(te,Q,V){const U=O.size;let $=U,z=U;te<1?$*=.75:te>1&&(z*=1.25);let oe=U,pe=U;return Q&&V&&($=z=oe=pe=0),[{type:"path",path:[{command:"M",values:[oe,0]},{command:"L",values:[V?oe:.875*oe,0]},{command:"L",values:[V?$-.5*oe:0,z-.5*pe]},{command:"L",values:[$-.5*oe,z-.5*pe]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[oe,0]},{command:"L",values:[oe,Q?0:.125*pe]},{command:"L",values:[$-.5*oe,Q?z-.5*pe:pe]},{command:"L",values:[$-.5*oe,z-.5*pe]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[$-.5*oe,z-.5*pe]},{command:"L",values:[V?$-.5*oe:0,z-.5*pe]},{command:"L",values:[V?$-.5*oe:0,Q?z-.5*pe:pe]},{command:"L",values:[$-.5*oe,Q?z-.5*pe:pe]},{command:"Z",values:[]}]}]}function k(te){const Q=O.size,V=.5*te;return[{type:"path",path:[{command:"M",values:[0,.7*Q*.5]},{command:"L",values:[.3*Q,.7*Q]},{command:"L",values:[.3*Q,.7*Q+V]},{command:"L",values:[0,.7*Q+V-.7*Q*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*Q,.7*Q]},{command:"L",values:[.3*Q,.7*Q+V]},{command:"L",values:[Q,V]},{command:"L",values:[Q,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*Q,0]},{command:"L",values:[Q,0]},{command:"L",values:[.3*Q,.7*Q]},{command:"L",values:[0,.7*Q*.5]},{command:"Z",values:[]}]}]}function re(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function ee(te,Q){let V=Q?O.tallSymbolWidth:te;const $=Q?4:6;V-=V<=O.size?.5*$:$;const q=Q?.35*V:.5*V;return[{type:"path",path:[{command:"M",values:[.5*V,0]},{command:"L",values:[V,.5*q]},{command:"L",values:[.5*V,q]},{command:"L",values:[0,.5*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*q]},{command:"L",values:[.5*V,q]},{command:"L",values:[.5*V,te]},{command:"L",values:[0,te-.5*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*V,q]},{command:"L",values:[.5*V,te]},{command:"L",values:[V,te-.5*q]},{command:"L",values:[V,.5*q]},{command:"Z",values:[]}]}]}function Z(te,Q){let V=Q?O.tallSymbolWidth:te;const $=Q?4:6;V-=V<=O.size?.5*$:$;const z=.5*V,J=.15*V,oe=te-J;return[{type:"ellipse",cx:.5*V,cy:oe,rx:z,ry:J},{type:"path",path:[{command:"M",values:[0,J]},{command:"L",values:[0,oe]},{command:"L",values:[V,oe]},{command:"L",values:[V,J]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*V,cy:J,rx:z,ry:J}]}function G(te,Q){let V=Q?O.tallSymbolWidth:te;const $=Q?4:6;V-=V<=O.size?.5*$:$;const z=.15*V,J=te-z;return[{type:"ellipse",cx:.5*V,cy:J,rx:.5*V,ry:z},{type:"path",path:[{command:"M",values:[.5*V,0]},{command:"L",values:[V,J]},{command:"L",values:[0,J]},{command:"Z",values:[]}]}]}function Y(te){let Q=te;Q-=Q<O.size?3:6;const $=.15*Q;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[Q,0]},{command:"L",values:[.5*Q,te-$]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*Q,cy:0,rx:.5*Q,ry:$}]}function ne(te){let Q=te;const V=te;Q-=Q<O.size?2:4;const J=Q,q=V,oe=Math.floor(te/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*J,0]},{command:"L",values:[J,.5*q-oe]},{command:"L",values:[.45*J-oe,.5*q+oe]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*J,0]},{command:"L",values:[.45*J-oe,.5*q+oe]},{command:"L",values:[0,.5*q-oe]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*q-oe]},{command:"L",values:[.45*J-oe,.5*q+oe]},{command:"L",values:[.45*J,V]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*J,V]},{command:"L",values:[J,.5*q-oe]},{command:"L",values:[.45*J-oe,.5*q+oe]},{command:"Z",values:[]}]}]}function ae(te){let U=te;return U-=U<O.size?1:2,[{type:"path",path:[{command:"M",values:[.45*te,0]},{command:"L",values:[te,U]},{command:"L",values:[.45*te,.6*U]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*te,0]},{command:"L",values:[.45*te,.6*U]},{command:"L",values:[0,U]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,U]},{command:"L",values:[.45*te,.6*U]},{command:"L",values:[te,U]},{command:"Z",values:[]}]}]}function se(te,Q){return Math.round(Math.min(Math.max(te+255*Q*.75,0),255))}function ie(te,Q){if(null==te)return new w.Z;if("type"in te&&("linear"===te.type||"pattern"===te.type))return te;const V=new w.Z(te);return new w.Z([se(V.r,Q),se(V.g,Q),se(V.b,Q),V.a])}},34057:(j,F,T)=>{"use strict";T.d(F,{rG:()=>V,wh:()=>ae});var w=T(24263),O=T(84792),W=T(78260),B=T(26584),k=T(8314),ee=(T(50645),T(62996)),Z=T(30695),G=T(86606);const Y=(0,ee.E)();function ae(U,$,z){const J=Math.ceil($[0]),q=Math.ceil($[1]);if(!U.some(pe=>!!pe.length))return null;const oe=z&&z.node||document.createElement("div");return null!=z.opacity&&(oe.style.opacity=z.opacity.toString()),null!=z.effectView&&(oe.style.filter=(0,G.wJ)(z.effectView)),function ne(U,$){Y.append(U,$),Y.detach($)}(oe,()=>(0,Z.KB)(U,J,q,z)),oe}function Q(U,$,z,J,q){switch(q){case"multiply":U[$+0]*=z[0],U[$+1]*=z[1],U[$+2]*=z[2],U[$+3]*=z[3];break;default:{const oe=(0,W._Y)({r:U[$+0],g:U[$+1],b:U[$+2]});oe.h=J.h,oe.s=J.s,oe.v=oe.v/100*J.v;const pe=(0,W.xr)(oe);U[$+0]=pe.r,U[$+1]=pe.g,U[$+2]=pe.b,U[$+3]*=z[3];break}}}function V(U,$,z,J,q){return function ie(U,$,z){return U?(0,O.default)(U,{responseType:"image"}).then(J=>{const q=J.data,oe=q.width,pe=q.height,de=oe/pe;let be=$;if(z){const me=Math.max(oe,pe);be=Math.min(be,me)}return{image:q,width:de<=1?Math.ceil(be*de):be,height:de<=1?be:Math.ceil(be/de)}}):Promise.reject(new B.Z("renderUtils: imageDataSize","href not provided."))}(U,$,q).then(oe=>{const pe=oe.width?oe.width:$,de=oe.height?oe.height:$;if(oe.image&&function te(U,$){return!(!U||"ignore"===$||"multiply"===$&&255===U.r&&255===U.g&&255===U.b&&1===U.a)}(z,J)){let be=oe.image.width,me=oe.image.height;(0,k.Z)("edge")&&/\.svg$/i.test(U)&&(be-=1,me-=1);const _e=function se(U,$){U=Math.ceil(U),$=Math.ceil($);const z=document.createElement("canvas");z.width=U,z.height=$,z.style.width=U+"px",z.style.height=$+"px";const J=z.getContext("2d");return J.clearRect(0,0,U,$),J}(pe,de);_e.drawImage(oe.image,0,0,be,me,0,0,pe,de);const le=_e.getImageData(0,0,pe,de),fe=[z.r/255,z.g/255,z.b/255,z.a],Ee=(0,W._Y)(z);for(let ye=0;ye<le.data.length;ye+=4)Q(le.data,ye,fe,Ee,J);_e.putImageData(le,0,0),U=_e.canvas.toDataURL("image/png")}else{const be=w.id&&w.id.findCredential(U);if(be&&be.token){const me=U.includes("?")?"&":"?";U=`${U}${me}token=${be.token}`}}return{url:U,width:pe,height:de}}).catch(()=>({url:U,width:$,height:$}))}},71937:(j,F,T)=>{"use strict";T.d(F,{EJ:()=>$,KV:()=>V,n2:()=>Q,v9:()=>U,wm:()=>q});var w=T(15861),O=T(84792),W=T(26584),B=T(62208),k=T(10699),re=T(21726),ee=T(84687),Z=T(6278),G=T(35560);let Y={};function ae(){return(ae=(0,w.Z)(function*(oe,pe){try{return{data:(yield $(oe,pe)).data,baseUrl:(0,re.Yd)(oe),styleUrl:oe}}catch(de){return(0,k.r9)(de),null}})).apply(this,arguments)}function Q(oe,pe,de){return oe&&(0,B.pC)(oe.styleUrl)?function ne(oe,pe){return ae.apply(this,arguments)}(oe.styleUrl,de):oe&&(0,B.pC)(oe.styleName)?function se(oe,pe,de){const be=(0,B.pC)(pe.portal)?pe.portal:ee.Z.getDefault();let me;const _e=`${be.url} - ${be.user&&be.user.username} - ${oe}`;return Y[_e]||(Y[_e]=function te(oe,pe,de){return pe.load(de).then(()=>{const be=new Z.Z({disableExtraQuery:!0,query:`owner:${z} AND type:${J} AND typekeywords:"${oe}"`});return pe.queryItems(be,de)}).then(({results:be})=>{let me=null;const _e=oe.toLowerCase();if(be&&Array.isArray(be))for(const le of be)if(le.typeKeywords?.some(Ee=>Ee.toLowerCase()===_e)&&le.type===J&&le.owner===z){me=le;break}if(!me)throw new W.Z("symbolstyleutils:style-not-found",`The style '${oe}' could not be found`,{styleName:oe});return me.load(de)})}(oe,be,de).then(le=>(me=le,le.fetchData())).then(le=>({data:le,baseUrl:me.itemUrl??"",styleName:oe}))),Y[_e]}(oe.styleName,pe,de):Promise.reject(new W.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function V(oe){return null===oe||"CIMSymbolReference"===oe.type?oe:{type:"CIMSymbolReference",symbol:oe}}function U(oe,pe){if("cimRef"===pe)return oe.cimRef;if(oe.formatInfos&&!(0,G.K3)())for(const de of oe.formatInfos)if("gltf"===de.type)return de.href;return oe.webRef}function $(oe,pe){const de={responseType:"json",query:{f:"json"},...pe};return(0,O.default)((0,re.Fv)(oe),de)}const z="esri_en",J="Style",q="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},30695:(j,F,T)=>{"use strict";T.d(F,{KB:()=>Re});var w=T(91558),O=T(8314),W=T(62208),B=T(12225),k=T(31478),ee=(T(38570),T(94450));let G=0,Y=0;const ne=(0,O.Z)("android"),ae=(0,O.Z)("chrome")||ne&&ne>=4?"auto":"optimizeLegibility",se={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},ie=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let te={},Q={};const V={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},U=Math.PI;let $=1;function z(Ce,Fe){const Ne=Ce*(U/180);return Math.abs(Fe*Math.sin(Ne))+Math.abs(Fe*Math.cos(Ne))}function J(Ce){return Ce.map(Fe=>`${Fe.command} ${Fe.values.join(" ")}`).join(" ").trim()}function q(Ce,Fe,Ne,Le){if(Ce){if("circle"===Ce.type)return(0,ee.u)("circle",{fill:Fe,"fill-rule":"evenodd",stroke:Ne.color,"stroke-width":Ne.width,"stroke-linecap":Ne.cap,"stroke-linejoin":Ne.join,"stroke-dasharray":Ne.dashArray,"stroke-dashoffset":Ne.dashOffset,"stroke-miterlimit":"4",cx:Ce.cx,cy:Ce.cy,r:Ce.r});if("ellipse"===Ce.type)return(0,ee.u)("ellipse",{fill:Fe,"fill-rule":"evenodd",stroke:Ne.color,"stroke-width":Ne.width,"stroke-linecap":Ne.cap,"stroke-linejoin":Ne.join,"stroke-dasharray":Ne.dashArray,"stroke-miterlimit":"4",cx:Ce.cx,cy:Ce.cy,rx:Ce.rx,ry:Ce.ry});if("rect"===Ce.type)return(0,ee.u)("rect",{fill:Fe,"fill-rule":"evenodd",stroke:Ne.color,"stroke-width":Ne.width,"stroke-linecap":Ne.cap,"stroke-linejoin":Ne.join,"stroke-dasharray":Ne.dashArray,"stroke-miterlimit":"4",x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height});if("image"===Ce.type)return(0,ee.u)("image",{href:Ce.src,x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height,preserveAspectRatio:"none"});if("path"===Ce.type){const Oe="string"!=typeof Ce.path?J(Ce.path):Ce.path;return(0,ee.u)("path",{fill:Fe,"fill-rule":"evenodd",stroke:Ne.color,"stroke-width":Ne.width,"stroke-linecap":Ne.cap,"stroke-linejoin":Ne.join,"stroke-dasharray":Ne.dashArray,"stroke-miterlimit":"4",d:Oe})}if("text"===Ce.type)return(0,W.O3)(Le),(0,ee.u)("text",{"dominant-baseline":Le.dominantBaseline,fill:Fe,"fill-rule":"evenodd",stroke:Ne.color,"stroke-width":Ne.width,"stroke-linecap":Ne.cap,"stroke-linejoin":Ne.join,"stroke-dasharray":Ne.dashArray,"stroke-miterlimit":"4","text-anchor":Le.align,"text-decoration":Le.decoration,kerning:Le.kerning,rotate:Le.rotate,"text-rendering":ae,"font-style":Le.font.style,"font-variant":Le.font.variant,"font-weight":Le.font.weight,"font-size":Le.font.size,"font-family":Le.font.family,x:Ce.x,y:Ce.y},Ce.text)}return null}function oe(Ce){const Fe={fill:"none",pattern:null,linearGradient:null};if(Ce)if("type"in Ce&&"pattern"===Ce.type){const Ne="patternId-"+ ++G;Fe.fill=`url(#${Ne})`,Fe.pattern={id:Ne,x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height,image:{x:0,y:0,width:Ce.width,height:Ce.height,href:Ce.src}}}else if("type"in Ce&&"linear"===Ce.type){const Ne="linearGradientId-"+ ++Y;Fe.fill=`url(#${Ne})`,Fe.linearGradient={id:Ne,x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,stops:Ce.colors.map(Le=>({offset:Le.offset,color:Le.color&&new w.Z(Le.color).toString()}))}}else if(Ce){const Ne=new w.Z(Ce);Fe.fill=Ne.toString()}return Fe}function pe(Ce){const Fe={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(Ce&&(null!=Ce.width&&(Fe.width=Ce.width),Ce.cap&&(Fe.cap=Ce.cap),Ce.join&&(Fe.join=Ce.join.toString()),Ce.color&&(Fe.color=new w.Z(Ce.color).toString()),Ce.dashArray&&(Fe.dashArray=Ce.dashArray),Ce.dashArray&&(Fe.dashOffset=Ce.dashoffset),Ce.style)){let Ne=null;if(Ce.style in V&&(Ne=V[Ce.style]),Array.isArray(Ne)){Ne=Ne.slice(0);const Le=Ce.width??0;for(let Oe=0;Oe<Ne.length;++Oe)Ne[Oe]*=Le;if("butt"!==Ce.cap){for(let Oe=0;Oe<Ne.length;Oe+=2)Ne[Oe]-=Le,Ne[Oe]<1&&(Ne[Oe]=1);for(let Oe=1;Oe<Ne.length;Oe+=2)Ne[Oe]+=Le}Ne=Ne.join(",")}Fe.dashArray=Ne}return Fe}function de(Ce,Fe){const Ne={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(Ce){const Le=Ce.alignBaseline,Oe="baseline"===Le?"auto":"top"===Le?"text-top":"bottom"===Le?"hanging":Le;Ne.align=Ce.align,Ne.dominantBaseline=Oe,Ne.decoration=Ce.decoration,Ne.kerning=Ce.kerning?"auto":"0",Ne.rotate=Ce.rotated?"90":"0",(0,W.O3)(Fe),Ne.font.style=Fe.style||"normal",Ne.font.variant=Fe.variant||"normal",Ne.font.weight=Fe.weight||"normal",Ne.font.size=Fe.size&&Fe.size.toString()||"10pt",Ne.font.family=Fe.family||"serif"}return Ne}function be(Ce){const{pattern:Fe,linearGradient:Ne}=Ce;if(Fe)return(0,ee.u)("pattern",{id:Fe.id,patternUnits:"userSpaceOnUse",x:Fe.x,y:Fe.y,width:Fe.width,height:Fe.height},(0,ee.u)("image",{x:Fe.image.x,y:Fe.image.y,width:Fe.image.width,height:Fe.image.height,href:Fe.image.href}));if(Ne){const Le=Ne.stops.map((Oe,Ue)=>(0,ee.u)("stop",{key:`${Ue}-stop`,offset:Oe.offset,"stop-color":Oe.color}));return(0,ee.u)("linearGradient",{id:Ne.id,gradientUnits:"userSpaceOnUse",x1:Ne.x1,y1:Ne.y1,x2:Ne.x2,y2:Ne.y2},Le)}return null}function me(Ce,Fe){if(!Ce)return null;const Ne=[];for(const Le of Ce){const{shape:Oe,fill:Ue,stroke:ke,font:Ye}=Le,xe=oe(Ue),We=pe(ke),Qe="text"===Oe.type?de(Oe,Ye):null,lt=q(Oe,xe.fill,We,Qe);lt&&Ne.push(lt)}return(0,ee.u)("mask",{id:Fe,maskUnits:"userSpaceOnUse"},(0,ee.u)("g",null,Ne))}function _e(Ce,Fe,Ne){return(0,k.t)(Ce,(0,k.i)(Ce),[Fe,Ne])}function le(Ce,Fe,Ne,Le,Oe){return(0,k.s)(Ce,(0,k.i)(Ce),[Fe,Ne]),Ce[4]=Ce[4]*Fe-Le*Fe+Le,Ce[5]=Ce[5]*Ne-Oe*Ne+Oe,Ce}function Ee(Ce,Fe){te&&"left"in te?(null!=te.left&&te.left>Ce&&(te.left=Ce),(null==te.right||te.right<Ce)&&(te.right=Ce),(null==te.top||te.top>Fe)&&(te.top=Fe),(null==te.bottom||te.bottom<Fe)&&(te.bottom=Fe)):te={left:Ce,bottom:Fe,right:Ce,top:Fe}}function ye(Ce){const Fe=Ce.args,Ne=Fe.length;let Le;switch(Ce.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(Le=0;Le<Ne;Le+=2)Ee(Fe[Le],Fe[Le+1]);Q.x=Fe[Ne-2],Q.y=Fe[Ne-1];break;case"H":for(Le=0;Le<Ne;++Le)Ee(Fe[Le],Q.y);Q.x=Fe[Ne-1];break;case"V":for(Le=0;Le<Ne;++Le)Ee(Q.x,Fe[Le]);Q.y=Fe[Ne-1];break;case"m":{let Oe=0;for(("x"in Q||(Ee(Q.x=Fe[0],Q.y=Fe[1]),Oe=2),Le=Oe);Le<Ne;Le+=2)Ee(Q.x+=Fe[Le],Q.y+=Fe[Le+1]);break}case"l":case"t":for(Le=0;Le<Ne;Le+=2)Ee(Q.x+=Fe[Le],Q.y+=Fe[Le+1]);break;case"h":for(Le=0;Le<Ne;++Le)Ee(Q.x+=Fe[Le],Q.y);break;case"v":for(Le=0;Le<Ne;++Le)Ee(Q.x,Q.y+=Fe[Le]);break;case"c":for(Le=0;Le<Ne;Le+=6)Ee(Q.x+Fe[Le],Q.y+Fe[Le+1]),Ee(Q.x+Fe[Le+2],Q.y+Fe[Le+3]),Ee(Q.x+=Fe[Le+4],Q.y+=Fe[Le+5]);break;case"s":case"q":for(Le=0;Le<Ne;Le+=4)Ee(Q.x+Fe[Le],Q.y+Fe[Le+1]),Ee(Q.x+=Fe[Le+2],Q.y+=Fe[Le+3]);break;case"A":for(Le=0;Le<Ne;Le+=7)Ee(Fe[Le+5],Fe[Le+6]);Q.x=Fe[Ne-2],Q.y=Fe[Ne-1];break;case"a":for(Le=0;Le<Ne;Le+=7)Ee(Q.x+=Fe[Le+5],Q.y+=Fe[Le+6])}}function ue(Ce,Fe,Ne){const Le=se[Ce.toLowerCase()];let Oe;"number"==typeof Le&&(Le?Fe.length>=Le&&(Oe={action:Ce,args:Fe.slice(0,Fe.length-Fe.length%Le)},Ne.push(Oe),ye(Oe)):(Oe={action:Ce,args:[]},Ne.push(Oe),ye(Oe)))}function ce(Ce){const Fe={x:0,y:0,width:0,height:0};if("circle"===Ce.type)Fe.x=Ce.cx-Ce.r,Fe.y=Ce.cy-Ce.r,Fe.width=2*Ce.r,Fe.height=2*Ce.r;else if("ellipse"===Ce.type)Fe.x=Ce.cx-Ce.rx,Fe.y=Ce.cy-Ce.ry,Fe.width=2*Ce.rx,Fe.height=2*Ce.ry;else if("image"===Ce.type||"rect"===Ce.type)Fe.x=Ce.x,Fe.y=Ce.y,Fe.width=Ce.width,Fe.height=Ce.height;else if("path"===Ce.type){const Ne=(0,W.s3)(function Me(Ce){const Fe=("string"!=typeof Ce.path?J(Ce.path):Ce.path).match(ie),Ne=[];if(te={},Q={},!Fe)return null;let Le="",Oe=[];const Ue=Fe.length;for(let Ye=0;Ye<Ue;++Ye){const xe=Fe[Ye],We=parseFloat(xe);isNaN(We)?(Le&&ue(Le,Oe,Ne),Oe=[],Le=xe):Oe.push(We)}ue(Le,Oe,Ne);const ke={x:0,y:0,width:0,height:0};return te&&"left"in te&&(ke.x=te.left,ke.y=te.top,ke.width=te.right-te.left,ke.height=te.bottom-te.top),ke}(Ce));Fe.x=Ne.x,Fe.y=Ne.y,Fe.width=Ne.width,Fe.height=Ne.height}return Fe}function ge(Ce){const Fe={x:0,y:0,width:0,height:0};let Ne=null,Le=Number.NEGATIVE_INFINITY,Oe=Number.NEGATIVE_INFINITY;for(const Ue of Ce)Ne?(Ne.x=Math.min(Ne.x,Ue.x),Ne.y=Math.min(Ne.y,Ue.y),Le=Math.max(Le,Ue.x+Ue.width),Oe=Math.max(Oe,Ue.y+Ue.height)):(Ne=Fe,Ne.x=Ue.x,Ne.y=Ue.y,Le=Ue.x+Ue.width,Oe=Ue.y+Ue.height);return Ne&&(Ne.width=Le-Ne.x,Ne.height=Oe-Ne.y),Ne}function Pe(Ce,Fe,Ne,Le,Oe,Ue,ke,Ye,xe){let We=(ke&&Ue?z(Ue,Fe):Fe)/2,Qe=(ke&&Ue?z(Ue,Ne):Ne)/2;if(xe){const at=xe[0],we=xe[1];We=(ke&&Ue?z(Ue,at):at)/2,Qe=(ke&&Ue?z(Ue,we):we)/2}const lt=Ce.width+Le,ve=Ce.height+Le,Te=(0,B.c)(),Be=(0,B.c)();let Ge=!1;if(Oe&&0!==lt&&0!==ve){const at=Fe!==Ne?Fe/Ne:lt/ve,we=Fe>Ne?Fe:Ne;let tt=1,pt=1;isNaN(we)||(at>1?(tt=we/lt,pt=we/at/ve):(pt=we/ve,tt=we*at/lt)),(0,k.m)(Be,Be,le(Te,tt,pt,We,Qe)),Ge=!0}const $e=Ce.x+(lt-Le)/2,Xe=Ce.y+(ve-Le)/2;if((0,k.m)(Be,Be,_e(Te,We-$e,Qe-Xe)),!Ge&&(lt>Fe||ve>Ne)){const at=lt/Fe>ve/Ne,we=(at?Fe:Ne)/(at?lt:ve);(0,k.m)(Be,Be,le(Te,we,we,$e,Xe))}return Ue&&(0,k.m)(Be,Be,function fe(Ce,Fe,Ne,Le){const Oe=Fe%360*Math.PI/180;(0,k.r)(Ce,(0,k.i)(Ce),Oe);const Ue=Math.cos(Oe),ke=Math.sin(Oe),Ye=Ce[4],xe=Ce[5];return Ce[4]=Ye*Ue-xe*ke+Le*ke-Ne*Ue+Ne,Ce[5]=xe*Ue+Ye*ke-Ne*ke-Le*Ue+Le,Ce}(Te,Ue,$e,Xe)),Ye&&(0,k.m)(Be,Be,_e(Te,Ye[0],Ye[1])),`matrix(${Be[0]},${Be[1]},${Be[2]},${Be[3]},${Be[4]},${Be[5]})`}function Re(Ce,Fe,Ne,Le={}){const Oe=[],Ue=[],ke=++$,Ye=function Ie(Ce,Fe,Ne){const Le=Ce?.effects.find(We=>"bloom"===We.type);if(!Le)return null;const{strength:Oe,radius:Ue}=Le,ke=Oe>0?Ue:0,Ye=(Oe+ke)*Fe,xe=4*Oe+1;return(0,ee.u)("filter",{id:`bloom${Ne}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,ee.u)("feMorphology",{operator:"dilate",radius:(Oe+.5*ke)*(5**(Fe/100)*(.4+Fe/100)),in:"SourceGraphic",result:"dilate"}),(0,ee.u)("feGaussianBlur",{in:"dilate",stdDeviation:Ye/25,result:"blur"}),(0,ee.u)("feGaussianBlur",{in:"blur",stdDeviation:Ye/50,result:"intensityBlur"}),(0,ee.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,ee.u)("feFuncR",{type:"linear",slope:xe}),(0,ee.u)("feFuncG",{type:"linear",slope:xe}),(0,ee.u)("feFuncB",{type:"linear",slope:xe})),(0,ee.u)("feMerge",null,(0,ee.u)("feMergeNode",{in:"intensityBlur"}),(0,ee.u)("feMergeNode",{in:"intensityBrightness"}),(0,ee.u)("feGaussianBlur",{stdDeviation:Oe/10})))}(Le.effectView,Fe,ke);let xe=null;if(Ye){const We=Le.effectView?.effects.find(Te=>"bloom"===Te.type),Qe=(We.strength?We.strength+We.radius/2:0)/3,ve=Ne+Ne*Qe;xe=[Math.max(Fe+Fe*Qe,10),Math.max(ve,10)]}for(let We=0;We<Ce.length;We++){const Qe=Ce[We],lt=[],ve=[];let Te=0,Be=0,Ge=0;for(const at of Qe){const{shape:we,fill:tt,stroke:pt,font:Pt,offset:mt}=at;Le.ignoreStrokeWidth||(Te+=pt&&pt.width||0);const St=oe(tt),ut=pe(pt),_t="text"===we.type?de(we,Pt):null;Oe.push(be(St)),lt.push(q(we,St.fill,ut,_t)),ve.push(ce(we)),mt&&(Be+=mt[0],Ge+=mt[1])}const $e=Pe((0,W.s3)(ge(ve)),Fe,Ne,Te,Le.scale??!1,Le.rotation,Le.useRotationSize??!1,[Be,Ge],xe);let Xe=null;if(Le.masking){const at=`mask-${We}`;Oe.push(me(Le.masking[We],at)),Xe=`url(#${at})`}Ue.push(Xe?(0,ee.u)("g",{mask:Xe},(0,ee.u)("g",{transform:$e},lt)):(0,ee.u)("g",{transform:$e},lt))}return Le.useRotationSize&&Le.rotation&&(Fe=z(Le.rotation,Fe),Ne=z(Le.rotation,Ne)),Ye&&((0,W.O3)(xe),Fe=xe[0],Ne=xe[1]),(0,ee.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:Fe,height:Ne,style:"display: block;"},Ye,(0,ee.u)("defs",null,Oe),Ye?(0,ee.u)("g",{filter:`url(#bloom${ke})`},Ue):Ue)}},70137:(j,F,T)=>{"use strict";T.d(F,{K:()=>ie,q:()=>te});var w=T(20383),O=T(26584),W=T(12874),B=T(69852),k=T(52068),re=T(40445),ee=T(57213),Z=T(13546),G=T(88493),Y=T(36687),ne=T(89673),ae=T(35540),se=T(22490);const ie={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function te(Q,V=ie){if(!Q)return{symbol:null};const{retainId:U=ie.retainId,ignoreDrivers:$=ie.ignoreDrivers,hasLabelingContext:z=ie.hasLabelingContext,retainCIM:J=ie.retainCIM}=V;let q=null;if((0,w.dU)(Q)||Q instanceof W.Z)q=Q.clone();else if("cim"===Q.type){const oe=Q.data?.symbol?.type;if("CIMPointSymbol"!==oe)return{error:new O.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${oe||"unknown"}' is unsupported in 3D`,{symbol:Q})};q=J?Q.clone():B.Z.fromCIMSymbol(Q)}else if(Q instanceof k.Z)q=re.Z.fromSimpleLineSymbol(Q);else if(Q instanceof ee.Z)q=B.Z.fromSimpleMarkerSymbol(Q);else if(Q instanceof Z.Z)q=B.Z.fromPictureMarkerSymbol(Q);else if(Q instanceof G.Z)q=V.geometryType&&"mesh"===V.geometryType?Y.Z.fromSimpleFillSymbol(Q):ne.Z.fromSimpleFillSymbol(Q);else{if(!(Q instanceof ae.Z))return{error:new O.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${Q.type||Q.declaredClass}' is unsupported in 3D`,{symbol:Q})};q=z?se.Z.fromTextSymbol(Q):B.Z.fromTextSymbol(Q)}if(U&&q&&"cim"!==q.type&&(q.id=Q.id),$&&(0,w.dU)(q))for(let oe=0;oe<q.symbolLayers.length;++oe)q.symbolLayers.getItemAt(oe)._ignoreDrivers=!0;return{symbol:q}}},43652:(j,F,T)=>{"use strict";T.d(F,{$K:()=>B,Hc:()=>G,KW:()=>Y,Uz:()=>Z,w2:()=>ne}),T(8314);var O=T(28093),W=T(5548);function B(ae,{isPrimitive:se,width:ie,depth:te,height:Q}){const V=se?10:1;if(null==ie&&null==Q&&null==te)return[V*ae[0],V*ae[1],V*ae[2]];const U=(0,O.f)(ie,te,Q);let $;for(let z=0;z<3;z++){const J=U[z];if(null!=J){$=J/ae[z];break}}for(let z=0;z<3;z++)null==U[z]&&(U[z]=ae[z]*$);return U}const k=(0,W.al)(-.5,-.5,-.5,.5,.5,.5),re=(0,W.al)(-.5,-.5,0,.5,.5,1),ee=(0,W.al)(-.5,-.5,0,.5,.5,.5);function Z(ae){switch(ae){case"sphere":case"cube":case"diamond":return k;case"cylinder":case"cone":case"inverted-cone":return re;case"tetrahedron":return ee;default:return}}const G=["butt","square","round"],Y=[...G,"none"],ne=["miter","bevel","round"]},50369:(j,F,T)=>{"use strict";T.d(F,{Ck:()=>re,JT:()=>W,Nj:()=>Y,g6:()=>B,vC:()=>k,x0:()=>G});var w=T(21286),O=T(90912);const W=["none","underline","line-through"],B=["normal","italic","oblique"],k=["normal","lighter","bold","bolder"],re={type:Number,cast:ne=>{const ae=(0,O.q9)(ne);return 0===ae?1:(0,w.uZ)(ae,.1,4)},nonNullable:!0},G={type:["left","right","center"],nonNullable:!0},Y={type:["baseline","top","middle","bottom"],nonNullable:!0}},29505:(j,F,T)=>{"use strict";T.d(F,{Z7:()=>W,f9:()=>k,lt:()=>O});var w=T(21254);function O(re){return!!re&&null!=w.a[re]}function W(re){return 1/(w.a[re]||1)}const k=function B(){const re=Object.keys(w.a);return re.sort(),re}()},69738:(j,F,T)=>{"use strict";T.d(F,{Ds:()=>ee,KA:()=>re});var w=T(21726),O=T(29840);function B(G,Y){return function Z(G){return!(null==G||"service"!==G.origin&&"portal-item"!==G.origin||"feature"!==G.layer?.type&&"stream"!==G.layer?.type)}(Y)&&!(0,w.YP)(G)&&Y?.layer?.parsedUrl?(0,w.v_)(Y.layer.parsedUrl.path,"images",G):(0,O.f)(G,Y)}const re={json:{read:{source:["imageData","url"],reader:function W(G,Y,ne){return Y.imageData?(0,w._l)({mediaType:Y.contentType||"image/png",isBase64:!0,data:Y.imageData}):B(Y.url,ne)}},write:{writer(G,Y,ne,ae){!function k(G,Y,ne,ae){if((0,w.HK)(G)){const se=(0,w.sJ)(G);if(!se)return;Y.contentType=se.mediaType,Y.imageData=se.data,ne&&ne.imageData===Y.imageData&&ne.url&&(0,O.w)(ne.url,Y,"url",ae)}else(0,O.w)(G,Y,"url",ae)}(G,Y,this.source,ae)}}}},ee={readOnly:!0,json:{read:{source:["imageData","url"],reader(G,Y,ne){const ae={};return Y.imageData&&(ae.imageData=Y.imageData),Y.contentType&&(ae.contentType=Y.contentType),Y.url&&(ae.url=B(Y.url,ne)),ae}}}}},86606:(j,F,T)=>{"use strict";T.d(F,{BR:()=>Re,Q8:()=>Ne,QL:()=>Fe,YW:()=>ie,_h:()=>Q,e3:()=>Pe,nf:()=>te,tb:()=>J,wJ:()=>Ce});var w=T(15861),O=T(91558),W=T(20383),B=T(59213),re=(T(8314),T(62208)),ee=T(28093),Z=T(71149),Y=(T(74741),T(64830));const ne=new O.Z("white");function ie(Oe){if((0,re.Wi)(Oe)||!("symbolLayers"in Oe)||(0,re.Wi)(Oe.symbolLayers))return!1;switch(Oe.type){case"point-3d":return Oe.symbolLayers.some(Ue=>"object"===Ue.type);case"line-3d":return Oe.symbolLayers.some(Ue=>"path"===Ue.type);case"polygon-3d":return Oe.symbolLayers.some(Ue=>"object"===Ue.type||"extrude"===Ue.type);default:return!1}}function te(Oe){return(0,re.s3)(Oe.resource).href}function Q(Oe,Ue){if(!Oe)return null;let ke=null;return(0,W.dU)(Oe)?ke=function V(Oe){const Ue=Oe.symbolLayers;if(!Ue)return null;let ke=null;return Ue.forEach(Ye=>{"object"===Ye.type&&null!=Ye.resource?.href||(ke="water"===Ye.type?(0,re.Wg)(Ye.color):(0,re.pC)(Ye.material)?(0,re.Wg)(Ye.material.color):null)}),ke?new O.Z(ke):null}(Oe):(0,W.cT)(Oe)&&(ke=Oe.color?new O.Z(Oe.color):null),ke?U(ke,Ue):null}function U(Oe,Ue){if(null==Ue||null==Oe)return Oe;const ke=Oe.toRgba();return ke[3]=ke[3]*Ue,new O.Z(ke)}function J(Oe,Ue,ke){Oe&&(Ue||null!=ke)&&(Ue&&(Ue=new O.Z(Ue)),(0,W.dU)(Oe)?function $(Oe,Ue,ke){const Ye=Oe.symbolLayers;if(!Ye)return;const xe=We=>{const Qe=(0,re.pC)(We)?We:null;return U(Ue=Ue??Qe??(null!=ke?ne:null),ke)};Ye.forEach(We=>{if("object"!==We.type||null==We.resource?.href||Ue)if("water"===We.type)We.color=xe(We.color);else{const Qe=(0,re.pC)(We.material)?We.material.color:null,lt=xe(Qe);(0,re.Wi)(We.material)?We.material=new Y.b({color:lt}):We.material.color=lt,null!=ke&&"outline"in We&&(0,re.pC)(We.outline)&&(0,re.pC)(We.outline.color)&&(We.outline.color=U(We.outline.color,ke))}})}(Oe,Ue,ke):(0,W.cT)(Oe)&&function z(Oe,Ue,ke){(Ue=Ue??Oe.color)&&(Oe.color=U(Ue,ke)),null!=ke&&"outline"in Oe&&Oe.outline&&Oe.outline.color&&(Oe.outline.color=U(Oe.outline.color,ke))}(Oe,Ue,ke))}function q(Oe,Ue){return oe.apply(this,arguments)}function oe(){return oe=(0,w.Z)(function*(Oe,Ue){const ke=Oe.symbolLayers;ke&&(yield(0,B.Ed)(ke,function(){var Ye=(0,w.Z)(function*(xe){return pe(xe,Ue)});return function(xe){return Ye.apply(this,arguments)}}()))}),oe.apply(this,arguments)}function pe(Oe,Ue){return de.apply(this,arguments)}function de(){return(de=(0,w.Z)(function*(Oe,Ue){switch(Oe.type){case"extrude":_e(Oe,Ue);break;case"icon":case"line":case"text":be(Oe,Ue);break;case"path":Ee(Oe,Ue);break;case"object":yield le(Oe,Ue)}})).apply(this,arguments)}function be(Oe,Ue){const ke=me(Ue);(0,re.pC)(ke)&&(Oe.size=ke)}function me(Oe){for(const Ue of Oe)if("number"==typeof Ue)return Ue;return null}function _e(Oe,Ue){Oe.size="number"==typeof Ue[2]?Ue[2]:0}function le(Oe,Ue){return fe.apply(this,arguments)}function fe(){return(fe=(0,w.Z)(function*(Oe,Ue){const{resourceSize:ke,symbolSize:Ye}=yield ue(Oe),xe=ye(Ue,ke,Ye);Oe.width=ce(Ue[0],Ye[0],ke[0],xe),Oe.depth=ce(Ue[1],Ye[1],ke[1],xe),Oe.height=ce(Ue[2],Ye[2],ke[2],xe)})).apply(this,arguments)}function Ee(Oe,Ue){const ke=ye(Ue,ee.O,[Oe.width,void 0,Oe.height]);Oe.width=ce(Ue[0],Oe.width,1,ke),Oe.height=ce(Ue[2],Oe.height,1,ke)}function ye(Oe,Ue,ke){for(let Ye=0;Ye<3;Ye++){const xe=Oe[Ye];switch(xe){case"symbol-value":{const We=ke[Ye];return null!=We?We/Ue[Ye]:1}case"proportional":break;default:if(xe&&Ue[Ye])return xe/Ue[Ye]}}return 1}function ue(Oe){return Me.apply(this,arguments)}function Me(){return(Me=(0,w.Z)(function*(Oe){const Ue=yield T.e(1831).then(T.bind(T,91831)),ke=yield Ue.computeObjectLayerResourceSize(Oe,10),{width:Ye,height:xe,depth:We}=Oe,Qe=[Ye,We,xe];let lt=1;for(let ve=0;ve<3;ve++){const Te=Qe[ve];if(null!=Te){lt=Te/ke[ve];break}}for(let ve=0;ve<3;ve++)null==Qe[ve]&&(Qe[ve]=ke[ve]*lt);return{resourceSize:ke,symbolSize:Qe}})).apply(this,arguments)}function ce(Oe,Ue,ke,Ye){switch(Oe){case"proportional":return ke*Ye;case"symbol-value":return Ue??ke;default:return Oe}}function ge(Oe,Ue){const ke=me(Ue);if(!(0,re.Wi)(ke))switch(Oe.type){case"simple-marker":Oe.size=ke;break;case"picture-marker":{const Ye=Oe.width/Oe.height;Ye>1?(Oe.width=ke,Oe.height=ke*Ye):(Oe.width=ke*Ye,Oe.height=ke);break}case"simple-line":Oe.width=ke;break;case"text":Oe.font.size=ke}}function Pe(Oe,Ue){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,w.Z)(function*(Oe,Ue){if(Oe&&Ue)return(0,W.dU)(Oe)?q(Oe,Ue):void((0,W.cT)(Oe)&&ge(Oe,Ue))})).apply(this,arguments)}function Re(Oe,Ue,ke){if(Oe&&null!=Ue)if((0,W.dU)(Oe)){const Ye=Oe.symbolLayers;Ye&&Ye.forEach(xe=>{if(xe&&"object"===xe.type)switch(ke){case"tilt":xe.tilt=Ue;break;case"roll":xe.roll=Ue;break;default:xe.heading=Ue}})}else(0,W.cT)(Oe)&&("simple-marker"!==Oe.type&&"picture-marker"!==Oe.type&&"text"!==Oe.type||(Oe.angle=Ue))}function Ce(Oe){if(!Oe)return null;const Ue=Oe.effects.filter(ke=>"bloom"!==ke.type).map(ke=>ke.toJSON());return(0,Z.rM)(Ue)}function Fe(Oe){return(0,re.pC)(Oe)&&"polygon-3d"===Oe.type&&Oe.symbolLayers.some(Ue=>"extrude"===Ue.type)}function Ne(Oe,Ue){return Le.apply(this,arguments)}function Le(){return(Le=(0,w.Z)(function*(Oe,Ue){return(yield Oe.fetchSymbol(Ue))||Oe.fetchCIMSymbol(Ue)})).apply(this,arguments)}},50998:(j,F,T)=>{"use strict";T.r(F),T.d(F,{fetchSymbolFromStyle:()=>se,resolveWebStyleSymbol:()=>ae});var w=T(20383),O=T(83100),W=T(26584),B=T(62208),k=T(21726),re=T(84687),ee=T(29840),Z=T(9461),G=T(77345),Y=T(71937),ne=T(96296);function ae(te,Q,V,U){return te.name?te.styleName&&"Esri2DPointSymbolsStyle"===te.styleName?function ie(te,Q,V){const U=Y.wm.replace(/\{SymbolName\}/gi,te.name),$=(0,B.pC)(Q.portal)?Q.portal:re.Z.getDefault();return(0,Y.EJ)(U,V).then(z=>{const J=(0,Y.KV)(z.data);return(0,Z.im)(J,{portal:$,url:(0,k.mN)((0,k.Yd)(U)),origin:"portal-item"})})}(te,Q,U):(0,Y.n2)(te,Q,U).then($=>se((0,B.s3)($),te.name,Q,V,U)):Promise.reject(new W.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function se(te,Q,V,U,$){const z=te.data,J=V&&(0,B.pC)(V.portal)?V.portal:re.Z.getDefault(),q={portal:J,url:(0,k.mN)(te.baseUrl),origin:"portal-item"},oe=z.items.find(_e=>_e.name===Q);if(!oe)return Promise.reject(new W.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${Q}' could not be found`,{symbolName:Q}));let pe=(0,ee.f)((0,Y.v9)(oe,U),q),de=oe.thumbnail?.href??null;const be=oe.thumbnail&&oe.thumbnail.imageData;(0,O.XO)()&&(pe=(0,O.pJ)(pe)??"",de=(0,O.pJ)(de));const me={portal:J,url:(0,k.mN)((0,k.Yd)(pe)),origin:"portal-item"};return(0,Y.EJ)(pe,$).then(_e=>{const le="cimRef"===U?(0,Y.KV)(_e.data):_e.data,fe=(0,Z.im)(le,me);if(fe&&(0,w.dU)(fe)){if(de){const Ee=(0,ee.f)(de,q);fe.thumbnail=new ne.p({url:Ee})}else be&&(fe.thumbnail=new ne.p({url:`data:image/png;base64,${be}`}));te.styleUrl?fe.styleOrigin=new G.Z({portal:V.portal,styleUrl:te.styleUrl,name:Q}):te.styleName&&(fe.styleOrigin=new G.Z({portal:V.portal,styleName:te.styleName,name:Q}))}return fe})}},41039:(j,F,T)=>{"use strict";T.d(F,{Z:()=>se});var w=T(17626),O=T(79608),W=T(86810),B=T(62208),k=T(77712),Z=(T(90912),T(85931),T(68653)),G=T(76898),Y=T(99433),ne=T(60194);let ae=class extends((0,O.J)(W.wq)){constructor(ie){super(ie),this.legacy=null,this.timeZone="system"}readLegacy(ie,te){const{timeZone:Q,respectsDaylightSaving:V}=te;return{timeZone:Q,respectsDaylightSaving:V}}readTimeZone(ie,te){return"timeZoneIANA"in te?te.timeZoneIANA:(0,ne.G)(te)}writeTimeZone(ie,te){te.timeZoneIANA=ie}equals(ie){return!((0,B.Wi)(ie)||(0,B.Wi)(this.timeZone)||(0,B.Wi)(ie.timeZone))&&this.timeZone===ie.timeZone}};(0,w._)([(0,k.Cb)()],ae.prototype,"legacy",void 0),(0,w._)([(0,Z.r)("legacy",["timeZone"])],ae.prototype,"readLegacy",null),(0,w._)([(0,k.Cb)({type:String,nonNullable:!0})],ae.prototype,"timeZone",void 0),(0,w._)([(0,Z.r)("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],ae.prototype,"readTimeZone",null),(0,w._)([(0,Y.c)("timeZone")],ae.prototype,"writeTimeZone",null),ae=(0,w._)([(0,G.j)("esri.time.TimeReference")],ae);const se=ae},60194:(j,F,T)=>{"use strict";T.d(F,{G:()=>W});const w=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var O=T(21837);function W(re,ee="system"){if(!re||!w.has(re.timeZone))return ee;const Z=w.get(re.timeZone);return function k(re){return re.startsWith("UTC")}(re.timeZone)||re.respectsDaylightSaving?Z:function B(re){const ee=O.ou.local().setZone(re),Z=Math.min(ee.set({month:1,day:1}).offset,ee.set({month:5}).offset);return 0===Z?"Etc/UTC":`Etc/GMT${O.Qf.instance(-Z).formatOffset(0,"narrow")}`}(Z)}},42666:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ie});var w=T(61885),O=T(8314),W=T(76279),B=T(35575),k=T(2004),re=T(65401),ee=T(89621),Z=T(58098);class G{constructor(Q,V){this.key=new Z.Z(0,0,0,0),this.bounds=(0,re.Ue)(),this.objectIds=new Set,this.key.set(V);const U=Q.getLODInfoAt(this.key);this.tileInfoView=Q,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=U.resolution,this.scale=U.scale,this.level=U.level}get id(){return this.key.id}get extent(){return k.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const Q=this.key.getChildKeys(),V=B.Z.acquire();for(let U=0;U<Q.length;U++)V[U]=new G(this.tileInfoView,Q[U]);return V}getQuantizationParameters(){return ee.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}var Y=T(84378);const ne={added:[],removed:[]},ae=new Set,se=new Z.Z(0,0,0,0);class ie extends w.Z{constructor(Q){super(),this._tiles=new Map,this._index=(0,W.r)(9,(0,O.Z)("esri-csp-restrictions")?V=>({minX:V.bounds[0],minY:V.bounds[1],maxX:V.bounds[2],maxY:V.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=Q}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(Q){return this._tiles.has(Q)}get(Q){return this._tiles.get(Q)}boundsIntersections(Q){return this._index.search({minX:Q[0],minY:Q[1],maxX:Q[2],maxY:Q[3]})}updateTiles(Q){const V={added:[],removed:[]};for(const U of Q.added)if(!this.has(U)){const $=new G(this.tileScheme,U);this._tiles.set(U,$),this._index.insert($),V.added.push($)}for(const U of Q.removed)if(this.has(U)){const $=this.get(U);this._tiles.delete(U),this._index.remove($),V.removed.push($)}this.tiles.length=0,this._tiles.forEach(U=>this.tiles.push(U)),(V.added.length||V.removed.length)&&this.emit("update",V)}setViewState(Q){const V=this.tileScheme.getTileCoverage(Q,0);if(!V)return;const{spans:U,lodInfo:$}=V,{level:z}=$;if(U.length>0)for(const{row:J,colFrom:q,colTo:oe}of U)for(let pe=q;pe<=oe;pe++){const de=se.set(z,J,$.normalizeCol(pe),$.getWorldForColumn(pe)).id;if(ae.add(de),!this.has(de)){const be=new G(this.tileScheme,de);this._tiles.set(de,be),this._index.insert(be),this.tiles.push(be),ne.added.push(be)}}for(let J=this.tiles.length-1;J>=0;J--){const q=this.tiles[J];ae.has(q.id)||(this._tiles.delete(q.id),this.tiles.splice(J,1),this._index.remove(q),ne.removed.push(q))}(ne.added.length||ne.removed.length)&&this.emit("update",ne),Y.Z.pool.release(V),ae.clear(),ne.added.length=0,ne.removed.length=0}}},62192:(j,F,T)=>{"use strict";T.d(F,{aV:()=>be,S1:()=>q,os:()=>oe,st:()=>pe,yR:()=>me});var U,w=T(26584),O=T(8314),W=T(63290),B=T(62208),k=T(50011),re=T(43149),ee=T(95778),Z=T(15312),G=T(68598),Y=T(64902),ne=T(17626),ae=T(58817),se=T(77712),te=(T(90912),T(76898)),Q=T(99433),V=T(86971);let $=U=class extends G.Z{writeLevels(Ee,ye,ue){for(const Me in Ee)return void(ye.stops=this.levels[Me])}clone(){return new U({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,V.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,V.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(Ee=>Ee.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:(0,ae.d9)(this.levels)})}};(0,ne._)([(0,se.Cb)()],$.prototype,"levels",void 0),(0,ne._)([(0,Q.c)("levels")],$.prototype,"writeLevels",null),$=U=(0,ne._)([(0,te.j)("esri.views.2d.engine.LevelDependentSizeVariable")],$);const z=W.Z.getLogger("esri.views.2d.layers.support.clusterUtils");O.Z.add("esri-cluster-arcade-enabled",!0);const J=(0,O.Z)("esri-cluster-arcade-enabled"),q=(Ee,ye,ue,Me,ce)=>{const ge=ye.clone();if(!me(ge))return ge;if(ge.authoringInfo||(ge.authoringInfo=new Z.Z),ge.authoringInfo.isAutoGenerated=!0,"visualVariables"in ge){const Pe=(ge.visualVariables||[]).filter(Re=>"$view.scale"!==Re.valueExpression),Ie=oe(Pe);Pe.forEach(Re=>{"rotation"===Re.type?Re.field?Re.field=fe(Ee,Re.field,"avg_angle","number"):Re.valueExpression&&(Re.field=le(Ee,Re.valueExpression,"avg_angle","number"),Re.valueExpression=null):Re.normalizationField?(Re.field=fe(Ee,Re.field,"avg_norm","number",Re.normalizationField),Re.normalizationField=null):Re.field?Re.field=fe(Ee,Re.field,"avg","number"):Re.valueExpression&&(Re.field=le(Ee,Re.valueExpression,"avg","number"),Re.valueExpression=null)}),(0,B.Wi)(Ie)&&!de(Pe)&&ce&&(Pe.push(be(ue,Me)),ge.dynamicClusterSize=!0),ge.visualVariables=Pe}switch(ge.type){case"simple":break;case"pie-chart":for(const Pe of ge.attributes)Pe.field?Pe.field=fe(Ee,Pe.field,"sum","number"):Pe.valueExpression&&(Pe.field=le(Ee,Pe.valueExpression,"sum","number"),Pe.valueExpression=null);break;case"unique-value":ge.field?ge.field=fe(Ee,ge.field,"mode","string"):ge.valueExpression&&(ge.field=le(Ee,ge.valueExpression,"mode","string"),ge.valueExpression=null);break;case"class-breaks":ge.normalizationField?(ge.field=fe(Ee,ge.field,"avg_norm","number",ge.normalizationField),ge.normalizationField=null):ge.field?ge.field=fe(Ee,ge.field,"avg","number"):ge.valueExpression&&(ge.field=le(Ee,ge.valueExpression,"avg","number"),ge.valueExpression=null)}return ge},oe=Ee=>{for(const ye of Ee)if("size"===ye.type)return ye;return null};function pe(Ee,ye,ue){const Me=Ee.clone();let ce=!1;if("visualVariables"in Me){const ge=(Me.visualVariables||[]).filter(Ie=>"$view.scale"!==Ie.valueExpression),Pe=oe(ge);(0,B.Wi)(Pe)&&(Me.visualVariables||(Me.visualVariables=[]),Me.visualVariables.push(be(ye,ue)),Me.dynamicClusterSize=!0,ce=!0)}return{renderer:Me,didInject:ce}}const de=Ee=>{for(const ye of Ee)if("cluster_count"===ye.field)return!0;return!1},be=(Ee,ye)=>{const ue=[new Y.Z({value:0,size:0}),new Y.Z({value:1})];if((0,B.Wi)(ye))return new G.Z({field:"cluster_count",stops:[...ue,new Y.Z({value:2,size:0})]});const Me=Object.keys(ye).reduce((ce,ge)=>({...ce,[ge]:[...ue,new Y.Z({value:Math.max(2,ye[ge].minValue),size:Ee.clusterMinSize}),new Y.Z({value:Math.max(3,ye[ge].maxValue),size:Ee.clusterMaxSize})]}),{});return new $({field:"cluster_count",levels:Me})},me=Ee=>{const ye=ue=>z.error(new w.Z("Unsupported-renderer",ue,{renderer:Ee}));switch(Ee.type){case"unique-value":if(Ee.field2||Ee.field3)return ye("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(Ee.normalizationField){const ue=Ee.normalizationType;if("field"!==ue)return ye(`FeatureReductionCluster does not support a normalizationType of ${ue}`),!1}break;case"simple":case"pie-chart":break;default:return ye(`FeatureReductionCluster does not support renderers of type ${Ee.type}`),!1}if(!J){if("valueExpression"in Ee&&Ee.valueExpression)return ye("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in Ee&&Ee.visualVariables||[]).some(ue=>!(!("valueExpression"in ue)||!ue.valueExpression)))return ye("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function le(Ee,ye,ue,Me){const ce=(0,k.F)(ye),ge="mode"===ue?`cluster_type_${ce}`:"sum"===ue?`cluster_sum_${ce}`:`cluster_avg_${ce}`;return Ee.some(Pe=>Pe.name===ge)||Ee.push(new re.Z({name:ge,isAutoGenerated:!0,onStatisticExpression:new ee.Z({expression:ye,returnType:Me}),statisticType:ue})),ge}function fe(Ee,ye,ue,Me,ce){if("cluster_count"===ye||Ee.some(Pe=>Pe.name===ye))return ye;const ge=function _e(Ee,ye,ue){switch(Ee){case"sum":return`cluster_sum_${ye}`;case"avg":case"avg_angle":return`cluster_avg_${ye}`;case"mode":return`cluster_type_${ye}`;case"avg_norm":{const Me=ue,ce="field",ge=ye.toLowerCase()+",norm:"+ce+","+Me.toLowerCase();return"cluster_avg_"+(0,k.F)(ge)}}}(ue,ye,ce);return Ee.some(Pe=>Pe.name===ge)||Ee.push(new re.Z("avg_norm"===ue?{name:ge,isAutoGenerated:!0,onStatisticExpression:new ee.Z({expression:`$feature.${ye} / $feature.${ce}`,returnType:Me}),statisticType:"avg"}:{name:ge,isAutoGenerated:!0,onStatisticField:ye,statisticType:ue})),ge}},38093:(j,F,T)=>{"use strict";T.d(F,{Z:()=>G});var w=T(17626),O=T(91558),W=T(14517),B=T(77712),ee=(T(90912),T(85931),T(76898));let Z=class extends W.Z{constructor(){super(...arguments),this.color=new O.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(Y){return this.color.equals(Y.color)&&(this.haloColor||this.color).equals(Y.haloColor||Y.color)&&this.haloOpacity===Y.haloOpacity&&this.fillOpacity===Y.fillOpacity}};(0,w._)([(0,B.Cb)({type:O.Z})],Z.prototype,"color",void 0),(0,w._)([(0,B.Cb)({type:O.Z})],Z.prototype,"haloColor",void 0),(0,w._)([(0,B.Cb)()],Z.prototype,"haloOpacity",void 0),(0,w._)([(0,B.Cb)()],Z.prototype,"fillOpacity",void 0),Z=(0,w._)([(0,ee.j)("esri.views.2d.support.HighlightOptions")],Z);const G=Z},33412:(j,F,T)=>{"use strict";T.d(F,{T:()=>O});class O{constructor(){this._names=new Map}begin(B){this._names.has(B)||(this._names.set(B,!1),B.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${B}.Start`))}end(B){this._names.has(B)&&!this._names.get(B)&&(this._names.set(B,!0),performance.mark(`Esri.${B}.End`))}record(B){this._names.has(B)||(this._names.set(B,!0),performance.mark(`Esri.${B}`))}}},17083:(j,F,T)=>{"use strict";var w=T(17626),O=T(14517),W=T(62208),B=T(77712),ee=(T(90912),T(85931),T(76898)),Z=T(67831),G=T(71251);const ne=new Set,ae=[],se=new Map,ie=[0,0];let te=class extends O.Z{constructor(V){super(V),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:V,process:U}=this;this._queue=new G.e({concurrency:V,process:($,z)=>{const J=this._keyToItem.get($);return U(J,{signal:z})},peeker:$=>$.values().next().value})}destroy(){this.clear(),this._queue=(0,W.SC)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(V){this._queue.abort("string"==typeof V?V:V.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(V){return this._keyToItem.has("string"==typeof V?V:V.id)}isOngoing(V){const U="string"==typeof V?V:V.id;return this.has(U)&&this._queue.isOngoing(U)}pause(){this._queue.pause()}push(V,U){const $=V.key.id+"-"+U;if(this.has($))return this.get($);const z=this._queue.push($),J=()=>{this._keyToItem.delete($),this.notifyChange("updating")};return this._keyToItem.set($,V),z.then(J,J),this.notifyChange("updating"),z}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(V){if(!this.state)return V.values().next().value;const U=this.tileInfoView;let $=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY;V.forEach(be=>{const me=this._keyToItem.get(be),_e=this.tileInfoView.getTileScale(me.key);se.has(_e)||(se.set(_e,[]),$=Math.max(_e,$),z=Math.min(_e,z)),se.get(_e).push(me.key),ne.add(_e)});let J=this.state.scale;se.has(J)||(function Y(V,U){V.length=0,U.forEach($=>V.push($))}(ae,ne),ae.sort((be,me)=>be-me),J=ae.reduce((be,me)=>Math.abs(me-J)<Math.abs(be-J)?me:be,ae[0])),J=Math.min(J,$),J=Math.max(J,z);const q=se.get(J),oe=U.getClosestInfoForScale(J),pe=oe.getColumnForX(this.state.center[0]),de=oe.getRowForY(this.state.center[1]);return q.sort((be,me)=>{const _e=oe.denormalizeCol(be.col,be.world),le=oe.denormalizeCol(me.col,me.world);return Math.sqrt((pe-_e)*(pe-_e)+(de-be.row)*(de-be.row))-Math.sqrt((pe-le)*(pe-le)+(de-me.row)*(de-me.row))}),ne.clear(),se.clear(),q[0].id}_peekByCenterFirst(V){if(!this.state)return V.values().next().value;const U=this.tileInfoView,$=this.state.center;let z,J=Number.POSITIVE_INFINITY;return V.forEach(q=>{const oe=this._keyToItem.get(q);U.getTileCoords(ie,oe.key);const pe=(0,Z.d)(ie,$);pe<J&&(J=pe,z=oe.key)}),z.id}};(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"concurrency",void 0),(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"process",void 0),(0,w._)([(0,B.Cb)()],te.prototype,"state",void 0),(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"strategy",void 0),(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"tileInfoView",void 0),(0,w._)([(0,B.Cb)({readOnly:!0})],te.prototype,"updating",null),te=(0,w._)([(0,ee.j)("esri.views.2d.tiling.PagedTileQueue")],te)},84378:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(27899);class O{constructor(){this.spans=[]}acquire(B){this.lodInfo=B}release(){this.lodInfo=null,this.spans.length=0}forEach(B,k){const{spans:re,lodInfo:ee}=this,{level:Z}=ee;if(0!==re.length)for(const{row:G,colFrom:Y,colTo:ne}of re)for(let ae=Y;ae<=ne;ae++)B.call(k,Z,G,ee.normalizeCol(ae),ee.getWorldForColumn(ae))}}O.pool=new w.Z(O)},9598:(j,F,T)=>{"use strict";T.d(F,{Z:()=>te});var w=T(37053),O=T(62208),W=T(58098);function B(Q,V){return[Q,V]}function k(Q,V,U){return Q[0]=V,Q[1]=U,Q}const ee=new W.Z("0/0/0/0");class Z{static create(V,U,$=null){const z=(0,w.C5)(V.spatialReference),J=U.origin||B(V.origin.x,V.origin.y),q=B(V.size[0]*U.resolution,V.size[1]*U.resolution),oe=B(-1/0,-1/0),pe=B(1/0,1/0),de=B(1/0,1/0);(0,O.pC)($)&&(k(oe,Math.max(0,Math.floor(($.xmin-J[0])/q[0])),Math.max(0,Math.floor((J[1]-$.ymax)/q[1]))),k(pe,Math.max(0,Math.floor(($.xmax-J[0])/q[0])),Math.max(0,Math.floor((J[1]-$.ymin)/q[1]))),k(de,pe[0]-oe[0]+1,pe[1]-oe[1]+1));const{cols:be,rows:me}=U;let _e,le,fe,Ee;return!$&&be&&me&&(k(oe,be[0],me[0]),k(pe,be[1],me[1]),k(de,be[1]-be[0]+1,me[1]-me[0]+1)),V.isWrappable?(_e=B(Math.ceil(Math.round((z.valid[1]-z.valid[0])/U.resolution)/V.size[0]),de[1]),le=B(Math.floor((z.origin[0]-J[0])/q[0]),oe[1]),fe=B(_e[0]+le[0]-1,pe[1]),Ee=!0):(le=oe,fe=pe,_e=de,Ee=!1),new Z(U.level,U.resolution,U.scale,J,oe,pe,de,q,le,fe,_e,Ee)}constructor(V,U,$,z,J,q,oe,pe,de,be,me,_e){this.level=V,this.resolution=U,this.scale=$,this.origin=z,this.first=J,this.last=q,this.size=oe,this.norm=pe,this.worldStart=de,this.worldEnd=be,this.worldSize=me,this.wrap=_e}normalizeCol(V){if(!this.wrap)return V;const U=this.worldSize[0];return V<0?U-1-Math.abs((V+1)%U):V%U}denormalizeCol(V,U){return this.wrap?this.worldSize[0]*U+V:V}getWorldForColumn(V){return this.wrap?Math.floor(V/this.worldSize[0]):0}getFirstColumnForWorld(V){return V*this.worldSize[0]+this.first[0]}getLastColumnForWorld(V){return V*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(V){return(V-this.origin[0])/this.norm[0]}getXForColumn(V){return this.origin[0]+V*this.norm[0]}getRowForY(V){return(this.origin[1]-V)/this.norm[1]}getYForRow(V){return this.origin[1]-V*this.norm[1]}getTileBounds(V,U,$=!1){ee.set(U);const z=$?ee.col:this.denormalizeCol(ee.col,ee.world),J=ee.row;return function re(Q,V,U,$,z){Q[0]=V,Q[1]=U,Q[2]=$,Q[3]=z}(V,this.getXForColumn(z),this.getYForRow(J+1),this.getXForColumn(z+1),this.getYForRow(J)),V}getTileCoords(V,U,$=!1){ee.set(U);const z=$?ee.col:this.denormalizeCol(ee.col,ee.world);return Array.isArray(V)?k(V,this.getXForColumn(z),this.getYForRow(ee.row)):(V.x=this.getXForColumn(z),V.y=this.getYForRow(ee.row)),V}}var G=T(84378);class Y{constructor(V,U,$){this.row=V,this.colFrom=U,this.colTo=$}}const ne=new W.Z("0/0/0/0");class ae{static create(V,U){V[1]>U[1]&&([V,U]=[U,V]);const[$,z]=V,[J,q]=U,oe=J-$,pe=q-z,de=0!==pe?oe/pe:0,be=(Math.ceil(z)-z)*de,me=(Math.floor(z)-z)*de;return new ae($,Math.floor(z),Math.ceil(q),de,oe<0?be:me,oe<0?me:be,oe<0?J:$,oe<0?$:J)}constructor(V,U,$,z,J,q,oe,pe){this.x=V,this.ymin=U,this.ymax=$,this.invM=z,this.leftAdjust=J,this.rightAdjust=q,this.leftBound=oe,this.rightBound=pe}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const se=[[0,0],[0,0],[0,0],[0,0]];class te{constructor(V,U=null){this.tileInfo=V,this.fullExtent=U,this.scales=[],this._infoByScale={},this._infoByLevel={};const $=V.lods.slice();$.sort((J,q)=>q.scale-J.scale);const z=this._lodInfos=$.map(J=>Z.create(V,J,U));$.forEach((J,q)=>{this._infoByLevel[J.level]=z[q],this._infoByScale[J.scale]=z[q],this.scales[q]=J.scale},this),this._wrap=V.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(V){return this._infoByLevel["number"==typeof V?V:V.level]}getTileBounds(V,U,$=!1){ne.set(U);const z=this._infoByLevel[ne.level];return z?z.getTileBounds(V,ne,$):V}getTileCoords(V,U,$=!1){ne.set(U);const z=this._infoByLevel[ne.level];return z?z.getTileCoords(V,ne,$):V}getTileCoverage(V,U=192,$="closest"){const z="closest"===$?this.getClosestInfoForScale(V.scale):this.getSmallestInfoForScale(V.scale),J=G.Z.pool.acquire(z),q=this._wrap;let oe,pe,de,be=1/0,me=-1/0;const _e=J.spans;se[0][0]=se[0][1]=se[1][1]=se[3][0]=-U,se[1][0]=se[2][0]=V.size[0]+U,se[2][1]=se[3][1]=V.size[1]+U;for(const ye of se)V.toMap(ye,ye),ye[0]=z.getColumnForX(ye[0]),ye[1]=z.getRowForY(ye[1]);const le=[];let fe=3;for(let ye=0;ye<4;ye++){if(se[ye][1]===se[fe][1]){fe=ye;continue}const ue=ae.create(se[ye],se[fe]);be=Math.min(ue.ymin,be),me=Math.max(ue.ymax,me),void 0===le[ue.ymin]&&(le[ue.ymin]=[]),le[ue.ymin].push(ue),fe=ye}if(null==be||null==me||me-be>100)return null;let Ee=[];for(oe=be;oe<me;){null!=le[oe]&&(Ee=Ee.concat(le[oe])),pe=1/0,de=-1/0;for(let ye=Ee.length-1;ye>=0;ye--){const ue=Ee[ye];pe=Math.min(pe,ue.getLeftCol()),de=Math.max(de,ue.getRightCol())}if(pe=Math.floor(pe),de=Math.floor(de),oe>=z.first[1]&&oe<=z.last[1])if(q)if(z.size[0]<z.worldSize[0]){const ye=Math.floor(de/z.worldSize[0]);for(let ue=Math.floor(pe/z.worldSize[0]);ue<=ye;ue++)_e.push(new Y(oe,Math.max(z.getFirstColumnForWorld(ue),pe),Math.min(z.getLastColumnForWorld(ue),de)))}else _e.push(new Y(oe,pe,de));else pe>z.last[0]||de<z.first[0]||(pe=Math.max(pe,z.first[0]),de=Math.min(de,z.last[0]),_e.push(new Y(oe,pe,de)));oe+=1;for(let ye=Ee.length-1;ye>=0;ye--){const ue=Ee[ye];ue.ymax>=oe?ue.incrRow():Ee.splice(ye,1)}}return J}getTileParentId(V){ne.set(V);const $=this._lodInfos.indexOf(this._infoByLevel[ne.level])-1;return $<0?null:(this._getTileIdAtLOD(ne,this._lodInfos[$],ne),ne.id)}getTileResolution(V){const U=this._infoByLevel["object"==typeof V?V.level:V];return U?U.resolution:-1}getTileScale(V){const U=this._infoByLevel[V.level];return U?U.scale:-1}intersects(V,U){ne.set(U);const $=this._infoByLevel[ne.level],z=V.lodInfo;if(z.resolution>$.resolution){this._getTileIdAtLOD(ne,z,ne);const q=z.denormalizeCol(ne.col,ne.world);for(const oe of V.spans)if(oe.row===ne.row&&oe.colFrom<=q&&oe.colTo>=q)return!0}if(z.resolution<$.resolution){const[q,oe,pe,de]=V.spans.reduce((Ee,ye)=>(Ee[0]=Math.min(Ee[0],ye.row),Ee[1]=Math.max(Ee[1],ye.row),Ee[2]=Math.min(Ee[2],ye.colFrom),Ee[3]=Math.max(Ee[3],ye.colTo),Ee),[1/0,-1/0,1/0,-1/0]),be=$.denormalizeCol(ne.col,ne.world),me=z.getColumnForX($.getXForColumn(be)),_e=z.getRowForY($.getYForRow(ne.row)),le=z.getColumnForX($.getXForColumn(be+1))-1,fe=z.getRowForY($.getYForRow(ne.row+1))-1;return!(me>de||le<pe||_e>oe||fe<q)}const J=z.denormalizeCol(ne.col,ne.world);return V.spans.some(q=>q.row===ne.row&&q.colFrom<=J&&q.colTo>=J)}normalizeBounds(V,U,$){if(V[0]=U[0],V[1]=U[1],V[2]=U[2],V[3]=U[3],this._wrap){const z=(0,w.C5)(this.tileInfo.spatialReference),J=-$*(z.valid[1]-z.valid[0]);V[0]+=J,V[2]+=J}return V}getSmallestInfoForScale(V){const U=this.scales;if(this._infoByScale[V])return this._infoByScale[V];if(V>U[0])return this._infoByScale[U[0]];for(let $=1;$<U.length-1;$++)if(V>U[$]+1e-6)return this._infoByScale[U[$-1]];return this._infoByScale[U[U.length-1]]}getClosestInfoForScale(V){const U=this.scales;return this._infoByScale[V]||(V=U.reduce(($,z)=>Math.abs(z-V)<Math.abs($-V)?z:$,U[0])),this._infoByScale[V]}scaleToLevel(V){const U=this.scales;if(this._infoByScale[V])return this._infoByScale[V].level;for(let $=U.length-1;$>=0;$--)if(V<U[$])return $===U.length-1?this._infoByScale[U[U.length-1]].level:this._infoByScale[U[$]].level+(U[$]-V)/(U[$]-U[$+1]);return this._infoByScale[U[0]].level}scaleToZoom(V){return this.tileInfo.scaleToZoom(V)}_getTileIdAtLOD(V,U,$){const z=this._infoByLevel[$.level];return V.set($),U.resolution<z.resolution?null:(U.resolution===z.resolution||(V.level=U.level,V.col=Math.floor($.col*z.resolution/U.resolution+.01),V.row=Math.floor($.row*z.resolution/U.resolution+.01)),V)}}},58098:(j,F,T)=>{"use strict";T.d(F,{Z:()=>O});var w=T(27899);class O{static getId(B,k,re,ee){return"object"==typeof B?`${B.level}/${B.row}/${B.col}/${B.world}`:`${B}/${k}/${re}/${ee}`}constructor(B,k,re,ee){this.set(B,k,re,ee)}get key(){return this}get id(){return this.toString()}set id(B){this.set(B)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(B,k,re,ee){this.set(B,k,re,ee)}contains(B){const k=B.level-this.level;return k>=0&&this.row===B.row>>k&&this.col===B.col>>k&&this.world===B.world}equals(B){return this.level===B.level&&this.row===B.row&&this.col===B.col&&this.world===B.world}clone(){return new O(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(B,k,re,ee){if(null==B)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof B)this.level=B.level||0,this.row=B.row||0,this.col=B.col||0,this.world=B.world||0;else if("string"==typeof B){const[Z,G,Y,ne]=B.split("/");this.level=parseFloat(Z),this.row=parseFloat(G),this.col=parseFloat(Y),this.world=parseFloat(ne)}else this.level=+B,this.row=+k,this.col=+re,this.world=+ee||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new O(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const B=this.level+1,k=this.row<<1,re=this.col<<1,ee=this.world;return[new O(B,k,re,ee),new O(B,k,re+1,ee),new O(B,k+1,re,ee),new O(B,k+1,re+1,ee)]}compareRowMajor(B){return this.row<B.row?-1:this.row>B.row?1:this.col<B.col?-1:this.col>B.col?1:0}}O.pool=new w.Z(O,null,null,25,50)},8480:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Q});var w=T(17626),O=T(14517),W=T(62208),B=T(77712),ee=(T(90912),T(85931),T(76898)),Z=T(67831),G=T(71251);const ne=new Set,ae=[],se=new Map,ie=[0,0];let te=class extends O.Z{constructor(V){super(V),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:V,process:U,strategy:$}=this;this._queue=new G.e({concurrency:V,process:(z,J)=>{const q=this._keyToItem.get(z);return U(q,{signal:J})},peeker:"scale-first"===$?z=>this._peekByScaleFirst(z):z=>this._peekByCenterFirst(z)})}destroy(){this.clear(),this._queue=(0,W.SC)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(V){this._queue.abort("string"==typeof V?V:V.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(V){return this._keyToItem.has("string"==typeof V?V:V.id)}isOngoing(V){const U="string"==typeof V?V:V.id;return this.has(U)&&this._queue.isOngoing(U)}pause(){this._queue.pause()}push(V){const U=V.key.id;if(this._queue.has(U))return this._queue.get(U);const $=this._queue.push(U),z=()=>{this._keyToItem.delete(U),this.notifyChange("updating")};return this._keyToItem.set(U,V),$.then(z,z),this.notifyChange("updating"),$}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(V){if(!this.state)return V.values().next().value;const U=this.tileInfoView;let $=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY;V.forEach(be=>{const me=this._keyToItem.get(be),_e=this.tileInfoView.getTileScale(me.key);se.has(_e)||(se.set(_e,[]),$=Math.max(_e,$),z=Math.min(_e,z)),se.get(_e).push(me.key),ne.add(_e)});let J=this.state.scale;se.has(J)||(function Y(V,U){V.length=0,U.forEach($=>V.push($))}(ae,ne),ae.sort((be,me)=>be-me),J=ae.reduce((be,me)=>Math.abs(me-J)<Math.abs(be-J)?me:be,ae[0])),J=Math.min(J,$),J=Math.max(J,z);const q=se.get(J),oe=U.getClosestInfoForScale(J),pe=oe.getColumnForX(this.state.center[0]),de=oe.getRowForY(this.state.center[1]);return q.sort((be,me)=>{const _e=oe.denormalizeCol(be.col,be.world),le=oe.denormalizeCol(me.col,me.world);return Math.sqrt((pe-_e)*(pe-_e)+(de-be.row)*(de-be.row))-Math.sqrt((pe-le)*(pe-le)+(de-me.row)*(de-me.row))}),ne.clear(),se.clear(),q[0].id}_peekByCenterFirst(V){if(!this.state)return V.values().next().value;const U=this.tileInfoView,$=this.state.center;let z,J=Number.POSITIVE_INFINITY;return V.forEach(q=>{const oe=this._keyToItem.get(q);U.getTileCoords(ie,oe.key);const pe=(0,Z.d)(ie,$);pe<J&&(J=pe,z=oe.key)}),z.id}};(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"concurrency",void 0),(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"process",void 0),(0,w._)([(0,B.Cb)()],te.prototype,"state",void 0),(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"strategy",void 0),(0,w._)([(0,B.Cb)({constructOnly:!0})],te.prototype,"tileInfoView",void 0),(0,w._)([(0,B.Cb)({readOnly:!0})],te.prototype,"updating",null),te=(0,w._)([(0,ee.j)("esri.views.2d.tiling.TileQueue")],te);const Q=te},79527:(j,F,T)=>{"use strict";T.d(F,{Z:()=>ne});var w=T(65401),O=T(67831);class W{constructor(se,ie,te){this.maxSize=se,this._tileInfoView=ie,this._removedFunc=te,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(se){return this._tilePerId.has(se)}get(se){return this._tilePerId.get(se)}pop(se){const ie=this._tilePerId.get(se);if(!ie)return;const Q=this._tileKeysPerLevel[ie.key.level];B(this._tilePerId,se);for(let V=0;V<Q.length;V++)if(Q[V].id===se){Q.splice(V,1);break}return ie.visible=!0,ie}add(se){se.visible=!1;const ie=se.key,te=ie.id;if(this._tilePerId.has(te))return;this._tilePerId.set(te,se);const Q=ie.level;this._tileKeysPerLevel[Q]||(this._tileKeysPerLevel[Q]=[]),this._tileKeysPerLevel[Q].push(ie)}prune(se,ie,te){let Q=this._tilePerId.size;if(Q<=this.maxSize)return;let V=this._tileKeysPerLevel.length-1;for(;Q>this.maxSize&&V>=0;)V!==se&&(Q=this._pruneAroundCenterTile(Q,ie,te,V)),V--;Q>this.maxSize&&(Q=this._pruneAroundCenterTile(Q,ie,te,se))}_pruneAroundCenterTile(se,ie,te,Q){const V=this._tileKeysPerLevel[Q];if(!V||0===V.length)return se;const{size:U,origin:$}=this._tileInfoView.tileInfo,z=te*U[0],J=te*U[1],q=[0,0],oe=[0,0];for(V.sort((pe,de)=>(q[0]=$.x+z*(pe.col+.5),q[1]=$.y-J*(pe.row+.5),oe[0]=$.x+z*(de.col+.5),oe[1]=$.y-J*(de.row+.5),(0,O.k)(q,ie)-(0,O.k)(oe,ie)));V.length>0;){const pe=V.pop();if(this._removeTile(pe.id),--se===this.maxSize)break}return se}_removeTile(se){const ie=this._tilePerId.get(se);this._removedFunc&&ie&&this._removedFunc(ie),B(this._tilePerId,se)}}function B(ae,se){ae.delete(se)}var k=T(84378);const ee=new(T(58098).Z)(0,0,0,0),Z=new Map,G=[],Y=[];class ne{constructor(se){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=se.acquireTile,this.releaseTile=se.releaseTile,this.tileInfoView=se.tileInfoView,this.resampling=null==se.resampling||!!se.resampling,se.cachePolicy&&(this.cachePolicy=se.cachePolicy),se.coveragePolicy&&(this.coveragePolicy=se.coveragePolicy),null!=se.buffer&&(this.buffer=se.buffer),se.cacheSize&&(this._tileCache=new W(se.cacheSize,this.tileInfoView,ie=>{this.releaseTile(ie)}))}destroy(){this.tileIndex.clear()}update(se){const{resampling:ie,tileIndex:te}=this,Q=this.tileInfoView.getTileCoverage(se.state,this.buffer,this.coveragePolicy);if(Y.length=0,G.length=0,Z.clear(),!Q)return;const{minScale:V,maxScale:U}=this.tileInfoView.tileInfo,{spans:$,lodInfo:z}=Q,{level:J}=z,{scale:q,center:oe,resolution:pe}=se.state,de=!se.stationary&&q>this._previousScale;if(this._previousScale=q,this.tiles.length=0,!ie&&(q>V||q<U))return this.tiles.length=0,Z.clear(),te.forEach(le=>{this.releaseTile(le)}),te.clear(),Y.length=0,G.length=0,Z.clear(),k.Z.pool.release(Q),!0;te.forEach(le=>le.visible=!0);let be=0,me=0;if($.length>0)for(const{row:le,colFrom:fe,colTo:Ee}of $)for(let ye=fe;ye<=Ee;ye++){be++;const ue=ee.set(J,le,z.normalizeCol(ye),z.getWorldForColumn(ye)).id;if(te.has(ue)){const Me=te.get(ue);Me.isReady?(Z.set(ue,Me),me++):de||this._addParentTile(ue,Z)}else{let Me;if(this._tileCache&&this._tileCache.has(ue)){if(Me=this._tileCache.pop(ue),this.tileIndex.set(ue,Me),Me.isReady){Z.set(ue,Me),me++;continue}}else Me=this.acquireTile(ee),this.tileIndex.set(ue,Me);de||this._addParentTile(ue,Z)}}const _e=me===be;te.forEach((le,fe)=>{if(ee.set(fe),Z.has(fe))return;const Ee=this.tileInfoView.intersects(Q,ee),ye="purge"===this.cachePolicy?ee.level!==J:ee.level>J;!Ee||!de&&_e?!ye&&Ee||G.push(fe):le.isReady?ye&&"purge"===this.cachePolicy&&this._hasReadyAncestor(ee,J)?G.push(fe):Y.push(fe):ye&&G.push(fe)});for(const le of Y){const fe=te.get(le);fe&&fe.isReady&&Z.set(le,fe)}for(const le of G){const fe=te.get(le);this._tileCache?this._tileCache.add(fe):this.releaseTile(fe),te.delete(le)}return Z.forEach(le=>this.tiles.push(le)),te.forEach(le=>{Z.has(le.key.id)||(le.visible=!1)}),this._tileCache&&this._tileCache.prune(J,oe,pe),k.Z.pool.release(Q),Z.clear(),_e}clear(se=!0){const{tileIndex:ie}=this;se&&ie.forEach(te=>{this.releaseTile(te)}),ie.clear()}updateCacheSize(se){this._tileCache&&(this._tileCache.maxSize=se)}_addParentTile(se,ie){let te=se,Q=null;for(;te=this.tileInfoView.getTileParentId(te),te;)if(this.tileIndex.has(te)){if(Q=this.tileIndex.get(te),Q&&Q.isReady){ie.has(Q.key.id)||ie.set(Q.key.id,Q);break}}else if(this._tileCache&&this._tileCache.has(te)&&(Q=this._tileCache.pop(te),this.tileIndex.set(te,Q),Q&&Q.isReady)){ie.has(Q.key.id)||ie.set(Q.key.id,Q);break}}_hasReadyAncestor(se,ie){const te=(0,w.Ue)();this.tileInfoView.getTileBounds(te,se,!0);for(const Q of this.tileIndex.values())if(Q.isReady&&Q.key.level>=ie&&Q.key.level<se.level){const V=(0,w.Ue)();if(this.tileInfoView.getTileBounds(V,Q.key,!0),(0,w.r3)(V,te))return!0}return!1}}},78041:(j,F,T)=>{"use strict";function w(k,re,ee,Z){const G=3*k,Y=3*(ee-k)-G,ne=1-G-Y,ae=3*re,se=3*(Z-re)-ae,ie=1-ae-se;function te($){return((ne*$+Y)*$+G)*$}function V($){return(3*ne*$+2*Y)*$+G}return function($,z=1e-6){return function Q($){return((ie*$+se)*$+ae)*$}(function U($,z){let J,q,oe,pe,de,be;for(oe=$,be=0;be<8;be++){if(pe=te(oe)-$,Math.abs(pe)<z)return oe;if(de=V(oe),Math.abs(de)<1e-6)break;oe-=pe/de}if(J=0,q=1,oe=$,oe<J)return J;if(oe>q)return q;for(;J<q;){if(pe=te(oe),Math.abs(pe-$)<z)return oe;$>pe?J=oe:q=oe,oe=.5*(q-J)+J}return oe}($,z))}}T.d(F,{LI:()=>W,Qc:()=>B,n_:()=>w});const O=/^cubic-bezier\((.*)\)/,W={};function B(k){let re=W[k]||null;if(!re){const ee=O.exec(k);if(ee){const Z=ee[1].split(",").map(G=>parseFloat(G.trim()));4!==Z.length||Z.some(G=>isNaN(G))||(re=w.apply(w,Z))}}return re}W.ease=w(.25,.1,.25,1),W.linear=w(0,0,1,1),W.easeIn=W["ease-in"]=w(.42,0,1,1),W.easeOut=W["ease-out"]=w(0,0,.58,1),W.easeInOut=W["ease-in-out"]=w(.42,0,.58,1)},24926:(j,F,T)=>{"use strict";T.d(F,{$H:()=>lt,Ck:()=>Le,Dq:()=>ce,EK:()=>oe,H4:()=>xe,Hy:()=>Be,JG:()=>fe,Jp:()=>Oe,L2:()=>ke,Rb:()=>Ne,Rx:()=>we,SI:()=>Qe,UZ:()=>Ge,Ue:()=>_e,YQ:()=>ve,bk:()=>ye,dI:()=>Ye,gG:()=>$e,ni:()=>Ee,o2:()=>We,qf:()=>ue,uG:()=>Pe,ut:()=>Ue});var w=T(15861),O=T(85807),W=T(74333),B=T(62208),k=T(16730),re=T(39863),ee=T(31478),Z=T(46342),G=T(67831),Y=T(99770),ne=T(2004),ae=T(21674),se=T(72642),ie=T(55915),te=T(65234),Q=T(37053);const $=180/Math.PI;function z(tt){return tt.wkid?tt:tt.spatialReference||te.Z.WGS84}function J(tt,pt){return pt.type?(0,G.s)(tt,pt.x,pt.y):(0,G.c)(tt,pt)}function q(tt){return(0,k.c9)(tt)}function oe(tt,pt){const Pt=Math.max(1,pt[0]),mt=Math.max(1,pt[1]);return Math.max(tt.width/Pt,tt.height/mt)*function Ce(tt){return(0,Q.JY)(tt)?39.37*q(tt)*96:1}(tt.spatialReference)}function pe(tt,pt,Pt,mt){return de.apply(this,arguments)}function de(){return(de=(0,w.Z)(function*(tt,pt,Pt,mt){let St,ut;if(!tt||Array.isArray(tt)&&!tt.length)return null;if(W.Z.isCollection(tt)&&(tt=tt.toArray()),Array.isArray(tt)&&tt.length&&"object"==typeof tt[0]){const Ct=tt.every(bn=>"attributes"in bn),Rt=tt.some(bn=>!bn.geometry);let Gt=tt;if(Ct&&Rt&&pt&&pt.allLayerViews){const bn=new Map;for(const an of tt){const Fn=an.layer,zn=bn.get(Fn)||[],rr=an.attributes[Fn.objectIdField];null!=rr&&zn.push(rr),bn.set(Fn,zn)}const Mn=[];bn.forEach((an,Fn)=>{const zn=pt.allLayerViews.find(rr=>rr.layer.id===Fn.id);if(zn&&"queryFeatures"in zn){const rr=Fn.createQuery();rr.objectIds=an,rr.returnGeometry=!0,Mn.push(zn.queryFeatures(rr))}});const Dn=yield Promise.all(Mn),Kn=[];for(const an of Dn)if(an&&an.features&&an.features.length)for(const Fn of an.features)(0,B.pC)(Fn.geometry)&&Kn.push(Fn.geometry);Gt=Kn}for(const bn of Gt)mt=yield pe(bn,pt,Pt,mt);return mt}if(Array.isArray(tt)&&2===tt.length&&"number"==typeof tt[0]&&"number"==typeof tt[1])St=new se.Z(tt);else if(tt instanceof ae.Z)St=tt;else if("geometry"in tt)if(tt.geometry)St=tt.geometry;else if(tt.layer){const Ct=tt.layer,Rt=pt.allLayerViews.find(Gt=>Gt.layer.id===Ct.id);if(Rt&&"queryFeatures"in Rt){const Gt=Ct.createQuery();Gt.objectIds=[tt.attributes[Ct.objectIdField]],Gt.returnGeometry=!0;const bn=yield Rt.queryFeatures(Gt);St=(0,B.U2)(bn,"features",0,"geometry")}}if((0,B.Wi)(St)||(ut="point"===St.type?new ne.Z({xmin:St.x,ymin:St.y,xmax:St.x,ymax:St.y,spatialReference:St.spatialReference}):St.extent,!ut))return null;(0,ie.kR)()||(0,ie.Up)(ut.spatialReference,Pt)||(yield(0,ie.zD)());const _t=(0,ie.iV)(ut,Pt);return _t?mt=mt?mt.union(_t):_t:null})).apply(this,arguments)}function be(tt){if(tt&&(!Array.isArray(tt)||"number"!=typeof tt[0])&&("object"==typeof tt||Array.isArray(tt)&&"object"==typeof tt[0])){if("layer"in tt&&tt.layer&&tt.layer.minScale&&tt.layer.maxScale){const pt=tt.layer;return{min:pt.minScale,max:pt.maxScale}}if(Array.isArray(tt)&&tt.length&&tt.every(pt=>"layer"in pt)){let pt=0,Pt=0;for(const mt of tt){const St=mt.layer;St&&St.minScale&&St.maxScale&&(pt=St.minScale<pt?St.minScale:pt,Pt=St.maxScale>Pt?St.maxScale:Pt)}return pt&&Pt?{min:pt,max:Pt}:null}}}function me(tt,pt){return(0,Q.fS)(z(tt),pt)?tt:(0,ie.iV)(tt,pt)}function _e(tt,pt){return le.apply(this,arguments)}function le(){return(le=(0,w.Z)(function*(tt,pt){if(!tt||!pt)return new O.Z({targetGeometry:new se.Z,scale:0,rotation:0});let Pt=pt.spatialReference;const{constraints:mt,padding:St,viewpoint:ut,size:_t}=pt,Ct=[St?_t[0]-St.left-St.right:_t[0],St?_t[1]-St.top-St.bottom:_t[1]];let Rt=null;tt instanceof O.Z?Rt=tt:tt.viewpoint?Rt=tt.viewpoint:tt.target&&"esri.Viewpoint"===tt.target.declaredClass&&(Rt=tt.target);let Gt=null;Rt&&Rt.targetGeometry?Gt=Rt.targetGeometry:tt instanceof ne.Z?Gt=tt:(tt||tt&&("center"in tt||"extent"in tt||"target"in tt))&&(Gt=(yield pe(tt.center,pt,Pt))||(yield pe(tt.extent,pt,Pt))||(yield pe(tt.target,pt,Pt))||(yield pe(tt,pt,Pt))),!Gt&&ut&&ut.targetGeometry?Gt=ut.targetGeometry:!Gt&&pt.extent&&(Gt=pt.extent),Pt||(Pt=z(pt.spatialReference||pt.extent||Gt)),(0,ie.kR)()||(0,Q.fS)(Gt.spatialReference,Pt)||(0,ie.Up)(Gt,Pt)||(yield(0,ie.zD)());const bn=me(Gt.center?Gt.center:Gt,Pt);let Mn=0;if(Rt&&(0,B.pC)(Rt.targetGeometry)&&"point"===Rt.targetGeometry.type)Mn=Rt.scale;else if("scale"in tt&&tt.scale)Mn=tt.scale;else if("zoom"in tt&&-1!==tt.zoom&&mt&&mt.effectiveLODs)Mn=mt.zoomToScale(tt.zoom);else if(Array.isArray(Gt)||"point"===Gt.type||"extent"===Gt.type&&0===Gt.width&&0===Gt.height){const Fn=me(pt.extent,Pt);Mn=(0,B.pC)(Fn)?oe(Fn,Ct):pt.extent?oe(pt.extent,Ct):ut.scale}else Mn=oe(me(Gt.extent,Pt),Ct);const Dn=be(tt);Dn&&(Dn.min&&Dn.min>Mn?Mn=Dn.min:Dn.max&&Dn.max<Mn&&(Mn=Dn.max));let Kn=0;Rt?Kn=Rt.rotation:tt.hasOwnProperty("rotation")?Kn=tt.rotation:ut&&(Kn=ut.rotation);let an=new O.Z({targetGeometry:bn,scale:Mn,rotation:Kn});return mt&&(an=mt.fit(an),mt.constrainByGeometry(an),mt.rotationEnabled||(an.rotation=Kn)),an})).apply(this,arguments)}function fe(tt,pt){const Pt=tt.targetGeometry,mt=pt.targetGeometry;return Pt.x=mt.x,Pt.y=mt.y,Pt.spatialReference=mt.spatialReference,tt.scale=pt.scale,tt.rotation=pt.rotation,tt}function Ee(tt,pt,Pt){return Pt?(0,G.s)(tt,.5*(pt[0]-Pt.right+Pt.left),.5*(pt[1]-Pt.bottom+Pt.top)):(0,G.b)(tt,pt,.5)}const ye=function(){const tt=(0,Y.a)();return function(pt,Pt,mt){const St=Pt.targetGeometry;J(tt,St);const ut=.5*Pe(Pt);return pt.xmin=tt[0]-ut*mt[0],pt.ymin=tt[1]-ut*mt[1],pt.xmax=tt[0]+ut*mt[0],pt.ymax=tt[1]+ut*mt[1],pt.spatialReference=St.spatialReference,pt}}();function ue(tt,pt,Pt,mt,St){return We(tt,pt,Pt.center),tt.scale=oe(Pt,mt),St&&St.constraints&&St.constraints.constrain(tt),tt}const ce=function(){const tt=(0,Y.a)();return function(pt,Pt,mt){return(0,G.e)(pt,function Fe(tt,pt){return(0,G.b)(tt,pt,.5)}(pt,Pt),Ee(tt,Pt,mt))}}(),ge=function(){const tt=(0,Z.c)(),pt=(0,Y.a)();return function(Pt,mt,St,ut){const _t=Pe(mt),Ct=Re(mt);return(0,G.s)(pt,_t,_t),(0,ee.f)(tt,pt),(0,ee.r)(tt,tt,Ct),(0,ee.t)(tt,tt,ce(pt,St,ut)),(0,ee.t)(tt,tt,[0,ut.top-ut.bottom]),(0,G.s)(Pt,tt[4],tt[5])}}();function Pe(tt){return tt.scale*function Ie(tt){return(0,B.pC)(tt)&&(0,Q.JY)(tt.spatialReference)?1/(39.37*q(tt.spatialReference)*96):1}(tt.targetGeometry)}function Re(tt){return(0,re.t)(tt.rotation)||0}const Ne=function(){const tt=(0,Y.a)(),pt=(0,Y.a)(),Pt=(0,Y.a)();return function(mt,St,ut,_t,Ct,Rt){return(0,G.n)(tt,St),(0,G.b)(pt,ut,.5*Rt),(0,G.s)(Pt,1/_t*Rt,-1/_t*Rt),(0,ee.a)(mt,pt),Ct&&(0,ee.r)(mt,mt,Ct),(0,ee.s)(mt,mt,Pt),(0,ee.t)(mt,mt,tt),mt}}(),Le=function(){const tt=(0,Y.a)();return function(pt,Pt,mt,St){const ut=Pe(Pt),_t=Re(Pt);return J(tt,Pt.targetGeometry),Ne(pt,tt,mt,ut,_t,St)}}(),Oe=function(){const tt=(0,Y.a)();return function(pt,Pt,mt,St){const ut=Pe(Pt);return J(tt,Pt.targetGeometry),Ne(pt,tt,mt,ut,0,St)}}();function Ue(tt){const pt=(0,Q.C5)(tt);return pt?pt.valid[1]-pt.valid[0]:0}function ke(tt,pt){return Math.round(Ue(tt)/pt)}const Ye=function(){const tt=(0,Y.a)(),pt=(0,Y.a)(),Pt=[0,0,0];return function(mt,St,ut){(0,G.a)(tt,mt,St),(0,G.f)(tt,tt),(0,G.a)(pt,mt,ut),(0,G.f)(pt,pt),(0,G.g)(Pt,tt,pt);let _t=Math.acos((0,G.h)(tt,pt)/((0,G.i)(tt)*(0,G.i)(pt)))*$;return Pt[2]<0&&(_t=-_t),isNaN(_t)&&(_t=0),_t}}(),xe=function(){const tt=(0,Y.a)();return function(pt,Pt,mt,St){const ut=pt.targetGeometry;return fe(pt,Pt),ge(tt,Pt,mt,St),ut.x+=tt[0],ut.y+=tt[1],pt}}(),We=function(tt,pt,Pt){fe(tt,pt);const mt=tt.targetGeometry;return mt.x=Pt.x,mt.y=Pt.y,mt.spatialReference=Pt.spatialReference,tt},Qe=function(){const tt=(0,Y.a)();return function(pt,Pt,mt,St,ut){ut||(ut="center"),(0,G.e)(tt,mt,St),(0,G.b)(tt,tt,.5);const _t=tt[0],Ct=tt[1];switch(ut){case"center":(0,G.s)(tt,0,0);break;case"left":(0,G.s)(tt,-_t,0);break;case"top":(0,G.s)(tt,0,Ct);break;case"right":(0,G.s)(tt,_t,0);break;case"bottom":(0,G.s)(tt,0,-Ct);break;case"top-left":(0,G.s)(tt,-_t,Ct);break;case"bottom-left":(0,G.s)(tt,-_t,-Ct);break;case"top-right":(0,G.s)(tt,_t,Ct);break;case"bottom-right":(0,G.s)(tt,_t,-Ct)}return we(pt,Pt,tt),pt}}();function lt(tt,pt,Pt){return fe(tt,pt),tt.rotation+=Pt,tt}function ve(tt,pt,Pt){return fe(tt,pt),tt.rotation=Pt,tt}const Te=function(){const tt=(0,Y.a)();return function(pt,Pt,mt,St,ut){return fe(pt,Pt),isNaN(mt)||0===mt||(Xe(tt,St,Pt,ut),pt.scale=Pt.scale*mt,at(tt,tt,pt,ut),we(pt,pt,(0,G.s)(tt,tt[0]-St[0],St[1]-tt[1]))),pt}}();function Be(tt,pt,Pt){return fe(tt,pt),tt.scale=Pt,tt}const Ge=function(){const tt=(0,Y.a)();return function(pt,Pt,mt,St,ut,_t){return fe(pt,Pt),isNaN(mt)||0===mt||(Xe(tt,ut,Pt,_t),pt.scale=Pt.scale*mt,pt.rotation+=St,at(tt,tt,pt,_t),we(pt,pt,(0,G.s)(tt,tt[0]-ut[0],ut[1]-tt[1]))),pt}}(),$e=function(){const tt=(0,Y.a)(),pt=(0,Y.a)();return function(Pt,mt,St,ut,_t,Ct,Rt){return ce(pt,Ct,Rt),(0,G.j)(tt,_t,pt),ut?Ge(Pt,mt,St,ut,tt,Ct):Te(Pt,mt,St,tt,Ct)}}(),Xe=function(){const tt=(0,Z.c)();return function(pt,Pt,mt,St){return(0,G.t)(pt,Pt,function Me(tt,pt,Pt,mt){return Le(tt,pt,Pt,mt),(0,ee.c)(tt,tt)}(tt,mt,St,1))}}(),at=function(){const tt=(0,Z.c)();return function(pt,Pt,mt,St){return(0,G.t)(pt,Pt,Le(tt,mt,St,1))}}(),we=function(){const tt=(0,Y.a)(),pt=(0,Z.c)();return function(Pt,mt,St){fe(Pt,mt);const ut=Pe(mt),_t=Pt.targetGeometry;return(0,ee.b)(pt,Re(mt)),(0,ee.s)(pt,pt,(0,Y.f)(ut,ut)),(0,G.t)(tt,St,pt),_t.x+=tt[0],_t.y+=tt[1],Pt}}()},69648:(j,F,T)=>{"use strict";var W,B;function O(B){switch(B){case W.SUPPORTED:break;case W.GRAPHICS_LAYER_MISSING:return"not owned by a graphics layer";case W.GEOMETRY_MISSING:return"no geometry";case W.GEOMETRY_TYPE_UNSUPPORTED:return"the geometry type is not supported";case W.ELEVATION_MODE_UNSUPPORTED:return"the elevation mode is not supported";case W.SYMBOL_TYPE_UNSUPPORTED:return"the symbol type is not supported"}return""}T.d(F,{Z:()=>O,e:()=>W}),T(8314),(B=W||(W={}))[B.SUPPORTED=0]="SUPPORTED",B[B.GRAPHICS_LAYER_MISSING=1]="GRAPHICS_LAYER_MISSING",B[B.GEOMETRY_MISSING=2]="GEOMETRY_MISSING",B[B.GEOMETRY_TYPE_UNSUPPORTED=3]="GEOMETRY_TYPE_UNSUPPORTED",B[B.ELEVATION_MODE_UNSUPPORTED=4]="ELEVATION_MODE_UNSUPPORTED",B[B.SYMBOL_TYPE_UNSUPPORTED=5]="SYMBOL_TYPE_UNSUPPORTED"},96064:(j,F,T)=>{"use strict";T.d(F,{P:()=>k}),T(8314);var O=T(62208),W=T(60507),B=T(69648);function k(re){if("graphics"!==re.layer?.type)return B.e.GRAPHICS_LAYER_MISSING;if((0,O.Wi)(re.geometry))return B.e.GEOMETRY_MISSING;switch(re.geometry.type){case"polygon":case"point":case"polyline":case"mesh":break;default:return B.e.GEOMETRY_TYPE_UNSUPPORTED}return"on-the-ground"!==(0,W.vu)(re)&&(0,W.Lt)(re)?B.e.ELEVATION_MODE_UNSUPPORTED:B.e.SUPPORTED}},89557:(j,F,T)=>{"use strict";T.d(F,{P:()=>k,b:()=>re});var w=T(62208),O=T(72149),W=T(60507),B=T(69648);function k(Z){return ee(Z).result}function re(Z){return ee(Z).geometry}function ee(Z){return"graphics"!==Z.layer?.type?{result:B.e.GRAPHICS_LAYER_MISSING,geometry:null}:(0,w.Wi)(Z.geometry)?{result:B.e.GEOMETRY_MISSING,geometry:null}:"on-the-ground"!==(0,W.vu)(Z)&&(0,W.Lt)(Z)?{result:B.e.ELEVATION_MODE_UNSUPPORTED,geometry:null}:"point"!==Z.geometry.type&&"polyline"!==Z.geometry.type&&("polygon"!==Z.geometry.type||Z.geometry instanceof O.Z)?{result:B.e.GEOMETRY_TYPE_UNSUPPORTED,geometry:null}:{result:B.e.SUPPORTED,geometry:Z.geometry}}},63416:(j,F,T)=>{"use strict";T.d(F,{L:()=>W});var w=T(94530),O=T(30755);class W{constructor(k,re){this._owner=re,this._properties={},this._afterDispatchHandle=null;for(const ee in k){const G=new w.e(k[ee],void 0,void 0,2,2);this._properties[ee]={pool:G,acquired:[]}}this._afterDispatchHandle=(0,O.Fs)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const k in this._properties){const re=this._properties[k];for(const ee of re.acquired)(0,O.NC)(ee)||re.pool.release(ee);re.pool.destroy(),re.pool=null,re.acquired=null}this._properties=null,this._owner=null}get(k){const re=this._owner._get(k),ee=this._properties[k];let Z=ee.pool.acquire();for(ee.acquired.push(Z);Z===re;)ee.acquired.push(Z),Z=ee.pool.acquire();return Z}_release(){for(const k in this._properties){const re=this._properties[k];let ee=0;for(const Z of re.acquired)(0,O.NC)(Z)?re.acquired[ee++]=Z:re.pool.release(Z);re.acquired.length=ee}}}},93605:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.Z{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1,this.TERRAIN_USE_LEGACY_SHADING=!1}};(0,w._)([(0,W.Cb)()],ee.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"DECONFLICTOR_SHOW_GRID",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"LABELS_SHOW_BORDER",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"TEXT_SHOW_BASELINE",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"TEXT_SHOW_BORDER",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"OVERLAY_SHOW_CENTER",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"SHOW_POI",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"I3S_TREE_SHOW_TILES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"I3S_SHOW_MODIFICATIONS",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"LINE_WIREFRAMES",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0),ee=(0,w._)([(0,re.j)("esri.views.3d.support.DebugFlags")],ee);const Z=new ee},59617:(j,F,T)=>{"use strict";var w,B;T.d(F,{JY:()=>w}),(B=w||(w={}))[B.Global=1]="Global",B[B.Local=2]="Local"},10228:(j,F,T)=>{"use strict";T.d(F,{j:()=>W,p:()=>O});var w=T(62208);function O(B,k,re){if(!k||!B||!B.map)return;const{map:ee}=B,Z=ee.layers.find(G=>G===k);Z||ee.add(k,re),Z&&null!=re&&ee.layers.reorder(Z,re)}function W(B,k){return B.allLayerViews.find(re=>{const ee=re.layer;return ee===k||"sublayers"in ee&&(0,w.pC)(ee.sublayers)&&ee.sublayers.includes(k)})}},85112:(j,F,T)=>{"use strict";var w,O;T.d(F,{t:()=>w}),(O=w||(w={}))[O.Left=0]="Left",O[O.Middle=1]="Middle",O[O.Right=2]="Right"},35216:(j,F,T)=>{"use strict";T.d(F,{a:()=>B});var w=T(63290);class O{constructor(Z,G=[]){this.eventType=Z,this.keyModifiers=G}matches(Z){if(Z.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const G=Z.modifiers;for(const Y of this.keyModifiers)if(!G.has(Y))return!1;return!0}}const W=w.Z.getLogger("esri.views.input.InputHandler");class B{constructor(Z){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=Z}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const Z in this._incoming){const G=this._incoming[Z];for(const Y of G)this._incomingEventMatches.push(Y.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(Z=>Z.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(Z){this._manager?W.error("This InputHandler has already been registered with an InputManager"):(Z.setEventCallback(G=>this._handleEvent(G)),Z.setUninstallCallback(()=>this._onUninstall()),this._manager=Z)}onUninstall(){}registerIncoming(Z,G,Y){let ne;"function"==typeof G?(Y=G,ne=[]):ne=G||[];const ae="string"==typeof Z?new O(Z,ne):Z,se=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},ie=V=>{const U=this._incoming[V.match.eventType];if(U){const $=U.indexOf(V);U.splice($,1),se(),this._manager&&this._manager.updateDependencies()}},te=new k(ae,Y,{onPause:ie,onRemove:ie,onResume:V=>{const U=this._incoming[V.match.eventType];U&&!U.includes(V)&&(U.push(V),se(),this._manager&&this._manager.updateDependencies())}});let Q=this._incoming[ae.eventType];return Q||(Q=[],this._incoming[ae.eventType]=Q),Q.push(te),se(),this._manager&&this._manager.updateDependencies(),te}registerOutgoing(Z){if(this._outgoing[Z])throw new Error("There is already a callback registered for this outgoing InputEvent: "+Z);const G=new re(Z,{onEmit:(Y,ne,ae,se)=>{this._manager?.emit(Y.eventType,ne,ae,se)},onRemove:Y=>{delete this._outgoing[Y.eventType],this._manager?.updateDependencies()}});return this._outgoing[Z]=G,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),G}startCapturingPointer(Z){this._manager?.setPointerCapture(Z,!0)}stopCapturingPointer(Z){this._manager?.setPointerCapture(Z,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):W.error("This InputHandler is not registered with an InputManager")}_handleEvent(Z){const G=this._incoming[Z.type];if(G)for(const Y of G)if(Y.match.matches(Z)&&(Y.callback?.(Z),Z.shouldStopPropagation()))break}}class k{constructor(Z,G,Y){this.match=Z,this._callback=G,this._handler=Y}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class re{constructor(Z,G){this.eventType=Z,this._removed=!1,this._handler=G}emit(Z,G,Y){this._removed||this._handler.onEmit(this,Z,G,Y)}remove(){this._removed=!0,this._handler.onRemove(this)}}},18547:(j,F,T)=>{"use strict";T.d(F,{$:()=>Q,f:()=>$});var w=T(17626),O=T(14517),W=T(63290),B=T(62208),k=T(35133),re=T(77712),G=(T(90912),T(85931),T(76898)),Y=T(63416),ne=T(25441),ae=T(35216);class se extends ae.a{constructor(oe){super(!0),this._onChange=oe,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",pe=>{this._update(pe.data)})}_update(oe){const pe="touch"===oe.native.pointerType?"touch":"mouse",{x:de,y:be}=oe;pe===this._value&&this._x===de&&this._y===be||(this._value=pe,this._x=de,this._y=be,this._onChange(pe,de,be))}}var ie=T(84395);class te extends ae.a{get multiTouchActive(){return this._multiTouchActive.get()}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=new ie.f(!1),this._onPointerAdd=({data:oe})=>{"touch"===oe.pointerType&&(this._activeTouchPointerIds.add(oe.native.pointerId),this._update())},this._onPointerRemove=({data:oe})=>{"touch"===oe.pointerType&&(this._activeTouchPointerIds.delete(oe.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.set(this._activeTouchPointerIds.size>1)}}let Q=class extends O.Z{constructor(q){super(q),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=ne.CK,this._latestPointerType="mouse",this._propertiesPool=new Y.L({latestPointerLocation:J},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const q=Object.keys(this._nameToGroup);for(const oe of q)this.uninstallHandlers(oe);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(q=>q.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(q,oe,pe=$.INTERNAL){if(this._nameToGroup[q])return void W.Z.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+q+"`");if(0===oe.length)return void W.Z.getLogger(this.declaredClass).error("Can't register a group of zero handlers");const de={name:q,handlers:oe.map(be=>({handler:be,active:!0,removed:!1,priorityIndex:0,groupPriority:pe,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[q]=de;for(let be=de.handlers.length-1;be>=0;be--){const me=de.handlers[be];this._handlers.push(me),me.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(_e,le,fe,Ee,ye)=>{this._emitInputEvent(me.priorityIndex+1,_e,le,fe,ye,Ee)},setPointerCapture:(_e,le)=>{this._setPointerCapture(de,me,_e,le)},setEventCallback:_e=>{me.eventCallback=_e},setUninstallCallback:_e=>{me.uninstallCallback=_e},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(q){const oe=this._nameToGroup[q];oe?(oe.handlers.forEach(pe=>{pe.removed=!0,pe.uninstallCallback?.()}),delete this._nameToGroup[q],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):W.Z.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+q+"`")}hasHandlers(q){return void 0!==this._nameToGroup[q]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const q=new Set,oe=new Set;this._handlersPriority=[];for(let pe=this._handlers.length-1;pe>=0;pe--){const de=this._handlers[pe];de.priorityIndex=pe,this._handlersPriority.push(de)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let pe=this._handlersPriority.length-1;pe>=0;pe--){const de=this._handlersPriority[pe];de.priorityIndex=pe;let be=de.handler.hasSideEffects;if(!be)for(const me of de.handler.outgoingEventTypes)if(q.has(me)){be=!0;break}if(be)for(const me of de.handler.incomingEventMatches){q.add(me.eventType);for(const _e of me.keyModifiers)(0,ne.wj)(_e)||oe.add(_e)}de.active=be}this._sourceEvents=q,this._keyModifiers=oe,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(q,oe,pe){this._latestPointerType=q;const de=this._get("latestPointerLocation");if((0,B.Wi)(de)||de.x!==oe||de.y!==pe){const be=this._propertiesPool.get("latestPointerLocation");be.x=oe,be.y=pe,this._set("latestPointerLocation",be)}}_onEventReceived(q,oe){"pointer-capture-lost"===q&&this._pointerCaptures.delete(oe.native.pointerId),this._updateKeyModifiers(q,oe),this._emitInputEventFromSource(q,oe,null!=this.test.timestamp?this.test.timestamp:oe.native?oe.native.timestamp:void 0,oe.native?oe.native.cancelable:void 0)}_updateKeyModifiers(q,oe){if(!oe)return;let pe=!1;const de=()=>{if(!pe){const _e=new Set;this._activeKeyModifiers.forEach(le=>{_e.add(le)}),this._activeKeyModifiers=_e,pe=!0}},be=(_e,le)=>{le&&!this._activeKeyModifiers.has(_e)?(de(),this._activeKeyModifiers.add(_e)):!le&&this._activeKeyModifiers.has(_e)&&(de(),this._activeKeyModifiers.delete(_e))};if("key-down"===q||"key-up"===q){const _e=oe.key;this._keyModifiers.has(_e)&&be(_e,"key-down"===q)}const me=oe.native;be("Alt",!(!me||!me.altKey)),be("Ctrl",!(!me||!me.ctrlKey)),be("Shift",!(!me||!me.shiftKey)),be("Meta",!(!me||!me.metaKey)),be("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new se((q,oe,pe)=>this._setLatestPointer(q,oe,pe)),this._multiTouchHandler=new te,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],$.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,$.INTERNAL)}_setPointerCapture(q,oe,pe,de){const be=q.name+"-"+oe.priorityIndex,me=this._pointerCaptures.get(pe.pointerId)||new Set;this._pointerCaptures.set(pe.pointerId,me),de?(me.add(be),1===me.size&&this.eventSource&&this.eventSource.setPointerCapture(pe,!0)):me.has(be)&&(me.delete(be),0===me.size&&(this._pointerCaptures.delete(pe.pointerId),this.eventSource&&this.eventSource.setPointerCapture(pe,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(q=>!q.removed),this.updateDependencies()}_emitInputEventFromSource(q,oe,pe,de){this._emitInputEvent(0,q,oe,pe,de)}_emitInputEvent(q,oe,pe,de,be,me){const _e=void 0!==de?de:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),fe={event:new V(oe,pe,_e,me||this._activeKeyModifiers,void 0!==be&&be),priorityIndex:q};this._currentPropagation?this._currentPropagation.events.push(fe):this._doNewPropagation(fe)}_doNewPropagation(q){this._currentPropagation={events:new k.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:q.event.timestamp},this._currentPropagation.events.push(q),this._continuePropagation()}_continuePropagation(){const q=(0,B.s3)(this._currentPropagation);for(;q.events.length>0;){const{event:oe,priorityIndex:pe}=q.events.pop(),de=oe.data&&oe.data.eventId;if(null==de||!this._stoppedPropagationEventIds.has(de))for(q.currentHandler=this._handlersPriority[pe];q.currentHandler;){if(q.currentHandler.removed)q.needsHandlerGarbageCollect=!0;else{if(q.currentHandler.active&&!oe.shouldStopPropagation()&&q.currentHandler.eventCallback?.(oe),oe.shouldStopPropagation()){null!=de&&this._stoppedPropagationEventIds.add(de);break}if(oe.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:oe,priorityIndex:q.currentHandler.priorityIndex+1})}q.currentHandler=this._handlersPriority[q.currentHandler.priorityIndex+1]}}q.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(q){const oe=new k.Z;oe.push(q);const pe=this._currentPropagation;if(pe){for(;pe.events.length;)oe.push(pe.events.pop());pe.events=oe,pe.currentHandler=null}}_compareHandlerPriority(q,oe){if(q.handler.hasSideEffects!==oe.handler.hasSideEffects)return q.handler.hasSideEffects?1:-1;if(q.groupPriority!==oe.groupPriority)return q.groupPriority>oe.groupPriority?-1:1;for(const pe of q.handler.incomingEventMatches)for(const de of oe.handler.incomingEventMatches){if(pe.eventType!==de.eventType)continue;const be=pe.keyModifiers.filter(me=>de.keyModifiers.includes(me));if(be.length===pe.keyModifiers.length!=(be.length===de.keyModifiers.length))return pe.keyModifiers.length>de.keyModifiers.length?-1:1}return q.priorityIndex>oe.priorityIndex?-1:1}_sortHandlersPriority(q){const oe=[];for(const pe of q){let de=0;for(;de<oe.length&&this._compareHandlerPriority(pe,oe[de])>=0;)de++;oe.splice(de,0,pe)}return oe}get debug(){const q=oe=>{const pe=this._setPointerCapture;this._setPointerCapture=()=>{},oe(),this._setPointerCapture=pe};return{injectEvent:(oe,pe)=>{q(()=>{this._onEventReceived(oe,pe)})},disablePointerCapture:q}}};(0,w._)([(0,re.Cb)({readOnly:!0})],Q.prototype,"hasPendingInputs",null),(0,w._)([(0,re.Cb)({constructOnly:!0})],Q.prototype,"eventSource",void 0),(0,w._)([(0,re.Cb)({constructOnly:!0})],Q.prototype,"recognizers",void 0),(0,w._)([(0,re.Cb)()],Q.prototype,"_latestPointerType",void 0),(0,w._)([(0,re.Cb)()],Q.prototype,"latestPointerType",null),(0,w._)([(0,re.Cb)()],Q.prototype,"multiTouchActive",null),(0,w._)([(0,re.Cb)({readOnly:!0})],Q.prototype,"latestPointerLocation",void 0),Q=(0,w._)([(0,G.j)("esri.views.input.InputManager")],Q);class V{constructor(oe,pe,de,be,me){this.type=oe,this.data=pe,this.timestamp=de,this.modifiers=be,this.cancelable=me,this._propagationState=U.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=U.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&U.STOPPED)}async(oe){this._propagationState|=U.PAUSED;const pe=(de,be)=>{this._propagationState&=~U.PAUSED;const me=this._resumeCallback;if(this._resumeCallback=null,me&&me(),be)throw de;return de};return("function"==typeof oe?oe():oe).then(de=>pe(de,!1),de=>pe(de,!0))}shouldPausePropagation(oe){return!!(this._propagationState&U.PAUSED)&&(this._resumeCallback=oe,!0)}preventDefault(){this.data.native.preventDefault()}}var U,q;(q=U||(U={}))[q.NONE=0]="NONE",q[q.STOPPED=1]="STOPPED",q[q.PAUSED=2]="PAUSED";const $={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},J=class z{}},25441:(j,F,T)=>{"use strict";T.d(F,{CK:()=>W,kK:()=>k,wj:()=>re});var w=T(17770);const W=(0,T(8314).Z)("mac")?"Meta":"Ctrl",B={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let ee=48;ee<58;ee++)B[ee]=String.fromCharCode(ee);for(let ee=1;ee<25;ee++)B[111+ee]=`F${ee}`;for(let ee=65;ee<91;ee++)B[ee]=[String.fromCharCode(ee+32),String.fromCharCode(ee)];function k(ee){if(void 0!==ee.key)return(0,w.kK)(ee);const Z=B[ee.keyCode];return Array.isArray(Z)?ee.shiftKey?Z[1]:Z[0]:Z}function re(ee){switch(ee){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},33786:(j,F,T)=>{"use strict";var w,O,W,B;T.d(F,{Q9:()=>O,bH:()=>w,jg:()=>W}),(B=w||(w={}))[B.USER=0]="USER",B[B.MANAGER=1]="MANAGER",function(B){B[B.None=0]="None",B[B.Unfocused=1]="Unfocused",B[B.Focused=2]="Focused",B[B.Unselected=4]="Unselected",B[B.Selected=8]="Selected",B[B.All=15]="All"}(O||(O={})),function(B){B[B.None=0]="None",B[B.Custom1=16]="Custom1",B[B.Custom2=32]="Custom2",B[B.Custom3=64]="Custom3",B[B.Custom4=128]="Custom4",B[B.Custom5=256]="Custom5",B[B.Custom6=512]="Custom6",B[B.Custom7=1024]="Custom7",B[B.Custom8=2048]="Custom8",B[B.Custom9=4096]="Custom9",B[B.Custom10=8192]="Custom10",B[B.Custom11=16384]="Custom11",B[B.Custom12=32768]="Custom12",B[B.All=65520]="All"}(W||(W={}))},72791:(j,F,T)=>{"use strict";T.d(F,{c:()=>O,j:()=>w});const w={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},O={toggle:"Control"}},24959:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.Z{constructor(G){super(G),this.enabled=!1}};(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],ee.prototype,"enabled",void 0),ee=(0,w._)([(0,re.j)("esri.views.interactive.sketch.SketchLabelOptions")],ee);const Z=ee},9997:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y});var w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.Z{constructor(ne){super(ne),this.mode="absolute-height"}toJSON(){return{mode:this.mode}}};(0,w._)([(0,W.Cb)({type:String,nonNullable:!0})],ee.prototype,"mode",void 0),ee=(0,w._)([(0,re.j)("esri.widgets.Sketch.SketchTooltipOptions.ElevationOptions")],ee);let Z=class extends O.Z{constructor(){super(...arguments),this.distance=!0,this.elevation=!0,this.size=!0,this.scale=!0,this.rotation=!0,this.orientation=!0,this.totalLength=!0,this.area=!0,this.radius=!0,this.helpMessage=!1}toJSON(){return{distance:this.distance,size:this.size,scale:this.scale,rotation:this.rotation,orientation:this.orientation,totalLength:this.totalLength,area:this.area,radius:this.radius}}};(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"distance",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"elevation",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"size",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"scale",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"rotation",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"orientation",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"totalLength",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"area",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"radius",void 0),(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],Z.prototype,"helpMessage",void 0),Z=(0,w._)([(0,re.j)("esri.widgets.Sketch.SketchTooltipOptions.VisibleElements")],Z);let G=class extends O.Z{constructor(ne){super(ne),this.enabled=!1,this.elevation=new ee,this.visibleElements=new Z,this.visualVariables=null}toJSON(){return{enabled:this.enabled,elevation:this.elevation,visibleElements:this.visibleElements}}};(0,w._)([(0,W.Cb)({type:Boolean,nonNullable:!0})],G.prototype,"enabled",void 0),(0,w._)([(0,W.Cb)({type:ee,nonNullable:!0})],G.prototype,"elevation",void 0),(0,w._)([(0,W.Cb)({type:Z,nonNullable:!0})],G.prototype,"visibleElements",void 0),(0,w._)([(0,W.Cb)()],G.prototype,"visualVariables",void 0),G=(0,w._)([(0,re.j)("esri.widgets.Sketch.SketchTooltipOptions")],G);const Y=G},36460:(j,F,T)=>{"use strict";T.d(F,{c:()=>Z});var w=T(17626),O=T(91558),W=T(86810),B=T(77712),k=T(76898);let re=class extends W.wq{constructor(){super(...arguments),this.enabled=!0}};(0,w._)([(0,B.Cb)({type:Boolean})],re.prototype,"enabled",void 0),re=(0,w._)([(0,k.j)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],re);let ee=class extends W.wq{constructor(G){super(G),this.lineSnapper=new re,this.parallelLineSnapper=new re,this.rightAngleSnapper=new re,this.rightAngleTriangleSnapper=new re,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThreshold=.1,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new O.Z([255,127,0]),this.orangeTransparent=new O.Z([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,w._)([(0,B.Cb)({type:re,constructOnly:!0,nonNullable:!0,json:{write:!0}})],ee.prototype,"lineSnapper",void 0),(0,w._)([(0,B.Cb)({type:re,constructOnly:!0,nonNullable:!0,json:{write:!0}})],ee.prototype,"parallelLineSnapper",void 0),(0,w._)([(0,B.Cb)({type:re,constructOnly:!0,nonNullable:!0,json:{write:!0}})],ee.prototype,"rightAngleSnapper",void 0),(0,w._)([(0,B.Cb)({type:re,constructOnly:!0,nonNullable:!0,json:{write:!0}})],ee.prototype,"rightAngleTriangleSnapper",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],ee.prototype,"shortLineThreshold",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],ee.prototype,"distance",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],ee.prototype,"pointThreshold",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],ee.prototype,"intersectionParallelLineThreshold",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],ee.prototype,"parallelLineThreshold",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],ee.prototype,"verticalLineThreshold",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],ee.prototype,"touchSensitivityMultiplier",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],ee.prototype,"pointOnLineThreshold",void 0),(0,w._)([(0,B.Cb)({type:O.Z,nonNullable:!0})],ee.prototype,"orange",void 0),(0,w._)([(0,B.Cb)({type:O.Z,nonNullable:!0})],ee.prototype,"orangeTransparent",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],ee.prototype,"lineHintWidthReference",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],ee.prototype,"lineHintWidthTarget",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],ee.prototype,"lineHintFadedExtensions",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],ee.prototype,"parallelLineHintWidth",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],ee.prototype,"parallelLineHintLength",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],ee.prototype,"parallelLineHintOffset",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],ee.prototype,"rightAngleHintSize",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],ee.prototype,"rightAngleHintOutlineSize",void 0),(0,w._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],ee.prototype,"satisfiesConstraintScreenThreshold",void 0),ee=(0,w._)([(0,k.j)("esri.views.interactive.snapping.Settings.Defaults")],ee);const Z=new ee},33351:(j,F,T)=>{"use strict";T.d(F,{Bq:()=>se,Hk:()=>Y,M8:()=>$,aU:()=>V,jg:()=>U,kt:()=>te,ku:()=>ae});var w=T(62208),O=T(67831),W=T(99770),B=T(84161),k=T(28093),re=T(59550),ee=T(26362),Z=T(396);class G{intersect(ue){return function J(ye,ue){let Me=[];if(pe(ye)){const{point:ce}=ye;de(ue)?Me=(0,ee.pk)(ue.lineLike,ce):be(ue)?Me=(0,ee.Xi)(ue.center,ue.radius,ce):me(ue)?Me=(0,ee.hm)(ue.planeLike,ce):_e(ue)&&(Me=q(ue,ye))}else if(de(ye)){const{lineLike:ce}=ye;pe(ue)?Me=(0,ee.pk)(ce,ue.point):de(ue)?Me=(0,ee.Lh)(ce,ue.lineLike):be(ue)?Me=(0,ee.CJ)(ce,ue.center,ue.radius):me(ue)?Me=(0,ee.fK)(ue.planeLike,ce):_e(ue)&&(Me=q(ue,ye))}else if(be(ye)){const{center:ce,radius:ge}=ye;if(de(ue))Me=(0,ee.CJ)(ue.lineLike,ce,ge);else if(pe(ue))Me=(0,ee.Xi)(ce,ge,ue.point);else{if(me(ue))return(0,ee.SD)(ue.planeLike,ce,ge).map(Pe=>new ie(Pe,ye,ue));_e(ue)&&(Me=q(ue,ye))}}else if(me(ye)){const{planeLike:ce}=ye;if(me(ue))return(0,ee.qi)(ce,ue.planeLike).map(ge=>new ie(ge,ye,ue));if(pe(ue))Me=(0,ee.hm)(ce,ue.point);else if(de(ue))Me=(0,ee.fK)(ce,ue.lineLike);else{if(be(ue))return(0,ee.SD)(ce,ue.center,ue.radius).map(ge=>new ie(ge,ye,ue));_e(ue)&&(Me=q(ue,ye))}}else _e(ye)&&(Me=q(ye,ue));return function oe(ye,ue,Me){return ye.map(ce=>new se((0,re.uc)(ce),ue,Me))}(Me,ye,ue)}(this,ue)}}class Y extends G{constructor(ue){super(),this.point=ue}equals(ue){return pe(ue)&&(0,B.k)(this.point,ue.point)}closestTo(){return(0,re.bQ)(this.point)}}class ne extends G{constructor(ue,Me,ce){super(),this.start=ue,this.end=Me,this.type=ce,this.lineLike={start:this.start,end:this.end,type:this.type}}equals(ue){return de(ue)&&this.type===ue.type&&(0,B.k)(this.start,ue.start)&&(0,B.k)(this.end,ue.end)}closestTo(ue){const Me=(0,ee.ZE)(ue,this.lineLike);return(0,re.uc)(Me)}}class ae extends ne{constructor(ue,Me){super(ue,Me,Z.SP.LINE)}}class se extends G{constructor(ue,Me,ce){super(),this.intersection=ue,this.first=Me,this.second=ce}equals(ue){return ue instanceof se&&this.first.equals(ue.first)&&this.second.equals(ue.second)}closestTo(){return(0,re.bQ)(this.intersection)}}class ie extends G{constructor(ue,Me,ce){super(),this.basePoint=ue,this.first=Me,this.second=ce}equals(ue){return ue instanceof ie&&this.first.equals(ue.first)&&this.second.equals(ue.second)}closestTo(ue){const Me=this.basePoint;return(0,re.uc)((0,k.f)(Me[0],Me[1],ue[2]))}}class te extends G{constructor(ue,Me){super(),this.center=ue,this.radius=Me}equals(ue){return be(ue)&&this.center[0]===ue.center[0]&&this.center[1]===ue.center[1]&&this.radius===ue.radius}closestTo(ue){const Me=(0,ee.sc)(ue,this.center,this.radius);return(0,re.uc)(Me)}}class Q extends G{constructor(ue,Me,ce){super(),this.start=ue,this.end=Me,this.type=ce,this.planeLike={start:ue,end:Me,type:ce}}equals(ue){return me(ue)&&this.type===ue.type&&(0,B.k)(this.start,ue.start)&&(0,B.k)(this.end,ue.end)}closestTo(ue){return(0,re.uc)((0,ee.z9)(ue,this.planeLike))}closestEndTo(ue){const{start:Me,end:ce}=this;return Math.sign((0,O.h)((0,O.a)(le,ce,Me),(0,O.a)(fe,ue,Me)))>0?ce:Me}}class V extends Q{constructor(ue,Me){super(ue,Me,ee.Jk.HALF_PLANE)}}class U extends Q{constructor(ue,Me){super(ue,Me,ee.Jk.PLANE)}}class $ extends G{constructor(ue,Me,ce){super(),this.start=ue,this.end=Me,this.getZ=ce,this.planeLike={start:ue,end:Me,type:ee.Jk.HALF_PLANE}}equals(ue){return _e(ue)&&(0,B.k)(this.start,ue.start)&&(0,B.k)(this.end,ue.end)&&this.getZ===ue.getZ}closestTo(ue){return function z(ye,ue){const Me=(0,ee.z9)(ue,ye.planeLike);return Me[2]=(0,w.WG)(ye.getZ(ue[0],ue[1],ue[2]))??Ee,(0,re.uc)(Me)}(this,ue)}addIfOnTheGround(ue,Me){for(const ce of Me){const ge=(0,w.Pt)(this.getZ(ce[0],ce[1],ce[2]),0);Math.abs(ce[2]-ge)<ee.Ho&&(ce[2]=ge,ue.push(ce))}}}function q(ye,ue){const{planeLike:Me,getZ:ce}=ye,ge=[];if(pe(ue))ye.addIfOnTheGround(ge,(0,ee.hm)(Me,ue.point));else if(de(ue))ye.addIfOnTheGround(ge,(0,ee.fK)(Me,ue.lineLike));else if(be(ue))for(const[Pe,Ie]of(0,ee.SD)(Me,ue.center,ue.radius)){const Re=ce(Pe,Ie,0);(0,w.pC)(Re)&&ge.push((0,k.f)(Pe,Ie,Re))}else if(me(ue)||_e(ue))for(const[Pe,Ie]of(0,ee.qi)(Me,ue.planeLike)){const Re=(0,w.WG)(ce(Pe,Ie,0))??Ee;ge.push((0,k.f)(Pe,Ie,Re))}return ge}function pe(ye){return ye instanceof Y}function de(ye){return ye instanceof ne}function be(ye){return ye instanceof te}function me(ye){return ye instanceof Q}function _e(ye){return ye instanceof $}const le=(0,W.a)(),fe=(0,W.a)(),Ee=0},26352:(j,F,T)=>{"use strict";var w,O;T.d(F,{B:()=>w}),(O=w||(w={}))[O.FEATURE=1]="FEATURE",O[O.SELF=2]="SELF",O[O.ALL=3]="ALL"},59550:(j,F,T)=>{"use strict";T.d(F,{$D:()=>Z,$G:()=>ee,Gs:()=>Y,SH:()=>ne,bQ:()=>re,dF:()=>G,uc:()=>k});var w=T(62208),O=T(28093),W=T(38114),B=T(60507);function k(se){return se}function re(se){return(0,O.a)(se)}function ee(se,ie,te){return(0,O.f)(se,ie,te)}function Z(se,ie,te){return(0,w.Wi)(se)?null:G(te.coordinateHelper.vectorToDehydratedPoint(se,ae),ie,te)}function G(se,ie,te){if((0,w.Wi)(se))return null;if((0,w.Wi)(ie))return(0,O.f)(se.x,se.y,se.z??0);if("2d"===ie.type)return(0,O.f)(se.x,se.y,0);const{elevationInfo:Q}=te,V=(0,B.vQ)(ie,se,Q,B.jG)??0;return(0,O.f)(se.x,se.y,V)}function Y(se,ie,{z:te,m:Q,spatialReference:V,elevationInfo:U}){if(null==te&&null==Q){const J=(0,W.Tx)(se[0],se[1],void 0,V);return null!=Q&&(J.m=Q,J.hasM=!0),J}if((0,w.Wi)(ie)||"2d"===ie.type){const J=(0,W.Tx)(se[0],se[1],te,V);return null!=Q&&(J.m=Q,J.hasM=!0),J}const $=(0,B.zx)(ie,se,V,B.jG,U)??0,z=(0,W.Tx)(se[0],se[1],$,V);return null!=Q&&(z.m=Q,z.hasM=!0),z}function ne(se,ie){return(0,W.Tx)(se[0],se[1],se[2],ie)}const ae=(0,W.Tx)(0,0,0,null)},61430:(j,F,T)=>{"use strict";T.d(F,{k:()=>k});var w=T(33351),O=T(44725),W=T(97979),B=T(62160);class k extends W.a{constructor(ee){super({...ee,isDraped:!0,constraint:new w.M8(ee.edgeStart,ee.edgeEnd,ee.getGroundElevation)})}get hints(){return[new B.w(O.ze.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}},75897:(j,F,T)=>{"use strict";T.d(F,{L:()=>k});var w=T(33351),O=T(44725),W=T(97979),B=T(62160);class k extends W.a{constructor(ee){super({...ee,constraint:new w.ku(ee.edgeStart,ee.edgeEnd)})}get hints(){return[new B.w(O.ze.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}},97979:(j,F,T)=>{"use strict";T.d(F,{a:()=>W});var w=T(26352),O=T(22823);class W extends O.j{constructor({targetPoint:k,objectId:re,constraint:ee,isDraped:Z}){super(k,ee,Z,w.B.FEATURE),this.objectId=re}}},22823:(j,F,T)=>{"use strict";T.d(F,{j:()=>w});class w{constructor(W,B,k,re){this.targetPoint=W,this.constraint=B,this.isDraped=k,this.domain=re}}},80985:(j,F,T)=>{"use strict";T.d(F,{w:()=>B});var w=T(84161),O=T(26352),W=T(5286);class B extends W.r{constructor(re,ee,Z=O.B.ALL){super(ee,Z),this.intersectionPoint=re}equals(re){return re instanceof B&&(0,w.k)(this.intersectionPoint,re.intersectionPoint)}}},62160:(j,F,T)=>{"use strict";T.d(F,{w:()=>re}),T(8314),T(63290);var W=T(84161),B=T(26352),k=T(5286);class re extends k.r{constructor(Z,G,Y,ne,ae=B.B.ALL,se=!0,ie=!0){super(ne,ae),this.type=Z,this.lineStart=G,this.lineEnd=Y,this.fadeLeft=se,this.fadeRight=ie}equals(Z){return Z instanceof re&&this.type===Z.type&&(0,W.k)(this.lineStart,Z.lineStart)&&(0,W.k)(this.lineEnd,Z.lineEnd)&&this.fadeLeft===Z.fadeLeft&&this.fadeRight===Z.fadeRight}get length(){return(0,W.i)(this.lineStart,this.lineEnd)}}},80221:(j,F,T)=>{"use strict";T.d(F,{L:()=>re}),T(8314),T(63290);var W=T(84161),B=T(26352),k=T(5286);class re extends k.r{constructor(Z,G,Y,ne=B.B.ALL){super(Y,ne),this.lineStart=Z,this.lineEnd=G}equals(Z){return Z instanceof re&&(0,W.k)(this.lineStart,Z.lineStart)&&(0,W.k)(this.lineEnd,Z.lineEnd)}}},86842:(j,F,T)=>{"use strict";T.d(F,{y:()=>re}),T(8314),T(63290);var W=T(84161),B=T(26352),k=T(5286);class re extends k.r{constructor(Z,G,Y,ne,ae=B.B.ALL){super(ne,ae),this.previousVertex=Z,this.centerVertex=G,this.nextVertex=Y}equals(Z){return Z instanceof re&&(0,W.k)(this.previousVertex,Z.previousVertex)&&(0,W.k)(this.centerVertex,Z.centerVertex)&&(0,W.k)(this.nextVertex,Z.nextVertex)}}},5286:(j,F,T)=>{"use strict";T.d(F,{r:()=>w});class w{constructor(W,B){this.isDraped=W,this.domain=B}}},44725:(j,F,T)=>{"use strict";T.d(F,{Bb:()=>G,ML:()=>te,Ob:()=>Q,_j:()=>ie,fG:()=>Y,lQ:()=>ne,rh:()=>se,ze:()=>ae});var ae,V,w=T(62208),O=T(32917),W=T(84161),B=T(38114),k=T(18547),re=T(72791),ee=T(59550);function G(V,U){const $=V.x-U.x,z=V.y-U.y;return $*$+z*z}function Y(V,U){return Math.sqrt(G(V,U))}function ne(V,U){U.sort(($,z)=>(0,W.d)($.targetPoint,V)-(0,W.d)(z.targetPoint,V))}function se({point:V,distance:U,types:$,coordinateHelper:{spatialReference:z}},J,q){return{point:(0,B.Tx)(V[0],V[1],V[2],z.toJSON()),mode:J,distance:U,types:$,query:(0,w.pC)(q)?q.toJSON():{where:"1=1"}}}function ie(V,U,$){return{left:(0,ee.$D)(V.leftVertex.pos,U,$),right:(0,ee.$D)(V.rightVertex.pos,U,$)}}function te(V){return V.createQuery()}function Q(V,U=(()=>{})){const $=(0,O.YP)(()=>({view:V.view,snappingOptions:V.snappingOptions}),({view:z,snappingOptions:J})=>{const q="snapping-toggle",oe=k.f.TOOL;if(V.removeHandles(q),z&&(0,w.pC)(J)){const pe=[z.on("key-down",de=>{de.key!==re.c.toggle||de.repeat||(J.enabledToggled=!0,U())},oe),z.on("key-up",de=>{de.key===re.c.toggle&&(J.enabledToggled=!1,U())},oe),z.on("pointer-move",de=>{const be=de.native.ctrlKey;J.enabledToggled!==be&&(J.enabledToggled=be,U())},oe)];V.addHandles(pe,q)}},O.tX);V.addHandles($)}(V=ae||(ae={}))[V.TARGET=0]="TARGET",V[V.REFERENCE=1]="REFERENCE",V[V.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"},25858:(j,F,T)=>{"use strict";T.d(F,{RS:()=>G,Rs:()=>ne});var w=T(23841),W=(T(67831),T(84161)),B=T(28093),k=T(38114),re=T(60507);function G(U,$,z,J,q=(0,B.c)()){const oe=(0,W.c)(ie,U);return oe[2]=(0,re.zx)(J,oe,$,z)||0,J.renderCoordsHelper.toRenderCoords(oe,$,q),q}function ne(U,$,z,J){return"2d"===J.type?(se.x=U[0],se.y=U[1],se.spatialReference=$,J.toScreen(se)):(G(U,$,z,J,ie),J.state.camera.projectToScreen(ie,V),(0,w.vW)(V[0],V[1]))}const se=(0,k.Tx)(0,0,0,null),ie=(0,B.c)(),V=((0,w.J$)(),(0,w.J$)(),(0,w.s1)())},71251:(j,F,T)=>{"use strict";T.d(F,{e:()=>re});var w=T(62208),O=T(10699),W=T(35133),B=T(50618);class k{constructor(Z,G){this.item=Z,this.controller=G,this.promise=null}}class re{constructor(Z){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,Z.concurrency&&(this.concurrency=Z.concurrency),this._queue=new W.Z(Z.peeker),this.process=Z.process;const G=Z.scheduler;Z.priority&&(0,w.pC)(G)&&(this._task=G.registerTask(Z.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(Z){const G=this._controllers.get(Z);G&&G.abort()}clear(){this._queue.clear();const Z=[];this._controllers.forEach(G=>Z.push(G)),this._controllers.clear(),Z.forEach(G=>G.abort()),this._processingItems.clear(),this._cancelNext()}forEach(Z){this._deferreds.forEach((G,Y)=>Z(Y))}get(Z){const G=this._deferreds.get(Z);return G?G.promise:void 0}isOngoing(Z){return this._processingItems.has(Z)}has(Z){return this._deferreds.has(Z)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(Z,G){const Y=this.get(Z);if(Y)return Y;const ne=new AbortController;let ae=null;G&&(ae=(0,O.fu)(G,()=>ne.abort()));const ie=()=>{te.remove(),(0,w.pC)(ae)&&ae.remove(),this._deferreds.delete(Z),this._controllers.delete(Z),this._queue.remove(Z),this._processingItems.delete(Z),this._scheduleNext()},te=(0,O.$F)(ne.signal,()=>{const V=this._processingItems.get(Z);V&&V.controller.abort(),ie(),Q.reject((0,O.zE)())}),Q=(0,O.dD)();return this._deferreds.set(Z,Q),this._controllers.set(Z,ne),Q.promise.then(ie,ie),this._queue.push(Z),this._scheduleNext(),Q.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const Z=[];this._processingItems.forEach(G=>Z.push(G)),this._processingItems.clear();for(const G of Z)this._queue.push(G.item),G.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const Z=[];for(;this._queue.length;)Z.push(this._queue.pop());return this.clear(),Z}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(Z){for(;!Z.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),Z.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,B.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(Z,G){this._canProcessFulfillment(Z)&&(this._scheduleNext(),this._deferreds.get(Z.item).resolve(G))}_processError(Z,G){this._canProcessFulfillment(Z)&&(this._scheduleNext(),this._deferreds.get(Z.item).reject(G))}_canProcessFulfillment(Z){return!!this._deferreds.get(Z.item)&&this._processingItems.get(Z.item)===Z}_process(Z){if((0,w.Wi)(Z))return;let G;const Y=new AbortController,ne=new k(Z,Y);this._processingItems.set(Z,ne);try{G=this.process(Z,Y.signal)}catch(ae){this._processError(ne,ae)}(0,O.y8)(G)?(ne.promise=G,G.then(ae=>this._processResult(ne,ae),ae=>this._processError(ne,ae))):this._processResult(ne,G)}get test(){return{update:Z=>this.runTask(Z)}}}},84259:(j,F,T)=>{"use strict";T.d(F,{sq:()=>Ee,iQ:()=>Q,T8:()=>V,G5:()=>le});var w=T(72392),W=(T(8314),T(63290)),B=T(62208),k=T(73362),re=T(77029),ee=T(10699),Z=T(32917),G=T(27422),Y=T(84395);class ne{constructor(){this._tasks=new Array,this._running=new Y.f(!1)}get length(){return this._tasks.length}get running(){return this._running.get()}destroy(){this.cancelAll()}runTask(ue){for(;!ue.done&&this._process(ue);)ue.madeProgress()}push(ue,Me,ce){return this._running.set(!0),new Promise((ge,Pe)=>this._tasks.push(new ae(ge,Pe,ue,Me,ce)))}unshift(ue,Me,ce){return this._running.set(!0),new Promise((ge,Pe)=>this._tasks.unshift(new ae(ge,Pe,ue,Me,ce)))}_process(ue){if(0===this._tasks.length)return!1;const Me=this._tasks.shift();try{const ce=(0,ee.Hc)(Me.signal);if(ce&&!Me.abortCallback)Me.reject((0,ee.zE)());else{const ge=ce?Me.abortCallback?.((0,ee.zE)()):Me.callback(ue);(0,ee.y8)(ge)?ge.then(Me.resolve,Me.reject):Me.resolve(ge)}}catch(ce){Me.reject(ce)}return this._running.set(this._tasks.length>0),!0}cancelAll(){const ue=(0,ee.zE)();for(const Me of this._tasks)if(Me.abortCallback){const ce=Me.abortCallback(ue);Me.resolve(ce)}else Me.reject(ue);this._tasks.length=0,this._running.set(!1)}}class ae{constructor(ue,Me,ce,ge,Pe){this.resolve=ue,this.reject=Me,this.callback=ce,this.signal=ge,this.abortCallback=Pe}}var ie,ye,Q,V,se=T(66463);(ye=ie||(ie={}))[ye.ANIMATING=0]="ANIMATING",ye[ye.INTERACTING=1]="INTERACTING",ye[ye.IDLE=2]="IDLE",function(ye){ye[ye.YIELD=1]="YIELD"}(Q||(Q={})),function(ye){ye.RESOURCE_CONTROLLER_IMMEDIATE="immediate",ye.RESOURCE_CONTROLLER="schedule",ye.SLIDE="slide",ye.STREAM_DATA_LOADER="stream loader",ye.ELEVATION_QUERY="elevation query",ye.TERRAIN_SURFACE="terrain",ye.SURFACE_GEOMETRY_UPDATES="surface geometry updates",ye.LOD_RENDERER="LoD renderer",ye.GRAPHICS_CORE="Graphics3D",ye.I3S_CONTROLLER="I3S",ye.POINT_CLOUD_LAYER="point cloud",ye.FEATURE_TILE_FETCHER="feature fetcher",ye.OVERLAY="overlay",ye.STAGE="stage",ye.GRAPHICS_DECONFLICTOR="graphics deconflictor",ye.FILTER_VISIBILITY="Graphics3D filter visibility",ye.SCALE_VISIBILITY="Graphics3D scale visibility",ye.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",ye.POINT_OF_INTEREST_FREQUENT="POI frequent",ye.POINT_OF_INTEREST_INFREQUENT="POI infrequent",ye.LABELER="labeler",ye.FEATURE_QUERY_ENGINE="feature query",ye.FEATURE_TILE_TREE="feature tile tree",ye.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",ye.ELEVATION_ALIGNMENT="elevation alignment",ye.TEXT_TEXTURE_ATLAS="text texture atlas",ye.TEXTURE_UNLOAD="texture unload",ye.LINE_OF_SIGHT_TOOL="line of sight tool",ye.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",ye.ELEVATION_PROFILE="elevation profile",ye.SNAPPING="snapping",ye.SHADOW_ACCUMULATOR="shadow accumulator",ye.CLOUDS_GENERATOR="clouds generator",ye[ye.TEST_PRIO=1]="TEST_PRIO"}(V||(V={}));const $=new Map([[V.RESOURCE_CONTROLLER_IMMEDIATE,0],[V.RESOURCE_CONTROLLER,4],[V.SLIDE,0],[V.STREAM_DATA_LOADER,0],[V.ELEVATION_QUERY,0],[V.TERRAIN_SURFACE,1],[V.SURFACE_GEOMETRY_UPDATES,1],[V.LOD_RENDERER,2],[V.GRAPHICS_CORE,2],[V.I3S_CONTROLLER,2],[V.POINT_CLOUD_LAYER,2],[V.FEATURE_TILE_FETCHER,2],[V.OVERLAY,4],[V.STAGE,4],[V.GRAPHICS_DECONFLICTOR,4],[V.FILTER_VISIBILITY,4],[V.SCALE_VISIBILITY,4],[V.FRUSTUM_VISIBILITY,4],[V.CLOUDS_GENERATOR,4],[V.POINT_OF_INTEREST_FREQUENT,6],[V.POINT_OF_INTEREST_INFREQUENT,30],[V.LABELER,8],[V.FEATURE_QUERY_ENGINE,8],[V.FEATURE_TILE_TREE,16],[V.FEATURE_TILE_TREE_ACTIVE,0],[V.ELEVATION_ALIGNMENT,12],[V.TEXT_TEXTURE_ATLAS,12],[V.TEXTURE_UNLOAD,12],[V.LINE_OF_SIGHT_TOOL,16],[V.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[V.SNAPPING,0],[V.SHADOW_ACCUMULATOR,30]]);function z(ye){return $.has(ye)?$.get(ye):"number"==typeof ye?ye:1}const J=(0,G.HA)(6.5),q=(0,G.HA)(1),oe=(0,G.HA)(30),pe=(0,G.HA)(1e3/30),de=(0,G.HA)(100);var me,_e;(function(ye){ye.Scheduler=class ue{get updating(){return this._updating.get()}_updatingChanged(){this._updating.set(this._tasks.some(Pe=>Pe.needsUpdate))}constructor(){this._updating=new Y.f(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new k.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new ce,this._state=ie.INTERACTING,this._tasks=new re.Z,this._runQueue=new re.Z,this._load=0,this._idleStateCallbacks=new re.Z,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,Z.YP)(()=>se.Z.SCHEDULER_LOG_SLOW_TASKS,Ie=>this._debug=Ie,Z.nn);for(const Ie of Object.keys(V))this.performanceInfo.tasks.set(V[Ie],new k.Z(V[Ie]));const Pe=this;this._test={FRAME_SAFETY_BUDGET:J,INTERACTING_BUDGET:pe,IDLE_BUDGET:de,get availableBudget(){return Pe._budget.budget},usedBudget:0,getBudget:()=>Pe._budget,setBudget:Ie=>Pe._budget=Ie,updateTask:Ie=>this._updateTask(Ie),getState:Ie=>this._getState(Ie),getRuntime:Ie=>this._getRuntime(Ie),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(Pe=>Pe.remove()),this._tasks.clear(),(0,B.hw)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(Pe){this._updatingChanged(),Pe&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(Pe,Ie){const Re=z(Pe),Ce=new Me(this,Pe,Ie,Re);return this._tasks.push(Ce),this._updatingChanged(),this.performanceInfo.tasks.has(Pe)||this.performanceInfo.tasks.set(Pe,new k.Z(Pe)),Ce}registerIdleStateCallbacks(Pe,Ie){const Re={idleBegin:Pe,idleEnd:Ie};this._idleStateCallbacks.push(Re),this.state===ie.IDLE&&this._idleUpdatesStartFired&&Re.idleBegin();const Ce=this;return{remove:()=>this._removeIdleStateCallbacks(Re),set idleBegin(Fe){Ce._idleUpdatesStartFired&&(Re.idleEnd(),Ce._state===ie.IDLE&&Fe()),Re.idleBegin=Fe},set idleEnd(Fe){Re.idleEnd=Fe}}}get load(){return this._load}set state(Pe){this._state!==Pe&&(this._state=Pe,this.state!==ie.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(Ie=>Ie.idleEnd())))}get state(){return this._state}updateBudget(Pe){this._test.usedBudget=0,++this._frameNumber;let Ie=J,Re=Pe.frameDuration,Ce=q;switch(this.state){case ie.IDLE:Ie=(0,G.HA)(0),Re=(0,G.HA)(Math.max(de,Pe.frameDuration)),Ce=oe;break;case ie.INTERACTING:Re=(0,G.HA)(Math.max(pe,Pe.frameDuration))}return Re=(0,G.HA)(Re-Pe.elapsedFrameTime-Ie),this.state!==ie.IDLE&&Re<q&&!this._forceTask?(this._forceTask=!0,!1):(Re=(0,G.HA)(Math.max(Re,Ce)),this._budget.reset(Re,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case ie.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(Pe=>Pe.idleBegin())),this._runIdle();break;case ie.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,G.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(Pe){this._idleUpdatesStartFired&&Pe.idleEnd(),this._idleStateCallbacks.removeUnordered(Pe)}removeTask(Pe){this._tasks.removeUnordered(Pe),this._runQueue.removeUnordered(Pe),this._updatingChanged()}_updateTask(Pe){this._tasks.forAll(Ie=>{Ie.name===Pe&&Ie.setPriority(Pe)})}_getState(Pe){if(this._runQueue.some(Re=>Re.name===Pe))return _e.SCHEDULED;let Ie=_e.IDLE;return this._tasks.forAll(Re=>{Re.name===Pe&&Re.needsUpdate&&(Re.schedulePriority<=1?Ie=_e.READY:Ie!==_e.READY&&(Ie=_e.WAITING))}),Ie}_getRuntime(Pe){let Ie=0;return this._tasks.forAll(Re=>{Re.name===Pe&&(Ie+=Re.runtime)}),Ie}_resetRuntimes(){this._tasks.forAll(Pe=>Pe.runtime=0)}_getRunning(){const Pe=new Map;if(this._tasks.forAll(Re=>{Re.needsUpdate&&Pe.set(Re.name,(Pe.get(Re.name)||0)+1)}),0===Pe.size)return null;let Ie="";return Pe.forEach((Re,Ce)=>{Ie+=Re>1?` ${Re}x ${Ce}`:` ${Ce}`}),Ie}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const Pe=this._tasks.reduce((Ie,Re)=>Re.needsUpdate?++Ie:Ie,0);this._load=.9*this._load+Pe*(1-.9)}_schedule(){for(this._runQueue.filterInPlace(Pe=>!!Pe.needsUpdate||(Pe.schedulePriority=Pe.basePriority,!1)),this._tasks.forAll(Pe=>{0===Pe.basePriority&&Pe.needsUpdate&&!this._runQueue.includes(Pe)&&Pe.blockFrame!==this._frameNumber&&this._runQueue.unshift(Pe)});0===this._runQueue.length;){let Pe=!1,Ie=0;if(this._tasks.forAll(Re=>{Re.needsUpdate&&0!==Re.schedulePriority&&0!==Re.basePriority&&Re.blockFrame!==this._frameNumber&&(Pe=!0,Ie=Math.max(Ie,Re.basePriority),1===Re.schedulePriority?(Re.schedulePriority=0,this._runQueue.push(Re)):--Re.schedulePriority)}),!Pe)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const Pe=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const Ie=this._budget.now(),Re=this._runQueue.pop();this._budget.resetProgress();try{Re.task.runTask(this._budget)===Q.YIELD&&(Re.blockFrame=this._frameNumber)}catch(Fe){W.Z.getLogger("esri.views.support.Scheduler").error(`Exception in task "${Re.name}"`,Fe)}!this._budget.hasProgressed&&Re.blockFrame!==this._frameNumber&&Re.needsUpdate&&(Re.blockFrame=this._frameNumber),Re.schedulePriority=Re.basePriority;const Ce=this._budget.now()-Ie;if(Re.runtime+=Ce,this._frameTaskTimes.set(Re.priority,this._frameTaskTimes.get(Re.priority)+Ce),this._debug&&Ce>2*this._budget.budget&&console.log("Task",Re.name,"used",Ce,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-Pe)}}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-Pe)}_startFrameTaskTimes(){for(const Pe of Object.keys(V))this._frameTaskTimes.set(V[Pe],0)}_recordFrameTaskTimes(Pe){this._frameTaskTimes.forEach((Ie,Re)=>this.performanceInfo.tasks.get(Re).record(Ie)),this.performanceInfo.total.record(Pe)}get test(){return this._test}};class Me{get task(){return this._task.get()}get updating(){return this._queue.running}constructor(Pe,Ie,Re,Ce){this._scheduler=Pe,this.name=Ie,this._basePriority=Ce,this.blockFrame=0,this.runtime=0,this._queue=new ne,this._handles=new w.Z,this.schedulePriority=this._basePriority,this._task=new Y.f((0,B.pC)(Re)?Re:this._queue),this._handles.add((0,Z.gx)(()=>this.task.running,Fe=>Pe.taskRunningChanged(Fe)))}remove(){this.processQueue(le),this._scheduler.removeTask(this),this.schedule=Ee.schedule,this.reschedule=Ee.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(Pe){this.name=Pe;const Ie=z(Pe);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=Ie),this._basePriority=Ie}get priority(){return this.name}set priority(Pe){this.setPriority(Pe)}get needsUpdate(){return this.updating||this.task.running}schedule(Pe,Ie,Re){return this._queue.push(Pe,Ie,Re)}reschedule(Pe,Ie,Re){return this._queue.unshift(Pe,Ie,Re)}processQueue(Pe){this._queue.runTask(Pe)}}class ce{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=ie.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(Pe){return!this.done&&(!0===Pe()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(Pe){this._enabled=Pe}reset(Pe,Ie){this._begin=this.now(),this._budget=Pe,this._state=Ie,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}ye.Budget=ce})(me||(me={})),function(ye){ye.SCHEDULED="s",ye.READY="r",ye.WAITING="w",ye.IDLE="i"}(_e||(_e={}));const le=(()=>{const ye=new me.Budget;return ye.enabled=!1,ye})(),Ee=new class fe{remove(){}processQueue(){}schedule(ue,Me,ce){try{if((0,ee.Hc)(Me)){const ge=(0,ee.zE)();return ce?Promise.resolve(ce(ge)):Promise.reject(ge)}return(0,ee.gx)(ue(le))}catch(ge){return Promise.reject(ge)}}reschedule(ue,Me,ce){return this.schedule(ue,Me,ce)}}},66463:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Z});var w=T(17626),O=T(14517),W=T(77712),re=(T(90912),T(85931),T(76898));let ee=class extends O.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,w._)([(0,W.Cb)()],ee.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,w._)([(0,W.Cb)()],ee.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),ee=(0,w._)([(0,re.j)("esri.views.support.DebugFlags")],ee);const Z=new ee},396:(j,F,T)=>{"use strict";T.d(F,{SP:()=>ie,dU:()=>ae,k0:()=>ee,xO:()=>G}),T(21286);var ie,z,O=T(67831),W=T(99770);function B(z,J){return z[0]*J[1]-z[1]*J[0]}function ee(z,J,q,oe,pe=q){return(0,O.a)(Q,oe,q),(0,O.a)(U,J,pe),function re(z,J,q){const oe=(0,O.h)(q,J)/(0,O.v)(q);(0,O.b)(z,q,oe)}($,U,Q),(0,O.j)(z,pe,$)}function G(z,J,q,oe){(0,O.a)(Q,J,q);const pe=oe/(0,O.i)(Q);return(0,O.w)(z,q,Q,pe)}function ae(z,J){const q=z.start,pe=J.start,de=J.end,be=(0,O.a)(Q,z.end,q),me=(0,O.a)(V,de,pe),_e=B(be,me);if(Math.abs(_e)<=te)return[];const le=(0,O.a)(U,q,pe),fe=B(me,le)/_e,Ee=B(be,le)/_e;if(fe>=0){if(Ee>=0||J.type===ie.LINE)return[(0,O.w)($,q,be,fe)]}else if(z.type===ie.LINE&&(Ee>=0||J.type===ie.LINE))return[(0,O.w)($,q,be,fe)];return[]}(z=ie||(ie={}))[z.RAY=0]="RAY",z[z.LINE=1]="LINE";const te=1e-6,Q=(0,W.a)(),V=(0,W.a)(),U=(0,W.a)(),$=(0,W.a)()},26362:(j,F,T)=>{"use strict";T.d(F,{CJ:()=>V,Ho:()=>pe,Jk:()=>q,Lh:()=>U,SD:()=>ee,Xi:()=>z,ZE:()=>te,fK:()=>Z,hm:()=>G,pk:()=>$,qi:()=>Y,sc:()=>se,z9:()=>ne});var q,Me,w=T(21286),O=T(67831),W=T(99770),B=T(84161),k=T(28093),re=T(396);function ee({start:Me,end:ce,type:ge},Pe,Ie){const Re=[],Ce=(0,O.a)(de,ce,Me),Fe=(0,O.a)(be,Me,Pe),Ne=(0,O.v)(Ce),Le=2*(0,O.h)(Ce,Fe),Oe=Le*Le-4*Ne*((0,O.v)(Fe)-Ie*Ie);if(0===Oe){const Ue=-Le/(2*Ne);(ge===q.PLANE||Ue>=0)&&Re.push((0,O.w)((0,W.a)(),Me,Ce,Ue))}else if(Oe>0){const Ue=Math.sqrt(Oe),ke=(-Le+Ue)/(2*Ne);(ge===q.PLANE||ke>=0)&&Re.push((0,O.w)((0,W.a)(),Me,Ce,ke));const Ye=(-Le-Ue)/(2*Ne);(ge===q.PLANE||Ye>=0)&&Re.push((0,O.w)((0,W.a)(),Me,Ce,Ye))}return Re}function Z(Me,ce){const ge=Me.start,Ie=(0,O.a)(de,Me.end,ge),Re=(0,B.s)(be,-Ie[1],Ie[0],0),Ce=ce.start,Ne=(0,B.w)(me,ce.end,Ce),Le=(0,B.e)(Ne,Re),Oe=(0,B.s)(_e,ge[0],ge[1],0),Ue=(0,B.w)(le,Oe,Ce),ke=(0,B.e)(Ue,Re);if(Math.abs(Le)<pe)return Math.abs(ke),[];const Ye=(0,B.z)(fe,Ce,Ne,ke/Le);if(ce.type===re.SP.RAY){const xe=(0,B.w)(Ee,Ye,Ce);if((0,B.e)(xe,Ne)<-pe)return[]}if(Me.type===q.HALF_PLANE){const xe=(0,O.e)(Ee,Ye,ge);if((0,O.h)(xe,Ie)<-pe)return[]}return[(0,k.a)(Ye)]}function G(Me,ce){return $(J(ye,ce[2],Me),ce)}function Y(Me,ce){const Pe=U(J(ye,0,Me),J(ue,0,ce)),Ie=[];for(const Re of Pe)Ie.push((0,W.d)(Re));return Ie}function ne(Me,ce){return te(Me,J(ye,Me[2],ce))}function se(Me,ce,ge){const Pe=(0,O.a)(de,Me,ce),Ie=ge/(0,O.i)(Pe),Re=(0,O.w)((0,k.c)(),ce,Pe,Ie);return Re[2]=Me[2],Re}function te(Me,{start:ce,end:ge,type:Pe}){const Ie=(0,B.w)(de,Me,ce),Re=(0,B.w)(be,ge,ce),Ce=(0,B.e)(Ie,Re)/(0,B.e)(Re,Re);return(0,B.z)((0,k.c)(),ce,Re,Pe===re.SP.RAY?Math.max(Ce,0):Ce)}function V({start:Me,end:ce,type:ge},Pe,Ie){const Re=[],Ce=(0,B.b)(de,ce,Me),Fe=(0,O.a)(be,Me,Pe),Ne=(0,O.v)(Ce),Le=2*(0,O.h)(Ce,Fe),Oe=Le*Le-4*Ne*((0,O.v)(Fe)-Ie*Ie);if(0===Oe){const Ue=-Le/(2*Ne);(ge===re.SP.LINE||Ue>=0)&&Re.push((0,B.z)((0,k.c)(),Me,Ce,Ue))}else if(Oe>0){const Ue=Math.sqrt(Oe),ke=(-Le+Ue)/(2*Ne);(ge===re.SP.LINE||ke>=0)&&Re.push((0,B.z)((0,k.c)(),Me,Ce,ke));const Ye=(-Le-Ue)/(2*Ne);(ge===re.SP.LINE||Ye>=0)&&Re.push((0,B.z)((0,k.c)(),Me,Ce,Ye))}return Re}function U(Me,ce){const ge=Me.start,Ie=ce.start,Re=ce.end,Ce=(0,B.w)(de,Me.end,ge),Fe=(0,B.w)(be,Re,Ie),Ne=(0,B.w)(me,Ie,ge),Le=(0,B.f)(_e,Ce,Fe),Oe=(0,B.e)(Ne,Le);if(!(0,w.W8)(Oe,0,pe))return[];const Ue=(0,B.D)(Le);if((0,w.W8)(Ue,0,pe))return[];const ke=(0,B.f)(le,Ne,Fe),Ye=(0,B.e)(ke,Le)/Ue,xe=(0,B.z)(fe,ge,Ce,Ye);if(Me.type===re.SP.RAY){const We=(0,B.w)(Ee,xe,ge);if((0,B.e)(Ce,We)<-pe)return[]}if(ce.type===re.SP.RAY){const We=(0,B.w)(Ee,xe,Ie);if((0,B.e)(Fe,We)<-pe)return[]}return[(0,k.a)(xe)]}function $({start:Me,end:ce,type:ge},Pe){const Ie=(0,B.w)(de,Pe,Me),Re=(0,B.w)(be,ce,Me),Ce=(0,B.f)(me,Re,Ie);if((0,B.D)(Ce)/(0,B.D)(Re)<pe)switch(ge){case re.SP.LINE:return[(0,k.a)(Pe)];case re.SP.RAY:return(0,B.e)(Re,Ie)<-pe?[]:[(0,k.a)(Pe)]}return[]}function z(Me,ce,ge){return(0,w.W8)((0,O.k)(ge,Me),ce*ce,pe)?[(0,k.a)(ge)]:[]}function J(Me,ce,{start:ge,end:Pe,type:Ie}){return(0,B.s)(Me.start,ge[0],ge[1],ce),(0,B.s)(Me.end,Pe[0],Pe[1],ce),Me.type=oe[Ie],Me}(Me=q||(q={}))[Me.PLANE=0]="PLANE",Me[Me.HALF_PLANE=1]="HALF_PLANE";const oe={[q.PLANE]:re.SP.LINE,[q.HALF_PLANE]:re.SP.RAY},pe=1e-6,de=(0,k.c)(),be=(0,k.c)(),me=(0,k.c)(),_e=(0,k.c)(),le=(0,k.c)(),fe=(0,k.c)(),Ee=(0,k.c)(),ye={start:(0,k.c)(),end:(0,k.c)(),type:re.SP.LINE},ue={start:(0,k.c)(),end:(0,k.c)(),type:re.SP.LINE}},69001:(j,F,T)=>{"use strict";T.d(F,{qm:()=>re});var w=T(62208);function k(Z){return(0,w.pC)(Z)&&"graphic"===Z.type}function re(Z){return Z.find(k)??null}},93579:(j,F,T)=>{"use strict";T.d(F,{rs:()=>B,tl:()=>O});var w=T(62208);function O(ee){return ee&&"function"==typeof ee.highlight}function B(ee,Z,G){return(0,w.Wi)(ee)||ee>G&&(0===Z||ee<Z)}},41900:(j,F,T)=>{"use strict";T.d(F,{Eu:()=>k,Rw:()=>ee,s6:()=>re,vT:()=>W}),T(8314);var O=T(23841);function W(Z){return(0,O.vW)(Z.x,Z.y)}function k(Z,G){const Y=(Z instanceof HTMLElement?Z:Z.surface)?.getBoundingClientRect();return Y?(0,O.vW)(G.clientX-Y.left,G.clientY-Y.top):(0,O.vW)(0,0)}function re(Z,G){return G instanceof Event?k(Z,G):W(G)}function ee(Z){if(Z instanceof Event)return!0;if("object"==typeof Z&&"type"in Z)switch(Z.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},18605:(j,F,T)=>{"use strict";T.d(F,{LI:()=>Q,RZ:()=>V,TT:()=>U,cv:()=>G,v8:()=>Y}),T(8314);var O=T(21286),W=T(62208);function G(ue,Me,ce){const{ctx:ge,canvas:Pe}=ne(ue,ce),Ie=ge.getImageData(0,0,ue.width,ue.height),Re=function te(ue,Me){return ue.toDataURL(_e[Me.format],Me.quality/100)}(Pe,Me);return ae(Pe),{dataUrl:Re,data:Ie}}function Y(ue,Me){const{ctx:ce,canvas:ge}=ne(ue,Me),Pe=ce.getImageData(0,0,ue.width,ue.height);return ae(ge),Pe}function ne(ue,Me){const ce=function se(){return(0,W.Wi)(ie)&&(ie=document.createElement("canvas")),ie}();Me.premultipliedAlpha&&function me(ue){const Me=ue.data,ce=Me.length;for(let ge=0;ge<ce;ge+=4){const Pe=Me[ge+3];if(255!==Pe&&Pe>0){const Ie=255/Pe;Me[ge+0]=Me[ge+0]*Ie,Me[ge+1]=Me[ge+1]*Ie,Me[ge+2]=Me[ge+2]*Ie}}}(ue),ce.width=ue.width,ce.height=ue.height;const ge=ce.getContext("2d",{willReadFrequently:!0});return ge.putImageData(ue,0,0),Me.flipY&&function be(ue){ue.save(),ue.globalCompositeOperation="copy",ue.scale(1,-1),ue.translate(0,-ue.canvas.height),ue.drawImage(ue.canvas,0,0),ue.restore()}(ge),{ctx:ge,canvas:ce}}function ae(ue){ue.width=0,ue.height=0}let ie=null;function Q(ue,Me){const ce=function de(ue){switch(ue){case"png":case"jpg":case"jpeg":return ue;default:return fe}}(ue);return{format:ce,quality:(0,O.uZ)(Me??Ee[ce],0,100)}}function V(ue,Me){return Me/Math.max(ue[0],ue[1])}function U(ue,Me,ce,ge=0,Pe=0,Ie=ue.width-ge,Re=ue.height-Pe,Ce=!1){const{data:Fe}=ue,{width:Ne,height:Le,data:Oe}=Me,Ue=Ie/Ne,ke=Re/Le,Ye=Math.ceil(Ue/2),xe=Math.ceil(ke/2),We=ue.width;for(let Qe=0;Qe<Le;Qe++)for(let lt=0;lt<Ne;lt++){const ve=4*(lt+(Ce?Le-Qe-1:Qe)*Ne);let Te=0,Be=0,Ge=0,$e=0,Xe=0,at=0;const we=(Qe+.5)*ke;for(let tt=Math.floor(Qe*ke);tt<(Qe+1)*ke;tt++){const pt=Math.abs(we-(tt+.5))/xe,Pt=(lt+.5)*Ue,mt=pt*pt;for(let St=Math.floor(lt*Ue);St<(lt+1)*Ue;St++){const ut=Math.abs(Pt-(St+.5))/Ye,_t=Math.sqrt(mt+ut*ut);if(_t>=1)continue;let Ct=2*_t*_t*_t-3*_t*_t+1;const Rt=4*(ge+St+(Pe+tt)*We);at+=Ct*Fe[Rt+3],Be+=Ct,!ce&&Fe[Rt+3]<255&&(Ct=Ct*Fe[Rt+3]/255),Ge+=Ct*Fe[Rt],$e+=Ct*Fe[Rt+1],Xe+=Ct*Fe[Rt+2],Te+=Ct}}Oe[ve]=Ge/Te,Oe[ve+1]=$e/Te,Oe[ve+2]=Xe/Te,Oe[ve+3]=at/Be}return Me}const _e={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},fe="png",Ee={png:100,jpg:98,jpeg:98}},31637:(j,F,T)=>{"use strict";T.d(F,{hc:()=>k});var w=T(62208),O=T(57596);let W,B;function k(te){const Q=(0,O.Sh)(te);for(;Q.length>1;){const V=re(Q.shift());if(V.available)return V}return re(Q.shift())}function re(te){switch(te){case O.zO.WEBGL1:return function ee(){return W||(W=function se(){const te=new Y,Q=ae(O.zO.WEBGL1,te);return(0,w.Wi)(Q)||(te.supportsElementIndexUint=null!==Q.getExtension("OES_element_index_uint"),te.supportsStandardDerivatives=null!==Q.getExtension("OES_standard_derivatives"),te.supportsInstancedArrays=null!==Q.getExtension("ANGLE_instanced_arrays"),te.supportsTextureFloat=null!==Q.getExtension("OES_texture_float"),te.supportsTextureHalfFloat=null!==Q.getExtension("OES_texture_half_float"),te.supportsColorBufferFloat=null!==Q.getExtension("WEBGL_color_buffer_float"),te.supportsColorBufferFloatBlend=null!==Q.getExtension("EXT_float_blend"),te.supportsColorBufferHalfFloat=null!==Q.getExtension("EXT_color_buffer_half_float")),te}()),W}();case O.zO.WEBGL2:return function Z(){return B||(B=function ie(){const te=new ne,Q=ae(O.zO.WEBGL2,te);return(0,w.Wi)(Q)||(te.supportsColorBufferFloat=null!==Q.getExtension("EXT_color_buffer_float"),te.supportsColorBufferFloatBlend=null!==Q.getExtension("EXT_float_blend"),te.supportsColorBufferHalfFloat=te.supportsColorBufferFloat||null!==Q.getExtension("EXT_color_buffer_half_float")),te}()),B}()}}class G{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class Y extends G{constructor(){super(...arguments),this.type=O.zO.WEBGL1}}class ne extends G{constructor(){super(...arguments),this.type=O.zO.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function ae(te,Q){if(te===O.zO.WEBGL1&&typeof WebGLRenderingContext>"u"||te===O.zO.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const V=document.createElement("canvas");if(!V)return null;let U=(0,O.kr)(V,te,{failIfMajorPerformanceCaveat:!0});if((0,w.Wi)(U)&&(U=(0,O.kr)(V,te),(0,w.pC)(U)&&(Q.majorPerformanceCaveat=!0)),(0,w.Wi)(U))return U;if(te===O.zO.WEBGL1){const z=U.getParameter(U.VERSION)?.match(/^WebGL\s+([\d.]*)/);if(z){const J=parseFloat(z[1]);Q.available=J>=.94}}else Q.available=!0;Q.maxTextureSize=U.getParameter(U.MAX_TEXTURE_SIZE),Q.supportsVertexShaderSamplers=U.getParameter(U.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const $=U.getShaderPrecisionFormat(U.FRAGMENT_SHADER,U.HIGH_FLOAT);return $&&(Q.supportsHighPrecisionFragment=$.precision>0),U}},57596:(j,F,T)=>{"use strict";T.d(F,{Sh:()=>k,kr:()=>ee,sj:()=>B,zO:()=>W});var W,ne,w=T(8314),O=T(62208);function B(ne,ae,se={}){const ie=k(ne);for(;ie.length>1;){const te=ee(ae,ie.shift(),se);if((0,O.pC)(te))return te}return function re(ne,ae,se={}){if(!window.WebGLRenderingContext)return Z(ne,G),null;const ie=ee(ne,ae,se);return(0,O.Wi)(ie)&&Z(ne,Y),ie}(ae,ie.shift(),se)}function k(ne){const ae=(0,w.Z)("esri-force-webgl");if(ae===W.WEBGL1||ae===W.WEBGL2)return[ae];switch(ne){case"2d":return(0,w.Z)("mac")&&(0,w.Z)("chrome")?[W.WEBGL1,W.WEBGL2]:[W.WEBGL2,W.WEBGL1];case"3d":return[W.WEBGL2,W.WEBGL1]}}function ee(ne,ae,se={}){const ie=ae===W.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let te=null;for(const Q of ie){try{te=ne.getContext(Q,se)}catch{}if(te)break}return te}function Z(ne,ae){const se=ne.parentNode;se&&(se.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+ae+"</div></div></td></tr></table>")}(ne=W||(W={}))[ne.WEBGL1=1]="WEBGL1",ne[ne.WEBGL2=2]="WEBGL2";const G='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',Y='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(j,F,T)=>{"use strict";T.d(F,{a:()=>O,b:()=>W});var w=T(90912);function O(B){const k=(0,w.vU)(100*(1-B));return Math.max(0,Math.min(k,100))}function W(B){return Math.max(0,Math.min(1-B/100,1))}},32584:(j,F,T)=>{"use strict";T.d(F,{Nw:()=>Q});var w=T(26584),O=T(58817),W=T(62208),B=T(94113),k=T(23025),re=T(72469);const ee=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Z=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function ie(V,U){"maxScale"in V&&(U.maxScale=(0,k.k)(V.maxScale)??void 0),"minScale"in V&&(U.minScale=(0,k.k)(V.minScale)??void 0)}function Q(V,U,$){if(!("write"in V)||!V.write)return $&&$.messages&&$.messages.push(new w.Z("layer:unsupported",`Layers (${V.title}, ${V.id}) of type '${V.declaredClass}' cannot be persisted`,{layer:V})),null;if(function ae(V,U){if(U.restrictedWebMapWriting){const $=function ne(V){return"basemap"===V.layerContainerType?ee:"operational-layers"===V.layerContainerType?Z:null}(U);return!(0,W.pC)($)||$.has(V.type)&&!(0,re.rQ)(V)}return!0}(V,$)){const z={};return V.write(z,$)?z:null}return(0,W.pC)(U)&&function te(V,U){if(function se(V,U){if(U)if((0,re.rQ)(V)){const $=(0,B.hS)("featureCollection.layers",U),z=$&&$[0]&&$[0].layerDefinition;z&&ie(V,z)}else"stream"===V.type?ie(V,U.layerDefinition=U.layerDefinition||{}):"group"!==V.type&&ie(V,U)}(V,U),U&&("blendMode"in V&&(U.blendMode=V.blendMode,"normal"===U.blendMode&&delete U.blendMode),U.opacity=(0,k.k)(V.opacity)??void 0,U.title=V.title||"Layer",U.visibility=V.visible,"legendEnabled"in V&&"wmts"!==V.type))if((0,re.rQ)(V)){const $=U.featureCollection;$&&($.showLegend=V.legendEnabled)}else U.showLegend=V.legendEnabled}(V,U=(0,O.d9)(U)),U}},40915:(j,F,T)=>{"use strict";T.d(F,{Z:()=>$e});var w=T(15861),O=T(17626),B=(T(52515),T(40764)),k=T(61885),re=T(17770),ee=T(72392),G=(T(8314),T(58817)),Y=T(63290),ne=T(62208),ae=T(60330),se=T(10699),ie=T(32917),te=T(35948),Q=T(77712),V=T(66656),U=T(76898),$=T(36082),z=T(819),J=T(39605);T(62996);const oe={handleInterceptedEvent:(Xe,at,we,tt)=>(Xe.scheduleRender(),at.properties[`on${tt.type}`].apply(at.properties.bind||we,[tt]))},pe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(Xe,at,we)=>{Xe.style[at]=we}},_e=(Xe,at,we=!1)=>{let tt=Xe;return at.forEach((pt,Pt)=>{const mt=tt?.children?((Xe,at)=>Xe.find(St=>St.domNode===pt))(tt.children):void 0;we&&!mt&&Pt!==at.length-1||(tt=mt)}),tt};var fe=T(76210),Ee=T(46203);function ye(){const{classList:Xe}=document.body,at=window.matchMedia("(prefers-color-scheme: dark)").matches,we=()=>Xe.contains(Ee.d)||Xe.contains(Ee.a)&&at?"dark":"light",tt=mt=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:mt}})),pt=mt=>{Pt!==mt&&tt(mt),Pt=mt};let Pt=we();tt(Pt),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",mt=>pt(mt.matches?"dark":"light")),new MutationObserver(()=>pt(we())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}!function ue(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&("interactive"===document.readyState?ye():document.addEventListener("DOMContentLoaded",()=>ye(),{once:!0}))}();var ce=T(54346),ge=T(21726);let Pe;Pe="components/assets";var Re=T(81431),Ce=T(3945);const Fe=new Set;var xe,Oe=T(66950),Ue=T(38570),ke=T(56683),Ye=T(41840);let Qe=0;function ve(Xe,at){for(const we in at)null!=Xe[we]&&("object"==typeof Xe[we]&&"object"==typeof at[we]?ve(Xe[we],at?.[we]):Xe[we]=at[we]);return Xe}const Te=(Xe=>{let at;const we={...oe,...Xe},tt=(Xe=>({...pe,...Xe}))(we),pt=tt.performanceLogger;let Pt,mt=!0,St=!1;const ut=[],_t=[],Ct=(Gt,bn,Mn)=>{let Dn;tt.eventHandlerInterceptor=(an,Fn,zn,rr)=>function(mr){let Et;pt("domEvent",mr);const Dt=((Xe,at)=>{const we=[];for(;Xe&&Xe!==at;)we.push(Xe),Xe=Xe.parentNode;return we})(mr.currentTarget,Dn.domNode),Bt=Dt.some(on=>customElements.get(on?.tagName?.toLowerCase()));if(mr.eventPhase!==Event.CAPTURING_PHASE&&Bt){const on=mr.composedPath(),rn=on.slice(on.indexOf(mr.currentTarget),on.indexOf(Dn.domNode)).filter(cn=>cn.getRootNode()===cn.ownerDocument).reverse();Et=_e(Dn.getLastRender(),rn,!0)}else Dt.reverse(),Et=_e(Dn.getLastRender(),Dt);let Ht;return Et&&(Ht=we.handleInterceptedEvent(at,Et,this,mr)),pt("domEventProcessed",mr),Ht},we.postProcessProjectionOptions?.(tt);const Kn=Mn();Dn=Gt(bn,Kn,tt),ut.push(Dn),_t.push(Mn),we.afterFirstVNodeRendered&&we.afterFirstVNodeRendered(Dn,Kn)};let Rt=()=>{if(Pt=void 0,mt){mt=!1,pt("renderStart",void 0);for(let Gt=0;Gt<ut.length;Gt++){const bn=_t[Gt]();pt("rendered",void 0),ut[Gt].update(bn),pt("patched",void 0)}pt("renderDone",void 0),mt=!0}};return we.modifyDoRenderImplementation&&(Rt=we.modifyDoRenderImplementation(Rt,ut,_t)),at={renderNow:Rt,scheduleRender:()=>{Pt||St||(Pt=requestAnimationFrame(Rt))},stop:()=>{Pt&&(cancelAnimationFrame(Pt),Pt=void 0),St=!0},resume:()=>{St=!1,mt=!0,at.scheduleRender()},append:(Gt,bn)=>{Ct(J.v.append,Gt,bn)},insertBefore:(Gt,bn)=>{Ct(J.v.insertBefore,Gt,bn)},merge:(Gt,bn)=>{Ct(J.v.merge,Gt,bn)},replace:(Gt,bn)=>{Ct(J.v.replace,Gt,bn)},detach:Gt=>{for(let bn=0;bn<_t.length;bn++)if(_t[bn]===Gt)return _t.splice(bn,1),ut.splice(bn,1)[0];throw new Error("renderFunction was not found")}},at})({postProcessProjectionOptions(Xe){const at=Xe.eventHandlerInterceptor,we=/capture$/i;Xe.eventHandlerInterceptor=(tt,pt,Pt,mt)=>{const St=at?.(tt,pt,Pt,mt),ut=we.test(tt);if(!((tt=tt.replace(we,"")).toLowerCase()in Pt)||ut){const _t=tt[2].toLowerCase()+tt.slice(3),Ct=bn=>St?.call(Pt,bn);Pt.addEventListener(_t,Ct,ut);const Rt=()=>Pt.removeEventListener(_t,Ct,ut),Gt=mt.afterRemoved;mt.afterRemoved=bn=>{Gt?.(bn),Rt()}}return St}},handleInterceptedEvent(Xe,at,we,tt){const{eventPhase:pt,type:Pt}=tt,mt=pt===Event.CAPTURING_PHASE;let St=`on${Pt}${mt?"capture":""}`;const ut=at.properties;(ut&&St in ut||(St=`on${Pt[0].toUpperCase()}${Pt.slice(1)}${mt?"Capture":""}`,ut&&St in ut))&&((0,Oe.Uy)(),Xe.scheduleRender(),ut[St].call(ut.bind||we,tt))}});let Be=!1,Ge=class extends((0,ae.v)(k.Z.EventedAccessor)){constructor(Xe,at){var we;super(Xe,at),we=this,this._attached=!1,this._internalHandles=new ee.Z,this._projector=Te,this._readyForTrueRender=!1,this.iconClass="esri-icon-checkbox-unchecked",this.key=this,this._loadLocale=(0,se.Ds)((0,w.Z)(function*(){if(we._messageBundleProps&&we._messageBundleProps.length){const mt=yield(0,se.as)(we._messageBundleProps.map(function(){var St=(0,w.Z)(function*({bundlePath:ut,propertyName:_t}){let Ct=yield(0,Ye.ME)(ut);we.uiStrings&&Object.keys(we.uiStrings)&&(Ct=ve((0,G.d9)(Ct),we.uiStrings)),we[_t]=Ct});return function(ut){return St.apply(this,arguments)}}()));for(const St of mt)St.error&&Y.Z.getLogger(we.declaredClass).error("widget-intl:locale-error",we.declaredClass,St.error)}yield we.loadLocale()})),function Ie(){(0,fe.YY)((0,ge.hF)((0,ce.V)("components/assets")))}();const tt="esri-widget-uid-"+(0,te.D)(),pt=this.render.bind(this);this._trackingTarget=new z.M(()=>this.scheduleRender());const Pt=()=>{if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:tt,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const mt=pt();let{properties:St}=mt;St||(mt.properties=St={});let{key:ut,styles:_t}=St;ut||(St.key=tt),_t||(St.styles=_t={}),_t.display||(_t.display="");let Ct=0;return mt.children?.forEach(Rt=>{if((0,Re.Z)(Rt.vnodeSelector))return;let{properties:Gt}=Rt;Gt||(Rt.properties=Gt={}),Gt.key||(Gt.key=`${this.id}--${Ct++}`)}),(0,Re.d)(this,mt)};this.render=()=>{if(Be)return Pt();let mt=(0,Oe.O9)(this)??null;if(mt)return mt;this._trackingTarget.clear(),Be=!0;try{mt=(0,$.LJ)(this._trackingTarget,Pt)}catch(St){throw console.error(St),St}finally{Be=!1}return mt&&(0,Oe.KF)(this,mt),mt},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),function Ne(Xe){Fe.add(Xe),Xe.finally(()=>Fe.delete(Xe))}(this._resourcesFetch)}normalizeCtorArgs(Xe,at){const we={...Xe};return at&&(we.container=at),we}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(se.H9)}loadDependencies(){return(0,w.Z)(function*(){})()}loadLocale(){return(0,w.Z)(function*(){})()}destroy(){this.destroyed||((0,ne.SC)(this._trackingTarget),(0,ne.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,Oe.w7)(this))}set container(Xe){this._get("container")||this._set("container",Xe)}castContainer(Xe){return(0,B.L7)(Xe)}get domNode(){return this.container}set domNode(Xe){this.container=Xe}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Qe++}set id(Xe){Xe&&this._set("id",Xe)}get label(){return this.declaredClass.split(".").pop()}set label(Xe){this._overrideIfSome("label",Xe)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(Xe){this._set("visible",Xe)}get[(xe=Ce.$,Ce.r)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,Oe.w7)(this),this._projector.scheduleRender())}classes(...Xe){return Ue.Sh.apply(this,Xe)}renderNow(){(0,Oe.w7)(this),this._projector.renderNow()}_postInitialize(){var Xe=this;if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this._internalHandles.add((0,ie.YP)(()=>this.viewModel,(we,tt)=>{tt&&this._internalHandles.remove("delegated-events"),we&&(0,re.vT)(we)&&this._internalHandles.add(this._delegatedEventNames.map(pt=>(0,re.on)(we,pt,Pt=>{this.emit(pt,Pt)})),"delegated-events")},ie.nn)),this.postInitialize();const at=function(){var we=(0,w.Z)(function*(){yield Xe._loadLocale().catch(se.H9),Xe.scheduleRender()});return function(){return we.apply(this,arguments)}}();this._internalHandles.add([(0,ke.qe)(at),(0,ie.YP)(()=>this.uiStrings,at),(0,ie.gx)(()=>this.container,we=>{this.destroyed||this._attach(we)},{initial:!0,once:!0})])}_attach(Xe){Xe&&(this._projector.merge(Xe,this.render),this._attached=!0)}_detach(Xe){this._attached&&(this._projector.detach(this.render),this._attached=!1),Xe?.parentNode?.removeChild(Xe)}};Ge[xe]=!0,(0,O._)([(0,Q.Cb)()],Ge.prototype,"_readyForTrueRender",void 0),(0,O._)([(0,Q.Cb)({value:null})],Ge.prototype,"container",null),(0,O._)([(0,V.p)("container")],Ge.prototype,"castContainer",null),(0,O._)([(0,Q.Cb)()],Ge.prototype,"iconClass",void 0),(0,O._)([(0,Q.Cb)()],Ge.prototype,"id",null),(0,O._)([(0,Q.Cb)()],Ge.prototype,"label",null),(0,O._)([(0,Q.Cb)()],Ge.prototype,"renderable",null),(0,O._)([(0,Q.Cb)()],Ge.prototype,"uiStrings",void 0),(0,O._)([(0,Q.Cb)()],Ge.prototype,"viewModel",void 0),(0,O._)([(0,Q.Cb)({value:!0})],Ge.prototype,"visible",null),(0,O._)([(0,Q.Cb)()],Ge.prototype,"key",void 0),(0,O._)([(0,Q.Cb)()],Ge.prototype,"children",void 0),(0,O._)([(0,Q.Cb)()],Ge.prototype,"afterCreate",void 0),(0,O._)([(0,Q.Cb)()],Ge.prototype,"afterUpdate",void 0),(0,O._)([(0,Q.Cb)()],Ge.prototype,"afterRemoved",void 0),Ge=(0,O._)([(0,U.j)("esri.widgets.Widget")],Ge);const $e=Ge},24940:(j,F,T)=>{"use strict";T.d(F,{h:()=>O});var w=T(38570);function O(){return function(k,re){if(!k[re])throw new TypeError(`Cannot auto bind undefined function '${re}'`);return{value:B(k[re])}}}function B(k){return function(re,...ee){!function W(k){const re=k?.type;return k instanceof KeyboardEvent||"keyup"===re||"keydown"===re||"keypress"===re}(re)?k.call(this,re,...ee):(0,w.pf)(re.key)&&(re.preventDefault(),re.stopPropagation(),re.target.click())}}},25552:(j,F,T)=>{"use strict";function w(O){return(W,B)=>{W.hasOwnProperty("_messageBundleProps")||(W._messageBundleProps=W._messageBundleProps?W._messageBundleProps.slice():[]),W._messageBundleProps.push({bundlePath:O,propertyName:B})}}T.d(F,{H:()=>w})},94450:(j,F,T)=>{"use strict";T.d(F,{u:()=>k});var w=T(81431),O=function(ee){return{vnodeSelector:"",properties:void 0,children:void 0,text:ee.toString(),domNode:null}},W=function(ee,Z){for(var G=0,Y=ee.length;G<Y;G++){var ne=ee[G];Array.isArray(ne)?W(ne,Z):null!=ne&&!1!==ne&&(ne.hasOwnProperty("vnodeSelector")||(ne=O(ne)),Z.push(ne))}};function k(ee,Z,...G){return"function"!=typeof ee||(0,w.Z)(ee)?function(ee,Z){for(var G=[],Y=2;Y<arguments.length;Y++)G[Y-2]=arguments[Y];if(1===G.length&&"string"==typeof G[0])return{vnodeSelector:ee,properties:Z||void 0,children:void 0,text:G[0],domNode:null};var ne=[];return W(G,ne),{vnodeSelector:ee,properties:Z||void 0,children:ne,text:void 0,domNode:null}}(ee,Z,...G):ee(Z,...G)}},81431:(j,F,T)=>{"use strict";T.d(F,{Z:()=>Y,d:()=>re});var w=T(54024),O=T(3945);const W=[],B={},k=new WeakMap;function re(ne,ae){let se=ae.children;if(se&&se.length)for(let te=0;te<se.length;++te)se[te]=re(ne,se[te]);else se=W;const ie=ae.vnodeSelector;if(Y(ie)){const te=ae.properties||B,Q=te.key||ie;return{vnodeSelector:"div",properties:{key:Q,afterCreate:ee,afterUpdate:Z,afterRemoved:G,parentWidget:ne,widgetConstructor:ie,widgetProperties:{...te,key:Q,children:se}},children:void 0,text:void 0,domNode:null}}return ae}function ee(ne,ae,se,{parentWidget:ie,widgetConstructor:te,widgetProperties:Q}){const V=new te(Q);V.container=ne,k.set(ne,V),V.afterCreate?.(V,ne),ie._internalHandles.add((0,w.kB)(()=>G(ne)))}function Z(ne,ae,se,{widgetProperties:ie}){const te=k.get(ne);te&&(te.set(ie),te.afterUpdate?.(te,ne))}function G(ne){const ae=k.get(ne);ae&&(ae.afterRemoved?.(ae,ne),ae.destroy(),k.delete(ne))}function Y(ne){return"function"==typeof ne&&ne[O.$]}},3945:(j,F,T)=>{"use strict";T.d(F,{$:()=>w,r:()=>O});const w=Symbol("widget"),O=Symbol("widget-test-data")},66950:(j,F,T)=>{"use strict";T.d(F,{KF:()=>B,O9:()=>W,Uy:()=>O,w7:()=>k});const w=new Map;function O(){w.clear()}function W(re){return w.get(re)}function B(re,ee){w.set(re,ee)}function k(re){w.delete(re)}},13777:(j,F,T)=>{"use strict";function B(re){return re&&"function"==typeof re.render}function k(re){return re&&"function"==typeof re.postMixInProperties&&"function"==typeof re.buildRendering&&"function"==typeof re.postCreate&&"function"==typeof re.startup}T.d(F,{Qd:()=>B,o:()=>k}),T(24940),T(94450),T(38570)},38570:(j,F,T)=>{"use strict";T.d(F,{Sh:()=>It,vU:()=>Yt,pV:()=>yt,pf:()=>Jn,dZ:()=>Qt,w3:()=>Lr,Yo:()=>Vt});var O={exports:{}},W={},B={exports:{}},k={};function re(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var G=/javascript\s*\:/gim;k.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},k.getDefaultWhiteList=re,k.onAttr=function ee(He,$t,it){},k.onIgnoreAttr=function Z(He,$t,it){},k.safeAttrValue=function Y(He,$t){return G.test($t)?"":$t};var ae_trim=function(He){return String.prototype.trim?He.trim():He.replace(/(^\s*)|(\s*$)/g,"")},ae_trimRight=function(He){return String.prototype.trimRight?He.trimRight():He.replace(/(\s*$)/g,"")},te=k;function V(He){return null==He}function $(He){(He=function U(He){var $t={};for(var it in He)$t[it]=He[it];return $t}(He||{})).whiteList=He.whiteList||te.whiteList,He.onAttr=He.onAttr||te.onAttr,He.onIgnoreAttr=He.onIgnoreAttr||te.onIgnoreAttr,He.safeAttrValue=He.safeAttrValue||te.safeAttrValue,this.options=He}$.prototype.process=function(He){if(!(He=(He=He||"").toString()))return"";var it=this.options,ft=it.whiteList,jt=it.onAttr,Jt=it.onIgnoreAttr,En=it.safeAttrValue;return function se(He,$t){";"!==(He=ae_trimRight(He))[He.length-1]&&(He+=";");var it=He.length,ft=!1,jt=0,Jt=0,En="";function wn(){if(!ft){var fr=ae_trim(He.slice(jt,Jt)),nr=fr.indexOf(":");if(-1!==nr){var $r=ae_trim(fr.slice(0,nr)),Zr=ae_trim(fr.slice(nr+1));if($r){var ni=$t(jt,En.length,$r,Zr,fr);ni&&(En+=ni+"; ")}}}jt=Jt+1}for(;Jt<it;Jt++){var Hn=He[Jt];if("/"===Hn&&"*"===He[Jt+1]){var Sr=He.indexOf("*/",Jt+2);if(-1===Sr)break;jt=(Jt=Sr+1)+1,ft=!1}else"("===Hn?ft=!0:")"===Hn?ft=!1:";"===Hn?ft||wn():"\n"===Hn&&wn()}return ae_trim(En)}(He,function(Hn,Sr,fr,nr,$r){var Zr=ft[fr],ni=!1;if(!0===Zr?ni=Zr:"function"==typeof Zr?ni=Zr(nr):Zr instanceof RegExp&&(ni=Zr.test(nr)),!0!==ni&&(ni=!1),nr=En(fr,nr)){var Ui,wr={position:Sr,sourcePosition:Hn,source:$r,isWhite:ni};if(ni)return V(Ui=jt(fr,nr,wr))?fr+":"+nr:Ui;if(!V(Ui=Jt(fr,nr,wr)))return Ui}})};var z=$;!function(He,$t){var it=k,ft=z;for(var Jt in($t=He.exports=function jt(En,wn){return new ft(wn).process(En)}).FilterCSS=ft,it)$t[Jt]=it[Jt]}(B,B.exports);var J={indexOf:function(He,$t){var it,ft;if(Array.prototype.indexOf)return He.indexOf($t);for(it=0,ft=He.length;it<ft;it++)if(He[it]===$t)return it;return-1},forEach:function(He,$t,it){var ft,jt;if(Array.prototype.forEach)return He.forEach($t,it);for(ft=0,jt=He.length;ft<jt;ft++)$t.call(it,He[ft],ft,He)},trim:function(He){return String.prototype.trim?He.trim():He.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(He){var it=/\s|\n|\t/.exec(He);return it?it.index:-1}},oe=B.exports.getDefaultWhiteList,pe=J;var be=new(0,B.exports.FilterCSS);function Ee(He){return He.replace(ue,"&lt;").replace(Me,"&gt;")}var ue=/</g,Me=/>/g,ce=/"/g,ge=/&quot;/g,Pe=/&#([a-zA-Z0-9]*);?/gim,Ie=/&colon;?/gim,Re=/&newline;?/gim,Ce=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Fe=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ne=/u\s*r\s*l\s*\(.*/gi;function Le(He){return He.replace(ce,"&quot;")}function Oe(He){return He.replace(ge,'"')}function Ue(He){return He.replace(Pe,function(it,ft){return String.fromCharCode("x"===ft[0]||"X"===ft[0]?parseInt(ft.substr(1),16):parseInt(ft,10))})}function ke(He){return He.replace(Ie,":").replace(Re," ")}function Ye(He){for(var $t="",it=0,ft=He.length;it<ft;it++)$t+=He.charCodeAt(it)<32?" ":He.charAt(it);return pe.trim($t)}function xe(He){return Ye(He=ke(He=Ue(He=Oe(He))))}function We(He){return Ee(He=Le(He))}W.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},W.getDefaultWhiteList=function de(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},W.onTag=function me(He,$t,it){},W.onIgnoreTag=function _e(He,$t,it){},W.onTagAttr=function le(He,$t,it){},W.onIgnoreTagAttr=function fe(He,$t,it){},W.safeAttrValue=function ye(He,$t,it,ft){if(it=xe(it),"href"===$t||"src"===$t){if("#"===(it=pe.trim(it)))return"#";if("http://"!==it.substr(0,7)&&"https://"!==it.substr(0,8)&&"mailto:"!==it.substr(0,7)&&"tel:"!==it.substr(0,4)&&"data:image/"!==it.substr(0,11)&&"ftp://"!==it.substr(0,6)&&"./"!==it.substr(0,2)&&"../"!==it.substr(0,3)&&"#"!==it[0]&&"/"!==it[0])return""}else if("background"===$t){if(Ce.lastIndex=0,Ce.test(it))return""}else if("style"===$t){if(Fe.lastIndex=0,Fe.test(it)||(Ne.lastIndex=0,Ne.test(it)&&(Ce.lastIndex=0,Ce.test(it))))return"";!1!==ft&&(it=(ft=ft||be).process(it))}return We(it)},W.escapeHtml=Ee,W.escapeQuote=Le,W.unescapeQuote=Oe,W.escapeHtmlEntities=Ue,W.escapeDangerHtml5Entities=ke,W.clearNonPrintableCharacter=Ye,W.friendlyAttrValue=xe,W.escapeAttrValue=We,W.onIgnoreTagStripAll=function Qe(){return""},W.StripTagBody=function lt(He,$t){"function"!=typeof $t&&($t=function(){});var it=!Array.isArray(He),jt=[],Jt=!1;return{onIgnoreTag:function(En,wn,Hn){if(function ft(En){return!!it||-1!==pe.indexOf(He,En)}(En)){if(Hn.isClosing){var Sr="[/removed]";return jt.push([!1!==Jt?Jt:Hn.position,Hn.position+Sr.length]),Jt=!1,Sr}return Jt||(Jt=Hn.position),"[removed]"}return $t(En,wn,Hn)},remove:function(En){var wn="",Hn=0;return pe.forEach(jt,function(Sr){wn+=En.slice(Hn,Sr[0]),Hn=Sr[1]}),wn+=En.slice(Hn)}}},W.stripCommentTag=function ve(He){for(var $t="",it=0;it<He.length;){var ft=He.indexOf("\x3c!--",it);if(-1===ft){$t+=He.slice(it);break}$t+=He.slice(it,ft);var jt=He.indexOf("--\x3e",ft);if(-1===jt)break;it=jt+3}return $t},W.stripBlankChar=function Te(He){var $t=He.split("");return($t=$t.filter(function(it){var ft=it.charCodeAt(0);return!(127===ft||ft<=31&&10!==ft&&13!==ft)})).join("")},W.cssFilter=be,W.getDefaultCSSWhiteList=oe;var Be={},Ge=J;function $e(He){var it,$t=Ge.spaceIndex(He);return it=He.slice(1,-1===$t?-1:$t+1),"/"===(it=Ge.trim(it).toLowerCase()).slice(0,1)&&(it=it.slice(1)),"/"===it.slice(-1)&&(it=it.slice(0,-1)),it}function Xe(He){return"</"===He.slice(0,2)}var we=/[^a-zA-Z0-9\\_:.-]/gim;function pt(He,$t){for(;$t<He.length;$t++){var it=He[$t];if(" "!==it)return"="===it?$t:-1}}function Pt(He,$t){for(;$t<He.length;$t++){var it=He[$t];if(" "!==it)return"'"===it||'"'===it?$t:-1}}function mt(He,$t){for(;$t>0;$t--){var it=He[$t];if(" "!==it)return"="===it?$t:-1}}function ut(He){return function St(He){return'"'===He[0]&&'"'===He[He.length-1]||"'"===He[0]&&"'"===He[He.length-1]}(He)?He.substr(1,He.length-2):He}Be.parseTag=function at(He,$t,it){var ft="",jt=0,Jt=!1,En=!1,wn=0,Hn=He.length,Sr="",fr="";e:for(wn=0;wn<Hn;wn++){var nr=He.charAt(wn);if(!1===Jt){if("<"===nr){Jt=wn;continue}}else if(!1===En){if("<"===nr){ft+=it(He.slice(jt,wn)),Jt=wn,jt=wn;continue}if(">"===nr){ft+=it(He.slice(jt,Jt)),Sr=$e(fr=He.slice(Jt,wn+1)),ft+=$t(Jt,ft.length,Sr,fr,Xe(fr)),jt=wn+1,Jt=!1;continue}if('"'===nr||"'"===nr)for(var $r=1,Zr=He.charAt(wn-$r);""===Zr.trim()||"="===Zr;){if("="===Zr){En=nr;continue e}Zr=He.charAt(wn-++$r)}}else if(nr===En){En=!1;continue}}return jt<He.length&&(ft+=it(He.substr(jt))),ft},Be.parseAttr=function tt(He,$t){var it=0,ft=0,jt=[],Jt=!1,En=He.length;function wn($r,Zr){if(!(($r=($r=Ge.trim($r)).replace(we,"").toLowerCase()).length<1)){var ni=$t($r,Zr||"");ni&&jt.push(ni)}}for(var Hn=0;Hn<En;Hn++){var nr,Sr=He.charAt(Hn);if(!1!==Jt||"="!==Sr)if(!1===Jt||Hn!==ft){if(/\s|\n|\t/.test(Sr)){if(He=He.replace(/\s|\n|\t/g," "),!1===Jt){if(-1===(nr=pt(He,Hn))){wn(Ge.trim(He.slice(it,Hn))),Jt=!1,it=Hn+1;continue}Hn=nr-1;continue}if(-1===(nr=mt(He,Hn-1))){wn(Jt,ut(Ge.trim(He.slice(it,Hn)))),Jt=!1,it=Hn+1;continue}}}else{if(-1===(nr=He.indexOf(Sr,Hn+1)))break;wn(Jt,Ge.trim(He.slice(ft+1,nr))),Jt=!1,it=(Hn=nr)+1}else Jt=He.slice(it,Hn),ft='"'===He.charAt(it=Hn+1)||"'"===He.charAt(it)?it:Pt(He,Hn+1)}return it<He.length&&(!1===Jt?wn(He.slice(it)):wn(Jt,ut(Ge.trim(He.slice(it))))),Ge.trim(jt.join(" "))};var _t=B.exports.FilterCSS,Ct=W,Gt=Be.parseTag,bn=Be.parseAttr,Mn=J;function Dn(He){return null==He}function zn(He){(He=function an(He){var $t={};for(var it in He)$t[it]=He[it];return $t}(He||{})).stripIgnoreTag&&(He.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),He.onIgnoreTag=Ct.onIgnoreTagStripAll),He.whiteList=He.whiteList||He.allowList?function Fn(He){var $t={};for(var it in He)Array.isArray(He[it])?$t[it.toLowerCase()]=He[it].map(function(ft){return ft.toLowerCase()}):$t[it.toLowerCase()]=He[it];return $t}(He.whiteList||He.allowList):Ct.whiteList,He.onTag=He.onTag||Ct.onTag,He.onTagAttr=He.onTagAttr||Ct.onTagAttr,He.onIgnoreTag=He.onIgnoreTag||Ct.onIgnoreTag,He.onIgnoreTagAttr=He.onIgnoreTagAttr||Ct.onIgnoreTagAttr,He.safeAttrValue=He.safeAttrValue||Ct.safeAttrValue,He.escapeHtml=He.escapeHtml||Ct.escapeHtml,this.options=He,!1===He.css?this.cssFilter=!1:(He.css=He.css||{},this.cssFilter=new _t(He.css))}zn.prototype.process=function(He){if(!(He=(He=He||"").toString()))return"";var it=this.options,ft=it.whiteList,jt=it.onTag,Jt=it.onIgnoreTag,En=it.onTagAttr,wn=it.onIgnoreTagAttr,Hn=it.safeAttrValue,Sr=it.escapeHtml,fr=this.cssFilter;it.stripBlankChar&&(He=Ct.stripBlankChar(He)),it.allowCommentTag||(He=Ct.stripCommentTag(He));var nr=!1;it.stripIgnoreTagBody&&(nr=Ct.StripTagBody(it.stripIgnoreTagBody,Jt),Jt=nr.onIgnoreTag);var $r=Gt(He,function(Zr,ni,wr,Ui,ui){var Ji={sourcePosition:Zr,position:ni,isClosing:ui,isWhite:Object.prototype.hasOwnProperty.call(ft,wr)},Is=jt(wr,Ui,Ji);if(!Dn(Is))return Is;if(Ji.isWhite){if(Ji.isClosing)return"</"+wr+">";var yr=function Kn(He){var $t=Mn.spaceIndex(He);if(-1===$t)return{html:"",closing:"/"===He[He.length-2]};var it="/"===(He=Mn.trim(He.slice($t+1,-1)))[He.length-1];return it&&(He=Mn.trim(He.slice(0,-1))),{html:He,closing:it}}(Ui),zt=ft[wr],Hr=bn(yr.html,function(ur,di){var Tt=-1!==Mn.indexOf(zt,ur),dt=En(wr,ur,di,Tt);return Dn(dt)?Tt?(di=Hn(wr,ur,di,fr))?ur+'="'+di+'"':ur:Dn(dt=wn(wr,ur,di,Tt))?void 0:dt:dt});return Ui="<"+wr,Hr&&(Ui+=" "+Hr),yr.closing&&(Ui+=" /"),Ui+">"}return Dn(Is=Jt(wr,Ui,Ji))?Sr(Ui):Is},Sr);return nr&&($r=nr.remove($r)),$r};var rr=zn;!function(He,$t){var it=W,ft=Be,jt=rr;function Jt(wn,Hn){return new jt(Hn).process(wn)}($t=He.exports=Jt).filterXSS=Jt,$t.FilterXSS=jt,function(){for(var wn in it)$t[wn]=it[wn];for(var Hn in ft)$t[Hn]=ft[Hn]}(),function En(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=He.exports)}(O,O.exports);var rn,cn,mr=function(){function He($t,it){var jt,ft=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Jt,En,wn,Hn){return"a"===Jt&&"href"===En||("img"===Jt||"source"===Jt)&&"src"===En?ft.sanitizeUrl(wn):O.exports.safeAttrValue(Jt,En,wn,Hn)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},$t&&!it?jt=$t:$t&&it?(jt=Object.create(this.arcgisFilterOptions),Object.keys($t).forEach(function(Jt){"whiteList"===Jt?jt.whiteList=ft._extendObjectOfArrays([ft.arcgisWhiteList,$t.whiteList||{}]):jt[Jt]=$t[Jt]})):(jt=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=jt,this._xssFilter=new O.exports.FilterXSS(jt)}return He.prototype.sanitize=function($t,it){switch(void 0===it&&(it={}),typeof $t){case"number":return isNaN($t)||!isFinite($t)?null:$t;case"boolean":return $t;case"string":return this._xssFilter.process($t);case"object":return this._iterateOverObject($t,it);default:return it.allowUndefined&&typeof $t>"u"?void 0:null}},He.prototype.sanitizeUrl=function($t,it){var ft=(it??{}).isProtocolRequired,jt=void 0===ft||ft,Jt=this._trim($t.substring(0,$t.indexOf(":"))),En="/"===$t,wn=/^#/.test($t),Hn=Jt&&this.allowedProtocols.indexOf(Jt.toLowerCase())>-1;return En||wn||Hn?O.exports.escapeAttrValue($t):Jt||jt?"":O.exports.escapeAttrValue("https://".concat($t))},He.prototype.sanitizeHTMLAttribute=function($t,it,ft,jt){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue($t,it,ft,jt):O.exports.safeAttrValue($t,it,ft,jt)},He.prototype.validate=function($t,it){void 0===it&&(it={});var ft=this.sanitize($t,it);return{isValid:$t===ft,sanitized:ft}},He.prototype.encodeHTML=function($t){var it=this;return String($t).replace(/[&<>"'\/]/g,function(ft){return it._entityMap[ft]})},He.prototype.encodeAttrValue=function($t){var it=/^[a-zA-Z0-9]$/;return String($t).replace(/[\x00-\xFF]/g,function(ft,jt){return it.test(ft)?ft:"&#x".concat(Number($t.charCodeAt(jt)).toString(16),";")})},He.prototype._extendObjectOfArrays=function($t){var it={};return $t.forEach(function(ft){Object.keys(ft).forEach(function(jt){it[jt]=Array.isArray(ft[jt])&&Array.isArray(it[jt])?it[jt].concat(ft[jt]):ft[jt]})}),it},He.prototype._iterateOverObject=function($t,it){var ft=this;void 0===it&&(it={});try{var jt=!1,Jt=void 0;if(Array.isArray($t))Jt=$t.reduce(function(wn,Hn){var Sr=ft.validate(Hn,it);return Sr.isValid?wn.concat([Hn]):(jt=!0,wn.concat([Sr.sanitized]))},[]);else{if(!function(He){if("object"!=typeof He||null===He||"[object Object]"!==Object.prototype.toString.call(He))return!1;var $t=Object.getPrototypeOf(He);if(null===$t)return!0;for(;null!==Object.getPrototypeOf($t);)$t=Object.getPrototypeOf($t);return Object.getPrototypeOf(He)===$t}($t))return it.allowUndefined&&typeof $t>"u"?void 0:null;Jt=Object.keys($t).reduce(function(wn,Hn){var Sr=$t[Hn],fr=ft.validate(Sr,it);return fr.isValid?wn[Hn]=Sr:(jt=!0,wn[Hn]=fr.sanitized),wn},{})}return jt?Jt:$t}catch{return null}},He.prototype._trim=function($t){return String.prototype.trim?$t.trim():$t.replace(/(^\s*)|(\s*$)/g,"")},He}(),Et=T(35575),Ht=(T(54024),T(8314),T(63290)),on=T(66950),$n=function(He){rn||function(He){if("WebkitTransition"in He.style)rn="webkitTransitionEnd",cn="webkitAnimationEnd";else{if(!("transition"in He.style))throw new Error("Your browser is not supported!");rn="transitionend",cn="animationend"}}(He)},Cn=function(He,$t){return void 0===$t&&($t=He+"-active"),function(it){$n(it);var ft=!1,jt=function(Jt){ft||(ft=!0,it.removeEventListener(rn,jt),it.removeEventListener(cn,jt),it.classList.remove(He),it.classList.remove($t))};it.classList.add(He),it.addEventListener(rn,jt),it.addEventListener(cn,jt),requestAnimationFrame(function(){it.classList.add($t)})}},Nn=function(He,$t){return void 0===$t&&($t=He+"-active"),function(it,ft){$n(it);var jt=!1,Jt=function(En){jt||(jt=!0,it.removeEventListener(rn,Jt),it.removeEventListener(cn,Jt),ft())};it.classList.add(He),it.addEventListener(rn,Jt),it.addEventListener(cn,Jt),requestAnimationFrame(function(){it.classList.add($t)})}};Ht.Z.getLogger("esri.widgets.support.widgetUtils");function It(He){const $t=Et.Z.acquire();for(let ft=0;ft<arguments.length;ft++){const jt=arguments[ft],Jt=typeof jt;if("string"===Jt)$t.push(jt);else if(Array.isArray(jt))$t.push.apply($t,jt);else if("object"===Jt)for(const En in jt)jt[En]&&$t.push(En)}const it=$t.join(" ");return Et.Z.release($t),it}function Qt(He){const $t=He?.closest("[dir]");return null!==$t&&$t instanceof HTMLElement&&"rtl"===$t.dir||"rtl"===document.dir}function yt(He){this[He.getAttribute("data-node-ref")]=null}function Vt(He){this[He.getAttribute("data-node-ref")]=He}function Yt(He,$t){return("enter"===He?Cn:Nn)($t)}(()=>{const He=new Map;new ResizeObserver(it=>{(0,on.Uy)();for(const ft of it)He.get(ft.target)?.(ft)})})();const In=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((He,$t)=>(He[$t]=[],He),{}),gr=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Lr=new mr({whiteList:In,onTagAttr:(He,$t,it)=>{const ft=`${$t}="${it}"`;if(gr.includes($t))return ft},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Jn(He){return"Enter"===He||" "===He}},46203:(j,F,T)=>{"use strict";T.d(F,{A:()=>ce,C:()=>k,a:()=>O,b:()=>Te,c:()=>Re,d:()=>W,e:()=>at,g:()=>Ce,h:()=>We,i:()=>mt,j:()=>lt,r:()=>Oe,s:()=>pt,t:()=>tt,u:()=>Le,v:()=>Ye,w:()=>fe,x:()=>Ee,y:()=>ye,z:()=>Me});var w=T(15861);const O="calcite-mode-auto",W="calcite-mode-dark",k={autoMode:O,darkMode:W,lightMode:"calcite-mode-light",rtl:"calcite--rtl"};var re=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],ee=re.join(","),Z=typeof Element>"u",G=Z?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Y=!Z&&Element.prototype.getRootNode?function(ut){return ut.getRootNode()}:function(ut){return ut.ownerDocument},ne=function(_t,Ct,Rt){var Gt=Array.prototype.slice.apply(_t.querySelectorAll(ee));return Ct&&G.call(_t,ee)&&Gt.unshift(_t),Gt.filter(Rt)},ae=function ut(_t,Ct,Rt){for(var Gt=[],bn=Array.from(_t);bn.length;){var Mn=bn.shift();if("SLOT"===Mn.tagName){var Dn=Mn.assignedElements(),an=ut(Dn.length?Dn:Mn.children,!0,Rt);Rt.flatten?Gt.push.apply(Gt,an):Gt.push({scopeParent:Mn,candidates:an})}else{G.call(Mn,ee)&&Rt.filter(Mn)&&(Ct||!_t.includes(Mn))&&Gt.push(Mn);var zn=Mn.shadowRoot||"function"==typeof Rt.getShadowRoot&&Rt.getShadowRoot(Mn),rr=!Rt.shadowRootFilter||Rt.shadowRootFilter(Mn);if(zn&&rr){var mr=ut(!0===zn?Mn.children:zn.children,!0,Rt);Rt.flatten?Gt.push.apply(Gt,mr):Gt.push({scopeParent:Mn,candidates:mr})}else bn.unshift.apply(bn,Mn.children)}}return Gt},se=function(_t,Ct){return _t.tabIndex<0&&(Ct||/^(AUDIO|VIDEO|DETAILS)$/.test(_t.tagName)||_t.isContentEditable)&&isNaN(parseInt(_t.getAttribute("tabindex"),10))?0:_t.tabIndex},ie=function(_t,Ct){return _t.tabIndex===Ct.tabIndex?_t.documentOrder-Ct.documentOrder:_t.tabIndex-Ct.tabIndex},te=function(_t){return"INPUT"===_t.tagName},oe=function(_t){var Ct=_t.getBoundingClientRect();return 0===Ct.width&&0===Ct.height},be=function(_t,Ct){return!(Ct.disabled||function(_t){return te(_t)&&"hidden"===_t.type}(Ct)||function(_t,Ct){var Rt=Ct.displayCheck,Gt=Ct.getShadowRoot;if("hidden"===getComputedStyle(_t).visibility)return!0;var bn=G.call(_t,"details>summary:first-of-type");if(G.call(bn?_t.parentElement:_t,"details:not([open]) *"))return!0;if(Rt&&"full"!==Rt&&"legacy-full"!==Rt){if("non-zero-area"===Rt)return oe(_t)}else{if("function"==typeof Gt){for(var Dn=_t;_t;){var Kn=_t.parentElement,an=Y(_t);if(Kn&&!Kn.shadowRoot&&!0===Gt(Kn))return oe(_t);_t=_t.assignedSlot?_t.assignedSlot:Kn||an===_t.ownerDocument?Kn:an.host}_t=Dn}if(function(_t){for(var Ct,Rt=Y(_t).host,Gt=!!(null!==(Ct=Rt)&&void 0!==Ct&&Ct.ownerDocument.contains(Rt)||_t.ownerDocument.contains(_t));!Gt&&Rt;){var bn;Gt=!(null===(bn=Rt=Y(Rt).host)||void 0===bn||!bn.ownerDocument.contains(Rt))}return Gt}(_t))return!_t.getClientRects().length;if("legacy-full"!==Rt)return!0}return!1}(Ct,_t)||function(_t){return"DETAILS"===_t.tagName&&Array.prototype.slice.apply(_t.children).some(function(Rt){return"SUMMARY"===Rt.tagName})}(Ct)||function(_t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(_t.tagName))for(var Ct=_t.parentElement;Ct;){if("FIELDSET"===Ct.tagName&&Ct.disabled){for(var Rt=0;Rt<Ct.children.length;Rt++){var Gt=Ct.children.item(Rt);if("LEGEND"===Gt.tagName)return!!G.call(Ct,"fieldset[disabled] *")||!Gt.contains(_t)}return!0}Ct=Ct.parentElement}return!1}(Ct))},me=function(_t,Ct){return!(function(_t){return function(_t){return te(_t)&&"radio"===_t.type}(_t)&&!function(_t){if(!_t.name)return!0;var Gt,Ct=_t.form||Y(_t),Rt=function(Dn){return Ct.querySelectorAll('input[type="radio"][name="'+Dn+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)Gt=Rt(window.CSS.escape(_t.name));else try{Gt=Rt(_t.name)}catch(Mn){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Mn.message),!1}var bn=function(_t,Ct){for(var Rt=0;Rt<_t.length;Rt++)if(_t[Rt].checked&&_t[Rt].form===Ct)return _t[Rt]}(Gt,_t.form);return!bn||bn===_t}(_t)}(Ct)||se(Ct)<0||!be(_t,Ct))},_e=function(_t){var Ct=parseInt(_t.getAttribute("tabindex"),10);return!!(isNaN(Ct)||Ct>=0)},le=function ut(_t){var Ct=[],Rt=[];return _t.forEach(function(Gt,bn){var Mn=!!Gt.scopeParent,Dn=Mn?Gt.scopeParent:Gt,Kn=se(Dn,Mn),an=Mn?ut(Gt.candidates):Dn;0===Kn?Mn?Ct.push.apply(Ct,an):Ct.push(Dn):Rt.push({documentOrder:bn,tabIndex:Kn,item:Gt,isScope:Mn,content:an})}),Rt.sort(ie).reduce(function(Gt,bn){return bn.isScope?Gt.push.apply(Gt,bn.content):Gt.push(bn.content),Gt},[]).concat(Ct)},fe=function(_t,Ct){var Rt;return Rt=(Ct=Ct||{}).getShadowRoot?ae([_t],Ct.includeContainer,{filter:me.bind(null,Ct),flatten:!1,getShadowRoot:Ct.getShadowRoot,shadowRootFilter:_e}):ne(_t,Ct.includeContainer,me.bind(null,Ct)),le(Rt)},Ee=function(_t,Ct){return(Ct=Ct||{}).getShadowRoot?ae([_t],Ct.includeContainer,{filter:be.bind(null,Ct),flatten:!0,getShadowRoot:Ct.getShadowRoot}):ne(_t,Ct.includeContainer,be.bind(null,Ct))},ye=function(_t,Ct){if(Ct=Ct||{},!_t)throw new Error("No node provided");return!1!==G.call(_t,ee)&&me(Ct,_t)},ue=re.concat("iframe").join(","),Me=function(_t,Ct){if(Ct=Ct||{},!_t)throw new Error("No node provided");return!1!==G.call(_t,ue)&&be(Ct,_t)};const ce={getShadowRoot:!0};function Re(ut){const Rt=Oe(ut,"[dir]");return Rt?Rt.getAttribute("dir"):"ltr"}function Ce(ut,_t,Ct){const Gt=ut.closest(`[${_t}]`);return Gt?Gt.getAttribute(_t):Ct}function Fe(ut){return ut.getRootNode()}function Ne(ut){return ut.host||null}function Le(ut,{selector:_t,id:Ct}){return function Rt(Gt){if(!Gt)return null;Gt.assignedSlot&&(Gt=Gt.assignedSlot);const bn=Fe(Gt),Mn=Ct?"getElementById"in bn?bn.getElementById(Ct):null:_t?bn.querySelector(_t):null,Dn=Ne(bn);return Mn||(Dn?Rt(Dn):null)}(ut)}function Oe(ut,_t){return function Ct(Rt){return Rt?Rt.closest(_t)||Ct(Ne(Fe(Rt))):null}(ut)}function Ue(ut,_t){return ke(ut,_t)}function ke(ut,_t){if(!ut)return;const Ct=_t(ut);if(void 0!==Ct)return Ct;const{parentNode:Rt}=ut;return ke(Rt instanceof ShadowRoot?Rt.host:Rt,_t)}function Ye(ut,_t){return!!Ue(_t,Ct=>Ct===ut||void 0)}function xe(ut){return"function"==typeof ut?.setFocus}function We(ut){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,w.Z)(function*(ut){if(ut)return xe(ut)?ut.setFocus():ut.focus()})).apply(this,arguments)}function lt(ut){(fe(ut,ce)[0]||ut).focus()}const ve=":not([slot])";function Te(ut,_t,Ct){_t&&!Array.isArray(_t)&&"string"!=typeof _t&&(Ct=_t,_t=null);const Rt=_t?Array.isArray(_t)?_t.map(Gt=>`[slot="${Gt}"]`).join(","):`[slot="${_t}"]`:ve;return Ct?.all?function Ge(ut,_t,Ct){let Rt=_t===ve?Be(ut,ve):Array.from(ut.querySelectorAll(_t));Rt=Ct&&!1===Ct.direct?Rt:Rt.filter(bn=>bn.parentElement===ut),Rt=Ct?.matches?Rt.filter(bn=>bn?.matches(Ct.matches)):Rt;const Gt=Ct?.selector;return Gt?Rt.map(bn=>Array.from(bn.querySelectorAll(Gt))).reduce((bn,Mn)=>[...bn,...Mn],[]).filter(bn=>!!bn):Rt}(ut,Rt,Ct):function $e(ut,_t,Ct){let Rt=_t===ve?Be(ut,ve)[0]||null:ut.querySelector(_t);Rt=Ct&&!1===Ct.direct||Rt?.parentElement===ut?Rt:null,Rt=Ct?.matches?Rt?.matches(Ct.matches)?Rt:null:Rt;const Gt=Ct?.selector;return Gt?Rt?.querySelector(Gt):Rt}(ut,Rt,Ct)}function Be(ut,_t){return ut?Array.from(ut.children||[]).filter(Ct=>Ct?.matches(_t)):[]}function at(ut,_t,Ct){return"string"==typeof _t&&""!==_t?_t:""===_t?ut[Ct]:void 0}function tt(ut){return Boolean(ut).toString()}function pt(ut){return!!function Pt(ut){return ut.target.assignedElements({flatten:!0})}(ut).length}function mt(ut){return!(!ut.isPrimary||0!==ut.button)}},21837:(j,F,T)=>{"use strict";T.d(F,{ou:()=>qr,Qf:()=>ut,vF:()=>Le,ld:()=>Me});class w extends Error{}class O extends w{constructor(je){super(`Invalid DateTime: ${je.toMessage()}`)}}class W extends w{constructor(je){super(`Invalid Interval: ${je.toMessage()}`)}}class B extends w{constructor(je){super(`Invalid Duration: ${je.toMessage()}`)}}class k extends w{}class re extends w{constructor(je){super(`Invalid unit ${je}`)}}class ee extends w{}class Z extends w{constructor(){super("Zone is an abstract class")}}const G="numeric",Y="short",ne="long",ae={year:G,month:G,day:G},se={year:G,month:Y,day:G},ie={year:G,month:Y,day:G,weekday:Y},te={year:G,month:ne,day:G},Q={year:G,month:ne,day:G,weekday:ne},V={hour:G,minute:G},U={hour:G,minute:G,second:G},$={hour:G,minute:G,second:G,timeZoneName:Y},z={hour:G,minute:G,second:G,timeZoneName:ne},J={hour:G,minute:G,hourCycle:"h23"},q={hour:G,minute:G,second:G,hourCycle:"h23"},oe={hour:G,minute:G,second:G,hourCycle:"h23",timeZoneName:Y},pe={hour:G,minute:G,second:G,hourCycle:"h23",timeZoneName:ne},de={year:G,month:G,day:G,hour:G,minute:G},be={year:G,month:G,day:G,hour:G,minute:G,second:G},me={year:G,month:Y,day:G,hour:G,minute:G},_e={year:G,month:Y,day:G,hour:G,minute:G,second:G},le={year:G,month:Y,day:G,weekday:Y,hour:G,minute:G},fe={year:G,month:ne,day:G,hour:G,minute:G,timeZoneName:Y},Ee={year:G,month:ne,day:G,hour:G,minute:G,second:G,timeZoneName:Y},ye={year:G,month:ne,day:G,weekday:ne,hour:G,minute:G,timeZoneName:ne},ue={year:G,month:ne,day:G,weekday:ne,hour:G,minute:G,second:G,timeZoneName:ne};class Me{get type(){throw new Z}get name(){throw new Z}get ianaName(){return this.name}get isUniversal(){throw new Z}offsetName(je,et){throw new Z}formatOffset(je,et){throw new Z}offset(je){throw new Z}equals(je){throw new Z}get isValid(){throw new Z}}let ce=null;class ge extends Me{static get instance(){return null===ce&&(ce=new ge),ce}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(je,{format:et,locale:ct}){return In(je,et,ct)}formatOffset(je,et){return Jn(this.offset(je),et)}offset(je){return-new Date(je).getTimezoneOffset()}equals(je){return"system"===je.type}get isValid(){return!0}}let Pe={};const Re={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ne={};class Le extends Me{static create(je){return Ne[je]||(Ne[je]=new Le(je)),Ne[je]}static resetCache(){Ne={},Pe={}}static isValidSpecifier(je){return this.isValidZone(je)}static isValidZone(je){if(!je)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:je}).format(),!0}catch{return!1}}constructor(je){super(),this.zoneName=je,this.valid=Le.isValidZone(je)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(je,{format:et,locale:ct}){return In(je,et,ct,this.name)}formatOffset(je,et){return Jn(this.offset(je),et)}offset(je){const et=new Date(je);if(isNaN(et))return NaN;const ct=function Ie(nt){return Pe[nt]||(Pe[nt]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:nt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Pe[nt]}(this.name);let[wt,Kt,kt,dn,Pn,Qn,ii]=ct.formatToParts?function Fe(nt,je){const et=nt.formatToParts(je),ct=[];for(let wt=0;wt<et.length;wt++){const{type:Kt,value:kt}=et[wt],dn=Re[Kt];"era"===Kt?ct[dn]=kt:zn(dn)||(ct[dn]=parseInt(kt,10))}return ct}(ct,et):function Ce(nt,je){const et=nt.format(je).replace(/\u200E/g,""),ct=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(et),[,wt,Kt,kt,dn,Pn,Qn,ii]=ct;return[kt,wt,Kt,dn,Pn,Qn,ii]}(ct,et);"BC"===dn&&(wt=1-Math.abs(wt));let Cr=+et;const ms=Cr%1e3;return Cr-=ms>=0?ms:1e3+ms,(Vt({year:wt,month:Kt,day:kt,hour:24===Pn?0:Pn,minute:Qn,second:ii,millisecond:0})-Cr)/6e4}equals(je){return"iana"===je.type&&je.name===this.name}get isValid(){return this.valid}}let Oe={},ke={};function Ye(nt,je={}){const et=JSON.stringify([nt,je]);let ct=ke[et];return ct||(ct=new Intl.DateTimeFormat(nt,je),ke[et]=ct),ct}let xe={},Qe={},ve=null;function at(nt,je,et,ct,wt){const Kt=nt.listingMode(et);return"error"===Kt?null:"en"===Kt?ct(je):wt(je)}class tt{constructor(je,et,ct){this.padTo=ct.padTo||0,this.floor=ct.floor||!1;const{padTo:wt,floor:Kt,...kt}=ct;if(!et||Object.keys(kt).length>0){const dn={useGrouping:!1,...ct};ct.padTo>0&&(dn.minimumIntegerDigits=ct.padTo),this.inf=function We(nt,je={}){const et=JSON.stringify([nt,je]);let ct=xe[et];return ct||(ct=new Intl.NumberFormat(nt,je),xe[et]=ct),ct}(je,dn)}}format(je){if(this.inf){const et=this.floor?Math.floor(je):je;return this.inf.format(et)}return Cn(this.floor?Math.floor(je):Wt(je,3),this.padTo)}}class pt{constructor(je,et,ct){let wt;if(this.opts=ct,je.zone.isUniversal){const kt=je.offset/60*-1,dn=kt>=0?`Etc/GMT+${kt}`:`Etc/GMT${kt}`;0!==je.offset&&Le.create(dn).valid?(wt=dn,this.dt=je):(wt="UTC",this.dt=ct.timeZoneName||0===je.offset?je:qr.fromMillis(je.ts+60*je.offset*1e3))}else"system"===je.zone.type?this.dt=je:(this.dt=je,wt=je.zone.name);const Kt={...this.opts};Kt.timeZone=Kt.timeZone||wt,this.dtf=Ye(et,Kt)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Pt{constructor(je,et,ct){this.opts={style:"long",...ct},!et&&Bt()&&(this.rtf=function lt(nt,je={}){const{base:et,...ct}=je,wt=JSON.stringify([nt,ct]);let Kt=Qe[wt];return Kt||(Kt=new Intl.RelativeTimeFormat(nt,je),Qe[wt]=Kt),Kt}(je,ct))}format(je,et){return this.rtf?this.rtf.format(je,et):function Is(nt,je,et="always",ct=!1){const wt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Kt=-1===["hours","minutes","seconds"].indexOf(nt);if("auto"===et&&Kt){const Oi="days"===nt;switch(je){case 1:return Oi?"tomorrow":`next ${wt[nt][0]}`;case-1:return Oi?"yesterday":`last ${wt[nt][0]}`;case 0:return Oi?"today":`this ${wt[nt][0]}`}}const kt=Object.is(je,-0)||je<0,dn=Math.abs(je),Pn=1===dn,Qn=wt[nt],ii=ct?Pn?Qn[1]:Qn[2]||Qn[1]:Pn?wt[nt][0]:nt;return kt?`${dn} ${ii} ago`:`in ${dn} ${ii}`}(et,je,this.opts.numeric,"long"!==this.opts.style)}formatToParts(je,et){return this.rtf?this.rtf.formatToParts(je,et):[]}}class mt{static fromOpts(je){return mt.create(je.locale,je.numberingSystem,je.outputCalendar,je.defaultToEN)}static create(je,et,ct,wt=!1){const Kt=je||Fn.defaultLocale,kt=Kt||(wt?"en-US":function Te(){return ve||(ve=(new Intl.DateTimeFormat).resolvedOptions().locale,ve)}());return new mt(kt,et||Fn.defaultNumberingSystem,ct||Fn.defaultOutputCalendar,Kt)}static resetCache(){ve=null,ke={},xe={},Qe={}}static fromObject({locale:je,numberingSystem:et,outputCalendar:ct}={}){return mt.create(je,et,ct)}constructor(je,et,ct,wt){const[Kt,kt,dn]=function Be(nt){const je=nt.indexOf("-x-");-1!==je&&(nt=nt.substring(0,je));const et=nt.indexOf("-u-");if(-1===et)return[nt];{let ct,wt;try{ct=Ye(nt).resolvedOptions(),wt=nt}catch{const Pn=nt.substring(0,et);ct=Ye(Pn).resolvedOptions(),wt=Pn}const{numberingSystem:Kt,calendar:kt}=ct;return[wt,Kt,kt]}}(je);this.locale=Kt,this.numberingSystem=et||kt||null,this.outputCalendar=ct||dn||null,this.intl=function Ge(nt,je,et){return(et||je)&&(nt.includes("-u-")||(nt+="-u"),et&&(nt+=`-ca-${et}`),je&&(nt+=`-nu-${je}`)),nt}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=wt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function we(nt){return(!nt.numberingSystem||"latn"===nt.numberingSystem)&&("latn"===nt.numberingSystem||!nt.locale||nt.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(nt.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(je){return je&&0!==Object.getOwnPropertyNames(je).length?mt.create(je.locale||this.specifiedLocale,je.numberingSystem||this.numberingSystem,je.outputCalendar||this.outputCalendar,je.defaultToEN||!1):this}redefaultToEN(je={}){return this.clone({...je,defaultToEN:!0})}redefaultToSystem(je={}){return this.clone({...je,defaultToEN:!1})}months(je,et=!1,ct=!0){return at(this,je,ct,Jt,()=>{const wt=et?{month:je,day:"numeric"}:{month:je},Kt=et?"format":"standalone";return this.monthsCache[Kt][je]||(this.monthsCache[Kt][je]=function $e(nt){const je=[];for(let et=1;et<=12;et++){const ct=qr.utc(2016,et,1);je.push(nt(ct))}return je}(kt=>this.extract(kt,wt,"month"))),this.monthsCache[Kt][je]})}weekdays(je,et=!1,ct=!0){return at(this,je,ct,Sr,()=>{const wt=et?{weekday:je,year:"numeric",month:"long",day:"numeric"}:{weekday:je},Kt=et?"format":"standalone";return this.weekdaysCache[Kt][je]||(this.weekdaysCache[Kt][je]=function Xe(nt){const je=[];for(let et=1;et<=7;et++){const ct=qr.utc(2016,11,13+et);je.push(nt(ct))}return je}(kt=>this.extract(kt,wt,"weekday"))),this.weekdaysCache[Kt][je]})}meridiems(je=!0){return at(this,void 0,je,()=>fr,()=>{if(!this.meridiemCache){const et={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[qr.utc(2016,11,13,9),qr.utc(2016,11,13,19)].map(ct=>this.extract(ct,et,"dayperiod"))}return this.meridiemCache})}eras(je,et=!0){return at(this,je,et,ni,()=>{const ct={era:je};return this.eraCache[je]||(this.eraCache[je]=[qr.utc(-40,1,1),qr.utc(2017,1,1)].map(wt=>this.extract(wt,ct,"era"))),this.eraCache[je]})}extract(je,et,ct){const kt=this.dtFormatter(je,et).formatToParts().find(dn=>dn.type.toLowerCase()===ct);return kt?kt.value:null}numberFormatter(je={}){return new tt(this.intl,je.forceSimple||this.fastNumbers,je)}dtFormatter(je,et={}){return new pt(je,this.intl,et)}relFormatter(je={}){return new Pt(this.intl,this.isEnglish(),je)}listFormatter(je={}){return function Ue(nt,je={}){const et=JSON.stringify([nt,je]);let ct=Oe[et];return ct||(ct=new Intl.ListFormat(nt,je),Oe[et]=ct),ct}(this.intl,je)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(je){return this.locale===je.locale&&this.numberingSystem===je.numberingSystem&&this.outputCalendar===je.outputCalendar}}let St=null;class ut extends Me{static get utcInstance(){return null===St&&(St=new ut(0)),St}static instance(je){return 0===je?ut.utcInstance:new ut(je)}static parseSpecifier(je){if(je){const et=je.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(et)return new ut(gr(et[1],et[2]))}return null}constructor(je){super(),this.fixed=je}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Jn(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Jn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(je,et){return Jn(this.fixed,et)}get isUniversal(){return!0}offset(){return this.fixed}equals(je){return"fixed"===je.type&&je.fixed===this.fixed}get isValid(){return!0}}class _t extends Me{constructor(je){super(),this.zoneName=je}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ct(nt,je){if(zn(nt)||null===nt)return je;if(nt instanceof Me)return nt;if(function Et(nt){return"string"==typeof nt}(nt)){const ct=nt.toLowerCase();return"default"===ct?je:"local"===ct||"system"===ct?ge.instance:"utc"===ct||"gmt"===ct?ut.utcInstance:ut.parseSpecifier(ct)||Le.create(nt)}return rr(nt)?ut.instance(nt):"object"==typeof nt&&nt.offset&&"number"==typeof nt.offset?nt:new _t(nt)}let an,Rt=()=>Date.now(),Gt="system",bn=null,Mn=null,Dn=null,Kn=60;class Fn{static get now(){return Rt}static set now(je){Rt=je}static set defaultZone(je){Gt=je}static get defaultZone(){return Ct(Gt,ge.instance)}static get defaultLocale(){return bn}static set defaultLocale(je){bn=je}static get defaultNumberingSystem(){return Mn}static set defaultNumberingSystem(je){Mn=je}static get defaultOutputCalendar(){return Dn}static set defaultOutputCalendar(je){Dn=je}static get twoDigitCutoffYear(){return Kn}static set twoDigitCutoffYear(je){Kn=je%100}static get throwOnInvalid(){return an}static set throwOnInvalid(je){an=je}static resetCaches(){mt.resetCache(),Le.resetCache()}}function zn(nt){return typeof nt>"u"}function rr(nt){return"number"==typeof nt}function mr(nt){return"number"==typeof nt&&nt%1==0}function Bt(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function on(nt,je,et){if(0!==nt.length)return nt.reduce((ct,wt)=>{const Kt=[je(wt),wt];return ct&&et(ct[0],Kt[0])===ct[0]?ct:Kt},null)[1]}function cn(nt,je){return Object.prototype.hasOwnProperty.call(nt,je)}function un(nt,je,et){return mr(nt)&&nt>=je&&nt<=et}function Cn(nt,je=2){let ct;return ct=nt<0?"-"+(""+-nt).padStart(je,"0"):(""+nt).padStart(je,"0"),ct}function Nn(nt){if(!zn(nt)&&null!==nt&&""!==nt)return parseInt(nt,10)}function tr(nt){if(!zn(nt)&&null!==nt&&""!==nt)return parseFloat(nt)}function It(nt){if(!zn(nt)&&null!==nt&&""!==nt){const je=1e3*parseFloat("0."+nt);return Math.floor(je)}}function Wt(nt,je,et=!1){const ct=10**je;return(et?Math.trunc:Math.round)(nt*ct)/ct}function Qt(nt){return nt%4==0&&(nt%100!=0||nt%400==0)}function Rn(nt){return Qt(nt)?366:365}function yt(nt,je){const et=function $n(nt,je){return nt-je*Math.floor(nt/je)}(je-1,12)+1;return 2===et?Qt(nt+(je-et)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][et-1]}function Vt(nt){let je=Date.UTC(nt.year,nt.month-1,nt.day,nt.hour,nt.minute,nt.second,nt.millisecond);return nt.year<100&&nt.year>=0&&(je=new Date(je),je.setUTCFullYear(je.getUTCFullYear()-1900)),+je}function Yt(nt){const je=(nt+Math.floor(nt/4)-Math.floor(nt/100)+Math.floor(nt/400))%7,et=nt-1,ct=(et+Math.floor(et/4)-Math.floor(et/100)+Math.floor(et/400))%7;return 4===je||3===ct?53:52}function ln(nt){return nt>99?nt:nt>Fn.twoDigitCutoffYear?1900+nt:2e3+nt}function In(nt,je,et,ct=null){const wt=new Date(nt),Kt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};ct&&(Kt.timeZone=ct);const kt={timeZoneName:je,...Kt},dn=new Intl.DateTimeFormat(et,kt).formatToParts(wt).find(Pn=>"timezonename"===Pn.type.toLowerCase());return dn?dn.value:null}function gr(nt,je){let et=parseInt(nt,10);Number.isNaN(et)&&(et=0);const ct=parseInt(je,10)||0;return 60*et+(et<0||Object.is(et,-0)?-ct:ct)}function Lr(nt){const je=Number(nt);if("boolean"==typeof nt||""===nt||Number.isNaN(je))throw new ee(`Invalid unit value ${nt}`);return je}function ti(nt,je){const et={};for(const ct in nt)if(cn(nt,ct)){const wt=nt[ct];if(null==wt)continue;et[je(ct)]=Lr(wt)}return et}function Jn(nt,je){const et=Math.trunc(Math.abs(nt/60)),ct=Math.trunc(Math.abs(nt%60)),wt=nt>=0?"+":"-";switch(je){case"short":return`${wt}${Cn(et,2)}:${Cn(ct,2)}`;case"narrow":return`${wt}${et}${ct>0?`:${ct}`:""}`;case"techie":return`${wt}${Cn(et,2)}${Cn(ct,2)}`;default:throw new RangeError(`Value format ${je} is out of range for property format`)}}function He(nt){return function rn(nt,je){return je.reduce((et,ct)=>(et[ct]=nt[ct],et),{})}(nt,["hour","minute","second","millisecond"])}const it=["January","February","March","April","May","June","July","August","September","October","November","December"],ft=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jt=["J","F","M","A","M","J","J","A","S","O","N","D"];function Jt(nt){switch(nt){case"narrow":return[...jt];case"short":return[...ft];case"long":return[...it];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const En=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],wn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hn=["M","T","W","T","F","S","S"];function Sr(nt){switch(nt){case"narrow":return[...Hn];case"short":return[...wn];case"long":return[...En];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const fr=["AM","PM"],nr=["Before Christ","Anno Domini"],$r=["BC","AD"],Zr=["B","A"];function ni(nt){switch(nt){case"narrow":return[...Zr];case"short":return[...$r];case"long":return[...nr];default:return null}}function zt(nt,je){let et="";for(const ct of nt)et+=ct.literal?ct.val:je(ct.val);return et}const Hr={D:ae,DD:se,DDD:te,DDDD:Q,t:V,tt:U,ttt:$,tttt:z,T:J,TT:q,TTT:oe,TTTT:pe,f:de,ff:me,fff:fe,ffff:ye,F:be,FF:_e,FFF:Ee,FFFF:ue};class ur{static create(je,et={}){return new ur(je,et)}static parseFormat(je){let et=null,ct="",wt=!1;const Kt=[];for(let kt=0;kt<je.length;kt++){const dn=je.charAt(kt);"'"===dn?(ct.length>0&&Kt.push({literal:wt,val:ct}),et=null,ct="",wt=!wt):wt||dn===et?ct+=dn:(ct.length>0&&Kt.push({literal:!1,val:ct}),ct=dn,et=dn)}return ct.length>0&&Kt.push({literal:wt,val:ct}),Kt}static macroTokenToFormatOpts(je){return Hr[je]}constructor(je,et){this.opts=et,this.loc=je,this.systemLoc=null}formatWithSystemDefault(je,et){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(je,{...this.opts,...et}).format()}formatDateTime(je,et={}){return this.loc.dtFormatter(je,{...this.opts,...et}).format()}formatDateTimeParts(je,et={}){return this.loc.dtFormatter(je,{...this.opts,...et}).formatToParts()}formatInterval(je,et={}){return this.loc.dtFormatter(je.start,{...this.opts,...et}).dtf.formatRange(je.start.toJSDate(),je.end.toJSDate())}resolvedOptions(je,et={}){return this.loc.dtFormatter(je,{...this.opts,...et}).resolvedOptions()}num(je,et=0){if(this.opts.forceSimple)return Cn(je,et);const ct={...this.opts};return et>0&&(ct.padTo=et),this.loc.numberFormatter(ct).format(je)}formatDateTimeFromString(je,et){const ct="en"===this.loc.listingMode(),wt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Kt=(Cr,ms)=>this.loc.extract(je,Cr,ms),kt=Cr=>je.isOffsetFixed&&0===je.offset&&Cr.allowZ?"Z":je.isValid?je.zone.formatOffset(je.ts,Cr.format):"",Pn=(Cr,ms)=>ct?function ui(nt,je){return Jt(je)[nt.month-1]}(je,Cr):Kt(ms?{month:Cr}:{month:Cr,day:"numeric"},"month"),Qn=(Cr,ms)=>ct?function Ui(nt,je){return Sr(je)[nt.weekday-1]}(je,Cr):Kt(ms?{weekday:Cr}:{weekday:Cr,month:"long",day:"numeric"},"weekday"),ii=Cr=>{const ms=ur.macroTokenToFormatOpts(Cr);return ms?this.formatWithSystemDefault(je,ms):Cr},Oi=Cr=>ct?function Ji(nt,je){return ni(je)[nt.year<0?0:1]}(je,Cr):Kt({era:Cr},"era");return zt(ur.parseFormat(et),Cr=>{switch(Cr){case"S":return this.num(je.millisecond);case"u":case"SSS":return this.num(je.millisecond,3);case"s":return this.num(je.second);case"ss":return this.num(je.second,2);case"uu":return this.num(Math.floor(je.millisecond/10),2);case"uuu":return this.num(Math.floor(je.millisecond/100));case"m":return this.num(je.minute);case"mm":return this.num(je.minute,2);case"h":return this.num(je.hour%12==0?12:je.hour%12);case"hh":return this.num(je.hour%12==0?12:je.hour%12,2);case"H":return this.num(je.hour);case"HH":return this.num(je.hour,2);case"Z":return kt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return kt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return kt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return je.zone.offsetName(je.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return je.zone.offsetName(je.ts,{format:"long",locale:this.loc.locale});case"z":return je.zoneName;case"a":return ct?function wr(nt){return fr[nt.hour<12?0:1]}(je):Kt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return wt?Kt({day:"numeric"},"day"):this.num(je.day);case"dd":return wt?Kt({day:"2-digit"},"day"):this.num(je.day,2);case"c":case"E":return this.num(je.weekday);case"ccc":return Qn("short",!0);case"cccc":return Qn("long",!0);case"ccccc":return Qn("narrow",!0);case"EEE":return Qn("short",!1);case"EEEE":return Qn("long",!1);case"EEEEE":return Qn("narrow",!1);case"L":return wt?Kt({month:"numeric",day:"numeric"},"month"):this.num(je.month);case"LL":return wt?Kt({month:"2-digit",day:"numeric"},"month"):this.num(je.month,2);case"LLL":return Pn("short",!0);case"LLLL":return Pn("long",!0);case"LLLLL":return Pn("narrow",!0);case"M":return wt?Kt({month:"numeric"},"month"):this.num(je.month);case"MM":return wt?Kt({month:"2-digit"},"month"):this.num(je.month,2);case"MMM":return Pn("short",!1);case"MMMM":return Pn("long",!1);case"MMMMM":return Pn("narrow",!1);case"y":return wt?Kt({year:"numeric"},"year"):this.num(je.year);case"yy":return wt?Kt({year:"2-digit"},"year"):this.num(je.year.toString().slice(-2),2);case"yyyy":return wt?Kt({year:"numeric"},"year"):this.num(je.year,4);case"yyyyyy":return wt?Kt({year:"numeric"},"year"):this.num(je.year,6);case"G":return Oi("short");case"GG":return Oi("long");case"GGGGG":return Oi("narrow");case"kk":return this.num(je.weekYear.toString().slice(-2),2);case"kkkk":return this.num(je.weekYear,4);case"W":return this.num(je.weekNumber);case"WW":return this.num(je.weekNumber,2);case"o":return this.num(je.ordinal);case"ooo":return this.num(je.ordinal,3);case"q":return this.num(je.quarter);case"qq":return this.num(je.quarter,2);case"X":return this.num(Math.floor(je.ts/1e3));case"x":return this.num(je.ts);default:return ii(Cr)}})}formatDurationFromString(je,et){const ct=Pn=>{switch(Pn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Kt=ur.parseFormat(et),kt=Kt.reduce((Pn,{literal:Qn,val:ii})=>Qn?Pn:Pn.concat(ii),[]);return zt(Kt,(Pn=>Qn=>{const ii=ct(Qn);return ii?this.num(Pn.get(ii),Qn.length):Qn})(je.shiftTo(...kt.map(ct).filter(Pn=>Pn))))}}class di{constructor(je,et){this.reason=je,this.explanation=et}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Tt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function dt(...nt){const je=nt.reduce((et,ct)=>et+ct.source,"");return RegExp(`^${je}$`)}function vt(...nt){return je=>nt.reduce(([et,ct,wt],Kt)=>{const[kt,dn,Pn]=Kt(je,wt);return[{...et,...kt},dn||ct,Pn]},[{},null,1]).slice(0,2)}function xt(nt,...je){if(null==nt)return[null,null];for(const[et,ct]of je){const wt=et.exec(nt);if(wt)return ct(wt)}return[null,null]}function gn(...nt){return(je,et)=>{const ct={};let wt;for(wt=0;wt<nt.length;wt++)ct[nt[wt]]=Nn(je[et+wt]);return[ct,null,et+wt]}}const Xn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Wn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,sr=RegExp(`${Wn.source}(?:${Xn.source}?(?:\\[(${Tt.source})\\])?)?`),jn=RegExp(`(?:T${sr.source})?`),hs=gn("weekYear","weekNumber","weekDay"),ys=gn("year","ordinal"),Fi=RegExp(`${Wn.source} ?(?:${Xn.source}|(${Tt.source}))?`),Bi=RegExp(`(?: ${Fi.source})?`);function oi(nt,je,et){const ct=nt[je];return zn(ct)?et:Nn(ct)}function Ir(nt,je){return[{hours:oi(nt,je,0),minutes:oi(nt,je+1,0),seconds:oi(nt,je+2,0),milliseconds:It(nt[je+3])},null,je+4]}function mo(nt,je){const et=!nt[je]&&!nt[je+1],ct=gr(nt[je+1],nt[je+2]);return[{},et?null:ut.instance(ct),je+3]}function hi(nt,je){return[{},nt[je]?Le.create(nt[je]):null,je+1]}const ai=RegExp(`^T?${Wn.source}$`),wa=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Cs(nt){const[je,et,ct,wt,Kt,kt,dn,Pn,Qn]=nt,ii="-"===je[0],Oi=Pn&&"-"===Pn[0],vs=(Cr,ms=!1)=>void 0!==Cr&&(ms||Cr&&ii)?-Cr:Cr;return[{years:vs(tr(et)),months:vs(tr(ct)),weeks:vs(tr(wt)),days:vs(tr(Kt)),hours:vs(tr(kt)),minutes:vs(tr(dn)),seconds:vs(tr(Pn),"-0"===Pn),milliseconds:vs(It(Qn),Oi)}]}const go={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function lr(nt,je,et,ct,wt,Kt,kt){const dn={year:2===je.length?ln(Nn(je)):Nn(je),month:ft.indexOf(et)+1,day:Nn(ct),hour:Nn(wt),minute:Nn(Kt)};return kt&&(dn.second=Nn(kt)),nt&&(dn.weekday=nt.length>3?En.indexOf(nt)+1:wn.indexOf(nt)+1),dn}const Ft=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function hn(nt){const[,je,et,ct,wt,Kt,kt,dn,Pn,Qn,ii,Oi]=nt,vs=lr(je,wt,ct,et,Kt,kt,dn);let Cr;return Cr=Pn?go[Pn]:Qn?0:gr(ii,Oi),[vs,new ut(Cr)]}const Wr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,$i=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Di=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function js(nt){const[,je,et,ct,wt,Kt,kt,dn]=nt;return[lr(je,wt,ct,et,Kt,kt,dn),ut.utcInstance]}function va(nt){const[,je,et,ct,wt,Kt,kt,dn]=nt;return[lr(je,dn,et,ct,wt,Kt,kt),ut.utcInstance]}const st=dt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jn),ht=dt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,jn),Mt=dt(/(\d{4})-?(\d{3})/,jn),Nt=dt(sr),At=vt(function Da(nt,je){return[{year:oi(nt,je),month:oi(nt,je+1,1),day:oi(nt,je+2,1)},null,je+3]},Ir,mo,hi),Zt=vt(hs,Ir,mo,hi),nn=vt(ys,Ir,mo,hi),fn=vt(Ir,mo,hi),Kr=vt(Ir),Us=dt(/(\d{4})-(\d\d)-(\d\d)/,Bi),oo=dt(Fi),ps=vt(Ir,mo,hi),yo={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Th={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...yo},Ks=365.2425,qo=30.436875,pf={years:{quarters:4,months:12,weeks:Ks/7,days:Ks,hours:24*Ks,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Ks/28,days:Ks/4,hours:24*Ks/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:qo/7,days:qo,hours:24*qo,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...yo},dr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ph=dr.slice(0).reverse();function Jr(nt,je,et=!1){const ct={values:et?je.values:{...nt.values,...je.values||{}},loc:nt.loc.clone(je.loc),conversionAccuracy:je.conversionAccuracy||nt.conversionAccuracy,matrix:je.matrix||nt.matrix};return new vi(ct)}function gu(nt,je,et,ct,wt){const Kt=nt[wt][et],kt=je[et]/Kt,Pn=Math.sign(kt)!==Math.sign(ct[wt])&&0!==ct[wt]&&Math.abs(kt)<=1?function mu(nt){return nt<0?Math.floor(nt):Math.ceil(nt)}(kt):Math.trunc(kt);ct[wt]+=Pn,je[et]-=Pn*Kt}class vi{constructor(je){const et="longterm"===je.conversionAccuracy||!1;let ct=et?pf:Th;je.matrix&&(ct=je.matrix),this.values=je.values,this.loc=je.loc||mt.create(),this.conversionAccuracy=et?"longterm":"casual",this.invalid=je.invalid||null,this.matrix=ct,this.isLuxonDuration=!0}static fromMillis(je,et){return vi.fromObject({milliseconds:je},et)}static fromObject(je,et={}){if(null==je||"object"!=typeof je)throw new ee("Duration.fromObject: argument expected to be an object, got "+(null===je?"null":typeof je));return new vi({values:ti(je,vi.normalizeUnit),loc:mt.fromObject(et),conversionAccuracy:et.conversionAccuracy,matrix:et.matrix})}static fromDurationLike(je){if(rr(je))return vi.fromMillis(je);if(vi.isDuration(je))return je;if("object"==typeof je)return vi.fromObject(je);throw new ee(`Unknown duration argument ${je} of type ${typeof je}`)}static fromISO(je,et){const[ct]=function Er(nt){return xt(nt,[wa,Cs])}(je);return ct?vi.fromObject(ct,et):vi.invalid("unparsable",`the input "${je}" can't be parsed as ISO 8601`)}static fromISOTime(je,et){const[ct]=function Qi(nt){return xt(nt,[ai,Kr])}(je);return ct?vi.fromObject(ct,et):vi.invalid("unparsable",`the input "${je}" can't be parsed as ISO 8601`)}static invalid(je,et=null){if(!je)throw new ee("need to specify a reason the Duration is invalid");const ct=je instanceof di?je:new di(je,et);if(Fn.throwOnInvalid)throw new B(ct);return new vi({invalid:ct})}static normalizeUnit(je){const et={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[je&&je.toLowerCase()];if(!et)throw new re(je);return et}static isDuration(je){return je&&je.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(je,et={}){const ct={...et,floor:!1!==et.round&&!1!==et.floor};return this.isValid?ur.create(this.loc,ct).formatDurationFromString(this,je):"Invalid Duration"}toHuman(je={}){const et=dr.map(ct=>{const wt=this.values[ct];return zn(wt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...je,unit:ct.slice(0,-1)}).format(wt)}).filter(ct=>ct);return this.loc.listFormatter({type:"conjunction",style:je.listStyle||"narrow",...je}).format(et)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let je="P";return 0!==this.years&&(je+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(je+=this.months+3*this.quarters+"M"),0!==this.weeks&&(je+=this.weeks+"W"),0!==this.days&&(je+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(je+="T"),0!==this.hours&&(je+=this.hours+"H"),0!==this.minutes&&(je+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(je+=Wt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===je&&(je+="T0S"),je}toISOTime(je={}){if(!this.isValid)return null;const et=this.toMillis();if(et<0||et>=864e5)return null;je={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...je};const ct=this.shiftTo("hours","minutes","seconds","milliseconds");let wt="basic"===je.format?"hhmm":"hh:mm";(!je.suppressSeconds||0!==ct.seconds||0!==ct.milliseconds)&&(wt+="basic"===je.format?"ss":":ss",(!je.suppressMilliseconds||0!==ct.milliseconds)&&(wt+=".SSS"));let Kt=ct.toFormat(wt);return je.includePrefix&&(Kt="T"+Kt),Kt}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(je){if(!this.isValid)return this;const et=vi.fromDurationLike(je),ct={};for(const wt of dr)(cn(et.values,wt)||cn(this.values,wt))&&(ct[wt]=et.get(wt)+this.get(wt));return Jr(this,{values:ct},!0)}minus(je){if(!this.isValid)return this;const et=vi.fromDurationLike(je);return this.plus(et.negate())}mapUnits(je){if(!this.isValid)return this;const et={};for(const ct of Object.keys(this.values))et[ct]=Lr(je(this.values[ct],ct));return Jr(this,{values:et},!0)}get(je){return this[vi.normalizeUnit(je)]}set(je){return this.isValid?Jr(this,{values:{...this.values,...ti(je,vi.normalizeUnit)}}):this}reconfigure({locale:je,numberingSystem:et,conversionAccuracy:ct,matrix:wt}={}){return Jr(this,{loc:this.loc.clone({locale:je,numberingSystem:et}),matrix:wt,conversionAccuracy:ct})}as(je){return this.isValid?this.shiftTo(je).get(je):NaN}normalize(){if(!this.isValid)return this;const je=this.toObject();return function _c(nt,je){Ph.reduce((et,ct)=>zn(je[ct])?et:(et&&gu(nt,je,et,je,ct),ct),null)}(this.matrix,je),Jr(this,{values:je},!0)}rescale(){return this.isValid?Jr(this,{values:function ff(nt){const je={};for(const[et,ct]of Object.entries(nt))0!==ct&&(je[et]=ct);return je}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...je){if(!this.isValid)return this;if(0===je.length)return this;je=je.map(kt=>vi.normalizeUnit(kt));const et={},ct={},wt=this.toObject();let Kt;for(const kt of dr)if(je.indexOf(kt)>=0){Kt=kt;let dn=0;for(const Qn in ct)dn+=this.matrix[Qn][kt]*ct[Qn],ct[Qn]=0;rr(wt[kt])&&(dn+=wt[kt]);const Pn=Math.trunc(dn);et[kt]=Pn,ct[kt]=(1e3*dn-1e3*Pn)/1e3;for(const Qn in wt)dr.indexOf(Qn)>dr.indexOf(kt)&&gu(this.matrix,wt,Qn,et,kt)}else rr(wt[kt])&&(ct[kt]=wt[kt]);for(const kt in ct)0!==ct[kt]&&(et[Kt]+=kt===Kt?ct[kt]:ct[kt]/this.matrix[Kt][kt]);return Jr(this,{values:et},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const je={};for(const et of Object.keys(this.values))je[et]=0===this.values[et]?0:-this.values[et];return Jr(this,{values:je},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(je){if(!this.isValid||!je.isValid||!this.loc.equals(je.loc))return!1;function et(ct,wt){return void 0===ct||0===ct?void 0===wt||0===wt:ct===wt}for(const ct of dr)if(!et(this.values[ct],je.values[ct]))return!1;return!0}}const Vl="Invalid Interval";class Ti{constructor(je){this.s=je.start,this.e=je.end,this.invalid=je.invalid||null,this.isLuxonInterval=!0}static invalid(je,et=null){if(!je)throw new ee("need to specify a reason the Interval is invalid");const ct=je instanceof di?je:new di(je,et);if(Fn.throwOnInvalid)throw new W(ct);return new Ti({invalid:ct})}static fromDateTimes(je,et){const ct=Su(je),wt=Su(et),Kt=function Ya(nt,je){return nt&&nt.isValid?je&&je.isValid?je<nt?Ti.invalid("end before start",`The end of an interval must be after its start, but you had start=${nt.toISO()} and end=${je.toISO()}`):null:Ti.invalid("missing or invalid end"):Ti.invalid("missing or invalid start")}(ct,wt);return Kt??new Ti({start:ct,end:wt})}static after(je,et){const ct=vi.fromDurationLike(et),wt=Su(je);return Ti.fromDateTimes(wt,wt.plus(ct))}static before(je,et){const ct=vi.fromDurationLike(et),wt=Su(je);return Ti.fromDateTimes(wt.minus(ct),wt)}static fromISO(je,et){const[ct,wt]=(je||"").split("/",2);if(ct&&wt){let Kt,kt,dn,Pn;try{Kt=qr.fromISO(ct,et),kt=Kt.isValid}catch{kt=!1}try{dn=qr.fromISO(wt,et),Pn=dn.isValid}catch{Pn=!1}if(kt&&Pn)return Ti.fromDateTimes(Kt,dn);if(kt){const Qn=vi.fromISO(wt,et);if(Qn.isValid)return Ti.after(Kt,Qn)}else if(Pn){const Qn=vi.fromISO(ct,et);if(Qn.isValid)return Ti.before(dn,Qn)}}return Ti.invalid("unparsable",`the input "${je}" can't be parsed as ISO 8601`)}static isInterval(je){return je&&je.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(je="milliseconds"){return this.isValid?this.toDuration(je).get(je):NaN}count(je="milliseconds"){if(!this.isValid)return NaN;const et=this.start.startOf(je),ct=this.end.startOf(je);return Math.floor(ct.diff(et,je).get(je))+1}hasSame(je){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,je))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(je){return!!this.isValid&&this.s>je}isBefore(je){return!!this.isValid&&this.e<=je}contains(je){return!!this.isValid&&this.s<=je&&this.e>je}set({start:je,end:et}={}){return this.isValid?Ti.fromDateTimes(je||this.s,et||this.e):this}splitAt(...je){if(!this.isValid)return[];const et=je.map(Su).filter(kt=>this.contains(kt)).sort(),ct=[];let{s:wt}=this,Kt=0;for(;wt<this.e;){const kt=et[Kt]||this.e,dn=+kt>+this.e?this.e:kt;ct.push(Ti.fromDateTimes(wt,dn)),wt=dn,Kt+=1}return ct}splitBy(je){const et=vi.fromDurationLike(je);if(!this.isValid||!et.isValid||0===et.as("milliseconds"))return[];let Kt,{s:ct}=this,wt=1;const kt=[];for(;ct<this.e;){const dn=this.start.plus(et.mapUnits(Pn=>Pn*wt));Kt=+dn>+this.e?this.e:dn,kt.push(Ti.fromDateTimes(ct,Kt)),ct=Kt,wt+=1}return kt}divideEqually(je){return this.isValid?this.splitBy(this.length()/je).slice(0,je):[]}overlaps(je){return this.e>je.s&&this.s<je.e}abutsStart(je){return!!this.isValid&&+this.e==+je.s}abutsEnd(je){return!!this.isValid&&+je.e==+this.s}engulfs(je){return!!this.isValid&&this.s<=je.s&&this.e>=je.e}equals(je){return!(!this.isValid||!je.isValid)&&this.s.equals(je.s)&&this.e.equals(je.e)}intersection(je){if(!this.isValid)return this;const et=this.s>je.s?this.s:je.s,ct=this.e<je.e?this.e:je.e;return et>=ct?null:Ti.fromDateTimes(et,ct)}union(je){return this.isValid?Ti.fromDateTimes(this.s<je.s?this.s:je.s,this.e>je.e?this.e:je.e):this}static merge(je){const[et,ct]=je.sort((wt,Kt)=>wt.s-Kt.s).reduce(([wt,Kt],kt)=>Kt?Kt.overlaps(kt)||Kt.abutsStart(kt)?[wt,Kt.union(kt)]:[wt.concat([Kt]),kt]:[wt,kt],[[],null]);return ct&&et.push(ct),et}static xor(je){let et=null,ct=0;const wt=[],Kt=je.map(Pn=>[{time:Pn.s,type:"s"},{time:Pn.e,type:"e"}]),dn=Array.prototype.concat(...Kt).sort((Pn,Qn)=>Pn.time-Qn.time);for(const Pn of dn)ct+="s"===Pn.type?1:-1,1===ct?et=Pn.time:(et&&+et!=+Pn.time&&wt.push(Ti.fromDateTimes(et,Pn.time)),et=null);return Ti.merge(wt)}difference(...je){return Ti.xor([this].concat(je)).map(et=>this.intersection(et)).filter(et=>et&&!et.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Vl}toLocaleString(je=ae,et={}){return this.isValid?ur.create(this.s.loc.clone(et),je).formatInterval(this):Vl}toISO(je){return this.isValid?`${this.s.toISO(je)}/${this.e.toISO(je)}`:Vl}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Vl}toISOTime(je){return this.isValid?`${this.s.toISOTime(je)}/${this.e.toISOTime(je)}`:Vl}toFormat(je,{separator:et=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(je)}${et}${this.e.toFormat(je)}`:Vl}toDuration(je,et){return this.isValid?this.e.diff(this.s,je,et):vi.invalid(this.invalidReason)}mapEndpoints(je){return Ti.fromDateTimes(je(this.s),je(this.e))}}class _d{static hasDST(je=Fn.defaultZone){const et=qr.now().setZone(je).set({month:12});return!je.isUniversal&&et.offset!==et.set({month:6}).offset}static isValidIANAZone(je){return Le.isValidZone(je)}static normalizeZone(je){return Ct(je,Fn.defaultZone)}static months(je="long",{locale:et=null,numberingSystem:ct=null,locObj:wt=null,outputCalendar:Kt="gregory"}={}){return(wt||mt.create(et,ct,Kt)).months(je)}static monthsFormat(je="long",{locale:et=null,numberingSystem:ct=null,locObj:wt=null,outputCalendar:Kt="gregory"}={}){return(wt||mt.create(et,ct,Kt)).months(je,!0)}static weekdays(je="long",{locale:et=null,numberingSystem:ct=null,locObj:wt=null}={}){return(wt||mt.create(et,ct,null)).weekdays(je)}static weekdaysFormat(je="long",{locale:et=null,numberingSystem:ct=null,locObj:wt=null}={}){return(wt||mt.create(et,ct,null)).weekdays(je,!0)}static meridiems({locale:je=null}={}){return mt.create(je).meridiems()}static eras(je="short",{locale:et=null}={}){return mt.create(et,null,"gregory").eras(je)}static features(){return{relative:Bt()}}}function mf(nt,je){const et=wt=>wt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),ct=et(je)-et(nt);return Math.floor(vi.fromMillis(ct).as("days"))}const _i={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ec={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ed=_i.hanidec.replace(/[\[|\]]/g,"").split("");function Co({numberingSystem:nt},je=""){return new RegExp(`${_i[nt||"latn"]}${je}`)}function pi(nt,je=(et=>et)){return{regex:nt,deser:([et])=>je(function yu(nt){let je=parseInt(nt,10);if(isNaN(je)){je="";for(let et=0;et<nt.length;et++){const ct=nt.charCodeAt(et);if(-1!==nt[et].search(_i.hanidec))je+=Ed.indexOf(nt[et]);else for(const wt in Ec){const[Kt,kt]=Ec[wt];ct>=Kt&&ct<=kt&&(je+=ct-Kt)}}return parseInt(je,10)}return je}(et))}}const fs=`[ ${String.fromCharCode(160)}]`,Dh=new RegExp(fs,"g");function wh(nt){return nt.replace(/\./g,"\\.?").replace(Dh,fs)}function bd(nt){return nt.replace(/\./g,"").replace(Dh," ").toLowerCase()}function li(nt,je){return null===nt?null:{regex:RegExp(nt.map(wh).join("|")),deser:([et])=>nt.findIndex(ct=>bd(et)===bd(ct))+je}}function Ih(nt,je){return{regex:nt,deser:([,et,ct])=>gr(et,ct),groups:je}}function vu(nt){return{regex:nt,deser:([je])=>je}}function Tr(nt){return nt.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Ii={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ta=null;function rs(nt,je){return Array.prototype.concat(...nt.map(et=>function Qr(nt,je){if(nt.literal)return nt;const ct=Bs(ur.macroTokenToFormatOpts(nt.val),je);return null==ct||ct.includes(void 0)?nt:ct}(et,je)))}function jo(nt,je,et){const ct=rs(ur.parseFormat(et),nt),wt=ct.map(kt=>function vo(nt,je){const et=Co(je),ct=Co(je,"{2}"),wt=Co(je,"{3}"),Kt=Co(je,"{4}"),kt=Co(je,"{6}"),dn=Co(je,"{1,2}"),Pn=Co(je,"{1,3}"),Qn=Co(je,"{1,6}"),ii=Co(je,"{1,9}"),Oi=Co(je,"{2,4}"),vs=Co(je,"{4,6}"),Cr=ia=>({regex:RegExp(Tr(ia.val)),deser:([Pc])=>Pc,literal:!0}),Sl=(ia=>{if(nt.literal)return Cr(ia);switch(ia.val){case"G":return li(je.eras("short",!1),0);case"GG":return li(je.eras("long",!1),0);case"y":return pi(Qn);case"yy":case"kk":return pi(Oi,ln);case"yyyy":case"kkkk":return pi(Kt);case"yyyyy":return pi(vs);case"yyyyyy":return pi(kt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return pi(dn);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return pi(ct);case"MMM":return li(je.months("short",!0,!1),1);case"MMMM":return li(je.months("long",!0,!1),1);case"LLL":return li(je.months("short",!1,!1),1);case"LLLL":return li(je.months("long",!1,!1),1);case"o":case"S":return pi(Pn);case"ooo":case"SSS":return pi(wt);case"u":return vu(ii);case"uu":return vu(dn);case"uuu":case"E":case"c":return pi(et);case"a":return li(je.meridiems(),0);case"EEE":return li(je.weekdays("short",!1,!1),1);case"EEEE":return li(je.weekdays("long",!1,!1),1);case"ccc":return li(je.weekdays("short",!0,!1),1);case"cccc":return li(je.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ih(new RegExp(`([+-]${dn.source})(?::(${ct.source}))?`),2);case"ZZZ":return Ih(new RegExp(`([+-]${dn.source})(${ct.source})?`),2);case"z":return vu(/[a-z_+-/]{1,256}?/i);default:return Cr(ia)}})(nt)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Sl.token=nt,Sl}(kt,nt)),Kt=wt.find(kt=>kt.invalidReason);if(Kt)return{input:je,tokens:ct,invalidReason:Kt.invalidReason};{const[kt,dn]=function ao(nt){return[`^${nt.map(et=>et.regex).reduce((et,ct)=>`${et}(${ct.source})`,"")}$`,nt]}(wt),Pn=RegExp(kt,"i"),[Qn,ii]=function Wl(nt,je,et){const ct=nt.match(je);if(ct){const wt={};let Kt=1;for(const kt in et)if(cn(et,kt)){const dn=et[kt],Pn=dn.groups?dn.groups+1:1;!dn.literal&&dn.token&&(wt[dn.token.val[0]]=dn.deser(ct.slice(Kt,Kt+Pn))),Kt+=Pn}return[ct,wt]}return[ct,{}]}(je,Pn,dn),[Oi,vs,Cr]=ii?function Mo(nt){let ct,et=null;return zn(nt.z)||(et=Le.create(nt.z)),zn(nt.Z)||(et||(et=new ut(nt.Z)),ct=nt.Z),zn(nt.q)||(nt.M=3*(nt.q-1)+1),zn(nt.h)||(nt.h<12&&1===nt.a?nt.h+=12:12===nt.h&&0===nt.a&&(nt.h=0)),0===nt.G&&nt.y&&(nt.y=-nt.y),zn(nt.u)||(nt.S=It(nt.u)),[Object.keys(nt).reduce((Kt,kt)=>{const dn=(Kt=>{switch(Kt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(kt);return dn&&(Kt[dn]=nt[kt]),Kt},{}),et,ct]}(ii):[null,null,void 0];if(cn(ii,"a")&&cn(ii,"H"))throw new k("Can't include meridiem when specifying 24-hour format");return{input:je,tokens:ct,regex:Pn,rawMatches:Qn,matches:ii,result:Oi,zone:vs,specificOffset:Cr}}}function Bs(nt,je){return nt?ur.create(je,nt).formatDateTimeParts(function hr(){return ta||(ta=qr.fromMillis(1555555555555)),ta}()).map(wt=>function Hs(nt,je){const{type:et,value:ct}=nt;if("literal"===et)return{literal:!0,val:ct};let Kt=Ii[et];return"object"==typeof Kt&&(Kt=Kt[je[et]]),Kt?{literal:!1,val:Kt}:void 0}(wt,nt)):null}const Cl=[0,31,59,90,120,151,181,212,243,273,304,334],os=[0,31,60,91,121,152,182,213,244,274,305,335];function lo(nt,je){return new di("unit out of range",`you specified ${je} (of type ${typeof je}) as a ${nt}, which is invalid`)}function bc(nt,je,et){const ct=new Date(Date.UTC(nt,je-1,et));nt<100&&nt>=0&&ct.setUTCFullYear(ct.getUTCFullYear()-1900);const wt=ct.getUTCDay();return 0===wt?7:wt}function Xr(nt,je,et){return et+(Qt(nt)?os:Cl)[je-1]}function _u(nt,je){const et=Qt(nt)?os:Cl,ct=et.findIndex(Kt=>Kt<je);return{month:ct+1,day:je-et[ct]}}function Ml(nt){const{year:je,month:et,day:ct}=nt,wt=Xr(je,et,ct),Kt=bc(je,et,ct);let dn,kt=Math.floor((wt-Kt+10)/7);return kt<1?(dn=je-1,kt=Yt(dn)):kt>Yt(je)?(dn=je+1,kt=1):dn=je,{weekYear:dn,weekNumber:kt,weekday:Kt,...He(nt)}}function Cd(nt){const{weekYear:je,weekNumber:et,weekday:ct}=nt,wt=bc(je,1,4),Kt=Rn(je);let dn,kt=7*et+ct-wt-3;kt<1?(dn=je-1,kt+=Rn(dn)):kt>Kt?(dn=je+1,kt-=Rn(je)):dn=je;const{month:Pn,day:Qn}=_u(dn,kt);return{year:dn,month:Pn,day:Qn,...He(nt)}}function Ja(nt){const{year:je,month:et,day:ct}=nt;return{year:je,ordinal:Xr(je,et,ct),...He(nt)}}function Vs(nt){const{year:je,ordinal:et}=nt,{month:ct,day:wt}=_u(je,et);return{year:je,month:ct,day:wt,...He(nt)}}function na(nt){const je=mr(nt.year),et=un(nt.month,1,12),ct=un(nt.day,1,yt(nt.year,nt.month));return je?et?!ct&&lo("day",nt.day):lo("month",nt.month):lo("year",nt.year)}function zl(nt){const{hour:je,minute:et,second:ct,millisecond:wt}=nt,Kt=un(je,0,23)||24===je&&0===et&&0===ct&&0===wt,kt=un(et,0,59),dn=un(ct,0,59),Pn=un(wt,0,999);return Kt?kt?dn?!Pn&&lo("millisecond",wt):lo("second",ct):lo("minute",et):lo("hour",je)}const Eu="Invalid DateTime",Vi=864e13;function Md(nt){return new di("unsupported zone",`the zone "${nt.name}" is not supported`)}function Mc(nt){return null===nt.weekData&&(nt.weekData=Ml(nt.c)),nt.weekData}function $l(nt,je){const et={ts:nt.ts,zone:nt.zone,c:nt.c,o:nt.o,loc:nt.loc,invalid:nt.invalid};return new qr({...et,...je,old:et})}function Sc(nt,je,et){let ct=nt-60*je*1e3;const wt=et.offset(ct);if(je===wt)return[ct,je];ct-=60*(wt-je)*1e3;const Kt=et.offset(ct);return wt===Kt?[ct,wt]:[nt-60*Math.min(wt,Kt)*1e3,Math.max(wt,Kt)]}function Tc(nt,je){const et=new Date(nt+=60*je*1e3);return{year:et.getUTCFullYear(),month:et.getUTCMonth()+1,day:et.getUTCDate(),hour:et.getUTCHours(),minute:et.getUTCMinutes(),second:et.getUTCSeconds(),millisecond:et.getUTCMilliseconds()}}function Aa(nt,je,et){return Sc(Vt(nt),je,et)}function Ys(nt,je){const et=nt.o,ct=nt.c.year+Math.trunc(je.years),wt=nt.c.month+Math.trunc(je.months)+3*Math.trunc(je.quarters),Kt={...nt.c,year:ct,month:wt,day:Math.min(nt.c.day,yt(ct,wt))+Math.trunc(je.days)+7*Math.trunc(je.weeks)},kt=vi.fromObject({years:je.years-Math.trunc(je.years),quarters:je.quarters-Math.trunc(je.quarters),months:je.months-Math.trunc(je.months),weeks:je.weeks-Math.trunc(je.weeks),days:je.days-Math.trunc(je.days),hours:je.hours,minutes:je.minutes,seconds:je.seconds,milliseconds:je.milliseconds}).as("milliseconds"),dn=Vt(Kt);let[Pn,Qn]=Sc(dn,et,nt.zone);return 0!==kt&&(Pn+=kt,Qn=nt.zone.offset(Pn)),{ts:Pn,o:Qn}}function bu(nt,je,et,ct,wt,Kt){const{setZone:kt,zone:dn}=et;if(nt&&0!==Object.keys(nt).length){const Pn=je||dn,Qn=qr.fromObject(nt,{...et,zone:Pn,specificOffset:Kt});return kt?Qn:Qn.setZone(dn)}return qr.invalid(new di("unparsable",`the input "${wt}" can't be parsed as ${ct}`))}function Js(nt,je,et=!0){return nt.isValid?ur.create(mt.create("en-US"),{allowZ:et,forceSimple:!0}).formatDateTimeFromString(nt,je):null}function So(nt,je){const et=nt.c.year>9999||nt.c.year<0;let ct="";return et&&nt.c.year>=0&&(ct+="+"),ct+=Cn(nt.c.year,et?6:4),je?(ct+="-",ct+=Cn(nt.c.month),ct+="-",ct+=Cn(nt.c.day)):(ct+=Cn(nt.c.month),ct+=Cn(nt.c.day)),ct}function Cu(nt,je,et,ct,wt,Kt){let kt=Cn(nt.c.hour);return je?(kt+=":",kt+=Cn(nt.c.minute),(0!==nt.c.second||!et)&&(kt+=":")):kt+=Cn(nt.c.minute),(0!==nt.c.second||!et)&&(kt+=Cn(nt.c.second),(0!==nt.c.millisecond||!ct)&&(kt+=".",kt+=Cn(nt.c.millisecond,3))),wt&&(nt.isOffsetFixed&&0===nt.offset&&!Kt?kt+="Z":nt.o<0?(kt+="-",kt+=Cn(Math.trunc(-nt.o/60)),kt+=":",kt+=Cn(Math.trunc(-nt.o%60))):(kt+="+",kt+=Cn(Math.trunc(nt.o/60)),kt+=":",kt+=Cn(Math.trunc(nt.o%60)))),Kt&&(kt+="["+nt.zone.ianaName+"]"),kt}const Zl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Mu={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ra={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Oh=["year","month","day","hour","minute","second","millisecond"],j0=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],gf=["year","ordinal","hour","minute","second","millisecond"];function Ah(nt){const je={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[nt.toLowerCase()];if(!je)throw new re(nt);return je}function yf(nt,je){const et=Ct(je.zone,Fn.defaultZone),ct=mt.fromObject(je),wt=Fn.now();let Kt,kt;if(zn(nt.year))Kt=wt;else{for(const Qn of Oh)zn(nt[Qn])&&(nt[Qn]=Zl[Qn]);const dn=na(nt)||zl(nt);if(dn)return qr.invalid(dn);const Pn=et.offset(wt);[Kt,kt]=Aa(nt,Pn,et)}return new qr({ts:Kt,zone:et,loc:ct,o:kt})}function vf(nt,je,et){const ct=!!zn(et.round)||et.round,wt=(kt,dn)=>(kt=Wt(kt,ct||et.calendary?0:2,!0),je.loc.clone(et).relFormatter(et).format(kt,dn)),Kt=kt=>et.calendary?je.hasSame(nt,kt)?0:je.startOf(kt).diff(nt.startOf(kt),kt).get(kt):je.diff(nt,kt).get(kt);if(et.unit)return wt(Kt(et.unit),et.unit);for(const kt of et.units){const dn=Kt(kt);if(Math.abs(dn)>=1)return wt(dn,kt)}return wt(nt>je?-0:0,et.units[et.units.length-1])}function _f(nt){let et,je={};return nt.length>0&&"object"==typeof nt[nt.length-1]?(je=nt[nt.length-1],et=Array.from(nt).slice(0,nt.length-1)):et=Array.from(nt),[je,et]}class qr{constructor(je){const et=je.zone||Fn.defaultZone;let ct=je.invalid||(Number.isNaN(je.ts)?new di("invalid input"):null)||(et.isValid?null:Md(et));this.ts=zn(je.ts)?Fn.now():je.ts;let wt=null,Kt=null;if(!ct)if(je.old&&je.old.ts===this.ts&&je.old.zone.equals(et))[wt,Kt]=[je.old.c,je.old.o];else{const dn=et.offset(this.ts);wt=Tc(this.ts,dn),ct=Number.isNaN(wt.year)?new di("invalid input"):null,wt=ct?null:wt,Kt=ct?null:dn}this._zone=et,this.loc=je.loc||mt.create(),this.invalid=ct,this.weekData=null,this.c=wt,this.o=Kt,this.isLuxonDateTime=!0}static now(){return new qr({})}static local(){const[je,et]=_f(arguments),[ct,wt,Kt,kt,dn,Pn,Qn]=et;return yf({year:ct,month:wt,day:Kt,hour:kt,minute:dn,second:Pn,millisecond:Qn},je)}static utc(){const[je,et]=_f(arguments),[ct,wt,Kt,kt,dn,Pn,Qn]=et;return je.zone=ut.utcInstance,yf({year:ct,month:wt,day:Kt,hour:kt,minute:dn,second:Pn,millisecond:Qn},je)}static fromJSDate(je,et={}){const ct=function Dt(nt){return"[object Date]"===Object.prototype.toString.call(nt)}(je)?je.valueOf():NaN;if(Number.isNaN(ct))return qr.invalid("invalid input");const wt=Ct(et.zone,Fn.defaultZone);return wt.isValid?new qr({ts:ct,zone:wt,loc:mt.fromObject(et)}):qr.invalid(Md(wt))}static fromMillis(je,et={}){if(rr(je))return je<-Vi||je>Vi?qr.invalid("Timestamp out of range"):new qr({ts:je,zone:Ct(et.zone,Fn.defaultZone),loc:mt.fromObject(et)});throw new ee(`fromMillis requires a numerical input, but received a ${typeof je} with value ${je}`)}static fromSeconds(je,et={}){if(rr(je))return new qr({ts:1e3*je,zone:Ct(et.zone,Fn.defaultZone),loc:mt.fromObject(et)});throw new ee("fromSeconds requires a numerical input")}static fromObject(je,et={}){je=je||{};const ct=Ct(et.zone,Fn.defaultZone);if(!ct.isValid)return qr.invalid(Md(ct));const wt=Fn.now(),Kt=zn(et.specificOffset)?ct.offset(wt):et.specificOffset,kt=ti(je,Ah),dn=!zn(kt.ordinal),Pn=!zn(kt.year),Qn=!zn(kt.month)||!zn(kt.day),ii=Pn||Qn,Oi=kt.weekYear||kt.weekNumber,vs=mt.fromObject(et);if((ii||dn)&&Oi)throw new k("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Qn&&dn)throw new k("Can't mix ordinal dates with month/day");const Cr=Oi||kt.weekday&&!ii;let ms,Sl,ia=Tc(wt,Kt);Cr?(ms=j0,Sl=Mu,ia=Ml(ia)):dn?(ms=gf,Sl=ra,ia=Ja(ia)):(ms=Oh,Sl=Zl);let Pc=!1;for(const Gl of ms)zn(kt[Gl])?kt[Gl]=Pc?Sl[Gl]:ia[Gl]:Pc=!0;const xh=Cr?function Cc(nt){const je=mr(nt.weekYear),et=un(nt.weekNumber,1,Yt(nt.weekYear)),ct=un(nt.weekday,1,7);return je?et?!ct&&lo("weekday",nt.weekday):lo("week",nt.week):lo("weekYear",nt.weekYear)}(kt):dn?function kl(nt){const je=mr(nt.year),et=un(nt.ordinal,1,Rn(nt.year));return je?!et&&lo("ordinal",nt.ordinal):lo("year",nt.year)}(kt):na(kt),Rh=xh||zl(kt);if(Rh)return qr.invalid(Rh);const Sd=Cr?Cd(kt):dn?Vs(kt):kt,[Ef,Uo]=Aa(Sd,Kt,ct),Tu=new qr({ts:Ef,zone:ct,o:Uo,loc:vs});return kt.weekday&&ii&&je.weekday!==Tu.weekday?qr.invalid("mismatched weekday",`you can't specify both a weekday of ${kt.weekday} and a date of ${Tu.toISO()}`):Tu}static fromISO(je,et={}){const[ct,wt]=function yn(nt){return xt(nt,[st,At],[ht,Zt],[Mt,nn],[Nt,fn])}(je);return bu(ct,wt,et,"ISO 8601",je)}static fromRFC2822(je,et={}){const[ct,wt]=function Sn(nt){return xt(function An(nt){return nt.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(nt),[Ft,hn])}(je);return bu(ct,wt,et,"RFC 2822",je)}static fromHTTP(je,et={}){const[ct,wt]=function Vn(nt){return xt(nt,[Wr,js],[$i,js],[Di,va])}(je);return bu(ct,wt,et,"HTTP",et)}static fromFormat(je,et,ct={}){if(zn(je)||zn(et))throw new ee("fromFormat requires an input string and a format");const{locale:wt=null,numberingSystem:Kt=null}=ct,kt=mt.fromOpts({locale:wt,numberingSystem:Kt,defaultToEN:!0}),[dn,Pn,Qn,ii]=function bl(nt,je,et){const{result:ct,zone:wt,specificOffset:Kt,invalidReason:kt}=jo(nt,je,et);return[ct,wt,Kt,kt]}(kt,je,et);return ii?qr.invalid(ii):bu(dn,Pn,ct,`format ${et}`,je,Qn)}static fromString(je,et,ct={}){return qr.fromFormat(je,et,ct)}static fromSQL(je,et={}){const[ct,wt]=function Bl(nt){return xt(nt,[Us,At],[oo,ps])}(je);return bu(ct,wt,et,"SQL",je)}static invalid(je,et=null){if(!je)throw new ee("need to specify a reason the DateTime is invalid");const ct=je instanceof di?je:new di(je,et);if(Fn.throwOnInvalid)throw new O(ct);return new qr({invalid:ct})}static isDateTime(je){return je&&je.isLuxonDateTime||!1}static parseFormatForOpts(je,et={}){const ct=Bs(je,mt.fromObject(et));return ct?ct.map(wt=>wt?wt.val:null).join(""):null}static expandFormat(je,et={}){return rs(ur.parseFormat(je),mt.fromObject(et)).map(wt=>wt.val).join("")}get(je){return this[je]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Mc(this).weekYear:NaN}get weekNumber(){return this.isValid?Mc(this).weekNumber:NaN}get weekday(){return this.isValid?Mc(this).weekday:NaN}get ordinal(){return this.isValid?Ja(this.c).ordinal:NaN}get monthShort(){return this.isValid?_d.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?_d.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?_d.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?_d.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Qt(this.year)}get daysInMonth(){return yt(this.year,this.month)}get daysInYear(){return this.isValid?Rn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Yt(this.weekYear):NaN}resolvedLocaleOptions(je={}){const{locale:et,numberingSystem:ct,calendar:wt}=ur.create(this.loc.clone(je),je).resolvedOptions(this);return{locale:et,numberingSystem:ct,outputCalendar:wt}}toUTC(je=0,et={}){return this.setZone(ut.instance(je),et)}toLocal(){return this.setZone(Fn.defaultZone)}setZone(je,{keepLocalTime:et=!1,keepCalendarTime:ct=!1}={}){if((je=Ct(je,Fn.defaultZone)).equals(this.zone))return this;if(je.isValid){let wt=this.ts;if(et||ct){const Kt=je.offset(this.ts),kt=this.toObject();[wt]=Aa(kt,Kt,je)}return $l(this,{ts:wt,zone:je})}return qr.invalid(Md(je))}reconfigure({locale:je,numberingSystem:et,outputCalendar:ct}={}){return $l(this,{loc:this.loc.clone({locale:je,numberingSystem:et,outputCalendar:ct})})}setLocale(je){return this.reconfigure({locale:je})}set(je){if(!this.isValid)return this;const et=ti(je,Ah),ct=!zn(et.weekYear)||!zn(et.weekNumber)||!zn(et.weekday),wt=!zn(et.ordinal),Kt=!zn(et.year),kt=!zn(et.month)||!zn(et.day);if((Kt||kt||wt)&&(et.weekYear||et.weekNumber))throw new k("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(kt&&wt)throw new k("Can't mix ordinal dates with month/day");let Qn;ct?Qn=Cd({...Ml(this.c),...et}):zn(et.ordinal)?(Qn={...this.toObject(),...et},zn(et.day)&&(Qn.day=Math.min(yt(Qn.year,Qn.month),Qn.day))):Qn=Vs({...Ja(this.c),...et});const[ii,Oi]=Aa(Qn,this.o,this.zone);return $l(this,{ts:ii,o:Oi})}plus(je){return this.isValid?$l(this,Ys(this,vi.fromDurationLike(je))):this}minus(je){return this.isValid?$l(this,Ys(this,vi.fromDurationLike(je).negate())):this}startOf(je){if(!this.isValid)return this;const et={},ct=vi.normalizeUnit(je);switch(ct){case"years":et.month=1;case"quarters":case"months":et.day=1;case"weeks":case"days":et.hour=0;case"hours":et.minute=0;case"minutes":et.second=0;case"seconds":et.millisecond=0}if("weeks"===ct&&(et.weekday=1),"quarters"===ct){const wt=Math.ceil(this.month/3);et.month=3*(wt-1)+1}return this.set(et)}endOf(je){return this.isValid?this.plus({[je]:1}).startOf(je).minus(1):this}toFormat(je,et={}){return this.isValid?ur.create(this.loc.redefaultToEN(et)).formatDateTimeFromString(this,je):Eu}toLocaleString(je=ae,et={}){return this.isValid?ur.create(this.loc.clone(et),je).formatDateTime(this):Eu}toLocaleParts(je={}){return this.isValid?ur.create(this.loc.clone(je),je).formatDateTimeParts(this):[]}toISO({format:je="extended",suppressSeconds:et=!1,suppressMilliseconds:ct=!1,includeOffset:wt=!0,extendedZone:Kt=!1}={}){if(!this.isValid)return null;const kt="extended"===je;let dn=So(this,kt);return dn+="T",dn+=Cu(this,kt,et,ct,wt,Kt),dn}toISODate({format:je="extended"}={}){return this.isValid?So(this,"extended"===je):null}toISOWeekDate(){return Js(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:je=!1,suppressSeconds:et=!1,includeOffset:ct=!0,includePrefix:wt=!1,extendedZone:Kt=!1,format:kt="extended"}={}){return this.isValid?(wt?"T":"")+Cu(this,"extended"===kt,et,je,ct,Kt):null}toRFC2822(){return Js(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Js(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?So(this,!0):null}toSQLTime({includeOffset:je=!0,includeZone:et=!1,includeOffsetSpace:ct=!0}={}){let wt="HH:mm:ss.SSS";return(et||je)&&(ct&&(wt+=" "),et?wt+="z":je&&(wt+="ZZ")),Js(this,wt,!0)}toSQL(je={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(je)}`:null}toString(){return this.isValid?this.toISO():Eu}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(je={}){if(!this.isValid)return{};const et={...this.c};return je.includeConfig&&(et.outputCalendar=this.outputCalendar,et.numberingSystem=this.loc.numberingSystem,et.locale=this.loc.locale),et}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(je,et="milliseconds",ct={}){if(!this.isValid||!je.isValid)return vi.invalid("created by diffing an invalid DateTime");const wt={locale:this.locale,numberingSystem:this.numberingSystem,...ct},Kt=function Ht(nt){return Array.isArray(nt)?nt:[nt]}(et).map(vi.normalizeUnit),kt=je.valueOf()>this.valueOf(),Qn=function Ia(nt,je,et,ct){let[wt,Kt,kt,dn]=function ea(nt,je,et){const ct=[["years",(Pn,Qn)=>Qn.year-Pn.year],["quarters",(Pn,Qn)=>Qn.quarter-Pn.quarter+4*(Qn.year-Pn.year)],["months",(Pn,Qn)=>Qn.month-Pn.month+12*(Qn.year-Pn.year)],["weeks",(Pn,Qn)=>{const ii=mf(Pn,Qn);return(ii-ii%7)/7}],["days",mf]],wt={},Kt=nt;let kt,dn;for(const[Pn,Qn]of ct)et.indexOf(Pn)>=0&&(kt=Pn,wt[Pn]=Qn(nt,je),dn=Kt.plus(wt),dn>je?(wt[Pn]--,nt=Kt.plus(wt)):nt=dn);return[nt,wt,dn,kt]}(nt,je,et);const Pn=je-wt,Qn=et.filter(Oi=>["hours","minutes","seconds","milliseconds"].indexOf(Oi)>=0);0===Qn.length&&(kt<je&&(kt=wt.plus({[dn]:1})),kt!==wt&&(Kt[dn]=(Kt[dn]||0)+Pn/(kt-wt)));const ii=vi.fromObject(Kt,ct);return Qn.length>0?vi.fromMillis(Pn,ct).shiftTo(...Qn).plus(ii):ii}(kt?this:je,kt?je:this,Kt,wt);return kt?Qn.negate():Qn}diffNow(je="milliseconds",et={}){return this.diff(qr.now(),je,et)}until(je){return this.isValid?Ti.fromDateTimes(this,je):this}hasSame(je,et){if(!this.isValid)return!1;const ct=je.valueOf(),wt=this.setZone(je.zone,{keepLocalTime:!0});return wt.startOf(et)<=ct&&ct<=wt.endOf(et)}equals(je){return this.isValid&&je.isValid&&this.valueOf()===je.valueOf()&&this.zone.equals(je.zone)&&this.loc.equals(je.loc)}toRelative(je={}){if(!this.isValid)return null;const et=je.base||qr.fromObject({},{zone:this.zone}),ct=je.padding?this<et?-je.padding:je.padding:0;let wt=["years","months","days","hours","minutes","seconds"],Kt=je.unit;return Array.isArray(je.unit)&&(wt=je.unit,Kt=void 0),vf(et,this.plus(ct),{...je,numeric:"always",units:wt,unit:Kt})}toRelativeCalendar(je={}){return this.isValid?vf(je.base||qr.fromObject({},{zone:this.zone}),this,{...je,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...je){if(!je.every(qr.isDateTime))throw new ee("min requires all arguments be DateTimes");return on(je,et=>et.valueOf(),Math.min)}static max(...je){if(!je.every(qr.isDateTime))throw new ee("max requires all arguments be DateTimes");return on(je,et=>et.valueOf(),Math.max)}static fromFormatExplain(je,et,ct={}){const{locale:wt=null,numberingSystem:Kt=null}=ct;return jo(mt.fromOpts({locale:wt,numberingSystem:Kt,defaultToEN:!0}),je,et)}static fromStringExplain(je,et,ct={}){return qr.fromFormatExplain(je,et,ct)}static get DATE_SHORT(){return ae}static get DATE_MED(){return se}static get DATE_MED_WITH_WEEKDAY(){return ie}static get DATE_FULL(){return te}static get DATE_HUGE(){return Q}static get TIME_SIMPLE(){return V}static get TIME_WITH_SECONDS(){return U}static get TIME_WITH_SHORT_OFFSET(){return $}static get TIME_WITH_LONG_OFFSET(){return z}static get TIME_24_SIMPLE(){return J}static get TIME_24_WITH_SECONDS(){return q}static get TIME_24_WITH_SHORT_OFFSET(){return oe}static get TIME_24_WITH_LONG_OFFSET(){return pe}static get DATETIME_SHORT(){return de}static get DATETIME_SHORT_WITH_SECONDS(){return be}static get DATETIME_MED(){return me}static get DATETIME_MED_WITH_SECONDS(){return _e}static get DATETIME_MED_WITH_WEEKDAY(){return le}static get DATETIME_FULL(){return fe}static get DATETIME_FULL_WITH_SECONDS(){return Ee}static get DATETIME_HUGE(){return ye}static get DATETIME_HUGE_WITH_SECONDS(){return ue}}function Su(nt){if(qr.isDateTime(nt))return nt;if(nt&&nt.valueOf&&rr(nt.valueOf()))return qr.fromJSDate(nt);if(nt&&"object"==typeof nt)return qr.fromObject(nt);throw new ee(`Unknown datetime argument: ${nt}, of type ${typeof nt}`)}},15861:(j,F,T)=>{"use strict";function w(W,B,k,re,ee,Z,G){try{var Y=W[Z](G),ne=Y.value}catch(ae){return void k(ae)}Y.done?B(ne):Promise.resolve(ne).then(re,ee)}function O(W){return function(){var B=this,k=arguments;return new Promise(function(re,ee){var Z=W.apply(B,k);function G(ne){w(Z,re,ee,G,Y,"next",ne)}function Y(ne){w(Z,re,ee,G,Y,"throw",ne)}G(void 0)})}}T.d(F,{Z:()=>O})}},j=>{j(j.s=99344)}]);