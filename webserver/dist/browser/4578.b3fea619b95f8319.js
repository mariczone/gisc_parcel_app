"use strict";(self.webpackChunkparcel_app=self.webpackChunkparcel_app||[]).push([[4578],{24578:(p,L,n)=>{n.r(L),n.d(L,{fromUrl:()=>R});var e=n(15861),v=n(26584),t=n(62208),r=n(21726),g=n(38305),i=n(17196),P=n(72469),I=n(30164),h=n(45205);const T={FeatureLayer:!0,SceneLayer:!0};function R(l){return M.apply(this,arguments)}function M(){return(M=(0,e.Z)(function*(l){const o=l.properties?.customParameters,a=yield B(l.url,o),s={...l.properties,url:l.url};if(!a.sublayerIds)return null!=a.layerOrTableId&&(s.layerId=a.layerOrTableId,s.sourceJSON=a.sourceJSON),new a.Constructor(s);const u=new((yield n.e(5964).then(n.bind(n,25964))).default)({title:a.parsedUrl.title});return j(u,a,s),u})).apply(this,arguments)}function W(l,o){return l?l.find(a=>a.id===o):null}function j(l,o,a){function s(u,y){const d={...a,layerId:u,sublayerTitleMode:"service-name"};return(0,t.pC)(y)&&(d.sourceJSON=y),new o.Constructor(d)}o.sublayerIds.forEach(u=>{const y=s(u,W(o.sublayerInfos,u));l.add(y)}),o.tableIds.forEach(u=>{const y=s(u,W(o.tableInfos,u));l.tables.add(y)})}function B(l,o){return E.apply(this,arguments)}function E(){return(E=(0,e.Z)(function*(l,o){let a=(0,g.Qc)(l);if((0,t.Wi)(a)&&(a=yield K(l,o)),(0,t.Wi)(a))throw new v.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:l});const{serverType:s,sublayer:u}=a;let y;const d={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(s){case"MapServer":y=null!=u?"FeatureLayer":(yield N(l,o))?"TileLayer":"MapImageLayer";break;case"ImageServer":{const f=yield(0,h.T)(l,{customParameters:o}),{tileInfo:O,cacheType:S}=f;y=O?"LERC"!==O?.format?.toUpperCase()||S&&"elevation"!==S.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer";break}case"SceneServer":{const f=yield(0,h.T)(a.url.path,{customParameters:o});if(y="SceneLayer",f){const O=f?.layers;if("Voxel"===f?.layerType)y="VoxelLayer";else if(O?.length){const S=O[0]?.layerType;null!=S&&null!=P.fb[S]&&(y=P.fb[S])}}break}default:y=d[s]}const m="FeatureServer"===s,c={parsedUrl:a,Constructor:null,layerOrTableId:m?u:void 0,sublayerIds:null,tableIds:null};if(T[y]&&null==u){const f=yield F(l,s,o);m&&(c.sublayerInfos=f.layerInfos,c.tableInfos=f.tableInfos),f.layerIds.length+f.tableIds.length!==1?(c.sublayerIds=f.layerIds,c.tableIds=f.tableIds):m&&(c.layerOrTableId=f.layerIds[0]??f.tableIds[0],c.sourceJSON=f.layerInfos?.[0]??f.tableInfos?.[0])}return c.Constructor=yield G(y),c})).apply(this,arguments)}function K(l,o){return Z.apply(this,arguments)}function Z(){return(Z=(0,e.Z)(function*(l,o){const a=yield(0,h.T)(l,{customParameters:o});let s=null,u=null;const y=a.type;if("Feature Layer"===y||"Table"===y?(s="FeatureServer",u=a.id??null):"indexedVector"===y?s="VectorTileServer":a.hasOwnProperty("mapName")?s="MapServer":a.hasOwnProperty("bandCount")&&a.hasOwnProperty("pixelSizeX")?s="ImageServer":a.hasOwnProperty("maxRecordCount")&&a.hasOwnProperty("allowGeometryUpdates")?s="FeatureServer":a.hasOwnProperty("streamUrls")?s="StreamServer":x(a)?(s="SceneServer",u=a.id):a.hasOwnProperty("layers")&&x(a.layers?.[0])&&(s="SceneServer"),!s)return null;const d=null!=u?(0,g.DR)(l):null;return{title:(0,t.pC)(d)&&a.name||(0,r.vt)(l),serverType:s,sublayer:u,url:{path:(0,t.pC)(d)?d.serviceUrl:(0,r.mN)(l).path}}})).apply(this,arguments)}function x(l){return null!=l&&l.hasOwnProperty("store")&&l.hasOwnProperty("id")&&"number"==typeof l.id}function F(l,o,a){return C.apply(this,arguments)}function C(){return(C=(0,e.Z)(function*(l,o,a){let s,u=!1;if("FeatureServer"===o){const m=yield(0,i.V)(l,{customParameters:a});u=!!m.layersJSON,s=m.layersJSON||m.serviceJSON}else s=yield(0,h.T)(l,{customParameters:a});const y=s?.layers,d=s?.tables;return{layerIds:y?.map(m=>m.id).reverse()||[],tableIds:d?.map(m=>m.id).reverse()||[],layerInfos:u?y:[],tableInfos:u?d:[]}})).apply(this,arguments)}function G(l){return D.apply(this,arguments)}function D(){return(D=(0,e.Z)(function*(l){return(0,I.T[l])()})).apply(this,arguments)}function N(l,o){return U.apply(this,arguments)}function U(){return(U=(0,e.Z)(function*(l,o){return(yield(0,h.T)(l,{customParameters:o})).tileInfo})).apply(this,arguments)}},17196:(p,L,n)=>{n.d(L,{V:()=>t});var e=n(15861),v=n(45205);function t(i,P){return r.apply(this,arguments)}function r(){return(r=(0,e.Z)(function*(i,P){const I=yield(0,v.T)(i,P);I.layers=I.layers.filter(g);const h={serviceJSON:I};if((I.currentVersion??0)<10.5)return h;const T=yield(0,v.T)(i+"/layers",P);return h.layersJSON={layers:T.layers.filter(g),tables:T.tables},h})).apply(this,arguments)}function g(i){return!i.type||"Feature Layer"===i.type}},30164:(p,L,n)=>{n.d(L,{T:()=>v});var e=n(15861);const v={BingMapsLayer:(t=(0,e.Z)(function*(){return(yield n.e(2248).then(n.bind(n,72248))).default}),function(){return t.apply(this,arguments)}),BuildingSceneLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(14),n.e(2455),n.e(7805),n.e(8707),n.e(9319)]).then(n.bind(n,19319))).default});return function(){return t.apply(this,arguments)}}(),CSVLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(5625).then(n.bind(n,85625))).default});return function(){return t.apply(this,arguments)}}(),DimensionLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(326)]).then(n.bind(n,90326))).default});return function(){return t.apply(this,arguments)}}(),ElevationLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(1676)]).then(n.bind(n,179))).default});return function(){return t.apply(this,arguments)}}(),FeatureLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,80415))).default});return function(){return t.apply(this,arguments)}}(),GeoJSONLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(2903).then(n.bind(n,72903))).default});return function(){return t.apply(this,arguments)}}(),GeoRSSLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6306).then(n.bind(n,96306))).default});return function(){return t.apply(this,arguments)}}(),GroupLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(5964).then(n.bind(n,25964))).default});return function(){return t.apply(this,arguments)}}(),ImageryLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(6926),n.e(2863),n.e(1913),n.e(9400)]).then(n.bind(n,99400))).default});return function(){return t.apply(this,arguments)}}(),ImageryTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(6926),n.e(8594),n.e(2863),n.e(580),n.e(1913),n.e(8592),n.e(148)]).then(n.bind(n,10148))).default});return function(){return t.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2455),n.e(8592),n.e(1370)]).then(n.bind(n,31370))).default});return function(){return t.apply(this,arguments)}}(),KMLLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(8411)]).then(n.bind(n,38411))).default});return function(){return t.apply(this,arguments)}}(),LineOfSightLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(685)]).then(n.bind(n,83602))).default});return function(){return t.apply(this,arguments)}}(),MapImageLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(5485),n.e(8592),n.e(7948)]).then(n.bind(n,48887))).default});return function(){return t.apply(this,arguments)}}(),MapNotesLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9859)]).then(n.bind(n,19859))).default});return function(){return t.apply(this,arguments)}}(),MediaLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9347)]).then(n.bind(n,24762))).default});return function(){return t.apply(this,arguments)}}(),OGCFeatureLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(9628),n.e(2955)]).then(n.bind(n,36554))).default});return function(){return t.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5980)]).then(n.bind(n,71591))).default});return function(){return t.apply(this,arguments)}}(),OrientedImageryLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(725).then(n.bind(n,60725))).default});return function(){return t.apply(this,arguments)}}(),PointCloudLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2455),n.e(8592),n.e(7155)]).then(n.bind(n,7155))).default});return function(){return t.apply(this,arguments)}}(),RouteLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(403),n.e(4940)]).then(n.bind(n,84940))).default});return function(){return t.apply(this,arguments)}}(),SceneLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(14),n.e(2455),n.e(7805),n.e(8707),n.e(8592),n.e(7559)]).then(n.bind(n,27559))).default});return function(){return t.apply(this,arguments)}}(),StreamLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(289).then(n.bind(n,70289))).default});return function(){return t.apply(this,arguments)}}(),SubtypeGroupLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(465).then(n.bind(n,20465))).default});return function(){return t.apply(this,arguments)}}(),TileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(5485),n.e(8592),n.e(9735)]).then(n.bind(n,59735))).default});return function(){return t.apply(this,arguments)}}(),UnknownLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6339).then(n.bind(n,56339))).default});return function(){return t.apply(this,arguments)}}(),UnsupportedLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6240).then(n.bind(n,16240))).default});return function(){return t.apply(this,arguments)}}(),VectorTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8364),n.e(8592),n.e(443)]).then(n.bind(n,10193))).default});return function(){return t.apply(this,arguments)}}(),VoxelLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2455),n.e(8592),n.e(6007)]).then(n.bind(n,26007))).default});return function(){return t.apply(this,arguments)}}(),WFSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(3774),n.e(8762)]).then(n.bind(n,98762))).default});return function(){return t.apply(this,arguments)}}(),WMSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(6894)]).then(n.bind(n,46894))).default});return function(){return t.apply(this,arguments)}}(),WMTSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4223)]).then(n.bind(n,64223))).default});return function(){return t.apply(this,arguments)}}(),WebTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(7351)]).then(n.bind(n,28678))).default});return function(){return t.apply(this,arguments)}}()};var t},45205:(p,L,n)=>{n.d(L,{T:()=>t});var e=n(15861),v=n(84792);function t(g,i){return r.apply(this,arguments)}function r(){return(r=(0,e.Z)(function*(g,i){const{data:P}=yield(0,v.default)(g,{responseType:"json",query:{f:"json",...i?.customParameters,token:i?.apiKey}});return P})).apply(this,arguments)}}}]);